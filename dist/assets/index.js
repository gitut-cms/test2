(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yZ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var jE={exports:{}},jg={},BE={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8;function vZ(){if(a8)return yn;a8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=y.prototype;function x(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}var w=x.prototype=new _;w.constructor=x,v(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function k(B,j,q){var X,Q={},te=null,ae=null;if(j!=null)for(X in j.ref!==void 0&&(ae=j.ref),j.key!==void 0&&(te=""+j.key),j)S.call(j,X)&&!D.hasOwnProperty(X)&&(Q[X]=j[X]);var ue=arguments.length-2;if(ue===1)Q.children=q;else if(1<ue){for(var de=Array(ue),Se=0;Se<ue;Se++)de[Se]=arguments[Se+2];Q.children=de}if(B&&B.defaultProps)for(X in ue=B.defaultProps,ue)Q[X]===void 0&&(Q[X]=ue[X]);return{$$typeof:t,type:B,key:te,ref:ae,props:Q,_owner:R.current}}function I(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(q){return j[q]})}var N=/\/+/g;function O(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function U(B,j,q,X,Q){var te=typeof B;(te==="undefined"||te==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(te){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case t:case e:ae=!0}}if(ae)return ae=B,Q=Q(ae),B=X===""?"."+O(ae,0):X,C(Q)?(q="",B!=null&&(q=B.replace(N,"$&/")+"/"),U(Q,j,q,"",function(Se){return Se})):Q!=null&&(F(Q)&&(Q=I(Q,q+(!Q.key||ae&&ae.key===Q.key?"":(""+Q.key).replace(N,"$&/")+"/")+B)),j.push(Q)),1;if(ae=0,X=X===""?".":X+":",C(B))for(var ue=0;ue<B.length;ue++){te=B[ue];var de=X+O(te,ue);ae+=U(te,j,q,de,Q)}else if(de=h(B),typeof de=="function")for(B=de.call(B),ue=0;!(te=B.next()).done;)te=te.value,de=X+O(te,ue++),ae+=U(te,j,q,de,Q);else if(te==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ae}function H(B,j,q){if(B==null)return B;var X=[],Q=0;return U(B,X,"","",function(te){return j.call(q,te,Q++)}),X}function G(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(q){(B._status===0||B._status===-1)&&(B._status=1,B._result=q)},function(q){(B._status===0||B._status===-1)&&(B._status=2,B._result=q)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},Z={transition:null},z={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Z,ReactCurrentOwner:R};function Y(){throw Error("act(...) is not supported in production builds of React.")}return yn.Children={map:H,forEach:function(B,j,q){H(B,function(){j.apply(this,arguments)},q)},count:function(B){var j=0;return H(B,function(){j++}),j},toArray:function(B){return H(B,function(j){return j})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},yn.Component=y,yn.Fragment=n,yn.Profiler=i,yn.PureComponent=x,yn.StrictMode=r,yn.Suspense=l,yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,yn.act=Y,yn.cloneElement=function(B,j,q){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var X=v({},B.props),Q=B.key,te=B.ref,ae=B._owner;if(j!=null){if(j.ref!==void 0&&(te=j.ref,ae=R.current),j.key!==void 0&&(Q=""+j.key),B.type&&B.type.defaultProps)var ue=B.type.defaultProps;for(de in j)S.call(j,de)&&!D.hasOwnProperty(de)&&(X[de]=j[de]===void 0&&ue!==void 0?ue[de]:j[de])}var de=arguments.length-2;if(de===1)X.children=q;else if(1<de){ue=Array(de);for(var Se=0;Se<de;Se++)ue[Se]=arguments[Se+2];X.children=ue}return{$$typeof:t,type:B.type,key:Q,ref:te,props:X,_owner:ae}},yn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},yn.createElement=k,yn.createFactory=function(B){var j=k.bind(null,B);return j.type=B,j},yn.createRef=function(){return{current:null}},yn.forwardRef=function(B){return{$$typeof:o,render:B}},yn.isValidElement=F,yn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:G}},yn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},yn.startTransition=function(B){var j=Z.transition;Z.transition={};try{B()}finally{Z.transition=j}},yn.unstable_act=Y,yn.useCallback=function(B,j){return J.current.useCallback(B,j)},yn.useContext=function(B){return J.current.useContext(B)},yn.useDebugValue=function(){},yn.useDeferredValue=function(B){return J.current.useDeferredValue(B)},yn.useEffect=function(B,j){return J.current.useEffect(B,j)},yn.useId=function(){return J.current.useId()},yn.useImperativeHandle=function(B,j,q){return J.current.useImperativeHandle(B,j,q)},yn.useInsertionEffect=function(B,j){return J.current.useInsertionEffect(B,j)},yn.useLayoutEffect=function(B,j){return J.current.useLayoutEffect(B,j)},yn.useMemo=function(B,j){return J.current.useMemo(B,j)},yn.useReducer=function(B,j,q){return J.current.useReducer(B,j,q)},yn.useRef=function(B){return J.current.useRef(B)},yn.useState=function(B){return J.current.useState(B)},yn.useSyncExternalStore=function(B,j,q){return J.current.useSyncExternalStore(B,j,q)},yn.useTransition=function(){return J.current.useTransition()},yn.version="18.3.1",yn}var o8;function u_(){return o8||(o8=1,BE.exports=vZ()),BE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l8;function xZ(){if(l8)return jg;l8=1;var t=u_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return jg.Fragment=n,jg.jsx=a,jg.jsxs=a,jg}var c8;function bZ(){return c8||(c8=1,jE.exports=xZ()),jE.exports}var d=bZ(),W=u_();const wl=c_(W);var mx={},VE={exports:{}},Zs={},WE={exports:{}},qE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u8;function _Z(){return u8||(u8=1,(function(t){function e(Z,z){var Y=Z.length;Z.push(z);e:for(;0<Y;){var B=Y-1>>>1,j=Z[B];if(0<i(j,z))Z[B]=z,Z[Y]=j,Y=B;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var z=Z[0],Y=Z.pop();if(Y!==z){Z[0]=Y;e:for(var B=0,j=Z.length,q=j>>>1;B<q;){var X=2*(B+1)-1,Q=Z[X],te=X+1,ae=Z[te];if(0>i(Q,Y))te<j&&0>i(ae,Q)?(Z[B]=ae,Z[te]=Y,B=te):(Z[B]=Q,Z[X]=Y,B=X);else if(te<j&&0>i(ae,Y))Z[B]=ae,Z[te]=Y,B=te;else break e}}return z}function i(Z,z){var Y=Z.sortIndex-z.sortIndex;return Y!==0?Y:Z.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=Z)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(Z){if(g=!1,w(Z),!v)if(n(l)!==null)v=!0,G(S);else{var z=n(c);z!==null&&J(C,z.startTime-Z)}}function S(Z,z){v=!1,g&&(g=!1,_(k),k=-1),p=!0;var Y=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||Z&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var X=n(c);X!==null&&J(C,X.startTime-z),q=!1}return q}finally{f=null,h=Y,p=!1}}var R=!1,D=null,k=-1,I=5,F=-1;function P(){return!(t.unstable_now()-F<I)}function N(){if(D!==null){var Z=t.unstable_now();F=Z;var z=!0;try{z=D(!0,Z)}finally{z?O():(R=!1,D=null)}}else R=!1}var O;if(typeof x=="function")O=function(){x(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=N,O=function(){H.postMessage(null)}}else O=function(){y(N,0)};function G(Z){D=Z,R||(R=!0,O())}function J(Z,z){k=y(function(){Z(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,G(S))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return Z()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,z){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Y=h;h=Z;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(Z,z,Y){var B=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?B+Y:B):Y=B,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Y+j,Z={id:u++,callback:z,priorityLevel:Z,startTime:Y,expirationTime:j,sortIndex:-1},Y>B?(Z.sortIndex=Y,e(c,Z),n(l)===null&&Z===n(c)&&(g?(_(k),k=-1):g=!0,J(C,Y-B))):(Z.sortIndex=j,e(l,Z),v||p||(v=!0,G(S))),Z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Z){var z=h;return function(){var Y=h;h=z;try{return Z.apply(this,arguments)}finally{h=Y}}}})(qE)),qE}var d8;function wZ(){return d8||(d8=1,WE.exports=_Z()),WE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f8;function TZ(){if(f8)return Zs;f8=1;var t=u_(),e=wZ();function n(m){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,b){a(m,b),a(m+"Capture",b)}function a(m,b){for(i[m]=b,m=0;m<b.length;m++)r.add(b[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,b,A,L){if(A!==null&&A.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return L?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,b,A,L){if(b===null||typeof b>"u"||p(m,b,A,L))return!0;if(L)return!1;if(A!==null)switch(A.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function g(m,b,A,L,K,ne,ve){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=L,this.attributeNamespace=K,this.mustUseProperty=A,this.propertyName=m,this.type=b,this.sanitizeURL=ne,this.removeEmptyString=ve}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var b=m[0];y[b]=new g(b,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function x(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,b,A,L){var K=y.hasOwnProperty(b)?y[b]:null;(K!==null?K.type!==0:L||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(v(b,A,K,L)&&(A=null),L||K===null?h(b)&&(A===null?m.removeAttribute(b):m.setAttribute(b,""+A)):K.mustUseProperty?m[K.propertyName]=A===null?K.type===3?!1:"":A:(b=K.attributeName,L=K.attributeNamespace,A===null?m.removeAttribute(b):(K=K.type,A=K===3||K===4&&A===!0?"":""+A,L?m.setAttributeNS(L,b,A):m.setAttribute(b,A))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),Z=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=Z&&m[Z]||m["@@iterator"],typeof m=="function"?m:null)}var Y=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(A){var b=A.stack.trim().match(/\n( *(at )?)/);B=b&&b[1]||""}return`
`+B+m}var q=!1;function X(m,b){if(!m||q)return"";q=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(et){var L=et}Reflect.construct(m,[],b)}else{try{b.call()}catch(et){L=et}m.call(b.prototype)}else{try{throw Error()}catch(et){L=et}m()}}catch(et){if(et&&L&&typeof et.stack=="string"){for(var K=et.stack.split(`
`),ne=L.stack.split(`
`),ve=K.length-1,Fe=ne.length-1;1<=ve&&0<=Fe&&K[ve]!==ne[Fe];)Fe--;for(;1<=ve&&0<=Fe;ve--,Fe--)if(K[ve]!==ne[Fe]){if(ve!==1||Fe!==1)do if(ve--,Fe--,0>Fe||K[ve]!==ne[Fe]){var Be=`
`+K[ve].replace(" at new "," at ");return m.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",m.displayName)),Be}while(1<=ve&&0<=Fe);break}}}finally{q=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?j(m):""}function Q(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=X(m.type,!1),m;case 11:return m=X(m.type.render,!1),m;case 1:return m=X(m.type,!0),m;default:return""}}function te(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case D:return"Fragment";case R:return"Portal";case I:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case U:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case F:return(m._context.displayName||"Context")+".Provider";case N:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case H:return b=m.displayName||null,b!==null?b:te(m.type)||"Memo";case G:b=m._payload,m=m._init;try{return te(m(b))}catch{}}return null}function ae(m){var b=m.type;switch(m.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=b.render,m=m.displayName||m.name||"",b.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(b);case 8:return b===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function ue(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function de(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Se(m){var b=de(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,b),L=""+m[b];if(!m.hasOwnProperty(b)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var K=A.get,ne=A.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return K.call(this)},set:function(ve){L=""+ve,ne.call(this,ve)}}),Object.defineProperty(m,b,{enumerable:A.enumerable}),{getValue:function(){return L},setValue:function(ve){L=""+ve},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function Pe(m){m._valueTracker||(m._valueTracker=Se(m))}function pe(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var A=b.getValue(),L="";return m&&(L=de(m)?m.checked?"true":"false":m.value),m=L,m!==A?(b.setValue(m),!0):!1}function je(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function V(m,b){var A=b.checked;return Y({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function xe(m,b){var A=b.defaultValue==null?"":b.defaultValue,L=b.checked!=null?b.checked:b.defaultChecked;A=ue(b.value!=null?b.value:A),m._wrapperState={initialChecked:L,initialValue:A,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function _e(m,b){b=b.checked,b!=null&&w(m,"checked",b,!1)}function le(m,b){_e(m,b);var A=ue(b.value),L=b.type;if(A!=null)L==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}b.hasOwnProperty("value")?oe(m,b.type,A):b.hasOwnProperty("defaultValue")&&oe(m,b.type,ue(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(m.defaultChecked=!!b.defaultChecked)}function re(m,b,A){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var L=b.type;if(!(L!=="submit"&&L!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+m._wrapperState.initialValue,A||b===m.value||(m.value=b),m.defaultValue=b}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function oe(m,b,A){(b!=="number"||je(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var fe=Array.isArray;function be(m,b,A,L){if(m=m.options,b){b={};for(var K=0;K<A.length;K++)b["$"+A[K]]=!0;for(A=0;A<m.length;A++)K=b.hasOwnProperty("$"+m[A].value),m[A].selected!==K&&(m[A].selected=K),K&&L&&(m[A].defaultSelected=!0)}else{for(A=""+ue(A),b=null,K=0;K<m.length;K++){if(m[K].value===A){m[K].selected=!0,L&&(m[K].defaultSelected=!0);return}b!==null||m[K].disabled||(b=m[K])}b!==null&&(b.selected=!0)}}function ie(m,b){if(b.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},b,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ce(m,b){var A=b.value;if(A==null){if(A=b.children,b=b.defaultValue,A!=null){if(b!=null)throw Error(n(92));if(fe(A)){if(1<A.length)throw Error(n(93));A=A[0]}b=A}b==null&&(b=""),A=b}m._wrapperState={initialValue:ue(A)}}function me(m,b){var A=ue(b.value),L=ue(b.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),b.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),L!=null&&(m.defaultValue=""+L)}function ge(m){var b=m.textContent;b===m._wrapperState.initialValue&&b!==""&&b!==null&&(m.value=b)}function De(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(m,b){return m==null||m==="http://www.w3.org/1999/xhtml"?De(b):m==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Te,Ue=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,A,L,K){MSApp.execUnsafeLocalFunction(function(){return m(b,A,L,K)})}:m})(function(m,b){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=b;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=Te.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;b.firstChild;)m.appendChild(b.firstChild)}});function Le(m,b){if(b){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=b;return}}m.textContent=b}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(m){lt.forEach(function(b){b=b+m.charAt(0).toUpperCase()+m.substring(1),Je[b]=Je[m]})});function ct(m,b,A){return b==null||typeof b=="boolean"||b===""?"":A||typeof b!="number"||b===0||Je.hasOwnProperty(m)&&Je[m]?(""+b).trim():b+"px"}function Bt(m,b){m=m.style;for(var A in b)if(b.hasOwnProperty(A)){var L=A.indexOf("--")===0,K=ct(A,b[A],L);A==="float"&&(A="cssFloat"),L?m.setProperty(A,K):m[A]=K}}var _n=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(m,b){if(b){if(_n[m]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(n(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(n(61))}if(b.style!=null&&typeof b.style!="object")throw Error(n(62))}}function ur(m,b){if(m.indexOf("-")===-1)return typeof b.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $n=null;function Ln(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Sn=null,At=null,Zt=null;function he(m){if(m=Eg(m)){if(typeof Sn!="function")throw Error(n(280));var b=m.stateNode;b&&(b=k1(b),Sn(m.stateNode,m.type,b))}}function we(m){At?Zt?Zt.push(m):Zt=[m]:At=m}function Me(){if(At){var m=At,b=Zt;if(Zt=At=null,he(m),b)for(m=0;m<b.length;m++)he(b[m])}}function Ge(m,b){return m(b)}function ft(){}var It=!1;function hn(m,b,A){if(It)return m(b,A);It=!0;try{return Ge(m,b,A)}finally{It=!1,(At!==null||Zt!==null)&&(ft(),Me())}}function an(m,b){var A=m.stateNode;if(A===null)return null;var L=k1(A);if(L===null)return null;A=L[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(n(231,b,typeof A));return A}var dr=!1;if(o)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){dr=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{dr=!1}function Jr(m,b,A,L,K,ne,ve,Fe,Be){var et=Array.prototype.slice.call(arguments,3);try{b.apply(A,et)}catch(mt){this.onError(mt)}}var Yr=!1,oi=null,ye=!1,ke=null,Ce={onError:function(m){Yr=!0,oi=m}};function Ae(m,b,A,L,K,ne,ve,Fe,Be){Yr=!1,oi=null,Jr.apply(Ce,arguments)}function Ne(m,b,A,L,K,ne,ve,Fe,Be){if(Ae.apply(this,arguments),Yr){if(Yr){var et=oi;Yr=!1,oi=null}else throw Error(n(198));ye||(ye=!0,ke=et)}}function Re(m){var b=m,A=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(A=b.return),m=b.return;while(m)}return b.tag===3?A:null}function $e(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function rt(m){if(Re(m)!==m)throw Error(n(188))}function Xe(m){var b=m.alternate;if(!b){if(b=Re(m),b===null)throw Error(n(188));return b!==m?null:m}for(var A=m,L=b;;){var K=A.return;if(K===null)break;var ne=K.alternate;if(ne===null){if(L=K.return,L!==null){A=L;continue}break}if(K.child===ne.child){for(ne=K.child;ne;){if(ne===A)return rt(K),m;if(ne===L)return rt(K),b;ne=ne.sibling}throw Error(n(188))}if(A.return!==L.return)A=K,L=ne;else{for(var ve=!1,Fe=K.child;Fe;){if(Fe===A){ve=!0,A=K,L=ne;break}if(Fe===L){ve=!0,L=K,A=ne;break}Fe=Fe.sibling}if(!ve){for(Fe=ne.child;Fe;){if(Fe===A){ve=!0,A=ne,L=K;break}if(Fe===L){ve=!0,L=ne,A=K;break}Fe=Fe.sibling}if(!ve)throw Error(n(189))}}if(A.alternate!==L)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?m:b}function Ye(m){return m=Xe(m),m!==null?Ze(m):null}function Ze(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var b=Ze(m);if(b!==null)return b;m=m.sibling}return null}var Ie=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,st=e.unstable_shouldYield,tt=e.unstable_requestPaint,Ve=e.unstable_now,ot=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,Lt=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,rr=e.unstable_LowPriority,zt=e.unstable_IdlePriority,on=null,ln=null;function $s(m){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(on,m,void 0,(m.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:l1,zs=Math.log,o1=Math.LN2;function l1(m){return m>>>=0,m===0?32:31-(zs(m)/o1|0)|0}var xh=64,bh=4194304;function Uc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function yd(m,b){var A=m.pendingLanes;if(A===0)return 0;var L=0,K=m.suspendedLanes,ne=m.pingedLanes,ve=A&268435455;if(ve!==0){var Fe=ve&~K;Fe!==0?L=Uc(Fe):(ne&=ve,ne!==0&&(L=Uc(ne)))}else ve=A&~K,ve!==0?L=Uc(ve):ne!==0&&(L=Uc(ne));if(L===0)return 0;if(b!==0&&b!==L&&(b&K)===0&&(K=L&-L,ne=b&-b,K>=ne||K===16&&(ne&4194240)!==0))return b;if((L&4)!==0&&(L|=A&16),b=m.entangledLanes,b!==0)for(m=m.entanglements,b&=L;0<b;)A=31-En(b),K=1<<A,L|=m[A],b&=~K;return L}function mT(m,b){switch(m){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(m,b){for(var A=m.suspendedLanes,L=m.pingedLanes,K=m.expirationTimes,ne=m.pendingLanes;0<ne;){var ve=31-En(ne),Fe=1<<ve,Be=K[ve];Be===-1?((Fe&A)===0||(Fe&L)!==0)&&(K[ve]=mT(Fe,b)):Be<=b&&(m.expiredLanes|=Fe),ne&=~Fe}}function ya(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function vd(){var m=xh;return xh<<=1,(xh&4194240)===0&&(xh=64),m}function Oc(m){for(var b=[],A=0;31>A;A++)b.push(m);return b}function Lc(m,b,A){m.pendingLanes|=b,b!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,b=31-En(b),m[b]=A}function tr(m,b){var A=m.pendingLanes&~b;m.pendingLanes=b,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=b,m.mutableReadLanes&=b,m.entangledLanes&=b,b=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<A;){var K=31-En(A),ne=1<<K;b[K]=0,L[K]=-1,m[K]=-1,A&=~ne}}function jc(m,b){var A=m.entangledLanes|=b;for(m=m.entanglements;A;){var L=31-En(A),K=1<<L;K&b|m[L]&b&&(m[L]|=b),A&=~K}}var Cn=0;function Bc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var c1,_h,u1,d1,f1,cg=!1,Ko=[],zi=null,yo=null,vo=null,Vc=new Map,La=new Map,Xo=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(m,b){switch(m){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Vc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(b.pointerId)}}function Hs(m,b,A,L,K,ne){return m===null||m.nativeEvent!==ne?(m={blockedOn:b,domEventName:A,eventSystemFlags:L,nativeEvent:ne,targetContainers:[K]},b!==null&&(b=Eg(b),b!==null&&_h(b)),m):(m.eventSystemFlags|=L,b=m.targetContainers,K!==null&&b.indexOf(K)===-1&&b.push(K),m)}function yT(m,b,A,L,K){switch(b){case"focusin":return zi=Hs(zi,m,b,A,L,K),!0;case"dragenter":return yo=Hs(yo,m,b,A,L,K),!0;case"mouseover":return vo=Hs(vo,m,b,A,L,K),!0;case"pointerover":var ne=K.pointerId;return Vc.set(ne,Hs(Vc.get(ne)||null,m,b,A,L,K)),!0;case"gotpointercapture":return ne=K.pointerId,La.set(ne,Hs(La.get(ne)||null,m,b,A,L,K)),!0}return!1}function p1(m){var b=Td(m.target);if(b!==null){var A=Re(b);if(A!==null){if(b=A.tag,b===13){if(b=$e(A),b!==null){m.blockedOn=b,f1(m.priority,function(){u1(A)});return}}else if(b===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function jl(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var A=wh(m.domEventName,m.eventSystemFlags,b[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var L=new A.constructor(A.type,A);$n=L,A.target.dispatchEvent(L),$n=null}else return b=Eg(A),b!==null&&_h(b),m.blockedOn=A,!1;b.shift()}return!0}function xd(m,b,A){jl(m)&&A.delete(b)}function m1(){cg=!1,zi!==null&&jl(zi)&&(zi=null),yo!==null&&jl(yo)&&(yo=null),vo!==null&&jl(vo)&&(vo=null),Vc.forEach(xd),La.forEach(xd)}function xo(m,b){m.blockedOn===b&&(m.blockedOn=null,cg||(cg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m1)))}function bo(m){function b(K){return xo(K,m)}if(0<Ko.length){xo(Ko[0],m);for(var A=1;A<Ko.length;A++){var L=Ko[A];L.blockedOn===m&&(L.blockedOn=null)}}for(zi!==null&&xo(zi,m),yo!==null&&xo(yo,m),vo!==null&&xo(vo,m),Vc.forEach(b),La.forEach(b),A=0;A<Xo.length;A++)L=Xo[A],L.blockedOn===m&&(L.blockedOn=null);for(;0<Xo.length&&(A=Xo[0],A.blockedOn===null);)p1(A),A.blockedOn===null&&Xo.shift()}var Bl=C.ReactCurrentBatchConfig,Wc=!0;function _r(m,b,A,L){var K=Cn,ne=Bl.transition;Bl.transition=null;try{Cn=1,ug(m,b,A,L)}finally{Cn=K,Bl.transition=ne}}function vT(m,b,A,L){var K=Cn,ne=Bl.transition;Bl.transition=null;try{Cn=4,ug(m,b,A,L)}finally{Cn=K,Bl.transition=ne}}function ug(m,b,A,L){if(Wc){var K=wh(m,b,A,L);if(K===null)NT(m,b,L,bd,A),h1(m,L);else if(yT(K,m,b,A,L))L.stopPropagation();else if(h1(m,L),b&4&&-1<gT.indexOf(m)){for(;K!==null;){var ne=Eg(K);if(ne!==null&&c1(ne),ne=wh(m,b,A,L),ne===null&&NT(m,b,L,bd,A),ne===K)break;K=ne}K!==null&&L.stopPropagation()}else NT(m,b,L,null,A)}}var bd=null;function wh(m,b,A,L){if(bd=null,m=Ln(L),m=Td(m),m!==null)if(b=Re(m),b===null)m=null;else if(A=b.tag,A===13){if(m=$e(b),m!==null)return m;m=null}else if(A===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null);return bd=m,null}function dg(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ot()){case xt:return 1;case Lt:return 4;case qt:case rr:return 16;case zt:return 536870912;default:return 16}default:return 16}}var va=null,Th=null,Gs=null;function fg(){if(Gs)return Gs;var m,b=Th,A=b.length,L,K="value"in va?va.value:va.textContent,ne=K.length;for(m=0;m<A&&b[m]===K[m];m++);var ve=A-m;for(L=1;L<=ve&&b[A-L]===K[ne-L];L++);return Gs=K.slice(m,1<L?1-L:void 0)}function Eh(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function Jo(){return!0}function hg(){return!1}function Hi(m){function b(A,L,K,ne,ve){this._reactName=A,this._targetInst=K,this.type=L,this.nativeEvent=ne,this.target=ve,this.currentTarget=null;for(var Fe in m)m.hasOwnProperty(Fe)&&(A=m[Fe],this[Fe]=A?A(ne):ne[Fe]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?Jo:hg,this.isPropagationStopped=hg,this}return Y(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),b}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=Hi(_o),Yo=Y({},_o,{view:0,detail:0}),xT=Hi(Yo),Sh,Vl,qc,_d=Y({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==qc&&(qc&&m.type==="mousemove"?(Sh=m.screenX-qc.screenX,Vl=m.screenY-qc.screenY):Vl=Sh=0,qc=m),Sh)},movementY:function(m){return"movementY"in m?m.movementY:Vl}}),Dh=Hi(_d),pg=Y({},_d,{dataTransfer:0}),g1=Hi(pg),Ah=Y({},Yo,{relatedTarget:0}),Nh=Hi(Ah),y1=Y({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=Hi(y1),v1=Y({},_o,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),x1=Hi(v1),b1=Y({},_o,{data:0}),mg=Hi(b1),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w1(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=_1[m])?!!b[m]:!1}function Qo(){return w1}var M=Y({},Yo,{key:function(m){if(m.key){var b=kh[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=Eh(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Ns[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(m){return m.type==="keypress"?Eh(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Eh(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),ee=Hi(M),se=Y({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ee=Hi(se),He=Y({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),it=Hi(He),Tt=Y({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),zn=Hi(Tt),gi=Y({},_d,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=Hi(gi),Ni=[9,13,27,32],li=o&&"CompositionEvent"in window,ja=null;o&&"documentMode"in document&&(ja=document.documentMode);var xa=o&&"TextEvent"in window&&!ja,wd=o&&(!li||ja&&8<ja&&11>=ja),Ih=" ",e5=!1;function t5(m,b){switch(m){case"keyup":return Ni.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n5(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Rh=!1;function pQ(m,b){switch(m){case"compositionend":return n5(b);case"keypress":return b.which!==32?null:(e5=!0,Ih);case"textInput":return m=b.data,m===Ih&&e5?null:m;default:return null}}function mQ(m,b){if(Rh)return m==="compositionend"||!li&&t5(m,b)?(m=fg(),Gs=Th=va=null,Rh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return wd&&b.locale!=="ko"?null:b.data;default:return null}}var gQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r5(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!gQ[m.type]:b==="textarea"}function i5(m,b,A,L){we(L),b=D1(b,"onChange"),0<b.length&&(A=new Ch("onChange","change",null,A,L),m.push({event:A,listeners:b}))}var gg=null,yg=null;function yQ(m){w5(m,0)}function T1(m){var b=Oh(m);if(pe(b))return m}function vQ(m,b){if(m==="change")return b}var s5=!1;if(o){var bT;if(o){var _T="oninput"in document;if(!_T){var a5=document.createElement("div");a5.setAttribute("oninput","return;"),_T=typeof a5.oninput=="function"}bT=_T}else bT=!1;s5=bT&&(!document.documentMode||9<document.documentMode)}function o5(){gg&&(gg.detachEvent("onpropertychange",l5),yg=gg=null)}function l5(m){if(m.propertyName==="value"&&T1(yg)){var b=[];i5(b,yg,m,Ln(m)),hn(yQ,b)}}function xQ(m,b,A){m==="focusin"?(o5(),gg=b,yg=A,gg.attachEvent("onpropertychange",l5)):m==="focusout"&&o5()}function bQ(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return T1(yg)}function _Q(m,b){if(m==="click")return T1(b)}function wQ(m,b){if(m==="input"||m==="change")return T1(b)}function TQ(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var wo=typeof Object.is=="function"?Object.is:TQ;function vg(m,b){if(wo(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var A=Object.keys(m),L=Object.keys(b);if(A.length!==L.length)return!1;for(L=0;L<A.length;L++){var K=A[L];if(!l.call(b,K)||!wo(m[K],b[K]))return!1}return!0}function c5(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function u5(m,b){var A=c5(m);m=0;for(var L;A;){if(A.nodeType===3){if(L=m+A.textContent.length,m<=b&&L>=b)return{node:A,offset:b-m};m=L}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=c5(A)}}function d5(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?d5(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function f5(){for(var m=window,b=je();b instanceof m.HTMLIFrameElement;){try{var A=typeof b.contentWindow.location.href=="string"}catch{A=!1}if(A)m=b.contentWindow;else break;b=je(m.document)}return b}function wT(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}function EQ(m){var b=f5(),A=m.focusedElem,L=m.selectionRange;if(b!==A&&A&&A.ownerDocument&&d5(A.ownerDocument.documentElement,A)){if(L!==null&&wT(A)){if(b=L.start,m=L.end,m===void 0&&(m=b),"selectionStart"in A)A.selectionStart=b,A.selectionEnd=Math.min(m,A.value.length);else if(m=(b=A.ownerDocument||document)&&b.defaultView||window,m.getSelection){m=m.getSelection();var K=A.textContent.length,ne=Math.min(L.start,K);L=L.end===void 0?ne:Math.min(L.end,K),!m.extend&&ne>L&&(K=L,L=ne,ne=K),K=u5(A,ne);var ve=u5(A,L);K&&ve&&(m.rangeCount!==1||m.anchorNode!==K.node||m.anchorOffset!==K.offset||m.focusNode!==ve.node||m.focusOffset!==ve.offset)&&(b=b.createRange(),b.setStart(K.node,K.offset),m.removeAllRanges(),ne>L?(m.addRange(b),m.extend(ve.node,ve.offset)):(b.setEnd(ve.node,ve.offset),m.addRange(b)))}}for(b=[],m=A;m=m.parentNode;)m.nodeType===1&&b.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<b.length;A++)m=b[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var CQ=o&&"documentMode"in document&&11>=document.documentMode,Ph=null,TT=null,xg=null,ET=!1;function h5(m,b,A){var L=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;ET||Ph==null||Ph!==je(L)||(L=Ph,"selectionStart"in L&&wT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),xg&&vg(xg,L)||(xg=L,L=D1(TT,"onSelect"),0<L.length&&(b=new Ch("onSelect","select",null,b,A),m.push({event:b,listeners:L}),b.target=Ph)))}function E1(m,b){var A={};return A[m.toLowerCase()]=b.toLowerCase(),A["Webkit"+m]="webkit"+b,A["Moz"+m]="moz"+b,A}var Fh={animationend:E1("Animation","AnimationEnd"),animationiteration:E1("Animation","AnimationIteration"),animationstart:E1("Animation","AnimationStart"),transitionend:E1("Transition","TransitionEnd")},CT={},p5={};o&&(p5=document.createElement("div").style,"AnimationEvent"in window||(delete Fh.animationend.animation,delete Fh.animationiteration.animation,delete Fh.animationstart.animation),"TransitionEvent"in window||delete Fh.transitionend.transition);function C1(m){if(CT[m])return CT[m];if(!Fh[m])return m;var b=Fh[m],A;for(A in b)if(b.hasOwnProperty(A)&&A in p5)return CT[m]=b[A];return m}var m5=C1("animationend"),g5=C1("animationiteration"),y5=C1("animationstart"),v5=C1("transitionend"),x5=new Map,b5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $c(m,b){x5.set(m,b),s(b,[m])}for(var ST=0;ST<b5.length;ST++){var DT=b5[ST],SQ=DT.toLowerCase(),DQ=DT[0].toUpperCase()+DT.slice(1);$c(SQ,"on"+DQ)}$c(m5,"onAnimationEnd"),$c(g5,"onAnimationIteration"),$c(y5,"onAnimationStart"),$c("dblclick","onDoubleClick"),$c("focusin","onFocus"),$c("focusout","onBlur"),$c(v5,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(bg));function _5(m,b,A){var L=m.type||"unknown-event";m.currentTarget=A,Ne(L,b,void 0,m),m.currentTarget=null}function w5(m,b){b=(b&4)!==0;for(var A=0;A<m.length;A++){var L=m[A],K=L.event;L=L.listeners;e:{var ne=void 0;if(b)for(var ve=L.length-1;0<=ve;ve--){var Fe=L[ve],Be=Fe.instance,et=Fe.currentTarget;if(Fe=Fe.listener,Be!==ne&&K.isPropagationStopped())break e;_5(K,Fe,et),ne=Be}else for(ve=0;ve<L.length;ve++){if(Fe=L[ve],Be=Fe.instance,et=Fe.currentTarget,Fe=Fe.listener,Be!==ne&&K.isPropagationStopped())break e;_5(K,Fe,et),ne=Be}}}if(ye)throw m=ke,ye=!1,ke=null,m}function fr(m,b){var A=b[MT];A===void 0&&(A=b[MT]=new Set);var L=m+"__bubble";A.has(L)||(T5(b,m,2,!1),A.add(L))}function AT(m,b,A){var L=0;b&&(L|=4),T5(A,m,L,b)}var S1="_reactListening"+Math.random().toString(36).slice(2);function _g(m){if(!m[S1]){m[S1]=!0,r.forEach(function(A){A!=="selectionchange"&&(AQ.has(A)||AT(A,!1,m),AT(A,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[S1]||(b[S1]=!0,AT("selectionchange",!1,b))}}function T5(m,b,A,L){switch(dg(b)){case 1:var K=_r;break;case 4:K=vT;break;default:K=ug}A=K.bind(null,b,A,m),K=void 0,!dr||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(K=!0),L?K!==void 0?m.addEventListener(b,A,{capture:!0,passive:K}):m.addEventListener(b,A,!0):K!==void 0?m.addEventListener(b,A,{passive:K}):m.addEventListener(b,A,!1)}function NT(m,b,A,L,K){var ne=L;if((b&1)===0&&(b&2)===0&&L!==null)e:for(;;){if(L===null)return;var ve=L.tag;if(ve===3||ve===4){var Fe=L.stateNode.containerInfo;if(Fe===K||Fe.nodeType===8&&Fe.parentNode===K)break;if(ve===4)for(ve=L.return;ve!==null;){var Be=ve.tag;if((Be===3||Be===4)&&(Be=ve.stateNode.containerInfo,Be===K||Be.nodeType===8&&Be.parentNode===K))return;ve=ve.return}for(;Fe!==null;){if(ve=Td(Fe),ve===null)return;if(Be=ve.tag,Be===5||Be===6){L=ne=ve;continue e}Fe=Fe.parentNode}}L=L.return}hn(function(){var et=ne,mt=Ln(A),yt=[];e:{var ht=x5.get(m);if(ht!==void 0){var Nt=Ch,Mt=m;switch(m){case"keypress":if(Eh(A)===0)break e;case"keydown":case"keyup":Nt=ee;break;case"focusin":Mt="focus",Nt=Nh;break;case"focusout":Mt="blur",Nt=Nh;break;case"beforeblur":case"afterblur":Nt=Nh;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=g1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=it;break;case m5:case g5:case y5:Nt=Wl;break;case v5:Nt=zn;break;case"scroll":Nt=xT;break;case"wheel":Nt=Dn;break;case"copy":case"cut":case"paste":Nt=x1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=Ee}var Ot=(b&4)!==0,Qr=!Ot&&m==="scroll",Ke=Ot?ht!==null?ht+"Capture":null:ht;Ot=[];for(var We=et,Qe;We!==null;){Qe=We;var bt=Qe.stateNode;if(Qe.tag===5&&bt!==null&&(Qe=bt,Ke!==null&&(bt=an(We,Ke),bt!=null&&Ot.push(wg(We,bt,Qe)))),Qr)break;We=We.return}0<Ot.length&&(ht=new Nt(ht,Mt,null,A,mt),yt.push({event:ht,listeners:Ot}))}}if((b&7)===0){e:{if(ht=m==="mouseover"||m==="pointerover",Nt=m==="mouseout"||m==="pointerout",ht&&A!==$n&&(Mt=A.relatedTarget||A.fromElement)&&(Td(Mt)||Mt[ql]))break e;if((Nt||ht)&&(ht=mt.window===mt?mt:(ht=mt.ownerDocument)?ht.defaultView||ht.parentWindow:window,Nt?(Mt=A.relatedTarget||A.toElement,Nt=et,Mt=Mt?Td(Mt):null,Mt!==null&&(Qr=Re(Mt),Mt!==Qr||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Nt=null,Mt=et),Nt!==Mt)){if(Ot=Dh,bt="onMouseLeave",Ke="onMouseEnter",We="mouse",(m==="pointerout"||m==="pointerover")&&(Ot=Ee,bt="onPointerLeave",Ke="onPointerEnter",We="pointer"),Qr=Nt==null?ht:Oh(Nt),Qe=Mt==null?ht:Oh(Mt),ht=new Ot(bt,We+"leave",Nt,A,mt),ht.target=Qr,ht.relatedTarget=Qe,bt=null,Td(mt)===et&&(Ot=new Ot(Ke,We+"enter",Mt,A,mt),Ot.target=Qe,Ot.relatedTarget=Qr,bt=Ot),Qr=bt,Nt&&Mt)t:{for(Ot=Nt,Ke=Mt,We=0,Qe=Ot;Qe;Qe=Mh(Qe))We++;for(Qe=0,bt=Ke;bt;bt=Mh(bt))Qe++;for(;0<We-Qe;)Ot=Mh(Ot),We--;for(;0<Qe-We;)Ke=Mh(Ke),Qe--;for(;We--;){if(Ot===Ke||Ke!==null&&Ot===Ke.alternate)break t;Ot=Mh(Ot),Ke=Mh(Ke)}Ot=null}else Ot=null;Nt!==null&&E5(yt,ht,Nt,Ot,!1),Mt!==null&&Qr!==null&&E5(yt,Qr,Mt,Ot,!0)}}e:{if(ht=et?Oh(et):window,Nt=ht.nodeName&&ht.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&ht.type==="file")var jt=vQ;else if(r5(ht))if(s5)jt=wQ;else{jt=bQ;var Ht=xQ}else(Nt=ht.nodeName)&&Nt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(jt=_Q);if(jt&&(jt=jt(m,et))){i5(yt,jt,A,mt);break e}Ht&&Ht(m,ht,et),m==="focusout"&&(Ht=ht._wrapperState)&&Ht.controlled&&ht.type==="number"&&oe(ht,"number",ht.value)}switch(Ht=et?Oh(et):window,m){case"focusin":(r5(Ht)||Ht.contentEditable==="true")&&(Ph=Ht,TT=et,xg=null);break;case"focusout":xg=TT=Ph=null;break;case"mousedown":ET=!0;break;case"contextmenu":case"mouseup":case"dragend":ET=!1,h5(yt,A,mt);break;case"selectionchange":if(CQ)break;case"keydown":case"keyup":h5(yt,A,mt)}var Gt;if(li)e:{switch(m){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else Rh?t5(m,A)&&(tn="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(tn="onCompositionStart");tn&&(wd&&A.locale!=="ko"&&(Rh||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&Rh&&(Gt=fg()):(va=mt,Th="value"in va?va.value:va.textContent,Rh=!0)),Ht=D1(et,tn),0<Ht.length&&(tn=new mg(tn,m,null,A,mt),yt.push({event:tn,listeners:Ht}),Gt?tn.data=Gt:(Gt=n5(A),Gt!==null&&(tn.data=Gt)))),(Gt=xa?pQ(m,A):mQ(m,A))&&(et=D1(et,"onBeforeInput"),0<et.length&&(mt=new mg("onBeforeInput","beforeinput",null,A,mt),yt.push({event:mt,listeners:et}),mt.data=Gt))}w5(yt,b)})}function wg(m,b,A){return{instance:m,listener:b,currentTarget:A}}function D1(m,b){for(var A=b+"Capture",L=[];m!==null;){var K=m,ne=K.stateNode;K.tag===5&&ne!==null&&(K=ne,ne=an(m,A),ne!=null&&L.unshift(wg(m,ne,K)),ne=an(m,b),ne!=null&&L.push(wg(m,ne,K))),m=m.return}return L}function Mh(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function E5(m,b,A,L,K){for(var ne=b._reactName,ve=[];A!==null&&A!==L;){var Fe=A,Be=Fe.alternate,et=Fe.stateNode;if(Be!==null&&Be===L)break;Fe.tag===5&&et!==null&&(Fe=et,K?(Be=an(A,ne),Be!=null&&ve.unshift(wg(A,Be,Fe))):K||(Be=an(A,ne),Be!=null&&ve.push(wg(A,Be,Fe)))),A=A.return}ve.length!==0&&m.push({event:b,listeners:ve})}var NQ=/\r\n?/g,kQ=/\u0000|\uFFFD/g;function C5(m){return(typeof m=="string"?m:""+m).replace(NQ,`
`).replace(kQ,"")}function A1(m,b,A){if(b=C5(b),C5(m)!==b&&A)throw Error(n(425))}function N1(){}var kT=null,IT=null;function RT(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var PT=typeof setTimeout=="function"?setTimeout:void 0,IQ=typeof clearTimeout=="function"?clearTimeout:void 0,S5=typeof Promise=="function"?Promise:void 0,RQ=typeof queueMicrotask=="function"?queueMicrotask:typeof S5<"u"?function(m){return S5.resolve(null).then(m).catch(PQ)}:PT;function PQ(m){setTimeout(function(){throw m})}function FT(m,b){var A=b,L=0;do{var K=A.nextSibling;if(m.removeChild(A),K&&K.nodeType===8)if(A=K.data,A==="/$"){if(L===0){m.removeChild(K),bo(b);return}L--}else A!=="$"&&A!=="$?"&&A!=="$!"||L++;A=K}while(A);bo(b)}function zc(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return m}function D5(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(b===0)return m;b--}else A==="/$"&&b++}m=m.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),Zo="__reactFiber$"+Uh,Tg="__reactProps$"+Uh,ql="__reactContainer$"+Uh,MT="__reactEvents$"+Uh,FQ="__reactListeners$"+Uh,MQ="__reactHandles$"+Uh;function Td(m){var b=m[Zo];if(b)return b;for(var A=m.parentNode;A;){if(b=A[ql]||A[Zo]){if(A=b.alternate,b.child!==null||A!==null&&A.child!==null)for(m=D5(m);m!==null;){if(A=m[Zo])return A;m=D5(m)}return b}m=A,A=m.parentNode}return null}function Eg(m){return m=m[Zo]||m[ql],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Oh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function k1(m){return m[Tg]||null}var UT=[],Lh=-1;function Hc(m){return{current:m}}function hr(m){0>Lh||(m.current=UT[Lh],UT[Lh]=null,Lh--)}function ir(m,b){Lh++,UT[Lh]=m.current,m.current=b}var Gc={},rs=Hc(Gc),Ks=Hc(!1),Ed=Gc;function jh(m,b){var A=m.type.contextTypes;if(!A)return Gc;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===b)return L.__reactInternalMemoizedMaskedChildContext;var K={},ne;for(ne in A)K[ne]=b[ne];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=b,m.__reactInternalMemoizedMaskedChildContext=K),K}function Xs(m){return m=m.childContextTypes,m!=null}function I1(){hr(Ks),hr(rs)}function A5(m,b,A){if(rs.current!==Gc)throw Error(n(168));ir(rs,b),ir(Ks,A)}function N5(m,b,A){var L=m.stateNode;if(b=b.childContextTypes,typeof L.getChildContext!="function")return A;L=L.getChildContext();for(var K in L)if(!(K in b))throw Error(n(108,ae(m)||"Unknown",K));return Y({},A,L)}function R1(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Gc,Ed=rs.current,ir(rs,m),ir(Ks,Ks.current),!0}function k5(m,b,A){var L=m.stateNode;if(!L)throw Error(n(169));A?(m=N5(m,b,Ed),L.__reactInternalMemoizedMergedChildContext=m,hr(Ks),hr(rs),ir(rs,m)):hr(Ks),ir(Ks,A)}var $l=null,P1=!1,OT=!1;function I5(m){$l===null?$l=[m]:$l.push(m)}function UQ(m){P1=!0,I5(m)}function Kc(){if(!OT&&$l!==null){OT=!0;var m=0,b=Cn;try{var A=$l;for(Cn=1;m<A.length;m++){var L=A[m];do L=L(!0);while(L!==null)}$l=null,P1=!1}catch(K){throw $l!==null&&($l=$l.slice(m+1)),Ie(xt,Kc),K}finally{Cn=b,OT=!1}}return null}var Bh=[],Vh=0,F1=null,M1=0,Ba=[],Va=0,Cd=null,zl=1,Hl="";function Sd(m,b){Bh[Vh++]=M1,Bh[Vh++]=F1,F1=m,M1=b}function R5(m,b,A){Ba[Va++]=zl,Ba[Va++]=Hl,Ba[Va++]=Cd,Cd=m;var L=zl;m=Hl;var K=32-En(L)-1;L&=~(1<<K),A+=1;var ne=32-En(b)+K;if(30<ne){var ve=K-K%5;ne=(L&(1<<ve)-1).toString(32),L>>=ve,K-=ve,zl=1<<32-En(b)+K|A<<K|L,Hl=ne+m}else zl=1<<ne|A<<K|L,Hl=m}function LT(m){m.return!==null&&(Sd(m,1),R5(m,1,0))}function jT(m){for(;m===F1;)F1=Bh[--Vh],Bh[Vh]=null,M1=Bh[--Vh],Bh[Vh]=null;for(;m===Cd;)Cd=Ba[--Va],Ba[Va]=null,Hl=Ba[--Va],Ba[Va]=null,zl=Ba[--Va],Ba[Va]=null}var ba=null,_a=null,wr=!1,To=null;function P5(m,b){var A=za(5,null,null,0);A.elementType="DELETED",A.stateNode=b,A.return=m,b=m.deletions,b===null?(m.deletions=[A],m.flags|=16):b.push(A)}function F5(m,b){switch(m.tag){case 5:var A=m.type;return b=b.nodeType!==1||A.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(m.stateNode=b,ba=m,_a=zc(b.firstChild),!0):!1;case 6:return b=m.pendingProps===""||b.nodeType!==3?null:b,b!==null?(m.stateNode=b,ba=m,_a=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(A=Cd!==null?{id:zl,overflow:Hl}:null,m.memoizedState={dehydrated:b,treeContext:A,retryLane:1073741824},A=za(18,null,null,0),A.stateNode=b,A.return=m,m.child=A,ba=m,_a=null,!0):!1;default:return!1}}function BT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function VT(m){if(wr){var b=_a;if(b){var A=b;if(!F5(m,b)){if(BT(m))throw Error(n(418));b=zc(A.nextSibling);var L=ba;b&&F5(m,b)?P5(L,A):(m.flags=m.flags&-4097|2,wr=!1,ba=m)}}else{if(BT(m))throw Error(n(418));m.flags=m.flags&-4097|2,wr=!1,ba=m}}}function M5(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ba=m}function U1(m){if(m!==ba)return!1;if(!wr)return M5(m),wr=!0,!1;var b;if((b=m.tag!==3)&&!(b=m.tag!==5)&&(b=m.type,b=b!=="head"&&b!=="body"&&!RT(m.type,m.memoizedProps)),b&&(b=_a)){if(BT(m))throw U5(),Error(n(418));for(;b;)P5(m,b),b=zc(b.nextSibling)}if(M5(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,b=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(b===0){_a=zc(m.nextSibling);break e}b--}else A!=="$"&&A!=="$!"&&A!=="$?"||b++}m=m.nextSibling}_a=null}}else _a=ba?zc(m.stateNode.nextSibling):null;return!0}function U5(){for(var m=_a;m;)m=zc(m.nextSibling)}function Wh(){_a=ba=null,wr=!1}function WT(m){To===null?To=[m]:To.push(m)}var OQ=C.ReactCurrentBatchConfig;function Cg(m,b,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var L=A.stateNode}if(!L)throw Error(n(147,m));var K=L,ne=""+m;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ne?b.ref:(b=function(ve){var Fe=K.refs;ve===null?delete Fe[ne]:Fe[ne]=ve},b._stringRef=ne,b)}if(typeof m!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,m))}return m}function O1(m,b){throw m=Object.prototype.toString.call(b),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m))}function O5(m){var b=m._init;return b(m._payload)}function L5(m){function b(Ke,We){if(m){var Qe=Ke.deletions;Qe===null?(Ke.deletions=[We],Ke.flags|=16):Qe.push(We)}}function A(Ke,We){if(!m)return null;for(;We!==null;)b(Ke,We),We=We.sibling;return null}function L(Ke,We){for(Ke=new Map;We!==null;)We.key!==null?Ke.set(We.key,We):Ke.set(We.index,We),We=We.sibling;return Ke}function K(Ke,We){return Ke=nu(Ke,We),Ke.index=0,Ke.sibling=null,Ke}function ne(Ke,We,Qe){return Ke.index=Qe,m?(Qe=Ke.alternate,Qe!==null?(Qe=Qe.index,Qe<We?(Ke.flags|=2,We):Qe):(Ke.flags|=2,We)):(Ke.flags|=1048576,We)}function ve(Ke){return m&&Ke.alternate===null&&(Ke.flags|=2),Ke}function Fe(Ke,We,Qe,bt){return We===null||We.tag!==6?(We=PE(Qe,Ke.mode,bt),We.return=Ke,We):(We=K(We,Qe),We.return=Ke,We)}function Be(Ke,We,Qe,bt){var jt=Qe.type;return jt===D?mt(Ke,We,Qe.props.children,bt,Qe.key):We!==null&&(We.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===G&&O5(jt)===We.type)?(bt=K(We,Qe.props),bt.ref=Cg(Ke,We,Qe),bt.return=Ke,bt):(bt=ox(Qe.type,Qe.key,Qe.props,null,Ke.mode,bt),bt.ref=Cg(Ke,We,Qe),bt.return=Ke,bt)}function et(Ke,We,Qe,bt){return We===null||We.tag!==4||We.stateNode.containerInfo!==Qe.containerInfo||We.stateNode.implementation!==Qe.implementation?(We=FE(Qe,Ke.mode,bt),We.return=Ke,We):(We=K(We,Qe.children||[]),We.return=Ke,We)}function mt(Ke,We,Qe,bt,jt){return We===null||We.tag!==7?(We=Fd(Qe,Ke.mode,bt,jt),We.return=Ke,We):(We=K(We,Qe),We.return=Ke,We)}function yt(Ke,We,Qe){if(typeof We=="string"&&We!==""||typeof We=="number")return We=PE(""+We,Ke.mode,Qe),We.return=Ke,We;if(typeof We=="object"&&We!==null){switch(We.$$typeof){case S:return Qe=ox(We.type,We.key,We.props,null,Ke.mode,Qe),Qe.ref=Cg(Ke,null,We),Qe.return=Ke,Qe;case R:return We=FE(We,Ke.mode,Qe),We.return=Ke,We;case G:var bt=We._init;return yt(Ke,bt(We._payload),Qe)}if(fe(We)||z(We))return We=Fd(We,Ke.mode,Qe,null),We.return=Ke,We;O1(Ke,We)}return null}function ht(Ke,We,Qe,bt){var jt=We!==null?We.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return jt!==null?null:Fe(Ke,We,""+Qe,bt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case S:return Qe.key===jt?Be(Ke,We,Qe,bt):null;case R:return Qe.key===jt?et(Ke,We,Qe,bt):null;case G:return jt=Qe._init,ht(Ke,We,jt(Qe._payload),bt)}if(fe(Qe)||z(Qe))return jt!==null?null:mt(Ke,We,Qe,bt,null);O1(Ke,Qe)}return null}function Nt(Ke,We,Qe,bt,jt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Ke=Ke.get(Qe)||null,Fe(We,Ke,""+bt,jt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case S:return Ke=Ke.get(bt.key===null?Qe:bt.key)||null,Be(We,Ke,bt,jt);case R:return Ke=Ke.get(bt.key===null?Qe:bt.key)||null,et(We,Ke,bt,jt);case G:var Ht=bt._init;return Nt(Ke,We,Qe,Ht(bt._payload),jt)}if(fe(bt)||z(bt))return Ke=Ke.get(Qe)||null,mt(We,Ke,bt,jt,null);O1(We,bt)}return null}function Mt(Ke,We,Qe,bt){for(var jt=null,Ht=null,Gt=We,tn=We=0,Ri=null;Gt!==null&&tn<Qe.length;tn++){Gt.index>tn?(Ri=Gt,Gt=null):Ri=Gt.sibling;var Rn=ht(Ke,Gt,Qe[tn],bt);if(Rn===null){Gt===null&&(Gt=Ri);break}m&&Gt&&Rn.alternate===null&&b(Ke,Gt),We=ne(Rn,We,tn),Ht===null?jt=Rn:Ht.sibling=Rn,Ht=Rn,Gt=Ri}if(tn===Qe.length)return A(Ke,Gt),wr&&Sd(Ke,tn),jt;if(Gt===null){for(;tn<Qe.length;tn++)Gt=yt(Ke,Qe[tn],bt),Gt!==null&&(We=ne(Gt,We,tn),Ht===null?jt=Gt:Ht.sibling=Gt,Ht=Gt);return wr&&Sd(Ke,tn),jt}for(Gt=L(Ke,Gt);tn<Qe.length;tn++)Ri=Nt(Gt,Ke,tn,Qe[tn],bt),Ri!==null&&(m&&Ri.alternate!==null&&Gt.delete(Ri.key===null?tn:Ri.key),We=ne(Ri,We,tn),Ht===null?jt=Ri:Ht.sibling=Ri,Ht=Ri);return m&&Gt.forEach(function(ru){return b(Ke,ru)}),wr&&Sd(Ke,tn),jt}function Ot(Ke,We,Qe,bt){var jt=z(Qe);if(typeof jt!="function")throw Error(n(150));if(Qe=jt.call(Qe),Qe==null)throw Error(n(151));for(var Ht=jt=null,Gt=We,tn=We=0,Ri=null,Rn=Qe.next();Gt!==null&&!Rn.done;tn++,Rn=Qe.next()){Gt.index>tn?(Ri=Gt,Gt=null):Ri=Gt.sibling;var ru=ht(Ke,Gt,Rn.value,bt);if(ru===null){Gt===null&&(Gt=Ri);break}m&&Gt&&ru.alternate===null&&b(Ke,Gt),We=ne(ru,We,tn),Ht===null?jt=ru:Ht.sibling=ru,Ht=ru,Gt=Ri}if(Rn.done)return A(Ke,Gt),wr&&Sd(Ke,tn),jt;if(Gt===null){for(;!Rn.done;tn++,Rn=Qe.next())Rn=yt(Ke,Rn.value,bt),Rn!==null&&(We=ne(Rn,We,tn),Ht===null?jt=Rn:Ht.sibling=Rn,Ht=Rn);return wr&&Sd(Ke,tn),jt}for(Gt=L(Ke,Gt);!Rn.done;tn++,Rn=Qe.next())Rn=Nt(Gt,Ke,tn,Rn.value,bt),Rn!==null&&(m&&Rn.alternate!==null&&Gt.delete(Rn.key===null?tn:Rn.key),We=ne(Rn,We,tn),Ht===null?jt=Rn:Ht.sibling=Rn,Ht=Rn);return m&&Gt.forEach(function(gZ){return b(Ke,gZ)}),wr&&Sd(Ke,tn),jt}function Qr(Ke,We,Qe,bt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===D&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case S:e:{for(var jt=Qe.key,Ht=We;Ht!==null;){if(Ht.key===jt){if(jt=Qe.type,jt===D){if(Ht.tag===7){A(Ke,Ht.sibling),We=K(Ht,Qe.props.children),We.return=Ke,Ke=We;break e}}else if(Ht.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===G&&O5(jt)===Ht.type){A(Ke,Ht.sibling),We=K(Ht,Qe.props),We.ref=Cg(Ke,Ht,Qe),We.return=Ke,Ke=We;break e}A(Ke,Ht);break}else b(Ke,Ht);Ht=Ht.sibling}Qe.type===D?(We=Fd(Qe.props.children,Ke.mode,bt,Qe.key),We.return=Ke,Ke=We):(bt=ox(Qe.type,Qe.key,Qe.props,null,Ke.mode,bt),bt.ref=Cg(Ke,We,Qe),bt.return=Ke,Ke=bt)}return ve(Ke);case R:e:{for(Ht=Qe.key;We!==null;){if(We.key===Ht)if(We.tag===4&&We.stateNode.containerInfo===Qe.containerInfo&&We.stateNode.implementation===Qe.implementation){A(Ke,We.sibling),We=K(We,Qe.children||[]),We.return=Ke,Ke=We;break e}else{A(Ke,We);break}else b(Ke,We);We=We.sibling}We=FE(Qe,Ke.mode,bt),We.return=Ke,Ke=We}return ve(Ke);case G:return Ht=Qe._init,Qr(Ke,We,Ht(Qe._payload),bt)}if(fe(Qe))return Mt(Ke,We,Qe,bt);if(z(Qe))return Ot(Ke,We,Qe,bt);O1(Ke,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"?(Qe=""+Qe,We!==null&&We.tag===6?(A(Ke,We.sibling),We=K(We,Qe),We.return=Ke,Ke=We):(A(Ke,We),We=PE(Qe,Ke.mode,bt),We.return=Ke,Ke=We),ve(Ke)):A(Ke,We)}return Qr}var qh=L5(!0),j5=L5(!1),L1=Hc(null),j1=null,$h=null,qT=null;function $T(){qT=$h=j1=null}function zT(m){var b=L1.current;hr(L1),m._currentValue=b}function HT(m,b,A){for(;m!==null;){var L=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,L!==null&&(L.childLanes|=b)):L!==null&&(L.childLanes&b)!==b&&(L.childLanes|=b),m===A)break;m=m.return}}function zh(m,b){j1=m,qT=$h=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&b)!==0&&(Js=!0),m.firstContext=null)}function Wa(m){var b=m._currentValue;if(qT!==m)if(m={context:m,memoizedValue:b,next:null},$h===null){if(j1===null)throw Error(n(308));$h=m,j1.dependencies={lanes:0,firstContext:m}}else $h=$h.next=m;return b}var Dd=null;function GT(m){Dd===null?Dd=[m]:Dd.push(m)}function B5(m,b,A,L){var K=b.interleaved;return K===null?(A.next=A,GT(b)):(A.next=K.next,K.next=A),b.interleaved=A,Gl(m,L)}function Gl(m,b){m.lanes|=b;var A=m.alternate;for(A!==null&&(A.lanes|=b),A=m,m=m.return;m!==null;)m.childLanes|=b,A=m.alternate,A!==null&&(A.childLanes|=b),A=m,m=m.return;return A.tag===3?A.stateNode:null}var Xc=!1;function KT(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V5(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Kl(m,b){return{eventTime:m,lane:b,tag:0,payload:null,callback:null,next:null}}function Jc(m,b,A){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(Nn&2)!==0){var K=L.pending;return K===null?b.next=b:(b.next=K.next,K.next=b),L.pending=b,Gl(m,A)}return K=L.interleaved,K===null?(b.next=b,GT(L)):(b.next=K.next,K.next=b),L.interleaved=b,Gl(m,A)}function B1(m,b,A){if(b=b.updateQueue,b!==null&&(b=b.shared,(A&4194240)!==0)){var L=b.lanes;L&=m.pendingLanes,A|=L,b.lanes=A,jc(m,A)}}function W5(m,b){var A=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,A===L)){var K=null,ne=null;if(A=A.firstBaseUpdate,A!==null){do{var ve={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};ne===null?K=ne=ve:ne=ne.next=ve,A=A.next}while(A!==null);ne===null?K=ne=b:ne=ne.next=b}else K=ne=b;A={baseState:L.baseState,firstBaseUpdate:K,lastBaseUpdate:ne,shared:L.shared,effects:L.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=b:m.next=b,A.lastBaseUpdate=b}function V1(m,b,A,L){var K=m.updateQueue;Xc=!1;var ne=K.firstBaseUpdate,ve=K.lastBaseUpdate,Fe=K.shared.pending;if(Fe!==null){K.shared.pending=null;var Be=Fe,et=Be.next;Be.next=null,ve===null?ne=et:ve.next=et,ve=Be;var mt=m.alternate;mt!==null&&(mt=mt.updateQueue,Fe=mt.lastBaseUpdate,Fe!==ve&&(Fe===null?mt.firstBaseUpdate=et:Fe.next=et,mt.lastBaseUpdate=Be))}if(ne!==null){var yt=K.baseState;ve=0,mt=et=Be=null,Fe=ne;do{var ht=Fe.lane,Nt=Fe.eventTime;if((L&ht)===ht){mt!==null&&(mt=mt.next={eventTime:Nt,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var Mt=m,Ot=Fe;switch(ht=b,Nt=A,Ot.tag){case 1:if(Mt=Ot.payload,typeof Mt=="function"){yt=Mt.call(Nt,yt,ht);break e}yt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ot.payload,ht=typeof Mt=="function"?Mt.call(Nt,yt,ht):Mt,ht==null)break e;yt=Y({},yt,ht);break e;case 2:Xc=!0}}Fe.callback!==null&&Fe.lane!==0&&(m.flags|=64,ht=K.effects,ht===null?K.effects=[Fe]:ht.push(Fe))}else Nt={eventTime:Nt,lane:ht,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},mt===null?(et=mt=Nt,Be=yt):mt=mt.next=Nt,ve|=ht;if(Fe=Fe.next,Fe===null){if(Fe=K.shared.pending,Fe===null)break;ht=Fe,Fe=ht.next,ht.next=null,K.lastBaseUpdate=ht,K.shared.pending=null}}while(!0);if(mt===null&&(Be=yt),K.baseState=Be,K.firstBaseUpdate=et,K.lastBaseUpdate=mt,b=K.shared.interleaved,b!==null){K=b;do ve|=K.lane,K=K.next;while(K!==b)}else ne===null&&(K.shared.lanes=0);kd|=ve,m.lanes=ve,m.memoizedState=yt}}function q5(m,b,A){if(m=b.effects,b.effects=null,m!==null)for(b=0;b<m.length;b++){var L=m[b],K=L.callback;if(K!==null){if(L.callback=null,L=A,typeof K!="function")throw Error(n(191,K));K.call(L)}}}var Sg={},el=Hc(Sg),Dg=Hc(Sg),Ag=Hc(Sg);function Ad(m){if(m===Sg)throw Error(n(174));return m}function XT(m,b){switch(ir(Ag,b),ir(Dg,m),ir(el,Sg),m=b.nodeType,m){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Oe(null,"");break;default:m=m===8?b.parentNode:b,b=m.namespaceURI||null,m=m.tagName,b=Oe(b,m)}hr(el),ir(el,b)}function Hh(){hr(el),hr(Dg),hr(Ag)}function $5(m){Ad(Ag.current);var b=Ad(el.current),A=Oe(b,m.type);b!==A&&(ir(Dg,m),ir(el,A))}function JT(m){Dg.current===m&&(hr(el),hr(Dg))}var kr=Hc(0);function W1(m){for(var b=m;b!==null;){if(b.tag===13){var A=b.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var YT=[];function QT(){for(var m=0;m<YT.length;m++)YT[m]._workInProgressVersionPrimary=null;YT.length=0}var q1=C.ReactCurrentDispatcher,ZT=C.ReactCurrentBatchConfig,Nd=0,Ir=null,yi=null,ki=null,$1=!1,Ng=!1,kg=0,LQ=0;function is(){throw Error(n(321))}function eE(m,b){if(b===null)return!1;for(var A=0;A<b.length&&A<m.length;A++)if(!wo(m[A],b[A]))return!1;return!0}function tE(m,b,A,L,K,ne){if(Nd=ne,Ir=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,q1.current=m===null||m.memoizedState===null?WQ:qQ,m=A(L,K),Ng){ne=0;do{if(Ng=!1,kg=0,25<=ne)throw Error(n(301));ne+=1,ki=yi=null,b.updateQueue=null,q1.current=$Q,m=A(L,K)}while(Ng)}if(q1.current=G1,b=yi!==null&&yi.next!==null,Nd=0,ki=yi=Ir=null,$1=!1,b)throw Error(n(300));return m}function nE(){var m=kg!==0;return kg=0,m}function tl(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ki===null?Ir.memoizedState=ki=m:ki=ki.next=m,ki}function qa(){if(yi===null){var m=Ir.alternate;m=m!==null?m.memoizedState:null}else m=yi.next;var b=ki===null?Ir.memoizedState:ki.next;if(b!==null)ki=b,yi=m;else{if(m===null)throw Error(n(310));yi=m,m={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},ki===null?Ir.memoizedState=ki=m:ki=ki.next=m}return ki}function Ig(m,b){return typeof b=="function"?b(m):b}function rE(m){var b=qa(),A=b.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=yi,K=L.baseQueue,ne=A.pending;if(ne!==null){if(K!==null){var ve=K.next;K.next=ne.next,ne.next=ve}L.baseQueue=K=ne,A.pending=null}if(K!==null){ne=K.next,L=L.baseState;var Fe=ve=null,Be=null,et=ne;do{var mt=et.lane;if((Nd&mt)===mt)Be!==null&&(Be=Be.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),L=et.hasEagerState?et.eagerState:m(L,et.action);else{var yt={lane:mt,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};Be===null?(Fe=Be=yt,ve=L):Be=Be.next=yt,Ir.lanes|=mt,kd|=mt}et=et.next}while(et!==null&&et!==ne);Be===null?ve=L:Be.next=Fe,wo(L,b.memoizedState)||(Js=!0),b.memoizedState=L,b.baseState=ve,b.baseQueue=Be,A.lastRenderedState=L}if(m=A.interleaved,m!==null){K=m;do ne=K.lane,Ir.lanes|=ne,kd|=ne,K=K.next;while(K!==m)}else K===null&&(A.lanes=0);return[b.memoizedState,A.dispatch]}function iE(m){var b=qa(),A=b.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=A.dispatch,K=A.pending,ne=b.memoizedState;if(K!==null){A.pending=null;var ve=K=K.next;do ne=m(ne,ve.action),ve=ve.next;while(ve!==K);wo(ne,b.memoizedState)||(Js=!0),b.memoizedState=ne,b.baseQueue===null&&(b.baseState=ne),A.lastRenderedState=ne}return[ne,L]}function z5(){}function H5(m,b){var A=Ir,L=qa(),K=b(),ne=!wo(L.memoizedState,K);if(ne&&(L.memoizedState=K,Js=!0),L=L.queue,sE(X5.bind(null,A,L,m),[m]),L.getSnapshot!==b||ne||ki!==null&&ki.memoizedState.tag&1){if(A.flags|=2048,Rg(9,K5.bind(null,A,L,K,b),void 0,null),Ii===null)throw Error(n(349));(Nd&30)!==0||G5(A,b,K)}return K}function G5(m,b,A){m.flags|=16384,m={getSnapshot:b,value:A},b=Ir.updateQueue,b===null?(b={lastEffect:null,stores:null},Ir.updateQueue=b,b.stores=[m]):(A=b.stores,A===null?b.stores=[m]:A.push(m))}function K5(m,b,A,L){b.value=A,b.getSnapshot=L,J5(b)&&Y5(m)}function X5(m,b,A){return A(function(){J5(b)&&Y5(m)})}function J5(m){var b=m.getSnapshot;m=m.value;try{var A=b();return!wo(m,A)}catch{return!0}}function Y5(m){var b=Gl(m,1);b!==null&&Do(b,m,1,-1)}function Q5(m){var b=tl();return typeof m=="function"&&(m=m()),b.memoizedState=b.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:m},b.queue=m,m=m.dispatch=VQ.bind(null,Ir,m),[b.memoizedState,m]}function Rg(m,b,A,L){return m={tag:m,create:b,destroy:A,deps:L,next:null},b=Ir.updateQueue,b===null?(b={lastEffect:null,stores:null},Ir.updateQueue=b,b.lastEffect=m.next=m):(A=b.lastEffect,A===null?b.lastEffect=m.next=m:(L=A.next,A.next=m,m.next=L,b.lastEffect=m)),m}function Z5(){return qa().memoizedState}function z1(m,b,A,L){var K=tl();Ir.flags|=m,K.memoizedState=Rg(1|b,A,void 0,L===void 0?null:L)}function H1(m,b,A,L){var K=qa();L=L===void 0?null:L;var ne=void 0;if(yi!==null){var ve=yi.memoizedState;if(ne=ve.destroy,L!==null&&eE(L,ve.deps)){K.memoizedState=Rg(b,A,ne,L);return}}Ir.flags|=m,K.memoizedState=Rg(1|b,A,ne,L)}function eR(m,b){return z1(8390656,8,m,b)}function sE(m,b){return H1(2048,8,m,b)}function tR(m,b){return H1(4,2,m,b)}function nR(m,b){return H1(4,4,m,b)}function rR(m,b){if(typeof b=="function")return m=m(),b(m),function(){b(null)};if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function iR(m,b,A){return A=A!=null?A.concat([m]):null,H1(4,4,rR.bind(null,b,m),A)}function aE(){}function sR(m,b){var A=qa();b=b===void 0?null:b;var L=A.memoizedState;return L!==null&&b!==null&&eE(b,L[1])?L[0]:(A.memoizedState=[m,b],m)}function aR(m,b){var A=qa();b=b===void 0?null:b;var L=A.memoizedState;return L!==null&&b!==null&&eE(b,L[1])?L[0]:(m=m(),A.memoizedState=[m,b],m)}function oR(m,b,A){return(Nd&21)===0?(m.baseState&&(m.baseState=!1,Js=!0),m.memoizedState=A):(wo(A,b)||(A=vd(),Ir.lanes|=A,kd|=A,m.baseState=!0),b)}function jQ(m,b){var A=Cn;Cn=A!==0&&4>A?A:4,m(!0);var L=ZT.transition;ZT.transition={};try{m(!1),b()}finally{Cn=A,ZT.transition=L}}function lR(){return qa().memoizedState}function BQ(m,b,A){var L=eu(m);if(A={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null},cR(m))uR(b,A);else if(A=B5(m,b,A,L),A!==null){var K=Is();Do(A,m,L,K),dR(A,b,L)}}function VQ(m,b,A){var L=eu(m),K={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null};if(cR(m))uR(b,K);else{var ne=m.alternate;if(m.lanes===0&&(ne===null||ne.lanes===0)&&(ne=b.lastRenderedReducer,ne!==null))try{var ve=b.lastRenderedState,Fe=ne(ve,A);if(K.hasEagerState=!0,K.eagerState=Fe,wo(Fe,ve)){var Be=b.interleaved;Be===null?(K.next=K,GT(b)):(K.next=Be.next,Be.next=K),b.interleaved=K;return}}catch{}finally{}A=B5(m,b,K,L),A!==null&&(K=Is(),Do(A,m,L,K),dR(A,b,L))}}function cR(m){var b=m.alternate;return m===Ir||b!==null&&b===Ir}function uR(m,b){Ng=$1=!0;var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}function dR(m,b,A){if((A&4194240)!==0){var L=b.lanes;L&=m.pendingLanes,A|=L,b.lanes=A,jc(m,A)}}var G1={readContext:Wa,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useInsertionEffect:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useSyncExternalStore:is,useId:is,unstable_isNewReconciler:!1},WQ={readContext:Wa,useCallback:function(m,b){return tl().memoizedState=[m,b===void 0?null:b],m},useContext:Wa,useEffect:eR,useImperativeHandle:function(m,b,A){return A=A!=null?A.concat([m]):null,z1(4194308,4,rR.bind(null,b,m),A)},useLayoutEffect:function(m,b){return z1(4194308,4,m,b)},useInsertionEffect:function(m,b){return z1(4,2,m,b)},useMemo:function(m,b){var A=tl();return b=b===void 0?null:b,m=m(),A.memoizedState=[m,b],m},useReducer:function(m,b,A){var L=tl();return b=A!==void 0?A(b):b,L.memoizedState=L.baseState=b,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:b},L.queue=m,m=m.dispatch=BQ.bind(null,Ir,m),[L.memoizedState,m]},useRef:function(m){var b=tl();return m={current:m},b.memoizedState=m},useState:Q5,useDebugValue:aE,useDeferredValue:function(m){return tl().memoizedState=m},useTransition:function(){var m=Q5(!1),b=m[0];return m=jQ.bind(null,m[1]),tl().memoizedState=m,[b,m]},useMutableSource:function(){},useSyncExternalStore:function(m,b,A){var L=Ir,K=tl();if(wr){if(A===void 0)throw Error(n(407));A=A()}else{if(A=b(),Ii===null)throw Error(n(349));(Nd&30)!==0||G5(L,b,A)}K.memoizedState=A;var ne={value:A,getSnapshot:b};return K.queue=ne,eR(X5.bind(null,L,ne,m),[m]),L.flags|=2048,Rg(9,K5.bind(null,L,ne,A,b),void 0,null),A},useId:function(){var m=tl(),b=Ii.identifierPrefix;if(wr){var A=Hl,L=zl;A=(L&~(1<<32-En(L)-1)).toString(32)+A,b=":"+b+"R"+A,A=kg++,0<A&&(b+="H"+A.toString(32)),b+=":"}else A=LQ++,b=":"+b+"r"+A.toString(32)+":";return m.memoizedState=b},unstable_isNewReconciler:!1},qQ={readContext:Wa,useCallback:sR,useContext:Wa,useEffect:sE,useImperativeHandle:iR,useInsertionEffect:tR,useLayoutEffect:nR,useMemo:aR,useReducer:rE,useRef:Z5,useState:function(){return rE(Ig)},useDebugValue:aE,useDeferredValue:function(m){var b=qa();return oR(b,yi.memoizedState,m)},useTransition:function(){var m=rE(Ig)[0],b=qa().memoizedState;return[m,b]},useMutableSource:z5,useSyncExternalStore:H5,useId:lR,unstable_isNewReconciler:!1},$Q={readContext:Wa,useCallback:sR,useContext:Wa,useEffect:sE,useImperativeHandle:iR,useInsertionEffect:tR,useLayoutEffect:nR,useMemo:aR,useReducer:iE,useRef:Z5,useState:function(){return iE(Ig)},useDebugValue:aE,useDeferredValue:function(m){var b=qa();return yi===null?b.memoizedState=m:oR(b,yi.memoizedState,m)},useTransition:function(){var m=iE(Ig)[0],b=qa().memoizedState;return[m,b]},useMutableSource:z5,useSyncExternalStore:H5,useId:lR,unstable_isNewReconciler:!1};function Eo(m,b){if(m&&m.defaultProps){b=Y({},b),m=m.defaultProps;for(var A in m)b[A]===void 0&&(b[A]=m[A]);return b}return b}function oE(m,b,A,L){b=m.memoizedState,A=A(L,b),A=A==null?b:Y({},b,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var K1={isMounted:function(m){return(m=m._reactInternals)?Re(m)===m:!1},enqueueSetState:function(m,b,A){m=m._reactInternals;var L=Is(),K=eu(m),ne=Kl(L,K);ne.payload=b,A!=null&&(ne.callback=A),b=Jc(m,ne,K),b!==null&&(Do(b,m,K,L),B1(b,m,K))},enqueueReplaceState:function(m,b,A){m=m._reactInternals;var L=Is(),K=eu(m),ne=Kl(L,K);ne.tag=1,ne.payload=b,A!=null&&(ne.callback=A),b=Jc(m,ne,K),b!==null&&(Do(b,m,K,L),B1(b,m,K))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var A=Is(),L=eu(m),K=Kl(A,L);K.tag=2,b!=null&&(K.callback=b),b=Jc(m,K,L),b!==null&&(Do(b,m,L,A),B1(b,m,L))}};function fR(m,b,A,L,K,ne,ve){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,ne,ve):b.prototype&&b.prototype.isPureReactComponent?!vg(A,L)||!vg(K,ne):!0}function hR(m,b,A){var L=!1,K=Gc,ne=b.contextType;return typeof ne=="object"&&ne!==null?ne=Wa(ne):(K=Xs(b)?Ed:rs.current,L=b.contextTypes,ne=(L=L!=null)?jh(m,K):Gc),b=new b(A,ne),m.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=K1,m.stateNode=b,b._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=K,m.__reactInternalMemoizedMaskedChildContext=ne),b}function pR(m,b,A,L){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(A,L),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(A,L),b.state!==m&&K1.enqueueReplaceState(b,b.state,null)}function lE(m,b,A,L){var K=m.stateNode;K.props=A,K.state=m.memoizedState,K.refs={},KT(m);var ne=b.contextType;typeof ne=="object"&&ne!==null?K.context=Wa(ne):(ne=Xs(b)?Ed:rs.current,K.context=jh(m,ne)),K.state=m.memoizedState,ne=b.getDerivedStateFromProps,typeof ne=="function"&&(oE(m,b,ne,A),K.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(b=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),b!==K.state&&K1.enqueueReplaceState(K,K.state,null),V1(m,A,K,L),K.state=m.memoizedState),typeof K.componentDidMount=="function"&&(m.flags|=4194308)}function Gh(m,b){try{var A="",L=b;do A+=Q(L),L=L.return;while(L);var K=A}catch(ne){K=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:m,source:b,stack:K,digest:null}}function cE(m,b,A){return{value:m,source:null,stack:A??null,digest:b??null}}function uE(m,b){try{console.error(b.value)}catch(A){setTimeout(function(){throw A})}}var zQ=typeof WeakMap=="function"?WeakMap:Map;function mR(m,b,A){A=Kl(-1,A),A.tag=3,A.payload={element:null};var L=b.value;return A.callback=function(){tx||(tx=!0,CE=L),uE(m,b)},A}function gR(m,b,A){A=Kl(-1,A),A.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var K=b.value;A.payload=function(){return L(K)},A.callback=function(){uE(m,b)}}var ne=m.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(A.callback=function(){uE(m,b),typeof L!="function"&&(Qc===null?Qc=new Set([this]):Qc.add(this));var ve=b.stack;this.componentDidCatch(b.value,{componentStack:ve!==null?ve:""})}),A}function yR(m,b,A){var L=m.pingCache;if(L===null){L=m.pingCache=new zQ;var K=new Set;L.set(b,K)}else K=L.get(b),K===void 0&&(K=new Set,L.set(b,K));K.has(A)||(K.add(A),m=sZ.bind(null,m,b,A),b.then(m,m))}function vR(m){do{var b;if((b=m.tag===13)&&(b=m.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return m;m=m.return}while(m!==null);return null}function xR(m,b,A,L,K){return(m.mode&1)===0?(m===b?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(b=Kl(-1,1),b.tag=2,Jc(A,b,1))),A.lanes|=1),m):(m.flags|=65536,m.lanes=K,m)}var HQ=C.ReactCurrentOwner,Js=!1;function ks(m,b,A,L){b.child=m===null?j5(b,null,A,L):qh(b,m.child,A,L)}function bR(m,b,A,L,K){A=A.render;var ne=b.ref;return zh(b,K),L=tE(m,b,A,L,ne,K),A=nE(),m!==null&&!Js?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~K,Xl(m,b,K)):(wr&&A&&LT(b),b.flags|=1,ks(m,b,L,K),b.child)}function _R(m,b,A,L,K){if(m===null){var ne=A.type;return typeof ne=="function"&&!RE(ne)&&ne.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(b.tag=15,b.type=ne,wR(m,b,ne,L,K)):(m=ox(A.type,null,L,b,b.mode,K),m.ref=b.ref,m.return=b,b.child=m)}if(ne=m.child,(m.lanes&K)===0){var ve=ne.memoizedProps;if(A=A.compare,A=A!==null?A:vg,A(ve,L)&&m.ref===b.ref)return Xl(m,b,K)}return b.flags|=1,m=nu(ne,L),m.ref=b.ref,m.return=b,b.child=m}function wR(m,b,A,L,K){if(m!==null){var ne=m.memoizedProps;if(vg(ne,L)&&m.ref===b.ref)if(Js=!1,b.pendingProps=L=ne,(m.lanes&K)!==0)(m.flags&131072)!==0&&(Js=!0);else return b.lanes=m.lanes,Xl(m,b,K)}return dE(m,b,A,L,K)}function TR(m,b,A){var L=b.pendingProps,K=L.children,ne=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((b.mode&1)===0)b.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Xh,wa),wa|=A;else{if((A&1073741824)===0)return m=ne!==null?ne.baseLanes|A:A,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:m,cachePool:null,transitions:null},b.updateQueue=null,ir(Xh,wa),wa|=m,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=ne!==null?ne.baseLanes:A,ir(Xh,wa),wa|=L}else ne!==null?(L=ne.baseLanes|A,b.memoizedState=null):L=A,ir(Xh,wa),wa|=L;return ks(m,b,K,A),b.child}function ER(m,b){var A=b.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(b.flags|=512,b.flags|=2097152)}function dE(m,b,A,L,K){var ne=Xs(A)?Ed:rs.current;return ne=jh(b,ne),zh(b,K),A=tE(m,b,A,L,ne,K),L=nE(),m!==null&&!Js?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~K,Xl(m,b,K)):(wr&&L&&LT(b),b.flags|=1,ks(m,b,A,K),b.child)}function CR(m,b,A,L,K){if(Xs(A)){var ne=!0;R1(b)}else ne=!1;if(zh(b,K),b.stateNode===null)J1(m,b),hR(b,A,L),lE(b,A,L,K),L=!0;else if(m===null){var ve=b.stateNode,Fe=b.memoizedProps;ve.props=Fe;var Be=ve.context,et=A.contextType;typeof et=="object"&&et!==null?et=Wa(et):(et=Xs(A)?Ed:rs.current,et=jh(b,et));var mt=A.getDerivedStateFromProps,yt=typeof mt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";yt||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Fe!==L||Be!==et)&&pR(b,ve,L,et),Xc=!1;var ht=b.memoizedState;ve.state=ht,V1(b,L,ve,K),Be=b.memoizedState,Fe!==L||ht!==Be||Ks.current||Xc?(typeof mt=="function"&&(oE(b,A,mt,L),Be=b.memoizedState),(Fe=Xc||fR(b,A,Fe,L,ht,Be,et))?(yt||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(b.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=L,b.memoizedState=Be),ve.props=L,ve.state=Be,ve.context=et,L=Fe):(typeof ve.componentDidMount=="function"&&(b.flags|=4194308),L=!1)}else{ve=b.stateNode,V5(m,b),Fe=b.memoizedProps,et=b.type===b.elementType?Fe:Eo(b.type,Fe),ve.props=et,yt=b.pendingProps,ht=ve.context,Be=A.contextType,typeof Be=="object"&&Be!==null?Be=Wa(Be):(Be=Xs(A)?Ed:rs.current,Be=jh(b,Be));var Nt=A.getDerivedStateFromProps;(mt=typeof Nt=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Fe!==yt||ht!==Be)&&pR(b,ve,L,Be),Xc=!1,ht=b.memoizedState,ve.state=ht,V1(b,L,ve,K);var Mt=b.memoizedState;Fe!==yt||ht!==Mt||Ks.current||Xc?(typeof Nt=="function"&&(oE(b,A,Nt,L),Mt=b.memoizedState),(et=Xc||fR(b,A,et,L,ht,Mt,Be)||!1)?(mt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(L,Mt,Be),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(L,Mt,Be)),typeof ve.componentDidUpdate=="function"&&(b.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Fe===m.memoizedProps&&ht===m.memoizedState||(b.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Fe===m.memoizedProps&&ht===m.memoizedState||(b.flags|=1024),b.memoizedProps=L,b.memoizedState=Mt),ve.props=L,ve.state=Mt,ve.context=Be,L=et):(typeof ve.componentDidUpdate!="function"||Fe===m.memoizedProps&&ht===m.memoizedState||(b.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Fe===m.memoizedProps&&ht===m.memoizedState||(b.flags|=1024),L=!1)}return fE(m,b,A,L,ne,K)}function fE(m,b,A,L,K,ne){ER(m,b);var ve=(b.flags&128)!==0;if(!L&&!ve)return K&&k5(b,A,!1),Xl(m,b,ne);L=b.stateNode,HQ.current=b;var Fe=ve&&typeof A.getDerivedStateFromError!="function"?null:L.render();return b.flags|=1,m!==null&&ve?(b.child=qh(b,m.child,null,ne),b.child=qh(b,null,Fe,ne)):ks(m,b,Fe,ne),b.memoizedState=L.state,K&&k5(b,A,!0),b.child}function SR(m){var b=m.stateNode;b.pendingContext?A5(m,b.pendingContext,b.pendingContext!==b.context):b.context&&A5(m,b.context,!1),XT(m,b.containerInfo)}function DR(m,b,A,L,K){return Wh(),WT(K),b.flags|=256,ks(m,b,A,L),b.child}var hE={dehydrated:null,treeContext:null,retryLane:0};function pE(m){return{baseLanes:m,cachePool:null,transitions:null}}function AR(m,b,A){var L=b.pendingProps,K=kr.current,ne=!1,ve=(b.flags&128)!==0,Fe;if((Fe=ve)||(Fe=m!==null&&m.memoizedState===null?!1:(K&2)!==0),Fe?(ne=!0,b.flags&=-129):(m===null||m.memoizedState!==null)&&(K|=1),ir(kr,K&1),m===null)return VT(b),m=b.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((b.mode&1)===0?b.lanes=1:m.data==="$!"?b.lanes=8:b.lanes=1073741824,null):(ve=L.children,m=L.fallback,ne?(L=b.mode,ne=b.child,ve={mode:"hidden",children:ve},(L&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=ve):ne=lx(ve,L,0,null),m=Fd(m,L,A,null),ne.return=b,m.return=b,ne.sibling=m,b.child=ne,b.child.memoizedState=pE(A),b.memoizedState=hE,m):mE(b,ve));if(K=m.memoizedState,K!==null&&(Fe=K.dehydrated,Fe!==null))return GQ(m,b,ve,L,Fe,K,A);if(ne){ne=L.fallback,ve=b.mode,K=m.child,Fe=K.sibling;var Be={mode:"hidden",children:L.children};return(ve&1)===0&&b.child!==K?(L=b.child,L.childLanes=0,L.pendingProps=Be,b.deletions=null):(L=nu(K,Be),L.subtreeFlags=K.subtreeFlags&14680064),Fe!==null?ne=nu(Fe,ne):(ne=Fd(ne,ve,A,null),ne.flags|=2),ne.return=b,L.return=b,L.sibling=ne,b.child=L,L=ne,ne=b.child,ve=m.child.memoizedState,ve=ve===null?pE(A):{baseLanes:ve.baseLanes|A,cachePool:null,transitions:ve.transitions},ne.memoizedState=ve,ne.childLanes=m.childLanes&~A,b.memoizedState=hE,L}return ne=m.child,m=ne.sibling,L=nu(ne,{mode:"visible",children:L.children}),(b.mode&1)===0&&(L.lanes=A),L.return=b,L.sibling=null,m!==null&&(A=b.deletions,A===null?(b.deletions=[m],b.flags|=16):A.push(m)),b.child=L,b.memoizedState=null,L}function mE(m,b){return b=lx({mode:"visible",children:b},m.mode,0,null),b.return=m,m.child=b}function X1(m,b,A,L){return L!==null&&WT(L),qh(b,m.child,null,A),m=mE(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function GQ(m,b,A,L,K,ne,ve){if(A)return b.flags&256?(b.flags&=-257,L=cE(Error(n(422))),X1(m,b,ve,L)):b.memoizedState!==null?(b.child=m.child,b.flags|=128,null):(ne=L.fallback,K=b.mode,L=lx({mode:"visible",children:L.children},K,0,null),ne=Fd(ne,K,ve,null),ne.flags|=2,L.return=b,ne.return=b,L.sibling=ne,b.child=L,(b.mode&1)!==0&&qh(b,m.child,null,ve),b.child.memoizedState=pE(ve),b.memoizedState=hE,ne);if((b.mode&1)===0)return X1(m,b,ve,null);if(K.data==="$!"){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Fe=L.dgst;return L=Fe,ne=Error(n(419)),L=cE(ne,L,void 0),X1(m,b,ve,L)}if(Fe=(ve&m.childLanes)!==0,Js||Fe){if(L=Ii,L!==null){switch(ve&-ve){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(L.suspendedLanes|ve))!==0?0:K,K!==0&&K!==ne.retryLane&&(ne.retryLane=K,Gl(m,K),Do(L,m,K,-1))}return IE(),L=cE(Error(n(421))),X1(m,b,ve,L)}return K.data==="$?"?(b.flags|=128,b.child=m.child,b=aZ.bind(null,m),K._reactRetry=b,null):(m=ne.treeContext,_a=zc(K.nextSibling),ba=b,wr=!0,To=null,m!==null&&(Ba[Va++]=zl,Ba[Va++]=Hl,Ba[Va++]=Cd,zl=m.id,Hl=m.overflow,Cd=b),b=mE(b,L.children),b.flags|=4096,b)}function NR(m,b,A){m.lanes|=b;var L=m.alternate;L!==null&&(L.lanes|=b),HT(m.return,b,A)}function gE(m,b,A,L,K){var ne=m.memoizedState;ne===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:L,tail:A,tailMode:K}:(ne.isBackwards=b,ne.rendering=null,ne.renderingStartTime=0,ne.last=L,ne.tail=A,ne.tailMode=K)}function kR(m,b,A){var L=b.pendingProps,K=L.revealOrder,ne=L.tail;if(ks(m,b,L.children,A),L=kr.current,(L&2)!==0)L=L&1|2,b.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&NR(m,A,b);else if(m.tag===19)NR(m,A,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(ir(kr,L),(b.mode&1)===0)b.memoizedState=null;else switch(K){case"forwards":for(A=b.child,K=null;A!==null;)m=A.alternate,m!==null&&W1(m)===null&&(K=A),A=A.sibling;A=K,A===null?(K=b.child,b.child=null):(K=A.sibling,A.sibling=null),gE(b,!1,K,A,ne);break;case"backwards":for(A=null,K=b.child,b.child=null;K!==null;){if(m=K.alternate,m!==null&&W1(m)===null){b.child=K;break}m=K.sibling,K.sibling=A,A=K,K=m}gE(b,!0,A,null,ne);break;case"together":gE(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function J1(m,b){(b.mode&1)===0&&m!==null&&(m.alternate=null,b.alternate=null,b.flags|=2)}function Xl(m,b,A){if(m!==null&&(b.dependencies=m.dependencies),kd|=b.lanes,(A&b.childLanes)===0)return null;if(m!==null&&b.child!==m.child)throw Error(n(153));if(b.child!==null){for(m=b.child,A=nu(m,m.pendingProps),b.child=A,A.return=b;m.sibling!==null;)m=m.sibling,A=A.sibling=nu(m,m.pendingProps),A.return=b;A.sibling=null}return b.child}function KQ(m,b,A){switch(b.tag){case 3:SR(b),Wh();break;case 5:$5(b);break;case 1:Xs(b.type)&&R1(b);break;case 4:XT(b,b.stateNode.containerInfo);break;case 10:var L=b.type._context,K=b.memoizedProps.value;ir(L1,L._currentValue),L._currentValue=K;break;case 13:if(L=b.memoizedState,L!==null)return L.dehydrated!==null?(ir(kr,kr.current&1),b.flags|=128,null):(A&b.child.childLanes)!==0?AR(m,b,A):(ir(kr,kr.current&1),m=Xl(m,b,A),m!==null?m.sibling:null);ir(kr,kr.current&1);break;case 19:if(L=(A&b.childLanes)!==0,(m.flags&128)!==0){if(L)return kR(m,b,A);b.flags|=128}if(K=b.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),ir(kr,kr.current),L)break;return null;case 22:case 23:return b.lanes=0,TR(m,b,A)}return Xl(m,b,A)}var IR,yE,RR,PR;IR=function(m,b){for(var A=b.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===b)break;for(;A.sibling===null;){if(A.return===null||A.return===b)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},yE=function(){},RR=function(m,b,A,L){var K=m.memoizedProps;if(K!==L){m=b.stateNode,Ad(el.current);var ne=null;switch(A){case"input":K=V(m,K),L=V(m,L),ne=[];break;case"select":K=Y({},K,{value:void 0}),L=Y({},L,{value:void 0}),ne=[];break;case"textarea":K=ie(m,K),L=ie(m,L),ne=[];break;default:typeof K.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=N1)}dn(A,L);var ve;A=null;for(et in K)if(!L.hasOwnProperty(et)&&K.hasOwnProperty(et)&&K[et]!=null)if(et==="style"){var Fe=K[et];for(ve in Fe)Fe.hasOwnProperty(ve)&&(A||(A={}),A[ve]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(i.hasOwnProperty(et)?ne||(ne=[]):(ne=ne||[]).push(et,null));for(et in L){var Be=L[et];if(Fe=K!=null?K[et]:void 0,L.hasOwnProperty(et)&&Be!==Fe&&(Be!=null||Fe!=null))if(et==="style")if(Fe){for(ve in Fe)!Fe.hasOwnProperty(ve)||Be&&Be.hasOwnProperty(ve)||(A||(A={}),A[ve]="");for(ve in Be)Be.hasOwnProperty(ve)&&Fe[ve]!==Be[ve]&&(A||(A={}),A[ve]=Be[ve])}else A||(ne||(ne=[]),ne.push(et,A)),A=Be;else et==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Fe=Fe?Fe.__html:void 0,Be!=null&&Fe!==Be&&(ne=ne||[]).push(et,Be)):et==="children"?typeof Be!="string"&&typeof Be!="number"||(ne=ne||[]).push(et,""+Be):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(i.hasOwnProperty(et)?(Be!=null&&et==="onScroll"&&fr("scroll",m),ne||Fe===Be||(ne=[])):(ne=ne||[]).push(et,Be))}A&&(ne=ne||[]).push("style",A);var et=ne;(b.updateQueue=et)&&(b.flags|=4)}},PR=function(m,b,A,L){A!==L&&(b.flags|=4)};function Pg(m,b){if(!wr)switch(m.tailMode){case"hidden":b=m.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var L=null;A!==null;)A.alternate!==null&&(L=A),A=A.sibling;L===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function ss(m){var b=m.alternate!==null&&m.alternate.child===m.child,A=0,L=0;if(b)for(var K=m.child;K!==null;)A|=K.lanes|K.childLanes,L|=K.subtreeFlags&14680064,L|=K.flags&14680064,K.return=m,K=K.sibling;else for(K=m.child;K!==null;)A|=K.lanes|K.childLanes,L|=K.subtreeFlags,L|=K.flags,K.return=m,K=K.sibling;return m.subtreeFlags|=L,m.childLanes=A,b}function XQ(m,b,A){var L=b.pendingProps;switch(jT(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ss(b),null;case 1:return Xs(b.type)&&I1(),ss(b),null;case 3:return L=b.stateNode,Hh(),hr(Ks),hr(rs),QT(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(U1(b)?b.flags|=4:m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,To!==null&&(AE(To),To=null))),yE(m,b),ss(b),null;case 5:JT(b);var K=Ad(Ag.current);if(A=b.type,m!==null&&b.stateNode!=null)RR(m,b,A,L,K),m.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!L){if(b.stateNode===null)throw Error(n(166));return ss(b),null}if(m=Ad(el.current),U1(b)){L=b.stateNode,A=b.type;var ne=b.memoizedProps;switch(L[Zo]=b,L[Tg]=ne,m=(b.mode&1)!==0,A){case"dialog":fr("cancel",L),fr("close",L);break;case"iframe":case"object":case"embed":fr("load",L);break;case"video":case"audio":for(K=0;K<bg.length;K++)fr(bg[K],L);break;case"source":fr("error",L);break;case"img":case"image":case"link":fr("error",L),fr("load",L);break;case"details":fr("toggle",L);break;case"input":xe(L,ne),fr("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!ne.multiple},fr("invalid",L);break;case"textarea":ce(L,ne),fr("invalid",L)}dn(A,ne),K=null;for(var ve in ne)if(ne.hasOwnProperty(ve)){var Fe=ne[ve];ve==="children"?typeof Fe=="string"?L.textContent!==Fe&&(ne.suppressHydrationWarning!==!0&&A1(L.textContent,Fe,m),K=["children",Fe]):typeof Fe=="number"&&L.textContent!==""+Fe&&(ne.suppressHydrationWarning!==!0&&A1(L.textContent,Fe,m),K=["children",""+Fe]):i.hasOwnProperty(ve)&&Fe!=null&&ve==="onScroll"&&fr("scroll",L)}switch(A){case"input":Pe(L),re(L,ne,!0);break;case"textarea":Pe(L),ge(L);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(L.onclick=N1)}L=K,b.updateQueue=L,L!==null&&(b.flags|=4)}else{ve=K.nodeType===9?K:K.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=De(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=ve.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=ve.createElement(A,{is:L.is}):(m=ve.createElement(A),A==="select"&&(ve=m,L.multiple?ve.multiple=!0:L.size&&(ve.size=L.size))):m=ve.createElementNS(m,A),m[Zo]=b,m[Tg]=L,IR(m,b,!1,!1),b.stateNode=m;e:{switch(ve=ur(A,L),A){case"dialog":fr("cancel",m),fr("close",m),K=L;break;case"iframe":case"object":case"embed":fr("load",m),K=L;break;case"video":case"audio":for(K=0;K<bg.length;K++)fr(bg[K],m);K=L;break;case"source":fr("error",m),K=L;break;case"img":case"image":case"link":fr("error",m),fr("load",m),K=L;break;case"details":fr("toggle",m),K=L;break;case"input":xe(m,L),K=V(m,L),fr("invalid",m);break;case"option":K=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},K=Y({},L,{value:void 0}),fr("invalid",m);break;case"textarea":ce(m,L),K=ie(m,L),fr("invalid",m);break;default:K=L}dn(A,K),Fe=K;for(ne in Fe)if(Fe.hasOwnProperty(ne)){var Be=Fe[ne];ne==="style"?Bt(m,Be):ne==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Be!=null&&Ue(m,Be)):ne==="children"?typeof Be=="string"?(A!=="textarea"||Be!=="")&&Le(m,Be):typeof Be=="number"&&Le(m,""+Be):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?Be!=null&&ne==="onScroll"&&fr("scroll",m):Be!=null&&w(m,ne,Be,ve))}switch(A){case"input":Pe(m),re(m,L,!1);break;case"textarea":Pe(m),ge(m);break;case"option":L.value!=null&&m.setAttribute("value",""+ue(L.value));break;case"select":m.multiple=!!L.multiple,ne=L.value,ne!=null?be(m,!!L.multiple,ne,!1):L.defaultValue!=null&&be(m,!!L.multiple,L.defaultValue,!0);break;default:typeof K.onClick=="function"&&(m.onclick=N1)}switch(A){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return ss(b),null;case 6:if(m&&b.stateNode!=null)PR(m,b,m.memoizedProps,L);else{if(typeof L!="string"&&b.stateNode===null)throw Error(n(166));if(A=Ad(Ag.current),Ad(el.current),U1(b)){if(L=b.stateNode,A=b.memoizedProps,L[Zo]=b,(ne=L.nodeValue!==A)&&(m=ba,m!==null))switch(m.tag){case 3:A1(L.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&A1(L.nodeValue,A,(m.mode&1)!==0)}ne&&(b.flags|=4)}else L=(A.nodeType===9?A:A.ownerDocument).createTextNode(L),L[Zo]=b,b.stateNode=L}return ss(b),null;case 13:if(hr(kr),L=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(wr&&_a!==null&&(b.mode&1)!==0&&(b.flags&128)===0)U5(),Wh(),b.flags|=98560,ne=!1;else if(ne=U1(b),L!==null&&L.dehydrated!==null){if(m===null){if(!ne)throw Error(n(318));if(ne=b.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(n(317));ne[Zo]=b}else Wh(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;ss(b),ne=!1}else To!==null&&(AE(To),To=null),ne=!0;if(!ne)return b.flags&65536?b:null}return(b.flags&128)!==0?(b.lanes=A,b):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(b.child.flags|=8192,(b.mode&1)!==0&&(m===null||(kr.current&1)!==0?vi===0&&(vi=3):IE())),b.updateQueue!==null&&(b.flags|=4),ss(b),null);case 4:return Hh(),yE(m,b),m===null&&_g(b.stateNode.containerInfo),ss(b),null;case 10:return zT(b.type._context),ss(b),null;case 17:return Xs(b.type)&&I1(),ss(b),null;case 19:if(hr(kr),ne=b.memoizedState,ne===null)return ss(b),null;if(L=(b.flags&128)!==0,ve=ne.rendering,ve===null)if(L)Pg(ne,!1);else{if(vi!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(ve=W1(m),ve!==null){for(b.flags|=128,Pg(ne,!1),L=ve.updateQueue,L!==null&&(b.updateQueue=L,b.flags|=4),b.subtreeFlags=0,L=A,A=b.child;A!==null;)ne=A,m=L,ne.flags&=14680066,ve=ne.alternate,ve===null?(ne.childLanes=0,ne.lanes=m,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=ve.childLanes,ne.lanes=ve.lanes,ne.child=ve.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=ve.memoizedProps,ne.memoizedState=ve.memoizedState,ne.updateQueue=ve.updateQueue,ne.type=ve.type,m=ve.dependencies,ne.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return ir(kr,kr.current&1|2),b.child}m=m.sibling}ne.tail!==null&&Ve()>Jh&&(b.flags|=128,L=!0,Pg(ne,!1),b.lanes=4194304)}else{if(!L)if(m=W1(ve),m!==null){if(b.flags|=128,L=!0,A=m.updateQueue,A!==null&&(b.updateQueue=A,b.flags|=4),Pg(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!ve.alternate&&!wr)return ss(b),null}else 2*Ve()-ne.renderingStartTime>Jh&&A!==1073741824&&(b.flags|=128,L=!0,Pg(ne,!1),b.lanes=4194304);ne.isBackwards?(ve.sibling=b.child,b.child=ve):(A=ne.last,A!==null?A.sibling=ve:b.child=ve,ne.last=ve)}return ne.tail!==null?(b=ne.tail,ne.rendering=b,ne.tail=b.sibling,ne.renderingStartTime=Ve(),b.sibling=null,A=kr.current,ir(kr,L?A&1|2:A&1),b):(ss(b),null);case 22:case 23:return kE(),L=b.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(b.flags|=8192),L&&(b.mode&1)!==0?(wa&1073741824)!==0&&(ss(b),b.subtreeFlags&6&&(b.flags|=8192)):ss(b),null;case 24:return null;case 25:return null}throw Error(n(156,b.tag))}function JQ(m,b){switch(jT(b),b.tag){case 1:return Xs(b.type)&&I1(),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return Hh(),hr(Ks),hr(rs),QT(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 5:return JT(b),null;case 13:if(hr(kr),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(n(340));Wh()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return hr(kr),null;case 4:return Hh(),null;case 10:return zT(b.type._context),null;case 22:case 23:return kE(),null;case 24:return null;default:return null}}var Y1=!1,as=!1,YQ=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Kh(m,b){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(L){jr(m,b,L)}else A.current=null}function vE(m,b,A){try{A()}catch(L){jr(m,b,L)}}var FR=!1;function QQ(m,b){if(kT=Wc,m=f5(),wT(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var L=A.getSelection&&A.getSelection();if(L&&L.rangeCount!==0){A=L.anchorNode;var K=L.anchorOffset,ne=L.focusNode;L=L.focusOffset;try{A.nodeType,ne.nodeType}catch{A=null;break e}var ve=0,Fe=-1,Be=-1,et=0,mt=0,yt=m,ht=null;t:for(;;){for(var Nt;yt!==A||K!==0&&yt.nodeType!==3||(Fe=ve+K),yt!==ne||L!==0&&yt.nodeType!==3||(Be=ve+L),yt.nodeType===3&&(ve+=yt.nodeValue.length),(Nt=yt.firstChild)!==null;)ht=yt,yt=Nt;for(;;){if(yt===m)break t;if(ht===A&&++et===K&&(Fe=ve),ht===ne&&++mt===L&&(Be=ve),(Nt=yt.nextSibling)!==null)break;yt=ht,ht=yt.parentNode}yt=Nt}A=Fe===-1||Be===-1?null:{start:Fe,end:Be}}else A=null}A=A||{start:0,end:0}}else A=null;for(IT={focusedElem:m,selectionRange:A},Wc=!1,Rt=b;Rt!==null;)if(b=Rt,m=b.child,(b.subtreeFlags&1028)!==0&&m!==null)m.return=b,Rt=m;else for(;Rt!==null;){b=Rt;try{var Mt=b.alternate;if((b.flags&1024)!==0)switch(b.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Ot=Mt.memoizedProps,Qr=Mt.memoizedState,Ke=b.stateNode,We=Ke.getSnapshotBeforeUpdate(b.elementType===b.type?Ot:Eo(b.type,Ot),Qr);Ke.__reactInternalSnapshotBeforeUpdate=We}break;case 3:var Qe=b.stateNode.containerInfo;Qe.nodeType===1?Qe.textContent="":Qe.nodeType===9&&Qe.documentElement&&Qe.removeChild(Qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){jr(b,b.return,bt)}if(m=b.sibling,m!==null){m.return=b.return,Rt=m;break}Rt=b.return}return Mt=FR,FR=!1,Mt}function Fg(m,b,A){var L=b.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var K=L=L.next;do{if((K.tag&m)===m){var ne=K.destroy;K.destroy=void 0,ne!==void 0&&vE(b,A,ne)}K=K.next}while(K!==L)}}function Q1(m,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&m)===m){var L=A.create;A.destroy=L()}A=A.next}while(A!==b)}}function xE(m){var b=m.ref;if(b!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof b=="function"?b(m):b.current=m}}function MR(m){var b=m.alternate;b!==null&&(m.alternate=null,MR(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&(delete b[Zo],delete b[Tg],delete b[MT],delete b[FQ],delete b[MQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function UR(m){return m.tag===5||m.tag===3||m.tag===4}function OR(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||UR(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function bE(m,b,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,b?A.nodeType===8?A.parentNode.insertBefore(m,b):A.insertBefore(m,b):(A.nodeType===8?(b=A.parentNode,b.insertBefore(m,A)):(b=A,b.appendChild(m)),A=A._reactRootContainer,A!=null||b.onclick!==null||(b.onclick=N1));else if(L!==4&&(m=m.child,m!==null))for(bE(m,b,A),m=m.sibling;m!==null;)bE(m,b,A),m=m.sibling}function _E(m,b,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,b?A.insertBefore(m,b):A.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(_E(m,b,A),m=m.sibling;m!==null;)_E(m,b,A),m=m.sibling}var Gi=null,Co=!1;function Yc(m,b,A){for(A=A.child;A!==null;)LR(m,b,A),A=A.sibling}function LR(m,b,A){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(on,A)}catch{}switch(A.tag){case 5:as||Kh(A,b);case 6:var L=Gi,K=Co;Gi=null,Yc(m,b,A),Gi=L,Co=K,Gi!==null&&(Co?(m=Gi,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):Gi.removeChild(A.stateNode));break;case 18:Gi!==null&&(Co?(m=Gi,A=A.stateNode,m.nodeType===8?FT(m.parentNode,A):m.nodeType===1&&FT(m,A),bo(m)):FT(Gi,A.stateNode));break;case 4:L=Gi,K=Co,Gi=A.stateNode.containerInfo,Co=!0,Yc(m,b,A),Gi=L,Co=K;break;case 0:case 11:case 14:case 15:if(!as&&(L=A.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){K=L=L.next;do{var ne=K,ve=ne.destroy;ne=ne.tag,ve!==void 0&&((ne&2)!==0||(ne&4)!==0)&&vE(A,b,ve),K=K.next}while(K!==L)}Yc(m,b,A);break;case 1:if(!as&&(Kh(A,b),L=A.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=A.memoizedProps,L.state=A.memoizedState,L.componentWillUnmount()}catch(Fe){jr(A,b,Fe)}Yc(m,b,A);break;case 21:Yc(m,b,A);break;case 22:A.mode&1?(as=(L=as)||A.memoizedState!==null,Yc(m,b,A),as=L):Yc(m,b,A);break;default:Yc(m,b,A)}}function jR(m){var b=m.updateQueue;if(b!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new YQ),b.forEach(function(L){var K=oZ.bind(null,m,L);A.has(L)||(A.add(L),L.then(K,K))})}}function So(m,b){var A=b.deletions;if(A!==null)for(var L=0;L<A.length;L++){var K=A[L];try{var ne=m,ve=b,Fe=ve;e:for(;Fe!==null;){switch(Fe.tag){case 5:Gi=Fe.stateNode,Co=!1;break e;case 3:Gi=Fe.stateNode.containerInfo,Co=!0;break e;case 4:Gi=Fe.stateNode.containerInfo,Co=!0;break e}Fe=Fe.return}if(Gi===null)throw Error(n(160));LR(ne,ve,K),Gi=null,Co=!1;var Be=K.alternate;Be!==null&&(Be.return=null),K.return=null}catch(et){jr(K,b,et)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)BR(b,m),b=b.sibling}function BR(m,b){var A=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(So(b,m),nl(m),L&4){try{Fg(3,m,m.return),Q1(3,m)}catch(Ot){jr(m,m.return,Ot)}try{Fg(5,m,m.return)}catch(Ot){jr(m,m.return,Ot)}}break;case 1:So(b,m),nl(m),L&512&&A!==null&&Kh(A,A.return);break;case 5:if(So(b,m),nl(m),L&512&&A!==null&&Kh(A,A.return),m.flags&32){var K=m.stateNode;try{Le(K,"")}catch(Ot){jr(m,m.return,Ot)}}if(L&4&&(K=m.stateNode,K!=null)){var ne=m.memoizedProps,ve=A!==null?A.memoizedProps:ne,Fe=m.type,Be=m.updateQueue;if(m.updateQueue=null,Be!==null)try{Fe==="input"&&ne.type==="radio"&&ne.name!=null&&_e(K,ne),ur(Fe,ve);var et=ur(Fe,ne);for(ve=0;ve<Be.length;ve+=2){var mt=Be[ve],yt=Be[ve+1];mt==="style"?Bt(K,yt):mt==="dangerouslySetInnerHTML"?Ue(K,yt):mt==="children"?Le(K,yt):w(K,mt,yt,et)}switch(Fe){case"input":le(K,ne);break;case"textarea":me(K,ne);break;case"select":var ht=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!ne.multiple;var Nt=ne.value;Nt!=null?be(K,!!ne.multiple,Nt,!1):ht!==!!ne.multiple&&(ne.defaultValue!=null?be(K,!!ne.multiple,ne.defaultValue,!0):be(K,!!ne.multiple,ne.multiple?[]:"",!1))}K[Tg]=ne}catch(Ot){jr(m,m.return,Ot)}}break;case 6:if(So(b,m),nl(m),L&4){if(m.stateNode===null)throw Error(n(162));K=m.stateNode,ne=m.memoizedProps;try{K.nodeValue=ne}catch(Ot){jr(m,m.return,Ot)}}break;case 3:if(So(b,m),nl(m),L&4&&A!==null&&A.memoizedState.isDehydrated)try{bo(b.containerInfo)}catch(Ot){jr(m,m.return,Ot)}break;case 4:So(b,m),nl(m);break;case 13:So(b,m),nl(m),K=m.child,K.flags&8192&&(ne=K.memoizedState!==null,K.stateNode.isHidden=ne,!ne||K.alternate!==null&&K.alternate.memoizedState!==null||(EE=Ve())),L&4&&jR(m);break;case 22:if(mt=A!==null&&A.memoizedState!==null,m.mode&1?(as=(et=as)||mt,So(b,m),as=et):So(b,m),nl(m),L&8192){if(et=m.memoizedState!==null,(m.stateNode.isHidden=et)&&!mt&&(m.mode&1)!==0)for(Rt=m,mt=m.child;mt!==null;){for(yt=Rt=mt;Rt!==null;){switch(ht=Rt,Nt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Fg(4,ht,ht.return);break;case 1:Kh(ht,ht.return);var Mt=ht.stateNode;if(typeof Mt.componentWillUnmount=="function"){L=ht,A=ht.return;try{b=L,Mt.props=b.memoizedProps,Mt.state=b.memoizedState,Mt.componentWillUnmount()}catch(Ot){jr(L,A,Ot)}}break;case 5:Kh(ht,ht.return);break;case 22:if(ht.memoizedState!==null){qR(yt);continue}}Nt!==null?(Nt.return=ht,Rt=Nt):qR(yt)}mt=mt.sibling}e:for(mt=null,yt=m;;){if(yt.tag===5){if(mt===null){mt=yt;try{K=yt.stateNode,et?(ne=K.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(Fe=yt.stateNode,Be=yt.memoizedProps.style,ve=Be!=null&&Be.hasOwnProperty("display")?Be.display:null,Fe.style.display=ct("display",ve))}catch(Ot){jr(m,m.return,Ot)}}}else if(yt.tag===6){if(mt===null)try{yt.stateNode.nodeValue=et?"":yt.memoizedProps}catch(Ot){jr(m,m.return,Ot)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===m)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===m)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===m)break e;mt===yt&&(mt=null),yt=yt.return}mt===yt&&(mt=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:So(b,m),nl(m),L&4&&jR(m);break;case 21:break;default:So(b,m),nl(m)}}function nl(m){var b=m.flags;if(b&2){try{e:{for(var A=m.return;A!==null;){if(UR(A)){var L=A;break e}A=A.return}throw Error(n(160))}switch(L.tag){case 5:var K=L.stateNode;L.flags&32&&(Le(K,""),L.flags&=-33);var ne=OR(m);_E(m,ne,K);break;case 3:case 4:var ve=L.stateNode.containerInfo,Fe=OR(m);bE(m,Fe,ve);break;default:throw Error(n(161))}}catch(Be){jr(m,m.return,Be)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function ZQ(m,b,A){Rt=m,VR(m)}function VR(m,b,A){for(var L=(m.mode&1)!==0;Rt!==null;){var K=Rt,ne=K.child;if(K.tag===22&&L){var ve=K.memoizedState!==null||Y1;if(!ve){var Fe=K.alternate,Be=Fe!==null&&Fe.memoizedState!==null||as;Fe=Y1;var et=as;if(Y1=ve,(as=Be)&&!et)for(Rt=K;Rt!==null;)ve=Rt,Be=ve.child,ve.tag===22&&ve.memoizedState!==null?$R(K):Be!==null?(Be.return=ve,Rt=Be):$R(K);for(;ne!==null;)Rt=ne,VR(ne),ne=ne.sibling;Rt=K,Y1=Fe,as=et}WR(m)}else(K.subtreeFlags&8772)!==0&&ne!==null?(ne.return=K,Rt=ne):WR(m)}}function WR(m){for(;Rt!==null;){var b=Rt;if((b.flags&8772)!==0){var A=b.alternate;try{if((b.flags&8772)!==0)switch(b.tag){case 0:case 11:case 15:as||Q1(5,b);break;case 1:var L=b.stateNode;if(b.flags&4&&!as)if(A===null)L.componentDidMount();else{var K=b.elementType===b.type?A.memoizedProps:Eo(b.type,A.memoizedProps);L.componentDidUpdate(K,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var ne=b.updateQueue;ne!==null&&q5(b,ne,L);break;case 3:var ve=b.updateQueue;if(ve!==null){if(A=null,b.child!==null)switch(b.child.tag){case 5:A=b.child.stateNode;break;case 1:A=b.child.stateNode}q5(b,ve,A)}break;case 5:var Fe=b.stateNode;if(A===null&&b.flags&4){A=Fe;var Be=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":Be.autoFocus&&A.focus();break;case"img":Be.src&&(A.src=Be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var et=b.alternate;if(et!==null){var mt=et.memoizedState;if(mt!==null){var yt=mt.dehydrated;yt!==null&&bo(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}as||b.flags&512&&xE(b)}catch(ht){jr(b,b.return,ht)}}if(b===m){Rt=null;break}if(A=b.sibling,A!==null){A.return=b.return,Rt=A;break}Rt=b.return}}function qR(m){for(;Rt!==null;){var b=Rt;if(b===m){Rt=null;break}var A=b.sibling;if(A!==null){A.return=b.return,Rt=A;break}Rt=b.return}}function $R(m){for(;Rt!==null;){var b=Rt;try{switch(b.tag){case 0:case 11:case 15:var A=b.return;try{Q1(4,b)}catch(Be){jr(b,A,Be)}break;case 1:var L=b.stateNode;if(typeof L.componentDidMount=="function"){var K=b.return;try{L.componentDidMount()}catch(Be){jr(b,K,Be)}}var ne=b.return;try{xE(b)}catch(Be){jr(b,ne,Be)}break;case 5:var ve=b.return;try{xE(b)}catch(Be){jr(b,ve,Be)}}}catch(Be){jr(b,b.return,Be)}if(b===m){Rt=null;break}var Fe=b.sibling;if(Fe!==null){Fe.return=b.return,Rt=Fe;break}Rt=b.return}}var eZ=Math.ceil,Z1=C.ReactCurrentDispatcher,wE=C.ReactCurrentOwner,$a=C.ReactCurrentBatchConfig,Nn=0,Ii=null,ci=null,Ki=0,wa=0,Xh=Hc(0),vi=0,Mg=null,kd=0,ex=0,TE=0,Ug=null,Ys=null,EE=0,Jh=1/0,Jl=null,tx=!1,CE=null,Qc=null,nx=!1,Zc=null,rx=0,Og=0,SE=null,ix=-1,sx=0;function Is(){return(Nn&6)!==0?Ve():ix!==-1?ix:ix=Ve()}function eu(m){return(m.mode&1)===0?1:(Nn&2)!==0&&Ki!==0?Ki&-Ki:OQ.transition!==null?(sx===0&&(sx=vd()),sx):(m=Cn,m!==0||(m=window.event,m=m===void 0?16:dg(m.type)),m)}function Do(m,b,A,L){if(50<Og)throw Og=0,SE=null,Error(n(185));Lc(m,A,L),((Nn&2)===0||m!==Ii)&&(m===Ii&&((Nn&2)===0&&(ex|=A),vi===4&&tu(m,Ki)),Qs(m,L),A===1&&Nn===0&&(b.mode&1)===0&&(Jh=Ve()+500,P1&&Kc()))}function Qs(m,b){var A=m.callbackNode;Ll(m,b);var L=yd(m,m===Ii?Ki:0);if(L===0)A!==null&&qe(A),m.callbackNode=null,m.callbackPriority=0;else if(b=L&-L,m.callbackPriority!==b){if(A!=null&&qe(A),b===1)m.tag===0?UQ(HR.bind(null,m)):I5(HR.bind(null,m)),RQ(function(){(Nn&6)===0&&Kc()}),A=null;else{switch(Bc(L)){case 1:A=xt;break;case 4:A=Lt;break;case 16:A=qt;break;case 536870912:A=zt;break;default:A=qt}A=e8(A,zR.bind(null,m))}m.callbackPriority=b,m.callbackNode=A}}function zR(m,b){if(ix=-1,sx=0,(Nn&6)!==0)throw Error(n(327));var A=m.callbackNode;if(Yh()&&m.callbackNode!==A)return null;var L=yd(m,m===Ii?Ki:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||b)b=ax(m,L);else{b=L;var K=Nn;Nn|=2;var ne=KR();(Ii!==m||Ki!==b)&&(Jl=null,Jh=Ve()+500,Rd(m,b));do try{rZ();break}catch(Fe){GR(m,Fe)}while(!0);$T(),Z1.current=ne,Nn=K,ci!==null?b=0:(Ii=null,Ki=0,b=vi)}if(b!==0){if(b===2&&(K=ya(m),K!==0&&(L=K,b=DE(m,K))),b===1)throw A=Mg,Rd(m,0),tu(m,L),Qs(m,Ve()),A;if(b===6)tu(m,L);else{if(K=m.current.alternate,(L&30)===0&&!tZ(K)&&(b=ax(m,L),b===2&&(ne=ya(m),ne!==0&&(L=ne,b=DE(m,ne))),b===1))throw A=Mg,Rd(m,0),tu(m,L),Qs(m,Ve()),A;switch(m.finishedWork=K,m.finishedLanes=L,b){case 0:case 1:throw Error(n(345));case 2:Pd(m,Ys,Jl);break;case 3:if(tu(m,L),(L&130023424)===L&&(b=EE+500-Ve(),10<b)){if(yd(m,0)!==0)break;if(K=m.suspendedLanes,(K&L)!==L){Is(),m.pingedLanes|=m.suspendedLanes&K;break}m.timeoutHandle=PT(Pd.bind(null,m,Ys,Jl),b);break}Pd(m,Ys,Jl);break;case 4:if(tu(m,L),(L&4194240)===L)break;for(b=m.eventTimes,K=-1;0<L;){var ve=31-En(L);ne=1<<ve,ve=b[ve],ve>K&&(K=ve),L&=~ne}if(L=K,L=Ve()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*eZ(L/1960))-L,10<L){m.timeoutHandle=PT(Pd.bind(null,m,Ys,Jl),L);break}Pd(m,Ys,Jl);break;case 5:Pd(m,Ys,Jl);break;default:throw Error(n(329))}}}return Qs(m,Ve()),m.callbackNode===A?zR.bind(null,m):null}function DE(m,b){var A=Ug;return m.current.memoizedState.isDehydrated&&(Rd(m,b).flags|=256),m=ax(m,b),m!==2&&(b=Ys,Ys=A,b!==null&&AE(b)),m}function AE(m){Ys===null?Ys=m:Ys.push.apply(Ys,m)}function tZ(m){for(var b=m;;){if(b.flags&16384){var A=b.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var L=0;L<A.length;L++){var K=A[L],ne=K.getSnapshot;K=K.value;try{if(!wo(ne(),K))return!1}catch{return!1}}}if(A=b.child,b.subtreeFlags&16384&&A!==null)A.return=b,b=A;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function tu(m,b){for(b&=~TE,b&=~ex,m.suspendedLanes|=b,m.pingedLanes&=~b,m=m.expirationTimes;0<b;){var A=31-En(b),L=1<<A;m[A]=-1,b&=~L}}function HR(m){if((Nn&6)!==0)throw Error(n(327));Yh();var b=yd(m,0);if((b&1)===0)return Qs(m,Ve()),null;var A=ax(m,b);if(m.tag!==0&&A===2){var L=ya(m);L!==0&&(b=L,A=DE(m,L))}if(A===1)throw A=Mg,Rd(m,0),tu(m,b),Qs(m,Ve()),A;if(A===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=b,Pd(m,Ys,Jl),Qs(m,Ve()),null}function NE(m,b){var A=Nn;Nn|=1;try{return m(b)}finally{Nn=A,Nn===0&&(Jh=Ve()+500,P1&&Kc())}}function Id(m){Zc!==null&&Zc.tag===0&&(Nn&6)===0&&Yh();var b=Nn;Nn|=1;var A=$a.transition,L=Cn;try{if($a.transition=null,Cn=1,m)return m()}finally{Cn=L,$a.transition=A,Nn=b,(Nn&6)===0&&Kc()}}function kE(){wa=Xh.current,hr(Xh)}function Rd(m,b){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,IQ(A)),ci!==null)for(A=ci.return;A!==null;){var L=A;switch(jT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&I1();break;case 3:Hh(),hr(Ks),hr(rs),QT();break;case 5:JT(L);break;case 4:Hh();break;case 13:hr(kr);break;case 19:hr(kr);break;case 10:zT(L.type._context);break;case 22:case 23:kE()}A=A.return}if(Ii=m,ci=m=nu(m.current,null),Ki=wa=b,vi=0,Mg=null,TE=ex=kd=0,Ys=Ug=null,Dd!==null){for(b=0;b<Dd.length;b++)if(A=Dd[b],L=A.interleaved,L!==null){A.interleaved=null;var K=L.next,ne=A.pending;if(ne!==null){var ve=ne.next;ne.next=K,L.next=ve}A.pending=L}Dd=null}return m}function GR(m,b){do{var A=ci;try{if($T(),q1.current=G1,$1){for(var L=Ir.memoizedState;L!==null;){var K=L.queue;K!==null&&(K.pending=null),L=L.next}$1=!1}if(Nd=0,ki=yi=Ir=null,Ng=!1,kg=0,wE.current=null,A===null||A.return===null){vi=1,Mg=b,ci=null;break}e:{var ne=m,ve=A.return,Fe=A,Be=b;if(b=Ki,Fe.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var et=Be,mt=Fe,yt=mt.tag;if((mt.mode&1)===0&&(yt===0||yt===11||yt===15)){var ht=mt.alternate;ht?(mt.updateQueue=ht.updateQueue,mt.memoizedState=ht.memoizedState,mt.lanes=ht.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Nt=vR(ve);if(Nt!==null){Nt.flags&=-257,xR(Nt,ve,Fe,ne,b),Nt.mode&1&&yR(ne,et,b),b=Nt,Be=et;var Mt=b.updateQueue;if(Mt===null){var Ot=new Set;Ot.add(Be),b.updateQueue=Ot}else Mt.add(Be);break e}else{if((b&1)===0){yR(ne,et,b),IE();break e}Be=Error(n(426))}}else if(wr&&Fe.mode&1){var Qr=vR(ve);if(Qr!==null){(Qr.flags&65536)===0&&(Qr.flags|=256),xR(Qr,ve,Fe,ne,b),WT(Gh(Be,Fe));break e}}ne=Be=Gh(Be,Fe),vi!==4&&(vi=2),Ug===null?Ug=[ne]:Ug.push(ne),ne=ve;do{switch(ne.tag){case 3:ne.flags|=65536,b&=-b,ne.lanes|=b;var Ke=mR(ne,Be,b);W5(ne,Ke);break e;case 1:Fe=Be;var We=ne.type,Qe=ne.stateNode;if((ne.flags&128)===0&&(typeof We.getDerivedStateFromError=="function"||Qe!==null&&typeof Qe.componentDidCatch=="function"&&(Qc===null||!Qc.has(Qe)))){ne.flags|=65536,b&=-b,ne.lanes|=b;var bt=gR(ne,Fe,b);W5(ne,bt);break e}}ne=ne.return}while(ne!==null)}JR(A)}catch(jt){b=jt,ci===A&&A!==null&&(ci=A=A.return);continue}break}while(!0)}function KR(){var m=Z1.current;return Z1.current=G1,m===null?G1:m}function IE(){(vi===0||vi===3||vi===2)&&(vi=4),Ii===null||(kd&268435455)===0&&(ex&268435455)===0||tu(Ii,Ki)}function ax(m,b){var A=Nn;Nn|=2;var L=KR();(Ii!==m||Ki!==b)&&(Jl=null,Rd(m,b));do try{nZ();break}catch(K){GR(m,K)}while(!0);if($T(),Nn=A,Z1.current=L,ci!==null)throw Error(n(261));return Ii=null,Ki=0,vi}function nZ(){for(;ci!==null;)XR(ci)}function rZ(){for(;ci!==null&&!st();)XR(ci)}function XR(m){var b=ZR(m.alternate,m,wa);m.memoizedProps=m.pendingProps,b===null?JR(m):ci=b,wE.current=null}function JR(m){var b=m;do{var A=b.alternate;if(m=b.return,(b.flags&32768)===0){if(A=XQ(A,b,wa),A!==null){ci=A;return}}else{if(A=JQ(A,b),A!==null){A.flags&=32767,ci=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{vi=6,ci=null;return}}if(b=b.sibling,b!==null){ci=b;return}ci=b=m}while(b!==null);vi===0&&(vi=5)}function Pd(m,b,A){var L=Cn,K=$a.transition;try{$a.transition=null,Cn=1,iZ(m,b,A,L)}finally{$a.transition=K,Cn=L}return null}function iZ(m,b,A,L){do Yh();while(Zc!==null);if((Nn&6)!==0)throw Error(n(327));A=m.finishedWork;var K=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var ne=A.lanes|A.childLanes;if(tr(m,ne),m===Ii&&(ci=Ii=null,Ki=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||nx||(nx=!0,e8(qt,function(){return Yh(),null})),ne=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||ne){ne=$a.transition,$a.transition=null;var ve=Cn;Cn=1;var Fe=Nn;Nn|=4,wE.current=null,QQ(m,A),BR(A,m),EQ(IT),Wc=!!kT,IT=kT=null,m.current=A,ZQ(A),tt(),Nn=Fe,Cn=ve,$a.transition=ne}else m.current=A;if(nx&&(nx=!1,Zc=m,rx=K),ne=m.pendingLanes,ne===0&&(Qc=null),$s(A.stateNode),Qs(m,Ve()),b!==null)for(L=m.onRecoverableError,A=0;A<b.length;A++)K=b[A],L(K.value,{componentStack:K.stack,digest:K.digest});if(tx)throw tx=!1,m=CE,CE=null,m;return(rx&1)!==0&&m.tag!==0&&Yh(),ne=m.pendingLanes,(ne&1)!==0?m===SE?Og++:(Og=0,SE=m):Og=0,Kc(),null}function Yh(){if(Zc!==null){var m=Bc(rx),b=$a.transition,A=Cn;try{if($a.transition=null,Cn=16>m?16:m,Zc===null)var L=!1;else{if(m=Zc,Zc=null,rx=0,(Nn&6)!==0)throw Error(n(331));var K=Nn;for(Nn|=4,Rt=m.current;Rt!==null;){var ne=Rt,ve=ne.child;if((Rt.flags&16)!==0){var Fe=ne.deletions;if(Fe!==null){for(var Be=0;Be<Fe.length;Be++){var et=Fe[Be];for(Rt=et;Rt!==null;){var mt=Rt;switch(mt.tag){case 0:case 11:case 15:Fg(8,mt,ne)}var yt=mt.child;if(yt!==null)yt.return=mt,Rt=yt;else for(;Rt!==null;){mt=Rt;var ht=mt.sibling,Nt=mt.return;if(MR(mt),mt===et){Rt=null;break}if(ht!==null){ht.return=Nt,Rt=ht;break}Rt=Nt}}}var Mt=ne.alternate;if(Mt!==null){var Ot=Mt.child;if(Ot!==null){Mt.child=null;do{var Qr=Ot.sibling;Ot.sibling=null,Ot=Qr}while(Ot!==null)}}Rt=ne}}if((ne.subtreeFlags&2064)!==0&&ve!==null)ve.return=ne,Rt=ve;else e:for(;Rt!==null;){if(ne=Rt,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:Fg(9,ne,ne.return)}var Ke=ne.sibling;if(Ke!==null){Ke.return=ne.return,Rt=Ke;break e}Rt=ne.return}}var We=m.current;for(Rt=We;Rt!==null;){ve=Rt;var Qe=ve.child;if((ve.subtreeFlags&2064)!==0&&Qe!==null)Qe.return=ve,Rt=Qe;else e:for(ve=We;Rt!==null;){if(Fe=Rt,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:Q1(9,Fe)}}catch(jt){jr(Fe,Fe.return,jt)}if(Fe===ve){Rt=null;break e}var bt=Fe.sibling;if(bt!==null){bt.return=Fe.return,Rt=bt;break e}Rt=Fe.return}}if(Nn=K,Kc(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(on,m)}catch{}L=!0}return L}finally{Cn=A,$a.transition=b}}return!1}function YR(m,b,A){b=Gh(A,b),b=mR(m,b,1),m=Jc(m,b,1),b=Is(),m!==null&&(Lc(m,1,b),Qs(m,b))}function jr(m,b,A){if(m.tag===3)YR(m,m,A);else for(;b!==null;){if(b.tag===3){YR(b,m,A);break}else if(b.tag===1){var L=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Qc===null||!Qc.has(L))){m=Gh(A,m),m=gR(b,m,1),b=Jc(b,m,1),m=Is(),b!==null&&(Lc(b,1,m),Qs(b,m));break}}b=b.return}}function sZ(m,b,A){var L=m.pingCache;L!==null&&L.delete(b),b=Is(),m.pingedLanes|=m.suspendedLanes&A,Ii===m&&(Ki&A)===A&&(vi===4||vi===3&&(Ki&130023424)===Ki&&500>Ve()-EE?Rd(m,0):TE|=A),Qs(m,b)}function QR(m,b){b===0&&((m.mode&1)===0?b=1:(b=bh,bh<<=1,(bh&130023424)===0&&(bh=4194304)));var A=Is();m=Gl(m,b),m!==null&&(Lc(m,b,A),Qs(m,A))}function aZ(m){var b=m.memoizedState,A=0;b!==null&&(A=b.retryLane),QR(m,A)}function oZ(m,b){var A=0;switch(m.tag){case 13:var L=m.stateNode,K=m.memoizedState;K!==null&&(A=K.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(b),QR(m,A)}var ZR;ZR=function(m,b,A){if(m!==null)if(m.memoizedProps!==b.pendingProps||Ks.current)Js=!0;else{if((m.lanes&A)===0&&(b.flags&128)===0)return Js=!1,KQ(m,b,A);Js=(m.flags&131072)!==0}else Js=!1,wr&&(b.flags&1048576)!==0&&R5(b,M1,b.index);switch(b.lanes=0,b.tag){case 2:var L=b.type;J1(m,b),m=b.pendingProps;var K=jh(b,rs.current);zh(b,A),K=tE(null,b,L,m,K,A);var ne=nE();return b.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Xs(L)?(ne=!0,R1(b)):ne=!1,b.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,KT(b),K.updater=K1,b.stateNode=K,K._reactInternals=b,lE(b,L,m,A),b=fE(null,b,L,!0,ne,A)):(b.tag=0,wr&&ne&&LT(b),ks(null,b,K,A),b=b.child),b;case 16:L=b.elementType;e:{switch(J1(m,b),m=b.pendingProps,K=L._init,L=K(L._payload),b.type=L,K=b.tag=cZ(L),m=Eo(L,m),K){case 0:b=dE(null,b,L,m,A);break e;case 1:b=CR(null,b,L,m,A);break e;case 11:b=bR(null,b,L,m,A);break e;case 14:b=_R(null,b,L,Eo(L.type,m),A);break e}throw Error(n(306,L,""))}return b;case 0:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Eo(L,K),dE(m,b,L,K,A);case 1:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Eo(L,K),CR(m,b,L,K,A);case 3:e:{if(SR(b),m===null)throw Error(n(387));L=b.pendingProps,ne=b.memoizedState,K=ne.element,V5(m,b),V1(b,L,null,A);var ve=b.memoizedState;if(L=ve.element,ne.isDehydrated)if(ne={element:L,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},b.updateQueue.baseState=ne,b.memoizedState=ne,b.flags&256){K=Gh(Error(n(423)),b),b=DR(m,b,L,A,K);break e}else if(L!==K){K=Gh(Error(n(424)),b),b=DR(m,b,L,A,K);break e}else for(_a=zc(b.stateNode.containerInfo.firstChild),ba=b,wr=!0,To=null,A=j5(b,null,L,A),b.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Wh(),L===K){b=Xl(m,b,A);break e}ks(m,b,L,A)}b=b.child}return b;case 5:return $5(b),m===null&&VT(b),L=b.type,K=b.pendingProps,ne=m!==null?m.memoizedProps:null,ve=K.children,RT(L,K)?ve=null:ne!==null&&RT(L,ne)&&(b.flags|=32),ER(m,b),ks(m,b,ve,A),b.child;case 6:return m===null&&VT(b),null;case 13:return AR(m,b,A);case 4:return XT(b,b.stateNode.containerInfo),L=b.pendingProps,m===null?b.child=qh(b,null,L,A):ks(m,b,L,A),b.child;case 11:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Eo(L,K),bR(m,b,L,K,A);case 7:return ks(m,b,b.pendingProps,A),b.child;case 8:return ks(m,b,b.pendingProps.children,A),b.child;case 12:return ks(m,b,b.pendingProps.children,A),b.child;case 10:e:{if(L=b.type._context,K=b.pendingProps,ne=b.memoizedProps,ve=K.value,ir(L1,L._currentValue),L._currentValue=ve,ne!==null)if(wo(ne.value,ve)){if(ne.children===K.children&&!Ks.current){b=Xl(m,b,A);break e}}else for(ne=b.child,ne!==null&&(ne.return=b);ne!==null;){var Fe=ne.dependencies;if(Fe!==null){ve=ne.child;for(var Be=Fe.firstContext;Be!==null;){if(Be.context===L){if(ne.tag===1){Be=Kl(-1,A&-A),Be.tag=2;var et=ne.updateQueue;if(et!==null){et=et.shared;var mt=et.pending;mt===null?Be.next=Be:(Be.next=mt.next,mt.next=Be),et.pending=Be}}ne.lanes|=A,Be=ne.alternate,Be!==null&&(Be.lanes|=A),HT(ne.return,A,b),Fe.lanes|=A;break}Be=Be.next}}else if(ne.tag===10)ve=ne.type===b.type?null:ne.child;else if(ne.tag===18){if(ve=ne.return,ve===null)throw Error(n(341));ve.lanes|=A,Fe=ve.alternate,Fe!==null&&(Fe.lanes|=A),HT(ve,A,b),ve=ne.sibling}else ve=ne.child;if(ve!==null)ve.return=ne;else for(ve=ne;ve!==null;){if(ve===b){ve=null;break}if(ne=ve.sibling,ne!==null){ne.return=ve.return,ve=ne;break}ve=ve.return}ne=ve}ks(m,b,K.children,A),b=b.child}return b;case 9:return K=b.type,L=b.pendingProps.children,zh(b,A),K=Wa(K),L=L(K),b.flags|=1,ks(m,b,L,A),b.child;case 14:return L=b.type,K=Eo(L,b.pendingProps),K=Eo(L.type,K),_R(m,b,L,K,A);case 15:return wR(m,b,b.type,b.pendingProps,A);case 17:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Eo(L,K),J1(m,b),b.tag=1,Xs(L)?(m=!0,R1(b)):m=!1,zh(b,A),hR(b,L,K),lE(b,L,K,A),fE(null,b,L,!0,m,A);case 19:return kR(m,b,A);case 22:return TR(m,b,A)}throw Error(n(156,b.tag))};function e8(m,b){return Ie(m,b)}function lZ(m,b,A,L){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(m,b,A,L){return new lZ(m,b,A,L)}function RE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function cZ(m){if(typeof m=="function")return RE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===N)return 11;if(m===H)return 14}return 2}function nu(m,b){var A=m.alternate;return A===null?(A=za(m.tag,b,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=b,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,b=m.dependencies,A.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function ox(m,b,A,L,K,ne){var ve=2;if(L=m,typeof m=="function")RE(m)&&(ve=1);else if(typeof m=="string")ve=5;else e:switch(m){case D:return Fd(A.children,K,ne,b);case k:ve=8,K|=8;break;case I:return m=za(12,A,b,K|2),m.elementType=I,m.lanes=ne,m;case O:return m=za(13,A,b,K),m.elementType=O,m.lanes=ne,m;case U:return m=za(19,A,b,K),m.elementType=U,m.lanes=ne,m;case J:return lx(A,K,ne,b);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case F:ve=10;break e;case P:ve=9;break e;case N:ve=11;break e;case H:ve=14;break e;case G:ve=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return b=za(ve,A,b,K),b.elementType=m,b.type=L,b.lanes=ne,b}function Fd(m,b,A,L){return m=za(7,m,L,b),m.lanes=A,m}function lx(m,b,A,L){return m=za(22,m,L,b),m.elementType=J,m.lanes=A,m.stateNode={isHidden:!1},m}function PE(m,b,A){return m=za(6,m,null,b),m.lanes=A,m}function FE(m,b,A){return b=za(4,m.children!==null?m.children:[],m.key,b),b.lanes=A,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}function uZ(m,b,A,L,K){this.tag=b,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=L,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function ME(m,b,A,L,K,ne,ve,Fe,Be){return m=new uZ(m,b,A,Fe,Be),b===1?(b=1,ne===!0&&(b|=8)):b=0,ne=za(3,null,null,b),m.current=ne,ne.stateNode=m,ne.memoizedState={element:L,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},KT(ne),m}function dZ(m,b,A){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:L==null?null:""+L,children:m,containerInfo:b,implementation:A}}function t8(m){if(!m)return Gc;m=m._reactInternals;e:{if(Re(m)!==m||m.tag!==1)throw Error(n(170));var b=m;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(Xs(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(n(171))}if(m.tag===1){var A=m.type;if(Xs(A))return N5(m,A,b)}return b}function n8(m,b,A,L,K,ne,ve,Fe,Be){return m=ME(A,L,!0,m,K,ne,ve,Fe,Be),m.context=t8(null),A=m.current,L=Is(),K=eu(A),ne=Kl(L,K),ne.callback=b??null,Jc(A,ne,K),m.current.lanes=K,Lc(m,K,L),Qs(m,L),m}function cx(m,b,A,L){var K=b.current,ne=Is(),ve=eu(K);return A=t8(A),b.context===null?b.context=A:b.pendingContext=A,b=Kl(ne,ve),b.payload={element:m},L=L===void 0?null:L,L!==null&&(b.callback=L),m=Jc(K,b,ve),m!==null&&(Do(m,K,ve,ne),B1(m,K,ve)),ve}function ux(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function r8(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<b?A:b}}function UE(m,b){r8(m,b),(m=m.alternate)&&r8(m,b)}function fZ(){return null}var i8=typeof reportError=="function"?reportError:function(m){console.error(m)};function OE(m){this._internalRoot=m}dx.prototype.render=OE.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(n(409));cx(m,b,null,null)},dx.prototype.unmount=OE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;Id(function(){cx(null,m,null,null)}),b[ql]=null}};function dx(m){this._internalRoot=m}dx.prototype.unstable_scheduleHydration=function(m){if(m){var b=d1();m={blockedOn:null,target:m,priority:b};for(var A=0;A<Xo.length&&b!==0&&b<Xo[A].priority;A++);Xo.splice(A,0,m),A===0&&p1(m)}};function LE(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function fx(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function s8(){}function hZ(m,b,A,L,K){if(K){if(typeof L=="function"){var ne=L;L=function(){var et=ux(ve);ne.call(et)}}var ve=n8(b,L,m,0,null,!1,!1,"",s8);return m._reactRootContainer=ve,m[ql]=ve.current,_g(m.nodeType===8?m.parentNode:m),Id(),ve}for(;K=m.lastChild;)m.removeChild(K);if(typeof L=="function"){var Fe=L;L=function(){var et=ux(Be);Fe.call(et)}}var Be=ME(m,0,!1,null,null,!1,!1,"",s8);return m._reactRootContainer=Be,m[ql]=Be.current,_g(m.nodeType===8?m.parentNode:m),Id(function(){cx(b,Be,A,L)}),Be}function hx(m,b,A,L,K){var ne=A._reactRootContainer;if(ne){var ve=ne;if(typeof K=="function"){var Fe=K;K=function(){var Be=ux(ve);Fe.call(Be)}}cx(b,ve,m,K)}else ve=hZ(A,b,m,K,L);return ux(ve)}c1=function(m){switch(m.tag){case 3:var b=m.stateNode;if(b.current.memoizedState.isDehydrated){var A=Uc(b.pendingLanes);A!==0&&(jc(b,A|1),Qs(b,Ve()),(Nn&6)===0&&(Jh=Ve()+500,Kc()))}break;case 13:Id(function(){var L=Gl(m,1);if(L!==null){var K=Is();Do(L,m,1,K)}}),UE(m,1)}},_h=function(m){if(m.tag===13){var b=Gl(m,134217728);if(b!==null){var A=Is();Do(b,m,134217728,A)}UE(m,134217728)}},u1=function(m){if(m.tag===13){var b=eu(m),A=Gl(m,b);if(A!==null){var L=Is();Do(A,m,b,L)}UE(m,b)}},d1=function(){return Cn},f1=function(m,b){var A=Cn;try{return Cn=m,b()}finally{Cn=A}},Sn=function(m,b,A){switch(b){case"input":if(le(m,A),b=A.name,A.type==="radio"&&b!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<A.length;b++){var L=A[b];if(L!==m&&L.form===m.form){var K=k1(L);if(!K)throw Error(n(90));pe(L),le(L,K)}}}break;case"textarea":me(m,A);break;case"select":b=A.value,b!=null&&be(m,!!A.multiple,b,!1)}},Ge=NE,ft=Id;var pZ={usingClientEntryPoint:!1,Events:[Eg,Oh,k1,we,Me,NE]},Lg={findFiberByHostInstance:Td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mZ={bundleType:Lg.bundleType,version:Lg.version,rendererPackageName:Lg.rendererPackageName,rendererConfig:Lg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Ye(m),m===null?null:m.stateNode},findFiberByHostInstance:Lg.findFiberByHostInstance||fZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var px=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!px.isDisabled&&px.supportsFiber)try{on=px.inject(mZ),ln=px}catch{}}return Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pZ,Zs.createPortal=function(m,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LE(b))throw Error(n(200));return dZ(m,b,null,A)},Zs.createRoot=function(m,b){if(!LE(m))throw Error(n(299));var A=!1,L="",K=i8;return b!=null&&(b.unstable_strictMode===!0&&(A=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onRecoverableError!==void 0&&(K=b.onRecoverableError)),b=ME(m,1,!1,null,null,A,!1,L,K),m[ql]=b.current,_g(m.nodeType===8?m.parentNode:m),new OE(b)},Zs.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Ye(b),m=m===null?null:m.stateNode,m},Zs.flushSync=function(m){return Id(m)},Zs.hydrate=function(m,b,A){if(!fx(b))throw Error(n(200));return hx(null,m,b,!0,A)},Zs.hydrateRoot=function(m,b,A){if(!LE(m))throw Error(n(405));var L=A!=null&&A.hydratedSources||null,K=!1,ne="",ve=i8;if(A!=null&&(A.unstable_strictMode===!0&&(K=!0),A.identifierPrefix!==void 0&&(ne=A.identifierPrefix),A.onRecoverableError!==void 0&&(ve=A.onRecoverableError)),b=n8(b,null,m,1,A??null,K,!1,ne,ve),m[ql]=b.current,_g(m),L)for(m=0;m<L.length;m++)A=L[m],K=A._getVersion,K=K(A._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[A,K]:b.mutableSourceEagerHydrationData.push(A,K);return new dx(b)},Zs.render=function(m,b,A){if(!fx(b))throw Error(n(200));return hx(null,m,b,!1,A)},Zs.unmountComponentAtNode=function(m){if(!fx(m))throw Error(n(40));return m._reactRootContainer?(Id(function(){hx(null,null,m,!1,function(){m._reactRootContainer=null,m[ql]=null})}),!0):!1},Zs.unstable_batchedUpdates=NE,Zs.unstable_renderSubtreeIntoContainer=function(m,b,A,L){if(!fx(A))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return hx(m,b,A,!1,L)},Zs.version="18.3.1-next-f1338f8080-20240426",Zs}var h8;function RB(){if(h8)return VE.exports;h8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),VE.exports=TZ(),VE.exports}var p8;function EZ(){if(p8)return mx;p8=1;var t=RB();return mx.createRoot=t.createRoot,mx.hydrateRoot=t.hydrateRoot,mx}var CZ=EZ();const SZ=c_(CZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m8="popstate";function DZ(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return AD("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ly(i)}return NZ(e,n,null,t)}function Dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AZ(){return Math.random().toString(36).substring(2,10)}function g8(t,e){return{usr:t.state,key:t.key,idx:e}}function AD(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Am(e):e,state:n,key:e&&e.key||r||AZ()}}function ly({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Am(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),_=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:_})}function h(y,_){o="PUSH";let x=AD(g.location,y,_);c=u()+1;let w=g8(x,c),C=g.createHref(x);try{a.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,_){o="REPLACE";let x=AD(g.location,y,_);c=u();let w=g8(x,c),C=g.createHref(x);a.replaceState(w,"",C),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return kZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m8,f),l=y,()=>{i.removeEventListener(m8,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let _=v(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function kZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ly(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PB(t,e,n="/"){return IZ(t,e,n,!1)}function IZ(t,e,n,r){let i=typeof e=="string"?Am(e):e,s=pc(i.pathname||"/",n);if(s==null)return null;let a=FB(t);RZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=qZ(s);o=VZ(a[l],c,r)}return o}function FB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Dr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=sc([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Dr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),FB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:jZ(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of MB(a.path))s(a,o,!0,c)}),e}function MB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=MB(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function RZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PZ=/^:[\w-]+$/,FZ=3,MZ=2,UZ=1,OZ=10,LZ=-2,y8=t=>t==="*";function jZ(t,e){let n=t.split("/"),r=n.length;return n.some(y8)&&(r+=LZ),e&&(r+=MZ),n.filter(i=>!y8(i)).reduce((i,s)=>i+(PZ.test(s)?FZ:s===""?UZ:OZ),r)}function BZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function VZ(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:sc([s,f.pathname]),pathnameBase:GZ(sc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=sc([s,f.pathnameBase]))}return a}function Q2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function WZ(t,e=!1,n=!0){uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $Z(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Am(t):t;return{pathname:n?n.startsWith("/")?n:zZ(n,e):e,search:KZ(r),hash:XZ(i)}}function zZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $E(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TN(t){let e=HZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function EN(t,e,n,r=!1){let i;typeof t=="string"?i=Am(t):(i={...t},Dr(!i.pathname||!i.pathname.includes("?"),$E("?","pathname","search",i)),Dr(!i.pathname||!i.pathname.includes("#"),$E("#","pathname","hash",i)),Dr(!i.search||!i.search.includes("#"),$E("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=$Z(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var sc=t=>t.join("/").replace(/\/\/+/g,"/"),GZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UB=["POST","PUT","PATCH","DELETE"];new Set(UB);var YZ=["GET",...UB];new Set(YZ);var Nm=W.createContext(null);Nm.displayName="DataRouter";var d_=W.createContext(null);d_.displayName="DataRouterState";W.createContext(!1);var OB=W.createContext({isTransitioning:!1});OB.displayName="ViewTransition";var QZ=W.createContext(new Map);QZ.displayName="Fetchers";var ZZ=W.createContext(null);ZZ.displayName="Await";var zo=W.createContext(null);zo.displayName="Navigation";var hv=W.createContext(null);hv.displayName="Location";var po=W.createContext({outlet:null,matches:[],isDataRoute:!1});po.displayName="Route";var CN=W.createContext(null);CN.displayName="RouteError";function eee(t,{relative:e}={}){Dr(km(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(zo),{hash:i,pathname:s,search:a}=pv(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:sc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function km(){return W.useContext(hv)!=null}function Ar(){return Dr(km(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(hv).location}var LB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jB(t){W.useContext(zo).static||W.useLayoutEffect(t)}function Si(){let{isDataRoute:t}=W.useContext(po);return t?mee():tee()}function tee(){Dr(km(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Nm),{basename:e,navigator:n}=W.useContext(zo),{matches:r}=W.useContext(po),{pathname:i}=Ar(),s=JSON.stringify(TN(r)),a=W.useRef(!1);return jB(()=>{a.current=!0}),W.useCallback((l,c={})=>{if(uo(a.current,LB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=EN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:sc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var nee=W.createContext(null);function ree(t){let e=W.useContext(po).outlet;return e&&W.createElement(nee.Provider,{value:t},e)}function ha(){let{matches:t}=W.useContext(po),e=t[t.length-1];return e?e.params:{}}function pv(t,{relative:e}={}){let{matches:n}=W.useContext(po),{pathname:r}=Ar(),i=JSON.stringify(TN(n));return W.useMemo(()=>EN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function iee(t,e){return BB(t,e)}function BB(t,e,n,r,i){var x;Dr(km(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=W.useContext(zo),{matches:a}=W.useContext(po),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";VB(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Ar(),p;if(e){let w=typeof e=="string"?Am(e):e;Dr(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=PB(t,{pathname:g});uo(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),uo(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=cee(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:sc([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:sc([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&_?W.createElement(hv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function see(){let t=pee(),e=JZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:s},"ErrorBoundary")," or"," ",W.createElement("code",{style:s},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,a)}var aee=W.createElement(see,null),oee=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?W.createElement(po.Provider,{value:this.props.routeContext},W.createElement(CN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lee({routeContext:t,match:e,children:n}){let r=W.useContext(Nm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(po.Provider,{value:t},n)}function cee(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Dr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||aee,o&&(l<0&&f===0?(VB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),_=()=>{let x;return h?x=v:p?x=g:u.route.Component?x=W.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,W.createElement(lee,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?W.createElement(oee,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):_()},null)}function SN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uee(t){let e=W.useContext(Nm);return Dr(e,SN(t)),e}function dee(t){let e=W.useContext(d_);return Dr(e,SN(t)),e}function fee(t){let e=W.useContext(po);return Dr(e,SN(t)),e}function DN(t){let e=fee(t),n=e.matches[e.matches.length-1];return Dr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hee(){return DN("useRouteId")}function pee(){var r;let t=W.useContext(CN),e=dee("useRouteError"),n=DN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function mee(){let{router:t}=uee("useNavigate"),e=DN("useNavigate"),n=W.useRef(!1);return jB(()=>{n.current=!0}),W.useCallback(async(i,s={})=>{uo(n.current,LB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var v8={};function VB(t,e,n){!e&&!v8[t]&&(v8[t]=!0,uo(!1,n))}W.memo(gee);function gee({routes:t,future:e,state:n,unstable_onError:r}){return BB(t,void 0,n,r,e)}function wp({to:t,replace:e,state:n,relative:r}){Dr(km(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(zo);uo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=W.useContext(po),{pathname:a}=Ar(),o=Si(),l=EN(t,TN(s),a,r==="path"),c=JSON.stringify(l);return W.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function AN(t){return ree(t.context)}function $t(t){Dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Dr(!km(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Am(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=W.useMemo(()=>{let v=pc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return uo(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:W.createElement(zo.Provider,{value:o},W.createElement(hv.Provider,{children:e,value:p}))}function vee({children:t,location:e}){return iee(ND(t),e)}function ND(t,e=[]){let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,ND(r.props.children,s));return}Dr(r.type===$t,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ND(r.props.children,s)),n.push(a)}),n}var l2="get",c2="application/x-www-form-urlencoded";function f_(t){return t!=null&&typeof t.tagName=="string"}function xee(t){return f_(t)&&t.tagName.toLowerCase()==="button"}function bee(t){return f_(t)&&t.tagName.toLowerCase()==="form"}function _ee(t){return f_(t)&&t.tagName.toLowerCase()==="input"}function wee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tee(t,e){return t.button===0&&(!e||e==="_self")&&!wee(t)}function kD(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Eee(t,e){let n=kD(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var gx=null;function Cee(){if(gx===null)try{new FormData(document.createElement("form"),0),gx=!1}catch{gx=!0}return gx}var See=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zE(t){return t!=null&&!See.has(t)?(uo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${c2}"`),null):t}function Dee(t,e){let n,r,i,s,a;if(bee(t)){let o=t.getAttribute("action");r=o?pc(o,e):null,n=t.getAttribute("method")||l2,i=zE(t.getAttribute("enctype"))||c2,s=new FormData(t)}else if(xee(t)||_ee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?pc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||l2,i=zE(t.getAttribute("formenctype"))||zE(o.getAttribute("enctype"))||c2,s=new FormData(o,t),!Cee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(f_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=l2,r=null,i=c2,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function NN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Nee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Iee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Nee(s,n);return a.links?a.links():[]}return[]}));return Mee(r.flat(1).filter(kee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x8(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Ree(t,e,{includeHydrateFallback:n}={}){return Pee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Pee(t){return[...new Set(t)]}function Fee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Mee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Fee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function WB(){let t=W.useContext(Nm);return NN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uee(){let t=W.useContext(d_);return NN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kN=W.createContext(void 0);kN.displayName="FrameworkContext";function qB(){let t=W.useContext(kN);return NN(t,"You must render this element inside a <HydratedRouter> element"),t}function Oee(t,e){let n=W.useContext(kN),[r,i]=W.useState(!1),[s,a]=W.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=W.useRef(null);W.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=_=>{_.forEach(x=>{a(x.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),W.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Bg(o,p),onBlur:Bg(l,v),onMouseEnter:Bg(c,p),onMouseLeave:Bg(u,v),onTouchStart:Bg(f,p)}]:[!1,h,{}]}function Bg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Lee({page:t,...e}){let{router:n}=WB(),r=W.useMemo(()=>PB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?W.createElement(Bee,{page:t,matches:r,...e}):null}function jee(t){let{manifest:e,routeModules:n}=qB(),[r,i]=W.useState([]);return W.useEffect(()=>{let s=!1;return Iee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Bee({page:t,matches:e,...n}){let r=Ar(),{manifest:i,routeModules:s}=qB(),{basename:a}=WB(),{loaderData:o,matches:l}=Uee(),c=W.useMemo(()=>x8(t,e,l,i,r,"data"),[t,e,l,i,r]),u=W.useMemo(()=>x8(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(_=>{var w;let x=i.routes[_.route.id];!x||!x.hasLoader||(!c.some(C=>C.route.id===_.route.id)&&_.route.id in o&&((w=s[_.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:v.add(_.route.id))}),v.size===0)return[];let y=Aee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=W.useMemo(()=>Ree(u,i),[u,i]),p=jee(u);return W.createElement(W.Fragment,null,f.map(v=>W.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>W.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>W.createElement("link",{key:v,nonce:n.nonce,...g})))}function Vee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $B=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$B&&(window.__reactRouterVersion="7.8.2")}catch{}function Wee({basename:t,children:e,window:n}){let r=W.useRef();r.current==null&&(r.current=DZ({window:n,v5Compat:!0}));let i=r.current,[s,a]=W.useState({action:i.action,location:i.location}),o=W.useCallback(l=>{W.startTransition(()=>a(l))},[a]);return W.useLayoutEffect(()=>i.listen(o),[i,o]),W.createElement(yee,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var zB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=W.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=W.useContext(zo),g=typeof c=="string"&&zB.test(c),y,_=!1;if(typeof c=="string"&&g&&(y=c,$B))try{let I=new URL(window.location.href),F=c.startsWith("//")?new URL(I.protocol+c):new URL(c),P=pc(F.pathname,v);F.origin===I.origin&&P!=null?c=P+F.search+F.hash:_=!0}catch{uo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=eee(c,{relative:i}),[w,C,S]=Oee(r,h),R=zee(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function D(I){e&&e(I),I.defaultPrevented||R(I)}let k=W.createElement("a",{...h,...S,href:y||x,onClick:_||s?e:D,ref:Vee(p,C),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?W.createElement(W.Fragment,null,k,W.createElement(Lee,{page:x})):k});nn.displayName="Link";var Zn=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=pv(a,{relative:c.relative}),h=Ar(),p=W.useContext(d_),{navigator:v,basename:g}=W.useContext(zo),y=p!=null&&Yee(f)&&o===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&g&&(w=pc(w,g)||w);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let S=x===_||!i&&x.startsWith(_)&&x.charAt(C)==="/",R=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),D={isActive:S,isPending:R,isTransitioning:y},k=S?e:void 0,I;typeof r=="function"?I=r(D):I=[r,S?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(D):s;return W.createElement(nn,{...c,"aria-current":k,className:I,ref:u,style:F,to:a,viewTransition:o},typeof l=="function"?l(D):l)});Zn.displayName="NavLink";var qee=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=l2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=Xee(),g=Jee(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&zB.test(o),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||a;v(C||w.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return W.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:x,...h,"data-discover":!_&&t==="render"?"true":void 0})});qee.displayName="Form";function $ee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HB(t){let e=W.useContext(Nm);return Dr(e,$ee(t)),e}function zee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Si(),l=Ar(),c=pv(t,{relative:s});return W.useCallback(u=>{if(Tee(u,e)){u.preventDefault();let f=n!==void 0?n:ly(l)===ly(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function Hee(t){uo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=W.useRef(kD(t)),n=W.useRef(!1),r=Ar(),i=W.useMemo(()=>Eee(r.search,n.current?null:e.current),[r.search]),s=Si(),a=W.useCallback((o,l)=>{const c=kD(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var Gee=0,Kee=()=>`__${String(++Gee)}__`;function Xee(){let{router:t}=HB("useSubmit"),{basename:e}=W.useContext(zo),n=hee();return W.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=Dee(r,e);if(i.navigate===!1){let u=i.fetcherKey||Kee();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Jee(t,{relative:e}={}){let{basename:n}=W.useContext(zo),r=W.useContext(po);Dr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...pv(t||".",{relative:e})},a=Ar();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:sc([n,s.pathname])),ly(s)}function Yee(t,{relative:e}={}){let n=W.useContext(OB);Dr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HB("useViewTransitionState"),i=pv(t,{relative:e});if(!n.isTransitioning)return!1;let s=pc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=pc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Q2(i.pathname,a)!=null||Q2(i.pathname,s)!=null}const Qee="modulepreload",Zee=function(t){return"/"+t},b8={},ete=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=Zee(c),c in b8)return;b8[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Qee,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},tte=()=>{};var _8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt=function(t,e){if(!t)throw Im(e)},Im=function(t){return new Error("Firebase Database ("+GB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},IN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new rte;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XB=function(t){const e=KB(t);return IN.encodeByteArray(e,!0)},Z2=function(t){return XB(t).replace(/\./g,"")},cy=function(t){try{return IN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(t){return uy(void 0,t)}function uy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ste(n)||(t[n]=uy(t[n],e[n]));return t}function ste(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=()=>RN().__FIREBASE_DEFAULTS__,ote=()=>{if(typeof process>"u"||typeof _8>"u")return;const t=_8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cy(t[1]);return e&&JSON.parse(e)},h_=()=>{try{return tte()||ate()||ote()||lte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cte=t=>{var e,n;return(n=(e=h_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ute=t=>{const e=cte(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PN=()=>{var t;return(t=h_())==null?void 0:t.config},dte=t=>{var e;return(e=h_())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Z2(JSON.stringify(n)),Z2(JSON.stringify(a)),""].join(".")}const N0={};function fte(){const t={prod:[],emulator:[]};for(const e of Object.keys(N0))N0[e]?t.emulator.push(e):t.prod.push(e);return t}function hte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w8=!1;function m_(t,e){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||N0[t]===e||N0[t]||w8)return;N0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=fte().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{w8=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=hte(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const C=c();l(x,_),w.append(x,v,y,C),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ur())}function g_(){var e;const t=(e=h_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pte(){return typeof window<"u"||JB()}function JB(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function mte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QB(){const t=Ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gte(){return GB.NODE_ADMIN===!0}function ZB(){return!g_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eV(){return!g_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function dy(){try{return typeof indexedDB=="object"}catch{return!1}}function yte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte="FirebaseError";class bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vte,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?xte(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new bs(i,o,r)}}function xte(t,e){return t.replace(bte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bte=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){return JSON.parse(t)}function bi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fy(cy(s[0])||""),n=fy(cy(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},_te=function(t){const e=tV(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wte=function(t){const e=tV(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tb(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(T8(s)&&T8(a)){if(!mc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function y0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function nV(t,e){const n=new Ete(t,e);return n.subscribe.bind(n)}class Ete{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Cte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=HE),i.error===void 0&&(i.error=HE),i.complete===void 0&&(i.complete=HE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function HE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function oa(t,e){return`${t} failed: ${e} argument `}function Oi(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(oa(t,e)+"must be a valid function.")}function E8(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(oa(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,vt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},v_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new na;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ate(e))try{this.getOrInitializeService({instanceIdentifier:qd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qd){return this.instances.has(e)}getOptions(e=qd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qd){return this.component?this.component.multipleInstances?e:qd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dte(t){return t===qd?void 0:t}function Ate(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ID(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=[];var xn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xn||(xn={}));const rV={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},Nte=xn.INFO,kte={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},Ite=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=Nte,this._logHandler=Ite,this._userLogHandler=null,ON.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}function Rte(t){ON.forEach(e=>{e.setLogLevel(t)})}function Pte(t,e){for(const n of ON){let r=null;e&&e.level&&(r=rV[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:xn[s].toLowerCase(),message:o,args:a,type:i.name})}}}const Fte=(t,e)=>e.some(n=>t instanceof n);let C8,S8;function Mte(){return C8||(C8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ute(){return S8||(S8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iV=new WeakMap,RD=new WeakMap,sV=new WeakMap,GE=new WeakMap,LN=new WeakMap;function Ote(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Tu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&iV.set(n,t)}).catch(()=>{}),LN.set(e,t),e}function Lte(t){if(RD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});RD.set(t,e)}let PD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return RD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jte(t){PD=t(PD)}function Bte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(KE(this),e,...n);return sV.set(r,e.sort?e.sort():[e]),Tu(r)}:Ute().includes(t)?function(...e){return t.apply(KE(this),e),Tu(iV.get(this))}:function(...e){return Tu(t.apply(KE(this),e))}}function Vte(t){return typeof t=="function"?Bte(t):(t instanceof IDBTransaction&&Lte(t),Fte(t,Mte())?new Proxy(t,PD):t)}function Tu(t){if(t instanceof IDBRequest)return Ote(t);if(GE.has(t))return GE.get(t);const e=Vte(t);return e!==t&&(GE.set(t,e),LN.set(e,t)),e}const KE=t=>LN.get(t);function Wte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Tu(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Tu(a.result),l.oldVersion,l.newVersion,Tu(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const qte=["get","getKey","getAll","getAllKeys","count"],$te=["put","add","delete","clear"],XE=new Map;function D8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(XE.get(e))return XE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$te.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qte.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return XE.set(e,s),s}jte(t=>({...t,get:(e,n,r)=>D8(e,n)||t.get(e,n,r),has:(e,n)=>!!D8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Hte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nb="@firebase/app",FD="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Rm("@firebase/app"),Gte="@firebase/app-compat",Kte="@firebase/analytics-compat",Xte="@firebase/analytics",Jte="@firebase/app-check-compat",Yte="@firebase/app-check",Qte="@firebase/auth",Zte="@firebase/auth-compat",ene="@firebase/database",tne="@firebase/data-connect",nne="@firebase/database-compat",rne="@firebase/functions",ine="@firebase/functions-compat",sne="@firebase/installations",ane="@firebase/installations-compat",one="@firebase/messaging",lne="@firebase/messaging-compat",cne="@firebase/performance",une="@firebase/performance-compat",dne="@firebase/remote-config",fne="@firebase/remote-config-compat",hne="@firebase/storage",pne="@firebase/storage-compat",mne="@firebase/firestore",gne="@firebase/ai",yne="@firebase/firestore-compat",vne="firebase",xne="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="[DEFAULT]",bne={[nb]:"fire-core",[Gte]:"fire-core-compat",[Xte]:"fire-analytics",[Kte]:"fire-analytics-compat",[Yte]:"fire-app-check",[Jte]:"fire-app-check-compat",[Qte]:"fire-auth",[Zte]:"fire-auth-compat",[ene]:"fire-rtdb",[tne]:"fire-data-connect",[nne]:"fire-rtdb-compat",[rne]:"fire-fn",[ine]:"fire-fn-compat",[sne]:"fire-iid",[ane]:"fire-iid-compat",[one]:"fire-fcm",[lne]:"fire-fcm-compat",[cne]:"fire-perf",[une]:"fire-perf-compat",[dne]:"fire-rc",[fne]:"fire-rc-compat",[hne]:"fire-gcs",[pne]:"fire-gcs-compat",[mne]:"fire-fst",[yne]:"fire-fst-compat",[gne]:"fire-vertex","fire-js":"fire-js",[vne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,Hp=new Map,Gp=new Map;function hy(t,e){try{t.container.addComponent(e)}catch(n){gc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function aV(t,e){t.container.addOrOverwriteComponent(e)}function Dl(t){const e=t.name;if(Gp.has(e))return gc.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(const n of Pu.values())hy(n,t);for(const n of Hp.values())hy(n,t);return!0}function jN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _ne(t,e,n=Ru){jN(t,e).clearInstance(n)}function BN(t){return t.options!==void 0}function oV(t){return BN(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function ar(t){return t==null?!1:t.settings!==void 0}function wne(){Gp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Xf("app","Firebase",Tne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lV=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e){const n=cy(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Ene extends lV{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&A8(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&A8(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ls(nb,FD,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){WN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ra.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=xne;function VN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ru,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ra.create("bad-app-name",{appName:String(i)});if(n||(n=PN()),!n)throw Ra.create("no-options");const s=Pu.get(i);if(s){if(mc(n,s.options)&&mc(r,s.config))return s;throw Ra.create("duplicate-app",{appName:i})}const a=new UN(i);for(const l of Gp.values())a.addComponent(l);const o=new lV(n,r,a);return Pu.set(i,o),o}function Cne(t,e={}){if(pte()&&!JB())throw Ra.create("invalid-server-app-environment");let n,r=e||{};if(t&&(BN(t)?n=t.options:oV(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=PN()),!n)throw Ra.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ra.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=Hp.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new UN(a);for(const u of Gp.values())l.addComponent(u);const c=new Ene(n,r,a,l);return Hp.set(a,c),c}function cV(t=Ru){const e=Pu.get(t);if(!e&&t===Ru&&PN())return VN();if(!e)throw Ra.create("no-app",{appName:t});return e}function Sne(){return Array.from(Pu.values())}async function WN(t){let e=!1;const n=t.name;Pu.has(n)?(e=!0,Pu.delete(n)):Hp.has(n)&&t.decRefCount()<=0&&(Hp.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Ls(t,e,n){let r=bne[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gc.warn(a.join(" "));return}Dl(new Vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function uV(t,e){if(t!==null&&typeof t!="function")throw Ra.create("invalid-log-argument");Pte(t,e)}function dV(t){Rte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne="firebase-heartbeat-database",Ane=1,py="firebase-heartbeat-store";let JE=null;function fV(){return JE||(JE=Wte(Dne,Ane,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(py)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ra.create("idb-open",{originalErrorMessage:t.message})})),JE}async function Nne(t){try{const n=(await fV()).transaction(py),r=await n.objectStore(py).get(hV(t));return await n.done,r}catch(e){if(e instanceof bs)gc.warn(e.message);else{const n=Ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gc.warn(n.message)}}}async function N8(t,e){try{const r=(await fV()).transaction(py,"readwrite");await r.objectStore(py).put(e,hV(t)),await r.done}catch(n){if(n instanceof bs)gc.warn(n.message);else{const r=Ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gc.warn(r.message)}}}function hV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=1024,Ine=30;class Rne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k8();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ine){const a=Mne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k8(),{heartbeatsToSend:r,unsentEntries:i}=Pne(this._heartbeatsCache.heartbeats),s=Z2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return gc.warn(n),""}}}function k8(){return new Date().toISOString().substring(0,10)}function Pne(t,e=kne){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),I8(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Fne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dy()?yte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I8(t){return Z2(JSON.stringify({version:2,heartbeats:t})).length}function Mne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Une(t){Dl(new Vs("platform-logger",e=>new zte(e),"PRIVATE")),Dl(new Vs("heartbeat",e=>new Rne(e),"PRIVATE")),Ls(nb,FD,t),Ls(nb,FD,"esm2020"),Ls("fire-js","")}Une("");const One=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:bs,SDK_VERSION:Ml,_DEFAULT_ENTRY_NAME:Ru,_addComponent:hy,_addOrOverwriteComponent:aV,_apps:Pu,_clearComponents:wne,_components:Gp,_getProvider:jN,_isFirebaseApp:BN,_isFirebaseServerApp:ar,_isFirebaseServerAppSettings:oV,_registerComponent:Dl,_removeServiceInstance:_ne,_serverApps:Hp,deleteApp:WN,getApp:cV,getApps:Sne,initializeApp:VN,initializeServerApp:Cne,onLog:uV,registerVersion:Ls,setLogLevel:dV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e,n){this._delegate=e,this.firebase=n,hy(e,new Vs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),WN(this._delegate)))}_getService(e,n=Ru){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ru){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){hy(this._delegate,e)}_addOrOverwriteComponent(e){aV(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jne={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},R8=new Xf("app-compat","Firebase",jne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Ls,setLogLevel:dV,onLog:uV,apps:null,SDK_VERSION:Ml,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:One}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||Ru,!Pa(e,c))throw R8.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=VN(c,u);if(Pa(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(Dl(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw R8.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&uy(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){const t=Bne(Lne);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:pV,extendNamespace:e,createSubscribe:nV,ErrorFactory:Xf,deepExtend:uy};function e(n){uy(t,n)}return t}const Vne=pV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=new Rm("@firebase/app-compat"),Wne="@firebase/app-compat",qne="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(t){Ls(Wne,qne,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=RN();if(t.firebase!==void 0){P8.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&P8.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Wr=Vne;$ne();var zne="firebase",Hne="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr.registerVersion(zne,Hne,"app-compat");var F8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eu,mV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function I(){}I.prototype=k.prototype,D.D=k.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(F,P,N){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return k.prototype[P].apply(F,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,k,I){I||(I=0);var F=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)F[P]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(P=0;16>P;++P)F[P]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=D.g[0],I=D.g[1],P=D.g[2];var N=D.g[3],O=k+(N^I&(P^N))+F[0]+3614090360&4294967295;k=I+(O<<7&4294967295|O>>>25),O=N+(P^k&(I^P))+F[1]+3905402710&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(I^N&(k^I))+F[2]+606105819&4294967295,P=N+(O<<17&4294967295|O>>>15),O=I+(k^P&(N^k))+F[3]+3250441966&4294967295,I=P+(O<<22&4294967295|O>>>10),O=k+(N^I&(P^N))+F[4]+4118548399&4294967295,k=I+(O<<7&4294967295|O>>>25),O=N+(P^k&(I^P))+F[5]+1200080426&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(I^N&(k^I))+F[6]+2821735955&4294967295,P=N+(O<<17&4294967295|O>>>15),O=I+(k^P&(N^k))+F[7]+4249261313&4294967295,I=P+(O<<22&4294967295|O>>>10),O=k+(N^I&(P^N))+F[8]+1770035416&4294967295,k=I+(O<<7&4294967295|O>>>25),O=N+(P^k&(I^P))+F[9]+2336552879&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(I^N&(k^I))+F[10]+4294925233&4294967295,P=N+(O<<17&4294967295|O>>>15),O=I+(k^P&(N^k))+F[11]+2304563134&4294967295,I=P+(O<<22&4294967295|O>>>10),O=k+(N^I&(P^N))+F[12]+1804603682&4294967295,k=I+(O<<7&4294967295|O>>>25),O=N+(P^k&(I^P))+F[13]+4254626195&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(I^N&(k^I))+F[14]+2792965006&4294967295,P=N+(O<<17&4294967295|O>>>15),O=I+(k^P&(N^k))+F[15]+1236535329&4294967295,I=P+(O<<22&4294967295|O>>>10),O=k+(P^N&(I^P))+F[1]+4129170786&4294967295,k=I+(O<<5&4294967295|O>>>27),O=N+(I^P&(k^I))+F[6]+3225465664&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^I&(N^k))+F[11]+643717713&4294967295,P=N+(O<<14&4294967295|O>>>18),O=I+(N^k&(P^N))+F[0]+3921069994&4294967295,I=P+(O<<20&4294967295|O>>>12),O=k+(P^N&(I^P))+F[5]+3593408605&4294967295,k=I+(O<<5&4294967295|O>>>27),O=N+(I^P&(k^I))+F[10]+38016083&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^I&(N^k))+F[15]+3634488961&4294967295,P=N+(O<<14&4294967295|O>>>18),O=I+(N^k&(P^N))+F[4]+3889429448&4294967295,I=P+(O<<20&4294967295|O>>>12),O=k+(P^N&(I^P))+F[9]+568446438&4294967295,k=I+(O<<5&4294967295|O>>>27),O=N+(I^P&(k^I))+F[14]+3275163606&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^I&(N^k))+F[3]+4107603335&4294967295,P=N+(O<<14&4294967295|O>>>18),O=I+(N^k&(P^N))+F[8]+1163531501&4294967295,I=P+(O<<20&4294967295|O>>>12),O=k+(P^N&(I^P))+F[13]+2850285829&4294967295,k=I+(O<<5&4294967295|O>>>27),O=N+(I^P&(k^I))+F[2]+4243563512&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^I&(N^k))+F[7]+1735328473&4294967295,P=N+(O<<14&4294967295|O>>>18),O=I+(N^k&(P^N))+F[12]+2368359562&4294967295,I=P+(O<<20&4294967295|O>>>12),O=k+(I^P^N)+F[5]+4294588738&4294967295,k=I+(O<<4&4294967295|O>>>28),O=N+(k^I^P)+F[8]+2272392833&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^I)+F[11]+1839030562&4294967295,P=N+(O<<16&4294967295|O>>>16),O=I+(P^N^k)+F[14]+4259657740&4294967295,I=P+(O<<23&4294967295|O>>>9),O=k+(I^P^N)+F[1]+2763975236&4294967295,k=I+(O<<4&4294967295|O>>>28),O=N+(k^I^P)+F[4]+1272893353&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^I)+F[7]+4139469664&4294967295,P=N+(O<<16&4294967295|O>>>16),O=I+(P^N^k)+F[10]+3200236656&4294967295,I=P+(O<<23&4294967295|O>>>9),O=k+(I^P^N)+F[13]+681279174&4294967295,k=I+(O<<4&4294967295|O>>>28),O=N+(k^I^P)+F[0]+3936430074&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^I)+F[3]+3572445317&4294967295,P=N+(O<<16&4294967295|O>>>16),O=I+(P^N^k)+F[6]+76029189&4294967295,I=P+(O<<23&4294967295|O>>>9),O=k+(I^P^N)+F[9]+3654602809&4294967295,k=I+(O<<4&4294967295|O>>>28),O=N+(k^I^P)+F[12]+3873151461&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^I)+F[15]+530742520&4294967295,P=N+(O<<16&4294967295|O>>>16),O=I+(P^N^k)+F[2]+3299628645&4294967295,I=P+(O<<23&4294967295|O>>>9),O=k+(P^(I|~N))+F[0]+4096336452&4294967295,k=I+(O<<6&4294967295|O>>>26),O=N+(I^(k|~P))+F[7]+1126891415&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~I))+F[14]+2878612391&4294967295,P=N+(O<<15&4294967295|O>>>17),O=I+(N^(P|~k))+F[5]+4237533241&4294967295,I=P+(O<<21&4294967295|O>>>11),O=k+(P^(I|~N))+F[12]+1700485571&4294967295,k=I+(O<<6&4294967295|O>>>26),O=N+(I^(k|~P))+F[3]+2399980690&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~I))+F[10]+4293915773&4294967295,P=N+(O<<15&4294967295|O>>>17),O=I+(N^(P|~k))+F[1]+2240044497&4294967295,I=P+(O<<21&4294967295|O>>>11),O=k+(P^(I|~N))+F[8]+1873313359&4294967295,k=I+(O<<6&4294967295|O>>>26),O=N+(I^(k|~P))+F[15]+4264355552&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~I))+F[6]+2734768916&4294967295,P=N+(O<<15&4294967295|O>>>17),O=I+(N^(P|~k))+F[13]+1309151649&4294967295,I=P+(O<<21&4294967295|O>>>11),O=k+(P^(I|~N))+F[4]+4149444226&4294967295,k=I+(O<<6&4294967295|O>>>26),O=N+(I^(k|~P))+F[11]+3174756917&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~I))+F[2]+718787259&4294967295,P=N+(O<<15&4294967295|O>>>17),O=I+(N^(P|~k))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+N&4294967295}r.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var I=k-this.blockSize,F=this.B,P=this.h,N=0;N<k;){if(P==0)for(;N<=I;)i(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<k;)if(F[P++]=D.charCodeAt(N++),P==this.blockSize){i(this,F),P=0;break}}else for(;N<k;)if(F[P++]=D[N++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=k},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var I=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=I&255,I/=256;for(this.u(D),D=Array(16),k=I=0;4>k;++k)for(var F=0;32>F;F+=8)D[I++]=this.g[k]>>>F&255;return D};function s(D,k){var I=o;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=k(D)}function a(D,k){this.h=k;for(var I=[],F=!0,P=D.length-1;0<=P;P--){var N=D[P]|0;F&&N==k||(I[P]=N,F=!1)}this.g=I}var o={};function l(D){return-128<=D&&128>D?s(D,function(k){return new a([k|0],0>k?-1:0)}):new a([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return y(c(-D));for(var k=[],I=1,F=0;D>=I;F++)k[F]=D/I|0,I*=4294967296;return new a(k,0)}function u(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return y(u(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(k,8)),F=f,P=0;P<D.length;P+=8){var N=Math.min(8,D.length-P),O=parseInt(D.substring(P,P+N),k);8>N?(N=c(Math.pow(k,N)),F=F.j(N).add(c(O))):(F=F.j(I),F=F.add(c(O)))}return F}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var D=0,k=1,I=0;I<this.g.length;I++){var F=this.i(I);D+=(0<=F?F:4294967296+F)*k,k*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(g(this))return"-"+y(this).toString(D);for(var k=c(Math.pow(D,6)),I=this,F="";;){var P=C(I,k).g;I=_(I,P.j(k));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=P,v(I))return N+F;for(;6>N.length;)N="0"+N;F=N+F}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function g(D){return D.h==-1}t.l=function(D){return D=_(this,D),g(D)?-1:v(D)?0:1};function y(D){for(var k=D.g.length,I=[],F=0;F<k;F++)I[F]=~D.g[F];return new a(I,~D.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0,P=0;P<=k;P++){var N=F+(this.i(P)&65535)+(D.i(P)&65535),O=(N>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);F=O>>>16,N&=65535,O&=65535,I[P]=O<<16|N}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(D,k){return D.add(y(k))}t.j=function(D){if(v(this)||v(D))return f;if(g(this))return g(D)?y(this).j(y(D)):y(y(this).j(D));if(g(D))return y(this.j(y(D)));if(0>this.l(p)&&0>D.l(p))return c(this.m()*D.m());for(var k=this.g.length+D.g.length,I=[],F=0;F<2*k;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<D.g.length;P++){var N=this.i(F)>>>16,O=this.i(F)&65535,U=D.i(P)>>>16,H=D.i(P)&65535;I[2*F+2*P]+=O*H,x(I,2*F+2*P),I[2*F+2*P+1]+=N*H,x(I,2*F+2*P+1),I[2*F+2*P+1]+=O*U,x(I,2*F+2*P+1),I[2*F+2*P+2]+=N*U,x(I,2*F+2*P+2)}for(F=0;F<k;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=k;F<2*k;F++)I[F]=0;return new a(I,0)};function x(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function w(D,k){this.g=D,this.h=k}function C(D,k){if(v(k))throw Error("division by zero");if(v(D))return new w(f,f);if(g(D))return k=C(y(D),k),new w(y(k.g),y(k.h));if(g(k))return k=C(D,y(k)),new w(y(k.g),k.h);if(30<D.g.length){if(g(D)||g(k))throw Error("slowDivide_ only works with positive integers.");for(var I=h,F=k;0>=F.l(D);)I=S(I),F=S(F);var P=R(I,1),N=R(F,1);for(F=R(F,2),I=R(I,2);!v(F);){var O=N.add(F);0>=O.l(D)&&(P=P.add(I),N=O),F=R(F,1),I=R(I,1)}return k=_(D,P.j(k)),new w(P,k)}for(P=f;0<=D.l(k);){for(I=Math.max(1,Math.floor(D.m()/k.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),N=c(I),O=N.j(k);g(O)||0<O.l(D);)I-=F,N=c(I),O=N.j(k);v(N)&&(N=h),P=P.add(N),D=_(D,O)}return new w(P,D)}t.A=function(D){return C(this,D).h},t.and=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0;F<k;F++)I[F]=this.i(F)&D.i(F);return new a(I,this.h&D.h)},t.or=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0;F<k;F++)I[F]=this.i(F)|D.i(F);return new a(I,this.h|D.h)},t.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0;F<k;F++)I[F]=this.i(F)^D.i(F);return new a(I,this.h^D.h)};function S(D){for(var k=D.g.length+1,I=[],F=0;F<k;F++)I[F]=D.i(F)<<1|D.i(F-1)>>>31;return new a(I,D.h)}function R(D,k){var I=k>>5;k%=32;for(var F=D.g.length-I,P=[],N=0;N<F;N++)P[N]=0<k?D.i(N+I)>>>k|D.i(N+I+1)<<32-k:D.i(N+I);return new a(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Eu=a}).apply(typeof F8<"u"?F8:typeof self<"u"?self:typeof window<"u"?window:{});var yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gV,v0,yV,u2,MD,vV,xV,bV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,ee,se){return M==Array.prototype||M==Object.prototype||(M[ee]=se.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof yx=="object"&&yx];for(var ee=0;ee<M.length;++ee){var se=M[ee];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var r=n(this);function i(M,ee){if(ee)e:{var se=r;M=M.split(".");for(var Ee=0;Ee<M.length-1;Ee++){var He=M[Ee];if(!(He in se))break e;se=se[He]}M=M[M.length-1],Ee=se[M],ee=ee(Ee),ee!=Ee&&ee!=null&&e(se,M,{configurable:!0,writable:!0,value:ee})}}function s(M,ee){M instanceof String&&(M+="");var se=0,Ee=!1,He={next:function(){if(!Ee&&se<M.length){var it=se++;return{value:ee(it,M[it]),done:!1}}return Ee=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(M){return M||function(){return s(this,function(ee,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var ee=typeof M;return ee=ee!="object"?ee:M?Array.isArray(M)?"array":ee:"null",ee=="array"||ee=="object"&&typeof M.length=="number"}function c(M){var ee=typeof M;return ee=="object"&&M!=null||ee=="function"}function u(M,ee,se){return M.call.apply(M.bind,arguments)}function f(M,ee,se){if(!M)throw Error();if(2<arguments.length){var Ee=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,Ee),M.apply(ee,He)}}return function(){return M.apply(ee,arguments)}}function h(M,ee,se){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(M,ee){var se=Array.prototype.slice.call(arguments,1);return function(){var Ee=se.slice();return Ee.push.apply(Ee,arguments),M.apply(this,Ee)}}function v(M,ee){function se(){}se.prototype=ee.prototype,M.aa=ee.prototype,M.prototype=new se,M.prototype.constructor=M,M.Qb=function(Ee,He,it){for(var Tt=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)Tt[zn-2]=arguments[zn];return ee.prototype[He].apply(Ee,Tt)}}function g(M){const ee=M.length;if(0<ee){const se=Array(ee);for(let Ee=0;Ee<ee;Ee++)se[Ee]=M[Ee];return se}return[]}function y(M,ee){for(let se=1;se<arguments.length;se++){const Ee=arguments[se];if(l(Ee)){const He=M.length||0,it=Ee.length||0;M.length=He+it;for(let Tt=0;Tt<it;Tt++)M[He+Tt]=Ee[Tt]}else M.push(Ee)}}class _{constructor(ee,se){this.i=ee,this.j=se,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function x(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(M,ee,se){for(const Ee in M)ee.call(se,M[Ee],Ee,M)}function D(M,ee){for(const se in M)ee.call(void 0,M[se],se,M)}function k(M){const ee={};for(const se in M)ee[se]=M[se];return ee}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(M,ee){let se,Ee;for(let He=1;He<arguments.length;He++){Ee=arguments[He];for(se in Ee)M[se]=Ee[se];for(let it=0;it<I.length;it++)se=I[it],Object.prototype.hasOwnProperty.call(Ee,se)&&(M[se]=Ee[se])}}function P(M){var ee=1;M=M.split(":");const se=[];for(;0<ee&&M.length;)se.push(M.shift()),ee--;return M.length&&se.push(M.join(":")),se}function N(M){o.setTimeout(()=>{throw M},0)}function O(){var M=z;let ee=null;return M.g&&(ee=M.g,M.g=M.g.next,M.g||(M.h=null),ee.next=null),ee}class U{constructor(){this.h=this.g=null}add(ee,se){const Ee=H.get();Ee.set(ee,se),this.h?this.h.next=Ee:this.g=Ee,this.h=Ee}}var H=new _(()=>new G,M=>M.reset());class G{constructor(){this.next=this.g=this.h=null}set(ee,se){this.h=ee,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Z=!1,z=new U,Y=()=>{const M=o.Promise.resolve(void 0);J=()=>{M.then(B)}};var B=()=>{for(var M;M=O();){try{M.h.call(M.g)}catch(se){N(se)}var ee=H;ee.j(M),100>ee.h&&(ee.h++,M.next=ee.g,ee.g=M)}Z=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(M,ee){this.type=M,this.g=this.target=ee,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,ee=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const se=()=>{};o.addEventListener("test",se,ee),o.removeEventListener("test",se,ee)}catch{}return M})();function Q(M,ee){if(q.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var se=this.type=M.type,Ee=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=ee,ee=M.relatedTarget){if(S){e:{try{C(ee.nodeName);var He=!0;break e}catch{}He=!1}He||(ee=null)}}else se=="mouseover"?ee=M.fromElement:se=="mouseout"&&(ee=M.toElement);this.relatedTarget=ee,Ee?(this.clientX=Ee.clientX!==void 0?Ee.clientX:Ee.pageX,this.clientY=Ee.clientY!==void 0?Ee.clientY:Ee.pageY,this.screenX=Ee.screenX||0,this.screenY=Ee.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:te[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Q.aa.h.call(this)}}v(Q,q);var te={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ue=0;function de(M,ee,se,Ee,He){this.listener=M,this.proxy=null,this.src=ee,this.type=se,this.capture=!!Ee,this.ha=He,this.key=++ue,this.da=this.fa=!1}function Se(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Pe(M){this.src=M,this.g={},this.h=0}Pe.prototype.add=function(M,ee,se,Ee,He){var it=M.toString();M=this.g[it],M||(M=this.g[it]=[],this.h++);var Tt=je(M,ee,Ee,He);return-1<Tt?(ee=M[Tt],se||(ee.fa=!1)):(ee=new de(ee,this.src,it,!!Ee,He),ee.fa=se,M.push(ee)),ee};function pe(M,ee){var se=ee.type;if(se in M.g){var Ee=M.g[se],He=Array.prototype.indexOf.call(Ee,ee,void 0),it;(it=0<=He)&&Array.prototype.splice.call(Ee,He,1),it&&(Se(ee),M.g[se].length==0&&(delete M.g[se],M.h--))}}function je(M,ee,se,Ee){for(var He=0;He<M.length;++He){var it=M[He];if(!it.da&&it.listener==ee&&it.capture==!!se&&it.ha==Ee)return He}return-1}var V="closure_lm_"+(1e6*Math.random()|0),xe={};function _e(M,ee,se,Ee,He){if(Array.isArray(ee)){for(var it=0;it<ee.length;it++)_e(M,ee[it],se,Ee,He);return null}return se=ge(se),M&&M[ae]?M.K(ee,se,c(Ee)?!!Ee.capture:!1,He):le(M,ee,se,!1,Ee,He)}function le(M,ee,se,Ee,He,it){if(!ee)throw Error("Invalid event type");var Tt=c(He)?!!He.capture:!!He,zn=ce(M);if(zn||(M[V]=zn=new Pe(M)),se=zn.add(ee,se,Ee,Tt,it),se.proxy)return se;if(Ee=re(),se.proxy=Ee,Ee.src=M,Ee.listener=se,M.addEventListener)X||(He=Tt),He===void 0&&(He=!1),M.addEventListener(ee.toString(),Ee,He);else if(M.attachEvent)M.attachEvent(be(ee.toString()),Ee);else if(M.addListener&&M.removeListener)M.addListener(Ee);else throw Error("addEventListener and attachEvent are unavailable.");return se}function re(){function M(se){return ee.call(M.src,M.listener,se)}const ee=ie;return M}function oe(M,ee,se,Ee,He){if(Array.isArray(ee))for(var it=0;it<ee.length;it++)oe(M,ee[it],se,Ee,He);else Ee=c(Ee)?!!Ee.capture:!!Ee,se=ge(se),M&&M[ae]?(M=M.i,ee=String(ee).toString(),ee in M.g&&(it=M.g[ee],se=je(it,se,Ee,He),-1<se&&(Se(it[se]),Array.prototype.splice.call(it,se,1),it.length==0&&(delete M.g[ee],M.h--)))):M&&(M=ce(M))&&(ee=M.g[ee.toString()],M=-1,ee&&(M=je(ee,se,Ee,He)),(se=-1<M?ee[M]:null)&&fe(se))}function fe(M){if(typeof M!="number"&&M&&!M.da){var ee=M.src;if(ee&&ee[ae])pe(ee.i,M);else{var se=M.type,Ee=M.proxy;ee.removeEventListener?ee.removeEventListener(se,Ee,M.capture):ee.detachEvent?ee.detachEvent(be(se),Ee):ee.addListener&&ee.removeListener&&ee.removeListener(Ee),(se=ce(ee))?(pe(se,M),se.h==0&&(se.src=null,ee[V]=null)):Se(M)}}}function be(M){return M in xe?xe[M]:xe[M]="on"+M}function ie(M,ee){if(M.da)M=!0;else{ee=new Q(ee,this);var se=M.listener,Ee=M.ha||M.src;M.fa&&fe(M),M=se.call(Ee,ee)}return M}function ce(M){return M=M[V],M instanceof Pe?M:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(M){return typeof M=="function"?M:(M[me]||(M[me]=function(ee){return M.handleEvent(ee)}),M[me])}function De(){j.call(this),this.i=new Pe(this),this.M=this,this.F=null}v(De,j),De.prototype[ae]=!0,De.prototype.removeEventListener=function(M,ee,se,Ee){oe(this,M,ee,se,Ee)};function Oe(M,ee){var se,Ee=M.F;if(Ee)for(se=[];Ee;Ee=Ee.F)se.push(Ee);if(M=M.M,Ee=ee.type||ee,typeof ee=="string")ee=new q(ee,M);else if(ee instanceof q)ee.target=ee.target||M;else{var He=ee;ee=new q(Ee,M),F(ee,He)}if(He=!0,se)for(var it=se.length-1;0<=it;it--){var Tt=ee.g=se[it];He=Te(Tt,Ee,!0,ee)&&He}if(Tt=ee.g=M,He=Te(Tt,Ee,!0,ee)&&He,He=Te(Tt,Ee,!1,ee)&&He,se)for(it=0;it<se.length;it++)Tt=ee.g=se[it],He=Te(Tt,Ee,!1,ee)&&He}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var M=this.i,ee;for(ee in M.g){for(var se=M.g[ee],Ee=0;Ee<se.length;Ee++)Se(se[Ee]);delete M.g[ee],M.h--}}this.F=null},De.prototype.K=function(M,ee,se,Ee){return this.i.add(String(M),ee,!1,se,Ee)},De.prototype.L=function(M,ee,se,Ee){return this.i.add(String(M),ee,!0,se,Ee)};function Te(M,ee,se,Ee){if(ee=M.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var He=!0,it=0;it<ee.length;++it){var Tt=ee[it];if(Tt&&!Tt.da&&Tt.capture==se){var zn=Tt.listener,gi=Tt.ha||Tt.src;Tt.fa&&pe(M.i,Tt),He=zn.call(gi,Ee)!==!1&&He}}return He&&!Ee.defaultPrevented}function Ue(M,ee,se){if(typeof M=="function")se&&(M=h(M,se));else if(M&&typeof M.handleEvent=="function")M=h(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:o.setTimeout(M,ee||0)}function Le(M){M.g=Ue(()=>{M.g=null,M.i&&(M.i=!1,Le(M))},M.l);const ee=M.h;M.h=null,M.m.apply(null,ee)}class Je extends j{constructor(ee,se){super(),this.m=ee,this.l=se,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(M){j.call(this),this.h=M,this.g={}}v(lt,j);var ct=[];function Bt(M){R(M.g,function(ee,se){this.g.hasOwnProperty(se)&&fe(ee)},M),M.g={}}lt.prototype.N=function(){lt.aa.N.call(this),Bt(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=o.JSON.stringify,dn=o.JSON.parse,ur=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function $n(){}$n.prototype.h=null;function Ln(M){return M.h||(M.h=M.i())}function Sn(){}var At={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zt(){q.call(this,"d")}v(Zt,q);function he(){q.call(this,"c")}v(he,q);var we={},Me=null;function Ge(){return Me=Me||new De}we.La="serverreachability";function ft(M){q.call(this,we.La,M)}v(ft,q);function It(M){const ee=Ge();Oe(ee,new ft(ee))}we.STAT_EVENT="statevent";function hn(M,ee){q.call(this,we.STAT_EVENT,M),this.stat=ee}v(hn,q);function an(M){const ee=Ge();Oe(ee,new hn(ee,M))}we.Ma="timingevent";function dr(M,ee){q.call(this,we.Ma,M),this.size=ee}v(dr,q);function jn(M,ee){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},ee)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Yr(M,ee,se,Ee,He,it){M.info(function(){if(M.g)if(it)for(var Tt="",zn=it.split("&"),gi=0;gi<zn.length;gi++){var Dn=zn[gi].split("=");if(1<Dn.length){var Ni=Dn[0];Dn=Dn[1];var li=Ni.split("_");Tt=2<=li.length&&li[1]=="type"?Tt+(Ni+"="+Dn+"&"):Tt+(Ni+"=redacted&")}}else Tt=null;else Tt=it;return"XMLHTTP REQ ("+Ee+") [attempt "+He+"]: "+ee+`
`+se+`
`+Tt})}function oi(M,ee,se,Ee,He,it,Tt){M.info(function(){return"XMLHTTP RESP ("+Ee+") [ attempt "+He+"]: "+ee+`
`+se+`
`+it+" "+Tt})}function ye(M,ee,se,Ee){M.info(function(){return"XMLHTTP TEXT ("+ee+"): "+Ce(M,se)+(Ee?" "+Ee:"")})}function ke(M,ee){M.info(function(){return"TIMEOUT: "+ee})}Jr.prototype.info=function(){};function Ce(M,ee){if(!M.g)return ee;if(!ee)return null;try{var se=JSON.parse(ee);if(se){for(M=0;M<se.length;M++)if(Array.isArray(se[M])){var Ee=se[M];if(!(2>Ee.length)){var He=Ee[1];if(Array.isArray(He)&&!(1>He.length)){var it=He[0];if(it!="noop"&&it!="stop"&&it!="close")for(var Tt=1;Tt<He.length;Tt++)He[Tt]=""}}}}return _n(se)}catch{return ee}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function $e(){}v($e,$n),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},Re=new $e;function rt(M,ee,se,Ee){this.j=M,this.i=ee,this.l=se,this.R=Ee||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var Ye={},Ze={};function Ie(M,ee,se){M.L=1,M.v=jc(ya(ee)),M.m=se,M.P=!0,qe(M,null)}function qe(M,ee){M.F=Date.now(),Ve(M),M.A=ya(M.v);var se=M.A,Ee=M.R;Array.isArray(Ee)||(Ee=[String(Ee)]),Vc(se.i,"t",Ee),M.C=0,se=M.j.J,M.h=new Xe,M.g=b1(M.j,se?ee:null,!M.m),0<M.O&&(M.M=new Je(h(M.Y,M,M.g),M.O)),ee=M.U,se=M.g,Ee=M.ca;var He="readystatechange";Array.isArray(He)||(He&&(ct[0]=He.toString()),He=ct);for(var it=0;it<He.length;it++){var Tt=_e(se,He[it],Ee||ee.handleEvent,!1,ee.h||ee);if(!Tt)break;ee.g[Tt.key]=Tt}ee=M.H?k(M.H):{},M.m?(M.u||(M.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,ee)):(M.u="GET",M.g.ea(M.A,M.u,null,ee)),It(),Yr(M.i,M.u,M.A,M.l,M.R,M.m)}rt.prototype.ca=function(M){M=M.target;const ee=this.M;ee&&Gs(M)==3?ee.j():this.Y(M)},rt.prototype.Y=function(M){try{if(M==this.g)e:{const li=Gs(this.g);var ee=this.g.Ba();const ja=this.g.Z();if(!(3>li)&&(li!=3||this.g&&(this.h.h||this.g.oa()||fg(this.g)))){this.J||li!=4||ee==7||(ee==8||0>=ja?It(3):It(2)),xt(this);var se=this.g.Z();this.X=se;t:if(st(this)){var Ee=fg(this.g);M="";var He=Ee.length,it=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),Lt(this);var Tt="";break t}this.h.i=new o.TextDecoder}for(ee=0;ee<He;ee++)this.h.h=!0,M+=this.h.i.decode(Ee[ee],{stream:!(it&&ee==He-1)});Ee.length=0,this.h.g+=M,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=se==200,oi(this.i,this.u,this.A,this.l,this.R,li,se),this.o){if(this.T&&!this.K){t:{if(this.g){var zn,gi=this.g;if((zn=gi.g?gi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(zn)){var Dn=zn;break t}}Dn=null}if(se=Dn)ye(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rr(this,se);else{this.o=!1,this.s=3,an(12),qt(this),Lt(this);break e}}if(this.P){se=!0;let xa;for(;!this.J&&this.C<Tt.length;)if(xa=tt(this,Tt),xa==Ze){li==4&&(this.s=4,an(14),se=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(xa==Ye){this.s=4,an(15),ye(this.i,this.l,Tt,"[Invalid Chunk]"),se=!1;break}else ye(this.i,this.l,xa,null),rr(this,xa);if(st(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),li!=4||Tt.length!=0||this.h.h||(this.s=1,an(16),se=!1),this.o=this.o&&se,!se)ye(this.i,this.l,Tt,"[Invalid Chunked Response]"),qt(this),Lt(this);else if(0<Tt.length&&!this.W){this.W=!0;var Ni=this.j;Ni.g==this&&Ni.ba&&!Ni.M&&(Ni.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),pg(Ni),Ni.M=!0,an(11))}}else ye(this.i,this.l,Tt,null),rr(this,Tt);li==4&&qt(this),this.o&&!this.J&&(li==4?Nh(this.j,this):(this.o=!1,Ve(this)))}else Eh(this.g),se==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),qt(this),Lt(this)}}}catch{}finally{}};function st(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function tt(M,ee){var se=M.C,Ee=ee.indexOf(`
`,se);return Ee==-1?Ze:(se=Number(ee.substring(se,Ee)),isNaN(se)?Ye:(Ee+=1,Ee+se>ee.length?Ze:(ee=ee.slice(Ee,Ee+se),M.C=Ee+se,ee)))}rt.prototype.cancel=function(){this.J=!0,qt(this)};function Ve(M){M.S=Date.now()+M.I,ot(M,M.I)}function ot(M,ee){if(M.B!=null)throw Error("WatchDog timer not null");M.B=jn(h(M.ba,M),ee)}function xt(M){M.B&&(o.clearTimeout(M.B),M.B=null)}rt.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(ke(this.i,this.A),this.L!=2&&(It(),an(17)),qt(this),this.s=2,Lt(this)):ot(this,this.S-M)};function Lt(M){M.j.G==0||M.J||Nh(M.j,M)}function qt(M){xt(M);var ee=M.M;ee&&typeof ee.ma=="function"&&ee.ma(),M.M=null,Bt(M.U),M.g&&(ee=M.g,M.g=null,ee.abort(),ee.ma())}function rr(M,ee){try{var se=M.j;if(se.G!=0&&(se.g==M||En(se.h,M))){if(!M.K&&En(se.h,M)&&se.G==3){try{var Ee=se.Da.g.parse(ee)}catch{Ee=null}if(Array.isArray(Ee)&&Ee.length==3){var He=Ee;if(He[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<M.F)Ah(se),_o(se);else break e;Dh(se),an(18)}}else se.za=He[1],0<se.za-se.T&&37500>He[2]&&se.F&&se.v==0&&!se.C&&(se.C=jn(h(se.Za,se),6e3));if(1>=$s(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Wl(se,11)}else if((M.K||se.g==M)&&Ah(se),!x(ee))for(He=se.Da.g.parse(ee),ee=0;ee<He.length;ee++){let Dn=He[ee];if(se.T=Dn[0],Dn=Dn[1],se.G==2)if(Dn[0]=="c"){se.K=Dn[1],se.ia=Dn[2];const Ni=Dn[3];Ni!=null&&(se.la=Ni,se.j.info("VER="+se.la));const li=Dn[4];li!=null&&(se.Aa=li,se.j.info("SVER="+se.Aa));const ja=Dn[5];ja!=null&&typeof ja=="number"&&0<ja&&(Ee=1.5*ja,se.L=Ee,se.j.info("backChannelRequestTimeoutMs_="+Ee)),Ee=se;const xa=M.g;if(xa){const wd=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wd){var it=Ee.h;it.g||wd.indexOf("spdy")==-1&&wd.indexOf("quic")==-1&&wd.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(zs(it,it.h),it.h=null))}if(Ee.D){const Ih=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(Ee.ya=Ih,tr(Ee.I,Ee.D,Ih))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-M.F,se.j.info("Handshake RTT: "+se.R+"ms")),Ee=se;var Tt=M;if(Ee.qa=x1(Ee,Ee.J?Ee.ia:null,Ee.W),Tt.K){o1(Ee.h,Tt);var zn=Tt,gi=Ee.L;gi&&(zn.I=gi),zn.B&&(xt(zn),Ve(zn)),Ee.g=Tt}else _d(Ee);0<se.i.length&&Yo(se)}else Dn[0]!="stop"&&Dn[0]!="close"||Wl(se,7);else se.G==3&&(Dn[0]=="stop"||Dn[0]=="close"?Dn[0]=="stop"?Wl(se,7):Hi(se):Dn[0]!="noop"&&se.l&&se.l.ta(Dn),se.v=0)}}It(4)}catch{}}var zt=class{constructor(M,ee){this.g=M,this.map=ee}};function on(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function $s(M){return M.h?1:M.g?M.g.size:0}function En(M,ee){return M.h?M.h==ee:M.g?M.g.has(ee):!1}function zs(M,ee){M.g?M.g.add(ee):M.h=ee}function o1(M,ee){M.h&&M.h==ee?M.h=null:M.g&&M.g.has(ee)&&M.g.delete(ee)}on.prototype.cancel=function(){if(this.i=l1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function l1(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let ee=M.i;for(const se of M.g.values())ee=ee.concat(se.D);return ee}return g(M.i)}function xh(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var ee=[],se=M.length,Ee=0;Ee<se;Ee++)ee.push(M[Ee]);return ee}ee=[],se=0;for(Ee in M)ee[se++]=M[Ee];return ee}function bh(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var ee=[];M=M.length;for(var se=0;se<M;se++)ee.push(se);return ee}ee=[],se=0;for(const Ee in M)ee[se++]=Ee;return ee}}}function Uc(M,ee){if(M.forEach&&typeof M.forEach=="function")M.forEach(ee,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,ee,void 0);else for(var se=bh(M),Ee=xh(M),He=Ee.length,it=0;it<He;it++)ee.call(void 0,Ee[it],se&&se[it],M)}var yd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mT(M,ee){if(M){M=M.split("&");for(var se=0;se<M.length;se++){var Ee=M[se].indexOf("="),He=null;if(0<=Ee){var it=M[se].substring(0,Ee);He=M[se].substring(Ee+1)}else it=M[se];ee(it,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function Ll(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof Ll){this.h=M.h,vd(this,M.j),this.o=M.o,this.g=M.g,Oc(this,M.s),this.l=M.l;var ee=M.i,se=new Ko;se.i=ee.i,ee.g&&(se.g=new Map(ee.g),se.h=ee.h),Lc(this,se),this.m=M.m}else M&&(ee=String(M).match(yd))?(this.h=!1,vd(this,ee[1]||"",!0),this.o=Cn(ee[2]||""),this.g=Cn(ee[3]||"",!0),Oc(this,ee[4]),this.l=Cn(ee[5]||"",!0),Lc(this,ee[6]||"",!0),this.m=Cn(ee[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}Ll.prototype.toString=function(){var M=[],ee=this.j;ee&&M.push(Bc(ee,_h,!0),":");var se=this.g;return(se||ee=="file")&&(M.push("//"),(ee=this.o)&&M.push(Bc(ee,_h,!0),"@"),M.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&M.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&M.push("/"),M.push(Bc(se,se.charAt(0)=="/"?d1:u1,!0))),(se=this.i.toString())&&M.push("?",se),(se=this.m)&&M.push("#",Bc(se,cg)),M.join("")};function ya(M){return new Ll(M)}function vd(M,ee,se){M.j=se?Cn(ee,!0):ee,M.j&&(M.j=M.j.replace(/:$/,""))}function Oc(M,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);M.s=ee}else M.s=null}function Lc(M,ee,se){ee instanceof Ko?(M.i=ee,Xo(M.i,M.h)):(se||(ee=Bc(ee,f1)),M.i=new Ko(ee,M.h))}function tr(M,ee,se){M.i.set(ee,se)}function jc(M){return tr(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function Cn(M,ee){return M?ee?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Bc(M,ee,se){return typeof M=="string"?(M=encodeURI(M).replace(ee,c1),se&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function c1(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var _h=/[#\/\?@]/g,u1=/[#\?:]/g,d1=/[#\?]/g,f1=/[#\?@]/g,cg=/#/g;function Ko(M,ee){this.h=this.g=null,this.i=M||null,this.j=!!ee}function zi(M){M.g||(M.g=new Map,M.h=0,M.i&&mT(M.i,function(ee,se){M.add(decodeURIComponent(ee.replace(/\+/g," ")),se)}))}t=Ko.prototype,t.add=function(M,ee){zi(this),this.i=null,M=La(this,M);var se=this.g.get(M);return se||this.g.set(M,se=[]),se.push(ee),this.h+=1,this};function yo(M,ee){zi(M),ee=La(M,ee),M.g.has(ee)&&(M.i=null,M.h-=M.g.get(ee).length,M.g.delete(ee))}function vo(M,ee){return zi(M),ee=La(M,ee),M.g.has(ee)}t.forEach=function(M,ee){zi(this),this.g.forEach(function(se,Ee){se.forEach(function(He){M.call(ee,He,Ee,this)},this)},this)},t.na=function(){zi(this);const M=Array.from(this.g.values()),ee=Array.from(this.g.keys()),se=[];for(let Ee=0;Ee<ee.length;Ee++){const He=M[Ee];for(let it=0;it<He.length;it++)se.push(ee[Ee])}return se},t.V=function(M){zi(this);let ee=[];if(typeof M=="string")vo(this,M)&&(ee=ee.concat(this.g.get(La(this,M))));else{M=Array.from(this.g.values());for(let se=0;se<M.length;se++)ee=ee.concat(M[se])}return ee},t.set=function(M,ee){return zi(this),this.i=null,M=La(this,M),vo(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[ee]),this.h+=1,this},t.get=function(M,ee){return M?(M=this.V(M),0<M.length?String(M[0]):ee):ee};function Vc(M,ee,se){yo(M,ee),0<se.length&&(M.i=null,M.g.set(La(M,ee),g(se)),M.h+=se.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],ee=Array.from(this.g.keys());for(var se=0;se<ee.length;se++){var Ee=ee[se];const it=encodeURIComponent(String(Ee)),Tt=this.V(Ee);for(Ee=0;Ee<Tt.length;Ee++){var He=it;Tt[Ee]!==""&&(He+="="+encodeURIComponent(String(Tt[Ee]))),M.push(He)}}return this.i=M.join("&")};function La(M,ee){return ee=String(ee),M.j&&(ee=ee.toLowerCase()),ee}function Xo(M,ee){ee&&!M.j&&(zi(M),M.i=null,M.g.forEach(function(se,Ee){var He=Ee.toLowerCase();Ee!=He&&(yo(this,Ee),Vc(this,He,se))},M)),M.j=ee}function gT(M,ee){const se=new Jr;if(o.Image){const Ee=new Image;Ee.onload=p(Hs,se,"TestLoadImage: loaded",!0,ee,Ee),Ee.onerror=p(Hs,se,"TestLoadImage: error",!1,ee,Ee),Ee.onabort=p(Hs,se,"TestLoadImage: abort",!1,ee,Ee),Ee.ontimeout=p(Hs,se,"TestLoadImage: timeout",!1,ee,Ee),o.setTimeout(function(){Ee.ontimeout&&Ee.ontimeout()},1e4),Ee.src=M}else ee(!1)}function h1(M,ee){const se=new Jr,Ee=new AbortController,He=setTimeout(()=>{Ee.abort(),Hs(se,"TestPingServer: timeout",!1,ee)},1e4);fetch(M,{signal:Ee.signal}).then(it=>{clearTimeout(He),it.ok?Hs(se,"TestPingServer: ok",!0,ee):Hs(se,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(He),Hs(se,"TestPingServer: error",!1,ee)})}function Hs(M,ee,se,Ee,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),Ee(se)}catch{}}function yT(){this.g=new ur}function p1(M,ee,se){const Ee=se||"";try{Uc(M,function(He,it){let Tt=He;c(He)&&(Tt=_n(He)),ee.push(Ee+it+"="+encodeURIComponent(Tt))})}catch(He){throw ee.push(Ee+"type="+encodeURIComponent("_badmap")),He}}function jl(M){this.l=M.Ub||null,this.j=M.eb||!1}v(jl,$n),jl.prototype.g=function(){return new xd(this.l,this.j)},jl.prototype.i=(function(M){return function(){return M}})({});function xd(M,ee){De.call(this),this.D=M,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(xd,De),t=xd.prototype,t.open=function(M,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=ee,this.readyState=1,bo(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(ee.body=M),(this.D||o).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;m1(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function m1(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var ee=M.value?M.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!M.done}))&&(this.response=this.responseText+=ee)}M.done?xo(this):bo(this),this.readyState==3&&m1(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,xo(this))},t.Qa=function(M){this.g&&(this.response=M,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(M){M.readyState=4,M.l=null,M.j=null,M.v=null,bo(M)}t.setRequestHeader=function(M,ee){this.u.append(M,ee)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],ee=this.h.entries();for(var se=ee.next();!se.done;)se=se.value,M.push(se[0]+": "+se[1]),se=ee.next();return M.join(`\r
`)};function bo(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(xd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Bl(M){let ee="";return R(M,function(se,Ee){ee+=Ee,ee+=":",ee+=se,ee+=`\r
`}),ee}function Wc(M,ee,se){e:{for(Ee in se){var Ee=!1;break e}Ee=!0}Ee||(se=Bl(se),typeof M=="string"?se!=null&&encodeURIComponent(String(se)):tr(M,ee,se))}function _r(M){De.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(_r,De);var vT=/^https?$/i,ug=["POST","PUT"];t=_r.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,ee,se,Ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);ee=ee?ee.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?Ln(this.o):Ln(Re),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ee,String(M),!0),this.B=!1}catch(it){bd(this,it);return}if(M=se||"",se=new Map(this.headers),Ee)if(Object.getPrototypeOf(Ee)===Object.prototype)for(var He in Ee)se.set(He,Ee[He]);else if(typeof Ee.keys=="function"&&typeof Ee.get=="function")for(const it of Ee.keys())se.set(it,Ee.get(it));else throw Error("Unknown input type for opt_headers: "+String(Ee));Ee=Array.from(se.keys()).find(it=>it.toLowerCase()=="content-type"),He=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ug,ee,void 0))||Ee||He||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,Tt]of se)this.g.setRequestHeader(it,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Th(this),this.u=!0,this.g.send(M),this.u=!1}catch(it){bd(this,it)}};function bd(M,ee){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=ee,M.m=5,wh(M),va(M)}function wh(M){M.A||(M.A=!0,Oe(M,"complete"),Oe(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Oe(this,"complete"),Oe(this,"abort"),va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),va(this,!0)),_r.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dg(this):this.bb())},t.bb=function(){dg(this)};function dg(M){if(M.h&&typeof a<"u"&&(!M.v[1]||Gs(M)!=4||M.Z()!=2)){if(M.u&&Gs(M)==4)Ue(M.Ea,0,M);else if(Oe(M,"readystatechange"),Gs(M)==4){M.h=!1;try{const Tt=M.Z();e:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var se;if(!(se=ee)){var Ee;if(Ee=Tt===0){var He=String(M.D).match(yd)[1]||null;!He&&o.self&&o.self.location&&(He=o.self.location.protocol.slice(0,-1)),Ee=!vT.test(He?He.toLowerCase():"")}se=Ee}if(se)Oe(M,"complete"),Oe(M,"success");else{M.m=6;try{var it=2<Gs(M)?M.g.statusText:""}catch{it=""}M.l=it+" ["+M.Z()+"]",wh(M)}}finally{va(M)}}}}function va(M,ee){if(M.g){Th(M);const se=M.g,Ee=M.v[0]?()=>{}:null;M.g=null,M.v=null,ee||Oe(M,"ready");try{se.onreadystatechange=Ee}catch{}}}function Th(M){M.I&&(o.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function Gs(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var ee=this.g.responseText;return M&&ee.indexOf(M)==0&&(ee=ee.substring(M.length)),dn(ee)}};function fg(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(M){const ee={};M=(M.g&&2<=Gs(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ee=0;Ee<M.length;Ee++){if(x(M[Ee]))continue;var se=P(M[Ee]);const He=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const it=ee[He]||[];ee[He]=it,it.push(se)}D(ee,function(Ee){return Ee.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(M,ee,se){return se&&se.internalChannelParams&&se.internalChannelParams[M]||ee}function hg(M){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,M),this.cb=Jo("retryDelaySeedMs",1e4,M),this.Wa=Jo("forwardChannelMaxRetries",2,M),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new on(M&&M.concurrentRequestLimit),this.Da=new yT,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hg.prototype,t.la=8,t.G=1,t.connect=function(M,ee,se,Ee){an(0),this.W=M,this.H=ee||{},se&&Ee!==void 0&&(this.H.OSID=se,this.H.OAID=Ee),this.F=this.X,this.I=x1(this,null,this.W),Yo(this)};function Hi(M){if(Ch(M),M.G==3){var ee=M.U++,se=ya(M.I);if(tr(se,"SID",M.K),tr(se,"RID",ee),tr(se,"TYPE","terminate"),Vl(M,se),ee=new rt(M,M.j,ee),ee.L=2,ee.v=jc(ya(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(ee.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=ee.v,se=!0),se||(ee.g=b1(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),Ve(ee)}v1(M)}function _o(M){M.g&&(pg(M),M.g.cancel(),M.g=null)}function Ch(M){_o(M),M.u&&(o.clearTimeout(M.u),M.u=null),Ah(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function Yo(M){if(!ln(M.h)&&!M.s){M.s=!0;var ee=M.Ga;J||Y(),Z||(J(),Z=!0),z.add(ee,M),M.B=0}}function xT(M,ee){return $s(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=ee.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=jn(h(M.Ga,M,ee),y1(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const He=new rt(this,this.j,M);let it=this.o;if(this.S&&(it?(it=k(it),F(it,this.S)):it=this.S),this.m!==null||this.O||(He.H=it,it=null),this.P)e:{for(var ee=0,se=0;se<this.i.length;se++){t:{var Ee=this.i[se];if("__data__"in Ee.map&&(Ee=Ee.map.__data__,typeof Ee=="string")){Ee=Ee.length;break t}Ee=void 0}if(Ee===void 0)break;if(ee+=Ee,4096<ee){ee=se;break e}if(ee===4096||se===this.i.length-1){ee=se+1;break e}}ee=1e3}else ee=1e3;ee=qc(this,He,ee),se=ya(this.I),tr(se,"RID",M),tr(se,"CVER",22),this.D&&tr(se,"X-HTTP-Session-Id",this.D),Vl(this,se),it&&(this.O?ee="headers="+encodeURIComponent(String(Bl(it)))+"&"+ee:this.m&&Wc(se,this.m,it)),zs(this.h,He),this.Ua&&tr(se,"TYPE","init"),this.P?(tr(se,"$req",ee),tr(se,"SID","null"),He.T=!0,Ie(He,se,null)):Ie(He,se,ee),this.G=2}}else this.G==3&&(M?Sh(this,M):this.i.length==0||ln(this.h)||Sh(this))};function Sh(M,ee){var se;ee?se=ee.l:se=M.U++;const Ee=ya(M.I);tr(Ee,"SID",M.K),tr(Ee,"RID",se),tr(Ee,"AID",M.T),Vl(M,Ee),M.m&&M.o&&Wc(Ee,M.m,M.o),se=new rt(M,M.j,se,M.B+1),M.m===null&&(se.H=M.o),ee&&(M.i=ee.D.concat(M.i)),ee=qc(M,se,1e3),se.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),zs(M.h,se),Ie(se,Ee,ee)}function Vl(M,ee){M.H&&R(M.H,function(se,Ee){tr(ee,Ee,se)}),M.l&&Uc({},function(se,Ee){tr(ee,Ee,se)})}function qc(M,ee,se){se=Math.min(M.i.length,se);var Ee=M.l?h(M.l.Na,M.l,M):null;e:{var He=M.i;let it=-1;for(;;){const Tt=["count="+se];it==-1?0<se?(it=He[0].g,Tt.push("ofs="+it)):it=0:Tt.push("ofs="+it);let zn=!0;for(let gi=0;gi<se;gi++){let Dn=He[gi].g;const Ni=He[gi].map;if(Dn-=it,0>Dn)it=Math.max(0,He[gi].g-100),zn=!1;else try{p1(Ni,Tt,"req"+Dn+"_")}catch{Ee&&Ee(Ni)}}if(zn){Ee=Tt.join("&");break e}}}return M=M.i.splice(0,se),ee.D=M,Ee}function _d(M){if(!M.g&&!M.u){M.Y=1;var ee=M.Fa;J||Y(),Z||(J(),Z=!0),z.add(ee,M),M.v=0}}function Dh(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=jn(h(M.Fa,M),y1(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,g1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=jn(h(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),_o(this),g1(this))};function pg(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function g1(M){M.g=new rt(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var ee=ya(M.qa);tr(ee,"RID","rpc"),tr(ee,"SID",M.K),tr(ee,"AID",M.T),tr(ee,"CI",M.F?"0":"1"),!M.F&&M.ja&&tr(ee,"TO",M.ja),tr(ee,"TYPE","xmlhttp"),Vl(M,ee),M.m&&M.o&&Wc(ee,M.m,M.o),M.L&&(M.g.I=M.L);var se=M.g;M=M.ia,se.L=1,se.v=jc(ya(ee)),se.m=null,se.P=!0,qe(se,M)}t.Za=function(){this.C!=null&&(this.C=null,_o(this),Dh(this),an(19))};function Ah(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function Nh(M,ee){var se=null;if(M.g==ee){Ah(M),pg(M),M.g=null;var Ee=2}else if(En(M.h,ee))se=ee.D,o1(M.h,ee),Ee=1;else return;if(M.G!=0){if(ee.o)if(Ee==1){se=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var He=M.B;Ee=Ge(),Oe(Ee,new dr(Ee,se)),Yo(M)}else _d(M);else if(He=ee.s,He==3||He==0&&0<ee.X||!(Ee==1&&xT(M,ee)||Ee==2&&Dh(M)))switch(se&&0<se.length&&(ee=M.h,ee.i=ee.i.concat(se)),He){case 1:Wl(M,5);break;case 4:Wl(M,10);break;case 3:Wl(M,6);break;default:Wl(M,2)}}}function y1(M,ee){let se=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(se*=2),se*ee}function Wl(M,ee){if(M.j.info("Error code "+ee),ee==2){var se=h(M.fb,M),Ee=M.Xa;const He=!Ee;Ee=new Ll(Ee||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vd(Ee,"https"),jc(Ee),He?gT(Ee.toString(),se):h1(Ee.toString(),se)}else an(2);M.G=0,M.l&&M.l.sa(ee),v1(M),Ch(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function v1(M){if(M.G=0,M.ka=[],M.l){const ee=l1(M.h);(ee.length!=0||M.i.length!=0)&&(y(M.ka,ee),y(M.ka,M.i),M.h.i.length=0,g(M.i),M.i.length=0),M.l.ra()}}function x1(M,ee,se){var Ee=se instanceof Ll?ya(se):new Ll(se);if(Ee.g!="")ee&&(Ee.g=ee+"."+Ee.g),Oc(Ee,Ee.s);else{var He=o.location;Ee=He.protocol,ee=ee?ee+"."+He.hostname:He.hostname,He=+He.port;var it=new Ll(null);Ee&&vd(it,Ee),ee&&(it.g=ee),He&&Oc(it,He),se&&(it.l=se),Ee=it}return se=M.D,ee=M.ya,se&&ee&&tr(Ee,se,ee),tr(Ee,"VER",M.la),Vl(M,Ee),Ee}function b1(M,ee,se){if(ee&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=M.Ca&&!M.pa?new _r(new jl({eb:se})):new _r(M.pa),ee.Ha(M.J),ee}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mg(){}t=mg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kh(){}kh.prototype.g=function(M,ee){return new Ns(M,ee)};function Ns(M,ee){De.call(this),this.g=new hg(ee),this.l=M,this.h=ee&&ee.messageUrlParams||null,M=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(M?M["X-WebChannel-Content-Type"]=ee.messageContentType:M={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(M?M["X-WebChannel-Client-Profile"]=ee.va:M={"X-WebChannel-Client-Profile":ee.va}),this.g.S=M,(M=ee&&ee.Sb)&&!x(M)&&(this.g.m=M),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!x(ee)&&(this.g.D=ee,M=this.h,M!==null&&ee in M&&(M=this.h,ee in M&&delete M[ee])),this.j=new Qo(this)}v(Ns,De),Ns.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ns.prototype.close=function(){Hi(this.g)},Ns.prototype.o=function(M){var ee=this.g;if(typeof M=="string"){var se={};se.__data__=M,M=se}else this.u&&(se={},se.__data__=_n(M),M=se);ee.i.push(new zt(ee.Ya++,M)),ee.G==3&&Yo(ee)},Ns.prototype.N=function(){this.g.l=null,delete this.j,Hi(this.g),delete this.g,Ns.aa.N.call(this)};function _1(M){Zt.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var ee=M.__sm__;if(ee){e:{for(const se in ee){M=se;break e}M=void 0}(this.i=M)&&(M=this.i,ee=ee!==null&&M in ee?ee[M]:void 0),this.data=ee}else this.data=M}v(_1,Zt);function w1(){he.call(this),this.status=1}v(w1,he);function Qo(M){this.g=M}v(Qo,mg),Qo.prototype.ua=function(){Oe(this.g,"a")},Qo.prototype.ta=function(M){Oe(this.g,new _1(M))},Qo.prototype.sa=function(M){Oe(this.g,new w1)},Qo.prototype.ra=function(){Oe(this.g,"b")},kh.prototype.createWebChannel=kh.prototype.g,Ns.prototype.send=Ns.prototype.o,Ns.prototype.open=Ns.prototype.m,Ns.prototype.close=Ns.prototype.close,bV=function(){return new kh},xV=function(){return Ge()},vV=we,MD={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,u2=Ae,Ne.COMPLETE="complete",yV=Ne,Sn.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",De.prototype.listen=De.prototype.K,v0=Sn,_r.prototype.listenOnce=_r.prototype.L,_r.prototype.getLastError=_r.prototype.Ka,_r.prototype.getLastErrorCode=_r.prototype.Ba,_r.prototype.getStatus=_r.prototype.Z,_r.prototype.getResponseJson=_r.prototype.Oa,_r.prototype.getResponseText=_r.prototype.oa,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Ha,gV=_r}).apply(typeof yx<"u"?yx:typeof self<"u"?self:typeof window<"u"?window:{});const M8="@firebase/firestore",U8="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Rm("@firebase/firestore");function hp(){return Fu.logLevel}function Gne(t){Fu.setLogLevel(t)}function pt(t,...e){if(Fu.logLevel<=xn.DEBUG){const n=e.map(qN);Fu.debug(`Firestore (${Pm}): ${t}`,...n)}}function ei(t,...e){if(Fu.logLevel<=xn.ERROR){const n=e.map(qN);Fu.error(`Firestore (${Pm}): ${t}`,...n)}}function Al(t,...e){if(Fu.logLevel<=xn.WARN){const n=e.map(qN);Fu.warn(`Firestore (${Pm}): ${t}`,...n)}}function qN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_V(t,r,n)}function _V(t,e,n){let r=`FIRESTORE (${Pm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ei(r),new Error(r)}function Ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_V(e,i,r)}function Kne(t,e){t||Dt(57014,e)}function St(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Li.UNAUTHENTICATED)))}shutdown(){}}class Jne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Yne{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ts,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ts)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new wV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new Li(e)}}class Qne{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Qne(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Li.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ere{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ut(this.o===void 0,3512);const r=s=>{s.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function rn(t,e){return t<e?-1:t>e?1:0}function UD(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return YE(i)===YE(s)?rn(i,s):YE(i)?1:-1}return rn(t.length,e.length)}const nre=55296,rre=57343;function YE(t){const e=t.charCodeAt(0);return e>=nre&&e<=rre}function Kp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function TV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="__name__";class cl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=cl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return rn(e.length,n.length)}static compareSegments(e,n){const r=cl.isNumericId(e),i=cl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?cl.extractNumericId(e).compare(cl.extractNumericId(n)):UD(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eu.fromString(e.substring(4,e.length-2))}}class wn extends cl{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wn(n)}static emptyPath(){return new wn([])}}const ire=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends cl{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return ire.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L8}static keyField(){return new Er([L8])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ut(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ut(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ut(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new ut(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(wn.fromString(e))}static fromName(e){return new Et(wn.fromString(e).popFirst(5))}static empty(){return new Et(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e,n){if(!n)throw new ut(nt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EV(t,e,n,r){if(e===!0&&r===!0)throw new ut(nt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j8(t){if(!Et.isDocumentKey(t))throw new ut(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B8(t){if(Et.isDocumentKey(t))throw new ut(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function x_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dt(12329,{type:typeof t})}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x_(t);throw new ut(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function SV(t,e){if(e<=0)throw new ut(nt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e){const n={typeString:t};return e&&(n.value=e),n}function mv(t,e){if(!CV(t))throw new ut(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ut(nt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=-62135596800,W8=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W8);return new Vn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ut(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V8)throw new ut(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W8}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mv(e,Vn._jsonSchema))return new Vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:mi("string",Vn._jsonSchemaVersion),seconds:mi("number"),nanoseconds:mi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Vn(0,0))}static max(){return new Vt(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;class rb{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function OD(t){return t.fields.find((e=>e.kind===2))}function $d(t){return t.fields.filter((e=>e.kind!==2))}rb.UNKNOWN_ID=-1;class d2{constructor(e,n){this.fieldPath=e,this.kind=n}}class my{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new my(0,Fa.min())}}function DV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new Fa(i,Et.empty(),e)}function AV(t){return new Fa(t.readTime,t.key,Xp)}class Fa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fa(Vt.min(),Et.empty(),Xp)}static max(){return new Fa(Vt.max(),Et.empty(),Xp)}}function HN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Et.comparator(t.documentKey,e.documentKey),n!==0?n:rn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){if(t.code!==nt.FAILED_PRECONDITION||t.message!==NV)throw t;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.reject(n)}static resolve(e){return new ze(((n,r)=>{n(e)}))}static reject(e){return new ze(((n,r)=>{r(e)}))}static waitFor(e){return new ze(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next((i=>i?ze.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ze(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new ze(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="SimpleDb";class b_{static open(e,n,r,i){try{return new b_(n,e.transaction(i,r))}catch(s){throw new k0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ts,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new k0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=GN(r.target.error);this.S.reject(new k0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pt(Ea,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new are(n)}}class Tl{static delete(e){return pt(Ea,"Removing database:",e),Kd(RN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!dy())return!1;if(Tl.F())return!0;const e=Ur(),n=Tl.M(e),r=0<n&&n<10,i=IV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Tl.M(Ur())===12.2&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pt(Ea,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new k0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new ut(nt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ut(nt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new k0(e,a))},i.onupgradeneeded=s=>{pt(Ea,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{pt(Ea,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=b_.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),ze.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(pt(Ea,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class sre{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Kd(this.U.delete())}}class k0 extends ut{constructor(e,n){super(nt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ed(t){return t.name==="IndexedDbTransactionError"}class are{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(pt(Ea,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(pt(Ea,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Kd(r)}add(e){return pt(Ea,"ADD",this.store.name,e,e),Kd(this.store.add(e))}get(e){return Kd(this.store.get(e)).next((n=>(n===void 0&&(n=null),pt(Ea,"GET",this.store.name,e,n),n)))}delete(e){return pt(Ea,"DELETE",this.store.name,e),Kd(this.store.delete(e))}count(){return pt(Ea,"COUNT",this.store.name),Kd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ze(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ze(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){pt(Ea,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new ze(((r,i)=>{n.onerror=s=>{const a=GN(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new ze(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new sre(o),c=n(o.primaryKey,o.value,l);if(c instanceof ze){const u=c.catch((f=>(l.done(),ze.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>ze.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Kd(t){return new ze(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=GN(r.target.error);n(i)}}))}let q8=!1;function GN(t){const e=Tl.M(Ur());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q8||(q8=!0,setTimeout((()=>{throw r}),0)),r}}return t}const I0="IndexBackfiller";class ore{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pt(I0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();pt(I0,`Documents written: ${n}`)}catch(n){ed(n)?pt(I0,"Ignoring IndexedDB error during index backfill: ",n):await Zu(n)}await this.re(6e4)}))}}class lre{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return ze.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return pt(I0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(pt(I0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=AV(s);HN(a,r)>0&&(r=a)})),new Fa(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ra.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function gv(t){return t==null}function gy(t){return t===0&&1/t==-1/0}function RV(t){return typeof t=="number"&&Number.isInteger(t)&&!gy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="";function _s(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$8(e)),e=cre(t.get(n),e);return $8(e)}function cre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case ib:n+="";break;default:n+=s}}return n}function $8(t){return t+ib+""}function gl(t){const e=t.length;if(Ut(e>=2,64408,{path:t}),e===2)return Ut(t.charAt(0)===ib&&t.charAt(1)==="",56145,{path:t}),wn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(ib,s);switch((a<0||a>n)&&Dt(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Dt(61167,{path:t})}s=a+2}return new wn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="remoteDocuments",yv="owner",Qh="owner",yy="mutationQueues",ure="userId",Po="mutations",z8="batchId",ef="userMutationsIndex",H8=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){return[t,_s(e)]}function PV(t,e,n){return[t,_s(e),n]}const dre={},Jp="documentMutations",sb="remoteDocumentsV14",fre=["prefixPath","collectionGroup","readTime","documentId"],h2="documentKeyIndex",hre=["prefixPath","collectionGroup","documentId"],FV="collectionGroupIndex",pre=["collectionGroup","readTime","prefixPath","documentId"],vy="remoteDocumentGlobal",LD="remoteDocumentGlobalKey",Yp="targets",MV="queryTargetsIndex",mre=["canonicalId","targetId"],Qp="targetDocuments",gre=["targetId","path"],KN="documentTargetsIndex",yre=["path","targetId"],ab="targetGlobalKey",df="targetGlobal",xy="collectionParents",vre=["collectionId","parent"],Zp="clientMetadata",xre="clientId",__="bundles",bre="bundleId",w_="namedQueries",_re="name",XN="indexConfiguration",wre="indexId",jD="collectionGroupIndex",Tre="collectionGroup",R0="indexState",Ere=["indexId","uid"],UV="sequenceNumberIndex",Cre=["uid","sequenceNumber"],P0="indexEntries",Sre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OV="documentKeyIndex",Dre=["indexId","uid","orderedDocumentKey"],T_="documentOverlays",Are=["userId","collectionPath","documentId"],BD="collectionPathOverlayIndex",Nre=["userId","collectionPath","largestBatchId"],LV="collectionGroupOverlayIndex",kre=["userId","collectionGroup","largestBatchId"],JN="globals",Ire="name",jV=[yy,Po,Jp,zd,Yp,yv,df,Qp,Zp,vy,xy,__,w_],Rre=[...jV,T_],BV=[yy,Po,Jp,sb,Yp,yv,df,Qp,Zp,vy,xy,__,w_,T_],VV=BV,YN=[...VV,XN,R0,P0],Pre=YN,WV=[...YN,JN],Fre=WV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends kV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Di(t,e){const n=St(t);return Tl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function td(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or=class WD{constructor(e,n){this.comparator=e,this.root=n||Su.EMPTY}insert(e,n){return new WD(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Su.BLACK,null,null))}remove(e){return new WD(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Su.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vx(this.root,e,this.comparator,!1)}getReverseIterator(){return new vx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vx(this.root,e,this.comparator,!0)}},vx=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Su=class Zl{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zl.RED,this.left=i??Zl.EMPTY,this.right=s??Zl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zl(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zl.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}};Su.EMPTY=null,Su.RED=!0,Su.BLACK=!1;Su.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Su(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K8(this.data.getIterator())}getIteratorFrom(e){return new K8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yn(this.comparator);return n.data=e,n}}class K8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new ia([])}unionWith(e){let n=new Yn(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ia(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $V("Invalid base64 string: "+s):s}})(e);return new $r(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new $r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const Ure=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yc(t){if(Ut(!!t,39018),typeof t=="string"){let e=0;const n=Ure.exec(t);if(Ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(t.seconds),nanos:Tr(t.nanos)}}function Tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vc(t){return typeof t=="string"?$r.fromBase64String(t):$r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="server_timestamp",HV="__type__",GV="__previous_value__",KV="__local_write_time__";function E_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HV])==null?void 0:r.stringValue)===zV}function C_(t){const e=t.mapValue.fields[GV];return E_(e)?C_(e):e}function by(t){const e=yc(t.mapValue.fields[KV].timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const qD="(default)";class Mu{constructor(e,n){this.projectId=e,this.database=n||qD}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===qD}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__type__",XV="__max__",hu={mapValue:{fields:{__type__:{stringValue:XV}}}},ZN="__vector__",em="value",p2={nullValue:"NULL_VALUE"};function Uu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E_(t)?4:JV(t)?9007199254740991:S_(t)?10:11:Dt(28295,{value:t})}function Nl(t,e){if(t===e)return!0;const n=Uu(t);if(n!==Uu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return by(t).isEqual(by(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=yc(i.timestampValue),o=yc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return vc(i.bytesValue).isEqual(vc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Tr(i.geoPointValue.latitude)===Tr(s.geoPointValue.latitude)&&Tr(i.geoPointValue.longitude)===Tr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Tr(i.integerValue)===Tr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Tr(i.doubleValue),o=Tr(s.doubleValue);return a===o?gy(a)===gy(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return Kp(t.arrayValue.values||[],e.arrayValue.values||[],Nl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(G8(a)!==G8(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Nl(a[l],o[l])))return!1;return!0})(t,e);default:return Dt(52216,{left:t})}}function _y(t,e){return(t.values||[]).find((n=>Nl(n,e)))!==void 0}function Ou(t,e){if(t===e)return 0;const n=Uu(t),r=Uu(e);if(n!==r)return rn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Tr(s.integerValue||s.doubleValue),l=Tr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return X8(t.timestampValue,e.timestampValue);case 4:return X8(by(t),by(e));case 5:return UD(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=vc(s),l=vc(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=rn(o[c],l[c]);if(u!==0)return u}return rn(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=rn(Tr(s.latitude),Tr(a.latitude));return o!==0?o:rn(Tr(s.longitude),Tr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return J8(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[em])==null?void 0:h.arrayValue,u=(p=l[em])==null?void 0:p.arrayValue,f=rn(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:J8(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===hu.mapValue&&a===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(a===hu.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=UD(l[f],u[f]);if(h!==0)return h;const p=Ou(o[l[f]],c[u[f]]);if(p!==0)return p}return rn(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Dt(23264,{he:n})}}function X8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rn(t,e);const n=yc(t),r=yc(e),i=rn(n.seconds,r.seconds);return i!==0?i:rn(n.nanos,r.nanos)}function J8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ou(n[i],r[i]);if(s)return s}return rn(n.length,r.length)}function tm(t){return $D(t)}function $D(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return vc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Et.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$D(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${$D(n.fields[a])}`;return i+"}"})(t.mapValue):Dt(61005,{value:t})}function m2(t){switch(Uu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=C_(t);return e?16+m2(e):16;case 5:return 2*t.stringValue.length;case 6:return vc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+m2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return td(r.fields,((s,a)=>{i+=s.length+m2(a)})),i})(t.mapValue);default:throw Dt(13486,{value:t})}}function Tf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zD(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function Y8(t){return!!t&&"nullValue"in t}function Q8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function g2(t){return!!t&&"mapValue"in t}function S_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QN])==null?void 0:r.stringValue)===ZN}function F0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return td(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=F0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=F0(t.arrayValue.values[n]);return e}return{...t}}function JV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XV}const YV={mapValue:{fields:{[QN]:{stringValue:ZN},[em]:{arrayValue:{}}}}};function Lre(t){return"nullValue"in t?p2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Tf(Mu.empty(),Et.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?S_(t)?YV:{mapValue:{}}:Dt(35942,{value:t})}function jre(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Tf(Mu.empty(),Et.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?YV:"mapValue"in t?S_(t)?{mapValue:{}}:hu:Dt(61959,{value:t})}function Z8(t,e){const n=Ou(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function eP(t,e){const n=Ou(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!g2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=F0(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=F0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());g2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];g2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){td(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Zi(F0(this.value))}}function QV(t){const e=[];return td(t.fields,((n,r)=>{const i=new Er([n]);if(g2(r)){const s=QV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new ia(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new gr(e,0,Vt.min(),Vt.min(),Vt.min(),Zi.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,Vt.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,Vt.min(),Vt.min(),Zi.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,Vt.min(),Vt.min(),Zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.position=e,this.inclusive=n}}function tP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Et.comparator(Et.fromName(a.referenceValue),n.key):r=Ou(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{}class Tn extends ZV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vre(e,n,r):n==="array-contains"?new $re(e,r):n==="in"?new sW(e,r):n==="not-in"?new zre(e,r):n==="array-contains-any"?new Hre(e,r):new Tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wre(e,r):new qre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ou(n,this.value)):n!==null&&Uu(this.value)===Uu(n)&&this.matchesComparison(Ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends ZV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return nm(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nm(t){return t.op==="and"}function HD(t){return t.op==="or"}function e3(t){return eW(t)&&nm(t)}function eW(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function GD(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+tm(t.value);if(e3(t))return t.filters.map((e=>GD(e))).join(",");{const e=t.filters.map((n=>GD(n))).join(",");return`${t.op}(${e})`}}function tW(t,e){return t instanceof Tn?(function(r,i){return i instanceof Tn&&r.op===i.op&&r.field.isEqual(i.field)&&Nl(r.value,i.value)})(t,e):t instanceof Xn?(function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&tW(a,i.filters[o])),!0):!1})(t,e):void Dt(19439)}function nW(t,e){const n=t.filters.concat(e);return Xn.create(n,t.op)}function rW(t){return t instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${tm(n.value)}`})(t):t instanceof Xn?(function(n){return n.op.toString()+" {"+n.getFilters().map(rW).join(" ,")+"}"})(t):"Filter"}class Vre extends Tn{constructor(e,n,r){super(e,n,r),this.key=Et.fromName(r.referenceValue)}matches(e){const n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wre extends Tn{constructor(e,n){super(e,"in",n),this.keys=iW("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qre extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=iW("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function iW(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Et.fromName(r.referenceValue)))}class $re extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&_y(n.arrayValue,this.value)}}class sW extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_y(this.value.arrayValue,n)}}class zre extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_y(this.value.arrayValue,n)}}class Hre extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_y(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function KD(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Gre(t,e,n,r,i,s,a)}function Ef(t){const e=St(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>GD(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),gv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>tm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>tm(r))).join(",")),e.Te=n}return e.Te}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tW(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nP(t.startAt,e.startAt)&&nP(t.endAt,e.endAt)}function ob(t){return Et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lb(t,e){return t.filters.filter((n=>n instanceof Tn&&n.field.isEqual(e)))}function rP(t,e,n){let r=p2,i=!0;for(const s of lb(t,e)){let a=p2,o=!0;switch(s.op){case"<":case"<=":a=Lre(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=p2}Z8({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];Z8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function iP(t,e,n){let r=hu,i=!0;for(const s of lb(t,e)){let a=hu,o=!0;switch(s.op){case">=":case">":a=jre(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=hu}eP({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];eP({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aW(t,e,n,r,i,s,a,o){return new Cc(t,e,n,r,i,s,a,o)}function Fm(t){return new Cc(t)}function sP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t3(t){return t.collectionGroup!==null}function Ap(t){const e=St(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Yn(Er.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ty(s,r))})),n.has(Er.keyField().canonicalString())||e.Ie.push(new Ty(Er.keyField(),r))}return e.Ie}function js(t){const e=St(t);return e.Ee||(e.Ee=Kre(e,Ap(t))),e.Ee}function Kre(t,e){if(t.limitType==="F")return KD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ty(i.field,s)}));const n=t.endAt?new Lu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lu(t.startAt.position,t.startAt.inclusive):null;return KD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function XD(t,e){const n=t.filters.concat([e]);return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cb(t,e,n){return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xv(t,e){return vv(js(t),js(e))&&t.limitType===e.limitType}function oW(t){return`${Ef(js(t))}|lt:${t.limitType}`}function pp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>rW(i))).join(", ")}]`),gv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>tm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>tm(i))).join(",")),`Target(${r})`})(js(t))}; limitType=${t.limitType})`}function bv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Ap(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=tP(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,Ap(r),i)||r.endAt&&!(function(a,o,l){const c=tP(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,Ap(r),i))})(t,e)}function lW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cW(t){return(e,n)=>{let r=!1;for(const i of Ap(t)){const s=Xre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Xre(t,e,n){const r=t.field.isKeyField()?Et.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Ou(l,c):Dt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){td(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return qV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=new Or(Et.comparator);function sa(){return Jre}const uW=new Or(Et.comparator);function x0(...t){let e=uW;for(const n of t)e=e.insert(n.key,n);return e}function dW(t){let e=uW;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yl(){return M0()}function fW(){return M0()}function M0(){return new Sc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Yre=new Or(Et.comparator),Qre=new Yn(Et.comparator);function cn(...t){let e=Qre;for(const n of t)e=e.add(n);return e}const Zre=new Yn(rn);function n3(){return Zre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gy(e)?"-0":e}}function hW(t){return{integerValue:""+t}}function pW(t,e){return RV(e)?hW(e):r3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this._=void 0}}function eie(t,e,n){return t instanceof rm?(function(i,s){const a={fields:{[HV]:{stringValue:zV},[KV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&E_(s)&&(s=C_(s)),s&&(a.fields[GV]=s),{mapValue:a}})(n,e):t instanceof Cf?gW(t,e):t instanceof Sf?yW(t,e):(function(i,s){const a=mW(i,s),o=aP(a)+aP(i.Ae);return zD(a)&&zD(i.Ae)?hW(o):r3(i.serializer,o)})(t,e)}function tie(t,e,n){return t instanceof Cf?gW(t,e):t instanceof Sf?yW(t,e):n}function mW(t,e){return t instanceof im?(function(r){return zD(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class rm extends D_{}class Cf extends D_{constructor(e){super(),this.elements=e}}function gW(t,e){const n=vW(e);for(const r of t.elements)n.some((i=>Nl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Sf extends D_{constructor(e){super(),this.elements=e}}function yW(t,e){let n=vW(e);for(const r of t.elements)n=n.filter((i=>!Nl(i,r)));return{arrayValue:{values:n}}}class im extends D_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aP(t){return Tr(t.integerValue||t.doubleValue)}function vW(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.field=e,this.transform=n}}function nie(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Cf&&i instanceof Cf||r instanceof Sf&&i instanceof Sf?Kp(r.elements,i.elements,Nl):r instanceof im&&i instanceof im?Nl(r.Ae,i.Ae):r instanceof rm&&i instanceof rm})(t.transform,e.transform)}class rie{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function y2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A_{}function xW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Um(t.key,Cr.none()):new Mm(t.key,t.data,Cr.none());{const n=t.data,r=Zi.empty();let i=new Yn(Er.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Dc(t.key,r,new ia(i.toArray()),Cr.none())}}function iie(t,e,n){t instanceof Mm?(function(i,s,a){const o=i.value.clone(),l=lP(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Dc?(function(i,s,a){if(!y2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=lP(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(bW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function U0(t,e,n,r){return t instanceof Mm?(function(s,a,o,l){if(!y2(s.precondition,a))return o;const c=s.value.clone(),u=cP(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Dc?(function(s,a,o,l){if(!y2(s.precondition,a))return o;const c=cP(s.fieldTransforms,l,a),u=a.data;return u.setAll(bW(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return y2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function sie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mW(r.transform,i||null);s!=null&&(n===null&&(n=Zi.empty()),n.set(r.field,s))}return n||null}function oP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kp(r,i,((s,a)=>nie(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mm extends A_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dc extends A_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bW(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function lP(t,e,n){const r=new Map;Ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,tie(a,o,n[i]))}return r}function cP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,eie(s,a,e))}return r}class Um extends A_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i3 extends A_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=U0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=U0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fW();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=xW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Vt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),cn())}isEqual(e){return this.batchId===e.batchId&&Kp(this.mutations,e.mutations,((n,r)=>oP(n,r)))&&Kp(this.baseMutations,e.baseMutations,((n,r)=>oP(n,r)))}}class a3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Yre})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new a3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di,An;function _W(t){switch(t){case nt.OK:return Dt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Dt(15467,{code:t})}}function wW(t){if(t===void 0)return ei("GRPC error has no .code"),nt.UNKNOWN;switch(t){case di.OK:return nt.OK;case di.CANCELLED:return nt.CANCELLED;case di.UNKNOWN:return nt.UNKNOWN;case di.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case di.INTERNAL:return nt.INTERNAL;case di.UNAVAILABLE:return nt.UNAVAILABLE;case di.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case di.NOT_FOUND:return nt.NOT_FOUND;case di.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case di.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case di.ABORTED:return nt.ABORTED;case di.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case di.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case di.DATA_LOSS:return nt.DATA_LOSS;default:return Dt(39323,{code:t})}}(An=di||(di={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=new Eu([4294967295,4294967295],0);function uP(t){const e=TW().encode(t),n=new mV;return n.update(e),new Uint8Array(n.digest())}function dP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eu([n,r],0),new Eu([i,s],0)]}class l3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new b0(`Invalid padding: ${n}`);if(r<0)throw new b0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new b0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new b0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Eu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Eu.fromNumber(r)));return i.compare(oie)===1&&(i=new Eu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uP(e),[r,i]=dP(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new l3(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=uP(e),[r,i]=dP(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class b0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wv(Vt.min(),i,new Or(rn),sa(),cn())}}class Tv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tv(r,n,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class EW{constructor(e,n){this.targetId=e,this.Ce=n}}class CW{constructor(e,n,r=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fP{constructor(){this.ve=0,this.Fe=hP(),this.Me=$r.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=cn(),n=cn(),r=cn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt(38017,{changeType:s})}})),new Tv(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=hP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lie{constructor(e){this.Ge=e,this.ze=new Map,this.je=sa(),this.Je=xx(),this.He=xx(),this.Ye=new Or(rn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ob(s))if(r===0){const a=new Et(s.path);this.et(n,a,gr.newNoDocument(a,Vt.min()))}else Ut(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=vc(r).toUint8Array()}catch(l){if(l instanceof $V)return Al("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new l3(a,i,s)}catch(l){return Al(l instanceof b0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&ob(o.target)){const l=new Et(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,gr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=cn();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new wv(e,n,this.Ye,this.je,r);return this.je=sa(),this.Je=xx(),this.He=xx(),this.Ye=new Or(rn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yn(rn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yn(rn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xx(){return new Or(Et.comparator)}function hP(){return new Or(Et.comparator)}const cie={asc:"ASCENDING",desc:"DESCENDING"},uie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},die={and:"AND",or:"OR"};class fie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JD(t,e){return t.useProto3Json||gv(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hie(t,e){return sm(t,e.toTimestamp())}function ti(t){return Ut(!!t,49232),Vt.fromTimestamp((function(n){const r=yc(n);return new Vn(r.seconds,r.nanos)})(t))}function c3(t,e){return YD(t,e).canonicalString()}function YD(t,e){const n=(function(i){return new wn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function DW(t){const e=wn.fromString(t);return Ut(OW(e),10190,{key:e.toString()}),e}function Ey(t,e){return c3(t.databaseId,e.path)}function El(t,e){const n=DW(e);if(n.get(1)!==t.databaseId.projectId)throw new ut(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ut(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Et(kW(n))}function AW(t,e){return c3(t.databaseId,e)}function NW(t){const e=DW(t);return e.length===4?wn.emptyPath():kW(e)}function QD(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kW(t){return Ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pP(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function IW(t,e,n){const r=El(t,e.name),i=ti(e.updateTime),s=e.createTime?ti(e.createTime):Vt.min(),a=new Zi({mapValue:{fields:e.fields}}),o=gr.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pie(t,e){return"found"in e?(function(r,i){Ut(!!i.found,43571),i.found.name,i.found.updateTime;const s=El(r,i.found.name),a=ti(i.found.updateTime),o=i.found.createTime?ti(i.found.createTime):Vt.min(),l=new Zi({mapValue:{fields:i.found.fields}});return gr.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){Ut(!!i.missing,3894),Ut(!!i.readTime,22933);const s=El(r,i.missing),a=ti(i.readTime);return gr.newNoDocument(s,a)})(t,e):Dt(7234,{result:e})}function mie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Dt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Ut(u===void 0||typeof u=="string",58123),$r.fromBase64String(u||"")):(Ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),$r.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?nt.UNKNOWN:wW(c.code);return new ut(u,c.message||"")})(a);n=new CW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=El(t,r.document.name),s=ti(r.document.updateTime),a=r.document.createTime?ti(r.document.createTime):Vt.min(),o=new Zi({mapValue:{fields:r.document.fields}}),l=gr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new v2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=El(t,r.document),s=r.readTime?ti(r.readTime):Vt.min(),a=gr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new v2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=El(t,r.document),s=r.removedTargetIds||[];n=new v2([],s,i,null)}else{if(!("filter"in e))return Dt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new aie(i,s),o=r.targetId;n=new EW(o,a)}}return n}function Cy(t,e){let n;if(e instanceof Mm)n={update:pP(t,e.key,e.value)};else if(e instanceof Um)n={delete:Ey(t,e.key)};else if(e instanceof Dc)n={update:pP(t,e.key,e.data),updateMask:_ie(e.fieldMask)};else{if(!(e instanceof i3))return Dt(16599,{Vt:e.type});n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof rm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Sf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof im)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Dt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:hie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dt(27497)})(t,e.precondition)),n}function ZD(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Cr.updateTime(ti(s.updateTime)):s.exists!==void 0?Cr.exists(s.exists):Cr.none()})(e.currentDocument):Cr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)Ut(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new rm;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new Cf(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new Sf(u)}else"increment"in o?l=new im(a,o.increment):Dt(16584,{proto:o});const c=Er.fromServerFormat(o.fieldPath);return new _v(c,l)})(t,i))):[];if(e.update){e.update.name;const i=El(t,e.update.name),s=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new ia(c.map((u=>Er.fromServerFormat(u))))})(e.updateMask);return new Dc(i,s,a,n,r)}return new Mm(i,s,n,r)}if(e.delete){const i=El(t,e.delete);return new Um(i,n)}if(e.verify){const i=El(t,e.verify);return new i3(i,n)}return Dt(1463,{proto:e})}function gie(t,e){return t&&t.length>0?(Ut(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?ti(i.updateTime):ti(s);return a.isEqual(Vt.min())&&(a=ti(s)),new rie(a,i.transformResults||[])})(n,e)))):[]}function RW(t,e){return{documents:[AW(t,e.path)]}}function PW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AW(t,i);const s=(function(c){if(c.length!==0)return UW(Xn.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:mp(h.field),direction:vie(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=JD(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function FW(t){let e=NW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=MW(f);return h instanceof Xn&&e3(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new Ty(gp(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,gv(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Lu(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Lu(p,h)})(n.endAt)),aW(e,i,a,s,o,"F",l,c)}function yie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MW(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gp(n.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gp(n.unaryFilter.field);return Tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gp(n.unaryFilter.field);return Tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gp(n.unaryFilter.field);return Tn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tn.create(gp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xn.create(n.compositeFilter.filters.map((r=>MW(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(t):Dt(30097,{filter:t})}function vie(t){return cie[t]}function xie(t){return uie[t]}function bie(t){return die[t]}function mp(t){return{fieldPath:t.canonicalString()}}function gp(t){return Er.fromServerFormat(t.fieldPath)}function UW(t){return t instanceof Tn?(function(n){if(n.op==="=="){if(Q8(n.value))return{unaryFilter:{field:mp(n.field),op:"IS_NAN"}};if(Y8(n.value))return{unaryFilter:{field:mp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q8(n.value))return{unaryFilter:{field:mp(n.field),op:"IS_NOT_NAN"}};if(Y8(n.value))return{unaryFilter:{field:mp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mp(n.field),op:xie(n.op),value:n.value}}})(t):t instanceof Xn?(function(n){const r=n.getFilters().map((i=>UW(i)));return r.length===1?r[0]:{compositeFilter:{op:bie(n.op),filters:r}}})(t):Dt(54877,{filter:t})}function _ie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,i,s=Vt.min(),a=Vt.min(),o=$r.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.yt=e}}function wie(t,e){let n;if(e.document)n=IW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Et.fromSegments(e.noDocument.path),i=Af(e.noDocument.readTime);n=gr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt(56709);{const r=Et.fromSegments(e.unknownDocument.path),i=Af(e.unknownDocument.version);n=gr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Vn(i[0],i[1]);return Vt.fromTimestamp(s)})(e.readTime)),n}function mP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ub(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Ey(s,a.key),fields:a.data.value.mapValue.fields,updateTime:sm(s,a.version.toTimestamp()),createTime:sm(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Df(e.version)};else{if(!e.isUnknownDocument())return Dt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Df(e.version)}}return r}function ub(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Df(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Af(t){const e=new Vn(t.seconds,t.nanoseconds);return Vt.fromTimestamp(e)}function Xd(t,e){const n=(e.baseMutations||[]).map((s=>ZD(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>ZD(t.yt,s))),i=Vn.fromMillis(e.localWriteTimeMs);return new s3(e.batchId,i,n,r)}function _0(t){const e=Af(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Af(t.lastLimboFreeSnapshotVersion):Vt.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Ut(a===1,1966,{count:a}),js(Fm(NW(s.documents[0])))})(t.query):(function(s){return js(FW(s))})(t.query),new ec(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$r.fromBase64String(t.resumeToken))}function jW(t,e){const n=Df(e.snapshotVersion),r=Df(e.lastLimboFreeSnapshotVersion);let i;i=ob(e.target)?RW(t.yt,e.target):PW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ef(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function u3(t){const e=FW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cb(e,e.limit,"L"):e}function QE(t,e){return new o3(e.largestBatchId,ZD(t.yt,e.overlayMutation))}function gP(t,e){const n=e.path.lastSegment();return[t,_s(e.path.popLast()),n]}function yP(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Df(r.readTime),documentKey:_s(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{getBundleMetadata(e,n){return vP(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Af(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return vP(e).put((function(i){return{bundleId:i.id,createTime:Df(ti(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return xP(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:u3(s.bundledQuery),readTime:Af(s.readTime)}})(r)}))}saveNamedQuery(e,n){return xP(e).put((function(i){return{name:i.name,readTime:Df(ti(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function vP(t){return Di(t,__)}function xP(t){return Di(t,w_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new N_(e,r)}getOverlay(e,n){return Vg(e).get(gP(this.userId,n)).next((r=>r?QE(this.serializer,r):null))}getOverlays(e,n){const r=yl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new o3(n,a);i.push(this.St(e,o))})),ze.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(_s(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Vg(e).Z(BD,o))})),ze.waitFor(s)}getOverlaysForCollection(e,n,r){const i=yl(),s=_s(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vg(e).J(BD,a).next((o=>{for(const l of o){const c=QE(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=yl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Vg(e).ee({index:LV,range:o},((l,c,u)=>{const f=QE(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return Vg(e).put((function(i,s,a){const[o,l,c]=gP(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Cy(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Vg(t){return Di(t,T_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{bt(e){return Di(e,JN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?$r.fromUint8Array(r):$r.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),gy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=yc(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(vc(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?JV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):S_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Dt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=em,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Tr(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Et.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Jd.Kt=new Jd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=255;function Cie(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function bP(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=Cie(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class Sie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=bP(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=bP(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(ep),this.sn(255)}_n(){this.an(ep),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===ep?(this.sn(ep),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===ep?(this.an(ep),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Die{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Aie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Wg{constructor(){this.cn=new Sie,this.ln=new Die(this.cn),this.hn=new Aie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Yd(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:x2(this.En),directionalValue:x2(this.dn),orderedDocumentKey:x2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function iu(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=_P(t.En,e.En),n!==0?n:(n=_P(t.dn,e.dn),n!==0?n:Et.comparator(t.In,e.In)))}function _P(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function x2(t){return eV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function wP(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class TP{constructor(e){this.mn=new Yn(((n,r)=>Er.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ut(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=OD(e);if(n!==void 0&&!this.wn(n))return!1;const r=$d(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Yn(Er.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new d2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new d2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new d2(r.field,r.dir==="asc"?0:1)));return new rb(rb.UNKNOWN_ID,this.collectionId,n,my.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t){var n,r;if(Ut(t instanceof Tn||t instanceof Xn,20012),t instanceof Tn){if(t instanceof sW){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>Tn.create(t.field,"==",s))))||[];return Xn.create(i,"or")}return t}const e=t.filters.map((i=>BW(i)));return Xn.create(e,t.op)}function Nie(t){if(t.getFilters().length===0)return[];const e=nA(BW(t));return Ut(VW(e),7391),eA(e)||tA(e)?[e]:e.getFilters()}function eA(t){return t instanceof Tn}function tA(t){return t instanceof Xn&&e3(t)}function VW(t){return eA(t)||tA(t)||(function(n){if(n instanceof Xn&&HD(n)){for(const r of n.getFilters())if(!eA(r)&&!tA(r))return!1;return!0}return!1})(t)}function nA(t){if(Ut(t instanceof Tn||t instanceof Xn,34018),t instanceof Tn)return t;if(t.filters.length===1)return nA(t.filters[0]);const e=t.filters.map((r=>nA(r)));let n=Xn.create(e,t.op);return n=db(n),VW(n)?n:(Ut(n instanceof Xn,64498),Ut(nm(n),40251),Ut(n.filters.length>1,57927),n.filters.reduce(((r,i)=>d3(r,i))))}function d3(t,e){let n;return Ut(t instanceof Tn||t instanceof Xn,38388),Ut(e instanceof Tn||e instanceof Xn,25473),n=t instanceof Tn?e instanceof Tn?(function(i,s){return Xn.create([i,s],"and")})(t,e):EP(t,e):e instanceof Tn?EP(e,t):(function(i,s){if(Ut(i.filters.length>0&&s.filters.length>0,48005),nm(i)&&nm(s))return nW(i,s.getFilters());const a=HD(i)?i:s,o=HD(i)?s:i,l=a.filters.map((c=>d3(c,o)));return Xn.create(l,"or")})(t,e),db(n)}function EP(t,e){if(nm(e))return nW(e,t.getFilters());{const n=e.filters.map((r=>d3(t,r)));return Xn.create(n,"or")}}function db(t){if(Ut(t instanceof Tn||t instanceof Xn,11850),t instanceof Tn)return t;const e=t.getFilters();if(e.length===1)return db(e[0]);if(eW(t))return t;const n=e.map((i=>db(i))),r=[];return n.forEach((i=>{i instanceof Tn?r.push(i):i instanceof Xn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Xn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(){this.Cn=new f3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(Fa.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class f3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yn(wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yn(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="IndexedDbIndexManager",bx=new Uint8Array(0);class Iie{constructor(e,n){this.databaseId=n,this.vn=new f3,this.Fn=new Sc((r=>Ef(r)),((r,i)=>vv(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:_s(i)};return SP(e).put(s)}return ze.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[TV(n),""],!1,!0);return SP(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(gl(a.parent))}return r}))}addFieldIndex(e,n){const r=qg(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=np(e);return s.next((o=>{a.put(yP(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=qg(e),i=np(e),s=tp(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=qg(e),r=tp(e),i=np(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return ze.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new TP(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=tp(e);let i=!0;const s=new Map;return ze.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=cn();const o=[];return ze.forEach(s,((l,c)=>{pt(CP,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((C=>`${C.fieldPath}:${C.kind}`)).join(",")}`})(l)} to execute ${Ef(n)}`);const u=(function(w,C){const S=OD(C);if(S===void 0)return null;for(const R of lb(w,S.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(c,l),f=(function(w,C){const S=new Map;for(const R of $d(C))for(const D of lb(w,R.fieldPath))switch(D.op){case"==":case"in":S.set(R.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return S.set(R.fieldPath.canonicalString(),D.value),Array.from(S.values())}return null})(c,l),h=(function(w,C){const S=[];let R=!0;for(const D of $d(C)){const k=D.kind===0?rP(w,D.fieldPath,w.startAt):iP(w,D.fieldPath,w.startAt);S.push(k.value),R&&(R=k.inclusive)}return new Lu(S,R)})(c,l),p=(function(w,C){const S=[];let R=!0;for(const D of $d(C)){const k=D.kind===0?iP(w,D.fieldPath,w.endAt):rP(w,D.fieldPath,w.endAt);S.push(k.value),R&&(R=k.inclusive)}return new Lu(S,R)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),_=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return ze.forEach(_,(x=>r.Y(x,n.limit).next((w=>{w.forEach((C=>{const S=Et.fromSegments(C.documentKey);a.has(S)||(a=a.add(S),o.push(S))}))}))))})).next((()=>o))}return ze.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Nie(Xn.create(e.filters,"and")).map((r=>KD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):bx,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new Yd(e,Et.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Yd(e,Et.empty(),n,r);return i?s.An():s}xn(e,n){const r=new TP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return ze.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new Yn(Er.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Wg;for(const i of $d(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);Jd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new Wg;return Jd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Wg;return Jd.Kt.Dt(Tf(this.databaseId,n),r.Pn((function(s){const a=$d(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Wg);let s=0;for(const a of $d(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&wy(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);Jd.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Wg;l.seed(o.un()),Jd.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof Tn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=qg(e),i=np(e);return(n?r.J(jD,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return ze.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new my(f.sequenceNumber,new Fa(Af(f.readTime),new Et(gl(f.documentKey)),f.largestBatchId)):my.empty(),p=u.fields.map((([v,g])=>new d2(Er.fromServerFormat(v),g)));return new rb(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:rn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=qg(e),s=np(e);return this.Gn(e).next((a=>i.J(jD,IDBKeyRange.bound(n,n)).next((o=>ze.forEach(o,(l=>s.put(yP(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ze.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ze.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ze.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?ze.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return tp(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return tp(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=tp(e);let s=new Yn(iu);return i.ee({index:OV,range:IDBKeyRange.only([r.indexId,this.uid,x2(this.$n(r,n))])},((a,o)=>{s=s.add(new Yd(r.indexId,n,wP(o.arrayValue),wP(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Yn(iu);const i=this.Qn(n,e);if(i==null)return r;const s=OD(n);if(s!=null){const a=e.data.field(s.fieldPath);if(wy(a))for(const o of a.arrayValue.values||[])r=r.add(new Yd(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new Yd(n.indexId,e.key,bx,i));return r}Jn(e,n,r,i,s){pt(CP,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=Zh(p),y=Zh(v);for(;g||y;){let _=!1,x=!1;if(g&&y){const w=u(g,y);w<0?x=!0:w>0&&(_=!0)}else g!=null?x=!0:_=!0;_?(f(y),y=Zh(v)):x?(h(g),g=Zh(p)):(g=Zh(p),y=Zh(v))}})(i,s,iu,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),ze.waitFor(a)}Gn(e){let n=1;return np(e).ee({index:UV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>iu(a,o))).filter(((a,o,l)=>!o||iu(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=iu(a,e),l=iu(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,bx,Et.empty()),l=i[a+1].Vn(this.uid,bx,Et.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return iu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(DP)}getMinOffset(e,n){return ze.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Dt(44426))))).next(DP)}}function SP(t){return Di(t,xy)}function tp(t){return Di(t,P0)}function qg(t){return Di(t,XN)}function np(t){return Di(t,R0)}function DP(t){Ut(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;HN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fa(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WW=41943040;class fs{static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t,e,n){const r=t.store(Po),i=t.store(Jp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{Ut(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=PV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return ze.waitFor(s).next((()=>c))}function fb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(WW,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class k_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ut(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new k_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return su(e).ee({index:ef,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=yp(e),a=su(e);return a.add({}).next((o=>{Ut(typeof o=="number",49019);const l=new s3(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((x=>Cy(p.yt,x))),_=g.mutations.map((x=>Cy(p.yt,x)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:_}})(this.serializer,this.userId,l),u=[];let f=new Yn(((h,p)=>rn(h.canonicalString(),p.canonicalString())));for(const h of i){const p=PV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,dre))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),ze.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return su(e).get(n).next((r=>r?(Ut(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Xd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?ze.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return su(e).ee({index:ef,range:i},((a,o,l)=>{o.userId===this.userId&&(Ut(o.batchId>=r,47524,{tr:r}),s=Xd(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Cu;return su(e).ee({index:ef,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Cu],[this.userId,Number.POSITIVE_INFINITY]);return su(e).J(ef,n).next((r=>r.map((i=>Xd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=f2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return yp(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=gl(u);if(c===this.userId&&n.path.isEqual(h))return su(e).get(f).next((p=>{if(!p)throw Dt(61480,{nr:a,batchId:f});Ut(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(Xd(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(rn);const i=[];return n.forEach((s=>{const a=f2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=yp(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=gl(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),ze.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=f2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Yn(rn);return yp(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=gl(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(su(e).get(s).next((a=>{if(a===null)throw Dt(35274,{batchId:s});Ut(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Xd(this.serializer,a))})))})),ze.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return qW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),ze.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ze.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return yp(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=gl(s[1]);i.push(l)}else o.done()})).next((()=>{Ut(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return $W(e,this.userId,n)}_r(e){return zW(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Cu,lastStreamToken:""}))}}function $W(t,e,n){const r=f2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return yp(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function su(t){return Di(t,Po)}function yp(t){return Di(t,Jp)}function zW(t){return Di(t,yy)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nf(0)}static cr(){return new Nf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Nf(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Vt.fromTimestamp(new Vn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>rp(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ut(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return rp(e).ee(((a,o)=>{const l=_0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>ze.waitFor(s))).next((()=>i))}forEachTarget(e,n){return rp(e).ee(((r,i)=>{const s=_0(i);n(s)}))}lr(e){return NP(e).get(ab).next((n=>(Ut(n!==null,2888),n)))}hr(e,n){return NP(e).put(ab,n)}Pr(e,n){return rp(e).put(jW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ef(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return rp(e).ee({range:i,index:MV},((a,o,l)=>{const c=_0(o);vv(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=du(e);return n.forEach((a=>{const o=_s(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),ze.waitFor(i)}removeMatchingKeys(e,n,r){const i=du(e);return ze.forEach(n,(s=>{const a=_s(s.path);return ze.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=du(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=du(e);let s=cn();return i.ee({range:r,X:!0},((a,o,l)=>{const c=gl(a[1]),u=new Et(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=_s(n.path),i=IDBKeyRange.bound([r],[TV(r)],!1,!0);let s=0;return du(e).ee({index:KN,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return rp(e).get(n).next((r=>r?_0(r):null))}}function rp(t){return Di(t,Yp)}function NP(t){return Di(t,df)}function du(t){return Di(t,Qp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="LruGarbageCollector",Pie=1048576;function IP([t,e],[n,r]){const i=rn(t,n);return i===0?rn(e,r):i}class Fie{constructor(e){this.Ir=e,this.buffer=new Yn(IP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pt(kP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ed(n)?pt(kP,"Ignoring IndexedDB error during garbage collection: ",n):await Zu(n)}await this.Vr(3e5)}))}}class Mie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(ra.ce);const r=new Fie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(AP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),hp()<=xn.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function GW(t,e){return new Mie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e,n){this.db=e,this.garbageCollector=GW(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return _x(e,r)}removeReference(e,n,r){return _x(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return _x(e,n)}br(e,n){return(function(i,s){let a=!1;return zW(i).te((o=>$W(i,o,s).next((l=>(l&&(a=!0),ze.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Vt.min()),du(e).delete((function(f){return[0,_s(f.path)]})(a)))))}));i.push(l)}})).next((()=>ze.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return _x(e,n)}Sr(e,n){const r=du(e);let i,s=ra.ce;return r.ee({index:KN},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==ra.ce&&n(new Et(gl(i)),s),s=c,i=l):s=ra.ce})).next((()=>{s!==ra.ce&&n(new Et(gl(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _x(t,e){return du(t).put((function(r,i){return{targetId:0,path:_s(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.changes=new Sc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Md(e).put(r)}removeEntry(e,n,r){return Md(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],ub(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=gr.newInvalidDocument(n);return Md(e).ee({index:h2,range:IDBKeyRange.only($g(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:gr.newInvalidDocument(n)};return Md(e).ee({index:h2,range:IDBKeyRange.only($g(n))},((i,s)=>{r={document:this.Cr(n,s),size:fb(s)}})).next((()=>r))}getEntries(e,n){let r=sa();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=sa(),i=new Or(Et.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,fb(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return ze.resolve();let i=new Yn(FP);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound($g(i.first()),$g(i.last())),a=i.getIterator();let o=a.getNext();return Md(e).ee({index:h2,range:s},((l,c,u)=>{const f=Et.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&FP(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j($g(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),ub(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Md(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=sa();for(const f of c){const h=this.Cr(Et.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(bv(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=sa();const a=PP(n,r),o=PP(n,Fa.max());return Md(e).ee({index:FV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(Et.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new Lie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return RP(e).get(LD).next((n=>(Ut(!!n,20021),n)))}Dr(e,n){return RP(e).put(LD,n)}Cr(e,n){if(n){const r=wie(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Vt.min())))return r}return gr.newInvalidDocument(e)}}function XW(t){return new Oie(t)}class Lie extends KW{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Sc((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Yn(((s,a)=>rn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=mP(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=fb(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=mP(this.Nr.serializer,a.convertToNoDocument(Vt.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),ze.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function RP(t){return Di(t,vy)}function Md(t){return Di(t,sb)}function $g(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PP(t,e){const n=e.documentKey.path.toArray();return[t,ub(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function FP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=rn(n[s],r[s]),i)return i;return i=rn(n.length,r.length),i||(i=rn(n[n.length-2],r[r.length-2]),i||rn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&U0(r.mutation,i,ia.empty(),Vn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,cn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=cn()){const i=yl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=x0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=yl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,cn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=sa();const a=M0(),o=(function(){return M0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Dc)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),U0(u.mutation,c,u.mutation.getFieldMask(),Vn.now())):a.set(c.key,ia.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new jie(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=M0();let i=new Or(((a,o)=>a-o)),s=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ia.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||cn()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=fW();u.forEach((h=>{if(!s.has(h)){const p=xW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ze.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ze.resolve(yl());let o=Xp,l=s;return a.next((c=>ze.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,cn()))).next((u=>({batchId:o,changes:dW(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next((r=>{let i=x0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=x0();return this.indexManager.getCollectionParents(e,s).next((o=>ze.forEach(o,(l=>{const c=(function(f,h){return new Cc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,gr.newInvalidDocument(u)))}));let o=x0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&U0(u.mutation,c,ia.empty(),Vn.now()),bv(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ze.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}})(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:u3(i.bundledQuery),readTime:ti(i.readTime)}})(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(){this.overlays=new Or(Et.comparator),this.qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=yl(),s=n.length+1,a=new Et(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Or(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=yl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=yl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return ze.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new o3(n,r));let s=this.qr.get(n);s===void 0&&(s=cn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.Qr=new Yn(Mi.$r),this.Ur=new Yn(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Mi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Et(new wn([])),r=new Mi(n,e),i=new Mi(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Et(new wn([])),r=new Mi(n,e),i=new Mi(n,e+1);let s=cn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Mi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Et.comparator(e.key,n.key)||rn(e.Yr,n.Yr)}static Kr(e,n){return rn(e.Yr,n.Yr)||Et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yn(Mi.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new s3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Mi(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(a)}lookupMutationBatch(e,n){return ze.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?Cu:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mi(n,0),i=new Mi(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(rn);return n.forEach((i=>{const s=new Mi(i,0),a=new Mi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),ze.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Et.isDocumentKey(s)||(s=s.child(""));const a=new Mi(new Et(s),0);let o=new Yn(rn);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),ze.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ze.forEach(n.mutations,(i=>{const s=new Mi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Mi(n,0),i=this.Zr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie{constructor(e){this.ri=e,this.docs=(function(){return new Or(Et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=sa();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gr.newInvalidDocument(i))})),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sa();const a=n.path,o=new Et(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||HN(AV(u),r)<=0||(i.has(u.key)||bv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Dt(9500)}ii(e,n){return ze.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new zie(this)}getSize(e){return ze.resolve(this.size)}}class zie extends KW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ze.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(e){this.persistence=e,this.si=new Sc((n=>Ef(n)),vv),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.oi=0,this._i=new h3,this.targetCount=0,this.ai=Nf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ze.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Pr(n),ze.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ze.waitFor(s).next((()=>i))}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ze.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.ui={},this.overlays={},this.ci=new ra(0),this.li=!1,this.li=!0,this.hi=new Wie,this.referenceDelegate=e(this),this.Pi=new Hie(this),this.indexManager=new kie,this.remoteDocumentCache=(function(i){return new $ie(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new LW(n),this.Ii=new Bie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qie(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pt("MemoryPersistence","Starting transaction:",e);const i=new Gie(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ze.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Gie extends kV{constructor(e){super(),this.currentSequenceNumber=e}}class I_{constructor(e){this.persistence=e,this.Ri=new h3,this.Vi=null}static mi(e){return new I_(e)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,(r=>{const i=Et.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Vt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ze.or([()=>ze.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hb{constructor(e,n){this.persistence=e,this.pi=new Sc((r=>_s(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=GW(this,n)}static mi(e,n){return new hb(e,n)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ze.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ze.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Vt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=m2(e.data.value)),n}br(e,n,r){return ze.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(e){this.serializer=e}k(e,n,r,i){const s=new b_("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(yv)})(e),(function(l){l.createObjectStore(yy,{keyPath:ure}),l.createObjectStore(Po,{keyPath:z8,autoIncrement:!0}).createIndex(ef,H8,{unique:!0}),l.createObjectStore(Jp)})(e),MP(e),(function(l){l.createObjectStore(zd)})(e));let a=ze.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(Qp),l.deleteObjectStore(Yp),l.deleteObjectStore(df)})(e),MP(e)),a=a.next((()=>(function(l){const c=l.store(df),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return c.put(ab,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(Po).J().next((f=>{l.deleteObjectStore(Po),l.createObjectStore(Po,{keyPath:z8,autoIncrement:!0}).createIndex(ef,H8,{unique:!0});const h=c.store(Po),p=f.map((v=>h.put(v)));return ze.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(Zp,{keyPath:xre})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(vy)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(__,{keyPath:bre})})(e),(function(l){l.createObjectStore(w_,{keyPath:_re})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(T_,{keyPath:Are});c.createIndex(BD,Nre,{unique:!1}),c.createIndex(LV,kre,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(sb,{keyPath:fre});c.createIndex(h2,hre),c.createIndex(FV,pre)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(zd)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore(XN,{keyPath:wre,autoIncrement:!0}).createIndex(jD,Tre,{unique:!1}),l.createObjectStore(R0,{keyPath:Ere}).createIndex(UV,Cre,{unique:!1}),l.createObjectStore(P0,{keyPath:Sre}).createIndex(OV,Dre,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(R0).clear()})).next((()=>{n.objectStore(P0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(JN,{keyPath:Ire})})(e)}))),r<18&&i>=18&&eV()&&(a=a.next((()=>{n.objectStore(R0).clear()})).next((()=>{n.objectStore(P0).clear()}))),a}wi(e){let n=0;return e.store(zd).ee(((r,i)=>{n+=fb(i)})).next((()=>{const r={byteSize:n};return e.store(vy).put(LD,r)}))}yi(e){const n=e.store(yy),r=e.store(Po);return n.J().next((i=>ze.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Cu],[s.userId,s.lastAcknowledgedBatchId]);return r.J(ef,a).next((o=>ze.forEach(o,(l=>{Ut(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Xd(this.serializer,l);return qW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(Qp),r=e.store(zd);return e.store(df).get(ab).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new wn(a),c=(function(f){return[0,_s(f)]})(l);s.push(n.get(c).next((u=>u?ze.resolve():(f=>n.put({targetId:0,path:_s(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>ze.waitFor(s)))}))}bi(e,n){e.createObjectStore(xy,{keyPath:vre});const r=n.store(xy),i=new f3,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:_s(l)})}};return n.store(zd).ee({X:!0},((a,o)=>{const l=new wn(a);return s(l.popLast())})).next((()=>n.store(Jp).ee({X:!0},(([a,o,l],c)=>{const u=gl(o);return s(u.popLast())}))))}Di(e){const n=e.store(Yp);return n.ee(((r,i)=>{const s=_0(i),a=jW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(zd),i=[];return r.ee(((s,a)=>{const o=n.store(sb),l=(function(f){return f.document?new Et(wn.fromString(f.document.name).popFirst(5)):f.noDocument?Et.fromSegments(f.noDocument.path):f.unknownDocument?Et.fromSegments(f.unknownDocument.path):Dt(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>ze.waitFor(i)))}Fi(e,n){const r=n.store(Po),i=XW(this.serializer),s=new p3(I_.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??cn();Xd(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),ze.forEach(o,((l,c)=>{const u=new Li(c),f=N_.wt(this.serializer,u),h=s.getIndexManager(u),p=k_.wt(u,this.serializer,h,s.referenceDelegate);return new JW(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new VD(n,ra.ce),l).next()}))}))}}function MP(t){t.createObjectStore(Qp,{keyPath:gre}).createIndex(KN,yre,{unique:!0}),t.createObjectStore(Yp,{keyPath:"targetId"}).createIndex(MV,mre,{unique:!0}),t.createObjectStore(df)}const au="IndexedDbPersistence",ZE=18e5,eC=5e3,tC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YW="main";class m3{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!m3.v())throw new ut(nt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uie(this,i),this.$i=n+YW,this.serializer=new LW(l),this.Ui=new Tl(this.$i,this.Ni,new Kie(this.serializer)),this.hi=new Eie,this.Pi=new Rie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=XW(this.serializer),this.Ii=new Tie,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&ei(au,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(nt.FAILED_PRECONDITION,tC);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new ra(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>wx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ed(e))return pt(au,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt(au,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return zg(e).get(Qh).next((n=>ze.resolve(this.es(n))))}ts(e){return wx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ZE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Di(n,Zp);return r.J().next((i=>{const s=this.ss(i,ZE),a=i.filter((o=>s.indexOf(o)===-1));return ze.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ze.resolve(!0):zg(e).get(Qh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,eC)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ut(nt.FAILED_PRECONDITION,tC);return!1}}return!(!this.networkEnabled||!this.inForeground)||wx(e).J().next((r=>this.ss(r,eC).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&pt(au,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yv,Zp],(e=>{const n=new VD(e,ra.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>wx(e).J().next((n=>this.ss(n,ZE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return k_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Iie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return N_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){pt(au,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?Fre:l===17?WV:l===16?Pre:l===15?YN:l===14?VV:l===13?BV:l===12?Rre:l===11?jV:void Dt(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new VD(o,this.ci?this.ci.next():ra.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ut(nt.FAILED_PRECONDITION,NV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return zg(e).get(Qh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,eC)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ut(nt.FAILED_PRECONDITION,tC)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zg(e).put(Qh,n)}static v(){return Tl.v()}Zi(e){const n=zg(e);return n.get(Qh).next((r=>this.es(r)?(pt(au,"Releasing primary lease."),n.delete(Qh)):ze.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ei(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;ZB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return pt(au,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ei(au,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zg(t){return Di(t,yv)}function wx(t){return Di(t,Zp)}function g3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=cn(),i=cn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZB()?8:IV(Ur())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Xie;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(hp()<=xn.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",pp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(hp()<=xn.DEBUG&&pt("QueryEngine","Query:",pp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(hp()<=xn.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",pp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):ze.resolve())}ys(e,n){if(sP(n))return ze.resolve(null);let r=js(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=cb(n,null,"F"),r=js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=cn(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,cb(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return sP(n)||i.isEqual(Vt.min())?ze.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ze.resolve(null):(hp()<=xn.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pp(n)),this.vs(e,a,n,DV(i,Xp)).next((o=>o)))}))}Ds(e,n){let r=new Yn(cW(e));return n.forEach(((i,s)=>{bv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return hp()<=xn.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",pp(n)),this.ps.getDocumentsMatchingQuery(e,n,Fa.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="LocalStore",Jie=3e8;class Yie{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Or(rn),this.xs=new Sc((s=>Ef(s)),vv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZW(t,e,n,r){return new Yie(t,e,n,r)}async function eq(t,e){const n=St(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=cn();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function Qie(t,e){const n=St(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=ze.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);Ut(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=cn();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function tq(t){const e=St(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Zie(t,e){const n=St(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken($r.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Jie?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=sa(),c=cn();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(nq(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(Vt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return ze.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function nq(t,e,n){let r=cn(),i=cn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=sa();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Vt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):pt(v3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function ese(t,e){const n=St(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function am(t,e){const n=St(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ze.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new ec(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function om(t,e,n){const r=St(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!ed(a))throw a;pt(v3,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pb(t,e,n){const r=St(t);let i=Vt.min(),s=cn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=St(l),h=f.xs.get(u);return h!==void 0?ze.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,js(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Vt.min(),n?s:cn()))).next((o=>(sq(r,lW(e),o),{documents:o,Qs:s})))))}function rq(t,e){const n=St(t),r=St(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function iq(t,e){const n=St(t),r=n.Os.get(e)||Vt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,DV(r,Xp),Number.MAX_SAFE_INTEGER))).then((i=>(sq(n,e,i),i)))}function sq(t,e,n){let r=t.Os.get(e)||Vt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function tse(t,e,n,r){const i=St(t);let s=cn(),a=sa();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await am(i,(function(u){return js(Fm(wn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>nq(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function nse(t,e,n=cn()){const r=await am(t,js(u3(e.bundledQuery))),i=St(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=ti(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken($r.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq="firestore_clients";function UP(t,e){return`${aq}_${t}_${e}`}const oq="firestore_mutations";function OP(t,e,n){let r=`${oq}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const lq="firestore_targets";function nC(t,e){return`${lq}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="SharedClientState";class mb{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new ut(i.error.code,i.error.message))),a?new mb(e,n,i.state,s):(ei(ul,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class O0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ut(r.error.code,r.error.message))),s?new O0(e,r.state,i):(ei(ul,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gb{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=n3();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=RV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new gb(e,s):(ei(ul,`Failed to parse client data for instance '${e}': ${n}`),null)}}class x3{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new x3(n.clientId,n.onlineState):(ei(ul,`Failed to parse online state: ${e}`),null)}}class rA{constructor(){this.activeTargetIds=n3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rC{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Or(rn),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=UP(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new rA),this.ro=new RegExp(`^${aq}_${a}_([^_]*)$`),this.io=new RegExp(`^${oq}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${lq}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(UP(this.persistenceKey,r));if(i){const s=gb.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(nC(this.persistenceKey,e));if(i){const s=O0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nC(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pt(ul,"READ",e,n),n}setItem(e,n){pt(ul,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){pt(ul,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(pt(ul,"EVENT",n.key,n.newValue),n.key===this.eo)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=ra.ce;if(s!=null)try{const o=JSON.parse(s);Ut(typeof o=="number",30636,{So:s}),a=o}catch(o){ei(ul,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==ra.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new mb(this.currentUser,e,n,r),s=OP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=OP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=nC(this.persistenceKey,e),s=new O0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return gb.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return mb.Ws(new Li(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return O0.Ws(i,n)}uo(e){return x3.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pt(ul,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=n3();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class cq{constructor(){this.Mo=new rA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="ConnectivityMonitor";class jP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(LP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pt(LP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tx=null;function iA(){return Tx===null?Tx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tx++,"0x"+Tx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="RestConnection",ise={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sse{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qD?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=iA(),o=this.zo(e,n.toUriEncodedString());pt(iC,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Fl(c);return this.Jo(e,o,l,r,u).then((f=>(pt(iC,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw Al(iC,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=ise[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="WebChannelConnection";class ose extends sse{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=iA();return new Promise(((o,l)=>{const c=new gV;c.setWithCredentials(!0),c.listenOnce(yV.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case u2.NO_ERROR:const f=c.getResponseJson();pt(os,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case u2.TIMEOUT:pt(os,`RPC '${e}' ${a} timed out`),l(new ut(nt.DEADLINE_EXCEEDED,"Request time out"));break;case u2.HTTP_ERROR:const h=c.getStatus();if(pt(os,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(x)>=0?x:nt.UNKNOWN})(v.status);l(new ut(g,v.message))}else l(new ut(nt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ut(nt.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{pt(os,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);pt(os,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=iA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=bV(),o=xV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");pt(os,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new ase({Yo:y=>{p?pt(os,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(pt(os,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),pt(os,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,_,x)=>{y.listen(_,(w=>{try{x(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,v0.EventType.OPEN,(()=>{p||(pt(os,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,v0.EventType.CLOSE,(()=>{p||(p=!0,pt(os,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,v0.EventType.ERROR,(y=>{p||(p=!0,Al(os,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new ut(nt.UNAVAILABLE,"The operation could not be completed")))})),g(f,v0.EventType.MESSAGE,(y=>{var _;if(!p){const x=y.data[0];Ut(!!x,16349);const w=x,C=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(C){pt(os,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let R=(function(I){const F=di[I];if(F!==void 0)return wW(F)})(S),D=C.message;R===void 0&&(R=nt.INTERNAL,D="Unknown error status: "+S+" with message "+C.message),p=!0,v.a_(new ut(R,D)),f.close()}else pt(os,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}})),g(o,vV.STAT_EVENT,(y=>{y.stat===MD.PROXY?pt(os,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===MD.NOPROXY&&pt(os,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(){return typeof window<"u"?window:null}function b2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){return new fie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="PersistentStream";class dq{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ut(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pt(BP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pt(BP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lse extends dq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mie(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Vt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?ti(a.readTime):Vt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=QD(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=ob(l)?{documents:RW(s,l)}:{query:PW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=SW(s,a.resumeToken);const c=JD(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Vt.min())>0){o.readTime=sm(s,a.snapshotVersion.toTimestamp());const c=JD(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=yie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=QD(this.serializer),n.removeTarget=e,this.q_(n)}}class cse extends dq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gie(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=QD(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Cy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{}class dse extends use{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,YD(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(nt.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,YD(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut(nt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ei(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RemoteStore";class hse{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{nd(this)&&(pt(kf,"Restarting streams for network reachability change."),await(async function(l){const c=St(l);c.Ea.add(4),await Om(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Cv(c)})(this))}))})),this.Ra=new fse(r,i)}}async function Cv(t){if(nd(t))for(const e of t.da)await e(!0)}async function Om(t){for(const e of t.da)await e(!1)}function R_(t,e){const n=St(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),T3(n)?w3(n):jm(n).O_()&&_3(n,e))}function lm(t,e){const n=St(t),r=jm(n);n.Ia.delete(e),r.O_()&&fq(n,e),n.Ia.size===0&&(r.O_()?r.L_():nd(n)&&n.Ra.set("Unknown"))}function _3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jm(t).Y_(e)}function fq(t,e){t.Va.Ue(e),jm(t).Z_(e)}function w3(t){t.Va=new lie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jm(t).start(),t.Ra.ua()}function T3(t){return nd(t)&&!jm(t).x_()&&t.Ia.size>0}function nd(t){return St(t).Ea.size===0}function hq(t){t.Va=void 0}async function pse(t){t.Ra.set("Online")}async function mse(t){t.Ia.forEach(((e,n)=>{_3(t,e)}))}async function gse(t,e){hq(t),T3(t)?(t.Ra.ha(e),w3(t)):t.Ra.set("Unknown")}async function yse(t,e,n){if(t.Ra.set("Online"),e instanceof CW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){pt(kf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yb(t,r)}else if(e instanceof v2?t.Va.Ze(e):e instanceof EW?t.Va.st(e):t.Va.tt(e),!n.isEqual(Vt.min()))try{const r=await tq(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken($r.EMPTY_BYTE_STRING,u.snapshotVersion)),fq(s,l);const f=new ec(u.target,l,c,u.sequenceNumber);_3(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){pt(kf,"Failed to raise snapshot:",r),await yb(t,r)}}async function yb(t,e,n){if(!ed(e))throw e;t.Ea.add(1),await Om(t),t.Ra.set("Offline"),n||(n=()=>tq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pt(kf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cv(t)}))}function pq(t,e){return e().catch((n=>yb(t,n,e)))}async function Lm(t){const e=St(t),n=ju(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cu;for(;vse(e);)try{const i=await ese(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xse(e,i)}catch(i){await yb(e,i)}mq(e)&&gq(e)}function vse(t){return nd(t)&&t.Ta.length<10}function xse(t,e){t.Ta.push(e);const n=ju(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mq(t){return nd(t)&&!ju(t).x_()&&t.Ta.length>0}function gq(t){ju(t).start()}async function bse(t){ju(t).ra()}async function _se(t){const e=ju(t);for(const n of t.Ta)e.ea(n.mutations)}async function wse(t,e,n){const r=t.Ta.shift(),i=a3.from(r,e,n);await pq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Lm(t)}async function Tse(t,e){e&&ju(t).X_&&await(async function(r,i){if((function(a){return _W(a)&&a!==nt.ABORTED})(i.code)){const s=r.Ta.shift();ju(r).B_(),await pq(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Lm(r)}})(t,e),mq(t)&&gq(t)}async function VP(t,e){const n=St(t);n.asyncQueue.verifyOperationInProgress(),pt(kf,"RemoteStore received new credentials");const r=nd(n);n.Ea.add(3),await Om(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cv(n)}async function sA(t,e){const n=St(t);e?(n.Ea.delete(2),await Cv(n)):e||(n.Ea.add(2),await Om(n),n.Ra.set("Unknown"))}function jm(t){return t.ma||(t.ma=(function(n,r,i){const s=St(n);return s.sa(),new lse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:pse.bind(null,t),t_:mse.bind(null,t),r_:gse.bind(null,t),H_:yse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),T3(t)?w3(t):t.Ra.set("Unknown")):(await t.ma.stop(),hq(t))}))),t.ma}function ju(t){return t.fa||(t.fa=(function(n,r,i){const s=St(n);return s.sa(),new cse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bse.bind(null,t),r_:Tse.bind(null,t),ta:_se.bind(null,t),na:wse.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Lm(t)):(await t.fa.stop(),t.Ta.length>0&&(pt(kf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new E3(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(t,e){if(ei("AsyncQueue",`${e}: ${t}`),ed(t))return new ut(nt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{static emptySet(e){return new Np(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=x0(),this.sortedSet=new Or(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Np)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Np;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.ga=new Or(Et.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Dt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class cm{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new cm(e,n,Np.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Cse{constructor(){this.queries=qP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=St(n),s=i.queries;i.queries=qP(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new ut(nt.ABORTED,"Firestore shutting down"))}}function qP(){return new Sc((t=>oW(t)),xv)}async function C3(t,e){const n=St(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Ese,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Bm(a,`Initialization of query '${pp(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&D3(n)}async function S3(t,e){const n=St(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sse(t,e){const n=St(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&D3(n)}function Dse(t,e,n){const r=St(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function D3(t){t.Ca.forEach((e=>{e.next()}))}var aA,$P;($P=aA||(aA={})).Ma="default",$P.Cache="cache";class A3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==aA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.serializer=e}$s(e){return El(this.serializer,e)}Us(e){return e.metadata.exists?IW(this.serializer,e.document,!1):gr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return ti(e)}}class Nse{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=yq(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=wn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new zP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||cn()).add(s);n.set(a,o)}}return n}async ja(e){const n=await tse(e,new zP(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await nse(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function yq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.key=e}}class xq{constructor(e){this.key=e}}class bq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=cn(),this.mutatedKeys=cn(),this.eu=cW(e),this.tu=new Np(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new WP,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=bv(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new cm(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=cn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new xq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new vq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=cn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rd="SyncEngine";class kse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ise{constructor(e){this.key=e,this.hu=!1}}class Rse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Sc((o=>oW(o)),xv),this.Iu=new Map,this.Eu=new Set,this.du=new Or(Et.comparator),this.Au=new Map,this.Ru=new h3,this.Vu={},this.mu=new Map,this.fu=Nf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Pse(t,e,n=!0){const r=P_(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await _q(r,e,n,!0),i}async function Fse(t,e){const n=P_(t);await _q(n,e,!0,!1)}async function _q(t,e,n,r){const i=await am(t.localStore,js(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await N3(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&R_(t.remoteStore,i),o}async function N3(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,_,x){let w=y.view.ru(_);w.Cs&&(w=await pb(g.localStore,y.query,!1).then((({documents:D})=>y.view.ru(D,w))));const C=x&&x.targetChanges.get(y.targetId),S=x&&x.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(w,g.isPrimaryClient,C,S);return oA(g,y.targetId,R.au),R.snapshot})(t,f,h,p);const s=await pb(t.localStore,e,!0),a=new bq(e,s.Qs),o=a.ru(s.documents),l=Tv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);oA(t,n,c.au);const u=new kse(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Mse(t,e,n){const r=St(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!xv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await om(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lm(r.remoteStore,i.targetId),um(r,i.targetId)})).catch(Zu)):(um(r,i.targetId),await om(r.localStore,i.targetId,!0))}async function Use(t,e){const n=St(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lm(n.remoteStore,r.targetId))}async function Ose(t,e,n){const r=P3(t);try{const i=await(function(a,o){const l=St(a),c=Vn.now(),u=o.reduce(((p,v)=>p.add(v.key)),cn());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=sa(),g=cn();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((_,x)=>{x.isValidDocument()||(g=g.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const _=[];for(const x of o){const w=sie(x,f.get(x.key).overlayedDocument);w!=null&&_.push(new Dc(x.key,w,QV(w.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,o)})).next((y=>{h=y;const _=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)}))})).then((()=>({batchId:h.batchId,changes:dW(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Or(rn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await Ac(r,i.changes),await Lm(r.remoteStore)}catch(i){const s=Bm(i,"Failed to persist write");n.reject(s)}}async function wq(t,e){const n=St(t);try{const r=await Zie(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ut(a.hu,14607):i.removedDocuments.size>0&&(Ut(a.hu,42227),a.hu=!1))})),await Ac(n,r,e)}catch(r){await Zu(r)}}function HP(t,e,n){const r=St(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=St(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&D3(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lse(t,e,n){const r=St(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Or(Et.comparator);a=a.insert(s,gr.newNoDocument(s,Vt.min()));const o=cn().add(s),l=new wv(Vt.min(),new Map,new Or(rn),a,o);await wq(r,l),r.du=r.du.remove(s),r.Au.delete(e),R3(r)}else await om(r.localStore,e,!1).then((()=>um(r,e,n))).catch(Zu)}async function jse(t,e){const n=St(t),r=e.batch.batchId;try{const i=await Qie(n.localStore,e);I3(n,r,null),k3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,i)}catch(i){await Zu(i)}}async function Bse(t,e,n){const r=St(t);try{const i=await(function(a,o){const l=St(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(Ut(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);I3(r,e,n),k3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,i)}catch(i){await Zu(i)}}async function Vse(t,e){const n=St(t);nd(n.remoteStore)||pt(rd,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=St(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===Cu)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Bm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function k3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function I3(t,e,n){const r=St(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Tq(t,r)}))}function Tq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),R3(t))}function oA(t,e,n){for(const r of n)r instanceof vq?(t.Ru.addReference(r.key,e),Wse(t,r)):r instanceof xq?(pt(rd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Tq(t,r.key)):Dt(19791,{wu:r})}function Wse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pt(rd,"New document in limbo: "+n),t.Eu.add(r),R3(t))}function R3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Et(wn.fromString(e)),r=t.fu.next();t.Au.set(r,new Ise(n)),t.du=t.du.insert(n,r),R_(t.remoteStore,new ec(js(Fm(n.path)),r,"TargetPurposeLimboResolution",ra.ce))}}async function Ac(t,e,n){const r=St(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=y3.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=St(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ze.forEach(c,(h=>ze.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>ze.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!ed(f))throw f;pt(v3,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function qse(t,e){const n=St(t);if(!n.currentUser.isEqual(e)){pt(rd,"User change. New user:",e.toKey());const r=await eq(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new ut(nt.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.Ls)}}function $se(t,e){const n=St(t),r=n.Au.get(e);if(r&&r.hu)return cn().add(r.key);{let i=cn();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function zse(t,e){const n=St(t),r=await pb(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&oA(n,e.targetId,i.au),i}async function Hse(t,e){const n=St(t);return iq(n.localStore,e).then((r=>Ac(n,r)))}async function Gse(t,e,n,r){const i=St(t),s=await(function(o,l){const c=St(o),u=St(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):ze.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Lm(i.remoteStore):n==="acknowledged"||n==="rejected"?(I3(i,e,r||null),k3(i,e),(function(o,l){St(St(o).mutationQueue).ir(l)})(i.localStore,e)):Dt(6720,"Unknown batchState",{Su:n}),await Ac(i,s)):pt(rd,"Cannot apply mutation batch with id: "+e)}async function Kse(t,e){const n=St(t);if(P_(n),P3(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await GP(n,r.toArray());n.gu=!0,await sA(n.remoteStore,!0);for(const s of i)R_(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(um(n,a),om(n.localStore,a,!0)))),lm(n.remoteStore,a)})),await i,await GP(n,r),(function(a){const o=St(a);o.Au.forEach(((l,c)=>{lm(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new Or(Et.comparator)})(n),n.gu=!1,await sA(n.remoteStore,!1)}}async function GP(t,e,n){const r=St(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await am(r.localStore,js(l[0]));for(const c of l){const u=r.Tu.get(c),f=await zse(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await rq(r.localStore,a);o=await am(r.localStore,c),await N3(r,Eq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function Eq(t){return aW(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xse(t){return(function(n){return St(St(n).persistence).Ts()})(St(t).localStore)}async function Jse(t,e,n,r){const i=St(t);if(i.gu)return void pt(rd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await iq(i.localStore,lW(s[0])),o=wv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$r.EMPTY_BYTE_STRING);await Ac(i,a,o);break}case"rejected":await om(i.localStore,e,!0),um(i,e,r);break;default:Dt(64155,n)}}async function Yse(t,e,n){const r=P_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pt(rd,"Adding an already active target "+i);continue}const s=await rq(r.localStore,i),a=await am(r.localStore,s);await N3(r,Eq(s),a.targetId,!1,a.resumeToken),R_(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await om(r.localStore,i,!1).then((()=>{lm(r.remoteStore,i),um(r,i)})).catch(Zu)}}function P_(t){const e=St(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$se.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lse.bind(null,e),e.Pu.H_=Sse.bind(null,e.eventManager),e.Pu.yu=Dse.bind(null,e.eventManager),e}function P3(t){const e=St(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bse.bind(null,e),e}function Qse(t,e,n){const r=St(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=St(p),y=ti(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(_=>g.Ii.getBundleMetadata(_,v.id))).then((_=>!!_&&_.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(yq(l));const c=new Nse(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await Ac(s,f.Ha,void 0),await(function(p,v){const g=St(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return Al(rd,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Sy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ev(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZW(this.persistence,new QW,e.initialUser,this.serializer)}Cu(e){return new p3(I_.mi,this.serializer)}Du(e){return new cq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sy.provider={build:()=>new Sy};class Zse extends Sy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ut(this.persistence.referenceDelegate instanceof hb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new p3((r=>hb.mi(r,n)),this.serializer)}}class Cq extends Sy{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await P3(this.xu.syncEngine),await Lm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return ZW(this.persistence,new QW,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new HW(r,e.asyncQueue,n)}Mu(e,n){const r=new lre(n,this.persistence);return new ore(e.asyncQueue,r)}Cu(e){const n=g3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new m3(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,uq(),b2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new cq}}class eae extends Cq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof rC&&(this.sharedClientState.syncEngine={Co:Gse.bind(null,n),vo:Jse.bind(null,n),Fo:Yse.bind(null,n),Ts:Xse.bind(null,n),Do:Hse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Kse(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=uq();if(!rC.v(n))throw new ut(nt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=g3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rC(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qse.bind(null,this.syncEngine),await sA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Cse})()}createDatastore(e){const n=Ev(e.databaseInfo.databaseId),r=(function(s){return new ose(s)})(e.databaseInfo);return(function(s,a,o,l){return new dse(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new hse(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>HP(this.syncEngine,n,0)),(function(){return jP.v()?new jP:new rse})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new Rse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=St(i);pt(kf,"RemoteStore shutting down."),s.Ea.add(5),await Om(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dy.provider={build:()=>new Dy};function KP(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new ts,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new Ase(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(nt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=St(i),o={documents:s.map((f=>Ey(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,wn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=pie(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());Ut(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Et.fromPath(r);this.mutations.push(new i3(i,this.precondition(i)))})),await(async function(r,i){const s=St(r),a={writes:i.map((o=>Cy(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,wn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Dt(50498,{Gu:e.constructor.name});n=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ut(nt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Vt.min())?Cr.exists(!1):Cr.updateTime(n):Cr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Vt.min()))throw new ut(nt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(n)}return Cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new b3(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new nae(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!gv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!_W(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="FirestoreClient";class iae{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Li.UNAUTHENTICATED,this.clientId=$N.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{pt(Bu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(pt(Bu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sC(t,e){t.asyncQueue.verifyOperationInProgress(),pt(Bu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await eq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function XP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F3(t);pt(Bu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>VP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>VP(e.remoteStore,i))),t._onlineComponents=e}async function F3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt(Bu,"Using user provided OfflineComponentProvider");try{await sC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===nt.FAILED_PRECONDITION||i.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await sC(t,new Sy)}}else pt(Bu,"Using default OfflineComponentProvider"),await sC(t,new Zse(void 0));return t._offlineComponents}async function M_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt(Bu,"Using user provided OnlineComponentProvider"),await XP(t,t._uninitializedComponentsProvider._online)):(pt(Bu,"Using default OnlineComponentProvider"),await XP(t,new Dy))),t._onlineComponents}function Sq(t){return F3(t).then((e=>e.persistence))}function M3(t){return F3(t).then((e=>e.localStore))}function Dq(t){return M_(t).then((e=>e.remoteStore))}function U3(t){return M_(t).then((e=>e.syncEngine))}function sae(t){return M_(t).then((e=>e.datastore))}async function dm(t){const e=await M_(t),n=e.eventManager;return n.onListen=Pse.bind(null,e.syncEngine),n.onUnlisten=Mse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Use.bind(null,e.syncEngine),n}function aae(t){return t.asyncQueue.enqueue((async()=>{const e=await Sq(t),n=await Dq(t);return e.setNetworkEnabled(!0),(function(i){const s=St(i);return s.Ea.delete(0),Cv(s)})(n)}))}function oae(t){return t.asyncQueue.enqueue((async()=>{const e=await Sq(t),n=await Dq(t);return e.setNetworkEnabled(!1),(async function(i){const s=St(i);s.Ea.add(0),await Om(s),s.Ra.set("Offline")})(n)}))}function lae(t,e){const n=new ts;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=St(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new ut(nt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Bm(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await M3(t),e,n))),n.promise}function Aq(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new F_({next:h=>{u.Nu(),a.enqueueAndForget((()=>S3(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new ut(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ut(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new A3(Fm(o.path),u,{includeMetadataChanges:!0,qa:!0});return C3(s,f)})(await dm(t),t.asyncQueue,e,n,r))),r.promise}function cae(t,e){const n=new ts;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await pb(i,s,!0),l=new bq(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Bm(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await M3(t),e,n))),n.promise}function Nq(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new F_({next:h=>{u.Nu(),a.enqueueAndForget((()=>S3(s,f))),h.fromCache&&l.source==="server"?c.reject(new ut(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new A3(o,u,{includeMetadataChanges:!0,qa:!0});return C3(s,f)})(await dm(t),t.asyncQueue,e,n,r))),r.promise}function uae(t,e){const n=new F_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){St(i).Ca.add(s),s.next()})(await dm(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){St(i).Ca.delete(s)})(await dm(t),n)))}}function dae(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?TW().encode(a):a,(function(u,f){return new tae(u,f)})((function(u,f){if(u instanceof Uint8Array)return KP(u,f);if(u instanceof ArrayBuffer)return KP(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,Ev(e));t.asyncQueue.enqueueAndForget((async()=>{Qse(await U3(t),i,r)}))}function fae(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=St(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await M3(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="firestore.googleapis.com",YP=!0;class QP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iq,this.ssl=YP}else this.host=e.host,this.ssl=e.ssl??YP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pie)throw new ut(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xne;switch(r.type){case"firstParty":return new Zne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=JP.get(n);r&&(pt("ComponentProvider","Removing Datastore"),JP.delete(n),r.terminate())})(this),Promise.resolve()}}function hae(t,e,n,r={}){var c;t=Un(t,Sv);const i=Fl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(p_(`https://${o}`),m_("Firestore",!0)),s.host!==Iq&&s.host!==o&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!mc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Li.MOCK_USER;else{u=FN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ut(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Li(h)}t._authCredentials=new Jne(new wV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws=class Rq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rq(this.firestore,e,this._query)}},lr=class w0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new w0(this.firestore,e,this._key)}toJSON(){return{type:w0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mv(n,w0._jsonSchema))return new w0(e,r||null,new Et(wn.fromString(n.referencePath)))}};lr._jsonSchemaVersion="firestore/documentReference/1.0",lr._jsonSchema={type:mi("string",lr._jsonSchemaVersion),referencePath:mi("string")};let Du=class Pq extends Ws{constructor(e,n,r){super(e,n,Fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Et(e))}withConverter(e){return new Pq(this.firestore,e,this._path)}};function Fq(t,e,...n){if(t=kt(t),zN("collection","path",e),t instanceof Sv){const r=wn.fromString(e,...n);return B8(r),new Du(t,null,r)}{if(!(t instanceof lr||t instanceof Du))throw new ut(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return B8(r),new Du(t.firestore,null,r)}}function pae(t,e){if(t=Un(t,Sv),zN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ut(nt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(t,null,(function(r){return new Cc(wn.emptyPath(),r)})(e))}function vb(t,e,...n){if(t=kt(t),arguments.length===1&&(e=$N.newId()),zN("doc","path",e),t instanceof Sv){const r=wn.fromString(e,...n);return j8(r),new lr(t,null,new Et(r))}{if(!(t instanceof lr||t instanceof Du))throw new ut(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return j8(r),new lr(t.firestore,t instanceof Du?t.converter:null,new Et(r))}}function Mq(t,e){return t=kt(t),e=kt(e),(t instanceof lr||t instanceof Du)&&(e instanceof lr||e instanceof Du)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Uq(t,e){return t=kt(t),e=kt(e),t instanceof Ws&&e instanceof Ws&&t.firestore===e.firestore&&xv(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="AsyncQueue";class eF{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b3(this,"async_queue_retry"),this._c=()=>{const r=b2();r&&pt(ZP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=b2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=b2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ed(e))throw e;pt(ZP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ei("INTERNAL UNHANDLED ERROR: ",tF(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=E3.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Dt(47125,{Pc:tF(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tF(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class mae{constructor(){this._progressObserver={},this._taskCompletionResolver=new ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae=-1;let ii=class extends Sv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eF(e),this._firestoreClient=void 0,await e}}};function Ss(t){if(t._terminated)throw new ut(nt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Oq(t),t._firestoreClient}function Oq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new Ore(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iae(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function yae(t,e){Al("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Lq(t,Dy.provider,{build:r=>new Cq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function vae(t){Al("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Lq(t,Dy.provider,{build:n=>new eae(n,e.cacheSizeBytes)})}function Lq(t,e,n){if((t=Un(t,ii))._firestoreClient||t._terminated)throw new ut(nt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ut(nt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Oq(t)}function xae(t){if(t._initialized&&!t._terminated)throw new ut(nt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ts;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Tl.v())return Promise.resolve();const i=r+YW;await Tl.delete(i)})(g3(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function bae(t){return(function(n){const r=new ts;return n.asyncQueue.enqueueAndForget((async()=>Vse(await U3(n),r))),r.promise})(Ss(t=Un(t,ii)))}function _ae(t){return aae(Ss(t=Un(t,ii)))}function wae(t){return oae(Ss(t=Un(t,ii)))}function Tae(t,e){const n=Ss(t=Un(t,ii)),r=new mae;return dae(n,t._databaseId,e,r),r}function Eae(t,e){return fae(Ss(t=Un(t,ii)),e).then((n=>n?new Ws(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs($r.fromBase64String(e))}catch(n){throw new ut(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gs($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mv(e,gs._jsonSchema))return gs.fromBase64String(e.bytes)}}gs._jsonSchemaVersion="firestore/bytes/1.0",gs._jsonSchema={type:mi("string",gs._jsonSchemaVersion),bytes:mi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ut(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ut(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ut(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lo._jsonSchemaVersion}}static fromJSON(e){if(mv(e,Lo._jsonSchema))return new Lo(e.latitude,e.longitude)}}Lo._jsonSchemaVersion="firestore/geoPoint/1.0",Lo._jsonSchema={type:mi("string",Lo._jsonSchemaVersion),latitude:mi("number"),longitude:mi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mv(e,Cl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Cl(e.vectorValues);throw new ut(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cl._jsonSchemaVersion="firestore/vectorValue/1.0",Cl._jsonSchema={type:mi("string",Cl._jsonSchemaVersion),vectorValues:mi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae=/^__.*__$/;class Sae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mm(e,this.data,n,this.fieldTransforms)}}class jq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:t})}}class U_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new U_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bq(this.Ac)&&Cae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ev(e)}Cc(e,n,r,i=!1){return new U_({Ac:e,methodName:n,Dc:r,path:Er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(t){const e=t._freezeSettings(),n=Ev(t._databaseId);return new Dae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O_(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);q3("Data must be an object, but it was:",a,r);const o=qq(r,a);let l,c;if(s.merge)l=new ia(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=cA(e,f,n);if(!a.contains(h))throw new ut(nt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zq(u,h)||u.push(h)}l=new ia(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new Sae(new Zi(o),l,c)}class Dv extends Yf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dv}}function Vq(t,e,n){return new U_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class O3 extends Yf{_toFieldTransform(e){return new _v(e.path,new rm)}isEqual(e){return e instanceof O3}}class L3 extends Yf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Vq(this,e,!0),r=this.vc.map((s=>Zf(s,n))),i=new Cf(r);return new _v(e.path,i)}isEqual(e){return e instanceof L3&&mc(this.vc,e.vc)}}class j3 extends Yf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Vq(this,e,!0),r=this.vc.map((s=>Zf(s,n))),i=new Sf(r);return new _v(e.path,i)}isEqual(e){return e instanceof j3&&mc(this.vc,e.vc)}}class B3 extends Yf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new im(e.serializer,pW(e.serializer,this.Fc));return new _v(e.path,n)}isEqual(e){return e instanceof B3&&this.Fc===e.Fc}}function V3(t,e,n,r){const i=t.Cc(1,e,n);q3("Data must be an object, but it was:",i,r);const s=[],a=Zi.empty();td(r,((l,c)=>{const u=$3(e,l,n);c=kt(c);const f=i.yc(u);if(c instanceof Dv)s.push(u);else{const h=Zf(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new ia(s);return new jq(a,o,i.fieldTransforms)}function W3(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[cA(e,r,n)],l=[i];if(s.length%2!=0)throw new ut(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(cA(e,s[h])),l.push(s[h+1]);const c=[],u=Zi.empty();for(let h=o.length-1;h>=0;--h)if(!zq(c,o[h])){const p=o[h];let v=l[h];v=kt(v);const g=a.yc(p);if(v instanceof Dv)c.push(p);else{const y=Zf(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new ia(c);return new jq(u,f,a.fieldTransforms)}function Wq(t,e,n,r=!1){return Zf(n,t.Cc(r?4:3,e))}function Zf(t,e){if($q(t=kt(t)))return q3("Unsupported field value:",e,t),qq(t,e);if(t instanceof Yf)return(function(r,i){if(!Bq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=Zf(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vn.fromDate(r);return{timestampValue:sm(i.serializer,s)}}if(r instanceof Vn){const s=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(i.serializer,s)}}if(r instanceof Lo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gs)return{bytesValue:SW(i.serializer,r._byteString)};if(r instanceof lr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cl)return(function(a,o){return{mapValue:{fields:{[QN]:{stringValue:ZN},[em]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return r3(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${x_(r)}`)})(t,e)}function qq(t,e){const n={};return qV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):td(t,((r,i)=>{const s=Zf(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function $q(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof Lo||t instanceof gs||t instanceof lr||t instanceof Yf||t instanceof Cl)}function q3(t,e,n){if(!$q(n)||!CV(n)){const r=x_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cA(t,e,n){if((e=kt(e))instanceof Vu)return e._internalPath;if(typeof e=="string")return $3(t,e);throw xb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Aae=new RegExp("[~\\*/\\[\\]]");function $3(t,e,n){if(e.search(Aae)>=0)throw xb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vu(...e.split("."))._internalPath}catch{throw xb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ut(nt.INVALID_ARGUMENT,o+t+l)}function zq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nae extends Ay{data(){return super.data()}}function L_(t,e){return typeof e=="string"?$3(t,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ut(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z3{}let Av=class extends z3{};function ou(t,e,...n){let r=[];e instanceof z3&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof H3)).length,o=s.filter((l=>l instanceof j_)).length;if(a>1||a>0&&o>0)throw new ut(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class j_ extends Av{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new j_(e,n,r)}_apply(e){const n=this._parse(e);return Qq(e._query,n),new Ws(e.firestore,e.converter,XD(e._query,n))}_parse(e){const n=Qf(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ut(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){rF(f,u);const v=[];for(const g of f)v.push(nF(l,s,g));h={arrayValue:{values:v}}}else h=nF(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||rF(f,u),h=Wq(o,a,f,u==="in"||u==="not-in");return Tn.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kae(t,e,n){const r=e,i=L_("where",t);return j_._create(i,r,n)}class H3 extends z3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H3(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Qq(a,l),a=XD(a,l)})(e._query,n),new Ws(e.firestore,e.converter,XD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G3 extends Av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G3(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new ut(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ut(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ty(s,a)})(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Cc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Iae(t,e="asc"){const n=e,r=L_("orderBy",t);return G3._create(r,n)}class B_ extends Av{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new B_(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,cb(e._query,this._limit,this._limitType))}}function Rae(t){return SV("limit",t),B_._create("limit",t,"F")}function Pae(t){return SV("limitToLast",t),B_._create("limitToLast",t,"L")}let Gq=class Kq extends Av{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Kq(e,n,r)}_apply(e){const n=Yq(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(function(i,s){return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function Fae(...t){return Gq._create("startAt",t,!0)}function Mae(...t){return Gq._create("startAfter",t,!1)}let Xq=class Jq extends Av{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Jq(e,n,r)}_apply(e){const n=Yq(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(function(i,s){return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function Uae(...t){return Xq._create("endBefore",t,!1)}function Oae(...t){return Xq._create("endAt",t,!0)}function Yq(t,e,n,r){if(n[0]=kt(n[0]),n[0]instanceof Ay)return(function(s,a,o,l,c){if(!l)throw new ut(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of Ap(s))if(f.field.isKeyField())u.push(Tf(a,l.key));else{const h=l.data.field(f.field);if(E_(h))throw new ut(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new ut(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Lu(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Qf(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new ut(nt.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new ut(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!t3(a)&&g.indexOf("/")!==-1)throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(wn.fromString(g));if(!Et.isDocumentKey(y))throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const _=new Et(y);p.push(Tf(o,_))}else{const y=Wq(l,c,g);p.push(y)}}return new Lu(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function nF(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ut(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t3(e)&&n.indexOf("/")!==-1)throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wn.fromString(n));if(!Et.isDocumentKey(r))throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tf(t,new Et(r))}if(n instanceof lr)return Tf(t,n._key);throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x_(n)}.`)}function rF(t,e){if(!Array.isArray(t)||t.length===0)throw new ut(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qq(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ut(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class K3{convertValue(e,n="none"){switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return td(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[em].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Tr(a.doubleValue)));return new Cl(n)}convertGeoPoint(e){return new Lo(Tr(e.latitude),Tr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=C_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(by(e));default:return null}}convertTimestamp(e){const n=yc(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);Ut(OW(r),9688,{name:e});const i=new Mu(r.get(1),r.get(3)),s=new Et(r.popFirst(5));return i.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lae extends K3{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,n)}}class tf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ao=class Zq extends Ay{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new L0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zq._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:mi("string",ao._jsonSchemaVersion),bundleSource:mi("string","DocumentSnapshot"),bundleName:mi("string"),bundle:mi("string")};let L0=class extends ao{data(e={}){return super.data(e)}},jo=class e${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new L0(this._firestore,this._userDataWriter,r.key,r,new tf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new L0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new L0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:jae(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=e$._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$N.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function jae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:t})}}function t$(t,e){return t instanceof ao&&e instanceof ao?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jo&&e instanceof jo&&t._firestore===e._firestore&&Uq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(t){t=Un(t,lr);const e=Un(t.firestore,ii);return Aq(Ss(e),t._key).then((n=>X3(e,t,n)))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:mi("string",jo._jsonSchemaVersion),bundleSource:mi("string","QuerySnapshot"),bundleName:mi("string"),bundle:mi("string")};class eh extends K3{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,n)}}function Vae(t){t=Un(t,lr);const e=Un(t.firestore,ii),n=Ss(e),r=new eh(e);return lae(n,t._key).then((i=>new ao(e,r,t._key,i,new tf(i!==null&&i.hasLocalMutations,!0),t.converter)))}function Wae(t){t=Un(t,lr);const e=Un(t.firestore,ii);return Aq(Ss(e),t._key,{source:"server"}).then((n=>X3(e,t,n)))}function qae(t){t=Un(t,Ws);const e=Un(t.firestore,ii),n=Ss(e),r=new eh(e);return Hq(t._query),Nq(n,t._query).then((i=>new jo(e,r,t,i)))}function $ae(t){t=Un(t,Ws);const e=Un(t.firestore,ii),n=Ss(e),r=new eh(e);return cae(n,t._query).then((i=>new jo(e,r,t,i)))}function zae(t){t=Un(t,Ws);const e=Un(t.firestore,ii),n=Ss(e),r=new eh(e);return Nq(n,t._query,{source:"server"}).then((i=>new jo(e,r,t,i)))}function iF(t,e,n){t=Un(t,lr);const r=Un(t.firestore,ii),i=V_(t.converter,e,n);return Nv(r,[O_(Qf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cr.none())])}function sF(t,e,n,...r){t=Un(t,lr);const i=Un(t.firestore,ii),s=Qf(i);let a;return a=typeof(e=kt(e))=="string"||e instanceof Vu?W3(s,"updateDoc",t._key,e,n,r):V3(s,"updateDoc",t._key,e),Nv(i,[a.toMutation(t._key,Cr.exists(!0))])}function Hae(t){return Nv(Un(t.firestore,ii),[new Um(t._key,Cr.none())])}function Gae(t,e){const n=Un(t.firestore,ii),r=vb(t),i=V_(t.converter,e);return Nv(n,[O_(Qf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then((()=>r))}function n$(t,...e){var l,c,u;t=kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lA(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof lr)a=Un(t.firestore,ii),o=Fm(t._key.path),s={next:f=>{e[r]&&e[r](X3(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Un(t,Ws);a=Un(f.firestore,ii),o=f._query;const h=new eh(a);s={next:p=>{e[r]&&e[r](new jo(a,h,f,p))},error:e[r+1],complete:e[r+2]},Hq(t._query)}return(function(h,p,v,g){const y=new F_(g),_=new A3(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>C3(await dm(h),_))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>S3(await dm(h),_)))}})(Ss(a),o,i,s)}function Kae(t,e){return uae(Ss(t=Un(t,ii)),lA(e)?e:{next:e})}function Nv(t,e){return(function(r,i){const s=new ts;return r.asyncQueue.enqueueAndForget((async()=>Ose(await U3(r),i,s))),s.promise})(Ss(t),e)}function X3(t,e,n){const r=n.docs.get(e._key),i=new eh(t);return new ao(t,i,e._key,r,new tf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qf(e)}set(e,n,r){this._verifyNotCommitted();const i=pu(e,this._firestore),s=V_(i.converter,n,r),a=O_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Cr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=pu(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof Vu?W3(this._dataReader,"WriteBatch.update",s._key,n,r,i):V3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pu(e,this._firestore);return this._mutations=this._mutations.concat(new Um(n._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function pu(t,e){if((t=kt(t)).firestore!==e)throw new ut(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Qf(e)}get(e){const n=pu(e,this._firestore),r=new Lae(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Dt(24041);const s=i[0];if(s.isFoundDocument())return new Ay(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ay(this._firestore,r,n._key,null,n.converter);throw Dt(18433,{doc:s})}))}set(e,n,r){const i=pu(e,this._firestore),s=V_(i.converter,n,r),a=O_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=pu(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof Vu?W3(this._dataReader,"Transaction.update",s._key,n,r,i):V3(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=pu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qae=class extends Yae{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=pu(e,this._firestore),r=new eh(this._firestore);return super.get(e).then((i=>new ao(this._firestore,r,n._key,i._document,new tf(!1,!1),n.converter)))}};function Zae(t,e,n){t=Un(t,ii);const r={...Xae,...n};return(function(s){if(s.maxAttempts<1)throw new ut(nt.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new ts;return s.asyncQueue.enqueueAndForget((async()=>{const c=await sae(s);new rae(s.asyncQueue,c,o,a,l).ju()})),l.promise})(Ss(t),(i=>e(new Qae(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eoe(){return new Dv("deleteField")}function toe(){return new O3("serverTimestamp")}function noe(...t){return new L3("arrayUnion",t)}function roe(...t){return new j3("arrayRemove",t)}function ioe(t){return new B3("increment",t)}(function(e,n=!0){(function(i){Pm=i})(Ml),Dl(new Vs("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ii(new Yne(r.getProvider("auth-internal")),new ere(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ut(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Ls(M8,U8,e),Ls(M8,U8,"esm2020")})();const soe="@firebase/firestore-compat",aoe="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ut("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){if(typeof Uint8Array>"u")throw new ut("unimplemented","Uint8Arrays are not available in this environment.")}function oF(){if(!Mre())throw new ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}let r$=class uA{constructor(e){this._delegate=e}static fromBase64String(e){return oF(),new uA(gs.fromBase64String(e))}static fromUint8Array(e){return aF(),new uA(gs.fromUint8Array(e))}toBase64(){return oF(),this._delegate.toBase64()}toUint8Array(){return aF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){return ooe(t,["next","error","complete"])}function ooe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{enableIndexedDbPersistence(e,n){return yae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return vae(e._delegate)}clearIndexedDbPersistence(e){return xae(e._delegate)}}class i${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Al("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){hae(this._delegate,e,n,r)}enableNetwork(){return _ae(this._delegate)}disableNetwork(){return wae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,EV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return bae(this._delegate)}onSnapshotsInSync(e){return Kae(this._delegate,e)}get app(){if(!this._appCompat)throw new ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fm(this,Fq(this._delegate,e))}catch(n){throw Ps(n,"collection()","Firestore.collection()")}}doc(e){try{return new ro(this,vb(this._delegate,e))}catch(n){throw Ps(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Iy(this,pae(this._delegate,e))}catch(n){throw Ps(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Zae(this._delegate,n=>e(new s$(this,n)))}batch(){return Ss(this._delegate),new a$(new Jae(this._delegate,e=>Nv(this._delegate,e)))}loadBundle(e){return Tae(this._delegate,e)}namedQuery(e){return Eae(this._delegate,e).then(n=>n?new Iy(this,n):null)}}class W_ extends K3{constructor(e){super(),this.firestore=e}convertBytes(e){return new r$(new gs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ro.forKey(n,this.firestore,null)}}function coe(t){Gne(t)}class s${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new W_(e)}get(e){const n=nf(e);return this._delegate.get(n).then(r=>new Ny(this._firestore,new ao(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=nf(e);return r?(J3("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=nf(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=nf(e);return this._delegate.delete(n),this}}class a${constructor(e){this._delegate=e}set(e,n,r){const i=nf(e);return r?(J3("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=nf(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=nf(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class If{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new L0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ky(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=If.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new If(e,new W_(e),n),i.set(n,s)),s}}If.INSTANCES=new WeakMap;class ro{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new W_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ro(n,new lr(n._delegate,r,new Et(e)))}static forKey(e,n,r){return new ro(n,new lr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fm(this.firestore,Fq(this._delegate,e))}catch(n){throw Ps(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=kt(e),e instanceof lr?Mq(this._delegate,e):!1}set(e,n){n=J3("DocumentReference.set",n);try{return n?iF(this._delegate,e,n):iF(this._delegate,e)}catch(r){throw Ps(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?sF(this._delegate,e):sF(this._delegate,e,n,...r)}catch(i){throw Ps(i,"updateDoc()","DocumentReference.update()")}}delete(){return Hae(this._delegate)}onSnapshot(...e){const n=o$(e),r=l$(e,i=>new Ny(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return n$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Vae(this._delegate):(e==null?void 0:e.source)==="server"?n=Wae(this._delegate):n=Bae(this._delegate),n.then(r=>new Ny(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ro(this.firestore,e?this._delegate.withConverter(If.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ps(t,e,n){return t.message=t.message.replace(e,n),t}function o$(t){for(const e of t)if(typeof e=="object"&&!dA(e))return e;return{}}function l$(t,e){var r,i;let n;return dA(t[0])?n=t[0]:dA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Ny{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ro(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return t$(this._delegate,e._delegate)}}class ky extends Ny{data(e){const n=this._delegate.data(e);return this._delegate._converter||Kne(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let Iy=class sl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new W_(e)}where(e,n,r){try{return new sl(this.firestore,ou(this._delegate,kae(e,n,r)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new sl(this.firestore,ou(this._delegate,Iae(e,n)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sl(this.firestore,ou(this._delegate,Rae(e)))}catch(n){throw Ps(n,"limit()","Query.limit()")}}limitToLast(e){try{return new sl(this.firestore,ou(this._delegate,Pae(e)))}catch(n){throw Ps(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new sl(this.firestore,ou(this._delegate,Fae(...e)))}catch(n){throw Ps(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new sl(this.firestore,ou(this._delegate,Mae(...e)))}catch(n){throw Ps(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new sl(this.firestore,ou(this._delegate,Uae(...e)))}catch(n){throw Ps(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new sl(this.firestore,ou(this._delegate,Oae(...e)))}catch(n){throw Ps(n,"endAt()","Query.endAt()")}}isEqual(e){return Uq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=$ae(this._delegate):(e==null?void 0:e.source)==="server"?n=zae(this._delegate):n=qae(this._delegate),n.then(r=>new fA(this.firestore,new jo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=o$(e),r=l$(e,i=>new fA(this.firestore,new jo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return n$(this._delegate,n,r)}withConverter(e){return new sl(this.firestore,e?this._delegate.withConverter(If.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class uoe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ky(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Iy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ky(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new uoe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ky(this._firestore,r))})}isEqual(e){return t$(this._delegate,e._delegate)}}class fm extends Iy{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ro(this.firestore,e):null}doc(e){try{return e===void 0?new ro(this.firestore,vb(this._delegate)):new ro(this.firestore,vb(this._delegate,e))}catch(n){throw Ps(n,"doc()","CollectionReference.doc()")}}add(e){return Gae(this._delegate,e).then(n=>new ro(this.firestore,n))}isEqual(e){return Mq(this._delegate,e._delegate)}withConverter(e){return new fm(this.firestore,e?this._delegate.withConverter(If.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nf(t){return Un(t,lr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(...e){this._delegate=new Vu(...e)}static documentId(){return new Y3(Er.keyField().canonicalString())}isEqual(e){return e=kt(e),e instanceof Vu?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{static serverTimestamp(){const e=toe();return e._methodName="FieldValue.serverTimestamp",new Qd(e)}static delete(){const e=eoe();return e._methodName="FieldValue.delete",new Qd(e)}static arrayUnion(...e){const n=noe(...e);return n._methodName="FieldValue.arrayUnion",new Qd(n)}static arrayRemove(...e){const n=roe(...e);return n._methodName="FieldValue.arrayRemove",new Qd(n)}static increment(e){const n=ioe(e);return n._methodName="FieldValue.increment",new Qd(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe={Firestore:i$,GeoPoint:Lo,Timestamp:Vn,Blob:r$,Transaction:s$,WriteBatch:a$,DocumentReference:ro,DocumentSnapshot:Ny,Query:Iy,QueryDocumentSnapshot:ky,QuerySnapshot:fA,CollectionReference:fm,FieldPath:Y3,FieldValue:Qd,setLogLevel:coe,CACHE_SIZE_UNLIMITED:gae};function foe(t,e){t.INTERNAL.registerComponent(new Vs("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...doe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hoe(t){foe(t,(e,n)=>new i$(e,n,new loe)),t.registerVersion(soe,aoe)}hoe(Wr);const Hg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ip={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function poe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function c$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const moe=poe,goe=c$,u$=new Xf("auth","Firebase",c$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Rm("@firebase/auth");function yoe(t,...e){bb.logLevel<=xn.WARN&&bb.warn(`Auth (${Ml}): ${t}`,...e)}function _2(t,...e){bb.logLevel<=xn.ERROR&&bb.error(`Auth (${Ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,...e){throw Z3(t,...e)}function Ti(t,...e){return Z3(t,...e)}function Q3(t,e,n){const r={...goe(),[e]:n};return new Xf("auth","Firebase",r).create(e,{appName:t.name})}function qi(t){return Q3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ns(t,"argument-error"),Q3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u$.create(t,...e)}function gt(t,e,...n){if(!t)throw Z3(e,...n)}function vl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _2(e),new Error(e)}function qo(t,e){t||vl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ek(){return lF()==="http:"||lF()==="https:"}function lF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ek()||YB()||"connection"in navigator)?navigator.onLine:!0}function xoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=MN()||y_()}get(){return voe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],woe=new kv(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kr(t,e,n,r,i={}){return f$(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Jf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return mte()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Fl(t.emulatorConfig.host)&&(c.credentials="include"),d$.fetch()(await h$(t,t.config.apiHost,n,o),c)})}async function f$(t,e,n){t._canInitEmulator=!1;const r={...boe,...e};try{const i=new Eoe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw T0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw T0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw T0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw T0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Q3(t,u,c);ns(t,u)}}catch(i){if(i instanceof bs)throw i;ns(t,"network-request-failed",{message:String(i)})}}async function Nc(t,e,n,r,i={}){const s=await Kr(t,e,n,r,i);return"mfaPendingCredential"in s&&ns(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function h$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?tk(t.config,i):`${t.config.apiScheme}://${i}`;return _oe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Toe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Eoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),woe.get())})}}function T0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){return t!==void 0&&t.getResponse!==void 0}function uF(t){return t!==void 0&&t.enterprise!==void 0}class p${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Toe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Coe(t){return(await Kr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function m$(t,e){return Kr(t,"GET","/v2/recaptchaConfig",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Soe(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function Doe(t,e){return Kr(t,"POST","/v1/accounts:update",e)}async function _b(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Aoe(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=q_(r);gt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:j0(aC(i.auth_time)),issuedAtTime:j0(aC(i.iat)),expirationTime:j0(aC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function aC(t){return Number(t)*1e3}function q_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _2("JWT malformed, contained fewer than 3 sections"),null;try{const i=cy(n);return i?JSON.parse(i):(_2("Failed to decode base64 JWT payload"),null)}catch(i){return _2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dF(t){const e=q_(t);return gt(e,"internal-error"),gt(typeof e.exp<"u","internal-error"),gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bs&&Noe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Noe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=j0(this.lastLoginAt),this.creationTime=j0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(t){var f;const e=t.auth,n=await t.getIdToken(),r=await xc(t,_b(e,{idToken:n}));gt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?g$(i.providerUserInfo):[],a=Roe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Ioe(t){const e=kt(t);await Py(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Roe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function g$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e){const n=await f$(t,{},async()=>{const r=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await h$(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Fl(t.emulatorConfig.host)&&(l.credentials="include"),d$.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Foe(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt(typeof e.idToken<"u","internal-error"),gt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){gt(e.length!==0,"internal-error");const n=dF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Poe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new kp;return r&&(gt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(gt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(gt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kp,this.toJSON())}_performRefresh(){return vl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e){gt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new koe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Aoe(this,e)}reload(){return Ioe(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Py(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await xc(this,Soe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;gt(f&&g,e,"internal-error");const y=kp.fromJSON(this.name,g);gt(typeof f=="string",e,"internal-error"),lu(r,e.name),lu(i,e.name),gt(typeof h=="boolean",e,"internal-error"),gt(typeof p=="boolean",e,"internal-error"),lu(s,e.name),lu(a,e.name),lu(o,e.name),lu(l,e.name),lu(c,e.name),lu(u,e.name);const _=new Fo({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(_.providerData=v.map(x=>({...x}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new kp;i.updateFromServerResponse(n);const s=new Fo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Py(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];gt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?g$(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new kp;o.updateFromIdToken(r);const l=new Fo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new Map;function ka(t){qo(t instanceof Function,"Expected a class definition");let e=fF.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y$.type="NONE";const hm=y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Ip{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ff(this.userKey,i.apiKey,s),this.fullPersistenceKey=ff("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _b(this.auth,{idToken:e}).catch(()=>{});return n?Fo._fromGetAccountInfoResponse(this.auth,n,e):null}return Fo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ip(ka(hm),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ka(hm);const a=ff(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await _b(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Fo._fromGetAccountInfoResponse(e,h,u)}else f=Fo._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ip(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ip(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w$(e))return"Blackberry";if(T$(e))return"Webos";if(x$(e))return"Safari";if((e.includes("chrome/")||b$(e))&&!e.includes("edge/"))return"Chrome";if(Iv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v$(t=Ur()){return/firefox\//i.test(t)}function x$(t=Ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b$(t=Ur()){return/crios\//i.test(t)}function _$(t=Ur()){return/iemobile/i.test(t)}function Iv(t=Ur()){return/android/i.test(t)}function w$(t=Ur()){return/blackberry/i.test(t)}function T$(t=Ur()){return/webos/i.test(t)}function Rv(t=Ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Moe(t=Ur()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Uoe(t=Ur()){var e;return Rv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ooe(){return QB()&&document.documentMode===10}function E$(t=Ur()){return Rv(t)||Iv(t)||T$(t)||w$(t)||/windows phone/i.test(t)||_$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t,e=[]){let n;switch(t){case"Browser":n=hF(Ur());break;case"Worker":n=`${hF(Ur())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function joe(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",Gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=6;class Voe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Boe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pF(this),this.idTokenSubscription=new pF(this),this.beforeStateQueue=new Loe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ka(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ip.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _b(this,{idToken:e}),r=await Fo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ar(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Py(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(qi(this));const n=e?kt(e):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await joe(this),n=new Voe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Foe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ka(e)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Ip.create(this,[ka(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&yoe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lr(t){return kt(t)}class pF{constructor(e){this.auth=e,this.observer=null,this.addObserver=nV(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qoe(t){Pv=t}function nk(t){return Pv.loadJS(t)}function $oe(){return Pv.recaptchaV2Script}function zoe(){return Pv.recaptchaEnterpriseScript}function Hoe(){return Pv.gapiScript}function S$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=500,Koe=6e4,Ex=1e12;class Xoe{constructor(e){this.auth=e,this.counter=Ex,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Qoe(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Ex;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Ex;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Ex;return(r=this._widgets.get(n))==null||r.execute(),""}}class Joe{constructor(){this.enterprise=new Yoe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yoe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qoe{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;gt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Zoe(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Koe)},Goe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Zoe(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const ele="recaptcha-enterprise",B0="NO_RECAPTCHA";class D${constructor(e){this.type=ele,this.auth=Lr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{m$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new p$(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;uF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(B0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Joe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&uF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zoe();l.length!==0&&(l+=o),nk(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Gg(t,e,n,r=!1,i=!1){const s=new D$(t);let a;if(i)a=B0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Au(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Gg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Gg(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Gg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Gg(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function tle(t){const e=Lr(t),n=await m$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new p$(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new D$(e).verify()}function nle(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ka);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rle(t,e,n){const r=Lr(t);gt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=A$(e),{host:a,port:o}=ile(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(mc(c,r.config.emulator)&&mc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Fl(a)?(p_(`${s}//${a}${l}`),m_("Auth",!0)):i||sle()}function A$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ile(t){const e=A$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:mF(a)}}}function mF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vl("not implemented")}_getIdTokenResponse(e){return vl("not implemented")}_linkToIdToken(e,n){return vl("not implemented")}_getReauthenticationResolver(e){return vl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(t,e){return Kr(t,"POST","/v1/accounts:resetPassword",Gr(t,e))}async function ale(t,e){return Kr(t,"POST","/v1/accounts:update",e)}async function ole(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}async function lle(t,e){return Kr(t,"POST","/v1/accounts:update",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cle(t,e){return Nc(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))}async function $_(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",Gr(t,e))}async function ule(t,e){return $_(t,e)}async function dle(t,e){return $_(t,e)}async function fle(t,e){return $_(t,e)}async function hle(t,e){return $_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ple(t,e){return Nc(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}async function mle(t,e){return Nc(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Wm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Au(e,n,"signInWithPassword",cle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ple(e,{email:this._email,oobCode:this._password});default:ns(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Au(e,r,"signUpPassword",ole,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return mle(e,{idToken:n,email:this._email,oobCode:this._password});default:ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e){return Nc(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle="http://localhost";class kl extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new kl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ac(e,n)}buildRequest(){const e={requestUri:gle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF(t,e){return Kr(t,"POST","/v1/accounts:sendVerificationCode",Gr(t,e))}async function yle(t,e){return Nc(t,"POST","/v1/accounts:signInWithPhoneNumber",Gr(t,e))}async function vle(t,e){const n=await Nc(t,"POST","/v1/accounts:signInWithPhoneNumber",Gr(t,e));if(n.temporaryProof)throw T0(t,"account-exists-with-different-credential",n);return n}const xle={USER_NOT_FOUND:"user-not-found"};async function ble(t,e){const n={...e,operation:"REAUTH"};return Nc(t,"POST","/v1/accounts:signInWithPhoneNumber",Gr(t,n),xle)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Wm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new hf({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new hf({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return yle(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return vle(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return ble(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new hf({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wle(t){const e=Tp(y0(t)).link,n=e?Tp(y0(e)).deep_link_id:null,r=Tp(y0(t)).deep_link_id;return(r?Tp(y0(r)).link:null)||r||n||e||t}class z_{constructor(e){const n=Tp(y0(e)),r=n.apiKey??null,i=n.oobCode??null,s=_le(n.mode??null);gt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wle(e);try{return new z_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return Fy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=z_.parseLink(n);return gt(r,"argument-error"),Fy._fromEmailAndCode(e,r.code,r.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends kc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rp extends qm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return gt("providerId"in n&&"signInMethod"in n,"argument-error"),kl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return gt(e.idToken||e.accessToken,"argument-error"),kl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Rp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Rp(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends qm{constructor(){super("facebook.com")}static credential(e){return kl._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dl.credential(e.oauthAccessToken)}catch{return null}}}dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";dl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends qm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kl._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fl.credential(n,r)}catch{return null}}}fl.GOOGLE_SIGN_IN_METHOD="google.com";fl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends qm{constructor(){super("github.com")}static credential(e){return kl._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.GITHUB_SIGN_IN_METHOD="github.com";hl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle="http://localhost";class pm extends Wm{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ac(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new pm(r,s)}static _create(e,n){return new pm(e,n)}buildRequest(){return{requestUri:Tle,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele="saml.";class wb extends kc{constructor(e){gt(e.startsWith(Ele),"argument-error"),super(e)}static credentialFromResult(e){return wb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return wb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=pm.fromJSON(e);return gt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return pm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends qm{constructor(){super("twitter.com")}static credential(e,n){return kl._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pl.credential(n,r)}catch{return null}}}pl.TWITTER_SIGN_IN_METHOD="twitter.com";pl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e){return Nc(t,"POST","/v1/accounts:signUp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fo._fromIdTokenResponse(e,r,i),a=yF(r);return new fo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yF(r);return new fo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cle(t){var i;if(ar(t.app))return Promise.reject(qi(t));const e=Lr(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new fo({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await k$(e,{returnSecureToken:!0}),r=await fo._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends bs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tb(e,n,r,i)}}function I$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tb._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sle(t,e){const n=kt(t);await H_(!0,n,e);const{providerUserInfo:r}=await Doe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=R$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function rk(t,e,n=!1){const r=await xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fo._forOperation(t,"link",r)}async function H_(t,e,n){await Py(e);const r=R$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";gt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(qi(r));const i="reauthenticate";try{const s=await xc(t,I$(r,i,e,t),n);gt(s.idToken,r,"internal-error");const a=q_(s.idToken);gt(a,r,"internal-error");const{sub:o}=a;return gt(t.uid===o,r,"user-mismatch"),fo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ns(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t,e,n=!1){if(ar(t.app))return Promise.reject(qi(t));const r="signIn",i=await I$(t,r,e),s=await fo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function G_(t,e){return F$(Lr(t),e)}async function M$(t,e){const n=kt(t);return await H_(!1,n,e.providerId),rk(n,e)}async function U$(t,e){return P$(kt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(t,e){return Nc(t,"POST","/v1/accounts:signInWithCustomToken",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ale(t,e){if(ar(t.app))return Promise.reject(qi(t));const n=Lr(t),r=await Dle(n,{token:e,returnSecureToken:!0}),i=await fo._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?ik._fromServerResponse(e,n):"totpInfo"in n?sk._fromServerResponse(e,n):ns(e,"internal-error")}}class ik extends Fv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new ik(n)}}class sk extends Fv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new sk(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e,n){var r;gt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),gt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),gt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(gt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t){const e=Lr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nle(t,e,n){const r=Lr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&K_(r,i,n),await Au(r,i,"getOobCode",dle,"EMAIL_PASSWORD_PROVIDER")}async function kle(t,e,n){await N$(kt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ak(t),r})}async function Ile(t,e){await lle(kt(t),{oobCode:e})}async function O$(t,e){const n=kt(t),r=await N$(n,{oobCode:e}),i=r.requestType;switch(gt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":gt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":gt(r.mfaInfo,n,"internal-error");default:gt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Fv._fromServerResponse(Lr(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Rle(t,e){const{data:n}=await O$(kt(t),e);return n.email}async function Ple(t,e,n){if(ar(t.app))return Promise.reject(qi(t));const r=Lr(t),a=await Au(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ak(t),l}),o=await fo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Fle(t,e,n){return ar(t.app)?Promise.reject(qi(t)):G_(kt(t),id.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ak(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mle(t,e,n){const r=Lr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){gt(o.handleCodeInApp,r,"argument-error"),o&&K_(r,a,o)}s(i,n),await Au(r,i,"getOobCode",fle,"EMAIL_PASSWORD_PROVIDER")}function Ule(t,e){const n=z_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Ole(t,e,n){if(ar(t.app))return Promise.reject(qi(t));const r=kt(t),i=id.credentialWithLink(e,n||Ry());return gt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),G_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lle(t,e){return Kr(t,"POST","/v1/accounts:createAuthUri",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jle(t,e){const n=ek()?Ry():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Lle(kt(t),r);return i||[]}async function Ble(t,e){const n=kt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&K_(n.auth,i,e);const{email:s}=await ule(n.auth,i);s!==t.email&&await t.reload()}async function Vle(t,e,n){const r=kt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&K_(r.auth,s,n);const{email:a}=await hle(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wle(t,e){return Kr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qle(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await xc(r,Wle(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function $le(t,e){const n=kt(t);return ar(n.auth.app)?Promise.reject(qi(n.auth)):L$(n,e,null)}function zle(t,e){return L$(kt(t),null,e)}async function L$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await xc(t,ale(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hle(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=q_(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Pp(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Gle(r,n);case"github.com":return new Kle(r,n);case"google.com":return new Xle(r,n);case"twitter.com":return new Jle(r,n,t.screenName||null);case"custom":case"anonymous":return new Pp(r,null);default:return new Pp(r,e,n)}}class Pp{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class j$ extends Pp{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Gle extends Pp{constructor(e,n){super(e,"facebook.com",n)}}class Kle extends j${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Xle extends Pp{constructor(e,n){super(e,"google.com",n)}}class Jle extends j${constructor(e,n,r){super(e,"twitter.com",n,r)}}function Yle(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Hle(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new rf("enroll",e,n)}static _fromMfaPendingCredential(e){return new rf("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return rf._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return rf._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Lr(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>Fv._fromServerResponse(r,o));gt(i.mfaPendingCredential,r,"internal-error");const a=rf._fromMfaPendingCredential(i.mfaPendingCredential);return new ok(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await fo._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return gt(n.user,r,"internal-error"),fo._forOperation(n.user,n.operationType,c);default:ns(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Qle(t,e){var i;const n=kt(t),r=e;return gt(e.customData.operationType,n,"argument-error"),gt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),ok._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){return Kr(t,"POST","/v2/accounts/mfaEnrollment:start",Gr(t,e))}function Zle(t,e){return Kr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Gr(t,e))}function ece(t,e){return Kr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Gr(t,e))}class lk{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Fv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new lk(e)}async getSession(){return rf._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await xc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await xc(this.user,ece(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const oC=new WeakMap;function tce(t){const e=kt(t);return oC.has(e)||oC.set(e,lk._fromUser(e)),oC.get(e)}const Eb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eb,"1"),this.storage.removeItem(Eb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce=1e3,rce=10;class V$ extends B${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Ooe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V$.type="LOCAL";const ck=V$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W$ extends B${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W$.type="SESSION";const Rf=W$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new X_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await ice(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}X_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Mv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function ace(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function oce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function cce(){return uk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="firebaseLocalStorageDb",uce=1,Cb="firebaseLocalStorage",$$="fbase_key";class Uv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function J_(t,e){return t.transaction([Cb],e?"readwrite":"readonly").objectStore(Cb)}function dce(){const t=indexedDB.deleteDatabase(q$);return new Uv(t).toPromise()}function pA(){const t=indexedDB.open(q$,uce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cb,{keyPath:$$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cb)?e(r):(r.close(),await dce(),e(await pA()))})})}async function xF(t,e,n){const r=J_(t,!0).put({[$$]:e,value:n});return new Uv(r).toPromise()}async function fce(t,e){const n=J_(t,!1).get(e),r=await new Uv(n).toPromise();return r===void 0?null:r.value}function bF(t,e){const n=J_(t,!0).delete(e);return new Uv(n).toPromise()}const hce=800,pce=3;class z${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=X_._getInstance(cce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oce(),!this.activeServiceWorker)return;this.sender=new sce(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pA();return await xF(e,Eb,"1"),await bF(e,Eb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=J_(i,!1).getAll();return new Uv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z$.type="LOCAL";const My=z$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){return Kr(t,"POST","/v2/accounts/mfaSignIn:start",Gr(t,e))}function mce(t,e){return Kr(t,"POST","/v2/accounts/mfaSignIn:finalize",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=S$("rcb"),gce=new kv(3e4,6e4);class yce{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=pi().grecaptcha)!=null&&e.render)}load(e,n=""){return gt(vce(n),e,"argument-error"),this.shouldResolveImmediately(n)&&cF(pi().grecaptcha)?Promise.resolve(pi().grecaptcha):new Promise((r,i)=>{const s=pi().setTimeout(()=>{i(Ti(e,"network-request-failed"))},gce.get());pi()[lC]=()=>{pi().clearTimeout(s),delete pi()[lC];const o=pi().grecaptcha;if(!o||!cF(o)){i(Ti(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${$oe()}?${Jf({onload:lC,render:"explicit",hl:n})}`;nk(a).catch(()=>{clearTimeout(s),i(Ti(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=pi().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function vce(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class xce{async load(e){return new Xoe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="recaptcha",bce={theme:"light",type:"image"};let _ce=class{constructor(e,n,r={...bce}){this.parameters=r,this.type=V0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lr(e),this.isInvisible=this.parameters.size==="invisible",gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;gt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xce:new yce,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){gt(!this.parameters.sitekey,this.auth,"argument-error"),gt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=pi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){gt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){gt(ek()&&!uk(),this.auth,"internal-error"),await wce(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Coe(this.auth);gt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return gt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function wce(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=hf._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Tce(t,e,n){if(ar(t.app))return Promise.reject(qi(t));const r=Lr(t),i=await Y_(r,e,kt(n));return new dk(i,s=>G_(r,s))}async function Ece(t,e,n){const r=kt(t);await H_(!1,r,"phone");const i=await Y_(r.auth,e,kt(n));return new dk(i,s=>M$(r,s))}async function Cce(t,e,n){const r=kt(t);if(ar(r.auth.app))return Promise.reject(qi(r.auth));const i=await Y_(r.auth,e,kt(n));return new dk(i,s=>U$(r,s))}async function Y_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await tle(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){gt(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Au(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===B0){gt((n==null?void 0:n.type)===V0,u,"argument-error");const h=await cC(u,f,n);return vF(u,h)}return vF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{gt(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;gt(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Au(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===B0){gt((n==null?void 0:n.type)===V0,f,"argument-error");const p=await cC(f,h,n);return _F(f,p)}return _F(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Au(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===B0){gt((n==null?void 0:n.type)===V0,c,"argument-error");const f=await cC(c,u,n);return gF(c,f)}return gF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function Sce(t,e){const n=kt(t);if(ar(n.auth.app))return Promise.reject(qi(n.auth));await rk(n,e)}async function cC(t,e,n){gt(n.type===V0,t,"argument-error");const r=await n.verify();gt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=class w2{constructor(e){this.providerId=w2.PROVIDER_ID,this.auth=Lr(e)}verifyPhoneNumber(e,n){return Y_(this.auth,e,kt(n))}static credential(e,n){return hf._fromVerification(e,n)}static credentialFromResult(e){const n=e;return w2.credentialFromTaggedObject(n)}static credentialFromError(e){return w2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?hf._fromTokenResponse(n,r):null}};Pf.PROVIDER_ID="phone";Pf.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e){return e?ka(e):(gt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dce(t){return F$(t.auth,new fk(t),t.bypassAuthState)}function Ace(t){const{auth:e,user:n}=t;return gt(n,e,"internal-error"),P$(n,new fk(t),t.bypassAuthState)}async function Nce(t){const{auth:e,user:n}=t;return gt(n,e,"internal-error"),rk(n,new fk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dce;case"linkViaPopup":case"linkViaRedirect":return Nce;case"reauthViaPopup":case"reauthViaRedirect":return Ace;default:ns(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce=new kv(2e3,1e4);async function Ice(t,e,n){if(ar(t.app))return Promise.reject(Ti(t,"operation-not-supported-in-this-environment"));const r=Lr(t);Vm(t,e,kc);const i=th(r,n);return new tc(r,"signInViaPopup",e,i).executeNotNull()}async function Rce(t,e,n){const r=kt(t);if(ar(r.auth.app))return Promise.reject(Ti(r.auth,"operation-not-supported-in-this-environment"));Vm(r.auth,e,kc);const i=th(r.auth,n);return new tc(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Pce(t,e,n){const r=kt(t);Vm(r.auth,e,kc);const i=th(r.auth,n);return new tc(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class tc extends H${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gt(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=Mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kce.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce="pendingRedirect",W0=new Map;class Mce extends H${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=W0.get(this.auth._key());if(!e){try{const r=await Uce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}W0.set(this.auth._key(),e)}return this.bypassAuthState||W0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uce(t,e){const n=K$(e),r=G$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function hk(t,e){return G$(t)._set(K$(e),"true")}function Oce(){W0.clear()}function pk(t,e){W0.set(t._key(),e)}function G$(t){return ka(t._redirectPersistence)}function K$(t){return ff(Fce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lce(t,e,n){return jce(t,e,n)}async function jce(t,e,n){if(ar(t.app))return Promise.reject(qi(t));const r=Lr(t);Vm(t,e,kc),await r._initializationPromise;const i=th(r,n);return await hk(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Bce(t,e,n){return Vce(t,e,n)}async function Vce(t,e,n){const r=kt(t);if(Vm(r.auth,e,kc),ar(r.auth.app))return Promise.reject(qi(r.auth));await r.auth._initializationPromise;const i=th(r.auth,n);await hk(i,r.auth);const s=await X$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Wce(t,e,n){return qce(t,e,n)}async function qce(t,e,n){const r=kt(t);Vm(r.auth,e,kc),await r.auth._initializationPromise;const i=th(r.auth,n);await H_(!1,r,e.providerId),await hk(i,r.auth);const s=await X$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function $ce(t,e){return await Lr(t)._initializationPromise,Q_(t,e,!1)}async function Q_(t,e,n=!1){if(ar(t.app))return Promise.reject(qi(t));const r=Lr(t),i=th(r,e),a=await new Mce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function X$(t){const e=Mv(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce=600*1e3;class J${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zce&&this.cachedEventUids.clear(),this.cachedEventUids.has(wF(e))}saveEventToCache(e){this.cachedEventUids.add(wF(e)),this.lastProcessedEventTime=Date.now()}}function wF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kce=/^https?/;async function Xce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q$(t);for(const n of e)try{if(Jce(n))return}catch{}ns(t,"unauthorized-domain")}function Jce(t){const e=Ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Kce.test(n))return!1;if(Gce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=new kv(3e4,6e4);function TF(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qce(t){return new Promise((e,n)=>{var i,s,a;function r(){TF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TF(),n(Ti(t,"network-request-failed"))},timeout:Yce.get()})}if((s=(i=pi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=pi().gapi)!=null&&a.load)r();else{const o=S$("iframefcb");return pi()[o]=()=>{gapi.load?r():n(Ti(t,"network-request-failed"))},nk(`${Hoe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw T2=null,e})}let T2=null;function Zce(t){return T2=T2||Qce(t),T2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue=new kv(5e3,15e3),tue="__/auth/iframe",nue="emulator/auth/iframe",rue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sue(t){const e=t.config;gt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tk(e,nue):`https://${t.config.authDomain}/${tue}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},i=iue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jf(r).slice(1)}`}async function aue(t){const e=await Zce(t),n=pi().gapi;return gt(n,t,"internal-error"),e.open({where:document.body,url:sue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ti(t,"network-request-failed"),o=pi().setTimeout(()=>{s(a)},eue.get());function l(){pi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lue=500,cue=600,uue="_blank",due="http://localhost";class EF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fue(t,e,n,r=lue,i=cue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...oue,width:r.toString(),height:i.toString(),top:s,left:a},c=Ur().toLowerCase();n&&(o=b$(c)?uue:n),v$(c)&&(e=e||due,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Uoe(c)&&o!=="_self")return hue(e||"",o),new EF(null);const f=window.open(e||"",o,u);gt(f,t,"popup-blocked");try{f.focus()}catch{}return new EF(f)}function hue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue="__/auth/handler",mue="emulator/auth/handler",gue=encodeURIComponent("fac");async function mA(t,e,n,r,i,s){gt(t.config.authDomain,t,"auth-domain-config-required"),gt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:i};if(e instanceof kc){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof qm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${gue}=${encodeURIComponent(l)}`:"";return`${yue(t)}?${Jf(o).slice(1)}${c}`}function yue({config:t}){return t.emulator?tk(t,mue):`https://${t.authDomain}/${pue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="webStorageSupport";class vue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rf,this._completeRedirectFn=Q_,this._overrideRedirectResult=pk}async _openPopup(e,n,r,i){var a;qo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await mA(e,n,r,Ry(),i);return fue(e,s,Mv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await mA(e,n,r,Ry(),i);return ace(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aue(e),r=new J$(e);return n.register("authEvent",i=>(gt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uC,{type:uC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[uC];s!==void 0&&n(!!s),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E$()||x$()||Rv()}}const xue=vue;class bue{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return vl("unexpected MultiFactorSessionType")}}}class mk extends bue{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new mk(e)}_finalizeEnroll(e,n,r){return Zle(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return mce(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Z${constructor(){}static assertion(e){return mk._fromCredential(e)}}Z$.FACTOR_ID="phone";var CF="@firebase/auth",SF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tue(t){Dl(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;gt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C$(t)},c=new Woe(r,i,s,l);return nle(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new Vs("auth-internal",e=>{const n=Lr(e.getProvider("auth").getImmediate());return(r=>new _ue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(CF,SF,wue(t)),Ls(CF,SF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue=300;dte("authIdTokenMaxAge");function Cue(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}qoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Cue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tue("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue=2e3;async function Due(t,e,n){const{BuildInfo:r}=Ff();qo(e.sessionId,"AuthEvent did not contain a session ID");const i=await Rue(e.sessionId),s={};return Rv()?s.ibi=r.packageName:Iv()?s.apn=r.packageName:ns(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,mA(t,n,e.type,void 0,e.eventId??void 0,s)}async function Aue(t){const{BuildInfo:e}=Ff(),n={};Rv()?n.iosBundleId=e.packageName:Iv()?n.androidPackageName=e.packageName:ns(t,"operation-not-supported-in-this-environment"),await Q$(t,n)}function Nue(t){const{cordova:e}=Ff();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Moe()?"_blank":"_system","location=yes"),n(i)})})}async function kue(t,e,n){const{cordova:r}=Ff();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(Ti(t,"redirect-cancelled-by-user"))},Sue))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Iv()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Iue(t){var n,r,i,s,a,o,l,c,u,f;const e=Ff();gt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gt(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Rue(t){const e=Pue(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Pue(t){if(qo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fue=20;class Mue extends J${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Uue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:jue(),postBody:null,tenantId:t.tenantId,error:Ti(t,"no-auth-event")}}function Oue(t,e){return gA()._set(yA(t),e)}async function DF(t){const e=await gA()._get(yA(t));return e&&await gA()._remove(yA(t)),e}function Lue(t,e){var r,i;const n=Vue(e);if(n.includes("/__/auth/callback")){const s=E2(n),a=s.firebaseError?Bue(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?Ti(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function jue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Fue;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function gA(){return ka(ck)}function yA(t){return ff("authEvent",t.config.apiKey,t.name)}function Bue(t){try{return JSON.parse(t)}catch{return null}}function Vue(t){const e=E2(t),n=e.link?decodeURIComponent(e.link):void 0,r=E2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return E2(i).link||i||r||n||t}function E2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Tp(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue=500;class que{constructor(){this._redirectPersistence=Rf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Q_,this._overrideRedirectResult=pk}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Mue(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ns(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Iue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Oce(),await this._originValidation(e);const a=Uue(e,r,i);await Oue(e,a);const o=await Due(e,a,n),l=await Nue(o);return kue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Aue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ff(),a=setTimeout(async()=>{await DF(e),n.onEvent(AF())},Wue),o=async u=>{clearTimeout(a);const f=await DF(e);let h=null;f&&(u!=null&&u.url)&&(h=Lue(f,u.url)),n.onEvent(h||AF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Ff().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const $ue=que;function AF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ti("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zue(t,e){Lr(t)._logFramework(e)}var Hue="@firebase/auth-compat",Gue="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kue=1e3;function q0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Xue(){return q0()==="http:"||q0()==="https:"}function ez(t=Ur()){return!!((q0()==="file:"||q0()==="ionic:"||q0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jue(){return y_()||g_()}function Yue(){return QB()&&(document==null?void 0:document.documentMode)===11}function Que(t=Ur()){return/Edge\/\d+/.test(t)}function Zue(t=Ur()){return Yue()||Que(t)}function tz(){try{const t=self.localStorage,e=Mv();if(t)return t.setItem(e,"1"),t.removeItem(e),Zue()?dy():!0}catch{return gk()&&dy()}return!1}function gk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dC(){return(Xue()||YB()||ez())&&!Jue()&&tz()&&!gk()}function nz(){return ez()&&typeof document<"u"}async function ede(){return nz()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Kue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function tde(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca={LOCAL:"local",NONE:"none",SESSION:"session"},Kg=gt,rz="persistence";function nde(t,e){if(Kg(Object.values(Ca).includes(e),t,"invalid-persistence-type"),y_()){Kg(e!==Ca.SESSION,t,"unsupported-persistence-type");return}if(g_()){Kg(e===Ca.NONE,t,"unsupported-persistence-type");return}if(gk()){Kg(e===Ca.NONE||e===Ca.LOCAL&&dy(),t,"unsupported-persistence-type");return}Kg(e===Ca.NONE||tz(),t,"unsupported-persistence-type")}async function vA(t){await t._initializationPromise;const e=iz(),n=ff(rz,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function rde(t,e){const n=iz();if(!n)return[];const r=ff(rz,t,e);switch(n.getItem(r)){case Ca.NONE:return[hm];case Ca.LOCAL:return[My,Rf];case Ca.SESSION:return[Rf];default:return[]}}function iz(){var t;try{return((t=tde())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=gt;class mu{constructor(){this.browserResolver=ka(xue),this.cordovaResolver=ka($ue),this.underlyingResolver=null,this._redirectPersistence=Rf,this._completeRedirectFn=Q_,this._overrideRedirectResult=pk}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nz()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ide(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await ede();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){return t.unwrap()}function sde(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ade(t){return az(t)}function ode(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new lde(t,Qle(t,e))}else if(n){const i=az(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function az(t){const{_tokenResponse:e}=t instanceof bs?t.customData:t;if(!e)return null;if(!(t instanceof bs)&&"temporaryProof"in e&&"phoneNumber"in e)return Pf.credentialFromResult(t);const n=e.providerId;if(!n||n===Hg.PASSWORD)return null;let r;switch(n){case Hg.GOOGLE:r=fl;break;case Hg.FACEBOOK:r=dl;break;case Hg.GITHUB:r=hl;break;case Hg.TWITTER:r=pl;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?pm._create(n,o):kl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Rp(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof bs?r.credentialFromError(t):r.credentialFromResult(t)}function ta(t,e){return e.catch(n=>{throw n instanceof bs&&ode(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:ade(n),additionalUserInfo:Yle(n),user:nc.getOrCreate(i)}})}async function xA(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>ta(t,n.confirm(r))}}class lde{constructor(e,n){this.resolver=n,this.auth=sde(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ta(sz(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this._delegate=e,this.multiFactor=tce(e)}static getOrCreate(e){return nc.USER_MAP.has(e)||nc.USER_MAP.set(e,new nc(e)),nc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ta(this.auth,M$(this._delegate,e))}async linkWithPhoneNumber(e,n){return xA(this.auth,Ece(this._delegate,e,n))}async linkWithPopup(e){return ta(this.auth,Pce(this._delegate,e,mu))}async linkWithRedirect(e){return await vA(Lr(this.auth)),Wce(this._delegate,e,mu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ta(this.auth,U$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return xA(this.auth,Cce(this._delegate,e,n))}reauthenticateWithPopup(e){return ta(this.auth,Rce(this._delegate,e,mu))}async reauthenticateWithRedirect(e){return await vA(Lr(this.auth)),Bce(this._delegate,e,mu)}sendEmailVerification(e){return Ble(this._delegate,e)}async unlink(e){return await Sle(this._delegate,e),this}updateEmail(e){return $le(this._delegate,e)}updatePassword(e){return zle(this._delegate,e)}updatePhoneNumber(e){return Sce(this._delegate,e)}updateProfile(e){return qle(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Vle(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nc.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=gt;class bA{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Xg(r,"invalid-api-key",{appName:e.name}),Xg(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?mu:void 0;this._delegate=n.initialize({options:{persistence:cde(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(moe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){rle(this._delegate,e,n)}applyActionCode(e){return Ile(this._delegate,e)}checkActionCode(e){return O$(this._delegate,e)}confirmPasswordReset(e,n){return kle(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ta(this._delegate,Ple(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return jle(this._delegate,e)}isSignInWithEmailLink(e){return Ule(this._delegate,e)}async getRedirectResult(){Xg(dC(),this._delegate,"operation-not-supported-in-this-environment");const e=await $ce(this._delegate,mu);return e?ta(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){zue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=NF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=NF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return Mle(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Nle(this._delegate,e,n||void 0)}async setPersistence(e){nde(this._delegate,e);let n;switch(e){case Ca.SESSION:n=Rf;break;case Ca.LOCAL:n=await ka(My)._isAvailable()?My:ck;break;case Ca.NONE:n=hm;break;default:return ns("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ta(this._delegate,Cle(this._delegate))}signInWithCredential(e){return ta(this._delegate,G_(this._delegate,e))}signInWithCustomToken(e){return ta(this._delegate,Ale(this._delegate,e))}signInWithEmailAndPassword(e,n){return ta(this._delegate,Fle(this._delegate,e,n))}signInWithEmailLink(e,n){return ta(this._delegate,Ole(this._delegate,e,n))}signInWithPhoneNumber(e,n){return xA(this._delegate,Tce(this._delegate,e,n))}async signInWithPopup(e){return Xg(dC(),this._delegate,"operation-not-supported-in-this-environment"),ta(this._delegate,Ice(this._delegate,e,mu))}async signInWithRedirect(e){return Xg(dC(),this._delegate,"operation-not-supported-in-this-environment"),await vA(this._delegate),Lce(this._delegate,e,mu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Rle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}bA.Persistence=Ca;function NF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&nc.getOrCreate(a)),error:e,complete:n}}function cde(t,e){const n=rde(t,e);if(typeof self<"u"&&!n.includes(My)&&n.push(My),typeof window<"u")for(const r of[ck,Rf])n.includes(r)||n.push(r);return n.includes(hm)||n.push(hm),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{static credential(e,n){return Pf.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Pf(sz(Wr.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}yk.PHONE_SIGN_IN_METHOD=Pf.PHONE_SIGN_IN_METHOD;yk.PROVIDER_ID=Pf.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ude=gt;class dde{constructor(e,n,r=Wr.app()){var i;ude((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new _ce(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde="auth-compat";function hde(t){t.INTERNAL.registerComponent(new Vs(fde,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new bA(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ip.EMAIL_SIGNIN,PASSWORD_RESET:ip.PASSWORD_RESET,RECOVER_EMAIL:ip.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ip.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ip.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ip.VERIFY_EMAIL}},EmailAuthProvider:id,FacebookAuthProvider:dl,GithubAuthProvider:hl,GoogleAuthProvider:fl,OAuthProvider:Rp,SAMLAuthProvider:wb,PhoneAuthProvider:yk,PhoneMultiFactorGenerator:Z$,RecaptchaVerifier:dde,TwitterAuthProvider:pl,Auth:bA,AuthCredential:Wm,Error:bs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Hue,Gue)}hde(Wr);var kF={};const IF="@firebase/database",RF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oz="";function lz(t){oz=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fy(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pde(e)}}catch{}return new mde},sf=cz("localStorage"),_A=cz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new Rm("@firebase/database"),uz=(function(){let t=1;return function(){return t++}})(),dz=function(t){const e=Ste(t),n=new Tte;n.update(e);const r=n.digest();return IN.encodeByteArray(r)},Ov=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ov.apply(null,r):typeof r=="object"?e+=bi(r):e+=r,e+=" "}return e};let pf=null,PF=!0;const fz=function(t,e){vt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fp.logLevel=xn.VERBOSE,pf=Fp.log.bind(Fp),e&&_A.set("logging_enabled",!0)):typeof t=="function"?pf=t:(pf=null,_A.remove("logging_enabled"))},Bi=function(...t){if(PF===!0&&(PF=!1,pf===null&&_A.get("logging_enabled")===!0&&fz(!0)),pf){const e=Ov.apply(null,t);pf(e)}},Lv=function(t){return function(...e){Bi(t,...e)}},wA=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ov(...t);Fp.error(e)},Il=function(...t){const e=`FIREBASE FATAL ERROR: ${Ov(...t)}`;throw Fp.error(e),new Error(e)},ws=function(...t){const e="FIREBASE WARNING: "+Ov(...t);Fp.warn(e)},gde=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ws("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Z_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yde=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wu="[MIN_NAME]",bc="[MAX_NAME]",nh=function(t,e){if(t===e)return 0;if(t===Wu||e===bc)return-1;if(e===Wu||t===bc)return 1;{const n=FF(t),r=FF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vde=function(t,e){return t===e?0:t<e?-1:1},Jg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+bi(e))},vk=function(t){if(typeof t!="object"||t===null)return bi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=bi(e[r]),n+=":",n+=vk(t[e[r]]);return n+="}",n},hz=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function $i(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pz=function(t){vt(!Z_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},xde=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bde=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _de(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const wde=new RegExp("^-?(0*)\\d{1,10}$"),Tde=-2147483648,Ede=2147483647,FF=function(t){if(wde.test(t)){const e=Number(t);if(e>=Tde&&e<=Ede)return e}return null},$m=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ws("Exception was thrown by user callback.",n),e},Math.floor(0))}},Cde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ar(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ws(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ws(e)}}class Mp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="5",mz="v",gz="s",yz="r",vz="f",xz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bz="ls",_z="p",TA="ac",wz="websocket",Tz="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sf.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ade(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Cz(t,e,n){vt(typeof e=="string","typeof type must == string"),vt(typeof n=="object","typeof params must == object");let r;if(e===wz)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Tz)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ade(t)&&(n.ns=t.namespace);const i=[];return $i(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(){this.counters_={}}incrementCounter(e,n=1){Pa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ite(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={},hC={};function bk(t){const e=t.toString();return fC[e]||(fC[e]=new Nde),fC[e]}function kde(t,e){const n=t.toString();return hC[n]||(hC[n]=e()),hC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$m(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="start",Rde="close",Pde="pLPCommand",Fde="pRTLPCB",Sz="id",Dz="pw",Az="ser",Mde="cb",Ude="seg",Ode="ts",Lde="d",jde="dframe",Nz=1870,kz=30,Bde=Nz-kz,Vde=25e3,Wde=3e4;class gu{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lv(e),this.stats_=bk(n),this.urlFn=l=>(this.appCheckToken&&(l[TA]=this.appCheckToken),Cz(n,Tz,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ide(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Wde)),yde(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _k((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===MF)this.id=o,this.password=l;else if(a===Rde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[MF]="t",r[Az]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Mde]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mz]=xk,this.transportSessionId&&(r[gz]=this.transportSessionId),this.lastSessionId&&(r[bz]=this.lastSessionId),this.applicationId&&(r[_z]=this.applicationId),this.appCheckToken&&(r[TA]=this.appCheckToken),typeof location<"u"&&location.hostname&&xz.test(location.hostname)&&(r[yz]=vz);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gu.forceAllow_=!0}static forceDisallow(){gu.forceDisallow_=!0}static isAvailable(){return gu.forceAllow_?!0:!gu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xde()&&!bde()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=bi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XB(n),i=hz(r,Bde);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[jde]="t",r[Sz]=e,r[Dz]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=bi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _k{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uz(),window[Pde+this.uniqueCallbackIdentifier]=e,window[Fde+this.uniqueCallbackIdentifier]=n,this.myIFrame=_k.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Bi("frame writing exception"),o.stack&&Bi(o.stack),Bi(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Bi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Sz]=this.myID,e[Dz]=this.myPW,e[Az]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kz+r.length<=Nz;){const a=this.pendingSegs.shift();r=r+"&"+Ude+i+"="+a.seg+"&"+Ode+i+"="+a.ts+"&"+Lde+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Vde)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Bi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qde=16384,$de=45e3;let Sb=null;typeof MozWebSocket<"u"?Sb=MozWebSocket:typeof WebSocket<"u"&&(Sb=WebSocket);class no{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lv(this.connId),this.stats_=bk(n),this.connURL=no.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[mz]=xk,typeof location<"u"&&location.hostname&&xz.test(location.hostname)&&(a[yz]=vz),n&&(a[gz]=n),r&&(a[bz]=r),i&&(a[TA]=i),s&&(a[_z]=s),Cz(e,wz,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sf.set("previous_websocket_failure",!0);try{let r;gte(),this.mySock=new Sb(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){no.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Sb!==null&&!no.forceDisallow_}static previouslyFailed(){return sf.isInMemoryStorage||sf.get("previous_websocket_failure")===!0}markConnectionHealthy(){sf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fy(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(vt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=bi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hz(n,qde);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($de))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}no.responsesRequiredToBeHealthy=2;no.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static get ALL_TRANSPORTS(){return[gu,no]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=no&&no.isAvailable();let r=n&&!no.previouslyFailed();if(e.webSocketOnly&&(n||ws("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[no];else{const i=this.transports_=[];for(const s of mm.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);mm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zde=6e4,Hde=5e3,Gde=10*1024,Kde=100*1024,pC="t",UF="d",Xde="s",OF="r",Jde="e",LF="o",jF="a",BF="n",VF="p",Yde="h";class Qde{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lv("c:"+this.id+":"),this.transportManager_=new mm(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kde?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gde?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pC in e){const n=e[pC];n===jF?this.upgradeIfSecondaryHealthy_():n===OF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===LF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Jg("t",e),r=Jg("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Jg("t",e),r=Jg("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Jg(pC,e);if(UF in e){const r=e[UF];if(n===Yde){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===BF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Xde?this.onConnectionShutdown_(r):n===OF?this.onReset_(r):n===Jde?wA("Server Error: "+r):n===LF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xk!==r&&ws("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zde))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Hde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.allowedEvents_=e,this.listeners_={},vt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){vt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Rz{static getInstance(){return new Db}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!MN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return vt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=32,qF=768;class qn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Mn(){return new qn("")}function pn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qu(t){return t.pieces_.length-t.pieceNum_}function nr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qn(t.pieces_,e)}function wk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Zde(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Uy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Pz(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qn(e,0)}function Sr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new qn(n,0)}function mn(t){return t.pieceNum_>=t.pieces_.length}function Us(t,e){const n=pn(t),r=pn(e);if(n===null)return e;if(n===r)return Us(nr(t),nr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function efe(t,e){const n=Uy(t,0),r=Uy(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=nh(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Tk(t,e){if(qu(t)!==qu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function io(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qu(t)>qu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class tfe{constructor(e,n){this.errorPrefix_=n,this.parts_=Uy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=v_(this.parts_[r]);Fz(this)}}function nfe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=v_(e),Fz(t)}function rfe(t){const e=t.parts_.pop();t.byteLength_-=v_(e),t.parts_.length>0&&(t.byteLength_-=1)}function Fz(t){if(t.byteLength_>qF)throw new Error(t.errorPrefix_+"has a key path longer than "+qF+" bytes ("+t.byteLength_+").");if(t.parts_.length>WF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+WF+") or object contains a cycle "+Hd(t))}function Hd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends Rz{static getInstance(){return new Ek}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return vt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=1e3,ife=300*1e3,$F=30*1e3,sfe=1.3,afe=3e4,ofe="server_kill",zF=3;class oc extends Iz{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=oc.nextPersistentConnectionId_++,this.log_=Lv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yg,this.maxReconnectDelay_=ife,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ek.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Db.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(bi(s)),vt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new na,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;oc.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Pa(e,"w")){const r=wf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ws(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wte(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$F)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_te(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wA("Unrecognized action received from server: "+bi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){vt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>afe&&(this.reconnectDelay_=Yg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sfe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+oc.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){vt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Bi("getToken() completed but was canceled"):(Bi("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new Qde(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ws(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(ofe)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ws(f),l())}}}interrupt(e){Bi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Bi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],eb(this.interruptReasons_)&&(this.reconnectDelay_=Yg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>vk(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new qn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Bi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zF&&(this.reconnectDelay_=$F,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Bi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+oz.replace(/\./g,"-")]=1,MN()?e["framework.cordova"]=1:y_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Db.getInstance().currentlyOnline();return eb(this.interruptReasons_)&&e}}oc.nextPersistentConnectionId_=0;oc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new bn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new bn(Wu,e),i=new bn(Wu,n);return this.compare(r,i)!==0}minPost(){return bn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cx;class Mz extends ew{static get __EMPTY_NODE(){return Cx}static set __EMPTY_NODE(e){Cx=e}compare(e,n){return nh(e.name,n.name)}isDefinedOn(e){throw Im("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return bn.MIN}maxPost(){return new bn(bc,Cx)}makePost(e,n){return vt(typeof e=="string","KeyIndex indexValue must always be a string."),new bn(e,Cx)}toString(){return".key"}}const Sl=new Mz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ji{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ji.RED,this.left=i??aa.EMPTY_NODE,this.right=s??aa.EMPTY_NODE}copy(e,n,r,i,s){return new ji(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return aa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return aa.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ji.RED=!0;ji.BLACK=!1;class lfe{copy(e,n,r,i,s){return this}insert(e,n,r){return new ji(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class aa{constructor(e,n=aa.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new aa(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ji.BLACK,null,null))}remove(e){return new aa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ji.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Sx(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Sx(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Sx(this.root_,null,this.comparator_,!0,e)}}aa.EMPTY_NODE=new lfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cfe(t,e){return nh(t.name,e.name)}function Ck(t,e){return nh(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EA;function ufe(t){EA=t}const Uz=function(t){return typeof t=="number"?"number:"+pz(t):"string:"+t},Oz=function(t){if(t.isLeafNode()){const e=t.val();vt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pa(e,".sv"),"Priority must be a string or number.")}else vt(t===EA||t.isEmpty(),"priority of unexpected type.");vt(t===EA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HF;class Fi{static set __childrenNodeConstructor(e){HF=e}static get __childrenNodeConstructor(){return HF}constructor(e,n=Fi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,vt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Oz(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mn(e)?this:pn(e)===".priority"?this.priorityNode_:Fi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=pn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(vt(r!==".priority"||qu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fi.__childrenNodeConstructor.EMPTY_NODE.updateChild(nr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Uz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pz(this.value_):e+=this.value_,this.lazyHash_=dz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fi.__childrenNodeConstructor?-1:(vt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fi.VALUE_TYPE_ORDER.indexOf(n),s=Fi.VALUE_TYPE_ORDER.indexOf(r);return vt(i>=0,"Unknown leaf type: "+n),vt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lz,jz;function dfe(t){Lz=t}function ffe(t){jz=t}class hfe extends ew{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?nh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return bn.MIN}maxPost(){return new bn(bc,new Fi("[PRIORITY-POST]",jz))}makePost(e,n){const r=Lz(e);return new bn(n,new Fi("[PRIORITY-POST]",r))}toString(){return".priority"}}const or=new hfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pfe=Math.log(2);class mfe{constructor(e){const n=s=>parseInt(Math.log(s)/pfe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ab=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new ji(h,f.node,ji.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new ji(h,f.node,ji.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,_=f;f-=v;const x=i(y+1,_),w=t[y],C=n?n(w):w;p(new ji(C,w.node,g,null,x))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,ji.BLACK):(h(y,ji.BLACK),h(y,ji.RED))}return u},a=new mfe(t.length),o=s(a);return new aa(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mC;const sp={};class rc{static get Default(){return vt(sp&&or,"ChildrenNode.ts has not been loaded"),mC=mC||new rc({".priority":sp},{".priority":or}),mC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=wf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof aa?n:null}hasIndex(e){return Pa(this.indexSet_,e.toString())}addIndex(e,n){vt(e!==Sl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(bn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=Ab(r,e.getCompare()):o=sp;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new rc(u,c)}addToIndexes(e,n){const r=tb(this.indexes_,(i,s)=>{const a=wf(this.indexSet_,s);if(vt(a,"Missing index implementation for "+s),i===sp)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(bn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Ab(o,a.getCompare())}else return sp;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new bn(e.name,o))),l.insert(e,e.node)}});return new rc(r,this.indexSet_)}removeFromIndexes(e,n){const r=tb(this.indexes_,i=>{if(i===sp)return i;{const s=n.get(e.name);return s?i.remove(new bn(e.name,s)):i}});return new rc(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg;class Jt{static get EMPTY_NODE(){return Qg||(Qg=new Jt(new aa(Ck),null,rc.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Oz(this.priorityNode_),this.children_.isEmpty()&&vt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qg}updatePriority(e){return this.children_.isEmpty()?this:new Jt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qg:n}}getChild(e){const n=pn(e);return n===null?this:this.getImmediateChild(n).getChild(nr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(vt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new bn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Qg:this.priorityNode_;return new Jt(i,a,s)}}updateChild(e,n){const r=pn(e);if(r===null)return n;{vt(pn(e)!==".priority"||qu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(nr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(or,(a,o)=>{n[a]=o.val(e),r++,s&&Jt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Uz(this.getPriority().val())+":"),this.forEachChild(or,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":dz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new bn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new bn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new bn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,bn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,bn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jv?-1:0}withIndex(e){if(e===Sl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Jt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(or),i=n.getIterator(or);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Sl?null:this.indexMap_.get(e.toString())}}Jt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gfe extends Jt{constructor(){super(new aa(Ck),Jt.EMPTY_NODE,rc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}}const jv=new gfe;Object.defineProperties(bn,{MIN:{value:new bn(Wu,Jt.EMPTY_NODE)},MAX:{value:new bn(bc,jv)}});Mz.__EMPTY_NODE=Jt.EMPTY_NODE;Fi.__childrenNodeConstructor=Jt;ufe(jv);ffe(jv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe=!0;function Pr(t,e=null){if(t===null)return Jt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),vt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fi(n,Pr(e))}if(!(t instanceof Array)&&yfe){const n=[];let r=!1;if($i(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Pr(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new bn(a,l)))}}),n.length===0)return Jt.EMPTY_NODE;const s=Ab(n,cfe,a=>a.name,Ck);if(r){const a=Ab(n,or.getCompare());return new Jt(s,Pr(e),new rc({".priority":a},{".priority":or}))}else return new Jt(s,Pr(e),rc.Default)}else{let n=Jt.EMPTY_NODE;return $i(t,(r,i)=>{if(Pa(t,r)&&r.substring(0,1)!=="."){const s=Pr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Pr(e))}}dfe(Pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends ew{constructor(e){super(),this.indexPath_=e,vt(!mn(e)&&pn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?nh(e.name,n.name):s}makePost(e,n){const r=Pr(e),i=Jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new bn(n,i)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,jv);return new bn(bc,e)}toString(){return Uy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe extends ew{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return bn.MIN}maxPost(){return bn.MAX}makePost(e,n){const r=Pr(e);return new bn(n,r)}toString(){return".value"}}const Dk=new vfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t){return{type:"value",snapshotNode:t}}function gm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oy(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ly(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xfe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){vt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Oy(n,o)):vt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(gm(n,r)):a.trackChildChange(Ly(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(or,(i,s)=>{n.hasChild(i)||r.trackChildChange(Oy(i,s))}),n.isLeafNode()||n.forEachChild(or,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Ly(i,s,a))}else r.trackChildChange(gm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Jt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.indexedFilter_=new Ak(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jy.getStartPost_(e),this.endPost_=jy.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new bn(n,r))||(r=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Jt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Jt.EMPTY_NODE);const s=this;return n.forEachChild(or,(a,o)=>{s.matches(new bn(a,o))||(i=i.updateImmediateChild(a,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new jy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new bn(n,r))||(r=Jt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Jt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Jt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Jt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,Jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;vt(o.numChildren()===this.limit_,"");const l=new bn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Ly(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Oy(n,f));const g=o.updateImmediateChild(n,Jt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(gm(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Oy(c.name,c.node)),s.trackChildChange(gm(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,Jt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=or}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return vt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return vt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wu}hasEnd(){return this.endSet_}getIndexEndValue(){return vt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return vt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return vt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===or}copy(){const e=new tw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _fe(t){return t.loadsAllData()?new Ak(t.getIndex()):t.hasLimit()?new bfe(t):new jy(t)}function wfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Tfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function CA(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Efe(t,e,n){let r;return t.index_===Sl||n?r=CA(t,e,n):r=CA(t,e,bc),r.startAfterSet_=!0,r}function SA(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Cfe(t,e,n){let r;return t.index_===Sl||n?r=SA(t,e,n):r=SA(t,e,Wu),r.endBeforeSet_=!0,r}function nw(t,e){const n=t.copy();return n.index_=e,n}function GF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===or?n="$priority":t.index_===Dk?n="$value":t.index_===Sl?n="$key":(vt(t.index_ instanceof Sk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=bi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=bi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+bi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=bi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+bi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function KF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==or&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Iz{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(vt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Lv("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Nb.getListenId_(e,r),o={};this.listens_[a]=o;const l=GF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),wf(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Nb.getListenId_(e,n);delete this.listens_[r]}get(e){const n=GF(e._queryParams),r=e._path.toString(),i=new na;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jf(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=fy(o.responseText)}catch{ws("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&ws("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return{value:null,children:new Map}}function zm(t,e,n){if(mn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=pn(e);t.children.has(r)||t.children.set(r,kb());const i=t.children.get(r);e=nr(e),zm(i,e,n)}}function DA(t,e){if(mn(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(or,(r,i)=>{zm(t,new qn(r),i)}),DA(t,e)}}else if(t.children.size>0){const n=pn(e);return e=nr(e),t.children.has(n)&&DA(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function AA(t,e,n){t.value!==null?n(e,t.value):Dfe(t,(r,i)=>{const s=new qn(e.toString()+"/"+r);AA(i,s,n)})}function Dfe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&$i(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=10*1e3,Nfe=30*1e3,kfe=300*1e3;class Ife{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Afe(e);const r=XF+(Nfe-XF)*Math.random();$0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;$i(e,(i,s)=>{s>0&&Pa(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),$0(this.reportStats_.bind(this),Math.floor(Math.random()*2*kfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mo||(Mo={}));function Nk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ik(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mo.ACK_USER_WRITE,this.source=Nk()}operationForChild(e){if(mn(this.path)){if(this.affectedTree.value!=null)return vt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qn(e));return new Ib(Mn(),n,this.revert)}}else return vt(pn(this.path)===e,"operationForChild called for unrelated child."),new Ib(nr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.source=e,this.path=n,this.type=Mo.LISTEN_COMPLETE}operationForChild(e){return mn(this.path)?new By(this.source,Mn()):new By(this.source,nr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mo.OVERWRITE}operationForChild(e){return mn(this.path)?new Mf(this.source,Mn(),this.snap.getImmediateChild(e)):new Mf(this.source,nr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mo.MERGE}operationForChild(e){if(mn(this.path)){const n=this.children.subtree(new qn(e));return n.isEmpty()?null:n.value?new Mf(this.source,Mn(),n.value):new ym(this.source,Mn(),n)}else return vt(pn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ym(this.source,nr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mn(e))return this.isFullyInitialized()&&!this.filtered_;const n=pn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Pfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(xfe(a.childName,a.snapshotNode))}),Zg(t,i,"child_removed",e,r,n),Zg(t,i,"child_added",e,r,n),Zg(t,i,"child_moved",s,r,n),Zg(t,i,"child_changed",e,r,n),Zg(t,i,"value",e,r,n),i}function Zg(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>Mfe(t,o,l)),a.forEach(o=>{const l=Ffe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function Ffe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Mfe(t,e,n){if(e.childName==null||n.childName==null)throw Im("Should only compare child_ events.");const r=new bn(e.childName,e.snapshotNode),i=new bn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){return{eventCache:t,serverCache:e}}function z0(t,e,n,r){return rw(new $u(e,n,r),t.serverCache)}function Vz(t,e,n,r){return rw(t.eventCache,new $u(e,n,r))}function Rb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Uf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gC;const Ufe=()=>(gC||(gC=new aa(vde)),gC);class sr{static fromObject(e){let n=new sr(null);return $i(e,(r,i)=>{n=n.set(new qn(r),i)}),n}constructor(e,n=Ufe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Mn(),value:this.value};if(mn(e))return null;{const r=pn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(nr(e),n);return s!=null?{path:Sr(new qn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(mn(e))return this;{const n=pn(e),r=this.children.get(n);return r!==null?r.subtree(nr(e)):new sr(null)}}set(e,n){if(mn(e))return new sr(n,this.children);{const r=pn(e),s=(this.children.get(r)||new sr(null)).set(nr(e),n),a=this.children.insert(r,s);return new sr(this.value,a)}}remove(e){if(mn(e))return this.children.isEmpty()?new sr(null):new sr(null,this.children);{const n=pn(e),r=this.children.get(n);if(r){const i=r.remove(nr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new sr(null):new sr(this.value,s)}else return this}}get(e){if(mn(e))return this.value;{const n=pn(e),r=this.children.get(n);return r?r.get(nr(e)):null}}setTree(e,n){if(mn(e))return n;{const r=pn(e),s=(this.children.get(r)||new sr(null)).setTree(nr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new sr(this.value,a)}}fold(e){return this.fold_(Mn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Sr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Mn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(mn(e))return null;{const s=pn(e),a=this.children.get(s);return a?a.findOnPath_(nr(e),Sr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Mn(),n)}foreachOnPath_(e,n,r){if(mn(e))return this;{this.value&&r(n,this.value);const i=pn(e),s=this.children.get(i);return s?s.foreachOnPath_(nr(e),Sr(n,i),r):new sr(null)}}foreach(e){this.foreach_(Mn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Sr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.writeTree_=e}static empty(){return new Bo(new sr(null))}}function H0(t,e,n){if(mn(e))return new Bo(new sr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Us(i,e);return s=s.updateChild(a,n),new Bo(t.writeTree_.set(i,s))}else{const i=new sr(n),s=t.writeTree_.setTree(e,i);return new Bo(s)}}}function NA(t,e,n){let r=t;return $i(n,(i,s)=>{r=H0(r,Sr(e,i),s)}),r}function JF(t,e){if(mn(e))return Bo.empty();{const n=t.writeTree_.setTree(e,new sr(null));return new Bo(n)}}function kA(t,e){return rh(t,e)!=null}function rh(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Us(n.path,e)):null}function YF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(or,(r,i)=>{e.push(new bn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new bn(r,i.value))}),e}function Nu(t,e){if(mn(e))return t;{const n=rh(t,e);return n!=null?new Bo(new sr(n)):new Bo(t.writeTree_.subtree(e))}}function IA(t){return t.writeTree_.isEmpty()}function vm(t,e){return Wz(Mn(),t.writeTree_,e)}function Wz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(vt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Wz(Sr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Sr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){return Hz(e,t)}function Ofe(t,e,n,r,i){vt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=H0(t.visibleWrites,e,n)),t.lastWriteId=r}function Lfe(t,e,n,r){vt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=NA(t.visibleWrites,e,n),t.lastWriteId=r}function jfe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Bfe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);vt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&Vfe(o,r.path)?i=!1:io(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return Wfe(t),!0;if(r.snap)t.visibleWrites=JF(t.visibleWrites,r.path);else{const o=r.children;$i(o,l=>{t.visibleWrites=JF(t.visibleWrites,Sr(r.path,l))})}return!0}else return!1}function Vfe(t,e){if(t.snap)return io(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&io(Sr(t.path,n),e))return!0;return!1}function Wfe(t){t.visibleWrites=qz(t.allWrites,qfe,Mn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qfe(t){return t.visible}function qz(t,e,n){let r=Bo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)io(n,a)?(o=Us(n,a),r=H0(r,o,s.snap)):io(a,n)&&(o=Us(a,n),r=H0(r,Mn(),s.snap.getChild(o)));else if(s.children){if(io(n,a))o=Us(n,a),r=NA(r,o,s.children);else if(io(a,n))if(o=Us(a,n),mn(o))r=NA(r,Mn(),s.children);else{const l=wf(s.children,pn(o));if(l){const c=l.getChild(nr(o));r=H0(r,Mn(),c)}}}else throw Im("WriteRecord should have .snap or .children")}}return r}function $z(t,e,n,r,i){if(!r&&!i){const s=rh(t.visibleWrites,e);if(s!=null)return s;{const a=Nu(t.visibleWrites,e);if(IA(a))return n;if(n==null&&!kA(a,Mn()))return null;{const o=n||Jt.EMPTY_NODE;return vm(a,o)}}}else{const s=Nu(t.visibleWrites,e);if(!i&&IA(s))return n;if(!i&&n==null&&!kA(s,Mn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(io(c.path,e)||io(e,c.path))},o=qz(t.allWrites,a,e),l=n||Jt.EMPTY_NODE;return vm(o,l)}}}function $fe(t,e,n){let r=Jt.EMPTY_NODE;const i=rh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(or,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Nu(t.visibleWrites,e);return n.forEachChild(or,(a,o)=>{const l=vm(Nu(s,new qn(a)),o);r=r.updateImmediateChild(a,l)}),YF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Nu(t.visibleWrites,e);return YF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function zfe(t,e,n,r,i){vt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Sr(e,n);if(kA(t.visibleWrites,s))return null;{const a=Nu(t.visibleWrites,s);return IA(a)?i.getChild(n):vm(a,i.getChild(n))}}function Hfe(t,e,n,r){const i=Sr(e,n),s=rh(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Nu(t.visibleWrites,i);return vm(a,r.getNode().getImmediateChild(n))}else return null}function Gfe(t,e){return rh(t.visibleWrites,e)}function Kfe(t,e,n,r,i,s,a){let o;const l=Nu(t.visibleWrites,e),c=rh(l,Mn());if(c!=null)o=c;else if(n!=null)o=vm(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Xfe(){return{visibleWrites:Bo.empty(),allWrites:[],lastWriteId:-1}}function Pb(t,e,n,r){return $z(t.writeTree,t.treePath,e,n,r)}function Rk(t,e){return $fe(t.writeTree,t.treePath,e)}function QF(t,e,n,r){return zfe(t.writeTree,t.treePath,e,n,r)}function Fb(t,e){return Gfe(t.writeTree,Sr(t.treePath,e))}function Jfe(t,e,n,r,i,s){return Kfe(t.writeTree,t.treePath,e,n,r,i,s)}function Pk(t,e,n){return Hfe(t.writeTree,t.treePath,e,n)}function zz(t,e){return Hz(Sr(t.treePath,e),t.writeTree)}function Hz(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;vt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),vt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ly(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Oy(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ly(r,e.snapshotNode,i.oldSnap));else throw Im("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Gz=new Qfe;class Fk{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $u(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pk(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Uf(this.viewCache_),s=Jfe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zfe(t){return{filter:t}}function ehe(t,e){vt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),vt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function the(t,e,n,r,i){const s=new Yfe;let a,o;if(n.type===Mo.OVERWRITE){const c=n;c.source.fromUser?a=RA(t,e,c.path,c.snap,r,i,s):(vt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!mn(c.path),a=Mb(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===Mo.MERGE){const c=n;c.source.fromUser?a=rhe(t,e,c.path,c.children,r,i,s):(vt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=PA(t,e,c.path,c.children,r,i,o,s))}else if(n.type===Mo.ACK_USER_WRITE){const c=n;c.revert?a=ahe(t,e,c.path,r,i,s):a=ihe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Mo.LISTEN_COMPLETE)a=she(t,e,n.path,r,s);else throw Im("Unknown operation type: "+n.type);const l=s.getChanges();return nhe(e,a,l),{viewCache:a,changes:l}}function nhe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Bz(Rb(e)))}}function Kz(t,e,n,r,i,s){const a=e.eventCache;if(Fb(r,n)!=null)return e;{let o,l;if(mn(n))if(vt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Uf(e),u=c instanceof Jt?c:Jt.EMPTY_NODE,f=Rk(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Pb(r,Uf(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=pn(n);if(c===".priority"){vt(qu(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=QF(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=nr(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=QF(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=Pk(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return z0(e,o,a.isFullyInitialized()||mn(n),t.filter.filtersNodes())}}function Mb(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(mn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=pn(n);if(!l.isCompleteForPath(n)&&qu(n)>1)return e;const v=nr(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,Gz,null)}const f=Vz(e,c,l.isFullyInitialized()||mn(n),u.filtersNodes()),h=new Fk(i,f,s);return Kz(t,f,n,i,h,o)}function RA(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new Fk(i,e,s);if(mn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=z0(e,c,!0,t.filter.filtersNodes());else{const f=pn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=z0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=nr(n),p=o.getNode().getImmediateChild(f);let v;if(mn(h))v=r;else{const g=u.getCompleteChild(f);g!=null?wk(h)===".priority"&&g.getChild(Pz(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=Jt.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=z0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ZF(t,e){return t.eventCache.isCompleteForChild(e)}function rhe(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=Sr(n,l);ZF(e,pn(u))&&(o=RA(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=Sr(n,l);ZF(e,pn(u))||(o=RA(t,o,u,c,i,s,a))}),o}function e9(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function PA(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;mn(n)?c=r:c=new sr(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=e9(t,p,h);l=Mb(t,l,new qn(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=e9(t,v,h);l=Mb(t,l,new qn(f),g,i,s,a,o)}}),l}function ihe(t,e,n,r,i,s,a){if(Fb(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(mn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Mb(t,e,n,l.getNode().getChild(n),i,s,o,a);if(mn(n)){let c=new sr(null);return l.getNode().forEachChild(Sl,(u,f)=>{c=c.set(new qn(u),f)}),PA(t,e,n,c,i,s,o,a)}else return e}else{let c=new sr(null);return r.foreach((u,f)=>{const h=Sr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),PA(t,e,n,c,i,s,o,a)}}function she(t,e,n,r,i){const s=e.serverCache,a=Vz(e,s.getNode(),s.isFullyInitialized()||mn(n),s.isFiltered());return Kz(t,a,n,r,Gz,i)}function ahe(t,e,n,r,i,s){let a;if(Fb(r,n)!=null)return e;{const o=new Fk(r,e,i),l=e.eventCache.getNode();let c;if(mn(n)||pn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Pb(r,Uf(e));else{const f=e.serverCache.getNode();vt(f instanceof Jt,"serverChildren would be complete if leaf node"),u=Rk(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=pn(n);let f=Pk(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,nr(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Jt.EMPTY_NODE,nr(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Pb(r,Uf(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||Fb(r,Mn())!=null,z0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ohe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ak(r.getIndex()),s=_fe(r);this.processor_=Zfe(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(Jt.EMPTY_NODE,o.getNode(),null),u=new $u(l,a.isFullyInitialized(),i.filtersNodes()),f=new $u(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=rw(f,u),this.eventGenerator_=new Rfe(this.query_)}get query(){return this.query_}}function lhe(t){return t.viewCache_.serverCache.getNode()}function che(t){return Rb(t.viewCache_)}function uhe(t,e){const n=Uf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mn(e)&&!n.getImmediateChild(pn(e)).isEmpty())?n.getChild(e):null}function t9(t){return t.eventRegistrations_.length===0}function dhe(t,e){t.eventRegistrations_.push(e)}function n9(t,e,n){const r=[];if(n){vt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function r9(t,e,n,r){e.type===Mo.MERGE&&e.source.queryId!==null&&(vt(Uf(t.viewCache_),"We should always have a full cache before handling merges"),vt(Rb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=the(t.processor_,i,e,n,r);return ehe(t.processor_,s.viewCache),vt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Xz(t,s.changes,s.viewCache.eventCache.getNode(),null)}function fhe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(or,(s,a)=>{r.push(gm(s,a))}),n.isFullyInitialized()&&r.push(Bz(n.getNode())),Xz(t,r,n.getNode(),e)}function Xz(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Pfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub;class Jz{constructor(){this.views=new Map}}function hhe(t){vt(!Ub,"__referenceConstructor has already been defined"),Ub=t}function phe(){return vt(Ub,"Reference.ts has not been loaded"),Ub}function mhe(t){return t.views.size===0}function Mk(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return vt(s!=null,"SyncTree gave us an op for an invalid query."),r9(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(r9(a,e,n,r));return s}}function Yz(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=Pb(n,i?r:null),l=!1;o?l=!0:r instanceof Jt?(o=Rk(n,r),l=!1):(o=Jt.EMPTY_NODE,l=!1);const c=rw(new $u(o,l,!1),new $u(r,i,!1));return new ohe(e,c)}return a}function ghe(t,e,n,r,i,s){const a=Yz(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),dhe(a,n),fhe(a,n)}function yhe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=zu(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(n9(c,n,r)),t9(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(n9(l,n,r)),t9(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!zu(t)&&s.push(new(phe())(e._repo,e._path)),{removed:s,events:a}}function Qz(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ku(t,e){let n=null;for(const r of t.views.values())n=n||uhe(r,e);return n}function Zz(t,e){if(e._queryParams.loadsAllData())return sw(t);{const r=e._queryIdentifier;return t.views.get(r)}}function eH(t,e){return Zz(t,e)!=null}function zu(t){return sw(t)!=null}function sw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob;function vhe(t){vt(!Ob,"__referenceConstructor has already been defined"),Ob=t}function xhe(){return vt(Ob,"Reference.ts has not been loaded"),Ob}let bhe=1;class i9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new sr(null),this.pendingWriteTree_=Xfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uk(t,e,n,r,i){return Ofe(t.pendingWriteTree_,e,n,r,i),i?Hm(t,new Mf(Nk(),e,n)):[]}function _he(t,e,n,r){Lfe(t.pendingWriteTree_,e,n,r);const i=sr.fromObject(n);return Hm(t,new ym(Nk(),e,i))}function yu(t,e,n=!1){const r=jfe(t.pendingWriteTree_,e);if(Bfe(t.pendingWriteTree_,e)){let s=new sr(null);return r.snap!=null?s=s.set(Mn(),!0):$i(r.children,a=>{s=s.set(new qn(a),!0)}),Hm(t,new Ib(r.path,s,n))}else return[]}function Bv(t,e,n){return Hm(t,new Mf(kk(),e,n))}function whe(t,e,n){const r=sr.fromObject(n);return Hm(t,new ym(kk(),e,r))}function The(t,e){return Hm(t,new By(kk(),e))}function Ehe(t,e,n){const r=Ok(t,n);if(r){const i=Lk(r),s=i.path,a=i.queryId,o=Us(s,e),l=new By(Ik(a),o);return jk(t,s,l)}else return[]}function Lb(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||eH(a,e))){const l=yhe(a,e,n,r);mhe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>zu(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=Dhe(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,_=iH(t,g);t.listenProvider_.startListening(G0(y),Vy(t,y),_.hashFn,_.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(G0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(ow(h));t.listenProvider_.stopListening(G0(h),p)}))}Ahe(t,c)}return o}function tH(t,e,n,r){const i=Ok(t,r);if(i!=null){const s=Lk(i),a=s.path,o=s.queryId,l=Us(a,e),c=new Mf(Ik(o),l,n);return jk(t,a,c)}else return[]}function Che(t,e,n,r){const i=Ok(t,r);if(i){const s=Lk(i),a=s.path,o=s.queryId,l=Us(a,e),c=sr.fromObject(n),u=new ym(Ik(o),l,c);return jk(t,a,u)}else return[]}function FA(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=Us(h,i);s=s||ku(p,v),a=a||zu(p)});let o=t.syncPointTree_.get(i);o?(a=a||zu(o),s=s||ku(o,Mn())):(o=new Jz,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=Jt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=ku(v,Mn());g&&(s=s.updateImmediateChild(p,g))}));const c=eH(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=ow(e);vt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Nhe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=iw(t.pendingWriteTree_,i);let f=ghe(o,e,n,u,s,l);if(!c&&!a&&!r){const h=Zz(o,e);f=f.concat(khe(t,e,h))}return f}function aw(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Us(a,e),c=ku(o,l);if(c)return c});return $z(i,e,s,n,!0)}function She(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Us(c,n);r=r||ku(u,f)});let i=t.syncPointTree_.get(n);i?r=r||ku(i,Mn()):(i=new Jz,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new $u(r,!0,!1):null,o=iw(t.pendingWriteTree_,e._path),l=Yz(i,e,o,s?a.getNode():Jt.EMPTY_NODE,s);return che(l)}function Hm(t,e){return nH(e,t.syncPointTree_,null,iw(t.pendingWriteTree_,Mn()))}function nH(t,e,n,r){if(mn(t.path))return rH(t,e,n,r);{const i=e.get(Mn());n==null&&i!=null&&(n=ku(i,Mn()));let s=[];const a=pn(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=zz(r,a);s=s.concat(nH(o,l,c,u))}return i&&(s=s.concat(Mk(i,t,r,n))),s}}function rH(t,e,n,r){const i=e.get(Mn());n==null&&i!=null&&(n=ku(i,Mn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=zz(r,a),u=t.operationForChild(a);u&&(s=s.concat(rH(u,o,l,c)))}),i&&(s=s.concat(Mk(i,t,r,n))),s}function iH(t,e){const n=e.query,r=Vy(t,n);return{hashFn:()=>(lhe(e)||Jt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ehe(t,n._path,r):The(t,n._path);{const s=_de(i,n);return Lb(t,n,null,s)}}}}function Vy(t,e){const n=ow(e);return t.queryToTagMap.get(n)}function ow(t){return t._path.toString()+"$"+t._queryIdentifier}function Ok(t,e){return t.tagToQueryMap.get(e)}function Lk(t){const e=t.indexOf("$");return vt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qn(t.substr(0,e))}}function jk(t,e,n){const r=t.syncPointTree_.get(e);vt(r,"Missing sync point for query tag that we're tracking");const i=iw(t.pendingWriteTree_,e);return Mk(r,n,i,null)}function Dhe(t){return t.fold((e,n,r)=>{if(n&&zu(n))return[sw(n)];{let i=[];return n&&(i=Qz(n)),$i(r,(s,a)=>{i=i.concat(a)}),i}})}function G0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xhe())(t._repo,t._path):t}function Ahe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ow(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Nhe(){return bhe++}function khe(t,e,n){const r=e._path,i=Vy(t,e),s=iH(t,n),a=t.listenProvider_.startListening(G0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)vt(!zu(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!mn(c)&&u&&zu(u))return[sw(u).query];{let h=[];return u&&(h=h.concat(Qz(u).map(p=>p.query))),$i(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(G0(u),Vy(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bk(n)}node(){return this.node_}}class Vk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Sr(this.path_,e);return new Vk(this.syncTree_,n)}node(){return aw(this.syncTree_,this.path_)}}const Ihe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},s9=function(t,e,n){if(!t||typeof t!="object")return t;if(vt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Rhe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Phe(t[".sv"],e);vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Rhe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:vt(!1,"Unexpected server value: "+t)}},Phe=function(t,e,n){t.hasOwnProperty("increment")||vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&vt(!1,"Unexpected increment value: "+r);const i=e.node();if(vt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},sH=function(t,e,n,r){return qk(e,new Vk(n,t),r)},Wk=function(t,e,n){return qk(t,new Bk(e),n)};function qk(t,e,n){const r=t.getPriority().val(),i=s9(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=s9(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Fi(o,Pr(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Fi(i))),a.forEachChild(or,(o,l)=>{const c=qk(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function lw(t,e){let n=e instanceof qn?e:new qn(e),r=t,i=pn(n);for(;i!==null;){const s=wf(r.node.children,i)||{children:{},childCount:0};r=new $k(i,r,s),n=nr(n),i=pn(n)}return r}function ih(t){return t.node.value}function zk(t,e){t.node.value=e,MA(t)}function aH(t){return t.node.childCount>0}function Fhe(t){return ih(t)===void 0&&!aH(t)}function cw(t,e){$i(t.node.children,(n,r)=>{e(new $k(n,t,r))})}function oH(t,e,n,r){n&&e(t),cw(t,i=>{oH(i,e,!0)})}function Mhe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vv(t){return new qn(t.parent===null?t.name:Vv(t.parent)+"/"+t.name)}function MA(t){t.parent!==null&&Uhe(t.parent,t.name,t)}function Uhe(t,e,n){const r=Fhe(n),i=Pa(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,MA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,MA(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=/[\[\].#$\/\u0000-\u001F\u007F]/,Lhe=/[\[\].#$\u0000-\u001F\u007F]/,yC=10*1024*1024,uw=function(t){return typeof t=="string"&&t.length!==0&&!Ohe.test(t)},lH=function(t){return typeof t=="string"&&t.length!==0&&!Lhe.test(t)},jhe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lH(t)},Wy=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Z_(t)||t&&typeof t=="object"&&Pa(t,".sv")},Rl=function(t,e,n,r){r&&e===void 0||Wv(oa(t,"value"),e,n)},Wv=function(t,e,n){const r=n instanceof qn?new tfe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Hd(r));if(typeof e=="function")throw new Error(t+"contains a function "+Hd(r)+" with contents = "+e.toString());if(Z_(e))throw new Error(t+"contains "+e.toString()+" "+Hd(r));if(typeof e=="string"&&e.length>yC/3&&v_(e)>yC)throw new Error(t+"contains a string greater than "+yC+" utf8 bytes "+Hd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if($i(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!uw(a)))throw new Error(t+" contains an invalid key ("+a+") "+Hd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nfe(r,a),Wv(t,o,r),rfe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Hd(r)+" in addition to actual children.")}},Bhe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Uy(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!uw(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(efe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&io(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},cH=function(t,e,n,r){const i=oa(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];$i(e,(a,o)=>{const l=new qn(a);if(Wv(i,o,Sr(n,l)),wk(l)===".priority"&&!Wy(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Bhe(i,s)},Hk=function(t,e,n){if(Z_(e))throw new Error(oa(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wy(e))throw new Error(oa(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},qv=function(t,e,n,r){if(n!==void 0&&!uw(n))throw new Error(oa(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},qy=function(t,e,n,r){if(!lH(n))throw new Error(oa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Vhe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qy(t,e,n)},so=function(t,e){if(pn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jhe(n))throw new Error(oa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Tk(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function dH(t,e,n){dw(t,n),fH(t,r=>Tk(r,e))}function Ma(t,e,n){dw(t,n),fH(t,r=>io(r,e)||io(e,r))}function fH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(qhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qhe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();pf&&Bi("event: "+n.toString()),$m(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="repo_interrupt",$he=25;class zhe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Whe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kb(),this.transactionQueueTree_=new $k,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hhe(t,e,n){if(t.stats_=bk(t.repoInfo_),t.forceRestClient_||Cde())t.server_=new Nb(t.repoInfo_,(r,i,s,a)=>{a9(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>o9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new oc(t.repoInfo_,e,(r,i,s,a)=>{a9(t,r,i,s,a)},r=>{o9(t,r)},r=>{Ghe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kde(t.repoInfo_,()=>new Ife(t.stats_,t.server_)),t.infoData_=new Sfe,t.infoSyncTree_=new i9({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=Bv(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),Gk(t,"connected",!1),t.serverSyncTree_=new i9({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Ma(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function pH(t){const n=t.infoData_.getNode(new qn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $v(t){return Ihe({timestamp:pH(t)})}function a9(t,e,n,r,i){t.dataUpdateCount++;const s=new qn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=tb(n,c=>Pr(c));a=Che(t.serverSyncTree_,s,l,i)}else{const l=Pr(n);a=tH(t.serverSyncTree_,s,l,i)}else if(r){const l=tb(n,c=>Pr(c));a=whe(t.serverSyncTree_,s,l)}else{const l=Pr(n);a=Bv(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=xm(t,s)),Ma(t.eventQueue_,o,a)}function o9(t,e){Gk(t,"connected",e),e===!1&&Jhe(t)}function Ghe(t,e){$i(e,(n,r)=>{Gk(t,n,r)})}function Gk(t,e,n){const r=new qn("/.info/"+e),i=Pr(n);t.infoData_.updateSnapshot(r,i);const s=Bv(t.infoSyncTree_,r,i);Ma(t.eventQueue_,r,s)}function fw(t){return t.nextWriteId_++}function Khe(t,e,n){const r=She(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Pr(i).withIndex(e._queryParams.getIndex());FA(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Bv(t.serverSyncTree_,e._path,s);else{const o=Vy(t.serverSyncTree_,e);a=tH(t.serverSyncTree_,e._path,s,o)}return Ma(t.eventQueue_,e._path,a),Lb(t.serverSyncTree_,e,n,null,!0),s},i=>(Gm(t,"get for query "+bi(e)+" failed: "+i),Promise.reject(new Error(i))))}function Kk(t,e,n,r,i){Gm(t,"set",{path:e.toString(),value:n,priority:r});const s=$v(t),a=Pr(n,r),o=aw(t.serverSyncTree_,e),l=Wk(a,o,s),c=fw(t),u=Uk(t.serverSyncTree_,e,l,c,!0);dw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||ws("set at "+e+" failed: "+h);const g=yu(t.serverSyncTree_,c,!v);Ma(t.eventQueue_,e,g),Hu(t,i,h,p)});const f=Jk(t,e);xm(t,f),Ma(t.eventQueue_,f,[])}function Xhe(t,e,n,r){Gm(t,"update",{path:e.toString(),value:n});let i=!0;const s=$v(t),a={};if($i(n,(o,l)=>{i=!1,a[o]=sH(Sr(e,o),Pr(l),t.serverSyncTree_,s)}),i)Bi("update() called with empty data.  Don't do anything."),Hu(t,r,"ok",void 0);else{const o=fw(t),l=_he(t.serverSyncTree_,e,a,o);dw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||ws("update at "+e+" failed: "+c);const h=yu(t.serverSyncTree_,o,!f),p=h.length>0?xm(t,e):e;Ma(t.eventQueue_,p,h),Hu(t,r,c,u)}),$i(n,c=>{const u=Jk(t,Sr(e,c));xm(t,u)}),Ma(t.eventQueue_,e,[])}}function Jhe(t){Gm(t,"onDisconnectEvents");const e=$v(t),n=kb();AA(t.onDisconnect_,Mn(),(i,s)=>{const a=sH(i,s,t.serverSyncTree_,e);zm(n,i,a)});let r=[];AA(n,Mn(),(i,s)=>{r=r.concat(Bv(t.serverSyncTree_,i,s));const a=Jk(t,i);xm(t,a)}),t.onDisconnect_=kb(),Ma(t.eventQueue_,Mn(),r)}function Yhe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&DA(t.onDisconnect_,e),Hu(t,n,r,i)})}function l9(t,e,n,r){const i=Pr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&zm(t.onDisconnect_,e,i),Hu(t,r,s,a)})}function Qhe(t,e,n,r,i){const s=Pr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&zm(t.onDisconnect_,e,s),Hu(t,i,a,o)})}function Zhe(t,e,n,r){if(eb(n)){Bi("onDisconnect().update() called with empty data.  Don't do anything."),Hu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&$i(n,(a,o)=>{const l=Pr(o);zm(t.onDisconnect_,Sr(e,a),l)}),Hu(t,r,i,s)})}function epe(t,e,n){let r;pn(e._path)===".info"?r=FA(t.infoSyncTree_,e,n):r=FA(t.serverSyncTree_,e,n),dH(t.eventQueue_,e._path,r)}function UA(t,e,n){let r;pn(e._path)===".info"?r=Lb(t.infoSyncTree_,e,n):r=Lb(t.serverSyncTree_,e,n),dH(t.eventQueue_,e._path,r)}function mH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hH)}function tpe(t){t.persistentConnection_&&t.persistentConnection_.resume(hH)}function Gm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Bi(n,...e)}function Hu(t,e,n,r){e&&$m(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function npe(t,e,n,r,i,s){Gm(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:uz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=Xk(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Wv("transaction failed: Data returned ",l,a.path),a.status=0;const c=lw(t.transactionQueueTree_,e),u=ih(c)||[];u.push(a),zk(c,u);let f;typeof l=="object"&&l!==null&&Pa(l,".priority")?(f=wf(l,".priority"),vt(Wy(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(aw(t.serverSyncTree_,e)||Jt.EMPTY_NODE).getPriority().val();const h=$v(t),p=Pr(l,f),v=Wk(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=fw(t);const g=Uk(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Ma(t.eventQueue_,e,g),hw(t,t.transactionQueueTree_)}}function Xk(t,e,n){return aw(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function hw(t,e=t.transactionQueueTree_){if(e||pw(t,e),ih(e)){const n=yH(t,e);vt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rpe(t,Vv(e),n)}else aH(e)&&cw(e,n=>{hw(t,n)})}function rpe(t,e,n){const r=n.map(c=>c.currentWriteId),i=Xk(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];vt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Us(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{Gm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(yu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();pw(t,lw(t.transactionQueueTree_,e)),hw(t,t.transactionQueueTree_),Ma(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)$m(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ws("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}xm(t,e)}},a)}function xm(t,e){const n=gH(t,e),r=Vv(n),i=yH(t,n);return ipe(t,i,r),r}function ipe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Us(n,l.path);let u=!1,f;if(vt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(yu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=$he)u=!0,f="maxretry",i=i.concat(yu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Xk(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){Wv("transaction failed: Data returned ",p,l.path);let v=Pr(p);typeof p=="object"&&p!=null&&Pa(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,_=$v(t),x=Wk(v,h,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=x,l.currentWriteId=fw(t),a.splice(a.indexOf(y),1),i=i.concat(Uk(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(yu(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(yu(t.serverSyncTree_,l.currentWriteId,!0))}Ma(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}pw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)$m(r[o]);hw(t,t.transactionQueueTree_)}function gH(t,e){let n,r=t.transactionQueueTree_;for(n=pn(e);n!==null&&ih(r)===void 0;)r=lw(r,n),e=nr(e),n=pn(e);return r}function yH(t,e){const n=[];return vH(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vH(t,e,n){const r=ih(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);cw(e,i=>{vH(t,i,n)})}function pw(t,e){const n=ih(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zk(e,n.length>0?n:void 0)}cw(e,r=>{pw(t,r)})}function Jk(t,e){const n=Vv(gH(t,e)),r=lw(t.transactionQueueTree_,e);return Mhe(r,i=>{vC(t,i)}),vC(t,r),oH(r,i=>{vC(t,i)}),n}function vC(t,e){const n=ih(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(vt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(vt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(yu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zk(e,void 0):n.length=s+1,Ma(t.eventQueue_,Vv(e),i);for(let a=0;a<r.length;a++)$m(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function spe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ape(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ws(`Invalid query segment '${n}' in query '${t}'`)}return e}const OA=function(t,e){const n=ope(t),r=n.namespace;n.domain==="firebase.com"&&Il(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Il("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gde();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ez(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new qn(n.pathString)}},ope=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=spe(t.substring(u,f)));const h=ape(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lpe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=c9.charAt(n%64),n=Math.floor(n/64);vt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=c9.charAt(e[i]);return vt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bi(this.snapshot.exportVal())}}class bH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return vt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cpe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new na;return Yhe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){so("OnDisconnect.remove",this._path);const e=new na;return l9(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){so("OnDisconnect.set",this._path),Rl("OnDisconnect.set",e,this._path,!1);const n=new na;return l9(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){so("OnDisconnect.setWithPriority",this._path),Rl("OnDisconnect.setWithPriority",e,this._path,!1),Hk("OnDisconnect.setWithPriority",n);const r=new na;return Qhe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){so("OnDisconnect.update",this._path),cH("OnDisconnect.update",e,this._path);const n=new na;return Zhe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return mn(this._path)?null:wk(this._path)}get ref(){return new mo(this._repo,this._path)}get _queryIdentifier(){const e=KF(this._queryParams),n=vk(e);return n==="{}"?"default":n}get _queryObject(){return KF(this._queryParams)}isEqual(e){if(e=kt(e),!(e instanceof pa))return!1;const n=this._repo===e._repo,r=Tk(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zde(this._path)}}function mw(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function sd(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Sl){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Wu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==bc)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===or){if(e!=null&&!Wy(e)||n!=null&&!Wy(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vt(t.getIndex()instanceof Sk||t.getIndex()===Dk,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class mo extends pa{constructor(e,n){super(e,n,new tw,!1)}get parent(){const e=Pz(this._path);return e===null?null:new mo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let yw=class LA{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new qn(e),r=Of(this.ref,e);return new LA(this._node.getChild(n),r,or)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new LA(i,Of(this.ref,r),or)))}hasChild(e){const n=new qn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function _H(t,e){return t=kt(t),t._checkNotDeleted("ref"),e!==void 0?Of(t._root,e):t._root}function u9(t,e){t=kt(t),t._checkNotDeleted("refFromURL");const n=OA(e,t._repo.repoInfo_.nodeAdmin);uH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Il("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),_H(t,n.path.toString())}function Of(t,e){return t=kt(t),pn(t._path)===null?Vhe("child","path",e):qy("child","path",e),new mo(t._repo,Sr(t._path,e))}function upe(t,e){t=kt(t),so("push",t._path),Rl("push",e,t._path,!0);const n=pH(t._repo),r=lpe(n),i=Of(t,r),s=Of(t,r);let a;return e!=null?a=Qk(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function dpe(t){return so("remove",t._path),Qk(t,null)}function Qk(t,e){t=kt(t),so("set",t._path),Rl("set",e,t._path,!1);const n=new na;return Kk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function fpe(t,e){t=kt(t),so("setPriority",t._path),Hk("setPriority",e);const n=new na;return Kk(t._repo,Sr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function hpe(t,e,n){if(so("setWithPriority",t._path),Rl("setWithPriority",e,t._path,!1),Hk("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new na;return Kk(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function ppe(t,e){cH("update",e,t._path);const n=new na;return Xhe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function mpe(t){t=kt(t);const e=new Yk(()=>{}),n=new zv(e);return Khe(t._repo,t,n).then(r=>new yw(r,new mo(t._repo,t._path),t._queryParams.getIndex()))}class zv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new xH("value",this,new yw(e.snapshotNode,new mo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bH(this,e,n):null}matches(e){return e instanceof zv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class vw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bH(this,e,n):null}createEvent(e,n){vt(e.childName!=null,"Child events should have a childName.");const r=Of(new mo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new xH(e.type,this,new yw(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof vw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Hv(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{UA(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new Yk(n,s||void 0),o=e==="value"?new zv(a):new vw(e,a);return epe(t._repo,t,o),()=>UA(t._repo,t,o)}function jA(t,e,n,r){return Hv(t,"value",e,n,r)}function d9(t,e,n,r){return Hv(t,"child_added",e,n,r)}function f9(t,e,n,r){return Hv(t,"child_changed",e,n,r)}function h9(t,e,n,r){return Hv(t,"child_moved",e,n,r)}function p9(t,e,n,r){return Hv(t,"child_removed",e,n,r)}function m9(t,e,n){let r=null;const i=n?new Yk(n):null;e==="value"?r=new zv(i):e&&(r=new vw(e,i)),UA(t._repo,t,r)}class Ho{}class wH extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Rl("endAt",this._value,e._path,!0);const n=SA(e._queryParams,this._value,this._key);if(gw(n),sd(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pa(e._repo,e._path,n,e._orderByCalled)}}function gpe(t,e){return qv("endAt","key",e),new wH(t,e)}class ype extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Rl("endBefore",this._value,e._path,!1);const n=Cfe(e._queryParams,this._value,this._key);if(gw(n),sd(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pa(e._repo,e._path,n,e._orderByCalled)}}function vpe(t,e){return qv("endBefore","key",e),new ype(t,e)}class TH extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Rl("startAt",this._value,e._path,!0);const n=CA(e._queryParams,this._value,this._key);if(gw(n),sd(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new pa(e._repo,e._path,n,e._orderByCalled)}}function xpe(t=null,e){return qv("startAt","key",e),new TH(t,e)}class bpe extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Rl("startAfter",this._value,e._path,!1);const n=Efe(e._queryParams,this._value,this._key);if(gw(n),sd(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new pa(e._repo,e._path,n,e._orderByCalled)}}function _pe(t,e){return qv("startAfter","key",e),new bpe(t,e)}class wpe extends Ho{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new pa(e._repo,e._path,wfe(e._queryParams,this._limit),e._orderByCalled)}}function Tpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wpe(t)}class Epe extends Ho{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new pa(e._repo,e._path,Tfe(e._queryParams,this._limit),e._orderByCalled)}}function Cpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Epe(t)}class Spe extends Ho{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){mw(e,"orderByChild");const n=new qn(this._path);if(mn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Sk(n),i=nw(e._queryParams,r);return sd(i),new pa(e._repo,e._path,i,!0)}}function Dpe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qy("orderByChild","path",t),new Spe(t)}class Ape extends Ho{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){mw(e,"orderByKey");const n=nw(e._queryParams,Sl);return sd(n),new pa(e._repo,e._path,n,!0)}}function Npe(){return new Ape}class kpe extends Ho{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){mw(e,"orderByPriority");const n=nw(e._queryParams,or);return sd(n),new pa(e._repo,e._path,n,!0)}}function Ipe(){return new kpe}class Rpe extends Ho{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){mw(e,"orderByValue");const n=nw(e._queryParams,Dk);return sd(n),new pa(e._repo,e._path,n,!0)}}function Ppe(){return new Rpe}class Fpe extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Rl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wH(this._value,this._key)._apply(new TH(this._value,this._key)._apply(e))}}function Mpe(t,e){return qv("equalTo","key",e),new Fpe(t,e)}function Ao(t,...e){let n=kt(t);for(const r of e)n=r._apply(n);return n}hhe(mo);vhe(mo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Upe="FIREBASE_DATABASE_EMULATOR_HOST",BA={};let Ope=!1;function Lpe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Fl(s);t.repoInfo_=new Ez(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function EH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Il("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=OA(s,i),o=a.repoInfo,l,c;typeof process<"u"&&kF&&(c=kF[Upe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=OA(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Mp(Mp.OWNER):new Dde(t.name,t.options,e);uH("Invalid Firebase Database URL",a),mn(a.path)||Il("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Bpe(o,t,u,new Sde(t,n));return new Vpe(f,t)}function jpe(t,e){const n=BA[e];(!n||n[t.key]!==t)&&Il(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mH(t),delete n[t.key]}function Bpe(t,e,n,r){let i=BA[e.name];i||(i={},BA[e.name]=i);let s=i[t.toURLString()];return s&&Il("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new zhe(t,Ope,n,r),i[t.toURLString()]=s,s}let Vpe=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Hhe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mo(this._repo,Mn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jpe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Il("Cannot call "+e+" on a deleted database.")}};function CH(){mm.IS_TRANSPORT_INITIALIZED&&ws("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Wpe(){CH(),gu.forceDisallow()}function qpe(){CH(),no.forceDisallow(),gu.forceAllow()}function $pe(t,e,n,r={}){t=kt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&mc(r,s.repoInfo_.emulatorOptions))return;Il("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Il('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Mp(Mp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:FN(r.mockUserToken,t.app.options.projectId);a=new Mp(o)}Fl(e)&&(p_(e),m_("Database",!0)),Lpe(s,i,r,a)}function zpe(t){t=kt(t),t._checkNotDeleted("goOffline"),mH(t._repo)}function Hpe(t){t=kt(t),t._checkNotDeleted("goOnline"),tpe(t._repo)}function Gpe(t,e){fz(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kpe(t){lz(Ml),Dl(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return EH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ls(IF,RF,t),Ls(IF,RF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xpe={".sv":"timestamp"};function Jpe(){return Xpe}function Ype(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qpe=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Zpe(t,e,n){if(t=kt(t),so("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new na,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new yw(c,new mo(t._repo,t._path),or),i.resolve(new Qpe(l,u)))},a=jA(t,()=>{});return npe(t._repo,t._path,e,s,a,r),i.promise}oc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};oc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Kpe();const eme="@firebase/database-compat",tme="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme=new Rm("@firebase/database-compat"),SH=function(t){const e="FIREBASE WARNING: "+t;nme.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(oa(t,e)+"must be a boolean.")},ime=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(oa(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{constructor(e){this._delegate=e}cancel(e){Yt("OnDisconnect.cancel",0,1,arguments.length),Oi("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Yt("OnDisconnect.remove",0,1,arguments.length),Oi("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Yt("OnDisconnect.set",1,2,arguments.length),Oi("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Yt("OnDisconnect.setWithPriority",2,3,arguments.length),Oi("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Yt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,SH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oi("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Yt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this._database=e,this._delegate=n}val(){return Yt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Yt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Yt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Yt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Yt("DataSnapshot.child",0,1,arguments.length),e=String(e),qy("DataSnapshot.child","path",e),new Iu(this._database,this._delegate.child(e))}hasChild(e){return Yt("DataSnapshot.hasChild",1,1,arguments.length),qy("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Yt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Yt("DataSnapshot.forEach",1,1,arguments.length),Oi("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Iu(this._database,n)))}hasChildren(){return Yt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Yt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Yt("DataSnapshot.ref",0,0,arguments.length),new af(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Yi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;Yt("Query.on",2,4,arguments.length),Oi("Query.on","callback",n,!1);const s=Yi.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Iu(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return jA(this._delegate,a,o),n;case"child_added":return d9(this._delegate,a,o),n;case"child_removed":return p9(this._delegate,a,o),n;case"child_changed":return f9(this._delegate,a,o),n;case"child_moved":return h9(this._delegate,a,o),n;default:throw new Error(oa("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Yt("Query.off",0,3,arguments.length),ime("Query.off",e),Oi("Query.off","callback",n,!0),E8("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,m9(this._delegate,e,i)}else m9(this._delegate,e)}get(){return mpe(this._delegate).then(e=>new Iu(this.database,e))}once(e,n,r,i){Yt("Query.once",1,4,arguments.length),Oi("Query.once","callback",n,!0);const s=Yi.getCancelAndContextArgs_("Query.once",r,i),a=new na,o=(c,u)=>{const f=new Iu(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":jA(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":d9(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":p9(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":f9(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":h9(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(oa("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Yt("Query.limitToFirst",1,1,arguments.length),new Yi(this.database,Ao(this._delegate,Tpe(e)))}limitToLast(e){return Yt("Query.limitToLast",1,1,arguments.length),new Yi(this.database,Ao(this._delegate,Cpe(e)))}orderByChild(e){return Yt("Query.orderByChild",1,1,arguments.length),new Yi(this.database,Ao(this._delegate,Dpe(e)))}orderByKey(){return Yt("Query.orderByKey",0,0,arguments.length),new Yi(this.database,Ao(this._delegate,Npe()))}orderByPriority(){return Yt("Query.orderByPriority",0,0,arguments.length),new Yi(this.database,Ao(this._delegate,Ipe()))}orderByValue(){return Yt("Query.orderByValue",0,0,arguments.length),new Yi(this.database,Ao(this._delegate,Ppe()))}startAt(e=null,n){return Yt("Query.startAt",0,2,arguments.length),new Yi(this.database,Ao(this._delegate,xpe(e,n)))}startAfter(e=null,n){return Yt("Query.startAfter",0,2,arguments.length),new Yi(this.database,Ao(this._delegate,_pe(e,n)))}endAt(e=null,n){return Yt("Query.endAt",0,2,arguments.length),new Yi(this.database,Ao(this._delegate,gpe(e,n)))}endBefore(e=null,n){return Yt("Query.endBefore",0,2,arguments.length),new Yi(this.database,Ao(this._delegate,vpe(e,n)))}equalTo(e,n){return Yt("Query.equalTo",1,2,arguments.length),new Yi(this.database,Ao(this._delegate,Mpe(e,n)))}toString(){return Yt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Yt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Yt("Query.isEqual",1,1,arguments.length),!(e instanceof Yi)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Oi(e,"cancel",i.cancel,!0),i.context=r,E8(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(oa(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new af(this.database,new mo(this._delegate._repo,this._delegate._path))}}let af=class vp extends Yi{constructor(e,n){super(e,new pa(n._repo,n._path,new tw,!1)),this.database=e,this._delegate=n}getKey(){return Yt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Yt("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new vp(this.database,Of(this._delegate,e))}getParent(){Yt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new vp(this.database,e):null}getRoot(){return Yt("Reference.root",0,0,arguments.length),new vp(this.database,this._delegate.root)}set(e,n){Yt("Reference.set",1,2,arguments.length),Oi("Reference.set","onComplete",n,!0);const r=Qk(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Yt("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,SH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}so("Reference.update",this._delegate._path),Oi("Reference.update","onComplete",n,!0);const r=ppe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Yt("Reference.setWithPriority",2,3,arguments.length),Oi("Reference.setWithPriority","onComplete",r,!0);const i=hpe(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Yt("Reference.remove",0,1,arguments.length),Oi("Reference.remove","onComplete",e,!0);const n=dpe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Yt("Reference.transaction",1,3,arguments.length),Oi("Reference.transaction","transactionUpdate",e,!1),Oi("Reference.transaction","onComplete",n,!0),rme("Reference.transaction","applyLocally",r);const i=Zpe(this._delegate,e,{applyLocally:r}).then(s=>new ame(s.committed,new Iu(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Yt("Reference.setPriority",1,2,arguments.length),Oi("Reference.setPriority","onComplete",n,!0);const r=fpe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Yt("Reference.push",0,2,arguments.length),Oi("Reference.push","onComplete",n,!0);const r=upe(this._delegate,e),i=r.then(a=>new vp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new vp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return so("Reference.onDisconnect",this._delegate._path),new sme(new cpe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Wpe,forceLongPolling:qpe}}useEmulator(e,n,r={}){$pe(this._delegate,e,n,r)}ref(e){if(Yt("database.ref",0,1,arguments.length),e instanceof af){const n=u9(this._delegate,e.toString());return new af(this,n)}else{const n=_H(this._delegate,e);return new af(this,n)}}refFromURL(e){Yt("database.refFromURL",1,1,arguments.length);const r=u9(this._delegate,e);return new af(this,r)}goOffline(){return Yt("database.goOffline",0,0,arguments.length),zpe(this._delegate)}goOnline(){return Yt("database.goOnline",0,0,arguments.length),Hpe(this._delegate)}}$y.ServerValue={TIMESTAMP:Jpe(),increment:t=>Ype(t)};function ome({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){lz(n);const o=new UN("database-standalone"),l=new ID("auth-internal",o);l.setComponent(new Vs("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new ID("app-check-internal",o),c.setComponent(new Vs("app-check-internal",()=>i,"PRIVATE"))),{instance:new $y(EH(t,l,c,e,a),t),namespace:s}}var lme=Object.freeze({__proto__:null,initStandalone:ome});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cme=$y.ServerValue;function ume(t){t.INTERNAL.registerComponent(new Vs("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new $y(i,r)},"PUBLIC").setServiceProps({Reference:af,Query:Yi,Database:$y,DataSnapshot:Iu,enableLogging:Gpe,INTERNAL:lme,ServerValue:cme}).setMultipleInstances(!0)),t.registerVersion(eme,tme)}ume(Wr);const dme={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Wr.apps.length||Wr.initializeApp(dme);const Br=Wr.auth(),bm=Wr.firestore();Wr.database();const ni={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},C2={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},fme="GitutOfflineDB",hme=9,Km=()=>new Promise((t,e)=>{const n=indexedDB.open(fme,hme);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),la=async(t,e)=>{const n=await Km();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},xi=async t=>{const e=await Km();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},yr=async(t,e)=>{const n=await Km();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Pi=async(t,e)=>{if(!e||e.length===0)return;const n=await Km();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},Lf=async(t,e)=>{const n=await Km();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},pme=async t=>{await yr("pendingCreditDeductions",t)},mme=async()=>xi("pendingCreditDeductions"),gme=async()=>{const t=await Km();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function Dx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var g9;function DH(){return g9||(g9=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof Dx=="function"&&Dx;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Dx=="function"&&Dx,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],_=0,x=l.length,w=x,C=s.getTypeOf(l)!=="string";_<l.length;)w=x-_,f=C?(c=l[_++],u=_<x?l[_++]:0,_<x?l[_++]:0):(c=l.charCodeAt(_++),u=_<x?l.charCodeAt(_++):0,_<x?l.charCodeAt(_++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,_="data:";if(l.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),x[y++]=c,p!==64&&(x[y++]=u),v!==64&&(x[y++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,_,x){var w,C,S=p.file,R=p.compression,D=x!==c.utf8encode,k=o.transformTo("string",x(S.name)),I=o.transformTo("string",c.utf8encode(S.name)),F=S.comment,P=o.transformTo("string",x(F)),N=o.transformTo("string",c.utf8encode(F)),O=I.length!==S.name.length,U=N.length!==F.length,H="",G="",J="",Z=S.dir,z=S.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(Y.crc32=p.crc32,Y.compressedSize=p.compressedSize,Y.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),D||!O&&!U||(B|=2048);var j=0,q=0;Z&&(j|=16),_==="UNIX"?(q=798,j|=(function(Q,te){var ae=Q;return Q||(ae=te?16893:33204),(65535&ae)<<16})(S.unixPermissions,Z)):(q=20,j|=(function(Q){return 63&(Q||0)})(S.dosPermissions)),w=z.getUTCHours(),w<<=6,w|=z.getUTCMinutes(),w<<=5,w|=z.getUTCSeconds()/2,C=z.getUTCFullYear()-1980,C<<=4,C|=z.getUTCMonth()+1,C<<=5,C|=z.getUTCDate(),O&&(G=s(1,1)+s(u(k),4)+I,H+="up"+s(G.length,2)+G),U&&(J=s(1,1)+s(u(P),4)+N,H+="uc"+s(J.length,2)+J);var X="";return X+=`
\0`,X+=s(B,2),X+=R.magic,X+=s(w,2),X+=s(C,2),X+=s(Y.crc32,4),X+=s(Y.compressedSize,4),X+=s(Y.uncompressedSize,4),X+=s(k.length,2),X+=s(H.length,2),{fileRecord:f.LOCAL_FILE_HEADER+X+k+H,dirRecord:f.CENTRAL_FILE_HEADER+s(q,2)+X+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+k+H+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(_,x,w,C,S){var R=o.transformTo("string",S(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s(x,4)+s(w,4)+s(R.length,2)+R})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(x,w){var C=x||w,S=s[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,_=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],_=g.files;if(p.checkCRC32)for(var x=0;x<_.length;x++)y.push(f(_[x]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),_=y.files,x=0;x<_.length;x++){var w=_[x],C=w.fileNameStr,S=s.resolve(w.fileNameStr);v.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(S).unsafeOriginalName=C)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(S,R,D){var k,I=o.getTypeOf(R),F=o.extend(D||{},u);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=_(S)),F.createFolders&&(k=y(S))&&x.call(this,k,!0);var P=I==="string"&&F.binary===!1&&F.base64===!1;D&&D.binary!==void 0||(F.binary=!P),(R instanceof f&&R.uncompressedSize===0||F.dir||!R||R.length===0)&&(F.base64=!1,F.binary=!0,R="",F.compression="STORE",I="string");var N=null;N=R instanceof f||R instanceof l?R:v.isNode&&v.isStream(R)?new g(S,R):o.prepareContent(S,R,F.binary,F.optimizedBinaryString,F.base64);var O=new h(S,N,F);this.files[S]=O}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var R=S.lastIndexOf("/");return 0<R?S.substring(0,R):""},_=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},x=function(S,R){return R=R!==void 0?R:u.createFolders,S=_(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:R}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var R,D,k;for(R in this.files)k=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&S(D,k)},filter:function(S){var R=[];return this.forEach(function(D,k){S(D,k)&&R.push(k)}),R},file:function(S,R,D){if(arguments.length!==1)return S=this.root+S,s.call(this,S,R,D),this;if(w(S)){var k=S;return this.filter(function(F,P){return!P.dir&&k.test(F)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(I,F){return F.dir&&S.test(I)});var R=this.root+S,D=x.call(this,R),k=this.clone();return k.root=D.name,k},remove:function(S){S=this.root+S;var R=this.files[S];if(R||(S.slice(-1)!=="/"&&(S+="/"),R=this.files[S]),R&&!R.dir)delete this.files[S];else for(var D=this.filter(function(I,F){return F.name.slice(0,S.length)===S}),k=0;k<D.length;k++)delete this.files[D[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var R,D={};try{if((D=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var k=D.comment||this.comment||"";R=p.generateWorker(this,D,k)}catch(I){(R=new l("error")).error(I)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(S,R){return this.generateInternalStream(S).accumulate(R)},generateNodeStream:function(S,R){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(R)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,_){var x=[],w=v._internalType,C=v._outputType,S=v._mimeType;v.on("data",function(R,D){x.push(R),g&&g(D)}).on("error",function(R){x=[],_(R)}).on("end",function(){try{var R=(function(D,k,I){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",k),I);case"base64":return l.encode(k);default:return s.transformTo(D,k)}})(C,(function(D,k){var I,F=0,P=null,N=0;for(I=0;I<k.length;I++)N+=k[I].length;switch(D){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(P=new Uint8Array(N),I=0;I<k.length;I++)P.set(k[I],F),F+=k[I].length;return P;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+D+"'")}})(w,x),S);y(R)}catch(D){_(D)}x=[]}).resume()})}function p(v,g,y){var _=g;switch(g){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=g,this._mimeType=y,s.checkSupport(_),this._worker=v.pipe(new a(_)),v.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(_){g.call(y,_.data,_.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,_,x,w,C=v.length,S=0;for(x=0;x<C;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(_=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),x=w=0;w<S;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(_=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,_,x,w=v.length,C=new Array(2*w);for(g=y=0;g<w;)if((_=v[g++])<128)C[y++]=_;else if(4<(x=c[_]))C[y++]=65533,g+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&g<w;)_=_<<6|63&v[g++],x--;1<x?C[y++]=65533:_<65536?C[y++]=_:(_-=65536,C[y++]=55296|_>>10&1023,C[y++]=56320|1023&_)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),s.applyFromCharCode(C)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(x,w){var C;for((w=w||x.length)>x.length&&(w=x.length),C=w-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?w:C+c[x[C]]>w?C:w})(v),_=v;y!==v.length&&(a.uint8array?(_=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(_=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(_),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var _=0;_<g.length;++_)y[_]=255&g.charCodeAt(_);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(g),_.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,_){var x=[],w=0,C=g.length;if(C<=_)return String.fromCharCode.apply(null,g);for(;w<C;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+_,C)))):x.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+_,C)))),w+=_;return x.join("")},stringifyByChar:function(g){for(var y="",_=0;_<g.length;_++)y+=String.fromCharCode(g[_]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,_=i.getTypeOf(g),x=!0;if(_==="uint8array"?x=f.applyCanBeUsed.uint8array:_==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return f.stringifyByChunk(g,_,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var _=0;_<g.length;_++)y[_]=g[_];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var _=i.getTypeOf(y);return v[_][g](y)},i.resolve=function(g){for(var y=g.split("/"),_=[],x=0;x<y.length;x++){var w=y[x];w==="."||w===""&&x!==0&&x!==y.length-1||(w===".."?_.pop():_.push(w))}return _.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,_,x="";for(_=0;_<(g||"").length;_++)x+="\\x"+((y=g.charCodeAt(_))<16?"0":"")+y.toString(16).toUpperCase();return x},i.delay=function(g,y,_){setImmediate(function(){g.apply(_||null,y||[])})},i.inherits=function(g,y){function _(){}_.prototype=y.prototype,g.prototype=new _},i.extend=function(){var g,y,_={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&_[y]===void 0&&(_[y]=arguments[g][y]);return _},i.prepareContent=function(g,y,_,x,w){return l.Promise.resolve(y).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,R){var D=new FileReader;D.onload=function(k){S(k.target.result)},D.onerror=function(k){R(k.target.error)},D.readAsArrayBuffer(C)}):C}).then(function(C){var S=i.getTypeOf(C);return S?(S==="arraybuffer"?C=i.transformTo("uint8array",C):S==="string"&&(w?C=a.decode(C):_&&x!==!0&&(C=(function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)&&u[_].magic===y)return u[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(_)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var _=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var _=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!_&&(g=g.pipe(new l.Utf8EncodeWorker)),!x&&_&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var _=p.length;_;){for(y=p,p=[],g=-1;++g<_;)y[g]();_=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==a&&g(this,_)}function h(_,x,w){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(_,x,w){s(function(){var C;try{C=x(w)}catch(S){return o.reject(_,S)}C===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,C)})}function v(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function g(_,x){var w=!1;function C(D){w||(w=!0,o.reject(_,D))}function S(D){w||(w=!0,o.resolve(_,D))}var R=y(function(){x(S,C)});R.status==="error"&&C(R.value)}function y(_,x){var w={};try{w.value=_(x),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(_){if(typeof _!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(_()).then(function(){return w})},function(w){return x.resolve(_()).then(function(){throw w})})},f.prototype.catch=function(_){return this.then(null,_)},f.prototype.then=function(_,x){if(typeof _!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?_:x,this.outcome):this.queue.push(new h(w,_,x)),w},h.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){o.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},o.resolve=function(_,x){var w=y(v,x);if(w.status==="error")return o.reject(_,w.value);var C=w.value;if(C)g(_,C);else{_.state=c,_.outcome=x;for(var S=-1,R=_.queue.length;++S<R;)_.queue[S].callFulfilled(x)}return _},o.reject=function(_,x){_.state=l,_.outcome=x;for(var w=-1,C=_.queue.length;++w<C;)_.queue[w].callRejected(x);return _},f.resolve=function(_){return _ instanceof this?_:o.resolve(new this(a),_)},f.reject=function(_){var x=new this(a);return o.reject(x,_)},f.all=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,C=!1;if(!w)return this.resolve([]);for(var S=new Array(w),R=0,D=-1,k=new this(a);++D<w;)I(_[D],D);return k;function I(F,P){x.resolve(F).then(function(N){S[P]=N,++R!==w||C||(C=!0,o.resolve(k,S))},function(N){C||(C=!0,o.reject(k,N))})}},f.race=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,C=!1;if(!w)return this.resolve([]);for(var S=-1,R=new this(a);++S<w;)D=_[S],x.resolve(D).then(function(k){C||(C=!0,o.resolve(R,k))},function(k){C||(C=!0,o.reject(R,k))});var D;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(_){if(!(this instanceof g))return new g(_);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(l[w]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var C;if(C=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(_,x){var w=new g(x);if(w.push(_,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(_,x){var w,C,S=this.strm,R=this.options.chunkSize;if(this.ended)return!1;C=x===~~x?x:x===!0?4:0,typeof _=="string"?S.input=o.string2buf(_):u.call(_)==="[object ArrayBuffer]"?S.input=new Uint8Array(_):S.input=_,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(R),S.next_out=0,S.avail_out=R),(w=s.deflate(S,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(_){this.chunks.push(_)},g.prototype.onEnd=function(_){_===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(_,x){return(x=x||{}).raw=!0,y(_,x)},i.gzip=function(_,x){return(x=x||{}).gzip=!0,y(_,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,y.windowBits);if(_!==l.Z_OK)throw new Error(c[_]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var _=new p(y);if(_.push(g,!0),_.err)throw _.msg||c[_.err];return _.result}p.prototype.push=function(g,y){var _,x,w,C,S,R,D=this.strm,k=this.options.chunkSize,I=this.options.dictionary,F=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(k),D.next_out=0,D.avail_out=k),(_=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(R=typeof I=="string"?o.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,_=s.inflateSetDictionary(this.strm,R)),_===l.Z_BUF_ERROR&&F===!0&&(_=l.Z_OK,F=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&_!==l.Z_STREAM_END&&(D.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(D.output,D.next_out),C=D.next_out-w,S=o.buf2string(D.output,w),D.next_out=C,D.avail_out=k-C,C&&a.arraySet(D.output,D.output,w,C,0),this.onData(S)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(F=!0)}while((0<D.avail_in||D.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,_=f.length,x=0;for(g=0;g<_;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<_&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(x),g=y=0;y<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<_&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,_=h||f.length,x=new Array(2*_);for(p=v=0;p<_;)if((g=f[p++])<128)x[v++]=g;else if(4<(y=l[g]))x[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<_;)g=g<<6|63&f[p++],y--;1<y?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return u(x,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,_=2,x=8,w=9,C=286,S=30,R=19,D=2*C+1,k=15,I=3,F=258,P=F+I+1,N=42,O=113,U=1,H=2,G=3,J=4;function Z(V,xe){return V.msg=u[xe],xe}function z(V){return(V<<1)-(4<V?9:0)}function Y(V){for(var xe=V.length;0<=--xe;)V[xe]=0}function B(V){var xe=V.state,_e=xe.pending;_e>V.avail_out&&(_e=V.avail_out),_e!==0&&(a.arraySet(V.output,xe.pending_buf,xe.pending_out,_e,V.next_out),V.next_out+=_e,xe.pending_out+=_e,V.total_out+=_e,V.avail_out-=_e,xe.pending-=_e,xe.pending===0&&(xe.pending_out=0))}function j(V,xe){o._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,xe),V.block_start=V.strstart,B(V.strm)}function q(V,xe){V.pending_buf[V.pending++]=xe}function X(V,xe){V.pending_buf[V.pending++]=xe>>>8&255,V.pending_buf[V.pending++]=255&xe}function Q(V,xe){var _e,le,re=V.max_chain_length,oe=V.strstart,fe=V.prev_length,be=V.nice_match,ie=V.strstart>V.w_size-P?V.strstart-(V.w_size-P):0,ce=V.window,me=V.w_mask,ge=V.prev,De=V.strstart+F,Oe=ce[oe+fe-1],Te=ce[oe+fe];V.prev_length>=V.good_match&&(re>>=2),be>V.lookahead&&(be=V.lookahead);do if(ce[(_e=xe)+fe]===Te&&ce[_e+fe-1]===Oe&&ce[_e]===ce[oe]&&ce[++_e]===ce[oe+1]){oe+=2,_e++;do;while(ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&ce[++oe]===ce[++_e]&&oe<De);if(le=F-(De-oe),oe=De-F,fe<le){if(V.match_start=xe,be<=(fe=le))break;Oe=ce[oe+fe-1],Te=ce[oe+fe]}}while((xe=ge[xe&me])>ie&&--re!=0);return fe<=V.lookahead?fe:V.lookahead}function te(V){var xe,_e,le,re,oe,fe,be,ie,ce,me,ge=V.w_size;do{if(re=V.window_size-V.lookahead-V.strstart,V.strstart>=ge+(ge-P)){for(a.arraySet(V.window,V.window,ge,ge,0),V.match_start-=ge,V.strstart-=ge,V.block_start-=ge,xe=_e=V.hash_size;le=V.head[--xe],V.head[xe]=ge<=le?le-ge:0,--_e;);for(xe=_e=ge;le=V.prev[--xe],V.prev[xe]=ge<=le?le-ge:0,--_e;);re+=ge}if(V.strm.avail_in===0)break;if(fe=V.strm,be=V.window,ie=V.strstart+V.lookahead,ce=re,me=void 0,me=fe.avail_in,ce<me&&(me=ce),_e=me===0?0:(fe.avail_in-=me,a.arraySet(be,fe.input,fe.next_in,me,ie),fe.state.wrap===1?fe.adler=l(fe.adler,be,me,ie):fe.state.wrap===2&&(fe.adler=c(fe.adler,be,me,ie)),fe.next_in+=me,fe.total_in+=me,me),V.lookahead+=_e,V.lookahead+V.insert>=I)for(oe=V.strstart-V.insert,V.ins_h=V.window[oe],V.ins_h=(V.ins_h<<V.hash_shift^V.window[oe+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[oe+I-1])&V.hash_mask,V.prev[oe&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=oe,oe++,V.insert--,!(V.lookahead+V.insert<I)););}while(V.lookahead<P&&V.strm.avail_in!==0)}function ae(V,xe){for(var _e,le;;){if(V.lookahead<P){if(te(V),V.lookahead<P&&xe===f)return U;if(V.lookahead===0)break}if(_e=0,V.lookahead>=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,_e=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),_e!==0&&V.strstart-_e<=V.w_size-P&&(V.match_length=Q(V,_e)),V.match_length>=I)if(le=o._tr_tally(V,V.strstart-V.match_start,V.match_length-I),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=I){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,_e=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else le=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(le&&(j(V,!1),V.strm.avail_out===0))return U}return V.insert=V.strstart<I-1?V.strstart:I-1,xe===h?(j(V,!0),V.strm.avail_out===0?G:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?U:H}function ue(V,xe){for(var _e,le,re;;){if(V.lookahead<P){if(te(V),V.lookahead<P&&xe===f)return U;if(V.lookahead===0)break}if(_e=0,V.lookahead>=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,_e=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=I-1,_e!==0&&V.prev_length<V.max_lazy_match&&V.strstart-_e<=V.w_size-P&&(V.match_length=Q(V,_e),V.match_length<=5&&(V.strategy===1||V.match_length===I&&4096<V.strstart-V.match_start)&&(V.match_length=I-1)),V.prev_length>=I&&V.match_length<=V.prev_length){for(re=V.strstart+V.lookahead-I,le=o._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-I),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=re&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,_e=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=I-1,V.strstart++,le&&(j(V,!1),V.strm.avail_out===0))return U}else if(V.match_available){if((le=o._tr_tally(V,0,V.window[V.strstart-1]))&&j(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return U}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(le=o._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<I-1?V.strstart:I-1,xe===h?(j(V,!0),V.strm.avail_out===0?G:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?U:H}function de(V,xe,_e,le,re){this.good_length=V,this.max_lazy=xe,this.nice_length=_e,this.max_chain=le,this.func=re}function Se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(k+1),this.heap=new a.Buf16(2*C+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(V){var xe;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=_,(xe=V.state).pending=0,xe.pending_out=0,xe.wrap<0&&(xe.wrap=-xe.wrap),xe.status=xe.wrap?N:O,V.adler=xe.wrap===2?0:1,xe.last_flush=f,o._tr_init(xe),p):Z(V,v)}function pe(V){var xe=Pe(V);return xe===p&&(function(_e){_e.window_size=2*_e.w_size,Y(_e.head),_e.max_lazy_match=s[_e.level].max_lazy,_e.good_match=s[_e.level].good_length,_e.nice_match=s[_e.level].nice_length,_e.max_chain_length=s[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=I-1,_e.match_available=0,_e.ins_h=0})(V.state),xe}function je(V,xe,_e,le,re,oe){if(!V)return v;var fe=1;if(xe===g&&(xe=6),le<0?(fe=0,le=-le):15<le&&(fe=2,le-=16),re<1||w<re||_e!==x||le<8||15<le||xe<0||9<xe||oe<0||y<oe)return Z(V,v);le===8&&(le=9);var be=new Se;return(V.state=be).strm=V,be.wrap=fe,be.gzhead=null,be.w_bits=le,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=re+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+I-1)/I),be.window=new a.Buf8(2*be.w_size),be.head=new a.Buf16(be.hash_size),be.prev=new a.Buf16(be.w_size),be.lit_bufsize=1<<re+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new a.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=xe,be.strategy=oe,be.method=_e,pe(V)}s=[new de(0,0,0,0,function(V,xe){var _e=65535;for(_e>V.pending_buf_size-5&&(_e=V.pending_buf_size-5);;){if(V.lookahead<=1){if(te(V),V.lookahead===0&&xe===f)return U;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var le=V.block_start+_e;if((V.strstart===0||V.strstart>=le)&&(V.lookahead=V.strstart-le,V.strstart=le,j(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-P&&(j(V,!1),V.strm.avail_out===0))return U}return V.insert=0,xe===h?(j(V,!0),V.strm.avail_out===0?G:J):(V.strstart>V.block_start&&(j(V,!1),V.strm.avail_out),U)}),new de(4,4,8,4,ae),new de(4,5,16,8,ae),new de(4,6,32,32,ae),new de(4,4,16,16,ue),new de(8,16,32,32,ue),new de(8,16,128,128,ue),new de(8,32,128,256,ue),new de(32,128,258,1024,ue),new de(32,258,258,4096,ue)],i.deflateInit=function(V,xe){return je(V,xe,x,15,8,0)},i.deflateInit2=je,i.deflateReset=pe,i.deflateResetKeep=Pe,i.deflateSetHeader=function(V,xe){return V&&V.state?V.state.wrap!==2?v:(V.state.gzhead=xe,p):v},i.deflate=function(V,xe){var _e,le,re,oe;if(!V||!V.state||5<xe||xe<0)return V?Z(V,v):v;if(le=V.state,!V.output||!V.input&&V.avail_in!==0||le.status===666&&xe!==h)return Z(V,V.avail_out===0?-5:v);if(le.strm=V,_e=le.last_flush,le.last_flush=xe,le.status===N)if(le.wrap===2)V.adler=0,q(le,31),q(le,139),q(le,8),le.gzhead?(q(le,(le.gzhead.text?1:0)+(le.gzhead.hcrc?2:0)+(le.gzhead.extra?4:0)+(le.gzhead.name?8:0)+(le.gzhead.comment?16:0)),q(le,255&le.gzhead.time),q(le,le.gzhead.time>>8&255),q(le,le.gzhead.time>>16&255),q(le,le.gzhead.time>>24&255),q(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),q(le,255&le.gzhead.os),le.gzhead.extra&&le.gzhead.extra.length&&(q(le,255&le.gzhead.extra.length),q(le,le.gzhead.extra.length>>8&255)),le.gzhead.hcrc&&(V.adler=c(V.adler,le.pending_buf,le.pending,0)),le.gzindex=0,le.status=69):(q(le,0),q(le,0),q(le,0),q(le,0),q(le,0),q(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),q(le,3),le.status=O);else{var fe=x+(le.w_bits-8<<4)<<8;fe|=(2<=le.strategy||le.level<2?0:le.level<6?1:le.level===6?2:3)<<6,le.strstart!==0&&(fe|=32),fe+=31-fe%31,le.status=O,X(le,fe),le.strstart!==0&&(X(le,V.adler>>>16),X(le,65535&V.adler)),V.adler=1}if(le.status===69)if(le.gzhead.extra){for(re=le.pending;le.gzindex<(65535&le.gzhead.extra.length)&&(le.pending!==le.pending_buf_size||(le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),B(V),re=le.pending,le.pending!==le.pending_buf_size));)q(le,255&le.gzhead.extra[le.gzindex]),le.gzindex++;le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),le.gzindex===le.gzhead.extra.length&&(le.gzindex=0,le.status=73)}else le.status=73;if(le.status===73)if(le.gzhead.name){re=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),B(V),re=le.pending,le.pending===le.pending_buf_size)){oe=1;break}oe=le.gzindex<le.gzhead.name.length?255&le.gzhead.name.charCodeAt(le.gzindex++):0,q(le,oe)}while(oe!==0);le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),oe===0&&(le.gzindex=0,le.status=91)}else le.status=91;if(le.status===91)if(le.gzhead.comment){re=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),B(V),re=le.pending,le.pending===le.pending_buf_size)){oe=1;break}oe=le.gzindex<le.gzhead.comment.length?255&le.gzhead.comment.charCodeAt(le.gzindex++):0,q(le,oe)}while(oe!==0);le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),oe===0&&(le.status=103)}else le.status=103;if(le.status===103&&(le.gzhead.hcrc?(le.pending+2>le.pending_buf_size&&B(V),le.pending+2<=le.pending_buf_size&&(q(le,255&V.adler),q(le,V.adler>>8&255),V.adler=0,le.status=O)):le.status=O),le.pending!==0){if(B(V),V.avail_out===0)return le.last_flush=-1,p}else if(V.avail_in===0&&z(xe)<=z(_e)&&xe!==h)return Z(V,-5);if(le.status===666&&V.avail_in!==0)return Z(V,-5);if(V.avail_in!==0||le.lookahead!==0||xe!==f&&le.status!==666){var be=le.strategy===2?(function(ie,ce){for(var me;;){if(ie.lookahead===0&&(te(ie),ie.lookahead===0)){if(ce===f)return U;break}if(ie.match_length=0,me=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,me&&(j(ie,!1),ie.strm.avail_out===0))return U}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?G:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?U:H})(le,xe):le.strategy===3?(function(ie,ce){for(var me,ge,De,Oe,Te=ie.window;;){if(ie.lookahead<=F){if(te(ie),ie.lookahead<=F&&ce===f)return U;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=I&&0<ie.strstart&&(ge=Te[De=ie.strstart-1])===Te[++De]&&ge===Te[++De]&&ge===Te[++De]){Oe=ie.strstart+F;do;while(ge===Te[++De]&&ge===Te[++De]&&ge===Te[++De]&&ge===Te[++De]&&ge===Te[++De]&&ge===Te[++De]&&ge===Te[++De]&&ge===Te[++De]&&De<Oe);ie.match_length=F-(Oe-De),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=I?(me=o._tr_tally(ie,1,ie.match_length-I),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(me=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),me&&(j(ie,!1),ie.strm.avail_out===0))return U}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?G:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?U:H})(le,xe):s[le.level].func(le,xe);if(be!==G&&be!==J||(le.status=666),be===U||be===G)return V.avail_out===0&&(le.last_flush=-1),p;if(be===H&&(xe===1?o._tr_align(le):xe!==5&&(o._tr_stored_block(le,0,0,!1),xe===3&&(Y(le.head),le.lookahead===0&&(le.strstart=0,le.block_start=0,le.insert=0))),B(V),V.avail_out===0))return le.last_flush=-1,p}return xe!==h?p:le.wrap<=0?1:(le.wrap===2?(q(le,255&V.adler),q(le,V.adler>>8&255),q(le,V.adler>>16&255),q(le,V.adler>>24&255),q(le,255&V.total_in),q(le,V.total_in>>8&255),q(le,V.total_in>>16&255),q(le,V.total_in>>24&255)):(X(le,V.adler>>>16),X(le,65535&V.adler)),B(V),0<le.wrap&&(le.wrap=-le.wrap),le.pending!==0?p:1)},i.deflateEnd=function(V){var xe;return V&&V.state?(xe=V.state.status)!==N&&xe!==69&&xe!==73&&xe!==91&&xe!==103&&xe!==O&&xe!==666?Z(V,v):(V.state=null,xe===O?Z(V,-3):p):v},i.deflateSetDictionary=function(V,xe){var _e,le,re,oe,fe,be,ie,ce,me=xe.length;if(!V||!V.state||(oe=(_e=V.state).wrap)===2||oe===1&&_e.status!==N||_e.lookahead)return v;for(oe===1&&(V.adler=l(V.adler,xe,me,0)),_e.wrap=0,me>=_e.w_size&&(oe===0&&(Y(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0),ce=new a.Buf8(_e.w_size),a.arraySet(ce,xe,me-_e.w_size,_e.w_size,0),xe=ce,me=_e.w_size),fe=V.avail_in,be=V.next_in,ie=V.input,V.avail_in=me,V.next_in=0,V.input=xe,te(_e);_e.lookahead>=I;){for(le=_e.strstart,re=_e.lookahead-(I-1);_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[le+I-1])&_e.hash_mask,_e.prev[le&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=le,le++,--re;);_e.strstart=le,_e.lookahead=I-1,te(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=I-1,_e.match_available=0,V.next_in=be,V.input=ie,V.avail_in=fe,_e.wrap=oe,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,_,x,w,C,S,R,D,k,I,F,P,N,O,U,H;o=s.state,l=s.next_in,U=s.input,c=l+(s.avail_in-5),u=s.next_out,H=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,_=o.window,x=o.hold,w=o.bits,C=o.lencode,S=o.distcode,R=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{w<15&&(x+=U[l++]<<w,w+=8,x+=U[l++]<<w,w+=8),k=C[x&R];t:for(;;){if(x>>>=I=k>>>24,w-=I,(I=k>>>16&255)===0)H[u++]=65535&k;else{if(!(16&I)){if((64&I)==0){k=C[(65535&k)+(x&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}F=65535&k,(I&=15)&&(w<I&&(x+=U[l++]<<w,w+=8),F+=x&(1<<I)-1,x>>>=I,w-=I),w<15&&(x+=U[l++]<<w,w+=8,x+=U[l++]<<w,w+=8),k=S[x&D];n:for(;;){if(x>>>=I=k>>>24,w-=I,!(16&(I=k>>>16&255))){if((64&I)==0){k=S[(65535&k)+(x&(1<<I)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&k,w<(I&=15)&&(x+=U[l++]<<w,(w+=8)<I&&(x+=U[l++]<<w,w+=8)),p<(P+=x&(1<<I)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=I,w-=I,(I=u-f)<P){if(g<(I=P-I)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(O=_,(N=0)===y){if(N+=v-I,I<F){for(F-=I;H[u++]=_[N++],--I;);N=u-P,O=H}}else if(y<I){if(N+=v+y-I,(I-=y)<F){for(F-=I;H[u++]=_[N++],--I;);if(N=0,y<F){for(F-=I=y;H[u++]=_[N++],--I;);N=u-P,O=H}}}else if(N+=y-I,I<F){for(F-=I;H[u++]=_[N++],--I;);N=u-P,O=H}for(;2<F;)H[u++]=O[N++],H[u++]=O[N++],H[u++]=O[N++],F-=3;F&&(H[u++]=O[N++],1<F&&(H[u++]=O[N++]))}else{for(N=u-P;H[u++]=H[N++],H[u++]=H[N++],H[u++]=H[N++],2<(F-=3););F&&(H[u++]=H[N++],1<F&&(H[u++]=H[N++]))}break}}break}}while(l<c&&u<h);l-=F=w>>3,x&=(1<<(w-=F<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=x,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function _(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(N){var O;return N&&N.state?(O=N.state,N.total_in=N.total_out=O.total=0,N.msg="",O.wrap&&(N.adler=1&O.wrap),O.mode=v,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(g),O.distcode=O.distdyn=new s.Buf32(y),O.sane=1,O.back=-1,h):p}function C(N){var O;return N&&N.state?((O=N.state).wsize=0,O.whave=0,O.wnext=0,w(N)):p}function S(N,O){var U,H;return N&&N.state?(H=N.state,O<0?(U=0,O=-O):(U=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?p:(H.window!==null&&H.wbits!==O&&(H.window=null),H.wrap=U,H.wbits=O,C(N))):p}function R(N,O){var U,H;return N?(H=new x,(N.state=H).window=null,(U=S(N,O))!==h&&(N.state=null),U):p}var D,k,I=!0;function F(N){if(I){var O;for(D=new s.Buf32(512),k=new s.Buf32(32),O=0;O<144;)N.lens[O++]=8;for(;O<256;)N.lens[O++]=9;for(;O<280;)N.lens[O++]=7;for(;O<288;)N.lens[O++]=8;for(c(u,N.lens,0,288,D,0,N.work,{bits:9}),O=0;O<32;)N.lens[O++]=5;c(f,N.lens,0,32,k,0,N.work,{bits:5}),I=!1}N.lencode=D,N.lenbits=9,N.distcode=k,N.distbits=5}function P(N,O,U,H){var G,J=N.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new s.Buf8(J.wsize)),H>=J.wsize?(s.arraySet(J.window,O,U-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(H<(G=J.wsize-J.wnext)&&(G=H),s.arraySet(J.window,O,U-H,G,J.wnext),(H-=G)?(s.arraySet(J.window,O,U-H,H,0),J.wnext=H,J.whave=J.wsize):(J.wnext+=G,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=G))),0}i.inflateReset=C,i.inflateReset2=S,i.inflateResetKeep=w,i.inflateInit=function(N){return R(N,15)},i.inflateInit2=R,i.inflate=function(N,O){var U,H,G,J,Z,z,Y,B,j,q,X,Q,te,ae,ue,de,Se,Pe,pe,je,V,xe,_e,le,re=0,oe=new s.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(U=N.state).mode===12&&(U.mode=13),Z=N.next_out,G=N.output,Y=N.avail_out,J=N.next_in,H=N.input,z=N.avail_in,B=U.hold,j=U.bits,q=z,X=Y,xe=h;e:for(;;)switch(U.mode){case v:if(U.wrap===0){U.mode=13;break}for(;j<16;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(2&U.wrap&&B===35615){oe[U.check=0]=255&B,oe[1]=B>>>8&255,U.check=o(U.check,oe,2,0),j=B=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&B)<<8)+(B>>8))%31){N.msg="incorrect header check",U.mode=30;break}if((15&B)!=8){N.msg="unknown compression method",U.mode=30;break}if(j-=4,V=8+(15&(B>>>=4)),U.wbits===0)U.wbits=V;else if(V>U.wbits){N.msg="invalid window size",U.mode=30;break}U.dmax=1<<V,N.adler=U.check=1,U.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(U.flags=B,(255&U.flags)!=8){N.msg="unknown compression method",U.mode=30;break}if(57344&U.flags){N.msg="unknown header flags set",U.mode=30;break}U.head&&(U.head.text=B>>8&1),512&U.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,U.check=o(U.check,oe,2,0)),j=B=0,U.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}U.head&&(U.head.time=B),512&U.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,oe[2]=B>>>16&255,oe[3]=B>>>24&255,U.check=o(U.check,oe,4,0)),j=B=0,U.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}U.head&&(U.head.xflags=255&B,U.head.os=B>>8),512&U.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,U.check=o(U.check,oe,2,0)),j=B=0,U.mode=5;case 5:if(1024&U.flags){for(;j<16;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}U.length=B,U.head&&(U.head.extra_len=B),512&U.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,U.check=o(U.check,oe,2,0)),j=B=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&(z<(Q=U.length)&&(Q=z),Q&&(U.head&&(V=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),s.arraySet(U.head.extra,H,J,Q,V)),512&U.flags&&(U.check=o(U.check,H,Q,J)),z-=Q,J+=Q,U.length-=Q),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(z===0)break e;for(Q=0;V=H[J+Q++],U.head&&V&&U.length<65536&&(U.head.name+=String.fromCharCode(V)),V&&Q<z;);if(512&U.flags&&(U.check=o(U.check,H,Q,J)),z-=Q,J+=Q,V)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(z===0)break e;for(Q=0;V=H[J+Q++],U.head&&V&&U.length<65536&&(U.head.comment+=String.fromCharCode(V)),V&&Q<z;);if(512&U.flags&&(U.check=o(U.check,H,Q,J)),z-=Q,J+=Q,V)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;j<16;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(B!==(65535&U.check)){N.msg="header crc mismatch",U.mode=30;break}j=B=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),N.adler=U.check=0,U.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}N.adler=U.check=_(B),j=B=0,U.mode=11;case 11:if(U.havedict===0)return N.next_out=Z,N.avail_out=Y,N.next_in=J,N.avail_in=z,U.hold=B,U.bits=j,2;N.adler=U.check=1,U.mode=12;case 12:if(O===5||O===6)break e;case 13:if(U.last){B>>>=7&j,j-=7&j,U.mode=27;break}for(;j<3;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}switch(U.last=1&B,j-=1,3&(B>>>=1)){case 0:U.mode=14;break;case 1:if(F(U),U.mode=20,O!==6)break;B>>>=2,j-=2;break e;case 2:U.mode=17;break;case 3:N.msg="invalid block type",U.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){N.msg="invalid stored block lengths",U.mode=30;break}if(U.length=65535&B,j=B=0,U.mode=15,O===6)break e;case 15:U.mode=16;case 16:if(Q=U.length){if(z<Q&&(Q=z),Y<Q&&(Q=Y),Q===0)break e;s.arraySet(G,H,J,Q,Z),z-=Q,J+=Q,Y-=Q,Z+=Q,U.length-=Q;break}U.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(U.nlen=257+(31&B),B>>>=5,j-=5,U.ndist=1+(31&B),B>>>=5,j-=5,U.ncode=4+(15&B),B>>>=4,j-=4,286<U.nlen||30<U.ndist){N.msg="too many length or distance symbols",U.mode=30;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;j<3;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}U.lens[fe[U.have++]]=7&B,B>>>=3,j-=3}for(;U.have<19;)U.lens[fe[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,_e={bits:U.lenbits},xe=c(0,U.lens,0,19,U.lencode,0,U.work,_e),U.lenbits=_e.bits,xe){N.msg="invalid code lengths set",U.mode=30;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;de=(re=U.lencode[B&(1<<U.lenbits)-1])>>>16&255,Se=65535&re,!((ue=re>>>24)<=j);){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(Se<16)B>>>=ue,j-=ue,U.lens[U.have++]=Se;else{if(Se===16){for(le=ue+2;j<le;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(B>>>=ue,j-=ue,U.have===0){N.msg="invalid bit length repeat",U.mode=30;break}V=U.lens[U.have-1],Q=3+(3&B),B>>>=2,j-=2}else if(Se===17){for(le=ue+3;j<le;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}j-=ue,V=0,Q=3+(7&(B>>>=ue)),B>>>=3,j-=3}else{for(le=ue+7;j<le;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}j-=ue,V=0,Q=11+(127&(B>>>=ue)),B>>>=7,j-=7}if(U.have+Q>U.nlen+U.ndist){N.msg="invalid bit length repeat",U.mode=30;break}for(;Q--;)U.lens[U.have++]=V}}if(U.mode===30)break;if(U.lens[256]===0){N.msg="invalid code -- missing end-of-block",U.mode=30;break}if(U.lenbits=9,_e={bits:U.lenbits},xe=c(u,U.lens,0,U.nlen,U.lencode,0,U.work,_e),U.lenbits=_e.bits,xe){N.msg="invalid literal/lengths set",U.mode=30;break}if(U.distbits=6,U.distcode=U.distdyn,_e={bits:U.distbits},xe=c(f,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,_e),U.distbits=_e.bits,xe){N.msg="invalid distances set",U.mode=30;break}if(U.mode=20,O===6)break e;case 20:U.mode=21;case 21:if(6<=z&&258<=Y){N.next_out=Z,N.avail_out=Y,N.next_in=J,N.avail_in=z,U.hold=B,U.bits=j,l(N,X),Z=N.next_out,G=N.output,Y=N.avail_out,J=N.next_in,H=N.input,z=N.avail_in,B=U.hold,j=U.bits,U.mode===12&&(U.back=-1);break}for(U.back=0;de=(re=U.lencode[B&(1<<U.lenbits)-1])>>>16&255,Se=65535&re,!((ue=re>>>24)<=j);){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(de&&(240&de)==0){for(Pe=ue,pe=de,je=Se;de=(re=U.lencode[je+((B&(1<<Pe+pe)-1)>>Pe)])>>>16&255,Se=65535&re,!(Pe+(ue=re>>>24)<=j);){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}B>>>=Pe,j-=Pe,U.back+=Pe}if(B>>>=ue,j-=ue,U.back+=ue,U.length=Se,de===0){U.mode=26;break}if(32&de){U.back=-1,U.mode=12;break}if(64&de){N.msg="invalid literal/length code",U.mode=30;break}U.extra=15&de,U.mode=22;case 22:if(U.extra){for(le=U.extra;j<le;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}U.length+=B&(1<<U.extra)-1,B>>>=U.extra,j-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;de=(re=U.distcode[B&(1<<U.distbits)-1])>>>16&255,Se=65535&re,!((ue=re>>>24)<=j);){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if((240&de)==0){for(Pe=ue,pe=de,je=Se;de=(re=U.distcode[je+((B&(1<<Pe+pe)-1)>>Pe)])>>>16&255,Se=65535&re,!(Pe+(ue=re>>>24)<=j);){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}B>>>=Pe,j-=Pe,U.back+=Pe}if(B>>>=ue,j-=ue,U.back+=ue,64&de){N.msg="invalid distance code",U.mode=30;break}U.offset=Se,U.extra=15&de,U.mode=24;case 24:if(U.extra){for(le=U.extra;j<le;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}U.offset+=B&(1<<U.extra)-1,B>>>=U.extra,j-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){N.msg="invalid distance too far back",U.mode=30;break}U.mode=25;case 25:if(Y===0)break e;if(Q=X-Y,U.offset>Q){if((Q=U.offset-Q)>U.whave&&U.sane){N.msg="invalid distance too far back",U.mode=30;break}te=Q>U.wnext?(Q-=U.wnext,U.wsize-Q):U.wnext-Q,Q>U.length&&(Q=U.length),ae=U.window}else ae=G,te=Z-U.offset,Q=U.length;for(Y<Q&&(Q=Y),Y-=Q,U.length-=Q;G[Z++]=ae[te++],--Q;);U.length===0&&(U.mode=21);break;case 26:if(Y===0)break e;G[Z++]=U.length,Y--,U.mode=21;break;case 27:if(U.wrap){for(;j<32;){if(z===0)break e;z--,B|=H[J++]<<j,j+=8}if(X-=Y,N.total_out+=X,U.total+=X,X&&(N.adler=U.check=U.flags?o(U.check,G,X,Z-X):a(U.check,G,X,Z-X)),X=Y,(U.flags?B:_(B))!==U.check){N.msg="incorrect data check",U.mode=30;break}j=B=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;j<32;){if(z===0)break e;z--,B+=H[J++]<<j,j+=8}if(B!==(4294967295&U.total)){N.msg="incorrect length check",U.mode=30;break}j=B=0}U.mode=29;case 29:xe=1;break e;case 30:xe=-3;break e;case 31:return-4;case 32:default:return p}return N.next_out=Z,N.avail_out=Y,N.next_in=J,N.avail_in=z,U.hold=B,U.bits=j,(U.wsize||X!==N.avail_out&&U.mode<30&&(U.mode<27||O!==4))&&P(N,N.output,N.next_out,X-N.avail_out)?(U.mode=31,-4):(q-=N.avail_in,X-=N.avail_out,N.total_in+=q,N.total_out+=X,U.total+=X,U.wrap&&X&&(N.adler=U.check=U.flags?o(U.check,G,X,N.next_out-X):a(U.check,G,X,N.next_out-X)),N.data_type=U.bits+(U.last?64:0)+(U.mode===12?128:0)+(U.mode===20||U.mode===15?256:0),(q==0&&X===0||O===4)&&xe===h&&(xe=-5),xe)},i.inflateEnd=function(N){if(!N||!N.state)return p;var O=N.state;return O.window&&(O.window=null),N.state=null,h},i.inflateGetHeader=function(N,O){var U;return N&&N.state?(2&(U=N.state).wrap)==0?p:((U.head=O).done=!1,h):p},i.inflateSetDictionary=function(N,O){var U,H=O.length;return N&&N.state?(U=N.state).wrap!==0&&U.mode!==11?p:U.mode===11&&a(1,O,H,0)!==U.check?-3:P(N,O,H,H)?(U.mode=31,-4):(U.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,_){var x,w,C,S,R,D,k,I,F,P=_.bits,N=0,O=0,U=0,H=0,G=0,J=0,Z=0,z=0,Y=0,B=0,j=null,q=0,X=new s.Buf16(16),Q=new s.Buf16(16),te=null,ae=0;for(N=0;N<=15;N++)X[N]=0;for(O=0;O<p;O++)X[f[h+O]]++;for(G=P,H=15;1<=H&&X[H]===0;H--);if(H<G&&(G=H),H===0)return v[g++]=20971520,v[g++]=20971520,_.bits=1,0;for(U=1;U<H&&X[U]===0;U++);for(G<U&&(G=U),N=z=1;N<=15;N++)if(z<<=1,(z-=X[N])<0)return-1;if(0<z&&(u===0||H!==1))return-1;for(Q[1]=0,N=1;N<15;N++)Q[N+1]=Q[N]+X[N];for(O=0;O<p;O++)f[h+O]!==0&&(y[Q[f[h+O]]++]=O);if(D=u===0?(j=te=y,19):u===1?(j=a,q-=257,te=o,ae-=257,256):(j=l,te=c,-1),N=U,R=g,Z=O=B=0,C=-1,S=(Y=1<<(J=G))-1,u===1&&852<Y||u===2&&592<Y)return 1;for(;;){for(k=N-Z,F=y[O]<D?(I=0,y[O]):y[O]>D?(I=te[ae+y[O]],j[q+y[O]]):(I=96,0),x=1<<N-Z,U=w=1<<J;v[R+(B>>Z)+(w-=x)]=k<<24|I<<16|F|0,w!==0;);for(x=1<<N-1;B&x;)x>>=1;if(x!==0?(B&=x-1,B+=x):B=0,O++,--X[N]==0){if(N===H)break;N=f[h+y[O]]}if(G<N&&(B&S)!==C){for(Z===0&&(Z=G),R+=U,z=1<<(J=N-Z);J+Z<H&&!((z-=X[J+Z])<=0);)J++,z<<=1;if(Y+=1<<J,u===1&&852<Y||u===2&&592<Y)return 1;v[C=B&S]=G<<24|J<<16|R-g|0}}return B!==0&&(v[R+B]=N-Z<<24|64<<16|0),_.bits=G,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var oe=re.length;0<=--oe;)re[oe]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,_=16,x=7,w=256,C=16,S=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var N=new Array(2*p);l(N);var O=new Array(512);l(O);var U=new Array(256);l(U);var H=new Array(u);l(H);var G,J,Z,z=new Array(p);function Y(re,oe,fe,be,ie){this.static_tree=re,this.extra_bits=oe,this.extra_base=fe,this.elems=be,this.max_length=ie,this.has_stree=re&&re.length}function B(re,oe){this.dyn_tree=re,this.max_code=0,this.stat_desc=oe}function j(re){return re<256?O[re]:O[256+(re>>>7)]}function q(re,oe){re.pending_buf[re.pending++]=255&oe,re.pending_buf[re.pending++]=oe>>>8&255}function X(re,oe,fe){re.bi_valid>_-fe?(re.bi_buf|=oe<<re.bi_valid&65535,q(re,re.bi_buf),re.bi_buf=oe>>_-re.bi_valid,re.bi_valid+=fe-_):(re.bi_buf|=oe<<re.bi_valid&65535,re.bi_valid+=fe)}function Q(re,oe,fe){X(re,fe[2*oe],fe[2*oe+1])}function te(re,oe){for(var fe=0;fe|=1&re,re>>>=1,fe<<=1,0<--oe;);return fe>>>1}function ae(re,oe,fe){var be,ie,ce=new Array(y+1),me=0;for(be=1;be<=y;be++)ce[be]=me=me+fe[be-1]<<1;for(ie=0;ie<=oe;ie++){var ge=re[2*ie+1];ge!==0&&(re[2*ie]=te(ce[ge]++,ge))}}function ue(re){var oe;for(oe=0;oe<h;oe++)re.dyn_ltree[2*oe]=0;for(oe=0;oe<p;oe++)re.dyn_dtree[2*oe]=0;for(oe=0;oe<v;oe++)re.bl_tree[2*oe]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function de(re){8<re.bi_valid?q(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Se(re,oe,fe,be){var ie=2*oe,ce=2*fe;return re[ie]<re[ce]||re[ie]===re[ce]&&be[oe]<=be[fe]}function Pe(re,oe,fe){for(var be=re.heap[fe],ie=fe<<1;ie<=re.heap_len&&(ie<re.heap_len&&Se(oe,re.heap[ie+1],re.heap[ie],re.depth)&&ie++,!Se(oe,be,re.heap[ie],re.depth));)re.heap[fe]=re.heap[ie],fe=ie,ie<<=1;re.heap[fe]=be}function pe(re,oe,fe){var be,ie,ce,me,ge=0;if(re.last_lit!==0)for(;be=re.pending_buf[re.d_buf+2*ge]<<8|re.pending_buf[re.d_buf+2*ge+1],ie=re.pending_buf[re.l_buf+ge],ge++,be===0?Q(re,ie,oe):(Q(re,(ce=U[ie])+f+1,oe),(me=D[ce])!==0&&X(re,ie-=H[ce],me),Q(re,ce=j(--be),fe),(me=k[ce])!==0&&X(re,be-=z[ce],me)),ge<re.last_lit;);Q(re,w,oe)}function je(re,oe){var fe,be,ie,ce=oe.dyn_tree,me=oe.stat_desc.static_tree,ge=oe.stat_desc.has_stree,De=oe.stat_desc.elems,Oe=-1;for(re.heap_len=0,re.heap_max=g,fe=0;fe<De;fe++)ce[2*fe]!==0?(re.heap[++re.heap_len]=Oe=fe,re.depth[fe]=0):ce[2*fe+1]=0;for(;re.heap_len<2;)ce[2*(ie=re.heap[++re.heap_len]=Oe<2?++Oe:0)]=1,re.depth[ie]=0,re.opt_len--,ge&&(re.static_len-=me[2*ie+1]);for(oe.max_code=Oe,fe=re.heap_len>>1;1<=fe;fe--)Pe(re,ce,fe);for(ie=De;fe=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Pe(re,ce,1),be=re.heap[1],re.heap[--re.heap_max]=fe,re.heap[--re.heap_max]=be,ce[2*ie]=ce[2*fe]+ce[2*be],re.depth[ie]=(re.depth[fe]>=re.depth[be]?re.depth[fe]:re.depth[be])+1,ce[2*fe+1]=ce[2*be+1]=ie,re.heap[1]=ie++,Pe(re,ce,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(Te,Ue){var Le,Je,lt,ct,Bt,_n,dn=Ue.dyn_tree,ur=Ue.max_code,$n=Ue.stat_desc.static_tree,Ln=Ue.stat_desc.has_stree,Sn=Ue.stat_desc.extra_bits,At=Ue.stat_desc.extra_base,Zt=Ue.stat_desc.max_length,he=0;for(ct=0;ct<=y;ct++)Te.bl_count[ct]=0;for(dn[2*Te.heap[Te.heap_max]+1]=0,Le=Te.heap_max+1;Le<g;Le++)Zt<(ct=dn[2*dn[2*(Je=Te.heap[Le])+1]+1]+1)&&(ct=Zt,he++),dn[2*Je+1]=ct,ur<Je||(Te.bl_count[ct]++,Bt=0,At<=Je&&(Bt=Sn[Je-At]),_n=dn[2*Je],Te.opt_len+=_n*(ct+Bt),Ln&&(Te.static_len+=_n*($n[2*Je+1]+Bt)));if(he!==0){do{for(ct=Zt-1;Te.bl_count[ct]===0;)ct--;Te.bl_count[ct]--,Te.bl_count[ct+1]+=2,Te.bl_count[Zt]--,he-=2}while(0<he);for(ct=Zt;ct!==0;ct--)for(Je=Te.bl_count[ct];Je!==0;)ur<(lt=Te.heap[--Le])||(dn[2*lt+1]!==ct&&(Te.opt_len+=(ct-dn[2*lt+1])*dn[2*lt],dn[2*lt+1]=ct),Je--)}})(re,oe),ae(ce,Oe,re.bl_count)}function V(re,oe,fe){var be,ie,ce=-1,me=oe[1],ge=0,De=7,Oe=4;for(me===0&&(De=138,Oe=3),oe[2*(fe+1)+1]=65535,be=0;be<=fe;be++)ie=me,me=oe[2*(be+1)+1],++ge<De&&ie===me||(ge<Oe?re.bl_tree[2*ie]+=ge:ie!==0?(ie!==ce&&re.bl_tree[2*ie]++,re.bl_tree[2*C]++):ge<=10?re.bl_tree[2*S]++:re.bl_tree[2*R]++,ce=ie,Oe=(ge=0)===me?(De=138,3):ie===me?(De=6,3):(De=7,4))}function xe(re,oe,fe){var be,ie,ce=-1,me=oe[1],ge=0,De=7,Oe=4;for(me===0&&(De=138,Oe=3),be=0;be<=fe;be++)if(ie=me,me=oe[2*(be+1)+1],!(++ge<De&&ie===me)){if(ge<Oe)for(;Q(re,ie,re.bl_tree),--ge!=0;);else ie!==0?(ie!==ce&&(Q(re,ie,re.bl_tree),ge--),Q(re,C,re.bl_tree),X(re,ge-3,2)):ge<=10?(Q(re,S,re.bl_tree),X(re,ge-3,3)):(Q(re,R,re.bl_tree),X(re,ge-11,7));ce=ie,Oe=(ge=0)===me?(De=138,3):ie===me?(De=6,3):(De=7,4)}}l(z);var _e=!1;function le(re,oe,fe,be){X(re,(c<<1)+(be?1:0),3),(function(ie,ce,me,ge){de(ie),q(ie,me),q(ie,~me),s.arraySet(ie.pending_buf,ie.window,ce,me,ie.pending),ie.pending+=me})(re,oe,fe)}i._tr_init=function(re){_e||((function(){var oe,fe,be,ie,ce,me=new Array(y+1);for(ie=be=0;ie<u-1;ie++)for(H[ie]=be,oe=0;oe<1<<D[ie];oe++)U[be++]=ie;for(U[be-1]=ie,ie=ce=0;ie<16;ie++)for(z[ie]=ce,oe=0;oe<1<<k[ie];oe++)O[ce++]=ie;for(ce>>=7;ie<p;ie++)for(z[ie]=ce<<7,oe=0;oe<1<<k[ie]-7;oe++)O[256+ce++]=ie;for(fe=0;fe<=y;fe++)me[fe]=0;for(oe=0;oe<=143;)P[2*oe+1]=8,oe++,me[8]++;for(;oe<=255;)P[2*oe+1]=9,oe++,me[9]++;for(;oe<=279;)P[2*oe+1]=7,oe++,me[7]++;for(;oe<=287;)P[2*oe+1]=8,oe++,me[8]++;for(ae(P,h+1,me),oe=0;oe<p;oe++)N[2*oe+1]=5,N[2*oe]=te(oe,5);G=new Y(P,D,f+1,h,y),J=new Y(N,k,0,p,y),Z=new Y(new Array(0),I,0,v,x)})(),_e=!0),re.l_desc=new B(re.dyn_ltree,G),re.d_desc=new B(re.dyn_dtree,J),re.bl_desc=new B(re.bl_tree,Z),re.bi_buf=0,re.bi_valid=0,ue(re)},i._tr_stored_block=le,i._tr_flush_block=function(re,oe,fe,be){var ie,ce,me=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(ge){var De,Oe=4093624447;for(De=0;De<=31;De++,Oe>>>=1)if(1&Oe&&ge.dyn_ltree[2*De]!==0)return a;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return o;for(De=32;De<f;De++)if(ge.dyn_ltree[2*De]!==0)return o;return a})(re)),je(re,re.l_desc),je(re,re.d_desc),me=(function(ge){var De;for(V(ge,ge.dyn_ltree,ge.l_desc.max_code),V(ge,ge.dyn_dtree,ge.d_desc.max_code),je(ge,ge.bl_desc),De=v-1;3<=De&&ge.bl_tree[2*F[De]+1]===0;De--);return ge.opt_len+=3*(De+1)+5+5+4,De})(re),ie=re.opt_len+3+7>>>3,(ce=re.static_len+3+7>>>3)<=ie&&(ie=ce)):ie=ce=fe+5,fe+4<=ie&&oe!==-1?le(re,oe,fe,be):re.strategy===4||ce===ie?(X(re,2+(be?1:0),3),pe(re,P,N)):(X(re,4+(be?1:0),3),(function(ge,De,Oe,Te){var Ue;for(X(ge,De-257,5),X(ge,Oe-1,5),X(ge,Te-4,4),Ue=0;Ue<Te;Ue++)X(ge,ge.bl_tree[2*F[Ue]+1],3);xe(ge,ge.dyn_ltree,De-1),xe(ge,ge.dyn_dtree,Oe-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,me+1),pe(re,re.dyn_ltree,re.dyn_dtree)),ue(re),be&&de(re)},i._tr_tally=function(re,oe,fe){return re.pending_buf[re.d_buf+2*re.last_lit]=oe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&oe,re.pending_buf[re.l_buf+re.last_lit]=255&fe,re.last_lit++,oe===0?re.dyn_ltree[2*fe]++:(re.matches++,oe--,re.dyn_ltree[2*(U[fe]+f+1)]++,re.dyn_dtree[2*j(oe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){X(re,2,3),Q(re,w,P),(function(oe){oe.bi_valid===16?(q(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){x(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,S=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=S,C}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(C){a.postMessage(f+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){x(C.data)},function(C){u.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(C){var S=g.createElement("script");S.onreadystatechange=function(){x(C),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(C){setTimeout(x,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),R=0;R<S.length;R++)S[R]=arguments[R+1];var D={callback:C,args:S};return p[h]=D,l(h),h++},y.clearImmediate=_}function _(C){delete p[C]}function x(C){if(v)setTimeout(x,0,C);else{var S=p[C];if(S){v=!0;try{(function(R){var D=R.callback,k=R.args;switch(k.length){case 0:D();break;case 1:D(k[0]);break;case 2:D(k[0],k[1]);break;case 3:D(k[0],k[1],k[2]);break;default:D.apply(o,k)}})(S)}finally{_(C),v=!1}}}}function w(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(f)===0&&x(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(xC)),xC.exports}var yme=DH();const Gd=c_(yme),ad=t=>{switch(t){case"us":case"ca":return"en";case"fr":return"fr";case"de":return"de";case"es":return"es";case"tr":return"tr";default:return"ar"}},vu=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"tr",name:"Trke"}],e0={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout",allCountries:"All Countries",allCountriesSearch:"All Countries (Global Search)",selectCafeCountry:"Select Cafe Country"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},blog:{title:"Gitut Blog",subtitle:"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers."},share:{title:"Share:",copied:"Copied!",copyDetails:"Copy details"},blogPostCard:{readMore:"Read more"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},app:{error:{title:"Application Error",message:"Could not load essential data. There might be a problem connecting to the server."}},cafeCard:{owner:"Owner:",address:"Address:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",chooseThisCafe:"Choose this Cafe",viewDetails:"View Details & Services",startChat:"Start Chat",distanceUnit:"km"},profilePage:{backToSearch:"Back to Search",managedBy:"Managed by:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",address:"Address:",description:"Description:",viewOnMap:"View on Map",step1Title:"1. Select Required Documents",step1Subtitle:"Select the documents you need. You can search for a document and add it to the list, or choose directly from the list below.",searchPlaceholder:"Search for a document to add...",searchLabel:"Search for a document to add to your list",noMatch:"No documents match your search.",step2Title:"2. Send Your Request",continueToForm:"Continue to Fill Form ({count})",similarCafes:"Similar Cafes",cafeNotFoundTitle:"Cafe Not Found",cafeNotFoundMessage:"Sorry, we couldn't find the page you're looking for.",startChat:"Start Chat",chatWith:"Chat with {name}"},confirmationPage:{title:"Your Request Has Been Sent Successfully!",subtitle:"Your information has been sent to the cafe. Please go there and provide the following code to receive your documents.",orderCodeLabel:"Your order code is:",note:"Note: Keep this code, you will need it to confirm your order with the cafe owner.",backToHome:"Back to Homepage"},formPage:{title:"Fill Out the Form",submittingTo:"You are submitting a request to",online:"Online",offline:"Offline",scanId:"Scan ID",scanIdTitle:"Scan ID card with camera",micPermissionErrorTitle:"Microphone Access Denied",micPermissionErrorMessage:"Please enable microphone access in your browser settings to use the voice input feature. You can still complete the form manually.",stepCounter:"Step {current} of {total}",navigationHint:'You can say "Next" or "Previous" to navigate between fields.',answerPlaceholder:"Answer here... e.g., {placeholder}",toggleMic:"Toggle Microphone",optionsHint:"Available options (say the number to select):",previous:"Previous",next:"Next",review:"Review",formCompleteTitle:"Form Complete!",formCompleteMessage:"Please review the data carefully before final submission.",profilePicture:"Profile Picture",backToEdit:"Back to Edit",submitFinal:"Submit Final Request",submitting:"Submitting...",errorTitle:"Request Error",errorMessage:"No documents or services were selected. Please go back and select documents first.",backToSearch:"Back to Search Page"},blogPost:{publishedOn:"Published on:",by:"By:",relatedArticles:"Other articles you might like",backToList:"Back to all articles",relatedPostsSidebar:"Related Posts",notFoundTitle:"404 - Post Not Found",notFoundMessage:"Sorry, we couldn't find the post you're looking for.",backToBlog:"Back to Blog"},searchForm:{searchByName:"Search by name...",search:"Search"},servicesListPage:{title:"Services List",fillableDocs:"Fillable Documents",staticDocs:"Printable Documents (PDF)",siteServices:"Website Services"},serviceDetailPage:{serviceNotFound:"Service Not Found",backToList:"Back to Services List",preview:"Document Preview",previousDesign:"Previous Design",nextDesign:"Next Design",loadingPreview:"Loading preview...",noPreview:"No preview is available for this document.",openInNewWindow:"Open in new window or download",instructions:"Instructions for This Design",voiceExample:"How to Record (Example):",requiredInfo:"Required information (spoken):",findCafeTitle:"Find a cafe that provides this service",searchNearest:"Search for cafes nearest to me",locating:"Locating...",resultsTitle:"Results ({count})",allCafesTitle:"Internet cafes providing this service ({count})",noResults:"No cafes match your search for all required services."},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},findPage:{hero:{title1:"Get your documents done with ease",subtitle1:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",title2:"Do you own an internet cafe?",subtitle2:"Join our platform, receive customer requests electronically, and increase your profits."},step1:{title:"Step 1: Search and Add Required Documents",placeholder:"Enter document name (e.g., CV)...",voiceSearchTitle:"Search using voice"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next Step: Find a cafe for {count} document(s)",nextStepButtonDisabledTitle:"At least one fillable document must be selected",emptyState:"Start by searching for a document to add to your list."},alert:{selectFillable:"Please select at least one fillable document to proceed and find a cafe."}},notFound:{title:"404 - Page Not Found",message:"Sorry, the page you are looking for does not exist.",button:"Go to Homepage"},formFields:{profilePicture:"Profile Picture",fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (French)",lastNameFr:"Last Name (French)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Full Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",motherFirstName:"Mother's First Name",motherLastName:"Mother's Last Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State of Residence",residenceDaira:"District of Residence",residenceCommune:"City of Residence",residenceStreet:"Street of Residence",birthWilaya:"State of Birth",birthDaira:"District of Birth",birthCommune:"City of Birth",bloodType:"Blood Type",dateToday:"Today's Date",gender:"Gender",height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Name of the employing institution",employerAddress:"Employer Address",educationLevel:"Education Level",universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Higher Institute Name",vocationalTrainingCenterName:"Vocational Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Place of Issue",drivingLicenseNumber:"Driver's License Number",drivingLicenseCategory:"Driver's License Category",drivingLicenseIssueDate:"Driver's License Issue Date",numberOfChildren:"Number of Children",spouseFullName:"Spouse's Full Name",spouseDob:"Spouse's Date of Birth",spouseJob:"Spouse's Job",militaryStatus:"Military Service Status",submissionWilaya:"Submission Province",submissionDaira:"Submission District",submissionCommune:"Submission Municipality",employerWilaya:"Employer's Province",employerDaira:"Employer's District",employerCommune:"Employer's Municipality",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Criminal Record Issue Date",criminalRecordIssuePlace:"Criminal Record Issue Place",commercialRegistryNumber:"Commercial Registry Number",taxIdNumber:"Tax ID Number (NIF)",casnosNumber:"CASNOS Number",vehicleRegistrationCardNumber:"Vehicle Registration Card Number",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"Vehicle First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number (RIB)",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Bank Agency Code",employmentContractType:"Employment Contract Type",employmentStartDate:"Employment Start Date",employeeIdNumber:"Employee ID Number",professionalGrade:"Professional Grade/Rank",nationalIdIssueDate:"National ID Issue Date",nationalIdExpiryDate:"National ID Expiry Date",drivingLicenseExpiryDate:"Driving License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Place of Marriage",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Full Name",propertyAddress:"Property Address",attendingPhysicianName:"Attending Physician Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Choose a profile picture",fullName:"e.g., John Doe",firstName:"e.g., John",lastName:"e.g., Doe",firstNameFr:"e.g., John",lastNameFr:"e.g., Doe",birthdayplace:"e.g., New York",address:"e.g., 123 Liberty St, New York",phone:"e.g., 555-123-4567",email:"e.g., user@example.com",jobTitle:"e.g., Engineer, Student",nationalId:"e.g., 123456789012345678",birthCertificateNumber:"e.g., 1990/00123",socialSecurityNumber:"e.g., 123456789012",nationality:"e.g., American",maritalStatus:"Select status",motherFirstName:"Person's mother's first name",motherLastName:"Person's mother's last name",motherPob:"Mother's place of birth",fatherFirstName:"Person's father's first name",fatherLastName:"Person's father's last name",fatherPob:"Father's place of birth",residenceWilaya:"e.g., California",residenceDaira:"e.g., Los Angeles County",residenceCommune:"e.g., Los Angeles",residenceStreet:"e.g., Rodeo Drive",birthWilaya:"e.g., Texas",birthDaira:"e.g., Harris County",birthCommune:"e.g., Houston",bloodType:"e.g., O+",gender:"Select gender",height:"e.g., 175",eyeColor:"e.g., Brown",distinguishingMarks:"e.g., Scar on left cheek",employerName:"e.g., Acme Corporation",employerAddress:"e.g., 123 Main St, Anytown",educationLevel:"Select level",universityName:"e.g., University of Technology",fieldOfStudy:"e.g., Computer Science",higherInstituteName:"e.g., Higher Institute of Technology",vocationalTrainingCenterName:"e.g., Vocational Training Center of Hussein Dey",schoolName:"e.g., Biskri Brothers School",highSchoolName:"e.g., Colonel Lotfi High School",middleSchoolName:"e.g., Ibn Khaldoun Middle School",universityCity:"e.g., Oran",passportNumber:"e.g., 12345ABC",passportIssuePlace:"e.g., Anytown",drivingLicenseNumber:"e.g., 123456789",drivingLicenseCategory:"e.g., B",numberOfChildren:"e.g., 2",spouseFullName:"e.g., Jane Doe",spouseJob:"e.g., Doctor",militaryStatus:"e.g., Completed, Exempt, Deferred",submissionWilaya:"e.g., Algiers",submissionDaira:"e.g., Sidi M'Hamed",submissionCommune:"e.g., Alger Centre",employerWilaya:"e.g., Oran",employerDaira:"e.g., Oran",employerCommune:"e.g., Oran",criminalRecordNumber:"e.g., 123/2024",criminalRecordIssuePlace:"e.g., Court of Sidi M'Hamed",commercialRegistryNumber:"e.g., 16/00-1234567 A 24",taxIdNumber:"e.g., 123456789012345",casnosNumber:"e.g., 123456789012",vehicleRegistrationCardNumber:"e.g., 12345 123 16",vehicleType:"e.g., Tourism",vehicleBrand:"e.g., Renault",vehicleModel:"e.g., Clio 4",bankName:"e.g., Bank of America",bankAccountNumber:"e.g., 0030012345678901234567",bankAgencyName:"e.g., Main Street Branch",bankAgencyCode:"e.g., 00123",employmentContractType:"e.g., Permanent contract",employeeIdNumber:"e.g., 987654",professionalGrade:"e.g., Grade 12, State Engineer",familyBookNumber:"e.g., 12345/2020",marriagePlace:"e.g., Central Municipality",rentalContractNumber:"e.g., 2024/A-45",landlordName:"e.g., John Smith",propertyAddress:"e.g., 50 Victory St, Oran",attendingPhysicianName:"e.g., Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Single",married:"Married",divorced:"Divorced"},genderOptions:{male:"Male",female:"Female"},educationLevelOptions:{primary:"Primary School",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"}}},K0={ar:{header:{search:"",login:"  ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:"  ."},blog:{title:" Gitut",subtitle:"           ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},app:{error:{title:"   ",message:"   .       ."}},cafeCard:{owner:":",address:":",checkingStatus:" ...",online:" ",offline:" ",chooseThisCafe:"  ",viewDetails:"  ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:":",checkingStatus:" ...",online:" ",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"   .            .",searchPlaceholder:"   ...",searchLabel:"     ",noMatch:"    .",step2Title:"2.  ",continueToForm:"   ({count})",similarCafes:" ",cafeNotFoundTitle:"    ",cafeNotFoundMessage:"         .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"   !",subtitle:"     .         .",orderCodeLabel:"    :",note:":         .",backToHome:"   "},formPage:{title:" ",submittingTo:"   ",online:"",offline:" ",scanId:" ",scanIdTitle:"   ",micPermissionErrorTitle:"    ",micPermissionErrorMessage:"           .    .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""   .',answerPlaceholder:" ... : {placeholder}",toggleMic:"/ ",optionsHint:"  (  ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"      .",profilePicture:" ",backToEdit:" ",submitFinal:"  ",submitting:" ...",errorTitle:"  ",errorMessage:"      .     .",backToSearch:"   "},blogPost:{publishedOn:" :",by:":",relatedArticles:"   ",backToList:"   ",relatedPostsSidebar:"  ",notFoundTitle:"404 -   ",notFoundMessage:"         .",backToBlog:"  "},searchForm:{searchByName:" ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"   (PDF)",siteServices:"  "},serviceDetailPage:{serviceNotFound:"    ",backToList:"   ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"  ...",noPreview:"     .",openInNewWindow:"     ",instructions:"   ",voiceExample:"   ():",requiredInfo:"  :",findCafeTitle:"     ",searchNearest:"    ",locating:"...  ",resultsTitle:" ({count})",allCafesTitle:"      ({count})",noResults:"         ."},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:" ",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"    ."},reset:{title:"   ",emailLabel:"  ",sendButton:"  ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"",daira:"",commune:"",state:" / ",city:"",street:" ",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:": 123  ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"   ",errors:{allowedDomains:"     Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"      6   .",signupFailed:"         .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"    "}},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"   ",subtitle2:"         ."},step1:{title:" 1:    ",placeholder:"   (:  )...",voiceSearchTitle:"  "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:" :     {count} ()",nextStepButtonDisabledTitle:"      ",emptyState:"      ."},alert:{selectFillable:"      ( )    ."}},notFound:{title:"404 -   ",message:"      .",button:"   "},formFields:{profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",dateToday:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" ",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"    ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:" ",spouseFullName:"  /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",submissionWilaya:"    ",submissionDaira:"    ",submissionCommune:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",placeholders:{profilePicture:"  ",fullName:":  ",firstName:": ",lastName:": ",firstNameFr:"Ex: Mohamed",lastNameFr:"Ex: Ali",birthdayplace:":  ",address:": 123   ",phone:": 0550123456",email:": user@example.com",jobTitle:":  ",nationalId:": 123456789012345678",birthCertificateNumber:": 1990/00123",socialSecurityNumber:": 123456789012",nationality:": ",maritalStatus:" ",motherFirstName:"  ",motherLastName:"  ",motherPob:"  ",fatherFirstName:"  ",fatherLastName:"  ",fatherPob:"  ",residenceWilaya:": ",residenceDaira:":  ",residenceCommune:":  ",residenceStreet:":   ",birthWilaya:": ",birthDaira:": ",birthCommune:": ",bloodType:": O+",gender:" ",height:": 175",eyeColor:": ",distinguishingMarks:":    ",employerName:":  ",employerAddress:":  ",educationLevel:" ",universityName:":   ",fieldOfStudy:":  ",higherInstituteName:":   ",vocationalTrainingCenterName:":     ",schoolName:":   ",highSchoolName:":   ",middleSchoolName:":   ",universityCity:": ",passportNumber:": 12345ABC",passportIssuePlace:":  ",drivingLicenseNumber:": 123456789",drivingLicenseCategory:": ",numberOfChildren:": 2",spouseFullName:":    ",spouseJob:": ",militaryStatus:":   ",submissionWilaya:": ",submissionDaira:":  ",submissionCommune:":  ",employerWilaya:": ",employerDaira:": ",employerCommune:": ",criminalRecordNumber:": 123/2024",criminalRecordIssuePlace:":   ",commercialRegistryNumber:": 16/00-1234567 A 24",taxIdNumber:": 123456789012345",casnosNumber:": 123456789012",vehicleRegistrationCardNumber:": 12345 123 16",vehicleType:": ",vehicleBrand:": Renault",vehicleModel:": Clio 4",bankName:":    ",bankAccountNumber:"0030012345678901234567",bankAgencyName:":    ",bankAgencyCode:": 00123",employmentContractType:":     ",employeeIdNumber:": 987654",professionalGrade:":  12  ",familyBookNumber:": 12345/2020",marriagePlace:":   ",rentalContractNumber:": 2024/A-45",landlordName:":  ",propertyAddress:":    50 ",attendingPhysicianName:": .   "},maritalStatusOptions:{single:"",married:"",divorced:""},genderOptions:{male:"",female:""},educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "}}},en:e0,fr:{header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion",allCountries:"Tous les pays",allCountriesSearch:"Tous les pays (Recherche globale)",selectCafeCountry:"Slectionner le pays du caf"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},blog:{title:"Blog de Gitut",subtitle:"Suivez nos dernires nouvelles, mises  jour et conseils utiles pour les propritaires de cafs et les demandeurs de services de documents."},share:{title:"Partager :",copied:"Copi !",copyDetails:"Copier les dtails"},blogPostCard:{readMore:"Lire la suite"},relatedServices:{title:"Services similaires"},relatedPosts:{title:"Articles similaires"},relatedPages:{title:"Autres Pages"},app:{error:{title:"Erreur de l'application",message:"Impossible de charger les donnes essentielles. Il y a peut-tre un problme de connexion au serveur."}},cafeCard:{owner:"Propritaire :",address:"Adresse :",checkingStatus:"Vrification...",online:"En ligne",offline:"Hors ligne",chooseThisCafe:"Choisir ce caf",viewDetails:"Voir dtails et services",startChat:"Dmarrer le chat",distanceUnit:"km"},profilePage:{backToSearch:"Retour  la recherche",managedBy:"Gr par :",checkingStatus:"Vrification...",online:"En ligne",offline:"Hors ligne",address:"Adresse :",description:"Description :",viewOnMap:"Voir sur la carte",step1Title:"1. Slectionnez les documents requis",step1Subtitle:"Slectionnez les documents dont vous avez besoin. Vous pouvez rechercher un document et l'ajouter  la liste, ou choisir directement dans la liste ci-dessous.",searchPlaceholder:"Rechercher un document  ajouter...",searchLabel:"Rechercher un document  ajouter  votre liste",noMatch:"Aucun document ne correspond  votre recherche.",step2Title:"2. Envoyez votre demande",continueToForm:"Continuer pour remplir le formulaire ({count})",similarCafes:"Cafs similaires",cafeNotFoundTitle:"Caf non trouv",cafeNotFoundMessage:"Dsol, nous n'avons pas pu trouver la page que vous recherchez.",startChat:"Dmarrer le chat",chatWith:"Chat avec {name}"},confirmationPage:{title:"Votre demande a t envoye avec succs !",subtitle:"Vos informations ont t envoyes au caf. Veuillez vous y rendre et fournir le code suivant pour recevoir vos documents.",orderCodeLabel:"Votre code de commande est :",note:"Remarque : Conservez ce code, vous en aurez besoin pour confirmer votre commande auprs du propritaire du caf.",backToHome:"Retour  la page d'accueil"},formPage:{title:"Remplir le formulaire",submittingTo:"Vous soumettez une demande ",online:"En ligne",offline:"Hors ligne",scanId:"Scanner la carte d'identit",scanIdTitle:"Scanner la carte d'identit avec la camra",micPermissionErrorTitle:"Accs au microphone refus",micPermissionErrorMessage:"Veuillez activer l'accs au microphone dans les paramtres de votre navigateur pour utiliser la saisie vocale. Vous pouvez toujours remplir le formulaire manuellement.",stepCounter:"tape {current} sur {total}",navigationHint:'Vous pouvez dire "Suivant" ou "Prcdent" pour naviguer entre les champs.',answerPlaceholder:"Rpondez ici... ex : {placeholder}",toggleMic:"Activer/Dsactiver le microphone",optionsHint:"Options disponibles (dites le numro pour slectionner) :",previous:"Prcdent",next:"Suivant",review:"Vrifier",formCompleteTitle:"Formulaire termin !",formCompleteMessage:"Veuillez vrifier attentivement les donnes avant la soumission finale.",profilePicture:"Photo de profil",backToEdit:"Retourner  la modification",submitFinal:"Soumettre la demande finale",submitting:"Envoi en cours...",errorTitle:"Erreur de demande",errorMessage:"Aucun document ou service n'a t slectionn. Veuillez revenir en arrire et slectionner d'abord les documents.",backToSearch:"Retour  la page de recherche"},blogPost:{publishedOn:"Publi le :",by:"Par :",relatedArticles:"Autres articles qui pourraient vous intresser",backToList:"Retour  tous les articles",relatedPostsSidebar:"Articles similaires",notFoundTitle:"404 - Article non trouv",notFoundMessage:"Dsol, nous n'avons pas pu trouver l'article que vous recherchez.",backToBlog:"Retour au blog"},searchForm:{searchByName:"Rechercher par nom...",search:"Rechercher"},servicesListPage:{title:"Liste des services",fillableDocs:"Documents  remplir",staticDocs:"Documents imprimables (PDF)",siteServices:"Services de sites Web"},serviceDetailPage:{serviceNotFound:"Service non trouv",backToList:"Retour  la liste des services",preview:"Aperu du document",previousDesign:"Design prcdent",nextDesign:"Design suivant",loadingPreview:"Chargement de l'aperu...",noPreview:"Aucun aperu n'est disponible pour ce document.",openInNewWindow:"Ouvrir dans une nouvelle fentre ou tlcharger",instructions:"Instructions pour ce design",voiceExample:"Comment enregistrer (Exemple) :",requiredInfo:"Informations requises (parles) :",findCafeTitle:"Trouver un caf qui propose ce service",searchNearest:"Rechercher les cafs les plus proches",locating:"Localisation en cours...",resultsTitle:"Rsultats ({count})",allCafesTitle:"Cybercafs proposant ce service ({count})",noResults:"Aucun caf ne correspond  votre recherche pour tous les services requis."},login:{title:"Connexion Propritaire de Caf",emailLabel:"E-mail",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Se connecter",loggingInButton:"Connexion...",noAccount:"Vous n'avez pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre e-mail pour activer votre compte.",wrongCredentials:"L'e-mail ou le mot de passe est incorrect.",enterEmail:"Veuillez saisir votre adresse e-mail."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"E-mail enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation de mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'e-mail. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"E-mail",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"Ex: Le Coin Tranquille",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"Ex: Jean Dupont",country:"Pays",wilaya:"Province",daira:"District",commune:"Commune",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner la province",selectDaira:"Slectionner le district",selectCommune:"Slectionner la commune",statePlaceholder:"Ex: Californie, Riyad",cityPlaceholder:"Ex: Paris, Djeddah",streetPlaceholder:"Ex: 123 Rue de la Libert",createButton:"Crer le compte et le caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser une adresse e-mail Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet e-mail est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre adresse e-mail",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},findPage:{hero:{title1:"Faites vos documents en toute simplicit",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Possdez-vous un cybercaf ?",subtitle2:"Rejoignez notre plateforme, recevez les demandes des clients par voie lectronique et augmentez vos profits."},step1:{title:"tape 1 : Rechercher et ajouter les documents requis",placeholder:"Saisir le nom du document (ex: CV)...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"tape suivante : Trouver un caf pour {count} document(s)",nextStepButtonDisabledTitle:"Au moins un document  remplir doit tre slectionn",emptyState:"Commencez par rechercher un document  ajouter  votre liste."},alert:{selectFillable:"Veuillez slectionner au moins un document  remplir pour continuer et trouver un caf."}},notFound:{title:"404 - Page non trouve",message:"Dsol, la page que vous recherchez n'existe pas.",button:"Retour  l'accueil"},formFields:{profilePicture:"Photo de profil",fullName:"Nom et prnom",firstName:"Prnom",lastName:"Nom",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse complte",phone:"Numro de tlphone",email:"E-mail",jobTitle:"Profession",nationalId:"Numro d'identit nationale",birthCertificateNumber:"Numro de l'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",motherFirstName:"Prnom de la mre",motherLastName:"Nom de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom de la mre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya de rsidence",residenceDaira:"Dara de rsidence",residenceCommune:"Commune de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",dateToday:"Date d'aujourd'hui",gender:"Sexe",height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes particuliers",employerName:"Nom de l'institution de travail",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville de l'universit",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro du permis de conduire",drivingLicenseCategory:"Catgorie du permis de conduire",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation vis--vis du service national",submissionWilaya:"Wilaya de soumission du document",submissionDaira:"Dara de soumission du document",submissionCommune:"Commune de soumission du document",employerWilaya:"Wilaya de l'institution",employerDaira:"Dara de l'institution",employerCommune:"Commune de l'institution",criminalRecordNumber:"Numro du Casier Judiciaire",criminalRecordIssueDate:"Date de dlivrance du Casier Judiciaire",criminalRecordIssuePlace:"Lieu de dlivrance du Casier Judiciaire",commercialRegistryNumber:"Numro du Registre de Commerce (RC)",taxIdNumber:"Numro d'Identification Fiscale (NIF)",casnosNumber:"Numro CASNOS",vehicleRegistrationCardNumber:"Numro de la Carte Grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Matricule de l'employ",professionalGrade:"Grade ou catgorie professionnelle",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis de conduire",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de l'acte de mariage",marriagePlace:"Lieu de l'acte de mariage",rentalContractNumber:"Numro du contrat de location",landlordName:"Nom et prnom du bailleur",propertyAddress:"Adresse du bien immobilier",attendingPhysicianName:"Nom du mdecin traitant",currentTime:"Heure actuelle",currentYear:"Anne actuelle",documentName:"Nom du document",age:"ge",fullDateLongAr:"Date complte (Arabe)",hijriDate:"Date Hgirienne",placeholders:{profilePicture:"Choisir une photo de profil",fullName:"Ex: Jean Dupont",firstName:"Ex: Jean",lastName:"Ex: Dupont",firstNameFr:"Ex: Jean",lastNameFr:"Ex: Dupont",birthdayplace:"Ex: Paris",address:"Ex: 123 Rue de la Libert, Paris",phone:"Ex: 0612345678",email:"Ex: user@example.com",jobTitle:"Ex: Ingnieur, tudiant",nationalId:"Ex: 123456789012345678",birthCertificateNumber:"Ex: 1990/00123",socialSecurityNumber:"Ex: 123456789012",nationality:"Ex: Franaise",maritalStatus:"Slectionner le statut",motherFirstName:"Prnom de la mre de la personne",motherLastName:"Nom de la mre de la personne",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre de la personne",fatherLastName:"Nom de la mre de la personne",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Ex: le-de-France",residenceDaira:"Ex: Paris",residenceCommune:"Ex: Paris 1er",residenceStreet:"Ex: Rue de Rivoli",birthWilaya:"Ex: Lyon",birthDaira:"Ex: Lyon",birthCommune:"Ex: Lyon",bloodType:"Ex: O+",gender:"Slectionner le sexe",height:"Ex: 175",eyeColor:"Ex: Marron",distinguishingMarks:"Ex: Cicatrice sur la joue gauche",employerName:"Ex: Socit Acme",employerAddress:"Ex: 123 Rue Principale, Ville",educationLevel:"Slectionner le niveau",universityName:"Ex: Universit de Technologie",fieldOfStudy:"Ex: Informatique",higherInstituteName:"Ex: Institut Suprieur de Technologie",vocationalTrainingCenterName:"Ex: Centre de Formation Professionnelle de Hussein Dey",schoolName:"Ex: cole Frres Biskri",highSchoolName:"Ex: Lyce Colonel Lotfi",middleSchoolName:"Ex: Collge Ibn Khaldoun",universityCity:"Ex: Oran",passportNumber:"Ex: 12345ABC",passportIssuePlace:"Ex: Ville",drivingLicenseNumber:"Ex: 123456789",drivingLicenseCategory:"Ex: B",numberOfChildren:"Ex: 2",spouseFullName:"Ex: Jeanne Dupont",spouseJob:"Ex: Mdecin",militaryStatus:"Ex: Accompli, Exempt, Sursis",submissionWilaya:"Ex: Alger",submissionDaira:"Ex: Sidi M'Hamed",submissionCommune:"Ex: Alger Centre",employerWilaya:"Ex: Oran",employerDaira:"Ex: Oran",employerCommune:"Ex: Oran",criminalRecordNumber:"Ex: 123/2024",criminalRecordIssuePlace:"Ex: Tribunal de Sidi M'Hamed",commercialRegistryNumber:"Ex: 16/00-1234567 A 24",taxIdNumber:"Ex: 123456789012345",casnosNumber:"Ex: 123456789012",vehicleRegistrationCardNumber:"Ex: 12345 123 16",vehicleType:"Ex: Tourisme",vehicleBrand:"Ex: Renault",vehicleModel:"Ex: Clio 4",bankName:"Ex: Banque de l'Agriculture et du Dveloppement Rural",bankAccountNumber:"0030012345678901234567",bankAgencyName:"Ex: Agence Emir Abdelkader",bankAgencyCode:"Ex: 00123",employmentContractType:"Ex: Contrat  dure indtermine",employeeIdNumber:"Ex: 987654",professionalGrade:"Ex: Catgorie 12, Ingnieur d'tat",familyBookNumber:"Ex: 12345/2020",marriagePlace:"Ex: Mairie d'Alger Centre",rentalContractNumber:"Ex: 2024/A-45",landlordName:"Ex: Ahmed Mahmoudi",propertyAddress:"Ex: Cit Ennasr N50, Oran",attendingPhysicianName:"Ex: Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)"},genderOptions:{male:"Masculin",female:"Fminin"},educationLevelOptions:{primary:"Primaire",middle:"Collge",high:"Lyce",university:"Universitaire",postgraduate:"Post-universitaire"}}},de:{...e0},es:{...e0},tr:{...e0},ja:{...e0}},Rr={ar:[{name:"",code:"dz",phoneCode:"213",flag:""},{name:"",code:"sa",phoneCode:"966",flag:""},{name:"",code:"eg",phoneCode:"20",flag:""},{name:"",code:"ma",phoneCode:"212",flag:""},{name:"",code:"ae",phoneCode:"971",flag:""},{name:"",code:"tn",phoneCode:"216",flag:""},{name:"",code:"iq",phoneCode:"964",flag:""},{name:"",code:"jo",phoneCode:"962",flag:""},{name:"",code:"kw",phoneCode:"965",flag:""},{name:"",code:"lb",phoneCode:"961",flag:""},{name:"",code:"om",phoneCode:"968",flag:""},{name:"",code:"qa",phoneCode:"974",flag:""},{name:"",code:"sy",phoneCode:"963",flag:""},{name:"",code:"fr",phoneCode:"33",flag:""},{name:" ",code:"us",phoneCode:"1",flag:""},{name:"",code:"ca",phoneCode:"1",flag:""},{name:"",code:"de",phoneCode:"49",flag:""},{name:"",code:"es",phoneCode:"34",flag:""},{name:"",code:"tr",phoneCode:"90",flag:""}],en:[{name:"Algeria",code:"dz",phoneCode:"213",flag:""},{name:"Saudi Arabia",code:"sa",phoneCode:"966",flag:""},{name:"Egypt",code:"eg",phoneCode:"20",flag:""},{name:"Morocco",code:"ma",phoneCode:"212",flag:""},{name:"UAE",code:"ae",phoneCode:"971",flag:""},{name:"Tunisia",code:"tn",phoneCode:"216",flag:""},{name:"Iraq",code:"iq",phoneCode:"964",flag:""},{name:"Jordan",code:"jo",phoneCode:"962",flag:""},{name:"Kuwait",code:"kw",phoneCode:"965",flag:""},{name:"Lebanon",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syria",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"United States",code:"us",phoneCode:"1",flag:""},{name:"Canada",code:"ca",phoneCode:"1",flag:""},{name:"Germany",code:"de",phoneCode:"49",flag:""},{name:"Spain",code:"es",phoneCode:"34",flag:""},{name:"Turkey",code:"tr",phoneCode:"90",flag:""}]},y9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),od=t=>(n,r)=>{const i=K0[t]||K0.en,s=K0.en;let a=y9(i,n)||y9(s,n)||n;return r&&Object.keys(r).forEach(o=>{a=a.replace(new RegExp(`\\{${o}\\}`,"g"),String(r[o]))}),a},xl="https://datas.gitut.com";async function of(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch ${e} from ${t}. Status: ${n.status} ${n.statusText}`);const r=await n.text();try{return JSON.parse(r)}catch{const s=r.length>100?r.substring(0,100)+"...":r;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${s}"`)}}const vme=async()=>{const t=`${xl}/data/json/all-services-public.json`;return of(t,"all-services-public.json").catch(()=>[])},Fn={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5,items:[]},ai:{apiKey:"",useAdminKey:!0}},xme=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),bme="https://gitut.com/api/",_me="@@??YOUYOU@@??YOUYOU1936";function wme(){return new Promise((t,e)=>{if(Br.currentUser)return t(Br.currentUser);const n=Br.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function Kt(t,e){try{const r=await(await wme()).getIdToken(),i=await fetch(bme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":_me},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const ll=async t=>Kt("uploadFilesToGitHub",t),_m=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await Kt("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},v9=async t=>{var y;const e=`${xl}/data/json/${t}-cafes-public.json`,n=`${xl}/data/json/${t}-all-services-public.json`,r=`${xl}/data/json/site-settings-public.json`,i=`${xl}/data/json/${t}-pages-public.json`,[s,a,o,l]=await Promise.all([of(n,`${t}-all-services-public.json`),of(e,`${t}-cafes-public.json`),of(r,"site-settings-public.json"),of(i,`${t}-pages-public.json`)]);let c=[];const u=s.filter(_=>_.serviceType==="doc"),f=s.filter(_=>_.serviceType==="static-doc"),h=s.filter(_=>_.serviceType==="site"),p=((y=o.ads)==null?void 0:y.items)||[],v={...Fn,...o,payment:{...Fn.payment,...o.payment||{}},pricing:{...Fn.pricing,...o.pricing||{}},social:{...Fn.social,...o.social||{}},ads:{...Fn.ads,...o.ads||{}},ai:{...Fn.ai,...o.ai||{}}},g=c.map(_=>({..._,createdAt:_.createdAt?Wr.firestore.Timestamp.fromDate(new Date(_.createdAt)):Wr.firestore.Timestamp.now(),publishedAt:_.publishedAt?Wr.firestore.Timestamp.fromDate(new Date(_.publishedAt)):void 0}));return{documents:u,staticDocuments:f,cafes:a,siteSettings:v,pages:l,blogPosts:g,sites:h,ads:p,services:s}},x9=async t=>{const e=`${xl}/data/json/${t}-locations.json`;return of(e,`${t}-locations.json`)},VA=async()=>Kt("getCollection",{collection:"cafes"}),WA=async()=>Kt("getCollection",{collection:"users"}),Zk=async t=>Kt("getDoc",{collection:"cafes",id:t}),Tme=async t=>(await Kt("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,Ax=async t=>Kt("getDoc",{collection:"users",id:t}),b9=async()=>Kt("getMonthlyRevenue",{}),Eme=async(t,e)=>Kt("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),Cme=async(t,e)=>{await Kt("updateDoc",{collection:"cafes",id:t,data:e})},eI=async(t,e)=>Kt("deductCredits",{userId:t.id,amount:e}),Sme=async(t,e)=>Kt("syncOfflineDeductions",{userId:t,deductions:e}),Dme=async(t,e)=>{const n=bm.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},Ame=async(t,e)=>{await bm.collection("jobs").doc(t).update(e)},Nme=async t=>Kt("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),qA=async()=>Kt("getCollection",{collection:"payment_requests",orderBy:"date"}),kme=async t=>Kt("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),Ime=async()=>Kt("getCollection",{collection:"invoices",orderBy:"date"}),_9=async(t,e,n,r,i)=>Kt("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),Rme=async t=>Kt("approvePaymentRequest",{requestId:t.id}),w9=async()=>Kt("getDataVersion",{}),Pme=async()=>Kt("incrementDataVersion",{}),jb=async()=>Kt("getDoc",{collection:"settings",id:"site"}),AH=async t=>Kt("updateDoc",{collection:"settings",id:"site",data:t}),$A=async()=>{const t=await Kt("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},Fme=async t=>Kt("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),sh=t=>({getAll:()=>Kt("getCollection",{collection:t}),get:e=>Kt("getDoc",{collection:t,id:e}),create:async e=>await Kt("createDoc",{collection:t,data:e}),update:async(e,n)=>{await Kt("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await Kt("deleteDoc",{collection:t,id:e})}}),lf={getAll:()=>Kt("getCollection",{collection:"pages"}),create:async t=>{const e=await Kt("createDoc",{collection:"pages",data:t});return await yr("pages",e),e},update:async(t,e)=>{await Kt("updateDoc",{collection:"pages",id:t,data:e});const n=await la("pages",t);n&&await yr("pages",{...n,...e,id:t})},delete:async t=>{await Kt("deleteDoc",{collection:"pages",id:t}),await Lf("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await Kt("updateDoc",{collection:"pages",id:t,data:n});const r=await la("pages",t);r&&await yr("pages",{...r,...n,id:t})}},Ep={...sh("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await Kt("updateDoc",{collection:"ads",id:t,data:n});const r=await la("ads",t);r&&await yr("ads",{...r,...n,id:t})}},Cp={...sh("blog"),create:async t=>{const e=await Kt("createDoc",{collection:"blog",data:t});return await yr("blogPosts",e),e},update:async(t,e)=>{await Kt("updateDoc",{collection:"blog",id:t,data:e});const n=await la("blogPosts",t);n&&await yr("blogPosts",{...n,...e,id:t})},delete:async t=>{await Kt("deleteDoc",{collection:"blog",id:t}),await Lf("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await Kt("updateDoc",{collection:"blog",id:t,data:n});const r=await la("blogPosts",t);r&&await yr("blogPosts",{...r,...n,id:t})}},X0=sh("codes"),cf=sh("sites"),mf=sh("staticDocuments"),T9={getAll:()=>Kt("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await _m(t),n=await Kt("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await yr("voice_prompts",n),n},delete:async(t,e)=>{await Kt("deleteFile",{fileUrl:e}),await Kt("deleteDoc",{collection:"voice_prompts",id:t}),await Lf("voice_prompts",t)}},xp={getAll:async()=>{const t=await Kt("getClients",{});return await Pi("clients",t),t},create:async t=>{const e=await Kt("createClient",{clientData:t});return await yr("clients",e),e},update:async(t,e)=>{await Kt("updateClient",{id:t,updates:e});const n=await la("clients",t);n&&await yr("clients",{...n,...e,id:t})},delete:async t=>{await Kt("deleteClient",{id:t}),await Lf("clients",t)}},ml={...sh("documents"),create:async t=>{const{id:e,...n}=t,r=await Kt("createDocWithId",{collection:"documents",id:e,data:n});return await yr("documents",r),await yr("fullDocuments",r),r}},Up=()=>Kt("getCollection",{collection:"documents"}),wm=sh("baseTemplates"),E9=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",Mme=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:xme(t.prompt),previewTemplateHtml:E9(e),finalTemplateHtml:E9(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await ml.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await ml.create(s)}},zA=async()=>{const t=await Kt("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},Ume=async t=>Kt("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),J0=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(ni)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},xu=async(t,e,n=!1)=>{var r;switch(t){case"cafes":return i=await VA(),i.filter(h=>h.isProfilePublished&&(!e||e==="global"||h.countryCode===e)).map(({id:h,numericId:p,name:v,owner:g,countryCode:y,address:_,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:S,phone:R,socials:D,services:k})=>({id:h,numericId:p,name:v,owner:g,countryCode:y,address:_,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:S,phone:R,socials:D,services:k}));case"global-services":{const h=Rr.en.map(_=>_.code);let p=[];const v=h.map(_=>of(`${xl}/data/json/${_}-all-services-public.json`,`${_}-services`).catch(()=>(console.warn(`Could not fetch services for country: ${_}, skipping.`),[])));return(await Promise.all(v)).forEach(_=>{Array.isArray(_)&&(p=p.concat(_))}),Array.from(new Map(p.map(_=>[_.id,_])).values())}case"services":{let[h,p,v]=await Promise.all([Up(),mf.getAll(),cf.getAll()]);const g=[];return{mainData:[...h.map(x=>({...x,serviceType:"doc"})),...p.map(x=>({...x,serviceType:"static-doc"})),...v.map(x=>({...x,serviceType:"site"}))].filter(x=>!x.countryCode||e==="global"||x.countryCode===e).map(x=>{if(x.serviceType==="doc"){const{id:w,name:C,description:S,countryCode:R,slug:D,tags:k,previewTemplateHtml:I,finalTemplateHtml:F,requiredFields:P}=x,N={id:w,name:C,description:S,previewTemplateHtml:I,finalTemplateHtml:F,requiredFields:P||[]};let O=`data/json/documents/${D||w}.json`;R&&R!=="global"&&(O=`data/json/documents/${R}/${D||w}.json`),g.push({path:O,data:N});const{previewTemplateHtml:U,finalTemplateHtml:H,requiredFields:G,complexFields:J,spokenFields:Z,visitorExamplePrompt:z,cafeExamplePrompt:Y,previewTemplateUrl:B,finalTemplateUrl:j,cafeId:q,fieldCustomizations:X,questions:Q,...te}=x;return te}else if(x.serviceType==="static-doc"){const{id:w,name:C,description:S,countryCode:R,fileUrl:D,slug:k,tags:I,serviceType:F}=x;return{id:w,name:C,description:S,countryCode:R,fileUrl:D,slug:k,tags:I,serviceType:F}}else if(x.serviceType==="site"){const{id:w,name:C,url:S,type:R,description:D,countryCode:k,tags:I,slug:F,serviceType:P,templateFields:N,jsonTemplate:O}=x;return{id:w,name:C,url:S,type:R,description:D,countryCode:k,tags:I,slug:F,serviceType:P}}return x}),extraFiles:g}}case"blog":{let h=await Cp.getAll();const p=w=>{if(!w)return;if(w instanceof Wr.firestore.Timestamp)return w.toDate().toISOString();if(typeof w=="object"&&w!==null&&typeof w.seconds=="number")return new Date(w.seconds*1e3).toISOString();const C=new Date(w);return isNaN(C.getTime())?String(w):C.toISOString()},v=h.filter(w=>w.enabled).map(w=>({...w,createdAt:p(w.createdAt),publishedAt:p(w.publishedAt)})),g=new Set;v.forEach(w=>{(w.tags?w.tags.split(",").map(S=>S.trim().toLowerCase()).filter(Boolean):[]).forEach(S=>g.add(S))});const y=new Map;Array.from(g).forEach((w,C)=>{y.set(w,C+1)});const x={"tags-map-public.json":[Object.fromEntries(y)]};for(const w of v){const C=w.tags?w.tags.split(",").map(R=>R.trim().toLowerCase()).filter(Boolean):[];if(C.length===0)continue;const S=Object.keys(w.content||{});for(const R of S){const{countryCode:D,...k}=w,I={...k,content:w.content[R]};for(const F of C){const P=y.get(F);if(P===void 0)continue;const N=`${R}-${P}-blog-posts-public.json`;x[N]||(x[N]=[]),x[N].push(I)}}}return x}case"pages":let i=await lf.getAll();return i.filter(h=>h.enabled);case"settings":if(i=await jb(),!i)return{};const a=(await Ep.getAll()).filter(h=>h.enabled),l=(await lf.getAll()).filter(h=>h.enabled).map(h=>({title:h.title,slug:h.slug,lang:h.lang||"ar"})),{payment:c,ai:u,...f}=i;return{...f,ads:{pdfInterstitialTimer:((r=f.ads)==null?void 0:r.pdfInterstitialTimer)||5,items:a},footerPages:l};case"documents":return i=await Up(),i;case"templates-paginated":{let h=await Up();const p=y=>{const{description:_,...x}=y;return x},v=20,g=Math.ceil(h.length/v);if(n){const y=[];for(let _=0;_<g;_++){const x=h.slice(_*v,(_+1)*v);y.push({fileName:`templates-part-${_+1}.json`,data:x.map(p)})}return y}for(let y=0;y<g;y++){const x=h.slice(y*v,(y+1)*v).map(p),w=new Blob([JSON.stringify(x)],{type:"application/json"}),C=URL.createObjectURL(w),S=document.createElement("a");S.href=C,S.download=`templates-part-${y+1}-of-${g}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(C),await new Promise(R=>setTimeout(R,300))}return{downloadInitiated:!0,chunks:g}}}};async function Ome(t){const{saveAs:e}=await ete(async()=>{const{saveAs:u}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:u}},[]),n=new Gd,r=n.folder("json"),i=n.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:t,fileName:`${t}-cafes-public.json`},{dataType:"services",countryCode:t,fileName:`${t}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:t,fileName:`${t}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const u of s){const f=await xu(u.dataType,u.countryCode);r.file(u.fileName,JSON.stringify(f))}const a=await xu("templates-paginated","global",!0);if(Array.isArray(a))for(const u of a)r.file(u.fileName,JSON.stringify(u.data));const l=(await mf.getAll()).filter(u=>!u.countryCode||u.countryCode===t);for(const u of l){const f=u.fileUrl.split("/").pop();if(f)try{const h=await fetch(`${xl}/data/pdf/${f}`);if(h.ok){const p=await h.blob();i.file(f,p)}else console.warn(`Could not fetch static PDF: ${xl}/data/pdf/${f}. Status: ${h.status}`)}catch(h){console.error(`Error fetching static PDF: ${xl}/data/pdf/${f}`,h)}}const c=await n.generateAsync({type:"blob"});e(c,`${t}-public-data.zip`)}const NH=W.createContext(void 0),Lme=({children:t})=>{const[e,n]=W.useState(null),[r,i]=W.useState(!0),s=W.useCallback(async p=>{const v=await mme();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await Sme(p,v),await gme(),console.log("Sync successful.");const g=await Ax(p);if(g&&Br.currentUser){const y={...g,emailVerified:Br.currentUser.emailVerified};n(y),await yr("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=W.useCallback(async()=>{const p=Br.currentUser;if(p)try{const v=await Ax(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await yr("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);W.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),W.useEffect(()=>{i(!0);const p=Br.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await Ax(v.uid);if(y){const _={...y,emailVerified:v.emailVerified},x=bm.collection("users").doc(v.uid);!(await x.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await x.set({cafeId:y.cafeId,email:v.email})),n(_),await yr("userProfile",{..._,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Br.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const _=await la("userProfile","currentUser");_&&_.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(_)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await Br.signOut())}finally{i(!1)}else n(null),await Lf("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await yr("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await Br.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const _=await Ax(y.uid);if(!_)throw await Br.signOut(),new Error("User profile not found in database.");const x={..._,emailVerified:y.emailVerified};return n(x),await yr("userProfile",{...x,id:"currentUser"}),x}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await Br.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const _=await Eme(y.user,g);return _&&_.cafeId?await bm.collection("users").doc(y.user.uid).set({cafeId:_.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Br.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await Br.signOut(),n(null),await Lf("userProfile","currentUser")},f=async p=>{await Br.sendPasswordResetEmail(p)},h=async()=>{if(Br.currentUser)await Br.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(NH.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},Nr=()=>{const t=W.useContext(NH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},C9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),Ai=()=>{const t=Ar(),e=W.useMemo(()=>{const s=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return s?s[1]:null},[t.pathname]),n=W.useMemo(()=>ad(e||"dz"),[e]),r=n==="ar"?"rtl":"ltr";return W.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=r},[n,r]),{language:n,t:(s,a)=>{const o=K0[n],l=K0.en;let c=C9(o,s)||C9(l,s)||s;return a&&Object.keys(a).forEach(u=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),String(a[u]))}),c},dir:r,countryCode:e}};var kH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S9=wl.createContext&&wl.createContext(kH),jme=["attr","size","title"];function Bme(t,e){if(t==null)return{};var n=Vme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(this,arguments)}function D9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(n),!0).forEach(function(r){Wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wme(t,e,n){return e=qme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qme(t){var e=$me(t,"string");return typeof e=="symbol"?e:e+""}function $me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(t){return t&&t.map((e,n)=>wl.createElement(e.tag,Vb({key:n},e.attr),IH(e.child)))}function Pt(t){return e=>wl.createElement(zme,Bb({attr:Vb({},t.attr)},e),IH(t.child))}function zme(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=Bme(t,jme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),wl.createElement("svg",Bb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Vb(Vb({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&wl.createElement("title",null,s),t.children)};return S9!==void 0?wl.createElement(S9.Consumer,null,n=>e(n)):e(kH)}function tI(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function RH(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Hme(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Gme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Kme(t){return Pt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function Xme(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function PH(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function nI(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function FH(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function Xm(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function Nx(t){return Pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function MH(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function A9(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function HA(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function xw(t){return Pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function bw(t){return Pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function GA(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Jme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function bC(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function Yme(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function UH(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function rI(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function iI(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function Ta(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function _w(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function ww(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function OH(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function KA(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Qme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function LH(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Tw(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function jH(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function Zme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function sI(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function ege(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function zy(t){return Pt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function tge(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function BH(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function nge(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function VH(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function WH(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function rge(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function qH(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function ca(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function ige(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function aI(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function _c(t){return Pt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Y0(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function sge(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function age(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function $H(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function lc(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Ew(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function Cw(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function XA(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Ct(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function oge(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function lge(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function zH(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function jf(t){return Pt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Jm(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function cge(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function Pl(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function uge(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function dge(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function fge(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const hge=()=>{const{user:t,logout:e}=Nr(),n=Si(),{t:r,countryCode:i,language:s}=Ai(),[a,o]=W.useState("G"),[l,c]=W.useState(!1),[u,f]=W.useState(!1),[h,p]=W.useState(!1),v=W.useRef(null),g=i?`/${i}/`:"/",y=W.useMemo(()=>Rr[s]||Rr.en,[s]),_=W.useMemo(()=>{const D=new Set;return Object.values(Rr).forEach(k=>k.forEach(I=>D.add(I.code))),Array.from(D)},[]),x=W.useMemo(()=>_.map(D=>y.find(k=>k.code===D)||Rr.en.find(k=>k.code===D)||{name:D.toUpperCase(),code:D,phoneCode:"",flag:""}).sort((D,k)=>D.name.localeCompare(k.name,s)),[_,y,s]),w=W.useMemo(()=>i?x.find(D=>D.code===i):null,[i,x]);W.useEffect(()=>{let D,k;const I=setInterval(()=>{c(!0),k=setTimeout(()=>{o(F=>F==="G"?"@":"G")},250),D=setTimeout(()=>{c(!1)},500)},2500);return()=>{clearInterval(I),clearTimeout(D),clearTimeout(k)}},[]),W.useEffect(()=>{const D=k=>{v.current&&!v.current.contains(k.target)&&f(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const C=()=>{e(),n("/")},S=D=>{f(!1),n(D==="global"?"/":`/${D}/`)},R=D=>{i||(D.preventDefault(),p(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(nn,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${l?"swapping":""}`,children:a}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:v,children:[d.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[w?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:w.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(zy,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:r("header.allCountries")})]}),d.jsx(HA,{className:"text-gray-500 text-xs"})]}),u&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>S("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(zy,{className:"text-gray-600"}),d.jsx("span",{children:r("header.allCountriesSearch")})]})}),x.map(D=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>S(D.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:D.flag}),d.jsx("span",{children:D.name})]})},D.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(nn,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:C,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(nn,{to:g,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(nn,{to:`/${i||"dz"}/login/`,onClick:R,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>p(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:D=>D.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:r("header.selectCafeCountry")}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:x.map(D=>d.jsx("li",{children:d.jsxs(nn,{to:`/${D.code}/login/`,onClick:()=>p(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:D.flag}),d.jsx("span",{className:"font-semibold",children:D.name})]})},D.code))})]})})]})},HH=W.createContext(void 0),pge=({children:t})=>{const[e,n]=W.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(HH.Provider,{value:{admin:e,login:r,logout:i},children:t})},Gv=()=>{const t=W.useContext(HH);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},GH=W.createContext(void 0),mge=({children:t})=>{const{user:e,loading:n}=Nr(),{admin:r}=Gv(),i=Ar(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=W.useState([]),[c,u]=W.useState([]),[f,h]=W.useState([]),[p,v]=W.useState([]),[g,y]=W.useState([]),[_,x]=W.useState(null),[w,C]=W.useState([]),[S,R]=W.useState([]),[D,k]=W.useState([]),[I,F]=W.useState([]),[P,N]=W.useState([]),[O,U]=W.useState([]),[H,G]=W.useState([]),[J,Z]=W.useState([]),[z,Y]=W.useState([]),[B,j]=W.useState([]),[q,X]=W.useState(null),[Q,te]=W.useState(null),[ae,ue]=W.useState(!0),[de,Se]=W.useState(!0),[Pe,pe]=W.useState(!1),[je,V]=W.useState(null),xe=ge=>ge?ge.map(De=>{if(!De)return De;const Oe=Te=>{if(!Te)return;if(Te instanceof Wr.firestore.Timestamp)return Te;if(typeof Te=="object"&&Te!==null&&typeof Te.seconds=="number"&&typeof Te.nanoseconds=="number")return new Wr.firestore.Timestamp(Te.seconds,Te.nanoseconds);const Ue=new Date(Te);if(!isNaN(Ue.getTime()))return Wr.firestore.Timestamp.fromDate(Ue)};return{...De,createdAt:Oe(De.createdAt)||Wr.firestore.Timestamp.now(),publishedAt:Oe(De.publishedAt)}}):[],_e=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[ge,De,Oe,Te,Ue,Le,Je,lt,ct,Bt,_n,dn]=await Promise.all([xi("cafes"),xi("fullDocuments"),xi("staticDocuments"),xi("sites"),xi("baseTemplates"),la("siteSettings","main"),xi("codes"),xi("pages"),xi("blogPosts"),xi("ads"),xi("voice_prompts"),la("offlineMetadata","syncStatus")]);if(De.length>0||ge.length>0)return u(De),l(De),h(Oe),F(Te),v(ge),j(Ue),x(Le),Z(Je),C(lt),R(xe(ct)),k(Bt),Y(_n),console.log("Successfully loaded admin dashboard data from IndexedDB."),(dn==null?void 0:dn.version)||0}catch(ge){console.error("Could not load admin dashboard data from IndexedDB:",ge)}return 0},le=W.useCallback(async ge=>{const[De,Oe,Te,Ue,Le,Je,lt,ct,Bt,_n,dn,ur,$n]=await Promise.all([VA(),Up(),mf.getAll(),jb(),lf.getAll(),Cp.getAll(),Ep.getAll(),cf.getAll(),X0.getAll(),T9.getAll(),wm.getAll(),$A(),zA()]),Ln=await fetch("https://datas.gitut.com/data/json/site-seo.json"),Sn=Ln.ok?await Ln.json():{},At=xe(Je);l(Oe),u(Oe),h(Te),v(De),Z(Bt),Y(_n),j(dn),X(ur),te($n);const Zt={...Fn,...Ue||{},seo:{...(Ue==null?void 0:Ue.seo)||{},...Sn},payment:{...Fn.payment,...(Ue==null?void 0:Ue.payment)||{}},pricing:{...Fn.pricing,...(Ue==null?void 0:Ue.pricing)||{}},social:{...Fn.social,...(Ue==null?void 0:Ue.social)||{}},ads:{...Fn.ads,...(Ue==null?void 0:Ue.ads)||{}},ai:{...Fn.ai,...(Ue==null?void 0:Ue.ai)||{}}};x(Zt),C(Le),R(At),k(lt),F(ct);const he=[...Oe.map(we=>({...we,serviceType:"doc"})),...Te.map(we=>({...we,serviceType:"static-doc"})),...ct.map(we=>({...we,serviceType:"site"}))];y(he),await Promise.all([Pi("cafes",De),Pi("fullDocuments",Oe),Pi("staticDocuments",Te),Pi("sites",ct),Pi("baseTemplates",dn),Pi("codes",Bt),Pi("pages",Le),Pi("blogPosts",At),Pi("ads",lt),Pi("voice_prompts",_n),yr("siteSettings",{...Zt,id:"main"}),yr("offlineMetadata",{id:"syncStatus",version:ge})])},[]),re=W.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");ue(!0);try{const{version:ge}=await w9();await le(ge)}finally{ue(!1)}},[r,le]),oe=W.useCallback(async()=>{try{console.log("Refetching all cafes...");const ge=await VA();v(ge),await Pi("cafes",ge),console.log("Cafes refetched and cache updated.")}catch(ge){console.error("Failed to refetch cafes:",ge)}},[]);W.useEffect(()=>{const ge=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Oe,Te,Ue,Le,Je,lt,ct]=await Promise.all([xi("cafes"),xi("fullDocuments"),xi("staticDocuments"),xi("sites"),xi("baseTemplates"),la("siteSettings","main"),xi("codes")]);if(Te.length>0)return v(Oe),u(Te),h(Ue),F(Le),j(Je),x(lt),Z(ct),l(Te),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Oe){console.error("Could not load user dashboard data from IndexedDB:",Oe)}return!1};(async()=>{if(!n){if(s&&!r){ue(!1),Se(!1);return}if(ue(!0),V(null),s&&r){const Oe=await _e();ue(!1);try{const{version:Te}=await w9();Te>Oe?(console.log(`New data version available. Local: ${Oe}, Remote: ${Te}. Syncing...`),await le(Te),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Te){const Ue=Te instanceof Error?Te.message:String(Te);console.error("Could not check for remote data updates. Running on cached data.",Te),Oe===0&&(Ue.includes("no such table: data_versions")?V("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):V(Ue))}}else if(!s){a&&e&&await ge()&&ue(!1);try{const Oe=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Te=Oe?Oe[1]:null,Ue=e?X0.getAll():Promise.resolve([]),Le=e?T9.getAll():Promise.resolve([]),Je=e?$A():Promise.resolve(null),lt=e?zA():Promise.resolve(null),ct=e?jb():Promise.resolve(null),Bt=e!=null&&e.cafeId?Zk(e.cafeId):Promise.resolve(null);if(Te){const Ln=v9(Te),Sn=x9(Te),[At,Zt,he,we,Me,Ge,ft,It]=await Promise.all([Ln,Sn,Ue,Le,Je,lt,ct,Bt]);let hn=Array.isArray(At.cafes)?At.cafes:[];if(It){const dr=hn.findIndex(jn=>jn.id===It.id);dr>-1?hn[dr]=It:hn.push(It)}l(Array.isArray(At.documents)?At.documents:[]),h(Array.isArray(At.staticDocuments)?At.staticDocuments:[]),v(hn);const an=ft?{...At.siteSettings,...ft,ads:At.siteSettings.ads}:At.siteSettings;x(an),C(Array.isArray(At.pages)?At.pages:[]),R(Array.isArray(At.blogPosts)?At.blogPosts:[]),k(Array.isArray(At.ads)?At.ads:[]),F(Array.isArray(At.sites)?At.sites:[]),y(Array.isArray(At.services)?At.services:[]),N(Array.isArray(Zt==null?void 0:Zt.wilayas)?Zt.wilayas:[]),U(Array.isArray(Zt==null?void 0:Zt.dairas)?Zt.dairas:[]),G(Array.isArray(Zt==null?void 0:Zt.communes)?Zt.communes:[]),Se(!1)}else{Se(!0);const[Ln,Sn,At]=await Promise.all([vme(),v9("dz"),x9("dz")]),Zt=Array.isArray(Ln)?Ln:[];y(Zt),v([]);const he=Zt.filter(Ge=>Ge.serviceType==="doc"),we=Zt.filter(Ge=>Ge.serviceType==="static-doc"),Me=Zt.filter(Ge=>Ge.serviceType==="site");l(he),h(we),F(Me),x(Sn.siteSettings),C(Array.isArray(Sn.pages)?Sn.pages:[]),R(Array.isArray(Sn.blogPosts)?Sn.blogPosts:[]),k(Array.isArray(Sn.ads)?Sn.ads:[]),N(Array.isArray(At==null?void 0:At.wilayas)?At.wilayas:[]),U(Array.isArray(At==null?void 0:At.dairas)?At.dairas:[]),G(Array.isArray(At==null?void 0:At.communes)?At.communes:[]),Se(!1)}const[_n,dn,ur,$n]=await Promise.all([Ue,Le,Je,lt]);Z(Array.isArray(_n)?_n:[]),e&&Array.isArray(_n)&&await Pi("codes",_n),Y(Array.isArray(dn)?dn:[]),X(ur),te($n)}catch(Oe){console.error("Failed to load application data:",Oe),V(Oe instanceof Error?Oe.message:"An unknown error occurred.")}finally{ue(!1)}}}})()},[i.pathname,s,a,e,r,n,le]);const fe=W.useCallback(async()=>{if(c.length===0){pe(!0);try{const ge=await xi("fullDocuments");if(ge.length>0)u(ge);else{const De=await Up(),Oe=Array.isArray(De)?De:[];u(Oe),await Pi("fullDocuments",Oe)}}catch(ge){console.error("Failed to load full documents:",ge)}finally{pe(!1)}}},[c.length]),be=W.useCallback(ge=>{const De=xe([ge])[0];R(Oe=>[De,...Oe].sort((Te,Ue)=>{const Le=(Te.publishedAt||Te.createdAt).toDate();return(Ue.publishedAt||Ue.createdAt).toDate().getTime()-Le.getTime()}))},[]),ie=W.useCallback((ge,De)=>{R(Oe=>Oe.map(Te=>Te.id===ge?xe([{...Te,...De}])[0]:Te))},[]),ce=W.useCallback(ge=>{R(De=>De.filter(Oe=>Oe.id!==ge))},[]),me={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:_,pages:w,blogPosts:S,ads:D,sites:I,wilayas:P,dairas:O,communes:H,codes:J,voicePrompts:z,baseTemplates:B,excelCommands:q,documentCommands:Q,loading:ae,locationsLoading:de,loadingFullDocuments:Pe,error:je,loadFullDocuments:fe,refetchAdminData:re,refetchCafes:oe,addBlogPost:be,updateBlogPost:ie,deleteBlogPost:ce};return d.jsx(GH.Provider,{value:me,children:t})},sn=()=>{const t=W.useContext(GH);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},_C=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(tI,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(PH,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(RH,{...n})});default:return null}},gge=()=>{const{siteSettings:t,pages:e,blogPosts:n,loading:r}=sn(),{t:i,language:s}=Ai(),o=Ar().pathname.match(/^\/([a-z]{2})(?:\/|$)/),l=o?o[1]:"dz",c=W.useMemo(()=>n.some(g=>g.enabled&&g.content&&g.content[s]),[n,s]),u=W.useMemo(()=>{const g=s==="ar"?"/blog/":`/blog/${s}/`,y=vu.find(x=>x.code===s),_=s==="ar"?i("footer.blog"):`Blog (${(y==null?void 0:y.name)||s.toUpperCase()})`;return{path:g,linkText:_}},[s,i]);if(r||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const f=t.social&&t.social[l]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},h=t.seo&&t.seo[l]||t.seo&&t.seo.default||{siteName:"Gitut"},p=f.facebook||f.twitter||f.instagram,v=e.filter(g=>g.enabled&&(g.lang===s||!g.lang&&s==="ar"));return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(v.length>0||c)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[c&&d.jsx(nn,{to:u.path,className:"hover:text-green-600 hover:underline",children:u.linkText}),d.jsx(nn,{to:`/${l}/services/`,className:"hover:text-green-600 hover:underline",children:i("footer.services")}),v.map(g=>d.jsx(nn,{to:`/${l}/page/${g.slug}/`,className:"hover:text-green-600 hover:underline",children:g.title},g.id))]}),p&&d.jsxs("div",{className:"flex justify-center gap-6",children:[f.facebook&&d.jsx(_C,{type:"facebook",url:f.facebook}),f.twitter&&d.jsx(_C,{type:"twitter",url:f.twitter}),f.instagram&&d.jsx(_C,{type:"instagram",url:f.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",h.siteName,". ",i("footer.rightsReserved")]})]})})})},N9=t=>t?t.replace(/[]/g,"").replace(//g,""):"",k9=()=>{const{services:t,siteSettings:e,loading:n}=sn(),r=Si(),{countryCode:i}=ha(),{t:s,language:a}=Ai(),o=i||"dz",l=W.useMemo(()=>{const U=(e==null?void 0:e.seo[o])||(e==null?void 0:e.seo.default);return[{title:(U==null?void 0:U.mainPageTitle)||s("findPage.hero.title1"),subtitle:(U==null?void 0:U.mainPageSubtitle)||s("findPage.hero.subtitle1")},{title:s("findPage.hero.title2"),subtitle:s("findPage.hero.subtitle2")}]},[e,s,o]),[c,u]=W.useState(0),f=W.useMemo(()=>i?t.filter(U=>!U.countryCode||U.countryCode===i):t,[t,i]);W.useEffect(()=>{if(n)return;const U=setInterval(()=>{u(H=>(H+1)%l.length)},7e3);return()=>clearInterval(U)},[l.length,n]);const[h,p]=W.useState(""),[v,g]=W.useState([]),[y,_]=W.useState(!1),[x,w]=W.useState([]),[C,S]=W.useState(!1),R=W.useRef(null),D=window.SpeechRecognition||window.webkitSpeechRecognition,k=!!D;W.useEffect(()=>{if(h.trim()){const U=N9(h.toLowerCase()),H=f.filter(G=>N9(G.name.toLowerCase()).includes(U));g(H)}else g([])},[h,f]),W.useEffect(()=>{if(!k)return;const U=new D;U.continuous=!1,U.interimResults=!1;let H="ar-SA";switch(a){case"en":H="en-US";break;case"fr":H="fr-FR";break;case"de":H="de-DE";break;case"es":H="es-ES";break;case"tr":H="tr-TR";break;case"ja":H="ja-JP";break}return U.lang=H,U.onresult=G=>p(G.results[0][0].transcript),U.onerror=G=>{console.error("Speech recognition error",G.error),alert(`Speech recognition error: ${G.error}`)},U.onend=()=>S(!1),R.current=U,()=>{var G;return(G=R.current)==null?void 0:G.abort()}},[k,a]);const I=()=>{var U,H;if(!k){alert("Your browser does not support voice search.");return}C?(U=R.current)==null||U.stop():((H=R.current)==null||H.start(),S(!0))},F=U=>{p(""),x.find(H=>H.id===U.id&&H.serviceType===U.serviceType)||w(H=>[...H,U])},P=(U,H)=>{w(G=>G.filter(J=>!(J.id===U&&J.serviceType===H)))},N=U=>{U.preventDefault();const H=x.filter(J=>J.serviceType==="doc"||J.serviceType==="site");if(H.length===0){alert(s("findPage.alert.selectFillable"));return}const G=H.map(J=>J.id);r(`/${i||"dz"}/find-cafe`,{state:{documentIds:G}})},O=x.filter(U=>U.serviceType==="doc"||U.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:n?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l[c].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:l[c].subtitle})]},c)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("findPage.step1.title")}),d.jsx("form",{onSubmit:U=>U.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:s("findPage.step1.placeholder"),value:h,onChange:U=>p(U.target.value),onFocus:()=>_(!0),onBlur:()=>setTimeout(()=>_(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),k&&d.jsx("button",{type:"button",onClick:I,title:s("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${C?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(_c,{className:"h-5 w-5"})}),y&&v.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:v.map(U=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>F(U),children:[d.jsx("span",{children:U.name}),x.find(H=>H.id===U.id&&H.serviceType===U.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${U.serviceType}-${U.id}`))})]})})]}),d.jsx("section",{children:x.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[s("findPage.selectedDocs.title")," (",x.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:x.map(U=>{const H="description"in U?U.description:"url"in U?U.url:"",G=U.serviceType==="static-doc"?d.jsx(Tw,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):U.serviceType==="site"?d.jsx(zy,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[G,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:U.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:H}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[U.serviceType==="static-doc"&&d.jsx("a",{href:`/${i||"dz"}/view/${U.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:s("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>P(U.id,U.serviceType),title:s("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(jf,{})})]})]},`${U.serviceType}-${U.id}`)})}),d.jsx("form",{onSubmit:N,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:O===0,title:O===0?s("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:s("findPage.selectedDocs.nextStepButton",{count:O})}),d.jsx(nI,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:s("findPage.selectedDocs.emptyState")})})})]})},cc=({placement:t})=>{const{ads:e}=sn(),n=W.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):null:null},yge="https://pub-f25b4129424647319985a15a082e6685.r2.dev",_i=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${yge}/${t.startsWith("/")?t.substring(1):t}`:"";async function KH(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const JA=new URL("/api/gun",window.location.origin);JA.protocol=JA.protocol==="https:"?"wss:":"ws:";const XH=JA.toString();console.log(`[Gun.js] Attempting to connect to peer: ${XH}`);const vge=[XH];let JH=null;typeof window<"u"&&window.Gun&&(JH=window.Gun({peers:vge}));const Qn=JH,YH=W.createContext(void 0),kx=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,xge=({children:t})=>{const{user:e}=Nr(),{cafes:n}=sn(),[r,i]=W.useState(null);W.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),W.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Qn)return;const u=e.cafeId,f=Qn.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),W.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Qn)return;const u=e.cafeId,f=Qn.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await la("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await yr("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=W.useState(null),p=W.useRef(null);return W.useEffect(()=>{if(!u||!Qn){h(!1);return}const v=Qn.get("presence").get(u),g=()=>{const x=p.current,w=x?Date.now()-x<15e3:!1;h(w)},y=v.on(x=>{p.current=x&&typeof x.lastSeen=="number"?x.lastSeen:null,g()}),_=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(_)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=W.useState([]),p=W.useMemo(()=>!Qn||!u?null:Qn.get("chats").get(u),[u]);W.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,_)=>{if(y){g.set(_,{...y,id:_});const x=Array.from(g.values()).sort((w,C)=>w.timestamp-C.timestamp);h(x)}}),()=>p.off()},[p]);const v=W.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},_=kx();p.get(_).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=W.useState({unread:!1,messages:[]}),[h,p]=W.useState(new Map),v=e==null?void 0:e.cafeId;W.useEffect(()=>{if(!v||!Qn)return;const C=Qn.get("chats").get(`admin_${v}`),S=new Map;return C.map().on((R,D)=>{if(R){S.set(D,{...R,id:D});const k=Array.from(S.values()).sort((P,N)=>P.timestamp-N.timestamp),I=k[k.length-1],F=I&&I.senderId!==v&&I.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:k,lastMessage:I,unread:F})}}),()=>C.off()},[v]),W.useEffect(()=>{if(!v||!Qn)return;const C=Qn.get("chats").get(v),S=new Map;return C.map().on((R,D)=>{if(R){const k=new Map;Qn.get(R["#"]).map().on((I,F)=>{if(I){k.set(F,{...I,id:F});const P=Array.from(k.values()).sort((U,H)=>U.timestamp-H.timestamp),N=P[P.length-1],O=N&&N.senderId!==v&&N.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${D}`))||0);S.set(D,{messages:P,lastMessage:N,unread:O}),p(new Map(S))}})}}),()=>C.off()},[v]);const g=W.useCallback(C=>{var D;if(!v||!Qn)return;const S=Qn.get("chats").get(`admin_${v}`),R={text:C,senderId:v,senderName:((D=n.find(k=>k.id===v))==null?void 0:D.name)||"Cafe",timestamp:Date.now()};S.get(kx()).put(R)},[v,n]),y=W.useCallback((C,S)=>{var k;if(!v||!Qn)return;const R=Qn.get("chats").get(v).get(C),D={text:S,senderId:v,senderName:((k=n.find(I=>I.id===v))==null?void 0:k.name)||"Cafe",timestamp:Date.now()};R.get(kx()).put(D)},[v,n]),_=W.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(C=>({...C,unread:!1})))},[v]),x=W.useCallback(C=>{v&&(localStorage.setItem(`lastRead_${v}_${C}`,String(Date.now())),p(S=>{const R=new Map(S),D=R.get(C);return D&&R.set(C,{...D,unread:!1}),R}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(C=>C.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:_,markVisitorAsRead:x,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=W.useState(new Map),[h,p]=W.useState(null),[v,g]=W.useState([]);W.useEffect(()=>{if(!Qn)return;const w=Qn.get("chats"),C=new Map;return w.map().on((S,R)=>{if(R.startsWith("admin_")){const D=R.replace("admin_","");Qn.get(S["#"]).map().on((k,I)=>{var F;if(k){const P=((F=n.find(O=>O.id===D))==null?void 0:F.name)||`Cafe ${D.substring(0,4)}`,N=C.get(D);if(!N||k.timestamp>N.lastMessage.timestamp){const O=k.senderId!=="admin"&&k.timestamp>(Number(localStorage.getItem(`lastRead_admin_${D}`))||0);C.set(D,{lastMessage:{...k,id:I},unread:O,cafeName:P}),f(new Map(C))}}})}}),()=>w.off()},[n]),W.useEffect(()=>{if(!h||!Qn){g([]);return}const w=Qn.get("chats").get(`admin_${h}`),C=new Map;return w.map().on((S,R)=>{S&&(C.set(R,{...S,id:R}),g(Array.from(C.values()).sort((D,k)=>D.timestamp-k.timestamp)))}),()=>w.off()},[h]);const y=W.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(C=>{const S=new Map(C),R=S.get(w);return R&&S.set(w,{...R,unread:!1}),S})},[]),_=W.useCallback(w=>{if(!h||!Qn)return;const C=Qn.get("chats").get(`admin_${h}`),S={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};C.get(kx()).put(S)},[h]),x=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:_,unreadConversationsCount:x}}};return d.jsx(YH.Provider,{value:c,children:t})},ah=()=>{const t=W.useContext(YH);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},oI=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=W.useState(""),c=W.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};W.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(Y0,{})})]})})]})},QH=({url:t,title:e,description:n})=>{const{t:r}=Ai(),[i,s]=W.useState(!1),[a,o]=W.useState(!1),l=W.useMemo(()=>{let g=t;const y=g.indexOf("?"),_=g.indexOf("#");let x=g,w="";if(y!==-1||_!==-1){const C=Math.min(y===-1?1/0:y,_===-1?1/0:_);x=g.substring(0,C),w=g.substring(C)}return x.endsWith(".html")&&(x=x.slice(0,-5)),x+w},[t]),c=encodeURIComponent(l),u=encodeURIComponent(e),f=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${c}&title=${u}`,icon:d.jsx(Hme,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${c}&description=${u}`,icon:d.jsx(Kme,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${c}&title=${u}`,icon:d.jsx(Xme,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${c}&quote=${u}`,icon:d.jsx(tI,{}),color:"bg-blue-600 hover:bg-blue-700"}],h=()=>{navigator.clipboard.writeText(l).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},p=g=>{navigator.clipboard.writeText(g).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},v=()=>{const g=(n||"").replace(/<[^>]*>/g,""),y=g.substring(0,155)+(g.length>155?"...":""),_=`${e}

${y}

${l}`,x=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${y}</p></div>
      <a href="${l}">${l}</a>
    `;try{if(typeof ClipboardItem>"u"){p(_);return}const w=new Blob([x],{type:"text/html"}),C=new Blob([_],{type:"text/plain"}),S=new ClipboardItem({"text/html":w,"text/plain":C});navigator.clipboard.write([S]).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(R=>{console.error("Async clipboard write failed, falling back to plain text: ",R),p(_)})}catch(w){console.error("Failed to use Clipboard API, falling back to writeText: ",w),p(_)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[f.map(g=>d.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${g.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${g.color}`,children:wl.cloneElement(g.icon,{size:24})},g.name)),d.jsx("button",{onClick:h,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:i?d.jsx(A9,{size:22}):d.jsx(WH,{size:22})}),d.jsx("button",{onClick:v,"aria-label":r("share.copyDetails"),title:r("share.copyDetails"),className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:a?d.jsx(A9,{size:22}):d.jsx(Jme,{size:22})})]})},ls=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Ix=t=>t?t.replace(/[]/g,"").replace(//g,""):"",bge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},_ge=()=>{var B,j,q;const{countryCode:t,numericId:e}=ha(),n=Ar(),{documents:r,cafes:i,siteSettings:s,loading:a}=sn(),{user:o}=Nr(),{language:l}=Ai(),[c,u]=W.useState(void 0),[f,h]=W.useState(!0),[p,v]=W.useState(()=>{var X;return!!((X=n.state)!=null&&X.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:_}=ah(),{isOnline:x}=g(c==null?void 0:c.id),{messages:w,sendMessage:C}=y(c==null?void 0:c.id),[S,R]=W.useState([]),[D,k]=W.useState(""),[I,F]=W.useState(!1);W.useEffect(()=>{var X,Q;if(c&&s){const te=((X=s.seo)==null?void 0:X[t||"dz"])||((Q=s.seo)==null?void 0:Q.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},ae=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",ue=`${c.name} ${ae} ${te.titleSeparator} ${te.siteName}`,de=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):te.metaDescription,Se=_i(c.coverImageUrl)||"https://datas.gitut.com/data/image/gitut-og-main.png";let Pe="en_US";switch(l){case"ar":Pe="ar_AR";break;case"fr":Pe="fr_FR";break;case"de":Pe="de_DE";break;case"es":Pe="es_ES";break;case"tr":Pe="tr_TR";break;case"ja":Pe="ja_JP";break}document.title=ue,ls("description",de,!1),ls("og:title",ue),ls("og:description",de),ls("og:image",Se),ls("og:image:secure_url",Se),ls("og:image:width","1200"),ls("og:image:height","630"),ls("og:url",window.location.href),ls("og:type","profile"),ls("og:site_name",te.siteName),ls("og:locale",Pe),ls("twitter:card","summary_large_image",!1),ls("twitter:url",window.location.href,!1),ls("twitter:title",ue,!1),ls("twitter:description",de,!1),ls("twitter:image",Se,!1)}},[c,s,t,l]),W.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Q=parseInt(e,10),te=i.find(ae=>ae.numericId===Q);if(te)u(te),h(!1);else try{const ae=await Tme(Q);u(ae||void 0)}catch(ae){console.error("Failed to fetch cafe by numericId:",ae),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=W.useMemo(()=>{if(!c)return[];const X=[],Q=new Set([c.id]),te=i.filter(ue=>ue.id!==c.id&&ue.isProfilePublished);return te.filter(ue=>ue.address.commune===c.address.commune&&ue.address.wilaya===c.address.wilaya).forEach(ue=>{X.length<5&&!Q.has(ue.id)&&(X.push(ue),Q.add(ue.id))}),X.length<5&&c.address.daira&&te.filter(de=>de.address.daira===c.address.daira&&de.address.wilaya===c.address.wilaya).forEach(de=>{X.length<5&&!Q.has(de.id)&&(X.push(de),Q.add(de.id))}),X.length<5&&te.filter(de=>de.address.wilaya===c.address.wilaya).forEach(de=>{X.length<5&&!Q.has(de.id)&&(X.push(de),Q.add(de.id))}),X},[c,i]),N=W.useMemo(()=>bge(r),[r]),O=W.useMemo(()=>c?N.filter(X=>c.services.includes(X.groupId)):[],[c,N]),U=W.useMemo(()=>{if(!D)return O;const X=Ix(D.toLowerCase());return O.filter(Q=>Ix(Q.name.toLowerCase()).includes(X))},[O,D]),H=W.useMemo(()=>{if(!D||!I)return[];const X=Ix(D.toLowerCase());return O.filter(Q=>Ix(Q.name.toLowerCase()).includes(X))},[O,D,I]),G=X=>{R(Q=>Q.includes(X)?Q.filter(te=>te!==X):[...Q,X])},J=X=>{G(X),k("")},Z=W.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:X}=c;return c.countryCode==="dz"?`${X.street||""}, ${X.commune||""}, ${X.daira||""}, ${X.wilaya||""}`.replace(/^,|,$/g,"").trim():`${X.street||""}, ${X.city||""}, ${X.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(nn,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const z="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",Y="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:_i(c.coverImageUrl)||Y,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:X=>{X.currentTarget.src=Y}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(nn,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:_i(c.imageUrl)||z,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:X=>{X.currentTarget.src=z}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${x===null?"bg-gray-300 animate-pulse":x?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:x===null?" ...":x?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",Z]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(age,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(ige,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(tI,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(RH,{size:24})}),((q=c.socials)==null?void 0:q.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(PH,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:D,onChange:X=>k(X.target.value),onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),H.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:H.map(X=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${S.includes(X.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Q=>{Q.preventDefault(),J(X.id)},children:[d.jsx("span",{children:X.name}),S.includes(X.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},X.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:U.length>0?U.map(X=>d.jsxs("button",{type:"button",onClick:()=>G(X.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${S.includes(X.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":S.includes(X.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:X.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:X.description}})]},X.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(nn,{to:S.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:S},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${S.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":S.length===0,onClick:X=>S.length===0&&X.preventDefault(),children:["   (",S.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(cc,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(X=>d.jsxs(nn,{to:`/${X.countryCode}/profile/${X.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:X.name}),d.jsx("p",{className:"text-sm text-gray-500",children:X.address.commune})]},X.id))})]})]})]})]}),d.jsx(QH,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(rI,{size:24})}),p&&c&&_&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(oI,{title:`  ${c.name}`,messages:w,onSendMessage:C,currentUserId:_,isOnline:x,onClose:()=>v(!1)})})]})},wge=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState(null),[o,l]=W.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};W.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(_=>_.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Kv=({value:t,onChange:e})=>{const n=W.useRef(null),[r,i]=W.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(Jm,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Pl,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Xm,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(wge,{onClose:()=>i(!1),onCapture:e})]})},ZH="https://gitut.com/api/",eG="@@??YOUYOU@@??YOUYOU1936",tG="Could not initialize Firebase Admin SDK";function nG(){return new Promise((t,e)=>{if(Br.currentUser)return t(Br.currentUser);const n=Br.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function ld(t,e){var n;try{const i=await(await nG()).getIdToken(),s=await fetch(ZH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":eG},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(tG)?new Error("    .      ."):r}}async function*rG(t){const e="generateContentStream",n={modelRequest:t},i=await(await nG()).getIdToken(),s=await fetch(ZH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":eG},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(tG)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*Tge(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=rG({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const Ege=async t=>ld("extractJsonFromHtml",{html:t}),uc=async t=>ld("generateContent",{modelRequest:t}),Cge=async t=>ld("generateImages",{prompt:t}),lI=async(t,e,n,r)=>{const i=await ld("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},Sge=async(t,e,n,r)=>{const i=await ld("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},Dge=async(t,e,n)=>ld("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),Age=async(t,e,n)=>ld("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),iG=async t=>ld("convertPdfToHtml",{pdfBase64:t}),Nge=({onClose:t,onScanSuccess:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState("initializing"),[o,l]=W.useState("  ..."),[c,u]=W.useState(null),f=W.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);W.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const _=g.toDataURL("image/jpeg",.9),[x,w]=_.split(","),C=((p=x.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",D=await lI(w,C,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(D&&(D.firstName||D.lastName)){const I={fullName:`${D.firstName||""} ${D.lastName||""}`.trim(),firstName:D.firstName||"",lastName:D.lastName||"",firstNameFr:D.firstNameFr||"",lastNameFr:D.lastNameFr||"",birthdaydate:D.birthdaydate||"",birthdayplace:D.birthdayplace||"",nationalId:D.nationalId||"",bloodType:D.bloodType||""};e(I)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(jf,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Ct,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Xm,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},Rx={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},kge=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(Rx[i])return Rx[i]}const r=e.split(/\s+/);for(const i of r)if(Rx[i])return Rx[i];return null},Ige=()=>{var pe;const t=Ar(),e=Si(),{countryCode:n}=ha(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=sn(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=ah(),{isOnline:f}=u(l),{t:h,language:p}=Ai(),[v,g]=W.useState(),[y,_]=W.useState({}),[x,w]=W.useState(0),[C,S]=W.useState(""),[R,D]=W.useState(!1),[k,I]=W.useState(!1),[F,P]=W.useState("filling"),[N,O]=W.useState(!1),[U,H]=W.useState(!1),G=W.useRef(null),J=W.useRef(!1);W.useEffect(()=>{l&&s.length>0&&g(s.find(je=>je.id===l))},[l,s]);const Z=je=>{_(V=>({...V,...je})),H(!1)},z=W.useMemo(()=>r.filter(je=>c.includes(je.id)),[r,c]),Y=W.useMemo(()=>i.filter(je=>je.type==="template"&&c.includes(je.id)),[i,c]),B=W.useMemo(()=>!c||c.length===0?!1:z.length>0||Y.length>0,[c,z,Y]),j=W.useMemo(()=>{const je=[],V=new Set;return z.forEach(xe=>{var le;((((le=xe.spokenFields)==null?void 0:le.length)>0?xe.spokenFields:xe.requiredFields)||[]).forEach(re=>{var oe,fe,be;if(re!=="profilePicture"&&re!=="DateToday"&&!V.has(re)){const ie=Object.prototype.hasOwnProperty.call(C2,re),ce=((oe=xe.questions)==null?void 0:oe[re])||((be=(fe=xe.fieldCustomizations)==null?void 0:fe[re])==null?void 0:be.customQuestion)||(ie?C2[re]:re);je.push({id:re,label:ce||re}),V.add(re)}})}),Y.forEach(xe=>{var le;(((le=xe.jsonTemplate)==null?void 0:le.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const oe=re.fieldId;V.has(oe)||(je.push({id:oe,label:re.label}),V.add(oe))}})}),je},[z,Y]),q=W.useMemo(()=>{const je=new Set;return z.forEach(V=>(V.requiredFields||[]).forEach(xe=>je.add(xe))),je.has("profilePicture")},[z]),X=x===j.length-1,Q=W.useMemo(()=>{var be,ie,ce;const je=(be=j[x])==null?void 0:be.id;if(!je)return null;const xe=Object.prototype.hasOwnProperty.call(ni,je)?ni[je]:null;let _e=null;for(const me of z)if((ie=me.fieldCustomizations)!=null&&ie[je]){_e=me.fieldCustomizations[je];break}const le=((ce=j[x])==null?void 0:ce.label)||je,re=(_e==null?void 0:_e.type)||(xe==null?void 0:xe.type)||"text",oe=xe?h(xe.placeholder||""):je;let fe;return _e!=null&&_e.options?fe=_e.options.map(me=>({value:me,label:me})):xe!=null&&xe.options&&(fe=xe.options.map(me=>({value:me.value,label:h(me.label)}))),{id:je,question:le,type:re,placeholder:oe,options:fe,customization:_e}},[x,j,z,h]),te=W.useCallback(()=>{X?P("finished"):w(je=>je+1)},[X]),ae=W.useCallback(()=>{x>0&&w(je=>je+1)},[x]),ue=W.useRef({handleNext:te,handlePrevious:ae,setFormData:_,currentField:Q});W.useEffect(()=>{ue.current={handleNext:te,handlePrevious:ae,setFormData:_,currentField:Q}},[te,ae,Q]),W.useEffect(()=>{J.current=k},[k]),W.useEffect(()=>{const je=window.SpeechRecognition||window.webkitSpeechRecognition;if(!je)return;const V=new je;V.continuous=!0,V.interimResults=!1;let xe="ar-SA";switch(p){case"en":xe="en-US";break;case"fr":xe="fr-FR";break;case"de":xe="de-DE";break;case"es":xe="es-ES";break;case"tr":xe="tr-TR";break;case"ja":xe="ja-JP";break}V.lang=xe,V.onstart=()=>{I(!0),O(!1)},V.onend=()=>{if(J.current){console.log("Speech recognition service disconnected, attempting to restart.");try{V.start()}catch(_e){console.error("Could not restart recognition:",_e),J.current=!1,I(!1)}}else I(!1)},V.onresult=_e=>{let le="";for(let ge=_e.resultIndex;ge<_e.results.length;++ge)_e.results[ge].isFinal&&(le+=_e.results[ge][0].transcript.trim());if(!le)return;const{handleNext:re,handlePrevious:oe,setFormData:fe,currentField:be}=ue.current,ie=kge(le);if(be!=null&&be.options&&ie!==null){const ge=ie-1;if(ge>=0&&ge<be.options.length){const De=be.options[ge];fe(Oe=>({...Oe,[be.id]:De.value})),re();return}}const ce=["",""," "," ","next","suivant"],me=["","",""," "," "," ","previous","prcdent"];ce.some(ge=>le.toLowerCase().includes(ge))?re():me.some(ge=>le.toLowerCase().includes(ge))?oe():be&&fe(ge=>({...ge,[be.id]:(ge[be.id]||"")+le+" "}))},V.onerror=_e=>{console.error("Speech recognition error:",_e.error),(_e.error==="not-allowed"||_e.error==="permission-denied")&&O(!0),J.current=!1,I(!1)},G.current=V,J.current=!0;try{G.current.start()}catch(_e){console.error("Could not start recognition on mount:",_e),J.current=!1,I(!1)}return()=>{G.current&&(J.current=!1,G.current.onend=null,G.current.stop())}},[p]),W.useEffect(()=>{var je;if(G.current){const V=G.current,xe=J.current;xe&&(J.current=!1,V.stop());let _e=((je=Q==null?void 0:Q.customization)==null?void 0:je.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";V.lang=_e,console.log(`Switched speech recognition language to: ${_e} for field ${Q==null?void 0:Q.id}`),xe&&setTimeout(()=>{J.current=!0;try{V.start()}catch(le){console.error("Could not restart recognition after lang change:",le),J.current=!1,I(!1)}},250)}},[x,j,v,Q]);const de=()=>{var je,V;k?(J.current=!1,(je=G.current)==null||je.stop()):(J.current=!0,(V=G.current)==null||V.start())},Se=je=>{const{name:V,value:xe}=je.target;_(_e=>({..._e,[V]:xe}))},Pe=async()=>{if(q&&!C){alert("     .");return}D(!0);const je={...y,profilePicture:C};try{if(f===!0&&Qn){console.log("Cafe is online. Sending job via P2P (GUN.js).");const V=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,xe={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(je),createdAt:Date.now(),status:"Pending"};Qn.get("jobs").get(l).get(V).put(xe),e(`/${n}/confirmation/${V}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const xe=await Dme({cafeId:l,documentIds:c,visitorData:je});e(`/${n}/confirmation/${xe.id}`)}}catch(V){console.error("Error submitting job:",V),alert("    .    .")}finally{D(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(nn,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[U&&d.jsx(Nge,{onClose:()=>H(!1),onScanSuccess:Z}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>H(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(Xm,{}),d.jsx("span",{children:" "})]})]}),N&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(ww,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),F==="filling"&&Q&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",x+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Q.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Q.type==="select"&&Q.options?d.jsxs("select",{name:Q.id,value:y[Q.id]||"",onChange:Se,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Q.placeholder," --"]}),(pe=Q.options)==null?void 0:pe.map(je=>d.jsx("option",{value:je.value,children:je.label},je.value))]},Q.id):d.jsx("textarea",{name:Q.id,value:y[Q.id]||"",onChange:Se,placeholder:` ... : ${Q.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Q.id),d.jsx("button",{type:"button",onClick:de,title:"/ ",disabled:N,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${k?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:k?d.jsx(oge,{}):d.jsx(_c,{})})]}),Q.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Q.options.map((je,V)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[V+1,"."]})," ",je.label]},je.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:ae,disabled:x===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(bw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:te,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:X?"":""})," ",d.jsx(xw,{})]})]})]}),F==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(MH,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([je,V])=>{if(!V)return null;const _e=(Object.prototype.hasOwnProperty.call(ni,je)?C2[je]:je)||je;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[_e,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:V})]},je)})}),q&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Kv,{value:C,onChange:S})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Pe,disabled:R||q&&!C,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Y0,{}),d.jsx("span",{children:R?" ...":"  "})]})]})]})]})]})},Rge=()=>{const{countryCode:t,jobId:e}=ha(),{t:n}=Ai();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n("confirmationPage.title")}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:n("confirmationPage.subtitle")}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:n("confirmationPage.orderCodeLabel")}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:n("confirmationPage.note")}),d.jsx(nn,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:n("confirmationPage.backToHome")})]})})},Pge=()=>{const{t,countryCode:e}=Ai(),[n,r]=W.useState(""),[i,s]=W.useState(""),[a,o]=W.useState(""),[l,c]=W.useState(!1),u=Si(),{login:f,logout:h,sendPasswordReset:p}=Nr(),[v,g]=W.useState(!1),[y,_]=W.useState(""),[x,w]=W.useState(""),[C,S]=W.useState(""),R=async k=>{if(k.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const I=await f(n,i);I.emailVerified?u(`/${I.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},D=async k=>{if(k.preventDefault(),w(""),S(""),!y){S(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(I){S(I.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),x&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:x}),C&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:C}),d.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:k=>_(k.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:k=>r(k.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:k=>s(k.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(nn,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},Fge=["gmail.com","outlook.com","hotmail.com","live.com"],Mge=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=sn(),{t:i,countryCode:s,language:a}=Ai(),o=Si(),l=Ar(),c=Rr[a],u=l.state||{},[f,h]=W.useState(u.email||""),[p,v]=W.useState(u.password||""),[g,y]=W.useState(u.confirmPassword||""),[_,x]=W.useState(u.cafeName||""),[w,C]=W.useState(u.ownerName||""),[S,R]=W.useState(u.street||""),[D,k]=W.useState(()=>c.find(V=>V.code===s)||c[0]),[I,F]=W.useState(u.selectedWilaya||""),[P,N]=W.useState(u.selectedDaira||""),[O,U]=W.useState(u.selectedCommune||""),[H,G]=W.useState(u.genericState||""),[J,Z]=W.useState(u.genericCity||""),[z,Y]=W.useState([]),[B,j]=W.useState([]),[q,X]=W.useState(""),[Q,te]=W.useState(!1),[ae,ue]=W.useState(!1),{signup:de}=Nr();W.useEffect(()=>{if(!l.state){const V=c.find(xe=>xe.code===s)||c[0];k(V)}},[s,c,l.state]);const Se=V=>{const xe=V.target.value,_e={email:f,password:p,confirmPassword:g,cafeName:_,ownerName:w,street:S,selectedWilaya:I,selectedDaira:P,selectedCommune:O,genericState:H,genericCity:J};o(`/${xe}/signup`,{replace:!0,state:_e})},Pe=V=>{const xe=V.target.value;F(xe),N(""),U(""),xe?(Y(e.filter(_e=>_e.wilaya_code===xe)),j([])):(Y([]),j([]))},pe=V=>{const xe=V.target.value;N(xe),U(""),j(xe&&I?n.filter(_e=>_e.daira_name===xe&&_e.wilaya_code===I):[])},je=async V=>{var ce;V.preventDefault(),X("");const xe=f.split("@")[1];if(!Fge.includes(xe)){X(i("signup.errors.allowedDomains"));return}const _e=t.length>0;if(!f||!p||!g||!_||!w||!S||!(_e&&I&&P&&O)&&!(!_e&&H&&J)){X(i("signup.errors.fillAllFields"));return}if(p!==g){X(i("signup.errors.passwordsMismatch"));return}if(p.length<6){X(i("signup.errors.passwordLength"));return}te(!0);let oe;_e?oe={wilaya:((ce=t.find(ge=>ge.code===I))==null?void 0:ce.name)||"",wilaya_code:I,daira:P,commune:O,street:S}:oe={state:H,city:J,street:S};const be=D.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},ie={name:_,owner:w,countryCode:D.code,countryPhoneCode:D.phoneCode,address:oe,initialCredits:be};try{await de(f,p,ie)?ue(!0):X(i("signup.errors.signupFailed"))}catch(me){me.code==="auth/email-already-in-use"?X("    .        ."):X(i("signup.errors.signupFailed"))}finally{te(!1)}};return ae?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(nn,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),q&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:q}),d.jsxs("form",{onSubmit:je,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:V=>h(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:V=>v(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:V=>y(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:_,onChange:V=>x(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:V=>C(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:D.code,onChange:Se,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(V=>d.jsx("option",{value:V.code,children:V.name},V.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:I,onChange:Pe,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(V=>d.jsx("option",{value:V.code,children:V.name},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:pe,required:!0,disabled:!I,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),z.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:O,onChange:V=>U(V.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:H,onChange:V=>G(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:J,onChange:V=>Z(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:S,onChange:V=>R(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Q||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Q?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(nn,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},I9=()=>{const{user:t}=Nr(),{cafes:e}=sn(),{useCafeChatManager:n}=ah(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(Zn,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(Zn,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(iI,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Zn,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(LH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(sI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(Zn,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(Zn,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},Uge=()=>{const{user:t,resendVerificationEmail:e}=Nr(),[n,r]=W.useState(!1),[i,s]=W.useState(""),[a,o]=W.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(ww,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(MH,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},R9="1.0",Oge="document-templates-v1",sG=W.createContext(void 0),Lge=({children:t})=>{const[e,n]=W.useState(!0),[r,i]=W.useState(!1),[s,a]=W.useState(""),[o,l]=W.useState(null);W.useEffect(()=>{(async()=>{try{const f=await la("offlineMetadata","syncStatus");f&&f.version===R9?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=W.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([Up(),mf.getAll(),cf.getAll(),wm.getAll(),jb()]);a("     ..."),await Promise.all([Pi("fullDocuments",u),Pi("staticDocuments",f),Pi("sites",h),Pi("baseTemplates",p),yr("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(_=>_.finalTemplateUrl).filter(_=>!!_);await(await caches.open(Oge)).addAll(g),a("  ..."),await yr("offlineMetadata",{id:"syncStatus",version:R9,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(sG.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},jge=()=>{const t=W.useContext(sG);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},Bge=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=jge(),[s,a]=W.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(jf,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(ww,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Ta,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},Vge=()=>{const[t,e]=W.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Ta,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(jf,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},Wge=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(FH,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(nn,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(UH,{}),d.jsx("span",{children:"     "})]})]})}),qge=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=sn(),{user:r,refetchUser:i}=Nr(),s=Ar(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=W.useState(!1),u=wl.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);W.useEffect(()=>{t()},[t]),W.useEffect(()=>{i()},[i]),W.useEffect(()=>{let h=!1;const p=g=>{var y,_;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((_=g.data)==null?void 0:_.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(I9,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Bge,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(I9,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(Vge,{}),d.jsx(Uge,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(Wge,{}):d.jsx(AN,{})})]})]})]})},wC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",$ge=()=>{const{documents:t,staticDocuments:e,sites:n}=sn(),[r,i]=W.useState("");Si();const[s,a]=W.useState(!1),o=W.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=W.useState(!1),h=W.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=W.useMemo(()=>{if(!r.trim())return[];const g=wC(r);return h.filter(({item:y})=>wC(y.name).includes(g)||"description"in y&&y.description&&wC(y.description).includes(g))},[r,h]);W.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const _=y.results[0][0].transcript;i(_)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx(XA,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(_c,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let _="",x={},w=KA;const C="description"in g?g.description:g.url||"";return y==="doc"?(_="/app/generate",x={selectedDocId:g.id},w=KA):y==="site"?(_=`/app/fill-site/${g.id}`,w=zy):y==="staticDoc"&&(_=`/app/view-pdf/${g.id}`,w=Tw),d.jsx("li",{children:d.jsxs(nn,{to:_,state:x,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:C})]})]})},`${y}-${g.id}`)})})]})},zge=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Ew,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Hge=()=>{const{user:t}=Nr(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=sn(),[a,o]=W.useState([]),[l,c]=W.useState(null),[u,f]=W.useState(!0),[h,p]=W.useState(!1),v=W.useMemo(()=>t!=null&&t.cafeId?e.filter(x=>!x.cafeId||x.cafeId===t.cafeId):[],[e,t]);if(W.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(C=>C.id===t.cafeId)||null;if(!w)try{w=await Zk(t.cafeId)}catch(C){console.error("Failed to fetch cafe details directly:",C)}c(w);try{const S=(await bm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(R=>({id:R.id,...R.data()}));o(S)}catch(C){console.error("Failed to fetch dashboard data from Firestore:",C)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(x=>x.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,_=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(zge,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx($ge,{}),d.jsx(cc,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(nn,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(nn,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${_.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${_.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${_.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(nn,{to:"billing",className:`${_.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(tge,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(x=>d.jsxs(nn,{to:"generate",state:{selectedDocId:x.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:x.description}})]},x.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",C=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:x.type==="static"?"  ":`  : ${x.url}`})]})]});return x.type==="template"?d.jsx(nn,{to:`fill-site/${x.id}`,className:w,children:C},x.id):d.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:w,children:C},x.id)})})]})]})]})},Gge='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',Kge=`data:image/svg+xml;base64,${btoa(Gge)}`,Xge=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=rG({model:"gem-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},Hy=async(t,e,n,r)=>{try{let i;for(let c=t.length-1;c>=0;c--){const u=t[c];if(u.id===e||u.slug===e||u.name===e){i=u;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const c=await fetch(_i(i.finalTemplateUrl));if(!c.ok)throw new Error(`Could not fetch final template from ${_i(i.finalTemplateUrl)}`);s=await c.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const c=await fetch(_i(i.previewTemplateUrl));if(!c.ok)throw new Error(`Could not fetch preview template from ${_i(i.previewTemplateUrl)}`);s=await c.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await Xge(s,r.targetLang));const o=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});if(s=s.replace(/\[DateToday\]/g,o),s.includes("[profilePicture]")){const u=`<img src="${n.profilePicture?_i(n.profilePicture):Kge}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,u)}if(Object.keys(n).forEach(c=>{if(c!=="profilePicture"){const u=new RegExp(`\\[${c}\\]`,"g");s=s.replace(u,n[c]||"")}}),Object.keys(ni).forEach(c=>{const u=c;if(!n.hasOwnProperty(u)){const f=new RegExp(`\\[${u}\\]`,"g");s=s.replace(f,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const c=document.createElement("div");c.style.width="794px",c.style.padding="20px",c.style.position="absolute",c.style.left="-9999px",c.innerHTML=s,document.body.appendChild(c),await html2canvas(c,{scale:2}).then(u=>{const f=u.toDataURL("image/png"),{jsPDF:h}=jspdf,p=new h({orientation:"portrait",unit:"pt",format:"a4"}),v=p.internal.pageSize.getWidth(),g=p.internal.pageSize.getHeight(),y=u.width,_=u.height,x=y/_,w=v/g;let C,S;x>w?(C=v,S=v/x):(S=g,C=g*x),p.addImage(f,"PNG",0,0,C,S);const R=`${(i==null?void 0:i.slug)||e}.pdf`;p.save(R)}),document.body.removeChild(c);return}const l=window.open("","_blank");l?(l.document.write(s),l.document.close(),l.onload=function(){l.focus(),r.action==="print"&&l.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},Jge=()=>{const{user:t}=Nr(),{fullDocuments:e,loadingFullDocuments:n}=sn(),[r,i]=W.useState([]),[s,a]=W.useState(!0),[o,l]=W.useState(null),[c,u]=W.useState(!1),[f,h]=W.useState(!1),[p,v]=W.useState("");W.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let x=!0;const w=new Map,C=()=>{if(x){const I=Array.from(w.values()).sort((F,P)=>P.createdAt-F.createdAt);i(I)}};(async()=>{a(!0);try{(await xi("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),C()}catch(I){console.error("Failed to load jobs from IndexedDB",I)}finally{x&&a(!1)}})();const D=bm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(I=>{I.docs.forEach(F=>{const P={id:F.id,...F.data()};w.set(P.id,P)}),C()},I=>{console.error("Firestore listener error:",I)});let k;if(Qn){const I=Qn.get("jobs").get(t.cafeId),F=(P,N)=>{if(P&&typeof P=="object"&&!w.has(N)){console.log(`Optimistically adding P2P job from Gun: ${N}`);const O={...P,id:N,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(O.id,O),C()}};I.map().on(F),k=()=>I.off()}return()=>{x=!1,D(),k&&k()}},[t]);const g=async(x,w)=>{if(!(!x.audioRecordingUrl&&!x.transcribedText)){h(!0),v("");try{const C=new Set;x.documentIds.forEach(N=>{const O=e.find(U=>U.id===N);O==null||O.requiredFields.forEach(U=>C.add(U))});const S=Array.from(C).map(N=>{var O;return(O=ni[N])==null?void 0:O.label}).filter(Boolean),R={};C.forEach(N=>{R[N]={type:"STRING",description:ni[N].label}});const D={type:"OBJECT",properties:R};let k;if(x.transcribedText)k={transcribedText:x.transcribedText};else if(x.audioRecordingUrl){const O=await(await fetch(_i(x.audioRecordingUrl))).blob(),U=new FileReader;k={audioBase64:await new Promise(G=>{U.onloadend=()=>G(U.result.split(",")[1]),U.readAsDataURL(O)})}}else throw new Error("No data (audio or text) available to process.");const I=await Dge(k,D,S),F={...x.visitorData,...I},P={...x,visitorData:F};if(await yr("jobs",P),i(N=>N.map(O=>O.id===x.id?P:O)),l(P),w==="open"||w==="print"){u(!0);for(const N of P.documentIds)await Hy(e,N,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(x.id,P),u(!1)}}catch(C){console.error("Data processing failed:",C),C instanceof Error?v(C.message):v("   .")}finally{h(!1)}}},y=async(x,w)=>{const C=w||r.find(S=>S.id===x);if(C){u(!0);try{if(!w){alert(`  .    ${C.documentIds.length} () .`);for(const D of C.documentIds)await Hy(e,D,C.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:S,...R}=C;await Ame(S,{...R,status:"Completed"}),await Lf("jobs",x),i(D=>D.map(k=>k.id===x?{...k,status:"Completed"}:k)),l(D=>D&&D.id===x?{...D,status:"Completed"}:D)}catch(S){console.error("Failed to complete job:",S),alert("   .")}finally{u(!1)}}},_=x=>{switch(x){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(x=>d.jsxs("button",{onClick:()=>l(x),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===x.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[x.audioRecordingUrl&&d.jsx($H,{className:"text-blue-500"}),d.jsx("span",{children:x.visitorData.fullName||""})]}),_(x.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.createdAt).toLocaleString("ar-DZ")})]},x.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),_(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:_i(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(_w,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(ege,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(Ew,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(x=>{const w=e.find(C=>C.id===x);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},x)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([x,w])=>{const C=ni[x];return(C==null?void 0:C.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[C.label,": "]}),d.jsx("img",{src:_i(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},x):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(C==null?void 0:C.label)||x,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},x)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},Yge=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState(null);W.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Qge=({onDataExtracted:t})=>{const[e,n]=W.useState(!1),[r,i]=W.useState(!1),[s,a]=W.useState(null),o=W.useRef(null),[l,c]=W.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const x=y.result.split(",")[1];h(x,v.type)},y.readAsDataURL(v)}},f=p=>{var _;const v=p.split(","),g=((_=v[0].match(/:(.*?);/))==null?void 0:_[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const _=await lI(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(_).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const x=`${_.firstName||""} ${_.lastName||""}`.trim();t({fullName:x||void 0,dob:_.dateOfBirth,pob:_.placeOfBirth,nationalId:_.nationalId,birthCertificateNumber:_.birthCertificateNumber,socialSecurityNumber:_.socialSecurityNumber,nationality:_.nationality,maritalStatus:_.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(Yge,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(BH,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Pl,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Xm,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},Zge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},e0e=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=sn(),i=Ar(),s=Si(),{user:a,updateUserCredits:o}=Nr(),{t:l}=Ai(),[c,u]=W.useState(null),[f,h]=W.useState({}),[p,v]=W.useState(!1),[g,y]=W.useState(!0),[_,x]=W.useState(""),[w,C]=W.useState([]),[S,R]=W.useState(0),[D,k]=W.useState(!1),[I,F]=W.useState(!1),[P,N]=W.useState("idle"),[O,U]=W.useState(null);W.useRef(null),W.useRef("");const[H,G]=W.useState("");W.useRef(null),W.useRef([]);const[J,Z]=W.useState(""),[z,Y]=W.useState(1),B=W.useMemo(()=>{const Pe=e.filter(pe=>!pe.cafeId||pe.cafeId===(a==null?void 0:a.cafeId));return Zge(Pe)},[e,a]);W.useEffect(()=>{var pe;const Pe=(pe=i.state)==null?void 0:pe.selectedDocId;if(Pe&&!c&&e.length>0){const je=e.find(V=>V.id===Pe);je&&(q(je),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=W.useMemo(()=>c?c.requiredFields.filter(Pe=>Pe!=="DateToday"):[],[c]);W.useMemo(()=>j.some(Pe=>Pe==="profilePicture"),[j]);const q=Pe=>{const pe=e.filter(V=>V.groupId===Pe.groupId).sort((V,xe)=>V.id.localeCompare(xe.id)),je=pe.findIndex(V=>V.id===Pe.id);C(pe),R(je>=0?je:0),h({}),x(""),k(!1),F(!1)};W.useEffect(()=>{(async()=>{if(w.length>0){const pe=w[S];if(u(pe),x(""),pe.previewTemplateHtml)x(pe.previewTemplateHtml);else if(pe.previewTemplateUrl)try{const je=await fetch(pe.previewTemplateUrl);je.ok?x(await je.text()):x('<p class="text-center p-8 text-gray-500">   .</p>')}catch{x('<p class="text-center p-8 text-red-500">  .</p>')}else x('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,S]);const X=()=>R(Pe=>(Pe+1)%w.length),Q=()=>R(Pe=>(Pe-1+w.length)%w.length),te=async Pe=>{if(!Pe){ae("profilePicture","");return}v(!0);try{const pe=await KH(Pe,"profile.jpg"),je=await _m(pe);ae("profilePicture",je)}catch{Z("  .")}finally{v(!1)}},ae=(Pe,pe)=>{h(je=>({...je,[Pe]:pe}))},ue=async Pe=>{if(!c||!a||!t)return;const pe=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,je=a.credits.currency==="USD"?"$":"";if(a.credits.amount<pe){alert(`  .    ${pe} ${je}   ${a.credits.amount} ${je}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const V=a.credits.amount;try{await Hy(e,c.id,f,{action:Pe,targetLang:"ar",templateType:"final"})}catch(_e){console.error("Document generation failed:",_e),v(!1),alert("  .     .");return}const xe=V-pe;o(xe);try{await pme({id:Date.now(),amount:pe,currency:a.credits.currency}),alert(`    ${pe} ${je}  .  : ${xe.toFixed(2)} ${je}.`)}catch(_e){if(console.error("Failed to queue credit deduction:",_e),navigator.onLine)try{await eI(a,pe)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),C([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});const de=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,Se=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[de," ",Se]})]})]}),d.jsx("button",{onClick:()=>{u(null),x(""),C([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Q,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(bw,{})}),d.jsx("button",{onClick:X,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(xw,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[S+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:_,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx(Qge,{onDataExtracted:Pe=>h(pe=>({...pe,...Pe}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Pe=>{var oe,fe,be;const je=Object.prototype.hasOwnProperty.call(ni,Pe)?ni[Pe]:null,V=(oe=c==null?void 0:c.fieldCustomizations)==null?void 0:oe[Pe],xe=((fe=c==null?void 0:c.questions)==null?void 0:fe[Pe])||(V==null?void 0:V.customQuestion)||(je?l(je.label):Pe),_e=(V==null?void 0:V.type)||(je==null?void 0:je.type)||"text",le=je?l(je.placeholder):"",re=(V==null?void 0:V.options)||(je==null?void 0:je.options);if(_e==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Pe,className:"block text-sm font-medium text-gray-700 mb-1",children:xe}),d.jsxs("select",{id:Pe,name:Pe,value:f[Pe]||"",onChange:ie=>ae(ie.target.name,ie.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),V!=null&&V.options?V.options.map(ie=>d.jsx("option",{value:ie,children:ie},ie)):(be=je==null?void 0:je.options)==null?void 0:be.map(ie=>d.jsx("option",{value:ie.value,children:l(ie.label)},ie.value))]})]},Pe);if(_e==="multiselect"&&re){const ie=f[Pe]?f[Pe].split(","):[],ce=(me,ge)=>{const De=ge?[...ie,me]:ie.filter(Oe=>Oe!==me);ae(Pe,De.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:xe}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(me=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:me,checked:ie.includes(me),onChange:ge=>ce(me,ge.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:me})]},me))})]},Pe)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Pe,className:"block text-sm font-medium text-gray-700 mb-1",children:xe}),_e==="file"?d.jsx(Kv,{value:f[Pe]||"",onChange:ie=>te(ie)}):d.jsx("input",{type:_e,id:Pe,name:Pe,value:f[Pe]||"",onChange:ie=>ae(ie.target.name,ie.target.value),placeholder:le,className:"w-full p-2 border rounded-md",required:!0})]},Pe)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Pe=>y(Pe.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>ue("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(Ct,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>ue("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(Ct,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Pe=>d.jsxs("button",{onClick:()=>q(Pe),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Pe.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Pe.description}})]},Pe.id))})]})},t0e=({children:t})=>{const{user:e,loading:n}=Nr(),{countryCode:r}=ha();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(wp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="firebasestorage.googleapis.com",oG="storageBucket",n0e=120*1e3,r0e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends bs{constructor(e,n,r=0){super(TC(e),`Firebase Storage: ${n} (${TC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zr||(zr={}));function TC(t){return"storage/"+t}function cI(){const t="An unknown error occurred, please check the error payload for server response.";return new Xr(zr.UNKNOWN,t)}function i0e(t){return new Xr(zr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s0e(t){return new Xr(zr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a0e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xr(zr.UNAUTHENTICATED,t)}function o0e(){return new Xr(zr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function l0e(t){return new Xr(zr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c0e(){return new Xr(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function u0e(){return new Xr(zr.CANCELED,"User canceled the upload/download.")}function d0e(t){return new Xr(zr.INVALID_URL,"Invalid URL '"+t+"'.")}function f0e(t){return new Xr(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function h0e(){return new Xr(zr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oG+"' property when initializing the app?")}function p0e(){return new Xr(zr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m0e(){return new Xr(zr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g0e(t){return new Xr(zr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function YA(t){return new Xr(zr.INVALID_ARGUMENT,t)}function lG(){return new Xr(zr.APP_DELETED,"The Firebase app was deleted.")}function y0e(t){return new Xr(zr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Q0(t,e){return new Xr(zr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function t0(t){throw new Xr(zr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ia.makeFromUrl(e,n)}catch{return new Ia(e,"")}if(r.path==="")return r;throw f0e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===aG?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const S=w[C],R=S.regex.exec(e);if(R){const D=R[S.indices.bucket];let k=R[S.indices.path];k||(k=""),r=new Ia(D,k),S.postModify(r);break}}if(r==null)throw d0e(e);return r}}class v0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,..._){if(c){h();return}if(y){h(),u.call(null,y,..._);return}if(l()||a){h(),u.call(null,y,..._);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function b0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0e(t){return t!==void 0}function w0e(t){return typeof t=="object"&&!Array.isArray(t)}function uI(t){return typeof t=="string"||t instanceof String}function P9(t){return dI()&&t instanceof Blob}function dI(){return typeof Blob<"u"}function F9(t,e,n,r){if(r<e)throw YA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YA(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var gf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gf||(gf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0e{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Px(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===gf.NO_ERROR,l=s.getStatus();if(!o||T0e(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===gf.ABORT;r(!1,new Px(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Px(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());_0e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=cI();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?lG():u0e();a(l)}else{const l=c0e();a(l)}};this.canceled_?n(!1,new Px(!1,null,!0)):this.backoffId_=x0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Px{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function C0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function S0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N0e(t,e,n,r,i,s,a=!0,o=!1){const l=cG(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return D0e(u,e),C0e(u,n),S0e(u,s),A0e(u,r),new E0e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function I0e(...t){const e=k0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dI())return new Blob(t);throw new Xr(zr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function R0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0e(t){if(typeof atob>"u")throw g0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class EC{constructor(e,n){this.data=e,this.contentType=n||null}}function F0e(t,e){switch(t){case bl.RAW:return new EC(uG(e));case bl.BASE64:case bl.BASE64URL:return new EC(dG(t,e));case bl.DATA_URL:return new EC(U0e(e),O0e(e))}throw cI()}function uG(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function M0e(t){let e;try{e=decodeURIComponent(t)}catch{throw Q0(bl.DATA_URL,"Malformed data URL.")}return uG(e)}function dG(t,e){switch(t){case bl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Q0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Q0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=P0e(e)}catch(i){throw i.message.includes("polyfill")?i:Q0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class fG{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Q0(bl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=L0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U0e(t){const e=new fG(t);return e.base64?dG(bl.BASE64,e.rest):M0e(e.rest)}function O0e(t){return new fG(t).contentType}function L0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){let r=0,i="";P9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(P9(this.data_)){const r=this.data_,i=R0e(r,e,n);return i===null?null:new fu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fu(r,!0)}}static getBlob(...e){if(dI()){const n=e.map(r=>r instanceof fu?r.data_:r);return new fu(I0e.apply(null,n))}else{const n=e.map(a=>uI(a)?F0e(bl.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new fu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(t){let e;try{e=JSON.parse(t)}catch{return null}return w0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0e(t,e){return e}class Rs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||V0e}}let Fx=null;function W0e(t){return!uI(t)||t.length<2?t:pG(t)}function mG(){if(Fx)return Fx;const t=[];t.push(new Rs("bucket")),t.push(new Rs("generation")),t.push(new Rs("metageneration")),t.push(new Rs("name","fullPath",!0));function e(s,a){return W0e(a)}const n=new Rs("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Rs("size");return i.xform=r,t.push(i),t.push(new Rs("timeCreated")),t.push(new Rs("updated")),t.push(new Rs("md5Hash",null,!0)),t.push(new Rs("cacheControl",null,!0)),t.push(new Rs("contentDisposition",null,!0)),t.push(new Rs("contentEncoding",null,!0)),t.push(new Rs("contentLanguage",null,!0)),t.push(new Rs("contentType",null,!0)),t.push(new Rs("metadata","customMetadata",!0)),Fx=t,Fx}function q0e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ia(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $0e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return q0e(r,t),r}function gG(t,e,n){const r=hG(e);return r===null?null:$0e(t,r,n)}function z0e(t,e,n,r){const i=hG(e);if(i===null||!uI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=fI(h,n,r),v=cG({alt:"media",token:c});return p+v})[0]}function H0e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class yG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t){if(!t)throw cI()}function G0e(t,e){function n(r,i){const s=gG(t,i,e);return vG(s!==null),s}return n}function K0e(t,e){function n(r,i){const s=gG(t,i,e);return vG(s!==null),z0e(s,i,t.host,t._protocol)}return n}function xG(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=o0e():i=a0e():n.getStatus()===402?i=s0e(t.bucket):n.getStatus()===403?i=l0e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function X0e(t){const e=xG(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=i0e(t.path)),s.serverResponse=i.serverResponse,s}return n}function J0e(t,e,n){const r=e.fullServerUrl(),i=fI(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new yG(i,s,K0e(t,n),a);return o.errorHandler=X0e(e),o}function Y0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Q0e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Y0e(null,e)),r}function Z0e(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=Q0e(e,r,i),u=H0e(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=fu.getBlob(f,r,h);if(p===null)throw p0e();const v={name:c.fullPath},g=fI(s,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,x=new yG(g,y,G0e(t,n),_);return x.urlParams=v,x.headers=a,x.body=p.uploadData(),x.errorHandler=xG(e),x}class eye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw t0("cannot .send() more than once");if(Fl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw t0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw t0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw t0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw t0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tye extends eye{initXhr(){this.xhr_.responseType="text"}}function bG(){return new tye}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this._service=e,n instanceof Ia?this._location=n:this._location=Ia.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bf(e,n)}get root(){const e=new Ia(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pG(this._location.path)}get storage(){return this._service}get parent(){const e=j0e(this._location.path);if(e===null)return null;const n=new Ia(this._location.bucket,e);return new Bf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y0e(e)}}function nye(t,e,n){t._throwIfRoot("uploadBytes");const r=Z0e(t.storage,t._location,mG(),new fu(e,!0),n);return t.storage.makeRequestWithTokens(r,bG).then(i=>({metadata:i,ref:t}))}function rye(t){t._throwIfRoot("getDownloadURL");const e=J0e(t.storage,t._location,mG());return t.storage.makeRequestWithTokens(e,bG).then(n=>{if(n===null)throw m0e();return n})}function iye(t,e){const n=B0e(t._location.path,e),r=new Ia(t._location.bucket,n);return new Bf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sye(t){return/^[A-Za-z]+:\/\//.test(t)}function aye(t,e){return new Bf(t,e)}function _G(t,e){if(t instanceof hI){const n=t;if(n._bucket==null)throw h0e();const r=new Bf(n,n._bucket);return e!=null?_G(r,e):r}else return e!==void 0?iye(t,e):t}function oye(t,e){if(e&&sye(e)){if(t instanceof hI)return aye(t,e);throw YA("To use ref(service, url), the first argument must be a Storage instance.")}else return _G(t,e)}function M9(t,e){const n=e==null?void 0:e[oG];return n==null?null:Ia.makeFromBucketSpec(n,t)}function lye(t,e,n,r={}){t.host=`${e}:${n}`;const i=Fl(e);i&&(p_(`https://${t.host}/b`),m_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:FN(s,t.app.options.projectId))}class hI{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=aG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n0e,this._maxUploadRetryTime=r0e,this._requests=new Set,i!=null?this._bucket=Ia.makeFromBucketSpec(i,this._host):this._bucket=M9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ia.makeFromBucketSpec(this._url,e):this._bucket=M9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new v0e(lG());{const a=N0e(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const U9="@firebase/storage",O9="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="storage";function cye(t,e,n){return t=kt(t),nye(t,e,n)}function uye(t){return t=kt(t),rye(t)}function dye(t,e){return t=kt(t),oye(t,e)}function fye(t=cV(),e){t=kt(t);const r=jN(t,wG).getImmediate({identifier:e}),i=ute("storage");return i&&hye(r,...i),r}function hye(t,e,n,r={}){lye(t,e,n,r)}function pye(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hI(n,r,i,e,Ml)}function mye(){Dl(new Vs(wG,pye,"PUBLIC").setMultipleInstances(!0)),Ls(U9,O9,""),Ls(U9,O9,"esm2020")}mye();const gye=()=>{var I;const{user:t}=Nr(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=sn(),[s,a]=W.useState(void 0),[o,l]=W.useState(!0),[c,u]=W.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=W.useState(""),[p,v]=W.useState(!1),[g,y]=W.useState(!1),[_,x]=W.useState(!1),[w,C]=W.useState("");W.useEffect(()=>{(async()=>{var N,O,U;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(H=>H.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await Zk(t.cafeId)||void 0}catch(H){console.error("Failed to fetch cafe details directly:",H),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((N=P.socials)==null?void 0:N.facebook)||"",instagram:((O=P.socials)==null?void 0:O.instagram)||"",twitter:((U=P.socials)==null?void 0:U.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const S=async F=>{if(!F){u(P=>({...P,imageUrl:""}));return}if(!s){C("       .");return}x(!0),C("");try{const P=fye(),N=dye(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),O=await KH(F,"profile.jpg","image/jpeg"),U=await cye(N,O),H=await uye(U.ref);u(G=>({...G,imageUrl:H}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),C("  .    .")}finally{x(!1)}},R=F=>{const{name:P,value:N,type:O}=F.target;if(O==="checkbox"){const{checked:U}=F.target;u(H=>({...H,[P]:U}))}else u(U=>({...U,[P]:N}))},D=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:P,longitude:N}=F.coords;u(O=>({...O,latitude:P,longitude:N,googleMapsUrl:`https://www.google.com/maps?q=${P},${N}`})),v(!1)},F=>{console.error("Geolocation error:",F.message||F),alert(`    : ${F.message}`),v(!1)})},k=async F=>{if(F.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await Cme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(FH,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:k,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(Kv,{value:_i(c.imageUrl),onChange:S})}),_&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(Ct,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:R,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:D,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:R,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:F=>u(P=>({...P,speechToTextLanguage:F.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(I=n==null?void 0:n.ai)!=null&&I.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:R,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(nn,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},yye=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),[i,s]=W.useState(null);W.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},vye=({onPeopleAdded:t})=>{const[e,n]=W.useState(!1),[r,i]=W.useState(!1),[s,a]=W.useState(null),[o,l]=W.useState([]),c=W.useRef(null),[u,f]=W.useState(!1),h=y=>{const _=y.target.files;_&&l(x=>[...x,...Array.from(_)])},p=y=>{l(_=>[..._,y])},v=y=>{l(_=>_.filter((x,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const C=new FileReader,S=await new Promise(k=>{C.onloadend=()=>k(C.result.split(",")[1]),C.readAsDataURL(w)}),R="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",D={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await lI(S,w.type,D,R)}catch(C){return console.error(`Error processing file ${w.name}:`,C),null}},x=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const C=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:C,formData:{fullName:C,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(x.length===0)throw new Error("         .      .");t(x),l([])}catch(y){console.error("Error processing ID cards:",y);const _=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${_}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(yye,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(BH,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Pl,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Xm,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,_)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${_+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(_),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(Jm,{})})]},_))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(fge,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},L9=window.SpeechRecognition||window.webkitSpeechRecognition,j9=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=W.useState(!1),o=W.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;W.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(_c,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},xye=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=sn(),[r,i]=W.useState([]),[s,a]=W.useState(!1),[o,l]=W.useState(""),[c,u]=W.useState(""),[f,h]=W.useState([]),[p,v]=W.useState(0),[g,y]=W.useState(!1),[_,x]=W.useState(!1),w=W.useRef(null),C=W.useRef(""),[S,R]=W.useState(!1),[D,k]=W.useState(!1),[I,F]=W.useState(""),P=W.useMemo(()=>[...t,...n],[t,n]),N=W.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),O=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},U=B=>{h(j=>j.filter(q=>q.id!==B))},H=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},G=r[p];W.useMemo(()=>{if(!G)return[];const B=new Set,j=[];return t.filter(q=>G.documentIds.includes(q.id)).forEach(q=>{q.requiredFields&&q.requiredFields.forEach(X=>{var Q,te,ae;if(X!=="fullName"&&!B.has(X)){B.add(X);const de=Object.prototype.hasOwnProperty.call(ni,X)?ni[X]:null,Se=((Q=q.questions)==null?void 0:Q[X])||((ae=(te=q.fieldCustomizations)==null?void 0:te[X])==null?void 0:ae.customQuestion)||(de==null?void 0:de.label)||X;j.push({id:X,label:Se})}})}),j},[G,t]);const J=W.useCallback(B=>{i(j=>j.map((q,X)=>X===p?{...q,transcribedText:B}:q))},[p]);W.useEffect(()=>{if(!L9)return;w.current=new L9;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let q="",X="";for(let te=j.resultIndex;te<j.results.length;++te){const ae=j.results[te][0].transcript;j.results[te].isFinal?q+=ae+" ":X+=ae}const Q=(C.current?C.current+" ":"")+q+X;J(Q.trim())},B.onend=()=>x(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[J]);const Z=()=>{if(I.trim()===""){alert("   .");return}const B={id:Date.now(),name:I,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),F("")},z=B=>i(j=>j.filter(q=>q.id!==B)),Y=(B,j)=>{i(r.map(q=>{if(q.id===B){const X=q.documentIds.includes(j)?q.documentIds.filter(Q=>Q!==j):[...q.documentIds,j];return{...q,documentIds:X}}return q}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(bw,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",G==null?void 0:G.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(xw,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",G==null?void 0:G.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(q=>{var X;return(X=P.find(Q=>Q.id===q))==null?void 0:X.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(q=>q.filter(X=>X.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(Jm,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(j9,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(j9,{value:c,onChange:u,placeholder:"    ...",suggestions:N,onSuggestionClick:O}),d.jsx("button",{onClick:()=>O(N[0]),disabled:!c||N.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>U(B.id),className:"text-red-500",children:d.jsx(jf,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:H,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(lc,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(vye,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:I,onChange:B=>F(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:Z,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>Y(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},B9=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],bye=2e3,_ye=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],wye=10,Tye=()=>{const{user:t}=Nr(),{siteSettings:e}=sn(),[n,r]=W.useState([]),[i,s]=W.useState(null),[a,o]=W.useState(!0),[l,c]=W.useState(B9[0].amount),[u,f]=W.useState(""),[h,p]=W.useState(""),[v,g]=W.useState(null),[y,_]=W.useState(0),[x,w]=W.useState(null),[C,S]=W.useState(!1),R=(t==null?void 0:t.countryCode)==="dz",D=R?"DZD":"USD",k=R?"":"$",I=R?B9:_ye,F=R?bye:wye,P=W.useMemo(()=>l||parseInt(u)||0,[l,u]);W.useEffect(()=>{(async()=>{if(t){o(!0);try{const[z,Y]=await Promise.all([kme(t.id),Nme(t.id)]);r(z),s(Y.find(B=>B.status==="Pending")||null)}catch(z){console.error("Failed to fetch billing data:",z),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const N=Z=>{Z.target.files&&Z.target.files[0]&&w(Z.target.files[0])},O=async()=>{if(!t||!P||P<F){g({type:"error",message:`    ${F} ${k}.`});return}if(!x){g({type:"error",message:"      ."});return}S(!0),g(null);let Z;try{g({type:"success",message:"   ..."}),Z=await _m(x);const z=await _9(t.id,P,D,"CCP",Z);g({type:z.success?"success":"error",message:z.message}),z.success&&(c(null),f(""),w(null),_(Y=>Y+1))}catch(z){console.error("Error creating payment request:",z),g({type:"error",message:"    .    ."})}finally{S(!1)}setTimeout(()=>g(null),5e3)},U=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<F){g({type:"error",message:`The minimum amount is ${F} ${k}.`});return}const Z=await _9(t.id,P,D,"PayPal");if(!Z.success){g({type:"error",message:Z.message});return}const Y=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(Y,"_blank"),_(B=>B+1)},H=Z=>{c(Z),f(""),p("")},G=Z=>{const z=Z.target.value;f(z),c(null),z&&parseInt(z)<F?p(`    ${F} ${k}.`):p("")},J=Z=>{switch(Z){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:D==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",k]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:I.map(Z=>d.jsx("button",{onClick:()=>H(Z.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===Z.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:Z.label})},Z.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:G,placeholder:`  (  ${F} ${k})`,min:F,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=F&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:R?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:x?` : ${x.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"})]}),x&&d.jsx("img",{src:URL.createObjectURL(x),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:O,disabled:C,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[C?d.jsx(Ct,{className:"animate-spin"}):null,C?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(Gme,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(Z=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:Z.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof Z.date=="string"?new Date(Z.date):Z.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[Z.amount.toLocaleString()," ",Z.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:J(Z.status)})]},Z.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},Eye=()=>{const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(""),a=Si(),{login:o}=Gv(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await Br.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},Cye=()=>{const{admin:t,logout:e}=Gv(),{useAdminChatManager:n}=ah(),{unreadConversationsCount:r}=n(),i=Si(),s=()=>{e(),Br.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(Zn,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(Zn,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(iI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Zn,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(VH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(rI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(Qme,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(Zn,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Zn,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(Zn,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},Sye=()=>{const{loadFullDocuments:t,loading:e}=sn(),{admin:n}=Gv(),{user:r,loading:i}=Nr(),a=Ar().pathname.includes("document-studio");return W.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(Cye,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(AN,{})})})]})},Dye=({children:t})=>{const{admin:e}=Gv();return e?t:d.jsx(wp,{to:"/admin/login",replace:!0})},Aye=()=>{const[t,e]=W.useState(0),[n,r]=W.useState(0),[i,s]=W.useState({DZD:0,USD:0}),[a,o]=W.useState(!0),[l,c]=W.useState(!1),[u,f]=W.useState(""),{refetchAdminData:h}=sn();W.useEffect(()=>{(async()=>{o(!0);try{const[g,y,_]=await Promise.all([qA(),WA(),b9()]),x=g.filter(w=>w.status==="Pending").length;r(x),e(y.length),s(_)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([qA(),WA(),b9()]);r(v.filter(_=>_.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(lge,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(nn,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(nn,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},Nye=()=>{const[t,e]=W.useState([]),{cafes:n,loading:r}=sn(),[i,s]=W.useState(!0);W.useEffect(()=>{s(!0),WA().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},kye=()=>{const[t,e]=W.useState([]),[n,r]=W.useState([]),[i,s]=W.useState(!0),[a,o]=W.useState(0);W.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([qA(),Ime()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await Rme(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:_i(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},Iye=()=>{const{siteSettings:t}=sn(),[e,n]=W.useState(t||Fn),[r,i]=W.useState(""),[s,a]=W.useState({current:"",new:"",confirm:""}),[o,l]=W.useState(!1);W.useEffect(()=>{if(t){const f={...Fn,...t,payment:{...Fn.payment,...t.payment||{}},pricing:{...Fn.pricing,...t.pricing||{}},seo:{...Fn.seo,...t.seo||{}},social:{...Fn.social,...t.social||{}},ads:{...Fn.ads,...t.ads||{}},ai:{...Fn.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),_=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(x=>{if(!x)return Fn;const w=JSON.parse(JSON.stringify(x));if(y.length===3){const[C,S,R]=y;w[C]||(w[C]={}),w[C][S]||(w[C][S]={}),w[C][S][R]=_}else if(y.length===2){const[C,S]=y;w[C]||(w[C]={}),w[C][S]=_}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await AH(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},Ud="https://gitut.com",Ha=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",Rye=(t,e,n,r,i)=>{var F,P,N,O;const s=i==="ar"?"rtl":"ltr",a=t==="default",o=a?"dz":t,l=((F=e==null?void 0:e.seo)==null?void 0:F[t])||((P=e==null?void 0:e.seo)==null?void 0:P.default)||Fn.seo.default,c=((N=e==null?void 0:e.social)==null?void 0:N[t])||((O=e==null?void 0:e.social)==null?void 0:O.default)||Fn.social.default,u=od(i),f=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,h=l.metaDescription,p=String(l.mainPageTitle),v=String(l.mainPageSubtitle),g="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEimLwMLs6qcyccDKdYEHdje2p1XUaPI8S-9PAJYncZ3wzSoXugwzzDao7WN8Sf20JrNVWgqaZQ5ccW1qCjeGWWK4lSmIKMLrSzQ271AUWJ0SkxU-QozTrUR7weQOk4sJBRohL_82XOZKKsyKla87ptSbvzjJn6tgDwb2qU-vHpDGxE1tX3fyG5Jqiev-nY/64b156e3-b2fb-4528-8151-80f70afdc68f.jpg",y=`${Ud}/${a?"":t+"/"}`,_=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,x=`
      <header class="bg-white shadow-md">
        <script async src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff"><\/script>
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
          <a href="${Ud}/${a?"":o+"/"}" class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg>
            <span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span>
          </a>
          <nav class="flex items-center gap-6">
            <div class="gcse-search"></div>
            <a href="${Ud}/${o}/login/" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${u("header.login")}</a>
          </nav>
        </div>
      </header>
    `;let w="";e!=null&&e.footerPages?w=e.footerPages.filter(U=>U.lang===i||!U.lang&&i==="ar").map(U=>`<a href="${Ud}/${o}/page/${U.slug}/" class="hover:text-green-600 hover:underline">${Ha(U.title)}</a>`).join(""):n&&n.length>0&&(w=n.filter(H=>H.enabled&&(H.lang===i||!H.lang&&i==="ar")).map(H=>`<a href="${Ud}/${o}/page/${H.slug}/" class="hover:text-green-600 hover:underline">${Ha(H.title)}</a>`).join(""));const C=r.some(U=>U.enabled&&U.content&&U.content[i]),S=`${Ud}/blog/`,R=C?`<a href="${S}" class="hover:text-green-600 hover:underline">${u("footer.blog")}</a>`:"",D=`
        <div class="flex justify-center gap-6 mt-4">
            ${c.facebook?`<a href="${c.facebook}" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg></a>`:""}
            ${c.twitter?`<a href="${c.twitter}" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-blue-400"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a>`:""}
            ${c.instagram?`<a href="${c.instagram}" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-pink-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`:""}
        </div>
    `,k=`
      <footer class="bg-white border-t mt-auto">
        <div class="container mx-auto px-4 py-8 text-center">
          <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600 mb-4">
            ${w}
            <a href="${Ud}/${o}/services/" class="hover:text-green-600 hover:underline">${u("footer.services")}</a>
            ${R}
          </nav>
          ${D}
          <p class="text-gray-500 text-sm mt-4">&copy; ${new Date().getFullYear()} ${Ha(String(l.siteName))}. ${u("footer.rightsReserved")}</p>
        </div>
      </footer>
    `,I=`
      <div class="flex flex-col min-h-screen bg-gray-100">
        ${x}
        <main class="flex-grow container mx-auto px-4 py-8">
          <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Ha(p)}</h1>
            <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Ha(v)}</p>
          </section>
          <div id="root" class="mt-8">
            <p class="text-center text-gray-500">   ...</p>
          </div>
        </main>
        ${k}
      </div>
    `;return`
      <!DOCTYPE html>
      <html lang="${i}" dir="${s}">
      <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>${Ha(f)}</title>
          <meta name="description" content="${Ha(h)}" />
          <meta property="og:type" content="website"><meta property="og:url" content="${y}"><meta property="og:title" content="${Ha(f)}"><meta property="og:description" content="${Ha(h)}"><meta property="og:image" content="${g}"><meta property="og:image:secure_url" content="${g}"><meta property="og:image:width" content="640"><meta property="og:image:height" content="640"><meta property="og:site_name" content="${Ha(String(l.siteName))}">
          <meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="${y}"><meta name="twitter:title" content="${Ha(f)}"><meta name="twitter:description" content="${Ha(h)}"><meta name="twitter:image" content="${g}">
          <link rel="icon" type="image/png" href="https://cyber-m.pages.dev/data/image/icon.png">
          <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
          <script src="https://cdn.tailwindcss.com/3.4.1"><\/script>
          <style>body { font-family: 'Cairo', sans-serif; }</style>
          ${_}
          <script type="module">import("/index.tsx");<\/script>
      </head>
      <body class="bg-gray-100">${I}</body>
      </html>
    `},Pye=()=>{var x,w,C,S;const{siteSettings:t,pages:e,blogPosts:n}=sn(),[r,i]=W.useState(Fn),[s,a]=W.useState(""),[o,l]=W.useState(!1),[c,u]=W.useState("default"),[f,h]=W.useState(new Set);W.useEffect(()=>{i(t?{...Fn,...t,seo:{...Fn.seo,...t.seo||{}},social:{...Fn.social,...t.social||{}}}:Fn)},[t]);const p=(R,D)=>{const{name:k,value:I}=R.target;h(F=>new Set(F).add(c)),i(F=>{const P=JSON.parse(JSON.stringify(F));return D==="seo"?(P.seo||(P.seo={}),P.seo[c]||(P.seo[c]={...Fn.seo.default}),P.seo[c][k]=I):(P.social||(P.social={}),P.social[c]||(P.social[c]={...Fn.social.default}),P.social[c][k]=I),P})},v=async R=>{if(R.preventDefault(),!!r){l(!0),a("");try{await AH({seo:r.seo,social:r.social}),a("     .    JSON  ...");const D=[],k=await xu("settings","global");D.push({path:"data/json/site-settings-public.json",content:JSON.stringify(k,null,2)});const I=Array.from(f);if(I.length>0)for(const F of I){const P=ad(F==="default"?"dz":F),N=Rye(F,r,e,n,P),O=F==="default"?"dist/index.html":`dist/${F}/index.html`;D.push({path:O,content:N})}D.length>0?(await ll({files:D,commitMessage:`feat(seo): Update settings JSON and homepages for ${I.length>0?I.join(", "):"general settings"}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),a(`     (JSON)  ${D.length-1}  !`)):a("  .     ."),h(new Set)}catch(D){console.error("Error saving settings:",D),alert("     .")}finally{l(!1),setTimeout(()=>a(""),5e3)}}};if(!r)return d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(Ct,{className:"animate-spin text-2xl"})});const g=((x=r.seo)==null?void 0:x[c])||((w=r.seo)==null?void 0:w.default)||Fn.seo.default,y=((C=r.social)==null?void 0:C[c])||((S=r.social)==null?void 0:S.default)||Fn.social.default,_=[{code:"default",name:"Default"},...Rr.en];return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  (SEO)"}),s&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:s})}),d.jsx("div",{className:"mb-6 border-b border-gray-200",children:d.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:_.map(R=>d.jsx("button",{onClick:()=>u(R.code),className:`whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm
                                ${c===R.code?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R.name},R.code))})}),d.jsxs("form",{onSubmit:v,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   SEO"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"siteName",value:g.siteName||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Tagline)"}),d.jsx("input",{type:"text",name:"tagline",value:g.tagline||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"titleSeparator",value:g.titleSeparator||"",onChange:R=>p(R,"seo"),className:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Meta Description)"}),d.jsx("textarea",{name:"metaDescription",rows:2,value:g.metaDescription||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  1)"}),d.jsx("input",{type:"text",name:"mainPageTitle",value:g.mainPageTitle||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  2)"}),d.jsx("textarea",{name:"mainPageSubtitle",rows:3,value:g.mainPageSubtitle||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",value:y.facebook||"",onChange:R=>p(R,"social"),placeholder:"https://facebook.com/yourpage",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",value:y.twitter||"",onChange:R=>p(R,"social"),placeholder:"https://twitter.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",value:y.instagram||"",onChange:R=>p(R,"social"),placeholder:"https://instagram.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t",children:d.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[o?d.jsx(Ct,{className:"animate-spin"}):null,o?"  ...":"  "]})})]})]})};var CC,V9;function Fye(){if(V9)return CC;V9=1;function t(){this.__data__=[],this.size=0}return CC=t,CC}var SC,W9;function TG(){if(W9)return SC;W9=1;function t(e,n){return e===n||e!==e&&n!==n}return SC=t,SC}var DC,q9;function Sw(){if(q9)return DC;q9=1;var t=TG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return DC=e,DC}var AC,$9;function Mye(){if($9)return AC;$9=1;var t=Sw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return AC=r,AC}var NC,z9;function Uye(){if(z9)return NC;z9=1;var t=Sw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return NC=e,NC}var kC,H9;function Oye(){if(H9)return kC;H9=1;var t=Sw();function e(n){return t(this.__data__,n)>-1}return kC=e,kC}var IC,G9;function Lye(){if(G9)return IC;G9=1;var t=Sw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return IC=e,IC}var RC,K9;function Dw(){if(K9)return RC;K9=1;var t=Fye(),e=Mye(),n=Uye(),r=Oye(),i=Lye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,RC=s,RC}var PC,X9;function jye(){if(X9)return PC;X9=1;var t=Dw();function e(){this.__data__=new t,this.size=0}return PC=e,PC}var FC,J9;function Bye(){if(J9)return FC;J9=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return FC=t,FC}var MC,Y9;function Vye(){if(Y9)return MC;Y9=1;function t(e){return this.__data__.get(e)}return MC=t,MC}var UC,Q9;function Wye(){if(Q9)return UC;Q9=1;function t(e){return this.__data__.has(e)}return UC=t,UC}var OC,Z9;function EG(){if(Z9)return OC;Z9=1;var t=typeof vs=="object"&&vs&&vs.Object===Object&&vs;return OC=t,OC}var LC,e7;function Ic(){if(e7)return LC;e7=1;var t=EG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return LC=n,LC}var jC,t7;function pI(){if(t7)return jC;t7=1;var t=Ic(),e=t.Symbol;return jC=e,jC}var BC,n7;function qye(){if(n7)return BC;n7=1;var t=pI(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return BC=s,BC}var VC,r7;function $ye(){if(r7)return VC;r7=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return VC=n,VC}var WC,i7;function Aw(){if(i7)return WC;i7=1;var t=pI(),e=qye(),n=$ye(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return WC=a,WC}var qC,s7;function CG(){if(s7)return qC;s7=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return qC=t,qC}var $C,a7;function SG(){if(a7)return $C;a7=1;var t=Aw(),e=CG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return $C=a,$C}var zC,o7;function zye(){if(o7)return zC;o7=1;var t=Ic(),e=t["__core-js_shared__"];return zC=e,zC}var HC,l7;function Hye(){if(l7)return HC;l7=1;var t=zye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return HC=n,HC}var GC,c7;function DG(){if(c7)return GC;c7=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return GC=n,GC}var KC,u7;function Gye(){if(u7)return KC;u7=1;var t=SG(),e=Hye(),n=CG(),r=DG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return KC=f,KC}var XC,d7;function Kye(){if(d7)return XC;d7=1;function t(e,n){return e==null?void 0:e[n]}return XC=t,XC}var JC,f7;function Ym(){if(f7)return JC;f7=1;var t=Gye(),e=Kye();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return JC=n,JC}var YC,h7;function mI(){if(h7)return YC;h7=1;var t=Ym(),e=Ic(),n=t(e,"Map");return YC=n,YC}var QC,p7;function Nw(){if(p7)return QC;p7=1;var t=Ym(),e=t(Object,"create");return QC=e,QC}var ZC,m7;function Xye(){if(m7)return ZC;m7=1;var t=Nw();function e(){this.__data__=t?t(null):{},this.size=0}return ZC=e,ZC}var eS,g7;function Jye(){if(g7)return eS;g7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return eS=t,eS}var tS,y7;function Yye(){if(y7)return tS;y7=1;var t=Nw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return tS=i,tS}var nS,v7;function Qye(){if(v7)return nS;v7=1;var t=Nw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return nS=r,nS}var rS,x7;function Zye(){if(x7)return rS;x7=1;var t=Nw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return rS=n,rS}var iS,b7;function eve(){if(b7)return iS;b7=1;var t=Xye(),e=Jye(),n=Yye(),r=Qye(),i=Zye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,iS=s,iS}var sS,_7;function tve(){if(_7)return sS;_7=1;var t=eve(),e=Dw(),n=mI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return sS=r,sS}var aS,w7;function nve(){if(w7)return aS;w7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return aS=t,aS}var oS,T7;function kw(){if(T7)return oS;T7=1;var t=nve();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return oS=e,oS}var lS,E7;function rve(){if(E7)return lS;E7=1;var t=kw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return lS=e,lS}var cS,C7;function ive(){if(C7)return cS;C7=1;var t=kw();function e(n){return t(this,n).get(n)}return cS=e,cS}var uS,S7;function sve(){if(S7)return uS;S7=1;var t=kw();function e(n){return t(this,n).has(n)}return uS=e,uS}var dS,D7;function ave(){if(D7)return dS;D7=1;var t=kw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return dS=e,dS}var fS,A7;function AG(){if(A7)return fS;A7=1;var t=tve(),e=rve(),n=ive(),r=sve(),i=ave();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,fS=s,fS}var hS,N7;function ove(){if(N7)return hS;N7=1;var t=Dw(),e=mI(),n=AG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return hS=i,hS}var pS,k7;function lve(){if(k7)return pS;k7=1;var t=Dw(),e=jye(),n=Bye(),r=Vye(),i=Wye(),s=ove();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,pS=a,pS}var mS,I7;function cve(){if(I7)return mS;I7=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return mS=e,mS}var gS,R7;function uve(){if(R7)return gS;R7=1;function t(e){return this.__data__.has(e)}return gS=t,gS}var yS,P7;function dve(){if(P7)return yS;P7=1;var t=AG(),e=cve(),n=uve();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,yS=r,yS}var vS,F7;function fve(){if(F7)return vS;F7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return vS=t,vS}var xS,M7;function hve(){if(M7)return xS;M7=1;function t(e,n){return e.has(n)}return xS=t,xS}var bS,U7;function NG(){if(U7)return bS;U7=1;var t=dve(),e=fve(),n=hve(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var _=-1,x=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++_<p;){var C=a[_],S=o[_];if(c)var R=h?c(S,C,_,o,a,f):c(C,S,_,a,o,f);if(R!==void 0){if(R)continue;x=!1;break}if(w){if(!e(o,function(D,k){if(!n(w,k)&&(C===D||u(C,D,l,c,f)))return w.push(k)})){x=!1;break}}else if(!(C===S||u(C,S,l,c,f))){x=!1;break}}return f.delete(a),f.delete(o),x}return bS=s,bS}var _S,O7;function pve(){if(O7)return _S;O7=1;var t=Ic(),e=t.Uint8Array;return _S=e,_S}var wS,L7;function mve(){if(L7)return wS;L7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return wS=t,wS}var TS,j7;function gve(){if(j7)return TS;j7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return TS=t,TS}var ES,B7;function yve(){if(B7)return ES;B7=1;var t=pI(),e=pve(),n=TG(),r=NG(),i=mve(),s=gve(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=t?t.prototype:void 0,C=w?w.valueOf:void 0;function S(R,D,k,I,F,P,N){switch(k){case x:if(R.byteLength!=D.byteLength||R.byteOffset!=D.byteOffset)return!1;R=R.buffer,D=D.buffer;case _:return!(R.byteLength!=D.byteLength||!P(new e(R),new e(D)));case l:case c:case h:return n(+R,+D);case u:return R.name==D.name&&R.message==D.message;case p:case g:return R==D+"";case f:var O=i;case v:var U=I&a;if(O||(O=s),R.size!=D.size&&!U)return!1;var H=N.get(R);if(H)return H==D;I|=o,N.set(R,D);var G=r(O(R),O(D),I,F,P,N);return N.delete(R),G;case y:if(C)return C.call(R)==C.call(D)}return!1}return ES=S,ES}var CS,V7;function vve(){if(V7)return CS;V7=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return CS=t,CS}var SS,W7;function gI(){if(W7)return SS;W7=1;var t=Array.isArray;return SS=t,SS}var DS,q7;function xve(){if(q7)return DS;q7=1;var t=vve(),e=gI();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return DS=n,DS}var AS,$7;function bve(){if($7)return AS;$7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return AS=t,AS}var NS,z7;function _ve(){if(z7)return NS;z7=1;function t(){return[]}return NS=t,NS}var kS,H7;function wve(){if(H7)return kS;H7=1;var t=bve(),e=_ve(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return kS=s,kS}var IS,G7;function Tve(){if(G7)return IS;G7=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return IS=t,IS}var RS,K7;function Iw(){if(K7)return RS;K7=1;function t(e){return e!=null&&typeof e=="object"}return RS=t,RS}var PS,X7;function Eve(){if(X7)return PS;X7=1;var t=Aw(),e=Iw(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return PS=r,PS}var FS,J7;function Cve(){if(J7)return FS;J7=1;var t=Eve(),e=Iw(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return FS=s,FS}var E0={exports:{}},MS,Y7;function Sve(){if(Y7)return MS;Y7=1;function t(){return!1}return MS=t,MS}E0.exports;var Q7;function kG(){return Q7||(Q7=1,(function(t,e){var n=Ic(),r=Sve(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(E0,E0.exports)),E0.exports}var US,Z7;function Dve(){if(Z7)return US;Z7=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return US=n,US}var OS,eM;function IG(){if(eM)return OS;eM=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return OS=e,OS}var LS,tM;function Ave(){if(tM)return LS;tM=1;var t=Aw(),e=IG(),n=Iw(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",k="[object Uint8ClampedArray]",I="[object Uint16Array]",F="[object Uint32Array]",P={};P[x]=P[w]=P[C]=P[S]=P[R]=P[D]=P[k]=P[I]=P[F]=!0,P[r]=P[i]=P[y]=P[s]=P[_]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function N(O){return n(O)&&e(O.length)&&!!P[t(O)]}return LS=N,LS}var jS,nM;function Nve(){if(nM)return jS;nM=1;function t(e){return function(n){return e(n)}}return jS=t,jS}var C0={exports:{}};C0.exports;var rM;function kve(){return rM||(rM=1,(function(t,e){var n=EG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(C0,C0.exports)),C0.exports}var BS,iM;function RG(){if(iM)return BS;iM=1;var t=Ave(),e=Nve(),n=kve(),r=n&&n.isTypedArray,i=r?e(r):t;return BS=i,BS}var VS,sM;function Ive(){if(sM)return VS;sM=1;var t=Tve(),e=Cve(),n=gI(),r=kG(),i=Dve(),s=RG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],_=y.length;for(var x in c)(u||o.call(c,x))&&!(g&&(x=="length"||p&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,_)))&&y.push(x);return y}return VS=l,VS}var WS,aM;function Rve(){if(aM)return WS;aM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return WS=e,WS}var qS,oM;function Pve(){if(oM)return qS;oM=1;function t(e,n){return function(r){return e(n(r))}}return qS=t,qS}var $S,lM;function Fve(){if(lM)return $S;lM=1;var t=Pve(),e=t(Object.keys,Object);return $S=e,$S}var zS,cM;function Mve(){if(cM)return zS;cM=1;var t=Rve(),e=Fve(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return zS=i,zS}var HS,uM;function Uve(){if(uM)return HS;uM=1;var t=SG(),e=IG();function n(r){return r!=null&&e(r.length)&&!t(r)}return HS=n,HS}var GS,dM;function Ove(){if(dM)return GS;dM=1;var t=Ive(),e=Mve(),n=Uve();function r(i){return n(i)?t(i):e(i)}return GS=r,GS}var KS,fM;function Lve(){if(fM)return KS;fM=1;var t=xve(),e=wve(),n=Ove();function r(i){return t(i,n,e)}return KS=r,KS}var XS,hM;function jve(){if(hM)return XS;hM=1;var t=Lve(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var _=h[y];if(!(f?_ in a:r.call(a,_)))return!1}var x=u.get(s),w=u.get(a);if(x&&w)return x==a&&w==s;var C=!0;u.set(s,a),u.set(a,s);for(var S=f;++y<p;){_=h[y];var R=s[_],D=a[_];if(l)var k=f?l(D,R,_,a,s,u):l(R,D,_,s,a,u);if(!(k===void 0?R===D||c(R,D,o,l,u):k)){C=!1;break}S||(S=_=="constructor")}if(C&&!S){var I=s.constructor,F=a.constructor;I!=F&&"constructor"in s&&"constructor"in a&&!(typeof I=="function"&&I instanceof I&&typeof F=="function"&&F instanceof F)&&(C=!1)}return u.delete(s),u.delete(a),C}return XS=i,XS}var JS,pM;function Bve(){if(pM)return JS;pM=1;var t=Ym(),e=Ic(),n=t(e,"DataView");return JS=n,JS}var YS,mM;function Vve(){if(mM)return YS;mM=1;var t=Ym(),e=Ic(),n=t(e,"Promise");return YS=n,YS}var QS,gM;function Wve(){if(gM)return QS;gM=1;var t=Ym(),e=Ic(),n=t(e,"Set");return QS=n,QS}var ZS,yM;function qve(){if(yM)return ZS;yM=1;var t=Ym(),e=Ic(),n=t(e,"WeakMap");return ZS=n,ZS}var e4,vM;function $ve(){if(vM)return e4;vM=1;var t=Bve(),e=mI(),n=Vve(),r=Wve(),i=qve(),s=Aw(),a=DG(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),_=a(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=h||e&&x(new e)!=o||n&&x(n.resolve())!=c||r&&x(new r)!=u||i&&x(new i)!=f)&&(x=function(w){var C=s(w),S=C==l?w.constructor:void 0,R=S?a(S):"";if(R)switch(R){case p:return h;case v:return o;case g:return c;case y:return u;case _:return f}return C}),e4=x,e4}var t4,xM;function zve(){if(xM)return t4;xM=1;var t=lve(),e=NG(),n=yve(),r=jve(),i=$ve(),s=gI(),a=kG(),o=RG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,_,x,w,C){var S=s(g),R=s(y),D=S?u:i(g),k=R?u:i(y);D=D==c?f:D,k=k==c?f:k;var I=D==f,F=k==f,P=D==k;if(P&&a(g)){if(!a(y))return!1;S=!0,I=!1}if(P&&!I)return C||(C=new t),S||o(g)?e(g,y,_,x,w,C):n(g,y,D,_,x,w,C);if(!(_&l)){var N=I&&p.call(g,"__wrapped__"),O=F&&p.call(y,"__wrapped__");if(N||O){var U=N?g.value():g,H=O?y.value():y;return C||(C=new t),w(U,H,_,x,C)}}return P?(C||(C=new t),r(g,y,_,x,w,C)):!1}return t4=v,t4}var n4,bM;function Hve(){if(bM)return n4;bM=1;var t=zve(),e=Iw();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return n4=n,n4}var r4,_M;function Gve(){if(_M)return r4;_M=1;var t=Hve();function e(n,r){return t(n,r)}return r4=e,r4}var S2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Kve=S2.exports,wM;function Xve(){return wM||(wM=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Kve,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),_=i(1),x={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=x}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var w in x)x.hasOwnProperty(w)&&(_[w]=x[w])};return function(_,x){y(_,x);function w(){this.constructor=_}_.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(_,y);function _(x){var w=this;return x="[Parchment] "+x,w=y.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return _})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,_){var x=v(y);if(x==null)throw new a("Unable to create "+y+" blot");var w=x,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(_);return new w(C,_)}r.create=h;function p(y,_){return _===void 0&&(_=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:_?p(y.parentNode,_):null}r.find=p;function v(y,_){_===void 0&&(_=f.ANY);var x;if(typeof y=="string")x=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?x=u.block:y&f.LEVEL&f.INLINE&&(x=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(x=l[w[C]],x)break;x=x||c[y.tagName]}return x==null?null:_&f.LEVEL&x.scope&&_&f.TYPE&x.scope?x:null}r.query=v;function g(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];if(y.length>1)return y.map(function(C){return g(C)});var x=y[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new a("Invalid definition");if(x.blotName==="abstract")throw new a("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")o[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(C){return C.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(C){(c[C]==null||x.className==null)&&(c[C]=x)})}return x}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var _=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")_.push(p.next());else if(h.peekType()==="delete")_.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),w=h.next(x),C=p.next(x);if(typeof C.retain=="number"){var S={};typeof w.retain=="number"?S.retain=x:S.insert=w.insert;var R=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),_.push(S),!p.hasNext()&&a(_.ops[_.ops.length-1],S)){var D=new u(h.rest());return _.concat(D).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&_.push(C)}return _.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var C=x===f?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),_=l.iterator(f.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var C=0;switch(x[0]){case s.INSERT:C=Math.min(_.peekLength(),w),v.push(_.next(C));break;case s.DELETE:C=Math.min(w,y.peekLength()),y.next(C),v.delete(C);break;case s.EQUAL:C=Math.min(y.peekLength(),_.peekLength(),w);var S=y.next(C),R=_.next(C);a(S.insert,R.insert)?v.retain(C,l.attributes.diff(S.attributes,R.attributes)):v.push(R).delete(C);break}w-=C}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),_=l.length(y)-p.peekLength(),x=typeof y.insert=="string"?y.insert.indexOf(h,_)-_:-1;if(x<0)v.push(p.next());else if(x>0)v.push(p.next(x));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),_=p.next(y),x=v.next(y);if(_.delete)continue;x.delete?g.push(x):g.retain(y,l.attributes.transform(_.attributes,x.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,_,x,w=arguments[0],C=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(p=arguments[C],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(R&&y&&(c(y)||(_=l(y)))?(_?(_=!1,x=g&&l(g)?g:[]):x=g&&c(g)?g:{},u(w,{name:v,newValue:h(R,x,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(N,O){for(var U=0;U<O.length;U++){var H=O[U];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,H.key,H)}}return function(N,O,U){return O&&P(N.prototype,O),U&&P(N,U),N}})(),a=function P(N,O,U){N===null&&(N=Function.prototype);var H=Object.getOwnPropertyDescriptor(N,O);if(H===void 0){var G=Object.getPrototypeOf(N);return G===null?void 0:P(G,O,U)}else{if("value"in H)return H.value;var J=H.get;return J===void 0?void 0:J.call(U)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),_=i(7),x=w(_);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")}function S(P,N){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:P}function R(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);P.prototype=Object.create(N&&N.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(P,N):P.__proto__=N)}var D=1,k=(function(P){R(N,P);function N(){return C(this,N),S(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,[{key:"attach",value:function(){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(U,H){var G=h.default.query(U,h.default.Scope.BLOCK_ATTRIBUTE);G!=null&&this.attributes.attribute(G,H)}},{key:"formatAt",value:function(U,H,G,J){this.format(G,J)}},{key:"insertAt",value:function(U,H,G){if(typeof H=="string"&&H.endsWith(`
`)){var J=h.default.create(I.blotName);this.parent.insertBefore(J,U===0?this:this.next),J.insertAt(0,H.slice(0,-1))}else a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,U,H,G)}}]),N})(h.default.Embed);k.scope=h.default.Scope.BLOCK_BLOT;var I=(function(P){R(N,P);function N(O){C(this,N);var U=S(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O));return U.cache={},U}return s(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(U,H){return H.length()===0?U:U.insert(H.value(),F(H))},new u.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(U,H){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,U,H),this.cache={}}},{key:"formatAt",value:function(U,H,G,J){H<=0||(h.default.query(G,h.default.Scope.BLOCK)?U+H===this.length()&&this.format(G,J):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,U,Math.min(H,this.length()-U-1),G,J),this.cache={})}},{key:"insertAt",value:function(U,H,G){if(G!=null)return a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,U,H,G);if(H.length!==0){var J=H.split(`
`),Z=J.shift();Z.length>0&&(U<this.length()-1||this.children.tail==null?a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var z=this;J.reduce(function(Y,B){return z=z.split(Y,!0),z.insertAt(0,B),B.length},U+Z.length)}}},{key:"insertBefore",value:function(U,H){var G=this.children.head;a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,U,H),G instanceof v.default&&G.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+D),this.cache.length}},{key:"moveChildren",value:function(U,H){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,U,H),this.cache={}}},{key:"optimize",value:function(U){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(U===0||U>=this.length()-D)){var G=this.clone();return U===0?(this.parent.insertBefore(G,this),this):(this.parent.insertBefore(G,this.next),G)}else{var J=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,U,H);return this.cache={},J}}}]),N})(h.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[y.default,h.default.Embed,x.default];function F(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(N=(0,l.default)(N,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?N:F(P.parent,N)}r.bubbleFormats=F,r.BlockEmbed=k,r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Y,B){var j=[],q=!0,X=!1,Q=void 0;try{for(var te=Y[Symbol.iterator](),ae;!(q=(ae=te.next()).done)&&(j.push(ae.value),!(B&&j.length===B));q=!0);}catch(ue){X=!0,Q=ue}finally{try{!q&&te.return&&te.return()}finally{if(X)throw Q}}return j}return function(Y,B){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return z(Y,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Y,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Y,q.key,q)}}return function(Y,B,j){return B&&z(Y.prototype,B),j&&z(Y,j),Y}})();i(50);var l=i(2),c=F(l),u=i(14),f=F(u),h=i(8),p=F(h),v=i(9),g=F(v),y=i(0),_=F(y),x=i(15),w=F(x),C=i(3),S=F(C),R=i(10),D=F(R),k=i(34),I=F(k);function F(z){return z&&z.__esModule?z:{default:z}}function P(z,Y,B){return Y in z?Object.defineProperty(z,Y,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Y]=B,z}function N(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}var O=(0,D.default)("quill"),U=(function(){o(z,null,[{key:"debug",value:function(B){B===!0&&(B="log"),D.default.level(B)}},{key:"find",value:function(B){return B.__quill||_.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&O.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Q=B.attrName||B.blotName;typeof Q=="string"?this.register("formats/"+Q,B,j):Object.keys(B).forEach(function(te){q.register(te,B[te],j)})}else this.imports[B]!=null&&!X&&O.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?_.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function z(Y){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,z),this.options=H(Y,j),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",Y);this.options.debug&&z.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,te){var ae=B.selection.lastRange,ue=ae&&ae.length===0?ae.index:void 0;G.call(B,function(){return B.editor.update(null,te,ue)},Q)});var X=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(X),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(z,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var q=B;B=document.createElement("div"),B.classList.add(q)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,q){var X=this,Q=J(B,j,q),te=a(Q,4);return B=te[0],j=te[1],q=te[3],G.call(this,function(){return X.editor.deleteText(B,j)},q,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return G.call(this,function(){var Q=q.getSelection(!0),te=new c.default;if(Q==null)return te;if(_.default.query(B,_.default.Scope.BLOCK))te=q.editor.formatLine(Q.index,Q.length,P({},B,j));else{if(Q.length===0)return q.selection.format(B,j),te;te=q.editor.formatText(Q.index,Q.length,P({},B,j))}return q.setSelection(Q,p.default.sources.SILENT),te},X)}},{key:"formatLine",value:function(B,j,q,X,Q){var te=this,ae=void 0,ue=J(B,j,q,X,Q),de=a(ue,4);return B=de[0],j=de[1],ae=de[2],Q=de[3],G.call(this,function(){return te.editor.formatLine(B,j,ae)},Q,B,0)}},{key:"formatText",value:function(B,j,q,X,Q){var te=this,ae=void 0,ue=J(B,j,q,X,Q),de=a(ue,4);return B=de[0],j=de[1],ae=de[2],Q=de[3],G.call(this,function(){return te.editor.formatText(B,j,ae)},Q,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof B=="number"?q=this.selection.getBounds(B,j):q=this.selection.getBounds(B.index,B.length);var X=this.container.getBoundingClientRect();return{bottom:q.bottom-X.top,height:q.height,left:q.left-X.left,right:q.right-X.left,top:q.top-X.top,width:q.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=J(B,j),X=a(q,2);return B=X[0],j=X[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=J(B,j),X=a(q,2);return B=X[0],j=X[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,q){var X=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return G.call(this,function(){return X.editor.insertEmbed(B,j,q)},Q,B)}},{key:"insertText",value:function(B,j,q,X,Q){var te=this,ae=void 0,ue=J(B,0,q,X,Q),de=a(ue,4);return B=de[0],ae=de[2],Q=de[3],G.call(this,function(){return te.editor.insertText(B,j,ae)},Q,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,q){this.clipboard.dangerouslyPasteHTML(B,j,q)}},{key:"removeFormat",value:function(B,j,q){var X=this,Q=J(B,j,q),te=a(Q,4);return B=te[0],j=te[1],q=te[3],G.call(this,function(){return X.editor.removeFormat(B,j)},q,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return G.call(this,function(){B=new c.default(B);var X=j.getLength(),Q=j.editor.deleteText(0,X),te=j.editor.applyDelta(B),ae=te.ops[te.ops.length-1];ae!=null&&typeof ae.insert=="string"&&ae.insert[ae.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),te.delete(1));var ue=Q.compose(te);return ue},q)}},{key:"setSelection",value:function(B,j,q){if(B==null)this.selection.setRange(null,j||z.sources.API);else{var X=J(B,j,q),Q=a(X,4);B=Q[0],j=Q[1],q=Q[3],this.selection.setRange(new x.Range(B,j),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new c.default().insert(B);return this.setContents(q,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return G.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,q)},q,!0)}}]),z})();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=p.default.events,U.sources=p.default.sources,U.version="1.3.7",U.imports={delta:c.default,parchment:_.default,"core/module":g.default,"core/theme":I.default};function H(z,Y){if(Y=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},Y),!Y.theme||Y.theme===U.DEFAULTS.theme)Y.theme=I.default;else if(Y.theme=U.import("themes/"+Y.theme),Y.theme==null)throw new Error("Invalid theme "+Y.theme+". Did you register it?");var B=(0,S.default)(!0,{},Y.theme.DEFAULTS);[B,Y].forEach(function(X){X.modules=X.modules||{},Object.keys(X.modules).forEach(function(Q){X.modules[Q]===!0&&(X.modules[Q]={})})});var j=Object.keys(B.modules).concat(Object.keys(Y.modules)),q=j.reduce(function(X,Q){var te=U.import("modules/"+Q);return te==null?O.error("Cannot load "+Q+" module. Are you sure you registered it?"):X[Q]=te.DEFAULTS||{},X},{});return Y.modules!=null&&Y.modules.toolbar&&Y.modules.toolbar.constructor!==Object&&(Y.modules.toolbar={container:Y.modules.toolbar}),Y=(0,S.default)(!0,{},U.DEFAULTS,{modules:q},B,Y),["bounds","container","scrollingContainer"].forEach(function(X){typeof Y[X]=="string"&&(Y[X]=document.querySelector(Y[X]))}),Y.modules=Object.keys(Y.modules).reduce(function(X,Q){return Y.modules[Q]&&(X[Q]=Y.modules[Q]),X},{}),Y}function G(z,Y,B,j){if(this.options.strict&&!this.isEnabled()&&Y===p.default.sources.USER)return new c.default;var q=B==null?null:this.getSelection(),X=this.editor.delta,Q=z();if(q!=null&&(B===!0&&(B=q.index),j==null?q=Z(q,Q,Y):j!==0&&(q=Z(q,B,j,Y)),this.setSelection(q,p.default.sources.SILENT)),Q.length()>0){var te,ae=[p.default.events.TEXT_CHANGE,Q,X,Y];if((te=this.emitter).emit.apply(te,[p.default.events.EDITOR_CHANGE].concat(ae)),Y!==p.default.sources.SILENT){var ue;(ue=this.emitter).emit.apply(ue,ae)}}return Q}function J(z,Y,B,j,q){var X={};return typeof z.index=="number"&&typeof z.length=="number"?typeof Y!="number"?(q=j,j=B,B=Y,Y=z.length,z=z.index):(Y=z.length,z=z.index):typeof Y!="number"&&(q=j,j=B,B=Y,Y=0),(typeof B>"u"?"undefined":s(B))==="object"?(X=B,q=j):typeof B=="string"&&(j!=null?X[B]=j:q=B),q=q||p.default.sources.API,[z,Y,X,q]}function Z(z,Y,B,j){if(z==null)return null;var q=void 0,X=void 0;if(Y instanceof c.default){var Q=[z.index,z.index+z.length].map(function(de){return Y.transformPosition(de,j!==p.default.sources.USER)}),te=a(Q,2);q=te[0],X=te[1]}else{var ae=[z.index,z.index+z.length].map(function(de){return de<Y||de===Y&&j===p.default.sources.USER?de:B>=0?de+B:Math.max(Y,de+B)}),ue=a(ae,2);q=ue[0],X=ue[1]}return new x.Range(q,X-q)}r.expandConfig=H,r.overload=J,r.default=U}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function v(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var g=(function(y){v(_,y);function _(){return h(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"formatAt",value:function(w,C,S,R){if(_.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var D=this.isolate(w,C);R&&D.wrap(S,R)}else a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,w,C,S,R)}},{key:"optimize",value:function(w){if(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,w),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var S=_.order.indexOf(w),R=_.order.indexOf(C);return S>=0||R>=0?S-R:w===C?0:w<C?-1:1}}]),_})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function x(w,C){for(var S=0;S<C.length;S++){var R=C[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,C,S){return C&&x(w.prototype,C),S&&x(w,S),w}})(),a=function x(w,C,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,C);if(R===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:x(D,C,S)}else{if("value"in R)return R.value;var k=R.get;return k===void 0?void 0:k.call(S)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function p(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function v(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,C=Array(w),S=0;S<w;S++)C[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var D;(D=R.__quill.emitter).handleDOM.apply(D,C)}})})});var _=(function(x){v(w,x);function w(){h(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",g.error),C}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,D=Array(R>1?R-1:0),k=1;k<R;k++)D[k-1]=arguments[k];(this.listeners[S.type]||[]).forEach(function(I){var F=I.node,P=I.handler;(S.target===F||F.contains(S.target))&&P.apply(void 0,[S].concat(D))})}},{key:"listenDOM",value:function(S,R,D){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:D})}}]),w})(l.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},r.default=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var _=a(h),x=a(p)}catch{return!1}if(_.length!=x.length)return!1;for(_.sort(),x.sort(),g=_.length-1;g>=0;g--)if(_[g]!=x[g])return!1;for(g=_.length-1;g>=0;g--)if(y=_[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function k(I,F){var P=[],N=!0,O=!1,U=void 0;try{for(var H=I[Symbol.iterator](),G;!(N=(G=H.next()).done)&&(P.push(G.value),!(F&&P.length===F));N=!0);}catch(J){O=!0,U=J}finally{try{!N&&H.return&&H.return()}finally{if(O)throw U}}return P}return function(I,F){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return k(I,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function k(I,F){for(var P=0;P<F.length;P++){var N=F[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}return function(I,F,P){return F&&k(I.prototype,F),P&&k(I,P),I}})(),o=function k(I,F,P){I===null&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,F);if(N===void 0){var O=Object.getPrototypeOf(I);return O===null?void 0:k(O,F,P)}else{if("value"in N)return N.value;var U=N.get;return U===void 0?void 0:U.call(P)}},l=i(2),c=x(l),u=i(0),f=x(u),h=i(4),p=x(h),v=i(6),g=x(v),y=i(7),_=x(y);function x(k){return k&&k.__esModule?k:{default:k}}function w(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function C(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function S(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var R=(function(k){S(I,k);function I(){return w(this,I),C(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I})(g.default);R.blotName="code",R.tagName="CODE";var D=(function(k){S(I,k);function I(){return w(this,I),C(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return a(I,[{key:"delta",value:function(){var P=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(O,U){return O.insert(U).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,N){if(!(P===this.statics.blotName&&N)){var O=this.descendant(_.default,this.length()-1),U=s(O,1),H=U[0];H!=null&&H.deleteAt(H.length()-1,1),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,N)}}},{key:"formatAt",value:function(P,N,O,U){if(N!==0&&!(f.default.query(O,f.default.Scope.BLOCK)==null||O===this.statics.blotName&&U===this.statics.formats(this.domNode))){var H=this.newlineIndex(P);if(!(H<0||H>=P+N)){var G=this.newlineIndex(P,!0)+1,J=H-G+1,Z=this.isolate(G,J),z=Z.next;Z.format(O,U),z instanceof I&&z.formatAt(0,P-G+N-J,O,U)}}}},{key:"insertAt",value:function(P,N,O){if(O==null){var U=this.descendant(_.default,P),H=s(U,2),G=H[0],J=H[1];G.insertAt(J,N)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var O=this.domNode.textContent.slice(P).indexOf(`
`);return O>-1?P+O:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(P),N.moveChildren(this),N.remove())}},{key:"replace",value:function(P){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var O=f.default.find(N);O==null?N.parentNode.removeChild(N):O instanceof f.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(P){var N=o(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),I})(p.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",r.Code=R,r.default=D}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Y,B){var j=[],q=!0,X=!1,Q=void 0;try{for(var te=Y[Symbol.iterator](),ae;!(q=(ae=te.next()).done)&&(j.push(ae.value),!(B&&j.length===B));q=!0);}catch(ue){X=!0,Q=ue}finally{try{!q&&te.return&&te.return()}finally{if(X)throw Q}}return j}return function(Y,B){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return z(Y,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Y,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Y,q.key,q)}}return function(Y,B,j){return B&&z(Y.prototype,B),j&&z(Y,j),Y}})(),l=i(2),c=N(l),u=i(20),f=N(u),h=i(0),p=N(h),v=i(13),g=N(v),y=i(24),_=N(y),x=i(4),w=N(x),C=i(16),S=N(C),R=i(21),D=N(R),k=i(11),I=N(k),F=i(3),P=N(F);function N(z){return z&&z.__esModule?z:{default:z}}function O(z,Y,B){return Y in z?Object.defineProperty(z,Y,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Y]=B,z}function U(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,G=(function(){function z(Y){U(this,z),this.scroll=Y,this.delta=this.getDelta()}return o(z,[{key:"applyDelta",value:function(B){var j=this,q=!1;this.scroll.update();var X=this.scroll.length();return this.scroll.batchStart(),B=Z(B),B.reduce(function(Q,te){var ae=te.retain||te.delete||te.insert.length||1,ue=te.attributes||{};if(te.insert!=null){if(typeof te.insert=="string"){var de=te.insert;de.endsWith(`
`)&&q&&(q=!1,de=de.slice(0,-1)),Q>=X&&!de.endsWith(`
`)&&(q=!0),j.scroll.insertAt(Q,de);var Se=j.scroll.line(Q),Pe=a(Se,2),pe=Pe[0],je=Pe[1],V=(0,P.default)({},(0,x.bubbleFormats)(pe));if(pe instanceof w.default){var xe=pe.descendant(p.default.Leaf,je),_e=a(xe,1),le=_e[0];V=(0,P.default)(V,(0,x.bubbleFormats)(le))}ue=f.default.attributes.diff(V,ue)||{}}else if(s(te.insert)==="object"){var re=Object.keys(te.insert)[0];if(re==null)return Q;j.scroll.insertAt(Q,re,te.insert[re])}X+=ae}return Object.keys(ue).forEach(function(oe){j.scroll.formatAt(Q,ae,oe,ue[oe])}),Q+ae},0),B.reduce(function(Q,te){return typeof te.delete=="number"?(j.scroll.deleteAt(Q,te.delete),Q):Q+(te.retain||te.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(X).forEach(function(Q){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[Q])){var te=q.scroll.lines(B,Math.max(j,1)),ae=j;te.forEach(function(ue){var de=ue.length();if(!(ue instanceof g.default))ue.format(Q,X[Q]);else{var Se=B-ue.offset(q.scroll),Pe=ue.newlineIndex(Se+ae)-Se+1;ue.formatAt(Se,Pe,Q,X[Q])}ae-=de})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,D.default)(X)))}},{key:"formatText",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(X).forEach(function(Q){q.scroll.formatAt(B,j,Q,X[Q])}),this.update(new c.default().retain(B).retain(j,(0,D.default)(X)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],X=[];j===0?this.scroll.path(B).forEach(function(te){var ae=a(te,1),ue=ae[0];ue instanceof w.default?q.push(ue):ue instanceof p.default.Leaf&&X.push(ue)}):(q=this.scroll.lines(B,j),X=this.scroll.descendants(p.default.Leaf,B,j));var Q=[q,X].map(function(te){if(te.length===0)return{};for(var ae=(0,x.bubbleFormats)(te.shift());Object.keys(ae).length>0;){var ue=te.shift();if(ue==null)return ae;ae=J((0,x.bubbleFormats)(ue),ae)}return ae});return P.default.apply(P.default,Q)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(B,j,q){return this.scroll.insertAt(B,j,q),this.update(new c.default().retain(B).insert(O({},j,q)))}},{key:"insertText",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(X).forEach(function(Q){q.scroll.formatAt(B,j.length,Q,X[Q])}),this.update(new c.default().retain(B).insert(j,(0,D.default)(X)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof S.default}},{key:"removeFormat",value:function(B,j){var q=this.getText(B,j),X=this.scroll.line(B+j),Q=a(X,2),te=Q[0],ae=Q[1],ue=0,de=new c.default;te!=null&&(te instanceof g.default?ue=te.newlineIndex(ae)-ae+1:ue=te.length()-ae,de=te.delta().slice(ae,ae+ue-1).insert(`
`));var Se=this.getContents(B,j+ue),Pe=Se.diff(new c.default().insert(q).concat(de)),pe=new c.default().retain(B).concat(Pe);return this.applyDelta(pe)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,X=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(H)&&p.default.find(j[0].target)){var Q=p.default.find(j[0].target),te=(0,x.bubbleFormats)(Q),ae=Q.offset(this.scroll),ue=j[0].oldValue.replace(_.default.CONTENTS,""),de=new c.default().insert(ue),Se=new c.default().insert(Q.value()),Pe=new c.default().retain(ae).concat(de.diff(Se,q));B=Pe.reduce(function(pe,je){return je.insert?pe.insert(je.insert,te):pe.push(je)},new c.default),this.delta=X.compose(B)}else this.delta=this.getDelta(),(!B||!(0,I.default)(X.compose(B),this.delta))&&(B=X.diff(this.delta,q));return B}}]),z})();function J(z,Y){return Object.keys(Y).reduce(function(B,j){return z[j]==null||(Y[j]===z[j]?B[j]=Y[j]:Array.isArray(Y[j])?Y[j].indexOf(z[j])<0&&(B[j]=Y[j].concat([z[j]])):B[j]=[Y[j],z[j]]),B},{})}function Z(z){return z.reduce(function(Y,B){if(B.insert===1){var j=(0,D.default)(B.attributes);return delete j.image,Y.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,D.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var q=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Y.insert(q,B.attributes)}return Y.push(B)},new c.default)}r.default=G}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function k(I,F){var P=[],N=!0,O=!1,U=void 0;try{for(var H=I[Symbol.iterator](),G;!(N=(G=H.next()).done)&&(P.push(G.value),!(F&&P.length===F));N=!0);}catch(J){O=!0,U=J}finally{try{!N&&H.return&&H.return()}finally{if(O)throw U}}return P}return function(I,F){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return k(I,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function k(I,F){for(var P=0;P<F.length;P++){var N=F[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}return function(I,F,P){return F&&k(I.prototype,F),P&&k(I,P),I}})(),o=i(0),l=_(o),c=i(21),u=_(c),f=i(11),h=_(f),p=i(8),v=_(p),g=i(10),y=_(g);function _(k){return k&&k.__esModule?k:{default:k}}function x(k){if(Array.isArray(k)){for(var I=0,F=Array(k.length);I<k.length;I++)F[I]=k[I];return F}else return Array.from(k)}function w(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),S=function k(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,k),this.index=I,this.length=F},R=(function(){function k(I,F){var P=this;w(this,k),this.emitter=F,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(N,O){N===v.default.events.TEXT_CHANGE&&O.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var N=P.getNativeRange();N!=null&&N.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(N,O){if(O.range){var U=O.range,H=U.startNode,G=U.startOffset,J=U.endNode,Z=U.endOffset;P.setNativeRange(H,G,J,Z)}}),this.update(v.default.sources.SILENT)}return a(k,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||l.default.query(F,l.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var O=l.default.find(N.start.node,!1);if(O==null)return;if(O instanceof l.default.Leaf){var U=O.split(N.start.offset);O.parent.insertBefore(this.cursor,U)}else O.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();F=Math.min(F,N-1),P=Math.min(F+P,N-1)-F;var O=void 0,U=this.scroll.leaf(F),H=s(U,2),G=H[0],J=H[1];if(G==null)return null;var Z=G.position(J,!0),z=s(Z,2);O=z[0],J=z[1];var Y=document.createRange();if(P>0){Y.setStart(O,J);var B=this.scroll.leaf(F+P),j=s(B,2);if(G=j[0],J=j[1],G==null)return null;var q=G.position(J,!0),X=s(q,2);return O=X[0],J=X[1],Y.setEnd(O,J),Y.getBoundingClientRect()}else{var Q="left",te=void 0;return O instanceof Text?(J<O.data.length?(Y.setStart(O,J),Y.setEnd(O,J+1)):(Y.setStart(O,J-1),Y.setEnd(O,J),Q="right"),te=Y.getBoundingClientRect()):(te=G.domNode.getBoundingClientRect(),J>0&&(Q="right")),{bottom:te.top+te.height,height:te.height,left:te[Q],right:te[Q],top:te.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(P==null)return null;var N=this.normalizeNative(P);return C.info("getNativeRange",N),N}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var P=this.normalizedToRange(F);return[P,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,N=[[F.start.node,F.start.offset]];F.native.collapsed||N.push([F.end.node,F.end.offset]);var O=N.map(function(G){var J=s(G,2),Z=J[0],z=J[1],Y=l.default.find(Z,!0),B=Y.offset(P.scroll);return z===0?B:Y instanceof l.default.Container?B+Y.length():B+Y.index(Z,z)}),U=Math.min(Math.max.apply(Math,x(O)),this.scroll.length()-1),H=Math.min.apply(Math,[U].concat(x(O)));return new S(H,U-H)}},{key:"normalizeNative",value:function(F){if(!D(this.root,F.startContainer)||!F.collapsed&&!D(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(N){for(var O=N.node,U=N.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>U)O=O.childNodes[U],U=0;else if(O.childNodes.length===U)O=O.lastChild,U=O instanceof Text?O.data.length:O.childNodes.length+1;else break;N.node=O,N.offset=U}),P}},{key:"rangeToNative",value:function(F){var P=this,N=F.collapsed?[F.index]:[F.index,F.index+F.length],O=[],U=this.scroll.length();return N.forEach(function(H,G){H=Math.min(U-1,H);var J=void 0,Z=P.scroll.leaf(H),z=s(Z,2),Y=z[0],B=z[1],j=Y.position(B,G!==0),q=s(j,2);J=q[0],B=q[1],O.push(J,B)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(P!=null){var N=this.getBounds(P.index,P.length);if(N!=null){var O=this.scroll.length()-1,U=this.scroll.line(Math.min(P.index,O)),H=s(U,1),G=H[0],J=G;if(P.length>0){var Z=this.scroll.line(Math.min(P.index+P.length,O)),z=s(Z,1);J=z[0]}if(!(G==null||J==null)){var Y=F.getBoundingClientRect();N.top<Y.top?F.scrollTop-=Y.top-N.top:N.bottom>Y.bottom&&(F.scrollTop+=N.bottom-Y.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",F,P,N,O),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||N.parentNode==null))){var H=document.getSelection();if(H!=null)if(F!=null){this.hasFocus()||this.root.focus();var G=(this.getNativeRange()||{}).native;if(G==null||U||F!==G.startContainer||P!==G.startOffset||N!==G.endContainer||O!==G.endOffset){F.tagName=="BR"&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),N.tagName=="BR"&&(O=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var J=document.createRange();J.setStart(F,P),J.setEnd(N,O),H.removeAllRanges(),H.addRange(J)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(N=P,P=!1),C.info("setRange",F),F!=null){var O=this.rangeToNative(F);this.setNativeRange.apply(this,x(O).concat([P]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,N=this.getRange(),O=s(N,2),U=O[0],H=O[1];if(this.lastRange=U,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var G;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),F];if((G=this.emitter).emit.apply(G,[v.default.events.EDITOR_CHANGE].concat(J)),F!==v.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}}}]),k})();function D(k,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),k.contains(I)}r.Range=S,r.default=R}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(_,x){_.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,_,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,_){g.deleteAt(y,_)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],_=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,_]:y instanceof h?y.descendant(p,_):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],_=g;return this.children.forEachAt(v,g,function(x,w,C){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&y.push(x),x instanceof h&&(y=y.concat(x.descendants(p,w,_))),_-=C}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(_,x,w){_.formatAt(x,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),_=y[0],x=y[1];if(_)_.insertAt(x,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],_=g[1],x=[[this,p]];return y instanceof h?x.concat(y.path(_,v)):(y!=null&&x.push([y,_]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,_,x){y=y.split(_,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],_=[];p.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(y.push.apply(y,x.addedNodes),_.push.apply(_,x.removedNodes))}),_.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=l.find(x.nextSibling));var C=u(x);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(g),g.insertBefore(C,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,_,x,w){typeof y=="object"&&(_=y.depth,x=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],S=[],R=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof _>"u"&&(_=1/0);function D(k,I){if(k===null)return null;if(I===0)return k;var F,P;if(typeof k!="object")return k;if(s(k,a))F=new a;else if(s(k,o))F=new o;else if(s(k,l))F=new l(function(Y,B){k.then(function(j){Y(D(j,I-1))},function(j){B(D(j,I-1))})});else if(c.__isArray(k))F=[];else if(c.__isRegExp(k))F=new RegExp(k.source,v(k)),k.lastIndex&&(F.lastIndex=k.lastIndex);else if(c.__isDate(k))F=new Date(k.getTime());else{if(R&&Buffer.isBuffer(k))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(k.length):F=new Buffer(k.length),k.copy(F),F;s(k,Error)?F=Object.create(k):typeof x>"u"?(P=Object.getPrototypeOf(k),F=Object.create(P)):(F=Object.create(x),P=x)}if(y){var N=C.indexOf(k);if(N!=-1)return S[N];C.push(k),S.push(F)}s(k,a)&&k.forEach(function(Y,B){var j=D(B,I-1),q=D(Y,I-1);F.set(j,q)}),s(k,o)&&k.forEach(function(Y){var B=D(Y,I-1);F.add(B)});for(var O in k){var U;P&&(U=Object.getOwnPropertyDescriptor(P,O)),!(U&&U.set==null)&&(F[O]=D(k[O],I-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(k),O=0;O<H.length;O++){var G=H[O],J=Object.getOwnPropertyDescriptor(k,G);J&&!J.enumerable&&!w||(F[G]=D(k[G],I-1),J.enumerable||Object.defineProperty(F,G,{enumerable:!1}))}if(w)for(var Z=Object.getOwnPropertyNames(k),O=0;O<Z.length;O++){var z=Z[O],J=Object.getOwnPropertyDescriptor(k,z);J&&J.enumerable||(F[z]=D(k[z],I-1),Object.defineProperty(F,z,{enumerable:!1}))}return F}return D(g,_)}c.clonePrototype=function(y){if(y===null)return null;var _=function(){};return _.prototype=y,new _};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,N){var O=[],U=!0,H=!1,G=void 0;try{for(var J=P[Symbol.iterator](),Z;!(U=(Z=J.next()).done)&&(O.push(Z.value),!(N&&O.length===N));U=!0);}catch(z){H=!0,G=z}finally{try{!U&&J.return&&J.return()}finally{if(H)throw G}}return O}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(P,N){for(var O=0;O<N.length;O++){var U=N[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,N,O){return N&&F(P.prototype,N),O&&F(P,O),P}})(),o=function F(P,N,O){P===null&&(P=Function.prototype);var U=Object.getOwnPropertyDescriptor(P,N);if(U===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:F(H,N,O)}else{if("value"in U)return U.value;var G=U.get;return G===void 0?void 0:G.call(O)}},l=i(0),c=C(l),u=i(8),f=C(u),h=i(4),p=C(h),v=i(16),g=C(v),y=i(13),_=C(y),x=i(25),w=C(x);function C(F){return F&&F.__esModule?F:{default:F}}function S(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function D(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}function k(F){return F instanceof p.default||F instanceof h.BlockEmbed}var I=(function(F){D(P,F);function P(N,O){S(this,P);var U=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N));return U.emitter=O.emitter,Array.isArray(O.whitelist)&&(U.whitelist=O.whitelist.reduce(function(H,G){return H[G]=!0,H},{})),U.domNode.addEventListener("DOMNodeInserted",function(){}),U.optimize(),U.enable(),U}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,U){var H=this.line(O),G=s(H,2),J=G[0],Z=G[1],z=this.line(O+U),Y=s(z,1),B=Y[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,O,U),B!=null&&J!==B&&Z>0){if(J instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(J instanceof _.default){var j=J.newlineIndex(J.length(),!0);if(j>-1&&(J=J.split(j+1),J===B)){this.optimize();return}}else if(B instanceof _.default){var q=B.newlineIndex(0);q>-1&&B.split(q+1)}var X=B.children.head instanceof g.default?null:B.children.head;J.moveChildren(B,X),J.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,U,H,G){this.whitelist!=null&&!this.whitelist[H]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,O,U,H,G),this.optimize())}},{key:"insertAt",value:function(O,U,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[U])){if(O>=this.length())if(H==null||c.default.query(U,c.default.Scope.BLOCK)==null){var G=c.default.create(this.statics.defaultChild);this.appendChild(G),H==null&&U.endsWith(`
`)&&(U=U.slice(0,-1)),G.insertAt(0,U,H)}else{var J=c.default.create(U,H);this.appendChild(J)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,O,U,H);this.optimize()}}},{key:"insertBefore",value:function(O,U){if(O.statics.scope===c.default.Scope.INLINE_BLOT){var H=c.default.create(this.statics.defaultChild);H.appendChild(O),O=H}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,O,U)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(k,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function G(J,Z,z){var Y=[],B=z;return J.children.forEachAt(Z,z,function(j,q,X){k(j)?Y.push(j):j instanceof c.default.Container&&(Y=Y.concat(G(j,q,B))),B-=X}),Y};return H(this,O,U)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,O,U),O.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,O,U))}},{key:"path",value:function(O){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var U=f.default.sources.USER;typeof O=="string"&&(U=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,U,O),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,U,O)}}}]),P})(c.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},a=(function(){function te(ae,ue){var de=[],Se=!0,Pe=!1,pe=void 0;try{for(var je=ae[Symbol.iterator](),V;!(Se=(V=je.next()).done)&&(de.push(V.value),!(ue&&de.length===ue));Se=!0);}catch(xe){Pe=!0,pe=xe}finally{try{!Se&&je.return&&je.return()}finally{if(Pe)throw pe}}return de}return function(ae,ue){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return te(ae,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function te(ae,ue){for(var de=0;de<ue.length;de++){var Se=ue[de];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(ae,Se.key,Se)}}return function(ae,ue,de){return ue&&te(ae.prototype,ue),de&&te(ae,de),ae}})(),l=i(21),c=F(l),u=i(11),f=F(u),h=i(3),p=F(h),v=i(2),g=F(v),y=i(20),_=F(y),x=i(0),w=F(x),C=i(5),S=F(C),R=i(10),D=F(R),k=i(9),I=F(k);function F(te){return te&&te.__esModule?te:{default:te}}function P(te,ae,ue){return ae in te?Object.defineProperty(te,ae,{value:ue,enumerable:!0,configurable:!0,writable:!0}):te[ae]=ue,te}function N(te,ae){if(!(te instanceof ae))throw new TypeError("Cannot call a class as a function")}function O(te,ae){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:te}function U(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ae):te.__proto__=ae)}var H=(0,D.default)("quill:keyboard"),G=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=(function(te){U(ae,te),o(ae,null,[{key:"match",value:function(de,Se){return Se=Q(Se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Pe){return!!Se[Pe]!==de[Pe]&&Se[Pe]!==null})?!1:Se.key===(de.which||de.keyCode)}}]);function ae(ue,de){N(this,ae);var Se=O(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,ue,de));return Se.bindings={},Object.keys(Se.options.bindings).forEach(function(Pe){Pe==="list autofill"&&ue.scroll.whitelist!=null&&!ue.scroll.whitelist.list||Se.options.bindings[Pe]&&Se.addBinding(Se.options.bindings[Pe])}),Se.addBinding({key:ae.keys.ENTER,shiftKey:null},j),Se.addBinding({key:ae.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Se.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0},z),Se.addBinding({key:ae.keys.DELETE},{collapsed:!0},Y)):(Se.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Se.addBinding({key:ae.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Y)),Se.addBinding({key:ae.keys.BACKSPACE},{collapsed:!1},B),Se.addBinding({key:ae.keys.DELETE},{collapsed:!1},B),Se.addBinding({key:ae.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Se.listen(),Se}return o(ae,[{key:"addBinding",value:function(de){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=Q(de);if(pe==null||pe.key==null)return H.warn("Attempted to add invalid keyboard binding",pe);typeof Se=="function"&&(Se={handler:Se}),typeof Pe=="function"&&(Pe={handler:Pe}),pe=(0,p.default)(pe,Se,Pe),this.bindings[pe.key]=this.bindings[pe.key]||[],this.bindings[pe.key].push(pe)}},{key:"listen",value:function(){var de=this;this.quill.root.addEventListener("keydown",function(Se){if(!Se.defaultPrevented){var Pe=Se.which||Se.keyCode,pe=(de.bindings[Pe]||[]).filter(function(Le){return ae.match(Se,Le)});if(pe.length!==0){var je=de.quill.getSelection();if(!(je==null||!de.quill.hasFocus())){var V=de.quill.getLine(je.index),xe=a(V,2),_e=xe[0],le=xe[1],re=de.quill.getLeaf(je.index),oe=a(re,2),fe=oe[0],be=oe[1],ie=je.length===0?[fe,be]:de.quill.getLeaf(je.index+je.length),ce=a(ie,2),me=ce[0],ge=ce[1],De=fe instanceof w.default.Text?fe.value().slice(0,be):"",Oe=me instanceof w.default.Text?me.value().slice(ge):"",Te={collapsed:je.length===0,empty:je.length===0&&_e.length()<=1,format:de.quill.getFormat(je),offset:le,prefix:De,suffix:Oe},Ue=pe.some(function(Le){if(Le.collapsed!=null&&Le.collapsed!==Te.collapsed||Le.empty!=null&&Le.empty!==Te.empty||Le.offset!=null&&Le.offset!==Te.offset)return!1;if(Array.isArray(Le.format)){if(Le.format.every(function(Je){return Te.format[Je]==null}))return!1}else if(s(Le.format)==="object"&&!Object.keys(Le.format).every(function(Je){return Le.format[Je]===!0?Te.format[Je]!=null:Le.format[Je]===!1?Te.format[Je]==null:(0,f.default)(Le.format[Je],Te.format[Je])}))return!1;return Le.prefix!=null&&!Le.prefix.test(Te.prefix)||Le.suffix!=null&&!Le.suffix.test(Te.suffix)?!1:Le.handler.call(de,je,Te)!==!0});Ue&&Se.preventDefault()}}}})}}]),ae})(I.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(ae,ue){if(ue.collapsed&&ue.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ae,ue){if(ue.collapsed&&ue.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ae,ue){ue.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):ue.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ae){this.quill.deleteText(ae.index-1,1,S.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(ae){this.quill.history.cutoff();var ue=new g.default().retain(ae.index).delete(ae.length).insert("	");this.quill.updateContents(ue,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index+1,S.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ae,ue){this.quill.format("list",!1,S.default.sources.USER),ue.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ae){var ue=this.quill.getLine(ae.index),de=a(ue,2),Se=de[0],Pe=de[1],pe=(0,p.default)({},Se.formats(),{list:"checked"}),je=new g.default().retain(ae.index).insert(`
`,pe).retain(Se.length()-Pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(je,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ae,ue){var de=this.quill.getLine(ae.index),Se=a(de,2),Pe=Se[0],pe=Se[1],je=new g.default().retain(ae.index).insert(`
`,ue.format).retain(Pe.length()-pe-1).retain(1,{header:null});this.quill.updateContents(je,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ae,ue){var de=ue.prefix.length,Se=this.quill.getLine(ae.index),Pe=a(Se,2),pe=Pe[0],je=Pe[1];if(je>de)return!0;var V=void 0;switch(ue.prefix.trim()){case"[]":case"[ ]":V="unchecked";break;case"[x]":V="checked";break;case"-":case"*":V="bullet";break;default:V="ordered"}this.quill.insertText(ae.index," ",S.default.sources.USER),this.quill.history.cutoff();var xe=new g.default().retain(ae.index-je).delete(de+1).retain(pe.length()-2-je).retain(1,{list:V});this.quill.updateContents(xe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index-de,S.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ae){var ue=this.quill.getLine(ae.index),de=a(ue,2),Se=de[0],Pe=de[1],pe=new g.default().retain(ae.index+Se.length()-Pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(pe,S.default.sources.USER)}},"embed left":Z(J.keys.LEFT,!1),"embed left shift":Z(J.keys.LEFT,!0),"embed right":Z(J.keys.RIGHT,!1),"embed right shift":Z(J.keys.RIGHT,!0)}};function Z(te,ae){var ue,de=te===J.keys.LEFT?"prefix":"suffix";return ue={key:te,shiftKey:ae,altKey:null},P(ue,de,/^$/),P(ue,"handler",function(Pe){var pe=Pe.index;te===J.keys.RIGHT&&(pe+=Pe.length+1);var je=this.quill.getLeaf(pe),V=a(je,1),xe=V[0];return xe instanceof w.default.Embed?(te===J.keys.LEFT?ae?this.quill.setSelection(Pe.index-1,Pe.length+1,S.default.sources.USER):this.quill.setSelection(Pe.index-1,S.default.sources.USER):ae?this.quill.setSelection(Pe.index,Pe.length+1,S.default.sources.USER):this.quill.setSelection(Pe.index+Pe.length+1,S.default.sources.USER),!1):!0}),ue}function z(te,ae){if(!(te.index===0||this.quill.getLength()<=1)){var ue=this.quill.getLine(te.index),de=a(ue,1),Se=de[0],Pe={};if(ae.offset===0){var pe=this.quill.getLine(te.index-1),je=a(pe,1),V=je[0];if(V!=null&&V.length()>1){var xe=Se.formats(),_e=this.quill.getFormat(te.index-1,1);Pe=_.default.attributes.diff(xe,_e)||{}}}var le=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ae.prefix)?2:1;this.quill.deleteText(te.index-le,le,S.default.sources.USER),Object.keys(Pe).length>0&&this.quill.formatLine(te.index-le,le,Pe,S.default.sources.USER),this.quill.focus()}}function Y(te,ae){var ue=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ae.suffix)?2:1;if(!(te.index>=this.quill.getLength()-ue)){var de={},Se=0,Pe=this.quill.getLine(te.index),pe=a(Pe,1),je=pe[0];if(ae.offset>=je.length()-1){var V=this.quill.getLine(te.index+1),xe=a(V,1),_e=xe[0];if(_e){var le=je.formats(),re=this.quill.getFormat(te.index,1);de=_.default.attributes.diff(le,re)||{},Se=_e.length()}}this.quill.deleteText(te.index,ue,S.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(te.index+Se-1,ue,de,S.default.sources.USER)}}function B(te){var ae=this.quill.getLines(te),ue={};if(ae.length>1){var de=ae[0].formats(),Se=ae[ae.length-1].formats();ue=_.default.attributes.diff(Se,de)||{}}this.quill.deleteText(te,S.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(te.index,1,ue,S.default.sources.USER),this.quill.setSelection(te.index,S.default.sources.SILENT),this.quill.focus()}function j(te,ae){var ue=this;te.length>0&&this.quill.scroll.deleteAt(te.index,te.length);var de=Object.keys(ae.format).reduce(function(Se,Pe){return w.default.query(Pe,w.default.Scope.BLOCK)&&!Array.isArray(ae.format[Pe])&&(Se[Pe]=ae.format[Pe]),Se},{});this.quill.insertText(te.index,`
`,de,S.default.sources.USER),this.quill.setSelection(te.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(ae.format).forEach(function(Se){de[Se]==null&&(Array.isArray(ae.format[Se])||Se!=="link"&&ue.quill.format(Se,ae.format[Se],S.default.sources.USER))})}function q(te){return{key:J.keys.TAB,shiftKey:!te,format:{"code-block":!0},handler:function(ue){var de=w.default.query("code-block"),Se=ue.index,Pe=ue.length,pe=this.quill.scroll.descendant(de,Se),je=a(pe,2),V=je[0],xe=je[1];if(V!=null){var _e=this.quill.getIndex(V),le=V.newlineIndex(xe,!0)+1,re=V.newlineIndex(_e+xe+Pe),oe=V.domNode.textContent.slice(le,re).split(`
`);xe=0,oe.forEach(function(fe,be){te?(V.insertAt(le+xe,de.TAB),xe+=de.TAB.length,be===0?Se+=de.TAB.length:Pe+=de.TAB.length):fe.startsWith(de.TAB)&&(V.deleteAt(le+xe,de.TAB.length),xe-=de.TAB.length,be===0?Se-=de.TAB.length:Pe-=de.TAB.length),xe+=fe.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Se,Pe,S.default.sources.SILENT)}}}}function X(te){return{key:te[0].toUpperCase(),shortKey:!0,handler:function(ue,de){this.quill.format(te,!de.format[te],S.default.sources.USER)}}}function Q(te){if(typeof te=="string"||typeof te=="number")return Q({key:te});if((typeof te>"u"?"undefined":s(te))==="object"&&(te=(0,c.default)(te,!1)),typeof te.key=="string")if(J.keys[te.key.toUpperCase()]!=null)te.key=J.keys[te.key.toUpperCase()];else if(te.key.length===1)te.key=te.key.toUpperCase().charCodeAt(0);else return null;return te.shortKey&&(te[G]=te.shortKey,delete te.shortKey),te}r.default=J,r.SHORTKEY=G}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(x,w){var C=[],S=!0,R=!1,D=void 0;try{for(var k=x[Symbol.iterator](),I;!(S=(I=k.next()).done)&&(C.push(I.value),!(w&&C.length===w));S=!0);}catch(F){R=!0,D=F}finally{try{!S&&k.return&&k.return()}finally{if(R)throw D}}return C}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return _(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=(function(){function _(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function v(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function g(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var y=(function(_){g(x,_),o(x,null,[{key:"value",value:function(){}}]);function x(w,C){p(this,x);var S=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return S.selection=C,S.textNode=document.createTextNode(x.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return o(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,S){if(this._length!==0)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,C,S);for(var R=this,D=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)D+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=x.CONTENTS.length,R.optimize(),R.formatAt(D,x.CONTENTS.length,C,S),this._length=0)}},{key:"index",value:function(C,S){return C===this.textNode?0:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,S=this.selection.getNativeRange(),R=void 0,D=void 0,k=void 0;if(S!=null&&S.start.node===C&&S.end.node===C){var I=[C,S.start.offset,S.end.offset];R=I[0],D=I[1],k=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var F=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=x.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),D!=null){var P=[D,k].map(function(O){return Math.max(0,Math.min(R.data.length,O-1))}),N=s(P,2);return D=N[0],k=N[1],{startNode:R,startOffset:D,endNode:R,endOffset:k}}}}},{key:"update",value:function(C,S){var R=this;if(C.some(function(k){return k.type==="characterData"&&k.target===R.textNode})){var D=this.restore();D&&(S.range=D)}}},{key:"value",value:function(){return""}}]),x})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function h(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var p=(function(y){h(_,y);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(w){var C=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):C}}]),_})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,_,x){return _&&g(y.prototype,_),x&&g(y,x),y}})(),a=function g(y,_,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,_);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,_,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return v(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var _=document.createElement("a");_.href=g;var x=_.href.slice(0,_.href.indexOf(":"));return y.indexOf(x)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,_){y.setAttribute(_,y.getAttribute(_)!=="true")}var g=(function(){function y(_){var x=this;h(this,y),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),x.hasAttribute("value")&&C.setAttribute("data-value",x.getAttribute("value")),x.textContent&&C.setAttribute("data-label",x.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var S=x.buildItem(C);w.appendChild(S),C.selected===!0&&x.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(x!==C&&(C!=null&&C.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=H(s),o=i(5),l=H(o),c=i(4),u=H(c),f=i(16),h=H(f),p=i(25),v=H(p),g=i(24),y=H(g),_=i(35),x=H(_),w=i(6),C=H(w),S=i(22),R=H(S),D=i(7),k=H(D),I=i(55),F=H(I),P=i(42),N=H(P),O=i(23),U=H(O);function H(G){return G&&G.__esModule?G:{default:G}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":x.default,"blots/inline":C.default,"blots/scroll":R.default,"blots/text":k.default,"modules/clipboard":F.default,"modules/history":N.default,"modules/keyboard":U.default}),a.default.register(u.default,h.default,y.default,C.default,R.default,k.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function p(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function v(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var g="\uFEFF",y=(function(_){v(x,_);function x(w){h(this,x);var C=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(S){C.contentNode.appendChild(S)}),C.leftGuard=document.createTextNode(g),C.rightGuard=document.createTextNode(g),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return s(x,[{key:"index",value:function(C,S){return C===this.leftGuard?0:C===this.rightGuard?1:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,S)}},{key:"restore",value:function(C){var S=void 0,R=void 0,D=C.data.split(g).join("");if(C===this.leftGuard)if(this.prev instanceof u.default){var k=this.prev.length();this.prev.insertAt(k,D),S={startNode:this.prev.domNode,startOffset:k+D.length}}else R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this),S={startNode:R,startOffset:D.length};else C===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,D),S={startNode:this.next.domNode,startOffset:D.length}):(R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this.next),S={startNode:R,startOffset:D.length}));return C.data=g,S}},{key:"update",value:function(C,S){var R=this;C.forEach(function(D){if(D.type==="characterData"&&(D.target===R.leftGuard||D.target===R.rightGuard)){var k=R.restore(D.target);k&&(S.range=k)}})}}]),x})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function _(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=c(o);function c(_){return _&&_.__esModule?_:{default:_}}function u(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function f(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function h(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(_){h(x,_);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(C){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),x})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function g(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=(function(w){g(C,w);function C(S,R){p(this,C);var D=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S,R));return D.lastRecorded=0,D.ignoreChange=!1,D.clear(),D.quill.on(c.default.events.EDITOR_CHANGE,function(k,I,F,P){k!==c.default.events.TEXT_CHANGE||D.ignoreChange||(!D.options.userOnly||P===c.default.sources.USER?D.record(I,F):D.transform(I))}),D.quill.keyboard.addBinding({key:"Z",shortKey:!0},D.undo.bind(D)),D.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},D.redo.bind(D)),/Win/i.test(navigator.platform)&&D.quill.keyboard.addBinding({key:"Y",shortKey:!0},D.redo.bind(D)),D}return s(C,[{key:"change",value:function(R,D){if(this.stack[R].length!==0){var k=this.stack[R].pop();this.stack[D].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[R],c.default.sources.USER),this.ignoreChange=!1;var I=x(k[R]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,D){if(R.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(D),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var F=this.stack.undo.pop();k=k.compose(F.undo),R=F.redo.compose(R)}else this.lastRecorded=I;this.stack.undo.push({redo:R,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)}),this.stack.redo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(S){return o.default.query(S,o.default.Scope.BLOCK)!=null}):!1}function x(w){var C=w.reduce(function(R,D){return R+=D.delete||0,R},0),S=w.length()-C;return _(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(q,X){for(var Q=0;Q<X.length;Q++){var te=X[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,te.key,te)}}return function(q,X,Q){return X&&j(q.prototype,X),Q&&j(q,Q),q}})(),a=function j(q,X,Q){q===null&&(q=Function.prototype);var te=Object.getOwnPropertyDescriptor(q,X);if(te===void 0){var ae=Object.getPrototypeOf(q);return ae===null?void 0:j(ae,X,Q)}else{if("value"in te)return te.value;var ue=te.get;return ue===void 0?void 0:ue.call(Q)}},o=i(3),l=I(o),c=i(2),u=I(c),f=i(8),h=I(f),p=i(23),v=I(p),g=i(34),y=I(g),_=i(59),x=I(_),w=i(60),C=I(w),S=i(28),R=I(S),D=i(61),k=I(D);function I(j){return j&&j.__esModule?j:{default:j}}function F(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}function P(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function N(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}var O=[!1,"center","right","justify"],U=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],G=["1","2","3",!1],J=["small",!1,"large","huge"],Z=(function(j){N(q,j);function q(X,Q){F(this,q);var te=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,Q)),ae=function ue(de){if(!document.body.contains(X.root))return document.body.removeEventListener("click",ue);te.tooltip!=null&&!te.tooltip.root.contains(de.target)&&document.activeElement!==te.tooltip.textbox&&!te.quill.hasFocus()&&te.tooltip.hide(),te.pickers!=null&&te.pickers.forEach(function(Se){Se.container.contains(de.target)||Se.close()})};return X.emitter.listenDOM("click",document.body,ae),te}return s(q,[{key:"addModule",value:function(Q){var te=a(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(te),te}},{key:"buildButtons",value:function(Q,te){Q.forEach(function(ae){var ue=ae.getAttribute("class")||"";ue.split(/\s+/).forEach(function(de){if(de.startsWith("ql-")&&(de=de.slice(3),te[de]!=null))if(de==="direction")ae.innerHTML=te[de][""]+te[de].rtl;else if(typeof te[de]=="string")ae.innerHTML=te[de];else{var Se=ae.value||"";Se!=null&&te[de][Se]&&(ae.innerHTML=te[de][Se])}})})}},{key:"buildPickers",value:function(Q,te){var ae=this;this.pickers=Q.map(function(de){if(de.classList.contains("ql-align"))return de.querySelector("option")==null&&B(de,O),new C.default(de,te.align);if(de.classList.contains("ql-background")||de.classList.contains("ql-color")){var Se=de.classList.contains("ql-background")?"background":"color";return de.querySelector("option")==null&&B(de,U,Se==="background"?"#ffffff":"#000000"),new x.default(de,te[Se])}else return de.querySelector("option")==null&&(de.classList.contains("ql-font")?B(de,H):de.classList.contains("ql-header")?B(de,G):de.classList.contains("ql-size")&&B(de,J)),new R.default(de)});var ue=function(){ae.pickers.forEach(function(Se){Se.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,ue)}}]),q})(y.default);Z.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&(X=document.createElement("input"),X.setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var Q=new FileReader;Q.onload=function(te){var ae=q.quill.getSelection(!0);q.quill.updateContents(new u.default().retain(ae.index).delete(ae.length).insert({image:te.target.result}),h.default.sources.USER),q.quill.setSelection(ae.index+1,h.default.sources.SILENT),X.value=""},Q.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=(function(j){N(q,j);function q(X,Q){F(this,q);var te=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,Q));return te.textbox=te.root.querySelector('input[type="text"]'),te.listen(),te}return s(q,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(te){v.default.match(te,"enter")?(Q.save(),te.preventDefault()):v.default.match(te,"escape")&&(Q.cancel(),te.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),te!=null?this.textbox.value=te:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var te=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=te;break}case"video":Q=Y(Q);case"formula":{if(!Q)break;var ae=this.quill.getSelection(!0);if(ae!=null){var ue=ae.index+ae.length;this.quill.insertEmbed(ue,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ue+1," ",h.default.sources.USER),this.quill.setSelection(ue+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(k.default);function Y(j){var q=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":j}function B(j,q){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(Q){var te=document.createElement("option");Q===X?te.setAttribute("selected","selected"):te.setAttribute("value",Q),j.appendChild(te)})}r.BaseTooltip=z,r.default=Z}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var _=function(S,R){R===void 0&&(R=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[o.DATA_KEY].mutations==null&&(S.domNode[o.DATA_KEY].mutations=[]),R&&_(S.parent))},x=function(S){S.domNode[o.DATA_KEY]==null||S.domNode[o.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(x),S.optimize(v))},w=p,C=0;w.length>0;C+=1){if(C>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=o.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(_(o.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(D){var k=o.find(D,!1);_(k,!1),k instanceof a.default&&k.children.forEach(function(I){_(I,!1)})})):S.type==="attributes"&&_(R.prev)),_(R))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var _=o.find(y.target,!0);return _==null?null:_.domNode[o.DATA_KEY].mutations==null?(_.domNode[o.DATA_KEY].mutations=[y],_):(_.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(C,S,R){if(C==S)return C?[[a,C]]:[];(R<0||C.length<R)&&(R=null);var D=f(C,S),k=C.substring(0,D);C=C.substring(D),S=S.substring(D),D=h(C,S);var I=C.substring(C.length-D);C=C.substring(0,C.length-D),S=S.substring(0,S.length-D);var F=l(C,S);return k&&F.unshift([a,k]),I&&F.push([a,I]),v(F),R!=null&&(F=_(F,R)),F=x(F),F}function l(C,S){var R;if(!C)return[[s,S]];if(!S)return[[i,C]];var D=C.length>S.length?C:S,k=C.length>S.length?S:C,I=D.indexOf(k);if(I!=-1)return R=[[s,D.substring(0,I)],[a,k],[s,D.substring(I+k.length)]],C.length>S.length&&(R[0][0]=R[2][0]=i),R;if(k.length==1)return[[i,C],[s,S]];var F=p(C,S);if(F){var P=F[0],N=F[1],O=F[2],U=F[3],H=F[4],G=o(P,O),J=o(N,U);return G.concat([[a,H]],J)}return c(C,S)}function c(C,S){for(var R=C.length,D=S.length,k=Math.ceil((R+D)/2),I=k,F=2*k,P=new Array(F),N=new Array(F),O=0;O<F;O++)P[O]=-1,N[O]=-1;P[I+1]=0,N[I+1]=0;for(var U=R-D,H=U%2!=0,G=0,J=0,Z=0,z=0,Y=0;Y<k;Y++){for(var B=-Y+G;B<=Y-J;B+=2){var j=I+B,q;B==-Y||B!=Y&&P[j-1]<P[j+1]?q=P[j+1]:q=P[j-1]+1;for(var X=q-B;q<R&&X<D&&C.charAt(q)==S.charAt(X);)q++,X++;if(P[j]=q,q>R)J+=2;else if(X>D)G+=2;else if(H){var Q=I+U-B;if(Q>=0&&Q<F&&N[Q]!=-1){var te=R-N[Q];if(q>=te)return u(C,S,q,X)}}}for(var ae=-Y+Z;ae<=Y-z;ae+=2){var Q=I+ae,te;ae==-Y||ae!=Y&&N[Q-1]<N[Q+1]?te=N[Q+1]:te=N[Q-1]+1;for(var ue=te-ae;te<R&&ue<D&&C.charAt(R-te-1)==S.charAt(D-ue-1);)te++,ue++;if(N[Q]=te,te>R)z+=2;else if(ue>D)Z+=2;else if(!H){var j=I+U-ae;if(j>=0&&j<F&&P[j]!=-1){var q=P[j],X=I+q-j;if(te=R-te,q>=te)return u(C,S,q,X)}}}}return[[i,C],[s,S]]}function u(C,S,R,D){var k=C.substring(0,R),I=S.substring(0,D),F=C.substring(R),P=S.substring(D),N=o(k,I),O=o(F,P);return N.concat(O)}function f(C,S){if(!C||!S||C.charAt(0)!=S.charAt(0))return 0;for(var R=0,D=Math.min(C.length,S.length),k=D,I=0;R<k;)C.substring(I,k)==S.substring(I,k)?(R=k,I=R):D=k,k=Math.floor((D-R)/2+R);return k}function h(C,S){if(!C||!S||C.charAt(C.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,D=Math.min(C.length,S.length),k=D,I=0;R<k;)C.substring(C.length-k,C.length-I)==S.substring(S.length-k,S.length-I)?(R=k,I=R):D=k,k=Math.floor((D-R)/2+R);return k}function p(C,S){var R=C.length>S.length?C:S,D=C.length>S.length?S:C;if(R.length<4||D.length*2<R.length)return null;function k(J,Z,z){for(var Y=J.substring(z,z+Math.floor(J.length/4)),B=-1,j="",q,X,Q,te;(B=Z.indexOf(Y,B+1))!=-1;){var ae=f(J.substring(z),Z.substring(B)),ue=h(J.substring(0,z),Z.substring(0,B));j.length<ue+ae&&(j=Z.substring(B-ue,B)+Z.substring(B,B+ae),q=J.substring(0,z-ue),X=J.substring(z+ae),Q=Z.substring(0,B-ue),te=Z.substring(B+ae))}return j.length*2>=J.length?[q,X,Q,te,j]:null}var I=k(R,D,Math.ceil(R.length/4)),F=k(R,D,Math.ceil(R.length/2)),P;if(!I&&!F)return null;F?I?P=I[4].length>F[4].length?I:F:P=F:P=I;var N,O,U,H;C.length>S.length?(N=P[0],O=P[1],U=P[2],H=P[3]):(U=P[0],H=P[1],N=P[2],O=P[3]);var G=P[4];return[N,O,U,H,G]}function v(C){C.push([a,""]);for(var S=0,R=0,D=0,k="",I="",F;S<C.length;)switch(C[S][0]){case s:D++,I+=C[S][1],S++;break;case i:R++,k+=C[S][1],S++;break;case a:R+D>1?(R!==0&&D!==0&&(F=f(I,k),F!==0&&(S-R-D>0&&C[S-R-D-1][0]==a?C[S-R-D-1][1]+=I.substring(0,F):(C.splice(0,0,[a,I.substring(0,F)]),S++),I=I.substring(F),k=k.substring(F)),F=h(I,k),F!==0&&(C[S][1]=I.substring(I.length-F)+C[S][1],I=I.substring(0,I.length-F),k=k.substring(0,k.length-F))),R===0?C.splice(S-D,R+D,[s,I]):D===0?C.splice(S-R,R+D,[i,k]):C.splice(S-R-D,R+D,[i,k],[s,I]),S=S-R-D+(R?1:0)+(D?1:0)+1):S!==0&&C[S-1][0]==a?(C[S-1][1]+=C[S][1],C.splice(S,1)):S++,D=0,R=0,k="",I="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(S=1;S<C.length-1;)C[S-1][0]==a&&C[S+1][0]==a&&(C[S][1].substring(C[S][1].length-C[S-1][1].length)==C[S-1][1]?(C[S][1]=C[S-1][1]+C[S][1].substring(0,C[S][1].length-C[S-1][1].length),C[S+1][1]=C[S-1][1]+C[S+1][1],C.splice(S-1,1),P=!0):C[S][1].substring(0,C[S+1][1].length)==C[S+1][1]&&(C[S-1][1]+=C[S+1][1],C[S][1]=C[S][1].substring(C[S+1][1].length)+C[S+1][1],C.splice(S+1,1),P=!0)),S++;P&&v(C)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(C,S){if(S===0)return[a,C];for(var R=0,D=0;D<C.length;D++){var k=C[D];if(k[0]===i||k[0]===a){var I=R+k[1].length;if(S===I)return[D+1,C];if(S<I){C=C.slice();var F=S-R,P=[k[0],k[1].slice(0,F)],N=[k[0],k[1].slice(F)];return C.splice(D,1,P,N),[D+1,C]}else R=I}}throw new Error("cursor_pos is out of bounds!")}function _(C,S){var R=y(C,S),D=R[1],k=R[0],I=D[k],F=D[k+1];if(I==null)return C;if(I[0]!==a)return C;if(F!=null&&I[1]+F[1]===F[1]+I[1])return D.splice(k,2,F,I),w(D,k,2);if(F!=null&&F[1].indexOf(I[1])===0){D.splice(k,2,[F[0],I[1]],[0,I[1]]);var P=F[1].slice(I[1].length);return P.length>0&&D.splice(k+2,0,[F[0],P]),w(D,k,3)}else return C}function x(C){for(var S=!1,R=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},D=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},k=2;k<C.length;k+=1)C[k-2][0]===a&&D(C[k-2][1])&&C[k-1][0]===i&&R(C[k-1][1])&&C[k][0]===s&&R(C[k][1])&&(S=!0,C[k-1][1]=C[k-2][1].slice(-1)+C[k-1][1],C[k][1]=C[k-2][1].slice(-1)+C[k][1],C[k-2][1]=C[k-2][1].slice(0,-1));if(!S)return C;for(var I=[],k=0;k<C.length;k+=1)C[k][1].length>0&&I.push(C[k]);return I}function w(C,S,R){for(var D=S+R-1;D>=0&&D>=S-1;D--)if(D+1<C.length){var k=C[D],I=C[D+1];k[0]===I[1]&&C.splice(D,2,[k[0],k[1]+I[1]])}return C}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var _=this._events[y],x=arguments.length,w,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,v),!0;case 6:return _.fn.call(_.context,f,h,p,v,g),!0}for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];_.fn.apply(_.context,w)}else{var S=_.length,R;for(C=0;C<S;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),x){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,h);break;case 4:_[C].fn.call(_[C].context,f,h,p);break;default:if(!w)for(R=1,w=new Array(x-1);R<x;R++)w[R-1]=arguments[R];_[C].fn.apply(_[C].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,_=[],x=g.length;y<x;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&_.push(g[y]);_.length?this._events[v]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(oe,fe){var be=[],ie=!0,ce=!1,me=void 0;try{for(var ge=oe[Symbol.iterator](),De;!(ie=(De=ge.next()).done)&&(be.push(De.value),!(fe&&be.length===fe));ie=!0);}catch(Oe){ce=!0,me=Oe}finally{try{!ie&&ge.return&&ge.return()}finally{if(ce)throw me}}return be}return function(oe,fe){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return re(oe,fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(oe,fe){for(var be=0;be<fe.length;be++){var ie=fe[be];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(oe,ie.key,ie)}}return function(oe,fe,be){return fe&&re(oe.prototype,fe),be&&re(oe,be),oe}})(),l=i(3),c=N(l),u=i(2),f=N(u),h=i(0),p=N(h),v=i(5),g=N(v),y=i(10),_=N(y),x=i(9),w=N(x),C=i(36),S=i(37),R=i(13),D=N(R),k=i(26),I=i(38),F=i(39),P=i(40);function N(re){return re&&re.__esModule?re:{default:re}}function O(re,oe,fe){return oe in re?Object.defineProperty(re,oe,{value:fe,enumerable:!0,configurable:!0,writable:!0}):re[oe]=fe,re}function U(re,oe){if(!(re instanceof oe))throw new TypeError("Cannot call a class as a function")}function H(re,oe){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:re}function G(re,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);re.prototype=Object.create(oe&&oe.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(re,oe):re.__proto__=oe)}var J=(0,_.default)("quill:clipboard"),Z="__ql-matcher",z=[[Node.TEXT_NODE,le],[Node.TEXT_NODE,V],["br",Pe],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,xe],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,_e],["li",je],["b",ue.bind(ue,"bold")],["i",ue.bind(ue,"italic")],["style",pe]],Y=[C.AlignAttribute,I.DirectionAttribute].reduce(function(re,oe){return re[oe.keyName]=oe,re},{}),B=[C.AlignStyle,S.BackgroundStyle,k.ColorStyle,I.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(re,oe){return re[oe.keyName]=oe,re},{}),j=(function(re){G(oe,re);function oe(fe,be){U(this,oe);var ie=H(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,fe,be));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],z.concat(ie.options.matchers).forEach(function(ce){var me=a(ce,2),ge=me[0],De=me[1];!be.matchVisual&&De===xe||ie.addMatcher(ge,De)}),ie}return o(oe,[{key:"addMatcher",value:function(be,ie){this.matchers.push([be,ie])}},{key:"convert",value:function(be){if(typeof be=="string")return this.container.innerHTML=be.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[D.default.blotName]){var ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ce,O({},D.default.blotName,ie[D.default.blotName]))}var me=this.prepareMatching(),ge=a(me,2),De=ge[0],Oe=ge[1],Te=ae(this.container,De,Oe);return Q(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new f.default().retain(Te.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(be,ie){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof be=="string")this.quill.setContents(this.convert(be),ie),this.quill.setSelection(0,g.default.sources.SILENT);else{var me=this.convert(ie);this.quill.updateContents(new f.default().retain(be).concat(me),ce),this.quill.setSelection(be+me.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(be){var ie=this;if(!(be.defaultPrevented||!this.quill.isEnabled())){var ce=this.quill.getSelection(),me=new f.default().retain(ce.index),ge=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){me=me.concat(ie.convert()).delete(ce.length),ie.quill.updateContents(me,g.default.sources.USER),ie.quill.setSelection(me.length()-ce.length,g.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=ge,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var be=this,ie=[],ce=[];return this.matchers.forEach(function(me){var ge=a(me,2),De=ge[0],Oe=ge[1];switch(De){case Node.TEXT_NODE:ce.push(Oe);break;case Node.ELEMENT_NODE:ie.push(Oe);break;default:[].forEach.call(be.container.querySelectorAll(De),function(Te){Te[Z]=Te[Z]||[],Te[Z].push(Oe)});break}}),[ie,ce]}}]),oe})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function q(re,oe,fe){return(typeof oe>"u"?"undefined":s(oe))==="object"?Object.keys(oe).reduce(function(be,ie){return q(be,ie,oe[ie])},re):re.reduce(function(be,ie){return ie.attributes&&ie.attributes[oe]?be.push(ie):be.insert(ie.insert,(0,c.default)({},O({},oe,fe),ie.attributes))},new f.default)}function X(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var oe="__ql-computed-style";return re[oe]||(re[oe]=window.getComputedStyle(re))}function Q(re,oe){for(var fe="",be=re.ops.length-1;be>=0&&fe.length<oe.length;--be){var ie=re.ops[be];if(typeof ie.insert!="string")break;fe=ie.insert+fe}return fe.slice(-1*oe.length)===oe}function te(re){if(re.childNodes.length===0)return!1;var oe=X(re);return["block","list-item"].indexOf(oe.display)>-1}function ae(re,oe,fe){return re.nodeType===re.TEXT_NODE?fe.reduce(function(be,ie){return ie(re,be)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(be,ie){var ce=ae(ie,oe,fe);return ie.nodeType===re.ELEMENT_NODE&&(ce=oe.reduce(function(me,ge){return ge(ie,me)},ce),ce=(ie[Z]||[]).reduce(function(me,ge){return ge(ie,me)},ce)),be.concat(ce)},new f.default):new f.default}function ue(re,oe,fe){return q(fe,re,!0)}function de(re,oe){var fe=p.default.Attributor.Attribute.keys(re),be=p.default.Attributor.Class.keys(re),ie=p.default.Attributor.Style.keys(re),ce={};return fe.concat(be).concat(ie).forEach(function(me){var ge=p.default.query(me,p.default.Scope.ATTRIBUTE);ge!=null&&(ce[ge.attrName]=ge.value(re),ce[ge.attrName])||(ge=Y[me],ge!=null&&(ge.attrName===me||ge.keyName===me)&&(ce[ge.attrName]=ge.value(re)||void 0),ge=B[me],ge!=null&&(ge.attrName===me||ge.keyName===me)&&(ge=B[me],ce[ge.attrName]=ge.value(re)||void 0))}),Object.keys(ce).length>0&&(oe=q(oe,ce)),oe}function Se(re,oe){var fe=p.default.query(re);if(fe==null)return oe;if(fe.prototype instanceof p.default.Embed){var be={},ie=fe.value(re);ie!=null&&(be[fe.blotName]=ie,oe=new f.default().insert(be,fe.formats(re)))}else typeof fe.formats=="function"&&(oe=q(oe,fe.blotName,fe.formats(re)));return oe}function Pe(re,oe){return Q(oe,`
`)||oe.insert(`
`),oe}function pe(){return new f.default}function je(re,oe){var fe=p.default.query(re);if(fe==null||fe.blotName!=="list-item"||!Q(oe,`
`))return oe;for(var be=-1,ie=re.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(be+=1),ie=ie.parentNode;return be<=0?oe:oe.compose(new f.default().retain(oe.length()-1).retain(1,{indent:be}))}function V(re,oe){return Q(oe,`
`)||(te(re)||oe.length()>0&&re.nextSibling&&te(re.nextSibling))&&oe.insert(`
`),oe}function xe(re,oe){if(te(re)&&re.nextElementSibling!=null&&!Q(oe,`

`)){var fe=re.offsetHeight+parseFloat(X(re).marginTop)+parseFloat(X(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+fe*1.5&&oe.insert(`
`)}return oe}function _e(re,oe){var fe={},be=re.style||{};return be.fontStyle&&X(re).fontStyle==="italic"&&(fe.italic=!0),be.fontWeight&&(X(re).fontWeight.startsWith("bold")||parseInt(X(re).fontWeight)>=700)&&(fe.bold=!0),Object.keys(fe).length>0&&(oe=q(oe,fe)),parseFloat(be.textIndent||0)>0&&(oe=new f.default().insert("	").concat(oe)),oe}function le(re,oe){var fe=re.data;if(re.parentNode.tagName==="O:P")return oe.insert(fe.trim());if(fe.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return oe;if(!X(re.parentNode).whiteSpace.startsWith("pre")){var be=function(ce,me){return me=me.replace(/[^\u00a0]/g,""),me.length<1&&ce?" ":me};fe=fe.replace(/\r\n/g," ").replace(/\n/g," "),fe=fe.replace(/\s\s+/g,be.bind(be,!0)),(re.previousSibling==null&&te(re.parentNode)||re.previousSibling!=null&&te(re.previousSibling))&&(fe=fe.replace(/^\s+/,be.bind(be,!1))),(re.nextSibling==null&&te(re.parentNode)||re.nextSibling!=null&&te(re.nextSibling))&&(fe=fe.replace(/\s+$/,be.bind(be,!1)))}return oe.insert(fe)}r.default=j,r.matchAttributor=de,r.matchBlot=Se,r.matchNewline=V,r.matchSpacing=xe,r.matchText=le}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(N,O){var U=[],H=!0,G=!1,J=void 0;try{for(var Z=N[Symbol.iterator](),z;!(H=(z=Z.next()).done)&&(U.push(z.value),!(O&&U.length===O));H=!0);}catch(Y){G=!0,J=Y}finally{try{!H&&Z.return&&Z.return()}finally{if(G)throw J}}return U}return function(N,O){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return P(N,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(N,O){for(var U=0;U<O.length;U++){var H=O[U];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,H.key,H)}}return function(N,O,U){return O&&P(N.prototype,O),U&&P(N,U),N}})(),o=i(2),l=_(o),c=i(0),u=_(c),f=i(5),h=_(f),p=i(10),v=_(p),g=i(9),y=_(g);function _(P){return P&&P.__esModule?P:{default:P}}function x(P,N,O){return N in P?Object.defineProperty(P,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[N]=O,P}function w(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")}function C(P,N){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:P}function S(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);P.prototype=Object.create(N&&N.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(P,N):P.__proto__=N)}var R=(0,v.default)("quill:toolbar"),D=(function(P){S(N,P);function N(O,U){w(this,N);var H=C(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O,U));if(Array.isArray(H.options.container)){var G=document.createElement("div");I(G,H.options.container),O.container.parentNode.insertBefore(G,O.container),H.container=G}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var J;return J=R.error("Container required for toolbar",H.options),C(H,J)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(Z){H.addHandler(Z,H.options.handlers[Z])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(Z){H.attach(Z)}),H.quill.on(h.default.events.EDITOR_CHANGE,function(Z,z){Z===h.default.events.SELECTION_CHANGE&&H.update(z)}),H.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var Z=H.quill.selection.getRange(),z=s(Z,1),Y=z[0];H.update(Y)}),H}return a(N,[{key:"addHandler",value:function(U,H){this.handlers[U]=H}},{key:"attach",value:function(U){var H=this,G=[].find.call(U.classList,function(Z){return Z.indexOf("ql-")===0});if(G){if(G=G.slice(3),U.tagName==="BUTTON"&&U.setAttribute("type","button"),this.handlers[G]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[G]==null){R.warn("ignoring attaching to disabled format",G,U);return}if(u.default.query(G)==null){R.warn("ignoring attaching to nonexistent format",G,U);return}}var J=U.tagName==="SELECT"?"change":"click";U.addEventListener(J,function(Z){var z=void 0;if(U.tagName==="SELECT"){if(U.selectedIndex<0)return;var Y=U.options[U.selectedIndex];Y.hasAttribute("selected")?z=!1:z=Y.value||!1}else U.classList.contains("ql-active")?z=!1:z=U.value||!U.hasAttribute("value"),Z.preventDefault();H.quill.focus();var B=H.quill.selection.getRange(),j=s(B,1),q=j[0];if(H.handlers[G]!=null)H.handlers[G].call(H,z);else if(u.default.query(G).prototype instanceof u.default.Embed){if(z=prompt("Enter "+G),!z)return;H.quill.updateContents(new l.default().retain(q.index).delete(q.length).insert(x({},G,z)),h.default.sources.USER)}else H.quill.format(G,z,h.default.sources.USER);H.update(q)}),this.controls.push([G,U])}}},{key:"update",value:function(U){var H=U==null?{}:this.quill.getFormat(U);this.controls.forEach(function(G){var J=s(G,2),Z=J[0],z=J[1];if(z.tagName==="SELECT"){var Y=void 0;if(U==null)Y=null;else if(H[Z]==null)Y=z.querySelector("option[selected]");else if(!Array.isArray(H[Z])){var B=H[Z];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),Y=z.querySelector('option[value="'+B+'"]')}Y==null?(z.value="",z.selectedIndex=-1):Y.selected=!0}else if(U==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var j=H[Z]===z.getAttribute("value")||H[Z]!=null&&H[Z].toString()===z.getAttribute("value")||H[Z]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",j)}else z.classList.toggle("ql-active",H[Z]!=null)})}}]),N})(y.default);D.DEFAULTS={};function k(P,N,O){var U=document.createElement("button");U.setAttribute("type","button"),U.classList.add("ql-"+N),O!=null&&(U.value=O),P.appendChild(U)}function I(P,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(O){var U=document.createElement("span");U.classList.add("ql-formats"),O.forEach(function(H){if(typeof H=="string")k(U,H);else{var G=Object.keys(H)[0],J=H[G];Array.isArray(J)?F(U,G,J):k(U,G,J)}}),P.appendChild(U)})}function F(P,N,O){var U=document.createElement("select");U.classList.add("ql-"+N),O.forEach(function(H){var G=document.createElement("option");H!==!1?G.setAttribute("value",H):G.setAttribute("selected","selected"),U.appendChild(G)}),P.appendChild(U)}D.DEFAULTS={container:null,handlers:{clean:function(){var N=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var U=this.quill.getFormat();Object.keys(U).forEach(function(H){u.default.query(H,u.default.Scope.INLINE)!=null&&N.quill.format(H,!1)})}else this.quill.removeFormat(O,h.default.sources.USER)},direction:function(N){var O=this.quill.getFormat().align;N==="rtl"&&O==null?this.quill.format("align","right",h.default.sources.USER):!N&&O==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",N,h.default.sources.USER)},indent:function(N){var O=this.quill.getSelection(),U=this.quill.getFormat(O),H=parseInt(U.indent||0);if(N==="+1"||N==="-1"){var G=N==="+1"?1:-1;U.direction==="rtl"&&(G*=-1),this.quill.format("indent",H+G,h.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,h.default.sources.USER)},list:function(N){var O=this.quill.getSelection(),U=this.quill.getFormat(O);N==="check"?U.list==="checked"||U.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",N,h.default.sources.USER)}}},r.default=D,r.addControls=I}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,_){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.label.innerHTML=_,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(_){var x=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,_);return x.style.backgroundColor=_.getAttribute("value")||"",x}},{key:"selectItem",value:function(_,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,_,x);var w=this.label.querySelector(".ql-color-label"),C=_&&_.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,_){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=_[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(_,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,_,x),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,_=u.bottom-u.top+y;this.root.style.top=h-_+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,N){var O=[],U=!0,H=!1,G=void 0;try{for(var J=P[Symbol.iterator](),Z;!(U=(Z=J.next()).done)&&(O.push(Z.value),!(N&&O.length===N));U=!0);}catch(z){H=!0,G=z}finally{try{!U&&J.return&&J.return()}finally{if(H)throw G}}return O}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function F(P,N,O){P===null&&(P=Function.prototype);var U=Object.getOwnPropertyDescriptor(P,N);if(U===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:F(H,N,O)}else{if("value"in U)return U.value;var G=U.get;return G===void 0?void 0:G.call(O)}},o=(function(){function F(P,N){for(var O=0;O<N.length;O++){var U=N[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,N,O){return N&&F(P.prototype,N),O&&F(P,O),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),_=i(41),x=w(_);function w(F){return F&&F.__esModule?F:{default:F}}function C(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function S(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function R(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=(function(F){R(P,F);function P(N,O){C(this,P),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=D);var U=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N,O));return U.quill.container.classList.add("ql-snow"),U}return o(P,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),x.default),this.tooltip=new I(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(U,H){O.handlers.link.call(O,!H.format.link)})}}]),P})(p.default);k.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var N=this.quill.getSelection();if(N==null||N.length==0)return;var O=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var U=this.quill.theme.tooltip;U.edit("link",O)}else this.quill.format("link",!1)}}}}});var I=(function(F){R(P,F);function P(N,O){C(this,P);var U=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N,O));return U.preview=U.root.querySelector("a.ql-preview"),U}return o(P,[{key:"listen",value:function(){var O=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(U){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),U.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(U){if(O.linkRange!=null){var H=O.linkRange;O.restoreFocus(),O.quill.formatText(H,"link",!1,f.default.sources.USER),delete O.linkRange}U.preventDefault(),O.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(U,H,G){if(U!=null){if(U.length===0&&G===f.default.sources.USER){var J=O.quill.scroll.descendant(g.default,U.index),Z=s(J,2),z=Z[0],Y=Z[1];if(z!=null){O.linkRange=new y.Range(U.index-Y,z.length());var B=g.default.formats(z.domNode);O.preview.textContent=B,O.preview.setAttribute("href",B),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=ie(s),o=i(36),l=i(38),c=i(64),u=i(65),f=ie(u),h=i(66),p=ie(h),v=i(67),g=ie(v),y=i(37),_=i(26),x=i(39),w=i(40),C=i(56),S=ie(C),R=i(68),D=ie(R),k=i(27),I=ie(k),F=i(69),P=ie(F),N=i(70),O=ie(N),U=i(71),H=ie(U),G=i(72),J=ie(G),Z=i(73),z=ie(Z),Y=i(13),B=ie(Y),j=i(74),q=ie(j),X=i(75),Q=ie(X),te=i(57),ae=ie(te),ue=i(41),de=ie(ue),Se=i(28),Pe=ie(Se),pe=i(59),je=ie(pe),V=i(60),xe=ie(V),_e=i(61),le=ie(_e),re=i(108),oe=ie(re),fe=i(62),be=ie(fe);function ie(ce){return ce&&ce.__esModule?ce:{default:ce}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":Y.Code,"formats/italic":D.default,"formats/link":I.default,"formats/script":P.default,"formats/strike":O.default,"formats/underline":H.default,"formats/image":J.default,"formats/video":z.default,"formats/list/item":v.ListItem,"modules/formula":q.default,"modules/syntax":Q.default,"modules/toolbar":ae.default,"themes/bubble":oe.default,"themes/snow":be.default,"ui/icons":de.default,"ui/picker":Pe.default,"ui/icon-picker":xe.default,"ui/color-picker":je.default,"ui/tooltip":le.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,_,x){return _&&g(y.prototype,_),x&&g(y,x),y}})(),a=function g(y,_,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,_);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,_,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var C=this.value(x)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(x),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,x))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function C(S,R){for(var D=0;D<R.length;D++){var k=R[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,R,D){return R&&C(S.prototype,R),D&&C(S,D),S}})(),a=function C(S,R,D){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,R);if(k===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:C(I,R,D)}else{if("value"in k)return k.value;var F=k.get;return F===void 0?void 0:F.call(D)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,S,R){return S in C?Object.defineProperty(C,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[S]=R,C}function g(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function y(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function _(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var x=(function(C){_(S,C);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(D,k){D===w.blotName&&!k?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,D,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(D,k){return this.parent.isolate(this.offset(this.parent),this.length()),D===this.parent.statics.blotName?(this.parent.replaceWith(D,k),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,D,k))}}],[{key:"formats",value:function(D){return D.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,D)}}]),S})(u.default);x.blotName="list-item",x.tagName="LI";var w=(function(C){_(S,C),s(S,null,[{key:"create",value:function(D){var k=D==="ordered"?"OL":"UL",I=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,k);return(D==="checked"||D==="unchecked")&&I.setAttribute("data-checked",D==="checked"),I}},{key:"formats",value:function(D){if(D.tagName==="OL")return"ordered";if(D.tagName==="UL")return D.hasAttribute("data-checked")?D.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){g(this,S);var D=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),k=function(F){if(F.target.parentNode===R){var P=D.statics.formats(R),N=l.default.find(F.target);P==="checked"?N.format("list","unchecked"):P==="unchecked"&&N.format("list","checked")}};return R.addEventListener("touchstart",k),R.addEventListener("mousedown",k),D}return s(S,[{key:"format",value:function(D,k){this.children.length>0&&this.children.tail.format(D,k)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(D,k){if(D instanceof x)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,k);else{var I=k==null?this.length():k.offset(this),F=this.split(I);F.parent.insertBefore(D,F)}}},{key:"optimize",value:function(D){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(D){if(D.statics.blotName!==this.statics.blotName){var k=l.default.create(this.statics.defaultChild);D.moveChildren(k),this.appendChild(k)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,D)}}]),S})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],r.ListItem=x,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function p(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=["alt","height","width"],g=(function(y){p(_,y);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),_})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function p(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=["height","width"],g=(function(y){p(_,y);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),_})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=function w(C,S,R){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,S);if(D===void 0){var k=Object.getPrototypeOf(C);return k===null?void 0:w(k,S,R)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(R)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var _=(function(w){y(C,w);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,null,[{key:"create",value:function(R){var D=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,D,{throwOnError:!1,errorColor:"#f00"}),D.setAttribute("data-value",R)),D}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),C})(l.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var x=(function(w){y(C,w),s(C,null,[{key:"register",value:function(){u.default.register(_,!0)}}]);function C(){v(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return C})(h.default);r.FormulaBlot=_,r.default=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function R(D,k){for(var I=0;I<k.length;I++){var F=k[I];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,k,I){return k&&R(D.prototype,k),I&&R(D,I),D}})(),a=function R(D,k,I){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,k);if(F===void 0){var P=Object.getPrototypeOf(D);return P===null?void 0:R(P,k,I)}else{if("value"in F)return F.value;var N=F.get;return N===void 0?void 0:N.call(I)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(R){return R&&R.__esModule?R:{default:R}}function y(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function _(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function x(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var w=(function(R){x(D,R);function D(){return y(this,D),_(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),D})(v.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=(function(R){x(D,R),s(D,null,[{key:"register",value:function(){u.default.register(C,!0),u.default.register(w,!0)}}]);function D(k,I){y(this,D);var F=_(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,k,I));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return s(D,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(I.options.highlight)}),this.quill.update(u.default.sources.SILENT),F!=null&&this.quill.setSelection(F,u.default.sources.SILENT)}}}]),D})(h.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(R){var D=window.hljs.highlightAuto(R);return D.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=S}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function D(k,I,F){k===null&&(k=Function.prototype);var P=Object.getOwnPropertyDescriptor(k,I);if(P===void 0){var N=Object.getPrototypeOf(k);return N===null?void 0:D(N,I,F)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(F)}},a=(function(){function D(k,I){for(var F=0;F<I.length;F++){var P=I[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,I,F){return I&&D(k.prototype,I),F&&D(k,F),k}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function _(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}function x(D,k){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:D}function w(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);D.prototype=Object.create(k&&k.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(D,k):D.__proto__=k)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(D){w(k,D);function k(I,F){_(this,k),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=C);var P=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,I,F));return P.quill.container.classList.add("ql-bubble"),P}return a(k,[{key:"extendToolbar",value:function(F){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),g.default)}}]),k})(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=(function(D){w(k,D);function k(I,F){_(this,k);var P=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,I,F));return P.quill.on(u.default.events.EDITOR_CHANGE,function(N,O,U,H){if(N===u.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&H===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var G=P.quill.getLines(O.index,O.length);if(G.length===1)P.position(P.quill.getBounds(O));else{var J=G[G.length-1],Z=P.quill.getIndex(J),z=Math.min(J.length()-1,O.index+O.length-Z),Y=P.quill.getBounds(new p.Range(Z,z));P.position(Y)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(k,[{key:"listen",value:function(){var F=this;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();P!=null&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,F),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",P===0)return P;N.style.marginLeft=-1*P-N.offsetWidth/2+"px"}}]),k})(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=R,r.default=S}),(function(n,r,i){n.exports=i(63)})]).default})})(S2)),S2.exports}var No,TM;function Jve(){if(TM)return No;TM=1;var t=No&&No.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=No&&No.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=No&&No.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,_=g.length;y<_;y++,v++)p[v]=g[y];return p},r=No&&No.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(u_()),s=r(RB()),a=r(Gve()),o=r(Xve()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,_,x){var w,C,S,R;g==="text-change"?(C=(w=p).onEditorChangeText)===null||C===void 0||C.call(w,p.editor.root.innerHTML,y,x,p.unprivilegedEditor):g==="selection-change"&&((R=(S=p).onEditorChangeSelection)===null||R===void 0||R.call(S,y,x,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),_=(g=h.value,g??"");this.isEqualValue(_,y)||this.setEditorContents(this.editor,_)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!a.default(h[x],v.props[x])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var _=this.regenerationSnapshot,g=_.delta,x=_.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,_={key:y,ref:function(x){h.editingArea=x}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),_):g?i.default.createElement("pre",e({},_)):i.default.createElement("div",e({},_))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,_;if(this.editor){var x=this.isDelta(this.value)?g.getContents():g.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=x,(_=(y=this.props).onChange)===null||_===void 0||_.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,_,x,w,C;if(this.editor){var S=this.getEditorSelection(),R=!S&&h,D=S&&!h;a.default(h,S)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),R?(x=(_=this.props).onFocus)===null||x===void 0||x.call(_,h,p,v):D&&((C=(w=this.props).onBlur)===null||C===void 0||C.call(w,S,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return No=l,No}var Yve=Jve();const vr=c_(Yve);if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const Qve=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),Zve=()=>{const{pages:t,refetchAdminData:e}=sn(),[n,r]=W.useState({isOpen:!1,mode:"create",page:null}),[i,s]=W.useState({title:"",content:"",lang:"ar"}),[a,o]=W.useState(!1),l=()=>{s({title:"",content:"",lang:"ar"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,lang:g.lang||"ar"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(_=>({..._,content:""}));const y=await uc({model:"gemini-2.5-flash",contents:g});s(_=>({..._,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=Qve(i.title);n.mode==="create"?await lf.create({...i,slug:y,enabled:!1}):n.page&&await lf.update(n.page.id,{...i,slug:y}),await e(),u()},p=async g=>{const y=t.find(_=>_.id===g);y&&(await lf.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await lf.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:((y=vu.find(_=>_.code===g.lang))==null?void 0:y.name)||g.lang||" ()"}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(nn,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lang",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"lang",value:i.lang||"ar",onChange:g=>s(y=>({...y,lang:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:vu.map(g=>d.jsx("option",{value:g.code,children:g.name},g.code))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(vr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},cs=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},e1e=()=>{const{countryCode:t,slug:e}=ha(),{siteSettings:n}=sn(),{language:r,t:i}=Ai(),s=window.staticPageData||null,[a,o]=W.useState(s),[l,c]=W.useState([]),[u,f]=W.useState(!s);return W.useEffect(()=>{if(s){f(!1);return}(async()=>{if(!(!t||!e)){f(!0);try{const p=await fetch(`https://datas.gitut.com/data/json/${t}-pages-public.json`);if(!p.ok)throw new Error("Failed to load static pages");const v=await p.json(),g=decodeURIComponent(e),y=v.find(_=>_.slug===g&&_.enabled);if(o(y||null),y){const _=v.filter(x=>x.enabled&&x.id!==y.id&&(x.lang===r||!x.lang&&r==="ar"));c(_)}}catch(p){console.error("Error fetching static page:",p),o(null)}finally{f(!1)}}})()},[t,e,r,s]),W.useEffect(()=>{var h,p;if(a&&n){const v=((h=n.seo)==null?void 0:h[t||"dz"])||((p=n.seo)==null?void 0:p.default);if(v){const g=`${a.title} ${v.titleSeparator} ${v.siteName}`,y=a.content.replace(/<[^>]*>/g,"").substring(0,160)+(a.content.length>160?"...":""),_="https://datas.gitut.com/data/image/gitut-og-main.png",x=r==="ar"?"ar_AR":r==="fr"?"fr_FR":"en_US";document.title=g,cs("description",y,!1),cs("og:title",g),cs("og:description",y),cs("og:image",_),cs("og:image:secure_url",_),cs("og:image:width","1200"),cs("og:image:height","630"),cs("og:url",window.location.href),cs("og:type","article"),cs("og:site_name",v.siteName),cs("og:locale",x),cs("twitter:card","summary_large_image",!1),cs("twitter:url",window.location.href,!1),cs("twitter:title",g,!1),cs("twitter:description",y,!1),cs("twitter:image",_,!1)}}},[a,n,t,r]),u?d.jsx("div",{className:"flex justify-center items-center p-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):a?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:a.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:a.content}})]}),l.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:i("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:l.map(h=>d.jsx(nn,{to:`/${t}/page/${h.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:h.title})},h.id))})]})})]}),d.jsx(QH,{url:window.location.href,title:a.title,description:a.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(nn,{to:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},EM={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},t1e=()=>{const{ads:t}=sn(),[e,n]=W.useState(t),[r,i]=W.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=W.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),[o,l]=W.useState(!1);W.useEffect(()=>{n(t)},[t]);const c=async()=>{l(!0);try{const y=await xu("settings","global"),_=JSON.stringify(y);await ll({files:[{path:"data/json/site-settings-public.json",content:_}],commitMessage:"feat: Auto-update ads in settings",repoConfig:{owner:"gitut-cms",repo:"files"}}),console.log("Ads successfully published to GitHub.")}catch(y){console.error("Failed to auto-publish ads to GitHub:",y),alert("            GitHub.")}finally{l(!1)}},u=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},f=y=>{a({...y}),i({isOpen:!0,mode:"edit",ad:y})},h=()=>{i({isOpen:!1,mode:"create",ad:null})},p=async y=>{y.preventDefault();try{r.mode==="create"?await Ep.create(s):r.ad&&await Ep.update(r.ad.id,s),h(),await c(),alert("   !")}catch(_){console.error("Failed to save ad:",_),alert("  .")}},v=async y=>{try{const _=e.find(x=>x.id===y);_&&(await Ep.toggleStatus(y,_.enabled),n(x=>x.map(w=>w.id===y?{...w,enabled:!w.enabled}:w)),await c())}catch(_){console.error("Failed to toggle status:",_),alert("  .")}},g=async y=>{if(window.confirm("        "))try{await Ep.delete(y),n(_=>_.filter(x=>x.id!==y)),await c()}catch(_){console.error("Failed to delete ad:",_),alert("  .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o&&d.jsxs("span",{className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[d.jsx(Ct,{className:"animate-spin"}),"  ..."]})]}),d.jsx("button",{onClick:u,disabled:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:y.title}),d.jsx("td",{className:"p-3 text-gray-600",children:EM[y.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>v(y.id),disabled:o,className:`px-3 py-1 text-xs font-semibold rounded-full disabled:opacity-50 ${y.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:y.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>f(y),disabled:o,className:"text-green-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>g(y.id),disabled:o,className:"text-red-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""})]})]},y.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:p,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:y=>a(_=>({..._,title:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:y=>a(_=>({..._,content:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:y=>a(_=>({..._,imageUrl:y.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:y=>a(_=>({..._,link:y.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:y=>a(_=>({..._,placement:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(EM).map(([y,_])=>d.jsx("option",{value:y,children:_},y))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:h,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let n1e,r1e;function i1e(){return{geminiUrl:n1e,vertexUrl:r1e}}function s1e(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=i1e();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oh{}function Ft(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),n[c])}else for(const c of l)E(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function o1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&E(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&E(e,["config"],i),e}function l1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function c1e(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],yI(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function u1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],c1e(n)),e}function d1e(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>u1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function f1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],d1e(a)),e}function h1e(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],yI(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function p1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],h1e(n)),e}function m1e(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>p1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function g1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],m1e(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(CM||(CM={}));var SM;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(SM||(SM={}));var bu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(bu||(bu={}));var DM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(DM||(DM={}));var AM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(AM||(AM={}));var NM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(NM||(NM={}));var kM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kM||(kM={}));var IM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(IM||(IM={}));var RM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(RM||(RM={}));var PM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(PM||(PM={}));var FM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(FM||(FM={}));var MM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(MM||(MM={}));var UM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(UM||(UM={}));var OM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(OM||(OM={}));var LM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LM||(LM={}));var Wb;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wb||(Wb={}));var jM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jM||(jM={}));var QA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(QA||(QA={}));var BM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(BM||(BM={}));var VM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(VM||(VM={}));var WM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(WM||(WM={}));var qM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(qM||(qM={}));var $M;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($M||($M={}));var zM;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zM||(zM={}));var HM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(HM||(HM={}));var GM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(GM||(GM={}));var KM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(KM||(KM={}));var XM;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(XM||(XM={}));var JM;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(JM||(JM={}));var YM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(YM||(YM={}));var QM;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(QM||(QM={}));var ZM;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZM||(ZM={}));var eU;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(eU||(eU={}));var tU;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(tU||(tU={}));var nU;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(nU||(nU={}));var rU;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(rU||(rU={}));var iU;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(iU||(iU={}));var sU;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(sU||(sU={}));var aU;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(aU||(aU={}));var oU;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(oU||(oU={}));var lU;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(lU||(lU={}));var cU;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(cU||(cU={}));var uU;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uU||(uU={}));var dU;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(dU||(dU={}));var fU;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(fU||(fU={}));var Sp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Sp||(Sp={}));class ZA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class n0{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class hU{}class pU{}class y1e{}class v1e{}class x1e{}class b1e{}class mU{}class gU{}class yU{}class _1e{}class qb{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new qb;let i;const s=e;return n?i=g1e(s):i=f1e(s),Object.assign(r,i),r}}class vU{}class xU{}class bU{}class w1e{}class T1e{}class E1e{}class _U{}class C1e{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class S1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function On(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function PG(t,e){const n=On(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function FG(t){return Array.isArray(t)?t.map(e=>$b(e)):[$b(t)]}function $b(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function MG(t){const e=$b(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function UG(t){const e=$b(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wU(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function OG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>wU(e)):[wU(t)]}function eN(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function TU(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function EU(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function xs(t){if(t==null)throw new Error("ContentUnion is required");return eN(t)?t:{role:"user",parts:OG(t)}}function vI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=xs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=xs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>xs(n)):[xs(e)]}function oo(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(TU(t)||EU(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xs(t)]}const e=[],n=[],r=eN(t[0]);for(const i of t){const s=eN(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(TU(i)||EU(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:OG(n)}),e}function D1e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(bu).includes(n[0].toUpperCase())?n[0].toUpperCase():bu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(bu).includes(r.toUpperCase())?r.toUpperCase():bu.TYPE_UNSPECIFIED})}}function Op(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&D1e(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(bu).includes(o.toUpperCase())?o.toUpperCase():bu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Op(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(Op(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=Op(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function xI(t){return Op(t)}function bI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _I(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Qm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Op(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Op(e.response));return t}function Zm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function A1e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Rc(t,e){if(typeof e!="string")throw new Error("name must be a string");return A1e(t,e,"cachedContents")}function LG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lh(t){return yI(t)}function N1e(t){return t!=null&&typeof t=="object"&&"name"in t}function k1e(t){return t!=null&&typeof t=="object"&&"video"in t}function I1e(t){return t!=null&&typeof t=="object"&&"uri"in t}function jG(t){var e;let n;if(N1e(t)&&(n=t.name),!(I1e(t)&&(n=t.uri,n===void 0))&&!(k1e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function BG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function VG(t){for(const e of["models","tunedModels","publisherModels"])if(R1e(t,e))return t[e];return[]}function R1e(t,e){return t!==null&&typeof t=="object"&&e in t}function P1e(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function F1e(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=P1e(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function WG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function M1e(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function eg(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function $G(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U1e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function O1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function L1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function j1e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function B1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],U1e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],O1e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],L1e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],j1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function zG(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>B1e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function V1e(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function W1e(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function q1e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function $1e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function z1e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],$1e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function H1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function G1e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],H1e(n)),e}function K1e(){return{}}function X1e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function J1e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>q1e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],z1e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],G1e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],K1e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],X1e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Y1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Q1e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Z1e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Q1e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function exe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Y1e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Z1e(r)),e}function txe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function HG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],txe(n)),e}function nxe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],HG(r)),e}function rxe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nxe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function ixe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],HG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],rxe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function sxe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function axe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],zG(xs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],V1e(xI(_)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(N=>W1e(N))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Zm(C);Array.isArray(P)&&(P=P.map(N=>J1e(Qm(N)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],exe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Rc(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const k=T(e,["mediaResolution"]);k!=null&&E(r,["mediaResolution"],k);const I=T(e,["speechConfig"]);if(I!=null&&E(r,["speechConfig"],ixe(bI(I))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],sxe(F)),r}function oxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["request","model"],On(t,r));const i=T(e,["contents"]);if(i!=null){let a=oo(i);Array.isArray(a)&&(a=a.map(o=>zG(o))),E(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["request","generationConfig"],axe(t,s,n)),n}function lxe(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>oxe(t,a))),E(n,["requests","requests"],s)}return n}function cxe(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function i4(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],lxe(t,WG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],cxe(s,n)),n}function uxe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dxe(t,e){const n={},r=T(e,["contents"]);r!=null&&E(n,["requests[]","request","content"],vI(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],uxe(i,n)),n}function fxe(t,e){const n={},r=T(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],dxe(t,i)),n}function hxe(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function s4(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],fxe(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],hxe(s,n)),n}function pxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],eg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function mxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],eg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function gxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function yxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],gxe(n,e)),e}function vxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],eg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function xxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _xe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],bxe(M1e(i))),n}function wxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],On(t,r));const i=T(e,["src"]);i!=null&&E(n,["inputConfig"],xxe(WG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],_xe(s,n)),n}function Txe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],eg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Exe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],eg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Cxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function Sxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Cxe(n,e)),e}function Dxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],eg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Axe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Nxe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function kxe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Ixe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Rxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Axe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Nxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],kxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Ixe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Pxe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Rxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Fxe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function Mxe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function Uxe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mxe(i))),E(e,["urlMetadata"],r)}return e}function Oxe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],Pxe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],Fxe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],Uxe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function Lxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Oxe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function wI(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function jxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Lxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],wI(r)),e}function Bxe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function Vxe(t){const e={},n=T(t,["embedding"]);n!=null&&E(e,["embedding"],Bxe(n));const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Wxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Vxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],wI(r)),e}function qxe(t){const e={},n=T(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>jxe(a))),E(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Wxe(a))),E(e,["inlinedEmbedContentResponses"],s)}return e}function bp(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&E(e,["state"],$G(i));const s=T(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&E(e,["dest"],qxe(qG(c))),e}function $xe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>bp(a))),E(e,["batchJobs"],s)}return e}function zxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],wI(s)),e}function GG(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function Hxe(t){const e={},n=T(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function Gxe(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function tN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],$G(i));const s=T(t,["error"]);s!=null&&E(e,["error"],GG(s));const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&E(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&E(e,["src"],Hxe(f));const h=T(t,["outputConfig"]);return h!=null&&E(e,["dest"],Gxe(qG(h))),e}function Kxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>tN(a))),E(e,["batchJobs"],s)}return e}function Xxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],GG(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Vf||(Vf={}));class Xv{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jxe extends oh{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=i4(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>bp(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=s4(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>bp(h))},this.list=async(n={})=>new Xv(Vf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=i4(this.apiClient,e),r=n._url,i=Ft("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=s4(this.apiClient,e),r=n._url,i=Ft("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=wxe(this.apiClient,e);return o=Ft("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>tN(u))}else{const c=i4(this.apiClient,e);return o=Ft("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>bp(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=s4(this.apiClient,e);return s=Ft("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>bp(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Txe(this.apiClient,e);return o=Ft("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>tN(u))}else{const c=pxe(this.apiClient,e);return o=Ft("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>bp(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Exe(this.apiClient,e);a=Ft("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=mxe(this.apiClient,e);a=Ft("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Sxe(e);return o=Ft("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Kxe(u),h=new _U;return Object.assign(h,f),h})}else{const c=yxe(e);return o=Ft("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=$xe(u),h=new _U;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Dxe(this.apiClient,e);return o=Ft("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>Xxe(u))}else{const c=vxe(this.apiClient,e);return o=Ft("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>zxe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Qxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Zxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function e2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function t2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Yxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Qxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Zxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],e2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function CU(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>t2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function n2e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function r2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function i2e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],r2e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function s2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function a2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],s2e(n)),e}function o2e(){return{}}function l2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function c2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>n2e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],i2e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],a2e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],o2e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],l2e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function u2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function d2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function f2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],d2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function h2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],u2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],f2e(r)),e}function p2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=oo(a);Array.isArray(u)&&(u=u.map(f=>CU(f))),E(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],CU(xs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>c2e(f))),E(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],h2e(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function m2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],PG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],p2e(i,n)),n}function g2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Rc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function y2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Rc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function v2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function x2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Rc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],v2e(i,n)),n}function b2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function _2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],b2e(n,e)),e}function w2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function T2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function E2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function C2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function S2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],w2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],T2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],E2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],C2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function SU(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>S2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function D2e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function A2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function N2e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],A2e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function k2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function I2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],k2e(n)),e}function R2e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function P2e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function F2e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],P2e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function M2e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],F2e(n)),e}function U2e(){return{}}function O2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function L2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>D2e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],N2e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],I2e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],R2e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],M2e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],U2e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],O2e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function j2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function B2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function V2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],B2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function W2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],j2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],V2e(r)),e}function q2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=oo(a);Array.isArray(f)&&(f=f.map(h=>SU(h))),E(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],SU(xs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>L2e(h))),E(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],W2e(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),n}function $2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],PG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],q2e(i,n)),n}function z2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Rc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function H2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Rc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function G2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function K2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Rc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],G2e(i,n)),n}function X2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function J2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],X2e(n,e)),e}function D2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function Y2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function Q2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>D2(a))),E(e,["cachedContents"],s)}return e}function A2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function Z2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function ebe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>A2(a))),E(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tbe extends oh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xv(Vf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$2e(this.apiClient,e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>A2(u))}else{const c=m2e(this.apiClient,e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>D2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=z2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>A2(u))}else{const c=g2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>D2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=H2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Z2e(u),h=new xU;return Object.assign(h,f),h})}else{const c=y2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Y2e(u),h=new xU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=K2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>A2(u))}else{const c=x2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>D2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=J2e(e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=ebe(u),h=new bU;return Object.assign(h,f),h})}else{const c=_2e(e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Q2e(u),h=new bU;return Object.assign(h,f),h})}}}function DU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(t){return this instanceof pr?(this.v=t,this):new pr(t)}function Lp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,_){s.push([p,g,y,_])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof pr?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Z0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DU=="function"?DU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nbe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:KG(n)}function KG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rbe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function AU(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!KG(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class ibe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new sbe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class sbe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),rbe(s)}async sendMessage(e){var n;await this.sendPromise;const r=xs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=xs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?AU(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Lp(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=Z0(e),p;p=yield pr(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(nbe(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield pr(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield pr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...AU(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function abe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function obe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],abe(n,e)),e}function lbe(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function cbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],lbe(g)),e}function ube(t){const e={},n=T(t,["file"]);n!=null&&E(e,["file"],cbe(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function dbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],jG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function fbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],jG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function hbe(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function nN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],hbe(g)),e}function pbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>nN(a))),E(e,["files"],s)}return e}function mbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function gbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ybe extends oh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xv(Vf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>nN(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=obe(e);return s=Ft("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=pbe(l),u=new w1e;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ube(e);return s=Ft("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=mbe(l),u=new T1e;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dbe(e);return s=Ft("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>nN(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=fbe(e);return s=Ft("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=gbe(l),u=new E1e;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vbe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function XG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],vbe(n)),e}function xbe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],XG(r)),e}function bbe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xbe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function _be(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],XG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],bbe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function wbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Tbe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Ebe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Cbe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Sbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],wbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Tbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Ebe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Cbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Dbe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Sbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Abe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Nbe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function kbe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Nbe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ibe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function Rbe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Ibe(n)),e}function Pbe(){return{}}function Fbe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Mbe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Abe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],kbe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],Rbe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],Pbe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Fbe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Ube(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function NU(){return{}}function Obe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function Lbe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],Obe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function jbe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function Bbe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],jbe(r)),e}function Vbe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function Wbe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],_be(_I(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],Dbe(xs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Zm(v);Array.isArray(S)&&(S=S.map(R=>Mbe(Qm(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],Ube(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],NU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],NU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],Lbe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],Bbe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],Vbe(C)),n}function qbe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Wbe(i,n)),n}function $be(){return{}}function zbe(){return{}}function Hbe(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],FG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],UG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],MG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],$be()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],zbe()),e}function JG(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function Gbe(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JG(i))),E(e,["weightedPrompts"],r)}return e}function YG(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function Kbe(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],YG(n)),e}function QG(t){const e={},n=T(t,["model"]);return n!=null&&E(e,["model"],n),e}function ZG(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JG(i))),E(e,["weightedPrompts"],r)}return e}function rN(t){const e={},n=T(t,["setup"]);n!=null&&E(e,["setup"],QG(n));const r=T(t,["clientContent"]);r!=null&&E(e,["clientContent"],ZG(r));const i=T(t,["musicGenerationConfig"]);i!=null&&E(e,["musicGenerationConfig"],YG(i));const s=T(t,["playbackControl"]);return s!=null&&E(e,["playbackControl"],s),e}function Xbe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function Jbe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],Xbe(n)),e}function Ybe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],Jbe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Qbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Zbe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function e_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function t_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function n_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Qbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Zbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],e_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],t_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function r_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>n_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function i_e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function s_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function a_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],s_e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function o_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function l_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],o_e(n)),e}function c_e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function u_e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function d_e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],u_e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function f_e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],d_e(n)),e}function h_e(){return{}}function p_e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function m_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>i_e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],a_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],l_e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],c_e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],f_e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],h_e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],p_e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function g_e(t){const e={},n=T(t,["handle"]);n!=null&&E(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&E(e,["transparent"],r),e}function kU(){return{}}function y_e(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function v_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],y_e(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function x_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function b_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],x_e(r)),e}function __e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function w_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],Ybe(_I(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],r_e(xs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Zm(v);Array.isArray(S)&&(S=S.map(R=>m_e(Qm(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],g_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],kU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],kU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],v_e(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],b_e(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],__e(C)),n}function T_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],w_e(i,n)),n}function E_e(){return{}}function C_e(){return{}}function S_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],FG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],UG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],MG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],E_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],C_e()),e}function D_e(){return{}}function A_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function N_e(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function k_e(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function eK(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function I_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],A_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],N_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],k_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],eK(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function R_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>I_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function IU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function P_e(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function F_e(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>P_e(i))),E(e,["urlMetadata"],r)}return e}function M_e(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],R_e(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],IU(o));const l=T(t,["outputTranscription"]);l!=null&&E(e,["outputTranscription"],IU(l));const c=T(t,["urlContextMetadata"]);return c!=null&&E(e,["urlContextMetadata"],F_e(c)),e}function U_e(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eK(i))),E(e,["functionCalls"],r)}return e}function O_e(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Mx(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function L_e(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Mx(p))),E(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Mx(p))),E(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Mx(p))),E(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Mx(p))),E(e,["toolUsePromptTokensDetails"],h)}return e}function j_e(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function B_e(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function V_e(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],D_e());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],M_e(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],U_e(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],O_e(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],L_e(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],j_e(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],B_e(l)),e}function W_e(){return{}}function q_e(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function $_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>q_e(i))),E(e,["weightedPrompts"],r)}return e}function z_e(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function H_e(t){const e={},n=T(t,["clientContent"]);n!=null&&E(e,["clientContent"],$_e(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],z_e(r)),e}function G_e(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&E(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&E(e,["sourceMetadata"],H_e(i)),e}function K_e(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>G_e(i))),E(e,["audioChunks"],r)}return e}function X_e(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&E(e,["filteredReason"],r),e}function J_e(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],W_e());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],K_e(r));const i=T(t,["filteredPrompt"]);return i!=null&&E(e,["filteredPrompt"],X_e(i)),e}function Y_e(t){const e={},n=T(t,["sessionId"]);return n!=null&&E(e,["sessionId"],n),e}function Q_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Z_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function ewe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function tK(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function twe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Q_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Z_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],ewe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],tK(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function nwe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>twe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function RU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function rwe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],nwe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],RU(o));const l=T(t,["outputTranscription"]);return l!=null&&E(e,["outputTranscription"],RU(l)),e}function iwe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tK(i))),E(e,["functionCalls"],r)}return e}function swe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Ux(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function awe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}function owe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function lwe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function cwe(t){const e={},n=T(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],Y_e(n));const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],rwe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],iwe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],swe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],awe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],owe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],lwe(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function dwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function fwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function hwe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function pwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],uwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],dwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],fwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],hwe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Pw(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>pwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function mwe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function gwe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function ywe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function vwe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function xwe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],vwe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function _we(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],bwe(n)),e}function wwe(){return{}}function Twe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Ewe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>ywe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],xwe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],_we(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],wwe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Twe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Cwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Swe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Dwe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Swe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Awe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Cwe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Dwe(r)),e}function Nwe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function nK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],Nwe(n)),e}function kwe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],nK(r)),e}function Iwe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kwe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function Rwe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],nK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],Iwe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Pwe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function Fwe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Pw(xs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],mwe(xI(_)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(N=>gwe(N))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Zm(C);Array.isArray(P)&&(P=P.map(N=>Ewe(Qm(N)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],Awe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Rc(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const k=T(e,["mediaResolution"]);k!=null&&E(r,["mediaResolution"],k);const I=T(e,["speechConfig"]);if(I!=null&&E(r,["speechConfig"],Rwe(bI(I))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],Pwe(F)),r}function PU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);if(i!=null){let a=oo(i);Array.isArray(a)&&(a=a.map(o=>Pw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],Fwe(t,s,n)),n}function Mwe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Uwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);i!=null&&E(n,["requests[]","content"],vI(t,i));const s=T(e,["config"]);s!=null&&E(n,["config"],Mwe(s,n));const a=T(e,["model"]);return a!==void 0&&E(n,["requests[]","model"],On(t,a)),n}function Owe(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&E(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Lwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],Owe(s,n)),n}function jwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Bwe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],BG(t,o)),r}function Vwe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],Bwe(t,r,n)),n}function Wwe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function qwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Wwe(i,n)),n}function $we(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function zwe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Hwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);if(i!=null){let a=oo(i);Array.isArray(a)&&(a=a.map(o=>Pw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],zwe(s)),n}function rK(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],lh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Gwe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&E(e,["instances[0]","image"],rK(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Kwe(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Xwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&E(n,["instances[0]","image"],rK(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&E(n,["config"],Gwe(a,n));const o=T(e,["config"]);return o!=null&&E(n,["config"],Kwe(o,n)),n}function Jwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Ywe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Qwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Zwe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function eTe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Jwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Ywe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Qwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Zwe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function tg(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>eTe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function tTe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function nTe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&E(e,["featureSelectionPreference"],n),e}function rTe(t){const e={},n=T(t,["method"]);n!=null&&E(e,["method"],n);const r=T(t,["category"]);r!=null&&E(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&E(e,["threshold"],i),e}function iTe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function sTe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function aTe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],sTe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function oTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function lTe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],oTe(n)),e}function cTe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function uTe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function dTe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],uTe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function fTe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],dTe(n)),e}function hTe(){return{}}function pTe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function iK(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>iTe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],aTe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],lTe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],cTe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],fTe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],hTe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],pTe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function mTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function gTe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function yTe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],gTe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function vTe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],mTe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],yTe(r)),e}function xTe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function bTe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],xTe(n)),e}function _Te(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],bTe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function wTe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function TTe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],tg(xs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],tTe(xI(_)));const x=T(e,["responseJsonSchema"]);x!=null&&E(r,["responseJsonSchema"],x);const w=T(e,["routingConfig"]);w!=null&&E(r,["routingConfig"],w);const C=T(e,["modelSelectionConfig"]);C!=null&&E(r,["modelConfig"],nTe(C));const S=T(e,["safetySettings"]);if(n!==void 0&&S!=null){let H=S;Array.isArray(H)&&(H=H.map(G=>rTe(G))),E(n,["safetySettings"],H)}const R=T(e,["tools"]);if(n!==void 0&&R!=null){let H=Zm(R);Array.isArray(H)&&(H=H.map(G=>iK(Qm(G)))),E(n,["tools"],H)}const D=T(e,["toolConfig"]);n!==void 0&&D!=null&&E(n,["toolConfig"],vTe(D));const k=T(e,["labels"]);n!==void 0&&k!=null&&E(n,["labels"],k);const I=T(e,["cachedContent"]);n!==void 0&&I!=null&&E(n,["cachedContent"],Rc(t,I));const F=T(e,["responseModalities"]);F!=null&&E(r,["responseModalities"],F);const P=T(e,["mediaResolution"]);P!=null&&E(r,["mediaResolution"],P);const N=T(e,["speechConfig"]);N!=null&&E(r,["speechConfig"],_Te(bI(N)));const O=T(e,["audioTimestamp"]);O!=null&&E(r,["audioTimestamp"],O);const U=T(e,["thinkingConfig"]);return U!=null&&E(r,["thinkingConfig"],wTe(U)),r}function FU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);if(i!=null){let a=oo(i);Array.isArray(a)&&(a=a.map(o=>tg(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],TTe(t,s,n)),n}function ETe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),n}function CTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);i!=null&&E(n,["instances[]","content"],vI(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],ETe(s,n)),n}function STe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const _=T(t,["imageSize"]);e!==void 0&&_!=null&&E(e,["parameters","sampleImageSize"],_);const x=T(t,["enhancePrompt"]);return e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x),n}function DTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],STe(s,n)),n}function Go(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],lh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function ATe(t){const e={},n=T(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function NTe(t){const e={},n=T(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function kTe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&E(e,["styleDescription"],n),e}function ITe(t){const e={},n=T(t,["subjectType"]);n!=null&&E(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&E(e,["subjectDescription"],r),e}function RTe(t){const e={},n=T(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],Go(n));const r=T(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],ATe(s));const a=T(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],NTe(a));const o=T(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],kTe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],ITe(l)),e}function PTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const _=T(t,["editMode"]);e!==void 0&&_!=null&&E(e,["parameters","editMode"],_);const x=T(t,["baseSteps"]);return e!==void 0&&x!=null&&E(e,["parameters","editConfig","baseSteps"],x),n}function FTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>RTe(l))),E(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&E(n,["config"],PTe(a,n)),n}function MTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&E(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&E(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&E(e,["parameters","mode"],u),n}function UTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["image"]);i!=null&&E(n,["instances[0]","image"],Go(i));const s=T(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&E(n,["config"],MTe(a,n)),n}function OTe(t){const e={},n=T(t,["productImage"]);return n!=null&&E(e,["image"],Go(n)),e}function LTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],Go(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>OTe(o))),E(e,["instances[0]","productImages"],a)}return n}function jTe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h),n}function BTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],LTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],jTe(s,n)),n}function VTe(t){const e={},n=T(t,["image"]);return n!=null&&E(e,["image"],Go(n)),e}function WTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Go(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],VTe(s)),n}function qTe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o),n}function $Te(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],WTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],qTe(s,n)),n}function zTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function HTe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],BG(t,o)),r}function GTe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],HTe(t,r,n)),n}function KTe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function XTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],KTe(i,n)),n}function JTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function YTe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],tg(xs(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>iK(o))),E(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],s),n}function QTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);if(i!=null){let a=oo(i);Array.isArray(a)&&(a=a.map(o=>tg(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],YTe(s,n)),n}function ZTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["contents"]);if(i!=null){let a=oo(i);Array.isArray(a)&&(a=a.map(o=>tg(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],s),n}function sK(t){const e={},n=T(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],lh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function eEe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Go(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],sK(s)),n}function tEe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["image"],Go(n));const r=T(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function nEe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["_self"],Go(n));const r=T(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function rEe(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&E(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&E(e,["instances[0]","lastFrame"],Go(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>tEe(C))),E(e,["instances[0]","referenceImages"],w)}const _=T(t,["mask"]);e!==void 0&&_!=null&&E(e,["instances[0]","mask"],nEe(_));const x=T(t,["compressionQuality"]);return e!==void 0&&x!=null&&E(e,["parameters","compressionQuality"],x),n}function iEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],On(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&E(n,["instances[0]","image"],Go(s));const a=T(e,["video"]);a!=null&&E(n,["instances[0]","video"],sK(a));const o=T(e,["source"]);o!=null&&E(n,["config"],eEe(o,n));const l=T(e,["config"]);return l!=null&&E(n,["config"],rEe(l,n)),n}function sEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function aEe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function oEe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function lEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function cEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],sEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],aEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],oEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],lEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function uEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>cEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function dEe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function fEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function hEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fEe(i))),E(e,["urlMetadata"],r)}return e}function pEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],uEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],dEe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],hEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function MU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>pEe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function mEe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function gEe(){return{}}function yEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>mEe(a))),E(e,["embeddings"],s)}return T(t,["metadata"])!=null&&E(e,["metadata"],gEe()),e}function vEe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],lh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function aK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function xEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],vEe(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],aK(i)),e}function bEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>xEe(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],aK(i)),e}function _Ee(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function iN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["version"]);s!=null&&E(e,["version"],s);const a=T(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],_Ee(a));const o=T(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function wEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=VG(i);Array.isArray(s)&&(s=s.map(a=>iN(a))),E(e,["models"],s)}return e}function TEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function EEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function CEe(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],lh(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function SEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],CEe(n)),e}function DEe(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>SEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function AEe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],DEe(a)),e}function NEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function kEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function IEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function REe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function PEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],NEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],kEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],IEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],REe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function FEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>PEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function MEe(t){const e={},n=T(t,["citations"]);return n!=null&&E(e,["citations"],n),e}function UEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function OEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>UEe(i))),E(e,["urlMetadata"],r)}return e}function LEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],FEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],MEe(r));const i=T(t,["finishMessage"]);i!=null&&E(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],OEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function UU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>LEe(u))),E(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function jEe(t){const e={},n=T(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function BEe(t){const e={},n=T(t,["values"]);n!=null&&E(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&E(e,["statistics"],jEe(r)),e}function VEe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&E(e,["billableCharacterCount"],n),e}function WEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>BEe(a))),E(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&E(e,["metadata"],VEe(i)),e}function oK(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],lh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function lK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function Fw(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],oK(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&E(e,["safetyAttributes"],lK(i));const s=T(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function qEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Fw(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],lK(i)),e}function $Ee(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fw(s))),E(e,["generatedImages"],i)}return e}function zEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fw(s))),E(e,["generatedImages"],i)}return e}function HEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Fw(i))),E(e,["generatedImages"],r)}return e}function GEe(t){const e={},n=T(t,["label"]);n!=null&&E(e,["label"],n);const r=T(t,["score"]);return r!=null&&E(e,["score"],r),e}function KEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["mask"],oK(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>GEe(s))),E(e,["labels"],i)}return e}function XEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KEe(i))),E(e,["generatedMasks"],r)}return e}function JEe(t){const e={},n=T(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function YEe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function QEe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&E(e,["step"],i),e}function sN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["versionId"]);s!=null&&E(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>JEe(h))),E(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&E(e,["labels"],o);const l=T(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],YEe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>QEe(h))),E(e,["checkpoints"],f)}return e}function ZEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=VG(i);Array.isArray(s)&&(s=s.map(a=>sN(a))),E(e,["models"],s)}return e}function eCe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function tCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function nCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&E(e,["tokensInfo"],r),e}function rCe(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],lh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function iCe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],rCe(n)),e}function sCe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>iCe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function aCe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],sCe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oCe="Content-Type",lCe="X-Server-Timeout",cCe="User-Agent",aN="x-goog-api-client",uCe="1.19.0",dCe=`google-genai-sdk/${uCe}`,fCe="v1beta1",hCe="v1beta",OU=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class pCe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:fCe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:hCe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&mCe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LU(i),new ZA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Lp(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield pr(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Rw({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(OU);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pr(new ZA(h)),a=a.slice(u[0].length),u=a.match(OU)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=dCe+" "+this.clientOptions.userAgentExtra;return e[cCe]=n,e[aN]=n,e[oCe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(lCe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Ft("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function LU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Rw({message:i,status:n}):new Error(i)}}function mCe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gCe="mcp_used/unknown";let yCe=!1;function cK(t){for(const e of t)if(vCe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return yCe}function uK(t){var e;const n=(e=t[aN])!==null&&e!==void 0?e:"";t[aN]=(n+` ${gCe}`).trimStart()}function vCe(t){return t!==null&&typeof t=="object"&&t instanceof TI}function xCe(t,e=100){return Lp(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield pr(t.listTools({cursor:r}));for(const a of s.tools)yield yield pr(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class TI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new TI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,Z0(xCe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),F1e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bCe(t,e,n){const r=new S1e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=J_e(i);Object.assign(r,s),e(r)}class _Ce{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=ECe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{bCe(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,TCe(a),v);g.connect(),await u;const y=On(this.apiClient,e.model),_=QG({model:y}),x=rN({setup:_});return g.send(JSON.stringify(x)),new wCe(g,this.apiClient)}}class wCe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Gbe(e),r=ZG(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Kbe(e),r=rN(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=rN({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Sp.PLAY)}pause(){this.sendPlaybackControl(Sp.PAUSE)}stop(){this.sendPlaybackControl(Sp.STOP)}resetContext(){this.sendPlaybackControl(Sp.RESET_CONTEXT)}close(){this.conn.close()}}function TCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ECe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CCe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SCe(t,e,n){const r=new C1e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=cwe(s);Object.assign(r,a)}else{const a=V_e(s);Object.assign(r,a)}e(r)}class DCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new _Ce(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&cK(e.config.tools)&&uK(f);const h=ICe(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const I=this.apiClient.getApiKey();let F="BidiGenerateContent",P="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${P}=${I}`}let p=()=>{};const v=new Promise(I=>{p=I}),g=e.callbacks,y=function(){var I;(I=g==null?void 0:g.onopen)===null||I===void 0||I.call(g),p({})},_=this.apiClient,x={onopen:y,onmessage:I=>{SCe(_,g.onmessage,I)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(u,kCe(h),x);w.connect(),await v;let C=On(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const I=this.apiClient.getProject(),F=this.apiClient.getLocation();C=`projects/${I}/locations/${F}/`+C}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wb.AUDIO]}:e.config.responseModalities=[Wb.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const I of R)if(this.isCallableTool(I)){const F=I;D.push(await F.tool())}else D.push(I);D.length>0&&(e.config.tools=D);const k={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=T_e(this.apiClient,k):S=qbe(this.apiClient,k),delete S.config,w.send(JSON.stringify(S)),new NCe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ACe={turnComplete:!0};class NCe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=oo(n.turns),e.isVertexAI()?r=r.map(i=>tg(i)):r=r.map(i=>Pw(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(CCe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ACe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:S_e(e)}:n={realtimeInput:Hbe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ICe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jU=10;function BU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(jp(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function jp(t){return"callTool"in t&&typeof t.callTool=="function"}function RCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>jp(i)))!==null&&r!==void 0?r:!1}function PCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!jp(i)))!==null&&r!==void 0?r:!1}function VU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FCe extends oh{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!RCe(n)||BU(n.config))return await this.generateContentInternal(l);if(PCe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=oo(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:jU;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(jp(y)){const x=await y.callTool(c.functionCalls);g.push(...x)}p++,u={role:"user",parts:g},l.contents=oo(l.contents),l.contents.push(v),l.contents.push(u),VU(l.config)&&(f.push(v),f.push(u))}return VU(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),BU(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Xv(Vf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>jp(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&cK(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),uK(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(jp(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:jU;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return Lp(this,arguments,function*(){for(var v,g,y,_;o<s;){a&&(o++,a=!1);const S=yield pr(c.processParamsMaybeAddMcpUsage(f)),R=yield pr(c.generateContentStreamInternal(S)),D=[],k=[];try{for(var x=!0,w=(g=void 0,Z0(R)),C;C=yield pr(w.next()),v=C.done,!v;x=!0){_=C.value,x=!1;const I=_;if(yield yield pr(I),I.candidates&&(!((h=I.candidates[0])===null||h===void 0)&&h.content)){k.push(I.candidates[0].content);for(const F of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(F.functionCall.name)){const P=yield pr(u.get(F.functionCall.name).callTool([F.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(I){g={error:I}}finally{try{!x&&!v&&(y=w.return)&&(yield pr(y.call(w)))}finally{if(g)throw g.error}}if(D.length>0){a=!0;const I=new n0;I.candidates=[{content:{role:"user",parts:D}}],yield yield pr(I);const F=[];F.push(...k),F.push({role:"user",parts:D});const P=oo(f.contents).concat(F);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=FU(this.apiClient,e);return o=Ft("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=UU(u),h=new n0;return Object.assign(h,f),h})}else{const c=PU(this.apiClient,e);return o=Ft("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=MU(u),h=new n0;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=FU(this.apiClient,e);return o=Ft("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Lp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,_=Z0(f),x;x=yield pr(_.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=UU(yield pr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new n0;Object.assign(S,C),yield yield pr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=_.return)&&(yield pr(v.call(_)))}finally{if(p)throw p.error}}})})}else{const c=PU(this.apiClient,e);return o=Ft("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Lp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,_=Z0(f),x;x=yield pr(_.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=MU(yield pr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new n0;Object.assign(S,C),yield yield pr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=_.return)&&(yield pr(v.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=CTe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=WEe(u),h=new hU;return Object.assign(h,f),h})}else{const c=Uwe(this.apiClient,e);return o=Ft("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=yEe(u),h=new hU;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=DTe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=qEe(u),h=new pU;return Object.assign(h,f),h})}else{const c=Lwe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=bEe(u),h=new pU;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=FTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=$Ee(l),u=new y1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=UTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=zEe(l),u=new v1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=BTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=HEe(l),u=new x1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=$Te(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=XEe(l),u=new b1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=zTe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>sN(u))}else{const c=jwe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>iN(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=GTe(this.apiClient,e);return o=Ft("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=ZEe(u),h=new mU;return Object.assign(h,f),h})}else{const c=Vwe(this.apiClient,e);return o=Ft("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=wEe(u),h=new mU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=XTe(this.apiClient,e);return o=Ft("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>sN(u))}else{const c=qwe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>iN(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=JTe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=eCe(u),h=new gU;return Object.assign(h,f),h})}else{const c=$we(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=TEe(u),h=new gU;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=QTe(this.apiClient,e);return o=Ft("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=tCe(u),h=new yU;return Object.assign(h,f),h})}else{const c=Hwe(this.apiClient,e);return o=Ft("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=EEe(u),h=new yU;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ZTe(this.apiClient,e);return s=Ft("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=nCe(l),u=new _1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=iEe(this.apiClient,e);return o=Ft("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=aCe(u),h=new qb;return Object.assign(h,f),h})}else{const c=Xwe(this.apiClient,e);return o=Ft("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=AEe(u),h=new qb;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MCe extends oh{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=l1e(e);return o=Ft("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=a1e(e);return o=Ft("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=o1e(e);return s=Ft("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UCe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function dK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],UCe(n)),e}function OCe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],dK(r)),e}function LCe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>OCe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function jCe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],dK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],LCe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function BCe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function VCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function WCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function qCe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function $Ce(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],BCe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],VCe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],WCe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],qCe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function zCe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>$Ce(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function HCe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function GCe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function KCe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],GCe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function XCe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function JCe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],XCe(n)),e}function YCe(){return{}}function QCe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function ZCe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>HCe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],KCe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],JCe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],YCe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],QCe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function eSe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function WU(){return{}}function tSe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function nSe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],tSe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function rSe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function iSe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],rSe(r)),e}function sSe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function aSe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],jCe(_I(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],zCe(xs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Zm(v);Array.isArray(S)&&(S=S.map(R=>ZCe(Qm(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],eSe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],WU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],WU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],nSe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],iSe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],sSe(C)),n}function oSe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],On(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],aSe(i,n)),n}function lSe(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&E(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&E(n,["bidiGenerateContentSetup"],oSe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&E(n,["fieldMask"],l),r}function cSe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],lSe(t,r,n)),n}function uSe(t){const e={},n=T(t,["name"]);return n!=null&&E(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dSe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function fSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=dSe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class hSe extends oh{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=cSe(this.apiClient,e);s=Ft("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=fSe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>uSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function mSe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function gSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],mSe(n,e)),e}function ySe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function vSe(t){const e={},n=T(t,["textInput"]);n!=null&&E(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&E(e,["output"],r),e}function xSe(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vSe(i))),E(e,["examples","examples"],r)}return e}function bSe(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&E(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&E(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function _Se(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["tuningTask","trainingData"],xSe(i));const s=T(t,["config"]);return s!=null&&E(e,["config"],bSe(s,e)),e}function wSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function TSe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function ESe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],TSe(n,e)),e}function CSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function SSe(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function DSe(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function ASe(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec"],DSe(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&E(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&E(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function NSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],SSe(i,e));const s=T(t,["config"]);return s!=null&&E(e,["config"],ASe(s,e)),e}function kSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["model"],n);const r=T(t,["name"]);return r!=null&&E(e,["endpoint"],r),e}function fK(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],LG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&E(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&E(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&E(e,["tunedModel"],kSe(f));const h=T(t,["customBaseModel"]);h!=null&&E(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&E(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&E(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&E(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&E(e,["pipelineJob"],y);const _=T(t,["serviceAccount"]);_!=null&&E(e,["serviceAccount"],_);const x=T(t,["tunedModelDisplayName"]);return x!=null&&E(e,["tunedModelDisplayName"],x),e}function ISe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>fK(a))),E(e,["tuningJobs"],s)}return e}function RSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["metadata"]);i!=null&&E(e,["metadata"],i);const s=T(t,["done"]);s!=null&&E(e,["done"],s);const a=T(t,["error"]);return a!=null&&E(e,["error"],a),e}function PSe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);i!=null&&E(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&E(e,["endpoint"],s),e}function FSe(t){const e={},n=T(t,["model"]);n!=null&&E(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&E(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>PSe(a))),E(e,["checkpoints"],s)}return e}function oN(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],LG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&E(e,["error"],c);const u=T(t,["description"]);u!=null&&E(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&E(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&E(e,["tunedModel"],FSe(h));const p=T(t,["preTunedModel"]);p!=null&&E(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&E(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&E(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&E(e,["encryptionSpec"],y);const _=T(t,["partnerModelTuningSpec"]);_!=null&&E(e,["partnerModelTuningSpec"],_);const x=T(t,["customBaseModel"]);x!=null&&E(e,["customBaseModel"],x);const w=T(t,["experiment"]);w!=null&&E(e,["experiment"],w);const C=T(t,["labels"]);C!=null&&E(e,["labels"],C);const S=T(t,["outputUri"]);S!=null&&E(e,["outputUri"],S);const R=T(t,["pipelineJob"]);R!=null&&E(e,["pipelineJob"],R);const D=T(t,["serviceAccount"]);D!=null&&E(e,["serviceAccount"],D);const k=T(t,["tunedModelDisplayName"]);return k!=null&&E(e,["tunedModelDisplayName"],k),e}function MSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>oN(a))),E(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class USe extends oh{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Xv(Vf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:QA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=wSe(e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>oN(u))}else{const c=pSe(e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>fK(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=ESe(e);return o=Ft("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=MSe(u),h=new vU;return Object.assign(h,f),h})}else{const c=gSe(e);return o=Ft("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=ISe(u),h=new vU;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=CSe(e);a=Ft("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=ySe(e);a=Ft("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=NSe(e);return s=Ft("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>oN(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_Se(e);return s=Ft("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>RSe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const LSe=1024*1024*8,jSe=3,BSe=1e3,VSe=2,a4="x-goog-upload-status";async function WSe(t,e,n){var r,i,s;let a=0,o=0,l=new ZA(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(LSe,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=BSe;for(;p<jSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[a4]));)p++,await $Se(v),v=v*VSe;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[a4])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[a4])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function qSe(t){return{size:t.size,type:t.type}}function $Se(t){return new Promise(e=>setTimeout(e,t))}class zSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HSe{create(e,n,r){return new GSe(e,n,r)}}class GSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qU="x-goog-api-key";class KSe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(qU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(qU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XSe="gl-node/";class $U{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=s1e(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new KSe(this.apiKey);this.apiClient=new pCe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:XSe+"web",uploader:new zSe,downloader:new OSe}),this.models=new FCe(this.apiClient),this.live=new DCe(this.apiClient,i,new HSe),this.batches=new Jxe(this.apiClient),this.chats=new ibe(this.models,this.apiClient),this.caches=new tbe(this.apiClient),this.files=new ybe(this.apiClient),this.operations=new MCe(this.apiClient),this.authTokens=new hSe(this.apiClient),this.tunings=new USe(this.apiClient)}}if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const JSe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),YSe=()=>{var oe;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=sn(),[i,s]=W.useState([]),[a,o]=W.useState({isOpen:!1,mode:"create",post:null}),[l,c]=W.useState({title:"",content:{},publishedAt:"",tags:[]}),[u,f]=W.useState(!1),[h,p]=W.useState("ar"),[v,g]=W.useState(""),[y,_]=W.useState([]),[x,w]=W.useState(!1),[C,S]=W.useState(!1),[R,D]=W.useState(null),[k,I]=W.useState(""),[F,P]=W.useState(""),[N,O]=W.useState(!1),[U,H]=W.useState(!1),[G,J]=W.useState([]),[Z,z]=W.useState(!1);W.useEffect(()=>{const fe=[...t].sort((be,ie)=>{const ce=be.publishedAt?be.publishedAt.toDate():be.createdAt.toDate();return(ie.publishedAt?ie.publishedAt.toDate():ie.createdAt.toDate()).getTime()-ce.getTime()});s(fe)},[t]),W.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const fe=new Set;t.forEach(be=>{be.content&&be.content[h]&&be.tags&&be.tags.split(",").forEach(ce=>{ce.trim()&&fe.add(ce.trim())})}),_(Array.from(fe).sort())}},[a.isOpen,a.mode,h,t]);const Y=()=>{const fe=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:fe,tags:[]}),p("ar"),o({isOpen:!0,mode:"create",post:null})},B=fe=>{const be=fe.publishedAt?fe.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:fe.title,content:fe.content||{},publishedAt:be,tags:fe.tags?fe.tags.split(",").map(ce=>ce.trim()).filter(Boolean):[]});const ie=Object.keys(fe.content||{});ie.includes("ar")?p("ar"):ie.length>0?p(ie[0]):p("ar"),o({isOpen:!0,mode:"edit",post:fe})},j=()=>{o({isOpen:!1,mode:"create",post:null})},q=async fe=>{var ie;const be=await la("tagTitleLists",fe);I(((ie=be==null?void 0:be.titles)==null?void 0:ie.join(`
`))||""),D(fe),P(fe),S(!0)},X=()=>{S(!1),D(null),I(""),P("")},Q=async()=>{if(R){const fe=k.split(`
`).map(be=>be.trim()).filter(Boolean);await yr("tagTitleLists",{tag:R,titles:fe}),X()}},te=async()=>{if(F){O(!0);try{const ie=(await new $U({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${F}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";I(ce=>(ce?ce+`
`:"")+ie.trim())}catch(fe){console.error("AI Title Generation Error:",fe),alert("  .")}finally{O(!1)}}},ae=async fe=>{if(fe&&!l.tags.includes(fe)){const be=l.title;if(c(ie=>({...ie,tags:[...ie.tags,fe]})),!be.trim()){const ie=await la("tagTitleLists",fe);if(ie&&ie.titles&&ie.titles.length>0){const ce=ie.titles,me=Math.floor(Math.random()*ce.length),ge=ce[me];c(De=>({...De,title:ge}))}}}g("")},ue=fe=>{c(be=>({...be,tags:be.tags.filter(ie=>ie!==fe)}))},de=fe=>{if(fe.key==="Enter"||fe.key===","){fe.preventDefault();const be=v.trim();ae(be)}},Se=fe=>{ae(fe)},Pe=async()=>{const fe=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,be=l.title.trim().match(fe);if(be){f(!0);try{const ge=be[0],De=vu.find(ct=>ct.code===h),Oe=De?De.name:"Arabic",Te=`Based on the content of this YouTube video: ${ge}, write a detailed and well-formatted blog post in ${Oe}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(ct=>({...ct,content:{...ct.content,[h]:""}}));const Je=(await uc({model:"gemini-2.5-flash",contents:Te,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),lt=JSON.parse(Je);if(lt.title&&lt.content)c(ct=>({...ct,title:lt.title,content:{...ct.content,[h]:lt.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(ge){console.error("AI content generation from YouTube failed:",ge),alert("     .          .")}finally{f(!1)}return}const ie=l.content[h]||"",ce=l.title.trim()!=="",me=ie.replace(/<[^>]*>?/gm,"").trim()!=="";if(!ce&&!me){alert("          .");return}f(!0);try{if(me){const ge=vu.find(lt=>lt.code===h),De=ge?ge.name:h,Oe=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${De}.
                2. Expand the draft into a full, well-formatted blog post in ${De}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${ie.replace(/<[^>]*>?/gm," ")}"`,Le=(await uc({model:"gemini-2.5-flash",contents:Oe,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Je=JSON.parse(Le);c(lt=>({...lt,title:Je.title,content:{...lt.content,[h]:Je.content}}))}else{const De={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(Ue=>({...Ue,content:{...Ue.content,[h]:""}}));const Te=(await uc({model:"gemini-2.5-flash",contents:De})).text||"";c(Ue=>({...Ue,content:{...Ue.content,[h]:Te}}))}}catch(ge){console.error("AI content generation failed:",ge),alert("  .       JSON  .        .")}finally{f(!1)}},pe=async()=>{var ce;const fe=(ce=l.content[h])==null?void 0:ce.replace(/<[^>]*>?/gm," ").trim(),be=l.tags.join(", "),ie=fe||be;if(!ie){alert("       .");return}H(!0),z(!0),J([]);try{const De=(await new $U({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${ie}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Oe=JSON.parse(De);J(Oe)}catch(me){console.error("AI Title Suggestion Error:",me),alert("  ."),H(!1)}finally{z(!1)}},je=fe=>{c(be=>({...be,title:fe})),H(!1)},V=async fe=>{fe.preventDefault();const be=l.publishedAt?new Date(l.publishedAt):null,ie=JSe(l.title),{content:ce,...me}=l,ge=Object.fromEntries(Object.entries(ce).filter(([,Oe])=>Oe&&String(Oe).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(ge).length===0){alert("          .");return}const De=l.tags.join(",");if(a.mode==="create"){const Oe={...me,tags:De,content:ge,publishedAt:be?Wr.firestore.Timestamp.fromDate(be):void 0,slug:ie,author:"Admin",createdAt:Wr.firestore.Timestamp.now(),enabled:!1},Te=await Cp.create(Oe);e(Te)}else if(a.post){const Oe={...me,tags:De,content:ge,publishedAt:be?Wr.firestore.Timestamp.fromDate(be):void 0,slug:ie};await Cp.update(a.post.id,Oe),n(a.post.id,{...a.post,...Oe})}j()},xe=async fe=>{const be=i.find(ie=>ie.id===fe);be&&(await Cp.toggleStatus(fe,be.enabled),n(fe,{enabled:!be.enabled}))},_e=async fe=>{window.confirm("        ")&&(await Cp.delete(fe),r(fe))},le=fe=>{const be=Object.keys(fe.content||{});return be.includes("ar")?`/blog/${fe.slug}`:be.length>0?`/blog/${be[0]}/${fe.slug}`:`/blog/${fe.slug}`},re={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:Y,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(fe=>{const be=fe.publishedAt?fe.publishedAt.toDate():fe.createdAt.toDate();return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:fe.title}),d.jsx("td",{className:"p-3 text-gray-600",children:be.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>xe(fe.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${fe.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:fe.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(nn,{to:le(fe),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>B(fe),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>_e(fe.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},fe.id)})})]})})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:V,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:fe=>c(be=>({...be,title:fe.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:pe,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(ca,{})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:fe=>c(be=>({...be,publishedAt:fe.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(fe=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:fe}),d.jsx("button",{type:"button",onClick:()=>q(fe),className:"text-green-600 hover:text-green-800",title:`    "${fe}"`,children:d.jsx(rge,{size:12})}),d.jsx("button",{type:"button",onClick:()=>ue(fe),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},fe)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:fe=>g(fe.target.value),onKeyDown:de,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),x&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(fe=>!l.tags.includes(fe)&&fe.toLowerCase().includes(v.toLowerCase())).map(fe=>d.jsx("div",{onMouseDown:()=>Se(fe),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:fe},fe))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:fe=>p(fe.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:vu.map(fe=>d.jsx("option",{value:fe.code,children:fe.name},fe.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((oe=vu.find(fe=>fe.code===h))==null?void 0:oe.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(vr,{theme:"snow",value:l.content[h]||"",onChange:fe=>{c(be=>({...be,content:{...be.content,[h]:fe}}))},modules:re})}),d.jsx("button",{type:"button",onClick:Pe,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:j,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),C&&R&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',R,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:F,onChange:fe=>P(fe.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:te,disabled:N,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[N?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:k,onChange:fe=>I(fe.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:X,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:Q,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),U&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:Z?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:G.map((fe,be)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>je(fe),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:fe})},be))})})]})})]})};var N2={exports:{}},QSe=N2.exports,zU;function ZSe(){return zU||(zU=1,(function(t,e){(function(n,r){r()})(QSe,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof vs=="object"&&vs.global===vs?vs:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var _=a.URL||a.webkitURL,x=_.createObjectURL(c);h?h.location=x:location.href=x,h=null,setTimeout(function(){_.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(N2)),N2.exports}var Od=ZSe();const e4e=[{dataType:"cafes",countryCode:"dz",fileName:"dz-cafes-public.json",label:"   (dz)"},{dataType:"services",countryCode:"dz",fileName:"dz-all-services-public.json",label:"   (dz)"},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json",label:"  ()"},{dataType:"pages",countryCode:"dz",fileName:"dz-pages-public.json",label:"   (dz)"},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json",label:"  "},{dataType:"ads",countryCode:"global",fileName:"ads-public.json",label:"  "},{dataType:"documents",countryCode:"global",fileName:"documents.json",label:"  (documents.json)"}],Os="https://gitut.com",ap=t=>t.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+</g,"><").replace(/\n/g,"").replace(/\s{2,}/g," "),Bn=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",HU=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",k2=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",r0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>'},hK=(t,e,n)=>{const r=od("ar"),i=encodeURIComponent(t),s=encodeURIComponent(e),a=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">${r("share.title")}</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${r0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${i}&description=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${r0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${r0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${i}&quote=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${r0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title="${r("share.copyDetails")}" data-title="${Bn(e)}" data-snippet="${Bn(a)}" data-url="${Bn(t)}">${r0.clipboard}</button>
        </div>
    `},t4e=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=HU(e),a=HU(n.replace(/<[^>]*>/g,"").substring(0,155)),o={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${o.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${o.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${o.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${o.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${Bn(s)}" data-snippet="${Bn(a)}" data-url="${Bn(t)}">${o.clipboard}</button>
        </div>
    `},n4e=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`,r4e=(t,e)=>{const n=t==="global"?`${Os}/`:`${Os}/${t}/`,r=t==="global"?`${Os}/dz/login/`:`${Os}/${t}/login/`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <script async src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff"><\/script>
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${n}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6">
                   <div class="gcse-search"></div>
                   <a href="${r}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a>
                </nav>
            </div>
        </header>
    `},i4e=(t,e,n,r,i,s)=>{var h,p;const a=t==="global"?"dz":t,o=((h=s==null?void 0:s.seo)==null?void 0:h[a])||((p=s==null?void 0:s.seo)==null?void 0:p.default),c=r.filter(v=>v.enabled&&(v.lang===e||!v.lang&&e==="ar")).map(v=>`<a href="${Os}/${a}/page/${v.slug}/" class="hover:text-green-600 hover:underline">${Bn(v.title)}</a>`).join("");return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${i.some(v=>v.enabled&&v.content&&v.content[e])?`<a href="${Os}/blog/" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:""}<a href="${Os}/${a}/services/" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${c}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${Bn((o==null?void 0:o.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},ng=({title:t,description:e,mainContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u=""})=>{var C,S;const f=i==="ar"?"rtl":"ltr",h=od(i),p=r4e(r,h),v=i4e(r,i,h,a,o,s),g=`
        <div class="flex flex-col min-h-screen">
            ${p}
            ${n}
            ${v}
        </div>
    `,y=((C=s==null?void 0:s.seo)==null?void 0:C[r])||((S=s==null?void 0:s.seo)==null?void 0:S.default),_=c||"https://file.gitut.com/data/image/icon.png",x=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,w=l?t4e(l.url,l.title,l.description):"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="https://file.gitut.com/data/image/icon.png">
            <title>${Bn(t)}</title>
            <meta name="description" content="${Bn(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${Bn(t)}">
            <meta property="og:description" content="${Bn(e)}">
            <meta property="og:image" content="${_}">
            <meta property="og:image:secure_url" content="${_}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${Bn((y==null?void 0:y.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${Bn(t)}">
            <meta name="twitter:description" content="${Bn(e)}">
            <meta name="twitter:image" content="${_}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${x}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${g}</div>
            ${w}
            ${n4e}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},GU=(t,e,n,r,i,s)=>{var f,h;const a=ad(e),o=od(a),l=t.filter(p=>p.serviceType==="doc"&&p.slug);t.filter(p=>p.serviceType==="static-doc"&&p.slug),t.filter(p=>p.serviceType==="site"&&p.slug);let c='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';return c+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${Bn(o("footer.services"))}</h1>`,c+='<div class="space-y-10">',c+=((p,v,g,y)=>{if(g.length===0)return"";let _=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${v}<span>${p}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return g.forEach(x=>{const w=`${Os}/${e}/${y}/${x.slug}/`,C="description"in x&&x.description?x.description:"";_+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${w}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${Bn(x.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${C}</div>
                    </a>
                </div>
                ${hK(w,x.name,C)}
            </div>`}),_+="</div></section>",_})(o("servicesListPage.fillableDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',l,"doc"),c+="</div></div></main>",ng({title:`${o("footer.services")} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:`        Gitut  ${e}.`,mainContent:c,countryCode:e,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},KU=(t,e,n,r,i)=>{var h,p;const s=ad(e),a=od(s),o=r.filter(v=>v.enabled&&v.id!==t.id&&(v.lang===s||!v.lang&&s==="ar")),l=e==="global"?"dz":e;let c="";o.length>0&&(c=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Bn(a("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${o.map(v=>`<a href="${Os}/${l}/page/${v.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${Bn(v.title)}</p></a>`).join("")}
                </div>
            </div>
        </aside>`);const u=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Bn(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${c}
        </div>
    </main>`,f=`${Os}/${e}/page/${t.slug}/`;return ng({title:`${t.title} | ${((p=(h=n==null?void 0:n.seo)==null?void 0:h[e])==null?void 0:p.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:u,countryCode:e,lang:s,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:f,title:t.title,description:t.content}})},XU=(t,e,n,r,i,s)=>{var p,v;const a=t.countryCode||"dz",o=ad(a),l=od(o),c=e.filter(g=>g.id!==t.id&&g.tags===t.tags).slice(0,5);let u="";c.length>0&&(u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${c.map(g=>`<a href="${Os}/${a}/doc/${g.slug}/" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${Bn(g.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in g&&g.description?g.description:""}</div>
                    </a>`).join("")}
                </div>
            </div>
            <div class="sticky top-24">${k2(s.find(g=>g.placement==="SITE_DETAIL_SIDEBAR"))}</div>
        </aside>`);const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${Bn(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${"description"in t&&t.description?t.description:""}</div>
                    <div class="my-6">${k2(s.find(g=>g.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${k2(s.find(g=>g.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="/view/${t.id}/" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700"></a>
                        <a href="/go-to-site/internal-form/?redirect=%2Fpublic-form%2F${t.id}%2F&name=${encodeURIComponent(` : ${t.name}`)}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700">/</a>
                    </div>
                </div>
            </div>
            ${u}
        </div>
    </main>`,h=`${Os}/${a}/doc/${t.slug}/`;return ng({title:`${t.name} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[a])==null?void 0:v.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:f,countryCode:a,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:h,title:t.name,description:"description"in t&&t.description?t.description:""}})},JU=(t,e,n,r,i)=>{var l,c;const s=Object.keys(Rr).find(u=>Rr[u].some(f=>ad(f.code)===n))||"dz",a=od(n),o=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-5xl mx-auto">
            <section class="text-center py-10 bg-white rounded-lg shadow-lg mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">${Bn(a("blog.title"))}</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">${Bn(a("blog.subtitle"))}</p>
            </section>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            ${t.map(u=>{const f=`${Os}/blog/${n==="ar"?"":n+"/"}${u.slug}/`,h=(u.publishedAt||u.createdAt).toDate().toLocaleDateString("ar-DZ"),p=(u.content[n]||"").replace(/<[^>]*>/g,"").substring(0,100)+"...";return`<article class="bg-white rounded-lg shadow-md overflow-hidden transition-shadow hover:shadow-xl flex flex-col group">
                    <div class="p-6 flex flex-col flex-grow">
                        <p class="text-sm text-gray-500 mb-2">${h}</p>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600"><a href="${f}">${Bn(u.title)}</a></h3>
                        <p class="text-gray-600 mb-4 flex-grow">${Bn(p)}</p>
                        <a href="${f}" class="font-semibold text-green-600 hover:underline mb-4">${a("blogPostCard.readMore")} &rarr;</a>
                        ${hK(f,u.title,p)}
                    </div>
                </article>`}).join("")}
            </div>
        </div>
    </main>`;return ng({title:`${a("footer.blog")} | ${((c=(l=e==null?void 0:e.seo)==null?void 0:l[s])==null?void 0:c.siteName)||"Gitut"}`,description:"           .",mainContent:o,countryCode:s,lang:n,siteSettings:e,pages:r,allBlogPosts:i})},YU=(t,e,n,r,i,s,a)=>{var v,g;const o=od(r),l=Object.keys(Rr).find(y=>Rr[y].some(_=>ad(_.code)===r))||"dz",c=t.tags?t.tags.split(",").map(y=>y.trim().toLowerCase()):[],u=e.filter(y=>y.id!==t.id&&y.tags&&y.tags.split(",").some(_=>c.includes(_.trim().toLowerCase()))).slice(0,5);let f="";u.length>0&&(f=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">  </h3>
                <div class="space-y-3">
                    ${u.map(y=>{const _=(y.publishedAt||y.createdAt).toDate().toLocaleDateString("ar-DZ");return`<a href="${Os}/blog/${r==="ar"?"":r+"/"}${y.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                            <p class="font-semibold text-gray-900 line-clamp-2">${Bn(y.title)}</p>
                            <p class="text-xs text-gray-500 mt-1">${_}</p>
                        </a>`}).join("")}
                </div>
                <div class="mt-4 pt-4 border-t">${k2(i.find(y=>y.placement==="BLOG_POST_SIDEBAR"))}</div>
            </div>
        </aside>`);const h=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                    <header class="mb-8 border-b pb-6">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Bn(t.title)}</h1>
                        <div class="mt-4 text-sm text-gray-500"><span>${o("blogPost.publishedOn")} ${(t.publishedAt||t.createdAt).toDate().toLocaleDateString("ar-DZ")}</span><span class="mx-2">|</span><span>${o("blogPost.by")} ${t.author}</span></div>
                    </header>
                    <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content[r]||""}</div>
                </article>
                ${f}
            </div>
        </div>
    </main>`,p=`${Os}/blog/${r==="ar"?"":r+"/"}${t.slug}/`;return ng({title:`${t.title} | ${((g=(v=n==null?void 0:n.seo)==null?void 0:v[l])==null?void 0:g.siteName)||"GITUT"}`,description:(t.content[r]||"").replace(/<[^>]*>/g,"").substring(0,160),mainContent:h,countryCode:l,lang:r,siteSettings:n,pages:s,allBlogPosts:a,socialShare:{url:p,title:t.title,description:t.content[r]||""}})},QU=(t,e,n,r)=>{var l,c;const i=t||"dz",s=ad(i),a=((l=e==null?void 0:e.seo)==null?void 0:l[i])||((c=e==null?void 0:e.seo)==null?void 0:c.default);let o=`<main class="flex-grow container mx-auto px-4 py-8">
        <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Bn((a==null?void 0:a.mainPageTitle)||"")}</h1>
          <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Bn((a==null?void 0:a.mainPageSubtitle)||"")}</p>
        </section>
        <div id="root-find-page" class="mt-8">
          <p class="text-center text-gray-500">   ...</p>
        </div>
      </main>`;return ng({title:`${a==null?void 0:a.siteName} | ${a==null?void 0:a.tagline}`,description:(a==null?void 0:a.metaDescription)||"",mainContent:o,countryCode:i,lang:s,siteSettings:e,pages:n,allBlogPosts:r,scripts:'<script type="module">import("/index.tsx");<\/script>'})},s4e=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(null),[i,s]=W.useState(!1),[a,o]=W.useState(""),[l,c]=W.useState(""),[u,f]=W.useState(!1),{codes:h,refetchAdminData:p,siteSettings:v,services:g,blogPosts:y,cafes:_,pages:x,ads:w}=sn(),[C,S]=W.useState(!1),[R,D]=W.useState(""),[k,I]=W.useState(!1),[F,P]=W.useState(""),[N,O]=W.useState(!1),[U,H]=W.useState(""),[G,J]=W.useState(!1),[Z,z]=W.useState(""),[Y,B]=W.useState(!1),[j,q]=W.useState(!1),[X,Q]=W.useState(""),[te,ae]=W.useState(!1),[ue,de]=W.useState(!1),[Se,Pe]=W.useState(!1),[pe,je]=W.useState(""),[V,xe]=W.useState(!1),[_e,le]=W.useState(""),[re,oe]=W.useState(!1),[fe,be]=W.useState(!1),[ie,ce]=W.useState(!1),me=W.useRef(null),ge=W.useRef(null),De=W.useRef(null),[Oe,Te]=W.useState(!1),[Ue,Le]=W.useState(!1),Je=W.useRef(null),lt=W.useRef(null),[ct,Bt]=W.useState(!1),[_n,dn]=W.useState(!1),ur=W.useRef(null),$n=W.useRef(null);W.useEffect(()=>{const Ie=qe=>{me.current&&!me.current.contains(qe.target)&&oe(!1),ge.current&&!ge.current.contains(qe.target)&&be(!1),De.current&&!De.current.contains(qe.target)&&ce(!1),Je.current&&!Je.current.contains(qe.target)&&Te(!1),lt.current&&!lt.current.contains(qe.target)&&Le(!1),ur.current&&!ur.current.contains(qe.target)&&Bt(!1),$n.current&&!$n.current.contains(qe.target)&&dn(!1)};return document.addEventListener("mousedown",Ie),()=>document.removeEventListener("mousedown",Ie)},[]);const[Ln,Sn]=W.useState({isOpen:!1,mode:"create",code:null}),[At,Zt]=W.useState({key:"",description:"",questionText:""}),[he,we]=W.useState(!1),[Me,Ge]=W.useState(""),ft=W.useMemo(()=>{const Ie=Object.entries(C2).map(([Ve,ot])=>({id:`const-${Ve}`,key:`[${Ve}]`,description:ot,isReadOnly:!0})),qe=h.map(Ve=>({...Ve,isReadOnly:!1})),st=new Set(Ie.map(Ve=>Ve.key)),tt=qe.filter(Ve=>!st.has(Ve.key));return[...Ie,...tt].sort((Ve,ot)=>Ve.key.localeCompare(ot.key))},[h]),It=async()=>{we(!0),Ge("     ...");try{await p(),Ge("   !")}catch(Ie){console.error("Manual data refresh failed:",Ie),Ge("  .")}finally{we(!1),setTimeout(()=>Ge(""),5e3)}},hn=async(Ie,qe,st)=>{e(st),o(""),c("");try{c(`(1/2) Generating data for ${st}...`);const tt=await xu(Ie,qe);if(Ie==="blog"){if(typeof tt!="object"||tt===null)throw new Error("Blog data generation returned an invalid format.");const Ve=Object.entries(tt).map(([ot,xt])=>({path:`dist/data/json/${ot}`,content:JSON.stringify(xt)}));if(Ve.length===0){c("     ."),e(null),setTimeout(()=>c(""),5e3);return}c(`(2/2) Publishing ${Ve.length} files to GitHub...`),await ll({files:Ve,commitMessage:"feat: Update public blog data"}),c(`  ${Ve.length}     GitHub!`)}else{const Ve=JSON.stringify(tt),ot=`dist/data/json/${st}`;c(`(2/2) Publishing ${st} to GitHub...`),await ll({files:[{path:ot,content:Ve}],commitMessage:`feat: Update ${st}`}),c(`  ${st}   GitHub!`)}}catch(tt){console.error(tt);const Ve=tt instanceof Error?tt.message:String(tt);o(`   ${st}. ${Ve}`)}finally{e(null),setTimeout(()=>{c(""),o("")},5e3)}},an=async(Ie,qe,st)=>{r(st),o("");try{const tt=await xu(Ie,qe);if(Ie==="blog"){const Ve=new Gd;Object.entries(tt).forEach(([xt,Lt])=>{Ve.file(xt,JSON.stringify(Lt))});const ot=await Ve.generateAsync({type:"blob"});Od.saveAs(ot,"gitut-blog-data.zip")}else{const Ve=new Blob([JSON.stringify(tt)],{type:"application/json"});Od.saveAs(Ve,st)}}catch(tt){console.error(tt);const Ve=tt instanceof Error?tt.message:String(tt);o(`   ${st}. ${Ve}`)}finally{r(null)}},dr=async Ie=>{s(!0),o("");try{await Ome(Ie)}catch(qe){console.error(qe),o(`Failed to generate zip file for ${Ie}.`)}finally{s(!1)}},jn=async()=>{f(!0),o(""),c("");try{const Ie="https://gitut.com",qe=[],st=[],tt=zt=>{let on=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;return zt.forEach(ln=>{on+=`  <url><loc>${ln}</loc></url>
`}),on+="</urlset>",on};c("Generating core pages sitemap...");const Ve=new Set,ot=Rr.en.map(zt=>zt.code);Ve.add(Ie+"/"),ot.forEach(zt=>{Ve.add(`${Ie}/${zt}/`),Ve.add(`${Ie}/${zt}/find-cafe`)}),x.forEach(zt=>{zt.enabled&&zt.slug&&ot.forEach(on=>{Ve.add(`${Ie}/${on}/page/${zt.slug}`)})}),_.forEach(zt=>{zt.isProfilePublished&&zt.numericId&&Ve.add(`${Ie}/${zt.countryCode}/profile/${zt.numericId}`)});const xt=tt(Ve);qe.push({path:"dist/sitemap-pages.xml",content:xt}),st.push(`<sitemap><loc>${Ie}/sitemap-pages.xml</loc></sitemap>`),c("Generating service sitemaps...");const Lt=g.reduce((zt,on)=>{const ln=on.countryCode||"dz";return zt[ln]||(zt[ln]=[]),zt[ln].push(on),zt},{});for(const zt in Lt){const on=new Set;on.add(`${Ie}/${zt}/services/`),Lt[zt].forEach(En=>{if(En.slug){const zs=En.serviceType==="site"?"site":"doc";on.add(`${Ie}/${zt}/${zs}/${En.slug}/`)}});const ln=tt(on),$s=`dist/sitemap-services-${zt}.xml`;qe.push({path:$s,content:ln}),st.push(`<sitemap><loc>${Ie}/sitemap-services-${zt}.xml</loc></sitemap>`)}c("Generating blog sitemaps...");const qt=y.reduce((zt,on)=>(on.enabled&&on.content&&Object.keys(on.content).forEach(ln=>{zt[ln]||(zt[ln]=[]),zt[ln].push(on)}),zt),{});for(const zt in qt){const on=new Set,ln=zt==="ar"?"":`/${zt}`;on.add(`${Ie}/blog${ln}/`),qt[zt].forEach(zs=>{zs.slug&&on.add(`${Ie}/blog${ln}/${zs.slug}/`)});const $s=tt(on),En=`dist/sitemap-blog-${zt}.xml`;qe.push({path:En,content:$s}),st.push(`<sitemap><loc>${Ie}/sitemap-blog-${zt}.xml</loc></sitemap>`)}c("Generating sitemap index file...");const rr=`<?xml version="1.0" encoding="UTF-8"?>
<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${st.join(`
  `)}
</sitemapindex>`;qe.push({path:"dist/sitemap.xml",content:rr}),c(`Uploading ${qe.length} sitemap files to GitHub...`),await ll({files:qe,commitMessage:"feat: Update sitemaps (index, pages, services, blog)",repoConfig:{owner:"gitut-cms",repo:"sitemap"}}),c(`Successfully published ${qe.length} sitemap files!`)}catch(Ie){console.error("Sitemap publishing failed:",Ie);const qe=Ie instanceof Error?Ie.message:"An unknown error occurred.";o(`    Sitemap: ${qe}`)}finally{f(!1),setTimeout(()=>{c(""),o("")},8e3)}},Jr=async()=>{S(!0),D("");try{const{newVersion:Ie}=await Pme();D(`      ${Ie}.      .`)}catch(Ie){const qe=Ie instanceof Error?Ie.message:"An unknown error occurred.";D(`: ${qe}`)}finally{S(!1)}},Yr=async Ie=>{I(!0),P("   ...");try{const qe=[];let st=g.filter(Ve=>Ve.slug);Ie==="global"?st=st.filter(Ve=>!Ve.countryCode):Ie&&(st=st.filter(Ve=>Ve.countryCode===Ie));const tt=st.reduce((Ve,ot)=>{const xt=ot.countryCode||"global";return Ve[xt]||(Ve[xt]=[]),Ve[xt].push(ot),Ve},{});for(const Ve in tt){const ot=Ve==="global",xt=tt[Ve],Lt=GU(xt,Ve,v,x,y,w),qt=ot?"dist/services/index.html":`dist/${Ve}/services/index.html`;qe.push({path:qt,content:ap(Lt)});for(const rr of xt){const zt=XU(rr,g,v,x,y,w),on=rr.serviceType==="site"?"site":"doc",ln=ot?`dist/${on}/${rr.slug}/index.html`:`dist/${Ve}/${on}/${rr.slug}/index.html`;qe.push({path:ln,content:ap(zt)})}}qe.length===0?P("    ."):(P(` ${qe.length}   GitHub...`),await ll({files:qe,commitMessage:"feat: Regenerate static service pages"}),P(`  ${qe.length}   !`))}catch(qe){console.error(qe);const st=qe instanceof Error?qe.message:String(qe);P(`: ${st}`)}finally{I(!1),setTimeout(()=>P(""),8e3)}},oi=async Ie=>{O(!0),H("");try{const qe=new Gd;let st=g.filter(xt=>xt.slug);Ie==="global"?st=st.filter(xt=>!xt.countryCode):Ie&&(st=st.filter(xt=>xt.countryCode===Ie));const tt=st.reduce((xt,Lt)=>{const qt=Lt.countryCode||"global";return xt[qt]||(xt[qt]=[]),xt[qt].push(Lt),xt},{});for(const xt in tt){const Lt=xt==="global",qt=tt[xt],rr=Lt?qe:qe.folder(xt);if(!rr)continue;for(const ln of qt){const $s=XU(ln,g,v,x,y,w),En=rr.folder(ln.serviceType==="site"?"site":"doc"),zs=En==null?void 0:En.folder(ln.slug);zs==null||zs.file("index.html",$s)}const zt=GU(qt,xt,v,x,y,w),on=rr.folder("services");on==null||on.file("index.html",zt)}const Ve=await qe.generateAsync({type:"blob"}),ot=Ie?`gitut-service-pages-${Ie}.zip`:"gitut-service-pages-all.zip";Od.saveAs(Ve,ot)}catch(qe){console.error(qe),H("    ZIP.")}finally{O(!1)}},ye=async Ie=>{e("documents"),o(""),c("");try{c(`Generating document files for ${Ie==="global"?"All Countries":Ie}...`);const st=await xu("services",Ie==="global"?"global":Ie),{mainData:tt,extraFiles:Ve}=st,ot=[];Ie!=="global"?ot.push({path:`data/json/${Ie}-all-services-public.json`,content:JSON.stringify(tt)}):ot.push({path:"data/json/all-services-public.json",content:JSON.stringify(tt)}),Ve&&Array.isArray(Ve)&&Ve.forEach(xt=>{ot.push({path:xt.path,content:JSON.stringify(xt.data)})}),c(`Uploading ${ot.length} files to GitHub...`),await ll({files:ot,commitMessage:`feat: Publish documents for ${Ie}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),c(`Successfully published documents for ${Ie}!`)}catch(qe){console.error(qe);const st=qe instanceof Error?qe.message:String(qe);o(`Failed to publish documents: ${st}`)}finally{e(null),Te(!1),setTimeout(()=>{c(""),o("")},5e3)}},ke=async Ie=>{r(`docs-json-${Ie}`),o("");try{const qe=new Gd,tt=await xu("services",Ie==="global"?"global":Ie),{mainData:Ve,extraFiles:ot}=tt;Ie!=="global"?qe.file(`${Ie}-all-services-public.json`,JSON.stringify(Ve,null,2)):qe.file("all-services-public.json",JSON.stringify(Ve,null,2)),ot&&Array.isArray(ot)&&ot.forEach(Lt=>{const qt=Lt.path.replace("data/json/","");qe.file(qt,JSON.stringify(Lt.data,null,2))});const xt=await qe.generateAsync({type:"blob"});Od.saveAs(xt,`services-json-${Ie}.zip`)}catch(qe){console.error(qe),o("    ZIP .")}finally{r(null),Le(!1)}},Ce=async Ie=>{J(!0),z(Ie?`    : ${Ie}`:"   ...");try{const qe=[],st=y.filter(Ve=>Ve.enabled&&Ve.slug);for(const Ve of st)if(Ve.content)for(const ot in Ve.content){if(Ie&&ot!==Ie)continue;const xt=YU(Ve,y,v,ot,w,x,y),qt=`dist/blog/${ot==="ar"?"":`${ot}/`}${Ve.slug}/index.html`;qe.push({path:qt,content:ap(xt)})}const tt=st.reduce((Ve,ot)=>(ot.content&&Object.keys(ot.content).forEach(xt=>{Ie&&xt!==Ie||(Ve[xt]||(Ve[xt]=[]),Ve[xt].push(ot))}),Ve),{});for(const Ve in tt){const ot=JU(tt[Ve],v,Ve,x,y),xt=`dist/blog/${Ve==="ar"?"index.html":`${Ve}/index.html`}`;qe.push({path:xt,content:ap(ot)})}qe.length===0?z("      ."):(z(` ${qe.length}   GitHub...`),await ll({files:qe,commitMessage:`feat: Regenerate static blog pages${Ie?` for ${Ie}`:""}`}),z(`  ${qe.length}   !`))}catch(qe){console.error(qe);const st=qe instanceof Error?qe.message:String(qe);z(`: ${st}`)}finally{J(!1),setTimeout(()=>z(""),8e3)}},Ae=async()=>{B(!0);try{const Ie=new Gd,qe=Ie.folder("blog");if(!qe)throw new Error("Could not create blog folder in zip");const st=y.filter(ot=>ot.enabled&&ot.slug);for(const ot of st)if(ot.content)for(const xt in ot.content){const Lt=YU(ot,y,v,xt,w,x,y),qt=xt==="ar"?qe:qe.folder(xt),rr=qt==null?void 0:qt.folder(ot.slug);rr==null||rr.file("index.html",Lt)}const tt=st.reduce((ot,xt)=>(xt.content&&Object.keys(xt.content).forEach(Lt=>{ot[Lt]||(ot[Lt]=[]),ot[Lt].push(xt)}),ot),{});for(const ot in tt){const xt=JU(tt[ot],v,ot,x,y);if(ot==="ar")qe.file("index.html",xt);else{const Lt=qe.folder(ot);Lt==null||Lt.file("index.html",xt)}}const Ve=await Ie.generateAsync({type:"blob"});Od.saveAs(Ve,"gitut-blog-pages.zip")}catch(Ie){console.error(Ie)}finally{B(!1)}},Ne=async()=>{q(!0),Q("   ...");try{const Ie=[],qe=Rr.en.map(st=>st.code);for(const st of x)if(st.enabled&&st.slug)for(const tt of qe){const Ve=KU(st,tt,v,x,y),ot=`dist/${tt}/page/${st.slug}/index.html`;Ie.push({path:ot,content:ap(Ve)})}Ie.length===0?Q("    ."):(Q(` ${Ie.length/qe.length}  ( )  GitHub...`),await ll({files:Ie,commitMessage:"feat: Regenerate static site pages"}),Q(`  ${Ie.length}  !`))}catch(Ie){console.error(Ie);const qe=Ie instanceof Error?Ie.message:String(Ie);Q(`: ${qe}`)}finally{q(!1),setTimeout(()=>Q(""),8e3)}},Re=async()=>{var Ie;ae(!0);try{const qe=new Gd,st=Rr.en.map(Ve=>Ve.code);for(const Ve of x)if(Ve.enabled&&Ve.slug)for(const ot of st){const xt=KU(Ve,ot,v,x,y),Lt=qe.folder(ot);if(!Lt)continue;const qt=(Ie=Lt.folder("page"))==null?void 0:Ie.folder(Ve.slug);qt==null||qt.file("index.html",xt)}const tt=await qe.generateAsync({type:"blob"});Od.saveAs(tt,"gitut-static-pages.zip")}catch(qe){console.error(qe)}finally{ae(!1)}},$e=async()=>{de(!0),je("Generating homepage files...");try{const Ie=[],st=[null,...Rr.en.map(tt=>tt.code)];for(const tt of st){const Ve=QU(tt,v,x,y),ot=tt?`dist/${tt}/index.html`:"dist/index.html";Ie.push({path:ot,content:ap(Ve)})}je(`Uploading ${Ie.length} files to GitHub...`),await ll({files:Ie,commitMessage:"feat: Regenerate static homepages"}),je(`Successfully published ${Ie.length} homepages!`)}catch(Ie){console.error("Homepage publishing failed:",Ie),je(`: ${Ie.message}`)}finally{de(!1),setTimeout(()=>je(""),8e3)}},rt=async()=>{Pe(!0),je("");try{const Ie=new Gd,st=[null,...Rr.en.map(Ve=>Ve.code)];for(const Ve of st){const ot=QU(Ve,v,x,y),xt=Ve?`${Ve}/index.html`:"index.html";Ie.file(xt,ot)}const tt=await Ie.generateAsync({type:"blob"});Od.saveAs(tt,"gitut-homepages.zip")}catch(Ie){console.error("Homepage download failed:",Ie),je(`: ${Ie.message}`)}finally{Pe(!1)}},Xe=Ie=>{Ie?(Zt({key:Ie.key,description:Ie.description,questionText:Ie.questionText||""}),Sn({isOpen:!0,mode:"edit",code:Ie})):(Zt({key:"",description:"",questionText:""}),Sn({isOpen:!0,mode:"create",code:null}))},Ye=async Ie=>{Ie.preventDefault();const qe={...At,key:`[${At.key.replace(/\[|\]/g,"")}]`};try{Ln.mode==="create"?await X0.create(qe):Ln.code&&await X0.update(Ln.code.id,qe),await p(),Sn({isOpen:!1,mode:"create",code:null})}catch(st){console.error(st),alert("  .")}},Ze=async Ie=>{window.confirm("  ")&&(await X0.delete(Ie),await p())};return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-blue-200",children:[d.jsxs("span",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[d.jsx(Yme,{className:"text-blue-500"}),"   (JSON)"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative",ref:lt,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>ke("global"),disabled:!!n&&n.startsWith("docs-json"),className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[n!=null&&n.startsWith("docs-json")?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Ta,{}),d.jsx("span",{children:"ZIP"})]}),d.jsx("button",{onClick:()=>Le(!Ue),className:"bg-gray-700 text-white font-semibold py-1 px-2 rounded-l-md hover:bg-gray-800 text-sm border-r border-gray-500",children:d.jsx(Nx,{})})]}),Ue&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:Rr.en.map(Ie=>d.jsxs("button",{onClick:()=>ke(Ie.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[Ie.flag," ",Ie.name]},Ie.code))})]}),d.jsxs("div",{className:"relative",ref:Je,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>ye("global"),disabled:!!t,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t==="documents"?d.jsx(Ct,{className:"animate-spin"}):d.jsx(bC,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:()=>Te(!Oe),disabled:!!t,className:"bg-blue-700 text-white font-semibold py-1 px-2 rounded-l-md hover:bg-blue-800 disabled:bg-gray-500 text-sm border-r border-blue-500",children:d.jsx(Nx,{})})]}),Oe&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:Rr.en.map(Ie=>d.jsxs("button",{onClick:()=>ye(Ie.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[Ie.flag," ",Ie.name]},Ie.code))})]})]})]}),d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-green-200",children:[d.jsxs("span",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[d.jsx(zy,{className:"text-green-500"}),"   (HTML)"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative",ref:$n,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>oi("global"),disabled:N,className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[N?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Ta,{}),d.jsx("span",{children:"ZIP"})]}),d.jsx("button",{onClick:()=>dn(!_n),className:"bg-gray-700 text-white font-semibold py-1 px-2 rounded-l-md hover:bg-gray-800 text-sm border-r border-gray-500",children:d.jsx(Nx,{})})]}),_n&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:Rr.en.map(Ie=>d.jsxs("button",{onClick:()=>oi(Ie.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[Ie.flag," ",Ie.name]},Ie.code))})]}),d.jsxs("div",{className:"relative",ref:ur,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>Yr("global"),disabled:k,className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-green-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[k?d.jsx(Ct,{className:"animate-spin"}):d.jsx(bC,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:()=>Bt(!ct),disabled:k,className:"bg-green-700 text-white font-semibold py-1 px-2 rounded-l-md hover:bg-green-800 disabled:bg-gray-500 text-sm border-r border-green-500",children:d.jsx(Nx,{})})]}),ct&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:Rr.en.map(Ie=>d.jsxs("button",{onClick:()=>Yr(Ie.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[Ie.flag," ",Ie.name]},Ie.code))})]})]})]}),e4e.map(Ie=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:Ie.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>an(Ie.dataType,Ie.countryCode,Ie.fileName),disabled:!!t||n===Ie.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:n===Ie.fileName?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Ta,{})}),d.jsxs("button",{onClick:()=>hn(Ie.dataType,Ie.countryCode,Ie.fileName),disabled:!!t||!!n,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t===Ie.fileName?d.jsx(Ct,{className:"animate-spin"}):d.jsx(bC,{}),d.jsx("span",{children:""})]})]})]},Ie.fileName))]}),l&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:l}),a&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:a}),F&&d.jsx("p",{className:"text-blue-600 text-sm mt-2",children:F}),U&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:U})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"    ZIP"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"        (JSON  PDF)       ."}),d.jsxs("div",{className:"relative",ref:ge,children:[d.jsxs("button",{onClick:()=>be(Ie=>!Ie),className:"w-full bg-gray-700 text-white font-bold py-3 px-5 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",disabled:i,children:[i?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Ta,{}),d.jsx("span",{children:i?" ...":"  "}),d.jsx(HA,{})]}),fe&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsx("ul",{className:"py-1 max-h-60 overflow-y-auto",children:Rr.en.map(Ie=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>dr(Ie.code),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:Ie.flag}),d.jsx("span",{children:Ie.name})]})},Ie.code))})})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:rt,disabled:ue||Se,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Ta,{})}),d.jsx("button",{onClick:$e,disabled:ue||Se,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:ue?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:()=>oi(),disabled:k||N,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Ta,{})}),d.jsx("button",{onClick:()=>Yr(),disabled:k||N,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:k?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:""}),d.jsx("button",{onClick:Ae,disabled:G||Y,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Ta,{})}),d.jsxs("div",{className:"relative",ref:De,children:[d.jsxs("div",{className:"flex",children:[d.jsx("button",{onClick:()=>Ce(),disabled:G||Y,className:"bg-green-600 text-white font-bold py-3 px-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:G?d.jsx(Ct,{className:"animate-spin"}):" "}),d.jsx("button",{onClick:()=>ce(!ie),disabled:G||Y,className:"bg-green-700 text-white font-bold py-3 px-2 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(HA,{})})]}),ie&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:vu.map(Ie=>d.jsxs("button",{onClick:()=>{Ce(Ie.code),ce(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[" ",Ie.name]},Ie.code))})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:Re,disabled:j||te,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Ta,{})}),d.jsx("button",{onClick:Ne,disabled:j||te,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:j?d.jsx(Ct,{className:"animate-spin"}):""})]})]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500",children:"     HTML    GitHub    ZIP."}),F&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:F}),pe&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:pe}),Z&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:Z}),X&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:X})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("button",{onClick:Jr,disabled:C,className:"bg-yellow-500 text-white font-bold p-4 rounded-lg hover:bg-yellow-600 disabled:bg-gray-400",children:C?d.jsx(Ct,{className:"animate-spin"}):"  "}),d.jsx("button",{onClick:jn,disabled:u,className:"bg-blue-500 text-white font-bold p-4 rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:u?d.jsx(Ct,{className:"animate-spin"}):" Sitemap.xml"}),d.jsx("button",{onClick:It,disabled:he,className:"bg-indigo-500 text-white font-bold p-4 rounded-lg hover:bg-indigo-600 disabled:bg-gray-400",children:he?d.jsx(Ct,{className:"animate-spin"}):"  "})]}),R&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-700",children:R}),Me&&d.jsx("p",{className:"text-center mt-2 text-sm text-indigo-700",children:Me})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"  (Placeholders)"}),d.jsxs("button",{onClick:()=>Xe(null),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(lc,{}),"  "]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""})]})}),d.jsx("tbody",{children:ft.map(Ie=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 border-b font-mono text-gray-700",children:Ie.key}),d.jsx("td",{className:"p-2 border-b text-gray-600",children:Ie.description}),d.jsx("td",{className:"p-2 border-b",children:Ie.isReadOnly?d.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[d.jsx(qH,{}),""]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Xe(Ie),className:"text-blue-600 hover:underline",children:d.jsx(_w,{})}),d.jsx("button",{onClick:()=>Ze(Ie.id),className:"text-red-600 hover:underline",children:d.jsx(Jm,{})})]})})]},Ie.id))})]})})]})]}),Ln.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:Ye,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:Ln.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",value:At.key.replace(/\[|\]/g,""),onChange:Ie=>Zt(qe=>({...qe,key:Ie.target.value})),required:!0,className:"w-full p-2 border rounded-md",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:At.description,onChange:Ie=>Zt(qe=>({...qe,description:Ie.target.value})),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),d.jsx("input",{type:"text",value:At.questionText||"",onChange:Ie=>Zt(qe=>({...qe,questionText:Ie.target.value})),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>Sn({isOpen:!1,mode:"create",code:null}),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})})]})};if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const i0={siteId:"",siteName:"",siteUrl:"",fields:[]},ZU=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),a4e=()=>{var J;const{sites:t}=sn(),[e,n]=W.useState(t),[r,i]=W.useState({isOpen:!1,mode:"create",site:null}),[s,a]=W.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:i0}),[o,l]=W.useState(!1),[c,u]=W.useState(`[
  
]`),[f,h]=W.useState(""),[p,v]=W.useState(!1),[g,y]=W.useState("builder"),[_,x]=W.useState(""),[w,C]=W.useState("");W.useEffect(()=>{n(t)},[t]),W.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{x(JSON.stringify(s.jsonTemplate||i0,null,2)),C("")}catch{x("{}"),C("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const S=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:i0}),i({isOpen:!0,mode:"create",site:null})},R=Z=>{y("builder");const z=Z.jsonTemplate||{...i0,siteName:Z.name,siteUrl:Z.url,siteId:Z.id};a({...Z,countryCode:Z.countryCode||"",description:Z.description||"",tags:Z.tags||"",slug:Z.slug||"",jsonTemplate:z}),x(JSON.stringify(z,null,2)),i({isOpen:!0,mode:"edit",site:Z})},D=()=>{i({isOpen:!1,mode:"create",site:null})},k=(Z,z,Y)=>{a(B=>{var q;const j=[...((q=B.jsonTemplate)==null?void 0:q.fields)||[]];return j[Z]={...j[Z],[z]:Y},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},I=()=>{a(Z=>{var z;return{...Z,jsonTemplate:{...Z.jsonTemplate,fields:[...((z=Z.jsonTemplate)==null?void 0:z.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},F=Z=>{a(z=>{var Y;return{...z,jsonTemplate:{...z.jsonTemplate,fields:(((Y=z.jsonTemplate)==null?void 0:Y.fields)||[]).filter((B,j)=>j!==Z)}}})},P=Z=>{const z=Z.target.value;x(z);try{const Y=JSON.parse(z);if(typeof Y!="object"||Y===null){C("Input must be a valid JSON object.");return}let B,j=!1;Y.jsonTemplate&&typeof Y.jsonTemplate=="object"&&Array.isArray(Y.jsonTemplate.fields)?(B=Y.jsonTemplate,j=!0):Array.isArray(Y.fields)&&(B=Y),B?(a(j?q=>({...q,name:Y.name||q.name,url:Y.url||q.url,countryCode:Y.countryCode||q.countryCode,type:Y.type==="template"?"template":q.type,description:Y.description||q.description,tags:Y.tags||q.tags,jsonTemplate:B}):q=>({...q,jsonTemplate:B})),C("")):C('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{C("Invalid JSON format.")}},N=async Z=>{var B,j,q;if(Z.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let z=ZU(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Q=>Q.slug===z)){if(!window.confirm("     (    ).        "))return;z=`${z}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Q=>Q.url===s.url)&&!window.confirm("    .      "))return;const Y={...s,slug:z,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||i0,siteName:s.name,siteUrl:s.url,siteId:((q=r.site)==null?void 0:q.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};Y.type==="static"&&(Y.jsonTemplate=void 0),r.mode==="create"?(await cf.create(Y),n(X=>[...X,{...Y,id:Y.name}])):r.site&&(await cf.update(r.site.id,Y),n(X=>X.map(Q=>Q.id===r.site.id?{...Y,id:r.site.id}:Q))),alert(" .       ."),D()},O=Z=>{window.confirm("        ")&&(cf.delete(Z),n(z=>z.filter(Y=>Y.id!==Z)))},U=async()=>{h(""),v(!0);let Z=0;try{const z=JSON.parse(c);if(!Array.isArray(z))throw new Error("The provided input must be a valid JSON array.");for(const Y of z){if(!Y.name||!Y.url||!Y.type){console.warn("Skipping invalid site object in bulk add:",Y);continue}const B={...Y,slug:ZU(Y.name)};await cf.create(B),n(j=>[...j,{...B,id:B.name}]),Z++}alert(`  ${Z}  .`),l(!1),u(`[
  
]`)}catch(z){h(`: ${z.message}`)}finally{v(!1)}},H=Object.keys(ni);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:S,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(Z=>{var z,Y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:Z.name}),d.jsx("td",{className:"p-3 text-gray-600",children:Z.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:Z.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:Z.type==="template"?`${((Y=(z=Z.jsonTemplate)==null?void 0:z.fields)==null?void 0:Y.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[Z.slug&&d.jsx("a",{href:`/${Z.countryCode||"dz"}/site/${Z.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>R(Z),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>O(Z.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},Z.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:Z=>u(Z.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:U,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(Ct,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:N,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:Z=>a(z=>({...z,type:Z.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:Z=>a(z=>({...z,countryCode:Z.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:Z=>a(z=>({...z,name:Z.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:Z=>a(z=>({...z,url:Z.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(vr,{theme:"snow",value:s.description||"",onChange:Z=>a(z=>({...z,description:Z})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:Z=>a(z=>({...z,tags:Z.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((J=s.jsonTemplate)==null?void 0:J.fields)||[]).map((Z,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>F(z),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:Z.label,onChange:Y=>k(z,"label",Y.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:Z.fieldId,onChange:Y=>k(z,"fieldId",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:H.map(Y=>d.jsx("option",{value:Y,children:ni[Y].label},Y))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:Z.cssSelector,onChange:Y=>k(z,"cssSelector",Y.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:Z.action,onChange:Y=>k(z,"action",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:Z.type,onChange:Y=>k(z,"type",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},z)),d.jsxs("button",{type:"button",onClick:I,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(lc,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:_,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:D,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},pK=window.SpeechRecognition||window.webkitSpeechRecognition,o4=!!pK,mK=({formFields:t,onFieldUpdate:e})=>{const[n,r]=W.useState("idle"),[i,s]=W.useState(""),[a,o]=W.useState(!1),[l,c]=W.useState(null),[u,f]=W.useState("ar-SA"),[h,p]=W.useState("voice"),[v,g]=W.useState(""),y=W.useRef(null),_=W.useRef(""),x=W.useRef(n);W.useEffect(()=>{x.current=n},[n]);const w=W.useRef(e);w.current=e;const C=async P=>{if(P.trim()){o(!0),c(null);try{const N=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,U=await Sge(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},N);Array.isArray(U)&&U.length>0?w.current(U):console.log("AI did not find any fields to update from transcript:",P)}catch(N){console.error("Error processing transcript with AI:",N);const O=N instanceof Error?N.message:"An unknown error occurred.";c(`  : ${O}`)}finally{o(!1)}}};W.useEffect(()=>{if(!o4)return;const P=new pK;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=N=>{let O="";for(let U=N.resultIndex;U<N.results.length;++U)N.results[U].isFinal?_.current+=N.results[U][0].transcript+" ":O+=N.results[U][0].transcript;s(_.current+O)},P.onerror=N=>{console.error("Speech recognition error:",N.error),c(`  : ${N.error}`),r("idle")},P.onend=()=>{x.current==="recording"&&r("paused")},()=>{P.abort()}},[o4]);const S=()=>{y.current&&(_.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},R=()=>{y.current&&(r("paused"),y.current.stop())},D=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},k=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await C(i),s(""),_.current="")},I=async()=>{v.trim()&&(await C(v),g(""))},F=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(sge,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:k,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Y0,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:D,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx($H,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:k,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Y0,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:S,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(_c,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(_c,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(VH,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:o4?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:F()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:I,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Y0,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},o4e=()=>{const{siteId:t}=ha(),e=Si(),{user:n}=Nr(),{sites:r,cafes:i,siteSettings:s,loading:a}=sn(),o=W.useMemo(()=>r.find(F=>F.id===t),[t,r]),l=W.useMemo(()=>i.find(F=>F.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=W.useState({}),[h,p]=W.useState(null),[v,g]=W.useState(""),[y,_]=W.useState(!0);W.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const x=(F,P)=>{f(N=>({...N,[F]:P}))},w=F=>{const P={...u};F.forEach(({fieldId:N,value:O})=>{P[N]=O}),f(P)},C=F=>{var O;const P=(O=F.target.files)==null?void 0:O[0];if(!P)return;g("");const N=new FileReader;N.onload=U=>{var H;try{const G=(H=U.target)==null?void 0:H.result,J=JSON.parse(G);if(J&&J.siteId&&Array.isArray(J.fields))p(J);else throw new Error("Invalid JSON structure.")}catch(G){g("   .     JSON   ."),console.error(G)}},N.onerror=()=>{g("    .")},N.readAsText(P)},S=async F=>{if(F.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,N=await eI(n,P);if(!N.success){alert(N.message),e(`/${n.countryCode}/app/billing`);return}if(y){const H={},G=c==="json"?h==null?void 0:h.fields.map(J=>({id:J.fieldId,label:J.label})):o==null?void 0:o.templateFields;G&&(G.forEach(J=>{const Z=J.id;Object.keys(ni).includes(Z)&&(H[Z]=u[Z])}),Object.keys(H).length>0&&xp.create(H))}const O={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(O,"*"),window.open(o.url,"_blank");const U=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${U}  .       .    .`),f({})},R=W.useMemo(()=>c==="json"&&h?h.fields.map(F=>({id:F.fieldId,label:F.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(F=>({id:F.id,label:F.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(nn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const D=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,k=(n==null?void 0:n.credits.currency)==="USD"?"$":"",I=()=>{var F;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:N=>x(N.target.name,N.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(F=o.templateFields)==null?void 0:F.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:N=>x(N.target.name,N.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[D," ",k]})]})]}),d.jsx(nn,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(Zme,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:C,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(mK,{formFields:R,onFieldUpdate:w}),I(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:F=>_(F.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const Ox=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),l4e={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},c4e=()=>{const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=sn(),[i,s]=W.useState([]);Si();const{t:a}=Ai(),[o,l]=W.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=W.useState({}),[f,h]=W.useState(!1),[p,v]=W.useState(""),[g,y]=W.useState(""),[_,x]=W.useState({preview:"",final:""}),[w,C]=W.useState({isOpen:!1,doc:null}),[S,R]=W.useState({}),[D,k]=W.useState({preview:"upload",final:"upload"}),[I,F]=W.useState({preview:"",final:""}),[P,N]=W.useState(!1),O=W.useRef(null),U=W.useRef(null),[H,G]=W.useState(!1),[J,Z]=W.useState(""),[z,Y]=W.useState("");W.useEffect(()=>{const ce=[...t].sort((me,ge)=>me.name.localeCompare(ge.name)).filter(me=>me.name.toLowerCase().includes(g.toLowerCase())||me.description.toLowerCase().includes(g.toLowerCase())||me.id.toLowerCase().includes(g.toLowerCase()));s(ce)},[t,g]);const B=async()=>{await r()},j=async ie=>{if(window.confirm("              ."))try{await ml.delete(ie),await B(),alert("   .")}catch(ce){console.error("Failed to delete document:",ce),alert("  .")}},q=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),k({preview:"upload",final:"upload"}),F({preview:"",final:""}),x({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},X=async ie=>{u({...ie});const ce={preview:"upload",final:"upload"},me={preview:ie.previewTemplateHtml||"",final:ie.finalTemplateHtml||""};ie.previewTemplateHtml&&(ce.preview="code"),ie.finalTemplateHtml&&(ce.final="code"),F(me),k(ce),x({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:ie}),v("")},Q=()=>{l({isOpen:!1,mode:"create",doc:null})},te=ie=>{const{name:ce,value:me}=ie.target;u(ge=>({...ge,[ce]:me}))},ae=async(ie,ce)=>{var De;const me=(De=ie.target.files)==null?void 0:De[0];if(!me)return;const ge=new FileReader;ge.onload=Oe=>{var Ue;const Te=(Ue=Oe.target)==null?void 0:Ue.result;x(Le=>({...Le,[ce]:Te})),F(Le=>({...Le,[ce]:Te}))},ge.readAsText(me)},ue=async ie=>{var ce,me,ge;ie.preventDefault(),h(!0);try{const De={...c},Oe=Le=>Le.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let Te="";D.preview==="code"?Te=I.preview:_.preview&&(Te=_.preview),Te&&(De.previewTemplateHtml=Oe(Te),De.previewTemplateUrl="");let Ue="";if(D.final==="code"?Ue=I.final:_.final&&(Ue=_.final),Ue?(De.finalTemplateHtml=Oe(Ue),De.finalTemplateUrl="",De.requiredFields=J0(Ue)):De.finalTemplateHtml&&(De.requiredFields=J0(De.finalTemplateHtml)),De.slug=(ce=c.slug)!=null&&ce.trim()?Ox(c.slug):Ox(c.name||""),o.mode==="create"){const Le=((me=c.id)==null?void 0:me.trim())||((ge=c.groupId)==null?void 0:ge.trim())||De.slug;De.id=Le,De.groupId||(De.groupId=Le),await ml.create(De)}else o.doc&&await ml.update(o.doc.id,De);await B(),alert("   !"),Q()}catch(De){console.error("Failed to save document:",De),alert("  .")}finally{h(!1)}},de=async()=>{var ie;if(!((ie=c.name)!=null&&ie.trim())){alert("      .");return}N(!0);try{const ce=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,ge=(await uc({model:"gemini-2.5-flash",contents:ce})).text||"";u(De=>({...De,description:ge}))}catch(ce){console.error("AI description generation failed:",ce),alert("    .")}finally{N(!1)}},Se=ie=>{R(ie.fieldCustomizations||{}),C({isOpen:!0,doc:ie})},Pe=()=>{C({isOpen:!1,doc:null}),R({})},pe=(ie,ce,me)=>{R(ge=>({...ge,[ie]:{...ge[ie]||{type:"text"},[ce]:me}}))},je=(ie,ce,me)=>{R(ge=>{var Oe;const De=[...((Oe=ge[ie])==null?void 0:Oe.options)||[]];return De[ce]=me,{...ge,[ie]:{...ge[ie]||{type:"text"},options:De}}})},V=ie=>{R(ce=>{var ge;const me=[...((ge=ce[ie])==null?void 0:ge.options)||[],""];return{...ce,[ie]:{...ce[ie]||{type:"text"},type:"select",options:me}}})},xe=(ie,ce)=>{R(me=>{var De;const ge=(((De=me[ie])==null?void 0:De.options)||[]).filter((Oe,Te)=>Te!==ce);return{...me,[ie]:{...me[ie]||{type:"text"},options:ge}}})},_e=async()=>{if(w.doc){h(!0);try{const ie={...w.doc,fieldCustomizations:S};await ml.update(w.doc.id,ie),await B(),alert("  !"),Pe()}catch(ie){console.error("Failed to save customizations:",ie),alert("  .")}finally{h(!1)}}},le=(ie,ce)=>{k(me=>({...me,[ie]:ce}))},re=(ie,ce)=>{if(!ce)return;const ge=(ie==="preview"?O:U).current;if(ge){const De=ge.selectionStart,Oe=ge.selectionEnd,Te=ge.value,Ue=Te.substring(0,De)+ce+Te.substring(Oe);F(Le=>({...Le,[ie]:Ue})),setTimeout(()=>{ge&&(ge.focus(),ge.selectionStart=ge.selectionEnd=De+ce.length)},0)}},oe=()=>{Z(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<p> HTML .</p>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),Y(""),G(!0)},fe=()=>{G(!1)},be=async ie=>{ie.preventDefault(),Y(""),h(!0);try{const ce=JSON.parse(J),me=Array.isArray(ce)?ce:[ce];let ge=0;for(const[De,Oe]of me.entries()){const{name:Te,groupId:Ue,previewTemplateHtml:Le,finalTemplateHtml:Je}=Oe;if(typeof Te!="string"||!Te.trim()||typeof Ue!="string"||!Ue.trim()||typeof Le!="string"||!Le.trim()||typeof Je!="string"||!Je.trim()){const At=[];(typeof Te!="string"||!Te.trim())&&At.push("name"),(typeof Ue!="string"||!Ue.trim())&&At.push("groupId"),(typeof Le!="string"||!Le.trim())&&At.push("previewTemplateHtml"),(typeof Je!="string"||!Je.trim())&&At.push("finalTemplateHtml");const Zt=Oe.name||Oe.id||`  ${De+1}`;throw new Error(`    : ${At.join(", ")}   "${Zt}"`)}const{description:lt,countryCode:ct,tags:Bt,id:_n}=Oe,dn=At=>At.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),ur=dn(Je),$n=dn(Le),Ln={name:Te,groupId:Ue,description:lt||"",countryCode:ct||"",tags:Bt||"",slug:Ox(Te),previewTemplateHtml:$n,finalTemplateHtml:ur,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:J0(ur)},Sn=_n||Ue||Ox(Te);Ln.id=Sn,await ml.create(Ln),ge++}await B(),alert(`  ${ge} () !`),fe()}catch(ce){const me=ce instanceof Error?ce.message:" JSON     .";Y(me)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:oe,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(lc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:q,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(lc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:ie=>y(ie.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(ie=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ie.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[ie.id,d.jsx("br",{}),ie.groupId!==ie.id&&`(${ie.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:ie.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:ie.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ie.slug&&d.jsx("a",{href:`/${ie.countryCode||"dz"}/doc/${ie.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>X(ie),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>Se(ie),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(ie.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ie.id))})]})})}),H&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:be,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsx("textarea",{id:"jsonInput",value:J,onChange:ie=>Z(ie.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),z&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:z})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:fe,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:ue,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:te,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:te,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:te,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:te,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:de,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(vr,{theme:"snow",value:c.description||"",onChange:ie=>u(ce=>({...ce,description:ie})),modules:l4e})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:te,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:te,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>le("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>le("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:ie=>ae(ie,"preview"),accept:".html",className:"w-full text-sm"}),_.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",_.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:I.preview,onChange:ie=>F(ce=>({...ce,preview:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("preview",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>le("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>le("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:ie=>ae(ie,"final"),accept:".html",className:"w-full text-sm"}),_.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",_.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:U,value:I.final,onChange:ie=>F(ce=>({...ce,final:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("final",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Q,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:ie=>{ie.preventDefault(),_e()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(ni).map(ie=>{var me,ge,De,Oe,Te,Ue,Le;const ce=(me=w.doc)==null?void 0:me.requiredFields.includes(ie);return d.jsxs("div",{className:`p-4 border rounded-md ${ce?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(ni[ie].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((ge=S[ie])==null?void 0:ge.type)||"text",onChange:Je=>pe(ie,"type",Je.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((De=S[ie])==null?void 0:De.customQuestion)||"",onChange:Je=>pe(ie,"customQuestion",Je.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((Oe=S[ie])==null?void 0:Oe.speechLang)||"",onChange:Je=>pe(ie,"speechLang",Je.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((Te=S[ie])==null?void 0:Te.type)==="select"||((Ue=S[ie])==null?void 0:Ue.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Le=S[ie])==null?void 0:Le.options)||[]).map((Je,lt)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Je,onChange:ct=>je(ie,lt,ct.target.value),placeholder:` ${lt+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>xe(ie,lt),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(Jm,{})})]},lt))}),d.jsxs("button",{type:"button",onClick:()=>V(ie),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(lc,{}),"  "]})]})]},ie)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Pe,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(Ct,{className:"animate-spin"}):" "})]})]})})})]})},u4e=()=>{const[t,e]=W.useState([]),[n,r]=W.useState({isOpen:!1,mode:"create",client:null}),[i,s]=W.useState({}),{t:a}=Ai();W.useEffect(()=>{xp.getAll().then(e)},[]);const o=()=>{xp.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,_)=>{s(x=>({...x,[y]:_}))},h=W.useMemo(()=>Object.values(ni).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:_,value:x})=>{f(_,x)})},v=y=>{y.preventDefault(),n.mode==="create"?xp.create(i):n.client&&xp.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(xp.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:_i(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(mK,{formFields:h,onFieldUpdate:p}),Object.values(ni).map(y=>{var x;if(!y)return null;const _=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(Kv,{value:i[_]||"",onChange:w=>f(_,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[_]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(x=y.options)==null?void 0:x.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[_]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},d4e=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=sn(),{t:s}=Ai(),[a,o]=W.useState(""),[l,c]=W.useState(""),[u,f]=W.useState(""),[h,p]=W.useState(""),[v,g]=W.useState([]),[y,_]=W.useState([]),x=R=>{const D=R.target.value;o(D),c(""),f(""),D?(g(n.filter(k=>k.wilaya_code===D)),_([])):(g([]),_([]))},w=R=>{const D=R.target.value;c(D),f(""),_(D&&a?r.filter(k=>k.daira_name===D&&k.wilaya_code===a):[])},C=R=>{f(R.target.value)},S=R=>{var k;R.preventDefault();const D=((k=e.find(I=>I.code===a))==null?void 0:k.name)||"";t({wilaya:D,daira:l,commune:u,name:h})};return d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:a,onChange:x,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:s(i?"signup.loading":"signup.selectWilaya")}),e.map(R=>d.jsx("option",{value:R.code,children:R.name},R.id))]}),d.jsxs("select",{value:l,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!a||v.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:s("signup.selectDaira")}),v.map(R=>d.jsx("option",{value:R.name,children:R.name},R.id))]}),d.jsxs("select",{value:u,onChange:C,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!l||y.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:s("signup.selectCommune")}),y.map(R=>d.jsx("option",{value:R.name,children:R.name},R.id))]}),d.jsx("input",{type:"text",placeholder:s("searchForm.searchByName"),value:h,onChange:R=>p(R.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:s("searchForm.search")})]})};function f4e(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const h4e=()=>{const{countryCode:t,type:e,id:n}=ha(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=sn(),[l,c]=W.useState(null),[u,f]=W.useState([]),[h,p]=W.useState(!1),[v,g]=W.useState(!1),[y,_]=W.useState(!1),[x,w]=W.useState(""),[C,S]=W.useState(!1),[R,D]=W.useState([]),[k,I]=W.useState(0);W.useEffect(()=>{c(null),w(""),(()=>{let J=null;if(e==="doc"&&n){const Z=r.find(z=>z.id===n);if(Z){J={...Z,type:"doc"};const Y=r.filter(j=>j.groupId===Z.groupId).sort((j,q)=>j.name.localeCompare(q.name,"ar"));D(Y);const B=Y.findIndex(j=>j.id===Z.id);I(B>=0?B:0)}}else if(e==="site"&&n){const Z=s.find(z=>z.id===n);Z&&(J={...Z,type:"site"},D([]))}else if(e==="static-doc"&&n){const Z=i.find(z=>z.id===n);Z&&(J={...Z,type:"static-doc"},D([]))}J&&J.countryCode&&J.countryCode!==t?c(null):c(J)})()},[e,n,r,s,i,t]),W.useEffect(()=>{const G=async()=>{if(R.length>0&&k<R.length){const Z=R[k].previewTemplateUrl;if(!Z){w(""),S(!1);return}S(!0);try{const z=await fetch(Z);z.ok?w(await z.text()):w("")}catch(z){console.error("Error fetching preview:",z),w("")}finally{S(!1)}}};(l==null?void 0:l.type)==="doc"&&R.length>0&&G()},[R,k,l]);const F=()=>{I(G=>(G+1)%R.length)},P=()=>{I(G=>(G-1+R.length)%R.length)},N=G=>{if(!l)return;let Z=a;const z=G.name.trim().toLowerCase();G.wilaya&&(Z=Z.filter(Y=>Y.address.wilaya===G.wilaya)),G.daira&&(Z=Z.filter(Y=>Y.address.daira===G.daira)),G.commune&&(Z=Z.filter(Y=>Y.address.commune===G.commune)),z&&(Z=Z.filter(Y=>Y.name.toLowerCase().includes(z))),f(Z),_(!0),p(!1)},O=G=>{const J=G.target.checked;if(p(J),J){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),_(!1),navigator.geolocation.getCurrentPosition(Z=>{const z={latitude:Z.coords.latitude,longitude:Z.coords.longitude},B=a.filter(j=>j.address.latitude&&j.address.longitude).map(j=>({...j,distance:f4e(z,j.address)})).sort((j,q)=>j.distance-q.distance);f(B),g(!1),_(!0)},Z=>{console.error("Geolocation error:",Z),alert(`    : ${Z.message}`),g(!1),p(!1)})}else f([]),_(!1)},U=W.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&R.length>0){const G=R[k];return G?{...G,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,R,k]),H=W.useMemo(()=>{if((U==null?void 0:U.type)!=="doc")return[];const G=U;return(G.spokenFields&&G.spokenFields.length>0?G.spokenFields:G.requiredFields).filter(Z=>Z!=="profilePicture").map(Z=>ni[Z]).filter(Z=>!!Z)},[U]);return U?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:U.name}),d.jsx("p",{className:"text-lg text-gray-600",children:"description"in U?U.description:"url"in U?U.url:""})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[R.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(bw,{className:"h-6 w-6"})}),d.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(xw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[k+1," / ",R.length]})]}),C?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):x?d.jsx("iframe",{srcDoc:x,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),U.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),U.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',U.visitorExamplePrompt,'"']})]}),H.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:H.map(G=>d.jsx("li",{children:G.label},G.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx(d4e,{onSearch:N}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:O,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(G=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:G.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[G.address.commune,", ",G.address.wilaya]}),G.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",G.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(nn,{to:`/${t}/profile/${G.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},G.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(nn,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const p4e=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),m4e=()=>{const{staticDocuments:t}=sn(),[e,n]=W.useState(t),[r,i]=W.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=W.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=W.useState(null),[c,u]=W.useState(!1);W.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=x=>{a({name:x.name,description:x.description,fileUrl:x.fileUrl,countryCode:x.countryCode||"",tags:x.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:x})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=x=>{x.target.files&&x.target.files[0]&&(l(x.target.files[0]),g(x.target.files[0]))},g=async x=>{if(!x){alert("   .");return}u(!0);try{const w=await _m(x);a(C=>({...C,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async x=>{if(x.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:p4e(s.name)};try{r.mode==="create"?(await mf.create(w),n(C=>[...C,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await mf.update(r.doc.id,w),n(C=>C.map(S=>S.id===r.doc.id?{...w,id:r.doc.id}:S))),alert("  !"),p()}catch(C){console.error("Failed to save static doc:",C),alert(" .")}},_=async x=>{if(window.confirm("        "))try{await mf.delete(x),n(w=>w.filter(C=>C.id!==x)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(x=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:x.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:x.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:x.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:x.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[x.slug&&d.jsx("a",{href:`/${x.countryCode||"dz"}/doc/${x.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(x),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>_(x.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},x.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:x=>a(w=>({...w,name:x.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(vr,{theme:"snow",value:s.description,onChange:x=>a(w=>({...w,description:x})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:x=>a(w=>({...w,tags:x.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:x=>a(w=>({...w,countryCode:x.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Pl,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},g4e=()=>{const{docId:t}=ha(),{staticDocuments:e,loading:n,siteSettings:r}=sn(),{user:i}=Nr(),s=Si(),a=W.useRef(null),[o,l]=W.useState(!1),[c,u]=W.useState(""),f=W.useMemo(()=>e.find(x=>x.id===t),[e,t]),h=W.useMemo(()=>_i(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const x=a.current;x&&x.contentWindow&&(x.contentWindow.focus(),x.contentWindow.print())},y=()=>{if(f){const x=document.createElement("a");x.href=h,x.setAttribute("download",f.name),document.body.appendChild(x),x.click(),document.body.removeChild(x)}},_=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const x=await eI(i,p);x.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(x.message),x.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(Ew,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Ta,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(qH,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:_,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(nn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},y4e=()=>{const{countryCode:t,docId:e}=ha(),n=Si(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=sn(),[l,c]=W.useState(null),[u,f]=W.useState(!0);W.useEffect(()=>{(async()=>{if(!e)return;if(r.some(H=>H.id===e||H.slug===e)){f(!1);return}f(!0);try{const H=i.find(z=>z.id===e||z.slug===e)||s.find(z=>z.id===e||z.slug===e),G=(H==null?void 0:H.slug)||e;let J=`https://datas.gitut.com/data/json/documents/${G}.json`;H&&H.countryCode&&H.countryCode!=="global"&&(J=`https://datas.gitut.com/data/json/documents/${H.countryCode}/${G}.json`);const Z=await fetch(J);if(Z.ok){const z=await Z.json();c(z)}else console.warn(`Failed to fetch document JSON from ${J}: ${Z.status}`)}catch(H){console.error("Error fetching document details:",H)}finally{f(!1)}})()},[e,r,i,s]);const h=W.useMemo(()=>{const O=decodeURIComponent(e||"");if(l)return{...l,serviceType:"doc"};const U=r.find(J=>J.id===O||J.slug===O);if(U)return{...U,serviceType:"static-doc"};const H=s.find(J=>J.id===O||J.slug===O);if(H)return{...H,serviceType:"doc"};const G=i.find(J=>J.id===O||J.slug===O);return G?{...G,serviceType:"doc"}:null},[r,i,s,e,l]),p=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[v,g]=W.useState(p),[y,_]=W.useState(!1),x=W.useRef(null),[w,C]=W.useState(!1),[S,R]=W.useState({active:!1,format:null}),[D,k]=W.useState(!1),I=W.useMemo(()=>h?h.serviceType==="static-doc"&&h.fileUrl?_i(h.fileUrl):h.serviceType==="doc"&&"previewTemplateUrl"in h&&h.previewTemplateUrl?_i(h.previewTemplateUrl):"#":"#",[h]);W.useEffect(()=>{!o&&!u&&h&&g(p)},[o,u,h,p]),W.useEffect(()=>{const O=U=>{x.current&&!x.current.contains(U.target)&&C(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const F=async O=>{if(!(D||!h||h.serviceType!=="doc"||!O)){k(!0);try{const U=l||h,H=[U];if(O==="pdf")await Hy(H,h.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(O==="word"){let G="previewTemplateHtml"in U?U.previewTemplateHtml:"";if(!G&&"previewTemplateUrl"in U&&U.previewTemplateUrl){const z=await fetch(_i(U.previewTemplateUrl));z.ok&&(G=await z.text())}if(!G)throw new Error("Could not load Word template content.");const J=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${h.name}</title></head>
                    <body>${G}</body>
                    </html>
                `],{type:"application/msword"}),Z=document.createElement("a");Z.href=URL.createObjectURL(J),Z.download=`${h.slug||"document"}.doc`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(Z.href)}}catch(U){console.error("Failed to download document:",U),alert("   .")}finally{k(!1),R({active:!1,format:null})}}};W.useEffect(()=>{if(!(o||u||!h)){if(S.active)if(v>0){const O=setTimeout(()=>g(U=>U-1),1e3);return()=>clearTimeout(O)}else F(S.format);else if(!y)if(v>0){const O=setTimeout(()=>g(U=>U-1),1e3);return()=>clearTimeout(O)}else _(!0)}},[v,o,u,h,y,S]);const P=O=>{C(!1),R({active:!0,format:O}),g(p)},N=()=>{if(!h)return;const O=!h.countryCode||h.countryCode==="global",U=O?"/go-to-site/internal-form":`/${t}/go-to-site/internal-form`,H=O?`/public-form/${h.slug||h.id}`:`/${t}/public-form/${h.slug||h.id}`;n(U,{state:{targetUrl:H,siteName:` : ${h.name}`}})};if(o||u)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!h)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(nn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(y){const O=()=>h.serviceType==="doc"&&"previewTemplateHtml"in h&&h.previewTemplateHtml?d.jsx("iframe",{srcDoc:h.previewTemplateHtml,title:h.name,className:"w-full h-full border-0"}):I!=="#"?d.jsx("iframe",{src:I,title:h.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"     ."})});return d.jsxs(d.Fragment,{children:[S.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:D?d.jsx(Ct,{className:"animate-spin"}):v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(cc,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:" "}),h.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(jH,{}),d.jsx("span",{children:"/"})]}),d.jsxs("div",{ref:x,className:"relative",children:[d.jsxs("button",{onClick:()=>C(U=>!U),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(Ta,{}),d.jsx("span",{children:"  "})]}),w&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>P("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(Tw,{className:"text-red-500"}),d.jsx("span",{children:"  PDF"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>P("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(sI,{className:"text-blue-500"}),d.jsx("span",{children:"  Word"})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(cc,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:O()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',h.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(cc,{placement:"PDF_INTERSTITIAL"})]})]})})},v4e=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const{t:i}=Ai(),s="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",a=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),o=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:_i(t.imageUrl)||s,alt:t.name,className:"w-full h-48 object-cover",onError:l=>{l.currentTarget.src=s}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:i(r===null?"cafeCard.checkingStatus":r?"cafeCard.online":"cafeCard.offline")})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.owner")})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.address")})," ",a]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," ",i("cafeCard.distanceUnit")]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(nn,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:i("cafeCard.chooseThisCafe")}):d.jsx(nn,{to:o,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:i("cafeCard.viewDetails")}),d.jsx(nn,{to:o,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:i("cafeCard.startChat"),children:d.jsx(rI,{})})]})]})]})},Ga=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",x4e=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=ah(),{isOnline:i}=r(t.id);return d.jsx(v4e,{cafe:t,linkTo:e,linkState:n,isOnline:i})},b4e=()=>{const t=Ar(),e=Si(),{countryCode:n}=ha(),{documents:r,sites:i,communes:s,cafes:a}=sn(),{documentIds:o}=t.state||{documentIds:[]},[l,c]=W.useState(!1),[u,f]=W.useState([]),[h,p]=W.useState(!1),v=W.useMemo(()=>{const U=r.filter(G=>o.includes(G.id)).map(G=>({...G,serviceType:"doc"})),H=i.filter(G=>o.includes(G.id)).map(G=>({...G,serviceType:"site"}));return[...U,...H]},[o,r,i]),[g,y]=W.useState([]),[_,x]=W.useState(!1),[w,C]=W.useState(""),[S,R]=W.useState([]),[D,k]=W.useState(!1);W.useEffect(()=>{n?(f(a),y(a),x(!0)):o.length>0&&c(!0)},[n,a,o]);const I=async U=>{c(!1),p(!0),x(!1),y([]);try{const H=await fetch(`https://datas.gitut.com/data/json/${U}-cafes-public.json`);if(!H.ok)throw new Error("Failed to load cafes for selected country.");const G=await H.json();f(G),y(G),x(!0)}catch(H){console.error(H),alert("       ."),e("/")}finally{p(!1)}},F=W.useMemo(()=>o&&o.length>0?u:[],[o,u]);W.useEffect(()=>{if(!w.trim()){R([]);return}const U=[],H=[],G=new Set,J=Ga(w);if(/^\d+$/.test(w)){const z=parseInt(w,10),Y=F.find(B=>B.numericId===z);Y&&U.push({type:"cafe",data:Y})}F.forEach(z=>{!U.some(Y=>Y.data.id===z.id)&&(Ga(z.name).includes(J)||Ga(z.owner).includes(J))&&U.push({type:"cafe",data:z})}),s.forEach(z=>{const Y=`${z.wilaya_name}, ${z.daira_name}, ${z.name}`;G.has(Y)||(Ga(z.name).includes(J)||Ga(z.daira_name).includes(J)||Ga(z.wilaya_name).includes(J))&&(H.push({type:"commune",data:z}),G.add(Y))}),R([...U,...H].slice(0,15))},[w,F,s]);const P=U=>{if(U.preventDefault(),k(!1),!w.trim()){y(F),x(!0);return}const H=Ga(w),J=/^\d+$/.test(w.trim())?parseInt(w.trim(),10):null,Z=F.filter(z=>J!==null&&z.numericId===J||Ga(z.name).includes(H)||Ga(z.owner).includes(H)||z.address.wilaya&&Ga(z.address.wilaya).includes(H)||z.address.daira&&Ga(z.address.daira).includes(H)||z.address.commune&&Ga(z.address.commune).includes(H));y(Z),x(!0)},N=U=>{C(""),k(!1),x(!0);const H=U.type==="cafe"?U.data.countryCode:n||"dz";if(U.type==="cafe")e(`/${H}/form`,{state:{cafeId:U.data.id,selectedDocIds:o}});else if(U.type==="commune"){const G=F.filter(J=>J.address.commune===U.data.name&&J.address.daira===U.data.daira_name&&J.address.wilaya===U.data.wilaya_name);y(G)}},O=U=>{switch(U.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:U.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[U.data.address.commune," -  /"]})]});case"commune":return`${U.data.wilaya_name}, ${U.data.daira_name}, ${U.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(nn,{to:`/${n||""}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):l?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"     "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:Rr.ar.map(U=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>I(U.code),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:U.flag}),d.jsx("span",{className:"font-semibold",children:U.name})]})},U.code))})]})}):h?d.jsx("div",{className:"flex justify-center items-center p-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(nn,{to:`/${n||""}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:v.map(U=>U.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:P,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(XA,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:w,onChange:U=>C(U.target.value),onFocus:()=>k(!0),onBlur:()=>setTimeout(()=>k(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),D&&S.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:S.map((U,H)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>N(U),children:O(U)},`${U.type}-${U.data.id}-${H}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx(XA,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:_?` (${g.length})`:`      (${F.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(_?g:F).map(U=>d.jsx(x4e,{cafe:U,linkTo:`/${U.countryCode}/form`,linkState:{cafeId:U.id,selectedDocIds:o}},U.id))}),_&&g.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zb={};zb.version="0.18.5";var gK=1252,_4e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],EI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},CI=function(t){_4e.indexOf(t)!=-1&&(gK=EI[0]=t)};function w4e(){CI(1252)}var Uo=function(t){CI(t)};function SI(){Uo(1200),w4e()}function eO(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function T4e(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function yK(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var S0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?T4e(t.slice(2)):e==254&&n==255?yK(t.slice(2)):e==65279?t.slice(1):t},Lx=function(e){return String.fromCharCode(e)},tO=function(e){return String.fromCharCode(e)},Gy,_u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ky(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=_u.charAt(s)+_u.charAt(a)+_u.charAt(o)+_u.charAt(l);return e}function Ua(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=_u.indexOf(t.charAt(c++)),a=_u.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=_u.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=_u.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var gn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Pc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Gu(t){return gn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function nO(t){return gn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Aa=function(e){return gn?Pc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Mw(t){if(typeof ArrayBuffer>"u")return Aa(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function cd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function E4e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function DI(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return DI(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Vi=gn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Pc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function C4e(t){for(var e=[],n=0,r=t.length+250,i=Gu(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Gu(65535),r=65530)}return e.push(i.slice(0,n)),Vi(e)}var Bs=/\u0000/g,D0=/[\u0001-\u0006]/g;function Bp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Oo(t,e){var n=""+t;return n.length>=e?n:Vr("0",e-n.length)+n}function AI(t,e){var n=""+t;return n.length>=e?n:Vr(" ",e-n.length)+n}function Hb(t,e){var n=""+t;return n.length>=e?n:n+Vr(" ",e-n.length)}function S4e(t,e){var n=""+Math.round(t);return n.length>=e?n:Vr("0",e-n.length)+n}function D4e(t,e){var n=""+t;return n.length>=e?n:Vr("0",e-n.length)+n}var rO=Math.pow(2,32);function op(t,e){if(t>rO||t<-rO)return S4e(t,e);var n=Math.round(t);return D4e(n,e)}function Gb(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var iO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],l4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function A4e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Xt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},sO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},N4e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Kb(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function uf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=M4e(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var vK=new Date(1899,11,31,0,0,0),k4e=vK.getTime(),I4e=new Date(1900,2,1,0,0,0);function xK(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=I4e&&(n+=1440*60*1e3),(n-(k4e+(t.getTimezoneOffset()-vK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function NI(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function R4e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function P4e(t){var e=t<0?12:11,n=NI(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function F4e(t){var e=NI(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Xy(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=P4e(t):e===10?n=t.toFixed(10).substr(0,12):n=F4e(t),NI(R4e(n.toUpperCase()))}function Wf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Xy(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ho(14,xK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function M4e(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function U4e(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return l4[n.m-1][1];case 5:return l4[n.m-1][0];default:return l4[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return iO[n.q][0];default:return iO[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Oo(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Oo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Oo(l,c):"";return u}function wu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var bK=/%/g;function O4e(t,e,n){var r=e.replace(bK,""),i=e.length-r.length;return dc(t,r,n*Math.pow(10,2*i))+Vr("%",i)}function L4e(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return dc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function _K(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_K(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var wK=/# (\?+)( ?)\/( ?)(\d+)/;function j4e(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?Vr(" ",t[1].length+1+t[4].length):AI(a,t[1].length)+t[2]+"/"+t[3]+Oo(o,t[4].length))}function B4e(t,e,n){return n+(e===0?"":""+e)+Vr(" ",t[1].length+2+t[4].length)}var TK=/^#*0*\.([0#]+)/,EK=/\).*[0#]/,CK=/\(###\) ###\\?-####/;function Fs(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function aO(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function oO(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function V4e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function W4e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ya(t,e,n){if(t.charCodeAt(0)===40&&!e.match(EK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ya("n",r,n):"("+Ya("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return L4e(t,e,n);if(e.indexOf("%")!==-1)return O4e(t,e,n);if(e.indexOf("E")!==-1)return _K(e,n);if(e.charCodeAt(0)===36)return"$"+Ya(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+op(l,e.length);if(e.match(/^[#?]+$/))return i=op(n,0),i==="0"&&(i=""),i.length>e.length?i:Fs(e.substr(0,e.length-i.length))+i;if(s=e.match(wK))return j4e(s,l,c);if(e.match(/^#+0+$/))return c+op(l,e.length-e.indexOf("0"));if(s=e.match(TK))return i=aO(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Fs(s[1])).replace(/\.$/,"."+Fs(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Vr("0",Fs(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+aO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+wu(op(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ya(t,e,-n):wu(""+(Math.floor(n)+V4e(n,s[1].length)))+"."+Oo(oO(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ya(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bp(Ya(t,e.replace(/[\\-]/g,""),n)),a=0,Bp(Bp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(CK))return i=Ya(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Kb(l,Math.pow(10,a)-1,!1),i=""+c,u=dc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Hb(o[2],a),u.length<s[4].length&&(u=Fs(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Kb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?AI(o[1],a)+s[2]+"/"+s[3]+Hb(o[2],a):Vr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=op(n,0),e.length<=i.length?i:Fs(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Fs(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=oO(n,s[1].length),n<0?"-"+Ya(t,e,-n):wu(W4e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Oo(0,3-v.length):"")+v})+"."+Oo(a,s[1].length);switch(e){case"###,##0.00":return Ya(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=wu(op(l,0));return p!=="0"?c+p:"";case"###,###.00":return Ya(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ya(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function q4e(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return dc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function $4e(t,e,n){var r=e.replace(bK,""),i=e.length-r.length;return dc(t,r,n*Math.pow(10,2*i))+Vr("%",i)}function SK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+SK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function al(t,e,n){if(t.charCodeAt(0)===40&&!e.match(EK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?al("n",r,n):"("+al("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return q4e(t,e,n);if(e.indexOf("%")!==-1)return $4e(t,e,n);if(e.indexOf("E")!==-1)return SK(e,n);if(e.charCodeAt(0)===36)return"$"+al(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Oo(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Fs(e.substr(0,e.length-i.length))+i;if(s=e.match(wK))return B4e(s,l,c);if(e.match(/^#+0+$/))return c+Oo(l,e.length-e.indexOf("0"));if(s=e.match(TK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Fs(s[1])).replace(/\.$/,"."+Fs(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+Vr("0",Fs(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+wu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+al(t,e,-n):wu(""+n)+"."+Vr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return al(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bp(al(t,e.replace(/[\\-]/g,""),n)),a=0,Bp(Bp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(CK))return i=al(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Kb(l,Math.pow(10,a)-1,!1),i=""+c,u=dc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Hb(o[2],a),u.length<s[4].length&&(u=Fs(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Kb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?AI(o[1],a)+s[2]+"/"+s[3]+Hb(o[2],a):Vr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Fs(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Fs(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+al(t,e,-n):wu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Oo(0,3-v.length):"")+v})+"."+Oo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=wu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return al(t,e.slice(0,e.lastIndexOf(".")),n)+Fs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function dc(t,e,n){return(n|0)===n?al(t,e,n):Ya(t,e,n)}function z4e(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var DK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rg(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":Gb(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(DK))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function H4e(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!Gb(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=uf(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=uf(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=uf(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(DK)){if(c==null&&(c=uf(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",rg(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,_=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(_=Math.max(_,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=U4e(i[a].t.charCodeAt(0),i[a].v,c,_),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;w+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=Wf(e,n);break}var S="",R,D;if(w.length>0){w.charCodeAt(0)==40?(R=e<0&&w.charCodeAt(0)===45?-e:e,D=dc("n",w,R)):(R=e<0&&r>1?-e:e,D=dc("n",w,R),R<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),C=D.length-1;var k=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){k=a;break}var I=i.length;if(k===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=D.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=D.substr(0,C+1),C=-1),i[a].t="t",I=a);C>=0&&I<i.length&&(i[I].v=D.substr(0,C+1)+i[I].v)}else if(k!==i.length&&D.indexOf("E")===-1){for(C=D.indexOf(".")-1,a=k;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===k?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=D.charAt(C--)+S);i[a].v=S,i[a].t="t",I=a}for(C>=0&&I<i.length&&(i[I].v=D.substr(0,C+1)+i[I].v),C=D.indexOf(".")+1,a=k;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==k)){for(u=i[a].v.indexOf(".")>-1&&a===k?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)C<D.length&&(S+=D.charAt(C++));i[a].v=S,i[a].t="t",I=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=dc(i[a].t,i[a].v,R),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var lO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function cO(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function G4e(t,e){var n=z4e(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(lO),o=n[1].match(lO);return cO(e,a)?[r,n[0]]:cO(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function ho(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Xt)[t],r==null&&(r=n.table&&n.table[sO[t]]||Xt[sO[t]]),r==null&&(r=N4e[t]||"General");break}if(Gb(r,0))return Wf(e,n);e instanceof Date&&(e=xK(e,n.date1904));var i=G4e(r,e);if(Gb(i[1]))return Wf(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return H4e(i[1],e,n,i[0])}function fc(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Xt[n]==null){e<0&&(e=n);continue}if(Xt[n]==t){e=n;break}}e<0&&(e=391)}return Xt[e]=t,e}function Uw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&fc(t[e],e)}function ig(){Xt=A4e()}var K4e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},AK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function X4e(t){var e=typeof t=="number"?Xt[t]:t;return e=e.replace(AK,"(\\d+)"),new RegExp("^"+e+"$")}function J4e(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(AK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var Y4e=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,k=new Array(256),I=0;I!=256;++I)D=I,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,k[I]=D;return typeof Int32Array<"u"?new Int32Array(k):k}var n=e();function r(D){var k=0,I=0,F=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)P[F]=D[F];for(F=0;F!=256;++F)for(I=D[F],k=256+F;k<4096;k+=256)I=P[k]=I>>>8^D[I&255];var N=[];for(F=1;F!=16;++F)N[F-1]=typeof Int32Array<"u"?P.subarray(F*256,F*256+256):P.slice(F*256,F*256+256);return N}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],_=i[12],x=i[13],w=i[14];function C(D,k){for(var I=k^-1,F=0,P=D.length;F<P;)I=I>>>8^n[(I^D.charCodeAt(F++))&255];return~I}function S(D,k){for(var I=k^-1,F=D.length-15,P=0;P<F;)I=w[D[P++]^I&255]^x[D[P++]^I>>8&255]^_[D[P++]^I>>16&255]^y[D[P++]^I>>>24]^g[D[P++]]^v[D[P++]]^p[D[P++]]^h[D[P++]]^f[D[P++]]^u[D[P++]]^c[D[P++]]^l[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^n[D[P++]];for(F+=15;P<F;)I=I>>>8^n[(I^D[P++])&255];return~I}function R(D,k){for(var I=k^-1,F=0,P=D.length,N=0,O=0;F<P;)N=D.charCodeAt(F++),N<128?I=I>>>8^n[(I^N)&255]:N<2048?(I=I>>>8^n[(I^(192|N>>6&31))&255],I=I>>>8^n[(I^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,O=D.charCodeAt(F++)&1023,I=I>>>8^n[(I^(240|N>>8&7))&255],I=I>>>8^n[(I^(128|N>>2&63))&255],I=I>>>8^n[(I^(128|O>>6&15|(N&3)<<4))&255],I=I>>>8^n[(I^(128|O&63))&255]):(I=I>>>8^n[(I^(224|N>>12&15))&255],I=I>>>8^n[(I^(128|N>>6&63))&255],I=I>>>8^n[(I^(128|N&63))&255]);return~I}return t.table=n,t.bstr=C,t.buf=S,t.str=R,t})(),Wt=(function(){var e={};e.version="1.2.1";function n(ye,ke){for(var Ce=ye.split("/"),Ae=ke.split("/"),Ne=0,Re=0,$e=Math.min(Ce.length,Ae.length);Ne<$e;++Ne){if(Re=Ce[Ne].length-Ae[Ne].length)return Re;if(Ce[Ne]!=Ae[Ne])return Ce[Ne]<Ae[Ne]?-1:1}return Ce.length-Ae.length}function r(ye){if(ye.charAt(ye.length-1)=="/")return ye.slice(0,-1).indexOf("/")===-1?ye:r(ye.slice(0,-1));var ke=ye.lastIndexOf("/");return ke===-1?ye:ye.slice(0,ke+1)}function i(ye){if(ye.charAt(ye.length-1)=="/")return i(ye.slice(0,-1));var ke=ye.lastIndexOf("/");return ke===-1?ye:ye.slice(ke+1)}function s(ye,ke){typeof ke=="string"&&(ke=new Date(ke));var Ce=ke.getHours();Ce=Ce<<6|ke.getMinutes(),Ce=Ce<<5|ke.getSeconds()>>>1,ye.write_shift(2,Ce);var Ae=ke.getFullYear()-1980;Ae=Ae<<4|ke.getMonth()+1,Ae=Ae<<5|ke.getDate(),ye.write_shift(2,Ae)}function a(ye){var ke=ye.read_shift(2)&65535,Ce=ye.read_shift(2)&65535,Ae=new Date,Ne=Ce&31;Ce>>>=5;var Re=Ce&15;Ce>>>=4,Ae.setMilliseconds(0),Ae.setFullYear(Ce+1980),Ae.setMonth(Re-1),Ae.setDate(Ne);var $e=ke&31;ke>>>=5;var rt=ke&63;return ke>>>=6,Ae.setHours(ke),Ae.setMinutes(rt),Ae.setSeconds($e<<1),Ae}function o(ye){Qi(ye,0);for(var ke={},Ce=0;ye.l<=ye.length-4;){var Ae=ye.read_shift(2),Ne=ye.read_shift(2),Re=ye.l+Ne,$e={};switch(Ae){case 21589:Ce=ye.read_shift(1),Ce&1&&($e.mtime=ye.read_shift(4)),Ne>5&&(Ce&2&&($e.atime=ye.read_shift(4)),Ce&4&&($e.ctime=ye.read_shift(4))),$e.mtime&&($e.mt=new Date($e.mtime*1e3));break}ye.l=Re,ke[Ae]=$e}return ke}var l;function c(){return l||(l={})}function u(ye,ke){if(ye[0]==80&&ye[1]==75)return Sn(ye,ke);if((ye[0]|32)==109&&(ye[1]|32)==105)return hn(ye,ke);if(ye.length<512)throw new Error("CFB file size "+ye.length+" < 512");var Ce=3,Ae=512,Ne=0,Re=0,$e=0,rt=0,Xe=0,Ye=[],Ze=ye.slice(0,512);Qi(Ze,0);var Ie=f(Ze);switch(Ce=Ie[0],Ce){case 3:Ae=512;break;case 4:Ae=4096;break;case 0:if(Ie[1]==0)return Sn(ye,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ce)}Ae!==512&&(Ze=ye.slice(0,Ae),Qi(Ze,28));var qe=ye.slice(0,Ae);h(Ze,Ce);var st=Ze.read_shift(4,"i");if(Ce===3&&st!==0)throw new Error("# Directory Sectors: Expected 0 saw "+st);Ze.l+=4,$e=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),rt=Ze.read_shift(4,"i"),Ne=Ze.read_shift(4,"i"),Xe=Ze.read_shift(4,"i"),Re=Ze.read_shift(4,"i");for(var tt=-1,Ve=0;Ve<109&&(tt=Ze.read_shift(4,"i"),!(tt<0));++Ve)Ye[Ve]=tt;var ot=p(ye,Ae);y(Xe,Re,ot,Ae,Ye);var xt=x(ot,$e,Ye,Ae);xt[$e].name="!Directory",Ne>0&&rt!==O&&(xt[rt].name="!MiniFAT"),xt[Ye[0]].name="!FAT",xt.fat_addrs=Ye,xt.ssz=Ae;var Lt={},qt=[],rr=[],zt=[];w($e,xt,ot,qt,Ne,Lt,rr,rt),v(rr,zt,qt),qt.shift();var on={FileIndex:rr,FullPaths:zt};return ke&&ke.raw&&(on.raw={header:qe,sectors:ot}),on}function f(ye){if(ye[ye.l]==80&&ye[ye.l+1]==75)return[0,0];ye.chk(U,"Header Signature: "),ye.l+=16;var ke=ye.read_shift(2,"u");return[ye.read_shift(2,"u"),ke]}function h(ye,ke){var Ce=9;switch(ye.l+=2,Ce=ye.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+Ce);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+Ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ce)}ye.chk("0600","Mini Sector Shift: "),ye.chk("000000000000","Reserved: ")}function p(ye,ke){for(var Ce=Math.ceil(ye.length/ke)-1,Ae=[],Ne=1;Ne<Ce;++Ne)Ae[Ne-1]=ye.slice(Ne*ke,(Ne+1)*ke);return Ae[Ce-1]=ye.slice(Ce*ke),Ae}function v(ye,ke,Ce){for(var Ae=0,Ne=0,Re=0,$e=0,rt=0,Xe=Ce.length,Ye=[],Ze=[];Ae<Xe;++Ae)Ye[Ae]=Ze[Ae]=Ae,ke[Ae]=Ce[Ae];for(;rt<Ze.length;++rt)Ae=Ze[rt],Ne=ye[Ae].L,Re=ye[Ae].R,$e=ye[Ae].C,Ye[Ae]===Ae&&(Ne!==-1&&Ye[Ne]!==Ne&&(Ye[Ae]=Ye[Ne]),Re!==-1&&Ye[Re]!==Re&&(Ye[Ae]=Ye[Re])),$e!==-1&&(Ye[$e]=Ae),Ne!==-1&&Ae!=Ye[Ae]&&(Ye[Ne]=Ye[Ae],Ze.lastIndexOf(Ne)<rt&&Ze.push(Ne)),Re!==-1&&Ae!=Ye[Ae]&&(Ye[Re]=Ye[Ae],Ze.lastIndexOf(Re)<rt&&Ze.push(Re));for(Ae=1;Ae<Xe;++Ae)Ye[Ae]===Ae&&(Re!==-1&&Ye[Re]!==Re?Ye[Ae]=Ye[Re]:Ne!==-1&&Ye[Ne]!==Ne&&(Ye[Ae]=Ye[Ne]));for(Ae=1;Ae<Xe;++Ae)if(ye[Ae].type!==0){if(rt=Ae,rt!=Ye[rt])do rt=Ye[rt],ke[Ae]=ke[rt]+"/"+ke[Ae];while(rt!==0&&Ye[rt]!==-1&&rt!=Ye[rt]);Ye[Ae]=-1}for(ke[0]+="/",Ae=1;Ae<Xe;++Ae)ye[Ae].type!==2&&(ke[Ae]+="/")}function g(ye,ke,Ce){for(var Ae=ye.start,Ne=ye.size,Re=[],$e=Ae;Ce&&Ne>0&&$e>=0;)Re.push(ke.slice($e*N,$e*N+N)),Ne-=N,$e=Zd(Ce,$e*4);return Re.length===0?at(0):Vi(Re).slice(0,ye.size)}function y(ye,ke,Ce,Ae,Ne){var Re=O;if(ye===O){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(ye!==-1){var $e=Ce[ye],rt=(Ae>>>2)-1;if(!$e)return;for(var Xe=0;Xe<rt&&(Re=Zd($e,Xe*4))!==O;++Xe)Ne.push(Re);y(Zd($e,Ae-4),ke-1,Ce,Ae,Ne)}}function _(ye,ke,Ce,Ae,Ne){var Re=[],$e=[];Ne||(Ne=[]);var rt=Ae-1,Xe=0,Ye=0;for(Xe=ke;Xe>=0;){Ne[Xe]=!0,Re[Re.length]=Xe,$e.push(ye[Xe]);var Ze=Ce[Math.floor(Xe*4/Ae)];if(Ye=Xe*4&rt,Ae<4+Ye)throw new Error("FAT boundary crossed: "+Xe+" 4 "+Ae);if(!ye[Ze])break;Xe=Zd(ye[Ze],Ye)}return{nodes:Re,data:_O([$e])}}function x(ye,ke,Ce,Ae){var Ne=ye.length,Re=[],$e=[],rt=[],Xe=[],Ye=Ae-1,Ze=0,Ie=0,qe=0,st=0;for(Ze=0;Ze<Ne;++Ze)if(rt=[],qe=Ze+ke,qe>=Ne&&(qe-=Ne),!$e[qe]){Xe=[];var tt=[];for(Ie=qe;Ie>=0;){tt[Ie]=!0,$e[Ie]=!0,rt[rt.length]=Ie,Xe.push(ye[Ie]);var Ve=Ce[Math.floor(Ie*4/Ae)];if(st=Ie*4&Ye,Ae<4+st)throw new Error("FAT boundary crossed: "+Ie+" 4 "+Ae);if(!ye[Ve]||(Ie=Zd(ye[Ve],st),tt[Ie]))break}Re[qe]={nodes:rt,data:_O([Xe])}}return Re}function w(ye,ke,Ce,Ae,Ne,Re,$e,rt){for(var Xe=0,Ye=Ae.length?2:0,Ze=ke[ye].data,Ie=0,qe=0,st;Ie<Ze.length;Ie+=128){var tt=Ze.slice(Ie,Ie+128);Qi(tt,64),qe=tt.read_shift(2),st=UI(tt,0,qe-Ye),Ae.push(st);var Ve={name:st,type:tt.read_shift(1),color:tt.read_shift(1),L:tt.read_shift(4,"i"),R:tt.read_shift(4,"i"),C:tt.read_shift(4,"i"),clsid:tt.read_shift(16),state:tt.read_shift(4,"i"),start:0,size:0},ot=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);ot!==0&&(Ve.ct=C(tt,tt.l-8));var xt=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);xt!==0&&(Ve.mt=C(tt,tt.l-8)),Ve.start=tt.read_shift(4,"i"),Ve.size=tt.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=O,Ve.name=""),Ve.type===5?(Xe=Ve.start,Ne>0&&Xe!==O&&(ke[Xe].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",ke[Ve.start]===void 0&&(ke[Ve.start]=_(Ce,Ve.start,ke.fat_addrs,ke.ssz)),ke[Ve.start].name=Ve.name,Ve.content=ke[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:Xe!==O&&Ve.start!==O&&ke[Xe]&&(Ve.content=g(Ve,ke[Xe].data,(ke[rt]||{}).data))),Ve.content&&Qi(Ve.content,0),Re[st]=Ve,$e.push(Ve)}}function C(ye,ke){return new Date((Da(ye,ke+4)/1e7*Math.pow(2,32)+Da(ye,ke)/1e7-11644473600)*1e3)}function S(ye,ke){return c(),u(l.readFileSync(ye),ke)}function R(ye,ke){var Ce=ke&&ke.type;switch(Ce||gn&&Buffer.isBuffer(ye)&&(Ce="buffer"),Ce||"base64"){case"file":return S(ye,ke);case"base64":return u(Aa(Ua(ye)),ke);case"binary":return u(Aa(ye),ke)}return u(ye,ke)}function D(ye,ke){var Ce=ke||{},Ae=Ce.root||"Root Entry";if(ye.FullPaths||(ye.FullPaths=[]),ye.FileIndex||(ye.FileIndex=[]),ye.FullPaths.length!==ye.FileIndex.length)throw new Error("inconsistent CFB structure");ye.FullPaths.length===0&&(ye.FullPaths[0]=Ae+"/",ye.FileIndex[0]={name:Ae,type:5}),Ce.CLSID&&(ye.FileIndex[0].clsid=Ce.CLSID),k(ye)}function k(ye){var ke="Sh33tJ5";if(!Wt.find(ye,"/"+ke)){var Ce=at(4);Ce[0]=55,Ce[1]=Ce[3]=50,Ce[2]=54,ye.FileIndex.push({name:ke,type:2,content:Ce,size:4,L:69,R:69,C:69}),ye.FullPaths.push(ye.FullPaths[0]+ke),I(ye)}}function I(ye,ke){D(ye);for(var Ce=!1,Ae=!1,Ne=ye.FullPaths.length-1;Ne>=0;--Ne){var Re=ye.FileIndex[Ne];switch(Re.type){case 0:Ae?Ce=!0:(ye.FileIndex.pop(),ye.FullPaths.pop());break;case 1:case 2:case 5:Ae=!0,isNaN(Re.R*Re.L*Re.C)&&(Ce=!0),Re.R>-1&&Re.L>-1&&Re.R==Re.L&&(Ce=!0);break;default:Ce=!0;break}}if(!(!Ce&&!ke)){var $e=new Date(1987,1,19),rt=0,Xe=Object.create?Object.create(null):{},Ye=[];for(Ne=0;Ne<ye.FullPaths.length;++Ne)Xe[ye.FullPaths[Ne]]=!0,ye.FileIndex[Ne].type!==0&&Ye.push([ye.FullPaths[Ne],ye.FileIndex[Ne]]);for(Ne=0;Ne<Ye.length;++Ne){var Ze=r(Ye[Ne][0]);Ae=Xe[Ze],Ae||(Ye.push([Ze,{name:i(Ze).replace("/",""),type:1,clsid:G,ct:$e,mt:$e,content:null}]),Xe[Ze]=!0)}for(Ye.sort(function(st,tt){return n(st[0],tt[0])}),ye.FullPaths=[],ye.FileIndex=[],Ne=0;Ne<Ye.length;++Ne)ye.FullPaths[Ne]=Ye[Ne][0],ye.FileIndex[Ne]=Ye[Ne][1];for(Ne=0;Ne<Ye.length;++Ne){var Ie=ye.FileIndex[Ne],qe=ye.FullPaths[Ne];if(Ie.name=i(qe).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||G,Ne===0)Ie.C=Ye.length>1?1:-1,Ie.size=0,Ie.type=5;else if(qe.slice(-1)=="/"){for(rt=Ne+1;rt<Ye.length&&r(ye.FullPaths[rt])!=qe;++rt);for(Ie.C=rt>=Ye.length?-1:rt,rt=Ne+1;rt<Ye.length&&r(ye.FullPaths[rt])!=r(qe);++rt);Ie.R=rt>=Ye.length?-1:rt,Ie.type=1}else r(ye.FullPaths[Ne+1]||"")==r(qe)&&(Ie.R=Ne+1),Ie.type=2}}}function F(ye,ke){var Ce=ke||{};if(Ce.fileType=="mad")return an(ye,Ce);switch(I(ye),Ce.fileType){case"zip":return Zt(ye,Ce)}var Ae=(function(st){for(var tt=0,Ve=0,ot=0;ot<st.FileIndex.length;++ot){var xt=st.FileIndex[ot];if(xt.content){var Lt=xt.content.length;Lt>0&&(Lt<4096?tt+=Lt+63>>6:Ve+=Lt+511>>9)}}for(var qt=st.FullPaths.length+3>>2,rr=tt+7>>3,zt=tt+127>>7,on=rr+Ve+qt+zt,ln=on+127>>7,$s=ln<=109?0:Math.ceil((ln-109)/127);on+ln+$s+127>>7>ln;)$s=++ln<=109?0:Math.ceil((ln-109)/127);var En=[1,$s,ln,zt,qt,Ve,tt,0];return st.FileIndex[0].size=tt<<6,En[7]=(st.FileIndex[0].start=En[0]+En[1]+En[2]+En[3]+En[4]+En[5])+(En[6]+7>>3),En})(ye),Ne=at(Ae[7]<<9),Re=0,$e=0;{for(Re=0;Re<8;++Re)Ne.write_shift(1,H[Re]);for(Re=0;Re<8;++Re)Ne.write_shift(2,0);for(Ne.write_shift(2,62),Ne.write_shift(2,3),Ne.write_shift(2,65534),Ne.write_shift(2,9),Ne.write_shift(2,6),Re=0;Re<3;++Re)Ne.write_shift(2,0);for(Ne.write_shift(4,0),Ne.write_shift(4,Ae[2]),Ne.write_shift(4,Ae[0]+Ae[1]+Ae[2]+Ae[3]-1),Ne.write_shift(4,0),Ne.write_shift(4,4096),Ne.write_shift(4,Ae[3]?Ae[0]+Ae[1]+Ae[2]-1:O),Ne.write_shift(4,Ae[3]),Ne.write_shift(-4,Ae[1]?Ae[0]-1:O),Ne.write_shift(4,Ae[1]),Re=0;Re<109;++Re)Ne.write_shift(-4,Re<Ae[2]?Ae[1]+Re:-1)}if(Ae[1])for($e=0;$e<Ae[1];++$e){for(;Re<236+$e*127;++Re)Ne.write_shift(-4,Re<Ae[2]?Ae[1]+Re:-1);Ne.write_shift(-4,$e===Ae[1]-1?O:$e+1)}var rt=function(st){for($e+=st;Re<$e-1;++Re)Ne.write_shift(-4,Re+1);st&&(++Re,Ne.write_shift(-4,O))};for($e=Re=0,$e+=Ae[1];Re<$e;++Re)Ne.write_shift(-4,J.DIFSECT);for($e+=Ae[2];Re<$e;++Re)Ne.write_shift(-4,J.FATSECT);rt(Ae[3]),rt(Ae[4]);for(var Xe=0,Ye=0,Ze=ye.FileIndex[0];Xe<ye.FileIndex.length;++Xe)Ze=ye.FileIndex[Xe],Ze.content&&(Ye=Ze.content.length,!(Ye<4096)&&(Ze.start=$e,rt(Ye+511>>9)));for(rt(Ae[6]+7>>3);Ne.l&511;)Ne.write_shift(-4,J.ENDOFCHAIN);for($e=Re=0,Xe=0;Xe<ye.FileIndex.length;++Xe)Ze=ye.FileIndex[Xe],Ze.content&&(Ye=Ze.content.length,!(!Ye||Ye>=4096)&&(Ze.start=$e,rt(Ye+63>>6)));for(;Ne.l&511;)Ne.write_shift(-4,J.ENDOFCHAIN);for(Re=0;Re<Ae[4]<<2;++Re){var Ie=ye.FullPaths[Re];if(!Ie||Ie.length===0){for(Xe=0;Xe<17;++Xe)Ne.write_shift(4,0);for(Xe=0;Xe<3;++Xe)Ne.write_shift(4,-1);for(Xe=0;Xe<12;++Xe)Ne.write_shift(4,0);continue}Ze=ye.FileIndex[Re],Re===0&&(Ze.start=Ze.size?Ze.start-1:O);var qe=Re===0&&Ce.root||Ze.name;if(Ye=2*(qe.length+1),Ne.write_shift(64,qe,"utf16le"),Ne.write_shift(2,Ye),Ne.write_shift(1,Ze.type),Ne.write_shift(1,Ze.color),Ne.write_shift(-4,Ze.L),Ne.write_shift(-4,Ze.R),Ne.write_shift(-4,Ze.C),Ze.clsid)Ne.write_shift(16,Ze.clsid,"hex");else for(Xe=0;Xe<4;++Xe)Ne.write_shift(4,0);Ne.write_shift(4,Ze.state||0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,Ze.start),Ne.write_shift(4,Ze.size),Ne.write_shift(4,0)}for(Re=1;Re<ye.FileIndex.length;++Re)if(Ze=ye.FileIndex[Re],Ze.size>=4096)if(Ne.l=Ze.start+1<<9,gn&&Buffer.isBuffer(Ze.content))Ze.content.copy(Ne,Ne.l,0,Ze.size),Ne.l+=Ze.size+511&-512;else{for(Xe=0;Xe<Ze.size;++Xe)Ne.write_shift(1,Ze.content[Xe]);for(;Xe&511;++Xe)Ne.write_shift(1,0)}for(Re=1;Re<ye.FileIndex.length;++Re)if(Ze=ye.FileIndex[Re],Ze.size>0&&Ze.size<4096)if(gn&&Buffer.isBuffer(Ze.content))Ze.content.copy(Ne,Ne.l,0,Ze.size),Ne.l+=Ze.size+63&-64;else{for(Xe=0;Xe<Ze.size;++Xe)Ne.write_shift(1,Ze.content[Xe]);for(;Xe&63;++Xe)Ne.write_shift(1,0)}if(gn)Ne.l=Ne.length;else for(;Ne.l<Ne.length;)Ne.write_shift(1,0);return Ne}function P(ye,ke){var Ce=ye.FullPaths.map(function(Xe){return Xe.toUpperCase()}),Ae=Ce.map(function(Xe){var Ye=Xe.split("/");return Ye[Ye.length-(Xe.slice(-1)=="/"?2:1)]}),Ne=!1;ke.charCodeAt(0)===47?(Ne=!0,ke=Ce[0].slice(0,-1)+ke):Ne=ke.indexOf("/")!==-1;var Re=ke.toUpperCase(),$e=Ne===!0?Ce.indexOf(Re):Ae.indexOf(Re);if($e!==-1)return ye.FileIndex[$e];var rt=!Re.match(D0);for(Re=Re.replace(Bs,""),rt&&(Re=Re.replace(D0,"!")),$e=0;$e<Ce.length;++$e)if((rt?Ce[$e].replace(D0,"!"):Ce[$e]).replace(Bs,"")==Re||(rt?Ae[$e].replace(D0,"!"):Ae[$e]).replace(Bs,"")==Re)return ye.FileIndex[$e];return null}var N=64,O=-2,U="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(ye,ke,Ce){c();var Ae=F(ye,Ce);l.writeFileSync(ke,Ae)}function z(ye){for(var ke=new Array(ye.length),Ce=0;Ce<ye.length;++Ce)ke[Ce]=String.fromCharCode(ye[Ce]);return ke.join("")}function Y(ye,ke){var Ce=F(ye,ke);switch(ke&&ke.type||"buffer"){case"file":return c(),l.writeFileSync(ke.filename,Ce),Ce;case"binary":return typeof Ce=="string"?Ce:z(Ce);case"base64":return Ky(typeof Ce=="string"?Ce:z(Ce));case"buffer":if(gn)return Buffer.isBuffer(Ce)?Ce:Pc(Ce);case"array":return typeof Ce=="string"?Aa(Ce):Ce}return Ce}var B;function j(ye){try{var ke=ye.InflateRaw,Ce=new ke;if(Ce._processChunk(new Uint8Array([3,0]),Ce._finishFlushFlag),Ce.bytesRead)B=ye;else throw new Error("zlib does not expose bytesRead")}catch(Ae){console.error("cannot use native zlib: "+(Ae.message||Ae))}}function q(ye,ke){if(!B)return $n(ye,ke);var Ce=B.InflateRaw,Ae=new Ce,Ne=Ae._processChunk(ye.slice(ye.l),Ae._finishFlushFlag);return ye.l+=Ae.bytesRead,Ne}function X(ye){return B?B.deflateRawSync(ye):Le(ye)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(ye){var ke=(ye<<1|ye<<11)&139536|(ye<<5|ye<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var de=typeof Uint8Array<"u",Se=de?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)Se[Pe]=ue(Pe);function pe(ye,ke){var Ce=Se[ye&255];return ke<=8?Ce>>>8-ke:(Ce=Ce<<8|Se[ye>>8&255],ke<=16?Ce>>>16-ke:(Ce=Ce<<8|Se[ye>>16&255],Ce>>>24-ke))}function je(ye,ke){var Ce=ke&7,Ae=ke>>>3;return(ye[Ae]|(Ce<=6?0:ye[Ae+1]<<8))>>>Ce&3}function V(ye,ke){var Ce=ke&7,Ae=ke>>>3;return(ye[Ae]|(Ce<=5?0:ye[Ae+1]<<8))>>>Ce&7}function xe(ye,ke){var Ce=ke&7,Ae=ke>>>3;return(ye[Ae]|(Ce<=4?0:ye[Ae+1]<<8))>>>Ce&15}function _e(ye,ke){var Ce=ke&7,Ae=ke>>>3;return(ye[Ae]|(Ce<=3?0:ye[Ae+1]<<8))>>>Ce&31}function le(ye,ke){var Ce=ke&7,Ae=ke>>>3;return(ye[Ae]|(Ce<=1?0:ye[Ae+1]<<8))>>>Ce&127}function re(ye,ke,Ce){var Ae=ke&7,Ne=ke>>>3,Re=(1<<Ce)-1,$e=ye[Ne]>>>Ae;return Ce<8-Ae||($e|=ye[Ne+1]<<8-Ae,Ce<16-Ae)||($e|=ye[Ne+2]<<16-Ae,Ce<24-Ae)||($e|=ye[Ne+3]<<24-Ae),$e&Re}function oe(ye,ke,Ce){var Ae=ke&7,Ne=ke>>>3;return Ae<=5?ye[Ne]|=(Ce&7)<<Ae:(ye[Ne]|=Ce<<Ae&255,ye[Ne+1]=(Ce&7)>>8-Ae),ke+3}function fe(ye,ke,Ce){var Ae=ke&7,Ne=ke>>>3;return Ce=(Ce&1)<<Ae,ye[Ne]|=Ce,ke+1}function be(ye,ke,Ce){var Ae=ke&7,Ne=ke>>>3;return Ce<<=Ae,ye[Ne]|=Ce&255,Ce>>>=8,ye[Ne+1]=Ce,ke+8}function ie(ye,ke,Ce){var Ae=ke&7,Ne=ke>>>3;return Ce<<=Ae,ye[Ne]|=Ce&255,Ce>>>=8,ye[Ne+1]=Ce&255,ye[Ne+2]=Ce>>>8,ke+16}function ce(ye,ke){var Ce=ye.length,Ae=2*Ce>ke?2*Ce:ke+5,Ne=0;if(Ce>=ke)return ye;if(gn){var Re=nO(Ae);if(ye.copy)ye.copy(Re);else for(;Ne<ye.length;++Ne)Re[Ne]=ye[Ne];return Re}else if(de){var $e=new Uint8Array(Ae);if($e.set)$e.set(ye);else for(;Ne<Ce;++Ne)$e[Ne]=ye[Ne];return $e}return ye.length=Ae,ye}function me(ye){for(var ke=new Array(ye),Ce=0;Ce<ye;++Ce)ke[Ce]=0;return ke}function ge(ye,ke,Ce){var Ae=1,Ne=0,Re=0,$e=0,rt=0,Xe=ye.length,Ye=de?new Uint16Array(32):me(32);for(Re=0;Re<32;++Re)Ye[Re]=0;for(Re=Xe;Re<Ce;++Re)ye[Re]=0;Xe=ye.length;var Ze=de?new Uint16Array(Xe):me(Xe);for(Re=0;Re<Xe;++Re)Ye[Ne=ye[Re]]++,Ae<Ne&&(Ae=Ne),Ze[Re]=0;for(Ye[0]=0,Re=1;Re<=Ae;++Re)Ye[Re+16]=rt=rt+Ye[Re-1]<<1;for(Re=0;Re<Xe;++Re)rt=ye[Re],rt!=0&&(Ze[Re]=Ye[rt+16]++);var Ie=0;for(Re=0;Re<Xe;++Re)if(Ie=ye[Re],Ie!=0)for(rt=pe(Ze[Re],Ae)>>Ae-Ie,$e=(1<<Ae+4-Ie)-1;$e>=0;--$e)ke[rt|$e<<Ie]=Ie&15|Re<<4;return Ae}var De=de?new Uint16Array(512):me(512),Oe=de?new Uint16Array(32):me(32);if(!de){for(var Te=0;Te<512;++Te)De[Te]=0;for(Te=0;Te<32;++Te)Oe[Te]=0}(function(){for(var ye=[],ke=0;ke<32;ke++)ye.push(5);ge(ye,Oe,32);var Ce=[];for(ke=0;ke<=143;ke++)Ce.push(8);for(;ke<=255;ke++)Ce.push(9);for(;ke<=279;ke++)Ce.push(7);for(;ke<=287;ke++)Ce.push(8);ge(Ce,De,288)})();var Ue=(function(){for(var ke=de?new Uint8Array(32768):[],Ce=0,Ae=0;Ce<ae.length-1;++Ce)for(;Ae<ae[Ce+1];++Ae)ke[Ae]=Ce;for(;Ae<32768;++Ae)ke[Ae]=29;var Ne=de?new Uint8Array(259):[];for(Ce=0,Ae=0;Ce<te.length-1;++Ce)for(;Ae<te[Ce+1];++Ae)Ne[Ae]=Ce;function Re(rt,Xe){for(var Ye=0;Ye<rt.length;){var Ze=Math.min(65535,rt.length-Ye),Ie=Ye+Ze==rt.length;for(Xe.write_shift(1,+Ie),Xe.write_shift(2,Ze),Xe.write_shift(2,~Ze&65535);Ze-- >0;)Xe[Xe.l++]=rt[Ye++]}return Xe.l}function $e(rt,Xe){for(var Ye=0,Ze=0,Ie=de?new Uint16Array(32768):[];Ze<rt.length;){var qe=Math.min(65535,rt.length-Ze);if(qe<10){for(Ye=oe(Xe,Ye,+(Ze+qe==rt.length)),Ye&7&&(Ye+=8-(Ye&7)),Xe.l=Ye/8|0,Xe.write_shift(2,qe),Xe.write_shift(2,~qe&65535);qe-- >0;)Xe[Xe.l++]=rt[Ze++];Ye=Xe.l*8;continue}Ye=oe(Xe,Ye,+(Ze+qe==rt.length)+2);for(var st=0;qe-- >0;){var tt=rt[Ze];st=(st<<5^tt)&32767;var Ve=-1,ot=0;if((Ve=Ie[st])&&(Ve|=Ze&-32768,Ve>Ze&&(Ve-=32768),Ve<Ze))for(;rt[Ve+ot]==rt[Ze+ot]&&ot<250;)++ot;if(ot>2){tt=Ne[ot],tt<=22?Ye=be(Xe,Ye,Se[tt+1]>>1)-1:(be(Xe,Ye,3),Ye+=5,be(Xe,Ye,Se[tt-23]>>5),Ye+=3);var xt=tt<8?0:tt-4>>2;xt>0&&(ie(Xe,Ye,ot-te[tt]),Ye+=xt),tt=ke[Ze-Ve],Ye=be(Xe,Ye,Se[tt]>>3),Ye-=3;var Lt=tt<4?0:tt-2>>1;Lt>0&&(ie(Xe,Ye,Ze-Ve-ae[tt]),Ye+=Lt);for(var qt=0;qt<ot;++qt)Ie[st]=Ze&32767,st=(st<<5^rt[Ze])&32767,++Ze;qe-=ot-1}else tt<=143?tt=tt+48:Ye=fe(Xe,Ye,1),Ye=be(Xe,Ye,Se[tt]),Ie[st]=Ze&32767,++Ze}Ye=be(Xe,Ye,0)-1}return Xe.l=(Ye+7)/8|0,Xe.l}return function(Xe,Ye){return Xe.length<8?Re(Xe,Ye):$e(Xe,Ye)}})();function Le(ye){var ke=at(50+Math.floor(ye.length*1.1)),Ce=Ue(ye,ke);return ke.slice(0,Ce)}var Je=de?new Uint16Array(32768):me(32768),lt=de?new Uint16Array(32768):me(32768),ct=de?new Uint16Array(128):me(128),Bt=1,_n=1;function dn(ye,ke){var Ce=_e(ye,ke)+257;ke+=5;var Ae=_e(ye,ke)+1;ke+=5;var Ne=xe(ye,ke)+4;ke+=4;for(var Re=0,$e=de?new Uint8Array(19):me(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Xe=1,Ye=de?new Uint8Array(8):me(8),Ze=de?new Uint8Array(8):me(8),Ie=$e.length,qe=0;qe<Ne;++qe)$e[Q[qe]]=Re=V(ye,ke),Xe<Re&&(Xe=Re),Ye[Re]++,ke+=3;var st=0;for(Ye[0]=0,qe=1;qe<=Xe;++qe)Ze[qe]=st=st+Ye[qe-1]<<1;for(qe=0;qe<Ie;++qe)(st=$e[qe])!=0&&(rt[qe]=Ze[st]++);var tt=0;for(qe=0;qe<Ie;++qe)if(tt=$e[qe],tt!=0){st=Se[rt[qe]]>>8-tt;for(var Ve=(1<<7-tt)-1;Ve>=0;--Ve)ct[st|Ve<<tt]=tt&7|qe<<3}var ot=[];for(Xe=1;ot.length<Ce+Ae;)switch(st=ct[le(ye,ke)],ke+=st&7,st>>>=3){case 16:for(Re=3+je(ye,ke),ke+=2,st=ot[ot.length-1];Re-- >0;)ot.push(st);break;case 17:for(Re=3+V(ye,ke),ke+=3;Re-- >0;)ot.push(0);break;case 18:for(Re=11+le(ye,ke),ke+=7;Re-- >0;)ot.push(0);break;default:ot.push(st),Xe<st&&(Xe=st);break}var xt=ot.slice(0,Ce),Lt=ot.slice(Ce);for(qe=Ce;qe<286;++qe)xt[qe]=0;for(qe=Ae;qe<30;++qe)Lt[qe]=0;return Bt=ge(xt,Je,286),_n=ge(Lt,lt,30),ke}function ur(ye,ke){if(ye[0]==3&&!(ye[1]&3))return[Gu(ke),2];for(var Ce=0,Ae=0,Ne=nO(ke||1<<18),Re=0,$e=Ne.length>>>0,rt=0,Xe=0;(Ae&1)==0;){if(Ae=V(ye,Ce),Ce+=3,Ae>>>1)Ae>>1==1?(rt=9,Xe=5):(Ce=dn(ye,Ce),rt=Bt,Xe=_n);else{Ce&7&&(Ce+=8-(Ce&7));var Ye=ye[Ce>>>3]|ye[(Ce>>>3)+1]<<8;if(Ce+=32,Ye>0)for(!ke&&$e<Re+Ye&&(Ne=ce(Ne,Re+Ye),$e=Ne.length);Ye-- >0;)Ne[Re++]=ye[Ce>>>3],Ce+=8;continue}for(;;){!ke&&$e<Re+32767&&(Ne=ce(Ne,Re+32767),$e=Ne.length);var Ze=re(ye,Ce,rt),Ie=Ae>>>1==1?De[Ze]:Je[Ze];if(Ce+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)Ne[Re++]=Ie;else{if(Ie==256)break;Ie-=257;var qe=Ie<8?0:Ie-4>>2;qe>5&&(qe=0);var st=Re+te[Ie];qe>0&&(st+=re(ye,Ce,qe),Ce+=qe),Ze=re(ye,Ce,Xe),Ie=Ae>>>1==1?Oe[Ze]:lt[Ze],Ce+=Ie&15,Ie>>>=4;var tt=Ie<4?0:Ie-2>>1,Ve=ae[Ie];for(tt>0&&(Ve+=re(ye,Ce,tt),Ce+=tt),!ke&&$e<st&&(Ne=ce(Ne,st+100),$e=Ne.length);Re<st;)Ne[Re]=Ne[Re-Ve],++Re}}}return ke?[Ne,Ce+7>>>3]:[Ne.slice(0,Re),Ce+7>>>3]}function $n(ye,ke){var Ce=ye.slice(ye.l||0),Ae=ur(Ce,ke);return ye.l+=Ae[1],Ae[0]}function Ln(ye,ke){if(ye)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function Sn(ye,ke){var Ce=ye;Qi(Ce,0);var Ae=[],Ne=[],Re={FileIndex:Ae,FullPaths:Ne};D(Re,{root:ke.root});for(var $e=Ce.length-4;(Ce[$e]!=80||Ce[$e+1]!=75||Ce[$e+2]!=5||Ce[$e+3]!=6)&&$e>=0;)--$e;Ce.l=$e+4,Ce.l+=4;var rt=Ce.read_shift(2);Ce.l+=6;var Xe=Ce.read_shift(4);for(Ce.l=Xe,$e=0;$e<rt;++$e){Ce.l+=20;var Ye=Ce.read_shift(4),Ze=Ce.read_shift(4),Ie=Ce.read_shift(2),qe=Ce.read_shift(2),st=Ce.read_shift(2);Ce.l+=8;var tt=Ce.read_shift(4),Ve=o(Ce.slice(Ce.l+Ie,Ce.l+Ie+qe));Ce.l+=Ie+qe+st;var ot=Ce.l;Ce.l=tt+4,At(Ce,Ye,Ze,Re,Ve),Ce.l=ot}return Re}function At(ye,ke,Ce,Ae,Ne){ye.l+=2;var Re=ye.read_shift(2),$e=ye.read_shift(2),rt=a(ye);if(Re&8257)throw new Error("Unsupported ZIP encryption");for(var Xe=ye.read_shift(4),Ye=ye.read_shift(4),Ze=ye.read_shift(4),Ie=ye.read_shift(2),qe=ye.read_shift(2),st="",tt=0;tt<Ie;++tt)st+=String.fromCharCode(ye[ye.l++]);if(qe){var Ve=o(ye.slice(ye.l,ye.l+qe));(Ve[21589]||{}).mt&&(rt=Ve[21589].mt),((Ne||{})[21589]||{}).mt&&(rt=Ne[21589].mt)}ye.l+=qe;var ot=ye.slice(ye.l,ye.l+Ye);switch($e){case 8:ot=q(ye,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+$e)}var xt=!1;Re&8&&(Xe=ye.read_shift(4),Xe==134695760&&(Xe=ye.read_shift(4),xt=!0),Ye=ye.read_shift(4),Ze=ye.read_shift(4)),Ye!=ke&&Ln(xt,"Bad compressed size: "+ke+" != "+Ye),Ze!=Ce&&Ln(xt,"Bad uncompressed size: "+Ce+" != "+Ze),jn(Ae,st,ot,{unsafe:!0,mt:rt})}function Zt(ye,ke){var Ce=ke||{},Ae=[],Ne=[],Re=at(1),$e=Ce.compression?8:0,rt=0,Xe=0,Ye=0,Ze=0,Ie=0,qe=ye.FullPaths[0],st=qe,tt=ye.FileIndex[0],Ve=[],ot=0;for(Xe=1;Xe<ye.FullPaths.length;++Xe)if(st=ye.FullPaths[Xe].slice(qe.length),tt=ye.FileIndex[Xe],!(!tt.size||!tt.content||st=="Sh33tJ5")){var xt=Ze,Lt=at(st.length);for(Ye=0;Ye<st.length;++Ye)Lt.write_shift(1,st.charCodeAt(Ye)&127);Lt=Lt.slice(0,Lt.l),Ve[Ie]=Y4e.buf(tt.content,0);var qt=tt.content;$e==8&&(qt=X(qt)),Re=at(30),Re.write_shift(4,67324752),Re.write_shift(2,20),Re.write_shift(2,rt),Re.write_shift(2,$e),tt.mt?s(Re,tt.mt):Re.write_shift(4,0),Re.write_shift(-4,Ve[Ie]),Re.write_shift(4,qt.length),Re.write_shift(4,tt.content.length),Re.write_shift(2,Lt.length),Re.write_shift(2,0),Ze+=Re.length,Ae.push(Re),Ze+=Lt.length,Ae.push(Lt),Ze+=qt.length,Ae.push(qt),Re=at(46),Re.write_shift(4,33639248),Re.write_shift(2,0),Re.write_shift(2,20),Re.write_shift(2,rt),Re.write_shift(2,$e),Re.write_shift(4,0),Re.write_shift(-4,Ve[Ie]),Re.write_shift(4,qt.length),Re.write_shift(4,tt.content.length),Re.write_shift(2,Lt.length),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(4,0),Re.write_shift(4,xt),ot+=Re.l,Ne.push(Re),ot+=Lt.length,Ne.push(Lt),++Ie}return Re=at(22),Re.write_shift(4,101010256),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,Ie),Re.write_shift(2,Ie),Re.write_shift(4,ot),Re.write_shift(4,Ze),Re.write_shift(2,0),Vi([Vi(Ae),Vi(Ne),Re])}var he={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function we(ye,ke){if(ye.ctype)return ye.ctype;var Ce=ye.name||"",Ae=Ce.match(/\.([^\.]+)$/);return Ae&&he[Ae[1]]||ke&&(Ae=(Ce=ke).match(/[\.\\]([^\.\\])+$/),Ae&&he[Ae[1]])?he[Ae[1]]:"application/octet-stream"}function Me(ye){for(var ke=Ky(ye),Ce=[],Ae=0;Ae<ke.length;Ae+=76)Ce.push(ke.slice(Ae,Ae+76));return Ce.join(`\r
`)+`\r
`}function Ge(ye){var ke=ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Ze=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ce=[],Ae=ke.split(`\r
`),Ne=0;Ne<Ae.length;++Ne){var Re=Ae[Ne];if(Re.length==0){Ce.push("");continue}for(var $e=0;$e<Re.length;){var rt=76,Xe=Re.slice($e,$e+rt);Xe.charAt(rt-1)=="="?rt--:Xe.charAt(rt-2)=="="?rt-=2:Xe.charAt(rt-3)=="="&&(rt-=3),Xe=Re.slice($e,$e+rt),$e+=rt,$e<Re.length&&(Xe+="="),Ce.push(Xe)}}return Ce.join(`\r
`)}function ft(ye){for(var ke=[],Ce=0;Ce<ye.length;++Ce){for(var Ae=ye[Ce];Ce<=ye.length&&Ae.charAt(Ae.length-1)=="=";)Ae=Ae.slice(0,Ae.length-1)+ye[++Ce];ke.push(Ae)}for(var Ne=0;Ne<ke.length;++Ne)ke[Ne]=ke[Ne].replace(/[=][0-9A-Fa-f]{2}/g,function(Re){return String.fromCharCode(parseInt(Re.slice(1),16))});return Aa(ke.join(`\r
`))}function It(ye,ke,Ce){for(var Ae="",Ne="",Re="",$e,rt=0;rt<10;++rt){var Xe=ke[rt];if(!Xe||Xe.match(/^\s*$/))break;var Ye=Xe.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":Ae=Ye[2].trim();break;case"content-type":Re=Ye[2].trim();break;case"content-transfer-encoding":Ne=Ye[2].trim();break}}switch(++rt,Ne.toLowerCase()){case"base64":$e=Aa(Ua(ke.slice(rt).join("")));break;case"quoted-printable":$e=ft(ke.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ne)}var Ze=jn(ye,Ae.slice(Ce.length),$e,{unsafe:!0});Re&&(Ze.ctype=Re)}function hn(ye,ke){if(z(ye.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ce=ke&&ke.root||"",Ae=(gn&&Buffer.isBuffer(ye)?ye.toString("binary"):z(ye)).split(`\r
`),Ne=0,Re="";for(Ne=0;Ne<Ae.length;++Ne)if(Re=Ae[Ne],!!/^Content-Location:/i.test(Re)&&(Re=Re.slice(Re.indexOf("file")),Ce||(Ce=Re.slice(0,Re.lastIndexOf("/")+1)),Re.slice(0,Ce.length)!=Ce))for(;Ce.length>0&&(Ce=Ce.slice(0,Ce.length-1),Ce=Ce.slice(0,Ce.lastIndexOf("/")+1),Re.slice(0,Ce.length)!=Ce););var $e=(Ae[1]||"").match(/boundary="(.*?)"/);if(!$e)throw new Error("MAD cannot find boundary");var rt="--"+($e[1]||""),Xe=[],Ye=[],Ze={FileIndex:Xe,FullPaths:Ye};D(Ze);var Ie,qe=0;for(Ne=0;Ne<Ae.length;++Ne){var st=Ae[Ne];st!==rt&&st!==rt+"--"||(qe++&&It(Ze,Ae.slice(Ie,Ne),Ce),Ie=Ne)}return Ze}function an(ye,ke){var Ce=ke||{},Ae=Ce.boundary||"SheetJS";Ae="------="+Ae;for(var Ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ae.slice(2)+'"',"","",""],Re=ye.FullPaths[0],$e=Re,rt=ye.FileIndex[0],Xe=1;Xe<ye.FullPaths.length;++Xe)if($e=ye.FullPaths[Xe].slice(Re.length),rt=ye.FileIndex[Xe],!(!rt.size||!rt.content||$e=="Sh33tJ5")){$e=$e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var Ye=rt.content,Ze=gn&&Buffer.isBuffer(Ye)?Ye.toString("binary"):z(Ye),Ie=0,qe=Math.min(1024,Ze.length),st=0,tt=0;tt<=qe;++tt)(st=Ze.charCodeAt(tt))>=32&&st<128&&++Ie;var Ve=Ie>=qe*4/5;Ne.push(Ae),Ne.push("Content-Location: "+(Ce.root||"file:///C:/SheetJS/")+$e),Ne.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),Ne.push("Content-Type: "+we(rt,$e)),Ne.push(""),Ne.push(Ve?Ge(Ze):Me(Ze))}return Ne.push(Ae+`--\r
`),Ne.join(`\r
`)}function dr(ye){var ke={};return D(ke,ye),ke}function jn(ye,ke,Ce,Ae){var Ne=Ae&&Ae.unsafe;Ne||D(ye);var Re=!Ne&&Wt.find(ye,ke);if(!Re){var $e=ye.FullPaths[0];ke.slice(0,$e.length)==$e?$e=ke:($e.slice(-1)!="/"&&($e+="/"),$e=($e+ke).replace("//","/")),Re={name:i(ke),type:2},ye.FileIndex.push(Re),ye.FullPaths.push($e),Ne||Wt.utils.cfb_gc(ye)}return Re.content=Ce,Re.size=Ce?Ce.length:0,Ae&&(Ae.CLSID&&(Re.clsid=Ae.CLSID),Ae.mt&&(Re.mt=Ae.mt),Ae.ct&&(Re.ct=Ae.ct)),Re}function Jr(ye,ke){D(ye);var Ce=Wt.find(ye,ke);if(Ce){for(var Ae=0;Ae<ye.FileIndex.length;++Ae)if(ye.FileIndex[Ae]==Ce)return ye.FileIndex.splice(Ae,1),ye.FullPaths.splice(Ae,1),!0}return!1}function Yr(ye,ke,Ce){D(ye);var Ae=Wt.find(ye,ke);if(Ae){for(var Ne=0;Ne<ye.FileIndex.length;++Ne)if(ye.FileIndex[Ne]==Ae)return ye.FileIndex[Ne].name=i(Ce),ye.FullPaths[Ne]=Ce,!0}return!1}function oi(ye){I(ye,!0)}return e.find=P,e.read=R,e.parse=u,e.write=Y,e.writeFile=Z,e.utils={cfb_new:dr,cfb_add:jn,cfb_del:Jr,cfb_mov:Yr,cfb_gc:oi,ReadShift:ey,CheckField:JK,prep_blob:Qi,bconcat:Vi,use_zlib:j,_deflateRaw:Le,_inflateRaw:$n,consts:J},e})();function Q4e(t){return typeof t=="string"?Mw(t):Array.isArray(t)?E4e(t):t}function Jv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Mw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?_l(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([Q4e(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=cd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Z4e(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Hr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function uO(t,e){for(var n=[],r=Hr(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Ow(t){for(var e=[],n=Hr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Lw(t){for(var e=[],n=Hr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function eDe(t){for(var e=[],n=Hr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Xb=new Date(1899,11,30,0,0,0);function Ei(t,e){var n=t.getTime(),r=Xb.getTime()+(t.getTimezoneOffset()-Xb.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var NK=new Date,tDe=Xb.getTime()+(NK.getTimezoneOffset()-Xb.getTimezoneOffset())*6e4,dO=NK.getTimezoneOffset();function jw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+tDe),e.getTimezoneOffset()!==dO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-dO)*6e4),e}function nDe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var fO=new Date("2017-02-19T19:06:09.000Z"),kK=isNaN(fO.getFullYear())?new Date("2/19/17"):fO,rDe=kK.getFullYear()==2017;function xr(t,e){var n=new Date(t);if(rDe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(kK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function qf(t,e){if(gn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return _l(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return _l(yK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return _l(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return _l(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function br(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=br(t[n]));return e}function Vr(t,e){for(var n="";n.length<e;)n+=t;return n}function Vo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var iDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&iDe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var sDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function IK(t){return t?t.content&&t.type?qf(t.content,!0):t.data?S0(t.data):t.asNodeBuffer&&gn?S0(t.asNodeBuffer().toString("binary")):t.asBinary?S0(t.asBinary()):t._data&&t._data.getContent?S0(qf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function RK(t){if(!t)return null;if(t.data)return eO(t.data);if(t.asNodeBuffer&&gn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?eO(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function aDe(t){return t&&t.name.slice(-4)===".bin"?RK(t):IK(t)}function eo(t,e){for(var n=t.FullPaths||Hr(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function kI(t,e){var n=eo(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function fi(t,e,n){if(!n)return aDe(kI(t,e));if(!e)return null;try{return fi(t,e)}catch{return null}}function Na(t,e,n){if(!n)return IK(kI(t,e));if(!e)return null;try{return Na(t,e)}catch{return null}}function oDe(t,e,n){return RK(kI(t,e))}function hO(t){for(var e=t.FullPaths||Hr(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function fn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return gn?r=Pc(n):r=C4e(n),Wt.utils.cfb_add(t,e,r)}Wt.utils.cfb_add(t,e,n)}else t.file(e,n)}function II(){return Wt.utils.cfb_new()}function PK(t,e){switch(e.type){case"base64":return Wt.read(t,{type:"base64"});case"binary":return Wt.read(t,{type:"binary"});case"buffer":case"array":return Wt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function A0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var si=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,lDe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,pO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,cDe=/<[^>]*>/g,Ds=si.match(pO)?pO:cDe,uDe=/<\w*:/,dDe=/<(\/?)\w+:/;function en(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(lDe),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Ul(t){return t.replace(dDe,"<$1")}var FK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},RI=Ow(FK),kn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return FK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),PI=/[&<>'"]/g,fDe=/[\u0000-\u0008\u000b-\u001f]/g;function Jn(t){var e=t+"";return e.replace(PI,function(n){return RI[n]}).replace(fDe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function mO(t){return Jn(t).replace(/ /g,"_x0020_")}var MK=/[\u0000-\u001f]/g;function FI(t){var e=t+"";return e.replace(PI,function(n){return RI[n]}).replace(/\n/g,"<br/>").replace(MK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function hDe(t){var e=t+"";return e.replace(PI,function(n){return RI[n]}).replace(MK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var gO=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function pDe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function mr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function c4(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function yO(t){var e=Gu(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function vO(t){return Pc(t,"binary").toString("utf8")}var jx="foo bar baz",er=gn&&(vO(jx)==c4(jx)&&vO||yO(jx)==c4(jx)&&yO)||c4,_l=gn?function(t){return Pc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Jy=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),UK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),mDe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),gDe=/<\/?(?:vt:)?variant>/g,yDe=/<(?:vt:)([^>]*)>([\s\S]*)</;function xO(t,e){var n=en(t),r=t.match(mDe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(gDe,"").match(yDe);a&&i.push({v:er(a[2]),t:a[1]})}),i}var OK=/(^\s|\s$|\n)/;function es(t,e){return"<"+t+(e.match(OK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Yy(t){return Hr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function _t(t,e,n){return"<"+t+(n!=null?Yy(n):"")+(e!=null?(e.match(OK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function lN(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function vDe(t,e){switch(typeof t){case"string":var n=_t("vt:lpwstr",Jn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return _t((t|0)==t?"vt:i4":"vt:r8",Jn(String(t)));case"boolean":return _t("vt:bool",t?"true":"false")}if(t instanceof Date)return _t("vt:filetime",lN(t));throw new Error("Unable to serialize "+t)}function MI(t){if(gn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return er(cd(DI(t)));throw new Error("Bad input format: expected Buffer or string")}var Qy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ch=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Sa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function xDe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function bDe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var bO=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},_O=gn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Pc(e)})):bO(t)}:bO,wO=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ic(t,i)));return r.join("").replace(Bs,"")},UI=gn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Bs,""):wO(t,e,n)}:wO,TO=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},LK=gn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):TO(t,e,n)}:TO,EO=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(_p(t,i)));return r.join("")},Yv=gn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):EO(e,n,r)}:EO,jK=function(t,e){var n=Da(t,e);return n>0?Yv(t,e+4,e+4+n-1):""},BK=jK,VK=function(t,e){var n=Da(t,e);return n>0?Yv(t,e+4,e+4+n-1):""},WK=VK,qK=function(t,e){var n=2*Da(t,e);return n>0?Yv(t,e+4,e+4+n-1):""},$K=qK,zK=function(e,n){var r=Da(e,n);return r>0?UI(e,n+4,n+4+r):""},HK=zK,GK=function(t,e){var n=Da(t,e);return n>0?Yv(t,e+4,e+4+n):""},KK=GK,XK=function(t,e){return xDe(t,e)},Jb=XK,OI=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};gn&&(BK=function(e,n){if(!Buffer.isBuffer(e))return jK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},WK=function(e,n){if(!Buffer.isBuffer(e))return VK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},$K=function(e,n){if(!Buffer.isBuffer(e))return qK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},HK=function(e,n){if(!Buffer.isBuffer(e))return zK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},KK=function(e,n){if(!Buffer.isBuffer(e))return GK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Jb=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):XK(e,n)},OI=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var _p=function(t,e){return t[e]},ic=function(t,e){return t[e+1]*256+t[e]},_De=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Da=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Zd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},wDe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ey(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,gn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(ic(this,c)),c+=2;t*=2;break;case"utf8":n=Yv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=UI(this,this.l,this.l+t);break;case"wstr":return ey.call(this,t,"dbcs");case"lpstr-ansi":n=BK(this,this.l),t=4+Da(this,this.l);break;case"lpstr-cp":n=WK(this,this.l),t=4+Da(this,this.l);break;case"lpwstr":n=$K(this,this.l),t=4+2*Da(this,this.l);break;case"lpp4":t=4+Da(this,this.l),n=HK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Da(this,this.l),n=KK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=_p(this,this.l+t++))!==0;)s.push(Lx(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=ic(this,this.l+t))!==0;)s.push(Lx(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=_p(this,c),this.l=c+1,o=ey.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Lx(ic(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=_p(this,c),this.l=c+1,o=ey.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Lx(_p(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=_p(this,this.l),this.l++,r;case 2:return r=(e==="i"?_De:ic)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Zd:wDe)(this,this.l),this.l+=4,r):(i=Da(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Jb(this,this.l):i=Jb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=LK(this,this.l,t);break}}return this.l+=t,n}var TDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},EDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},CDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function SDe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)CDe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,TDe(this,e,this.l);break;case 8:if(r=8,n==="f"){bDe(this,e,this.l);break}case 16:break;case-4:r=4,EDe(this,e,this.l);break}return this.l+=r,this}function JK(t,e){var n=LK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Qi(t,e){t.l=e,t.read_shift=ey,t.chk=JK,t.write_shift=SDe}function Es(t,e){t.l+=e}function at(t){var e=Gu(t);return Qi(e,0),e}function Fc(t,e,n){if(t){var r,i,s;Qi(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=iv[o]||iv[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function ua(){var t=[],e=gn?256:2048,n=function(c){var u=at(c);return Qi(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Vi(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function dt(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=iv[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&OI(n)&&t.push(n)}}function ty(t,e,n){var r=br(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function CO(t,e,n){var r=br(t);return r.s=ty(r.s,e.s,n),r.e=ty(r.e,e.s,n),r}function ny(t,e){if(t.cRel&&t.c<0)for(t=br(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=br(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Qt(t);return!t.cRel&&t.cRel!=null&&(n=NDe(n)),!t.rRel&&t.rRel!=null&&(n=DDe(n)),n}function u4(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Fr(t.s.c)+":"+(t.e.cRel?"":"$")+Fr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ri(t.s.r)+":"+(t.e.rRel?"":"$")+ri(t.e.r):ny(t.s,e.biff)+":"+ny(t.e,e.biff)}function LI(t){return parseInt(ADe(t),10)-1}function ri(t){return""+(t+1)}function DDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ADe(t){return t.replace(/\$(\d+)$/,"$1")}function jI(t){for(var e=kDe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Fr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function NDe(t){return t.replace(/^([A-Z])/,"$$$1")}function kDe(t){return t.replace(/^\$([A-Z])/,"$1")}function IDe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Qt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function da(t){var e=t.indexOf(":");return e==-1?{s:Mr(t),e:Mr(t)}:{s:Mr(t.slice(0,e)),e:Mr(t.slice(e+1))}}function un(t,e){return typeof e>"u"||typeof e=="number"?un(t.s,t.e):(typeof t!="string"&&(t=Qt(t)),typeof e!="string"&&(e=Qt(e)),t==e?t:t+":"+e)}function In(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function SO(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ho(t.z,n?Ei(e):e)}catch{}try{return t.w=ho((t.XF||{}).numFmtId||(n?14:0),n?Ei(e):e)}catch{return""+e}}function wc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Mc[t.v]||t.v:e==null?SO(t,t.v):SO(t,e))}function ud(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function YK(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Mr(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=In(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Xt[14],r.cellDates?(p.t="d",p.w=ho(p.z,Ei(p.v))):(p.t="n",p.v=Ei(p.v),p.w=ho(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=Qt({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=un(c)),s}function sg(t,e){return YK(null,t,e)}function RDe(t){return t.read_shift(4,"i")}function Wo(t,e){return e||(e=at(4)),e.write_shift(4,t),e}function Ts(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Wi(t,e){var n=!1;return e==null&&(n=!0,e=at(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function PDe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function FDe(t,e){return e||(e=at(4)),e.write_shift(2,0),e.write_shift(2,0),e}function BI(t,e){var n=t.l,r=t.read_shift(1),i=Ts(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(PDe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function MDe(t,e){var n=!1;return e==null&&(n=!0,e=at(15+4*t.t.length)),e.write_shift(1,0),Wi(t.t,e),n?e.slice(0,e.l):e}var UDe=BI;function ODe(t,e){var n=!1;return e==null&&(n=!0,e=at(23+4*t.t.length)),e.write_shift(1,1),Wi(t.t,e),e.write_shift(4,1),FDe({},e),n?e.slice(0,e.l):e}function go(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function uh(t,e){return e==null&&(e=at(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function dh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function fh(t,e){return e==null&&(e=at(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var LDe=Ts,QK=Wi;function VI(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Yb(t,e){var n=!1;return e==null&&(n=!0,e=at(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var jDe=Ts,cN=VI,WI=Yb;function qI(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Jb([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Zd(e,0)>>2;return n?i/100:i}function ZK(t,e){e==null&&(e=at(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function eX(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function BDe(t,e){return e||(e=at(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var hh=eX,ag=BDe;function ys(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function $f(t,e){return(e||at(8)).write_shift(8,t,"f")}function VDe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=yf[i];c&&(e.rgb=ev(c));break;case 2:e.rgb=ev([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Qb(t,e){if(e||(e=at(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function WDe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function qDe(t,e){e||(e=at(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function tX(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function $De(t){return tX(t,1)}function zDe(t){return tX(t,2)}var $I=2,ea=3,Bx=11,DO=12,Zb=19,Vx=64,HDe=65,GDe=71,KDe=4108,XDe=4126,Ui=80,nX=81,JDe=[Ui,nX],uN={1:{n:"CodePage",t:$I},2:{n:"Category",t:Ui},3:{n:"PresentationFormat",t:Ui},4:{n:"ByteCount",t:ea},5:{n:"LineCount",t:ea},6:{n:"ParagraphCount",t:ea},7:{n:"SlideCount",t:ea},8:{n:"NoteCount",t:ea},9:{n:"HiddenCount",t:ea},10:{n:"MultimediaClipCount",t:ea},11:{n:"ScaleCrop",t:Bx},12:{n:"HeadingPairs",t:KDe},13:{n:"TitlesOfParts",t:XDe},14:{n:"Manager",t:Ui},15:{n:"Company",t:Ui},16:{n:"LinksUpToDate",t:Bx},17:{n:"CharacterCount",t:ea},19:{n:"SharedDoc",t:Bx},22:{n:"HyperlinksChanged",t:Bx},23:{n:"AppVersion",t:ea,p:"version"},24:{n:"DigSig",t:HDe},26:{n:"ContentType",t:Ui},27:{n:"ContentStatus",t:Ui},28:{n:"Language",t:Ui},29:{n:"Version",t:Ui},255:{},2147483648:{n:"Locale",t:Zb},2147483651:{n:"Behavior",t:Zb},1919054434:{}},dN={1:{n:"CodePage",t:$I},2:{n:"Title",t:Ui},3:{n:"Subject",t:Ui},4:{n:"Author",t:Ui},5:{n:"Keywords",t:Ui},6:{n:"Comments",t:Ui},7:{n:"Template",t:Ui},8:{n:"LastAuthor",t:Ui},9:{n:"RevNumber",t:Ui},10:{n:"EditTime",t:Vx},11:{n:"LastPrinted",t:Vx},12:{n:"CreatedDate",t:Vx},13:{n:"ModifiedDate",t:Vx},14:{n:"PageCount",t:ea},15:{n:"WordCount",t:ea},16:{n:"CharCount",t:ea},17:{n:"Thumbnail",t:GDe},18:{n:"Application",t:Ui},19:{n:"DocSecurity",t:ea},255:{},2147483648:{n:"Locale",t:Zb},2147483651:{n:"Behavior",t:Zb},1919054434:{}},AO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},YDe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function QDe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var ZDe=QDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yf=br(ZDe),Mc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},rX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},fN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Wx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function zI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function eAe(t){var e=zI();if(!t||!t.match)return e;var n={};if((t.match(Ds)||[]).forEach(function(r){var i=en(r);switch(i[0].replace(uDe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[fN[i.ContentType]]!==void 0&&e[fN[i.ContentType]].push(i.PartName);break}}),e.xmlns!==wi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function iX(t,e){var n=eDe(fN),r=[],i;r[r.length]=si,r[r.length]=_t("Types",null,{xmlns:wi.CT,"xmlns:xsd":wi.xsd,"xmlns:xsi":wi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return _t("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=_t("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Wx[l][e.bookType]||Wx[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=_t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Wx[l][e.bookType]||Wx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=_t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var vn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Zy(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ry(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ds)||[]).forEach(function(i){var s=en(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:A0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Vp(t){var e=[si,_t("Relationships",null,{xmlns:wi.RELS})];return Hr(t["!id"]).forEach(function(n){e[e.length]=_t("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Kn(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[vn.HLINK,vn.XPATH,vn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var tAe="application/vnd.oasis.opendocument.spreadsheet";function nAe(t,e){for(var n=MI(t),r,i;r=Qy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=en(r[0],!1),i.path=="/"&&i.type!==tAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function rAe(t){var e=[si];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function NO(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function iAe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function sAe(t){var e=[si];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(NO(t[n][0],t[n][1])),e.push(iAe("",t[n][0]));return e.push(NO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function sX(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zb.version+"</meta:generator></office:meta></office:document-meta>"}var lo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],aAe=(function(){for(var t=new Array(lo.length),e=0;e<lo.length;++e){var n=lo[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function aX(t){var e={};t=er(t);for(var n=0;n<lo.length;++n){var r=lo[n],i=t.match(aAe[n]);i!=null&&i.length>0&&(e[r[1]]=kn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=xr(e[r[1]]))}return e}function d4(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Jn(e),r[r.length]=n?_t(t,e,n):es(t,e))}function oX(t,e){var n=e||{},r=[si,_t("cp:coreProperties",null,{"xmlns:cp":wi.CORE_PROPS,"xmlns:dc":wi.dc,"xmlns:dcterms":wi.dcterms,"xmlns:dcmitype":wi.dcmitype,"xmlns:xsi":wi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&d4("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:lN(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&d4("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:lN(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=lo.length;++s){var a=lo[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&d4(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var vf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],lX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cX(t,e,n,r){var i=[];if(typeof t=="string")i=xO(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?xO(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function oAe(t,e,n){var r={};return e||(e={}),t=er(t),vf.forEach(function(i){var s=(t.match(Jy(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=kn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&cX(r.HeadingPairs,r.TitlesOfParts,e,n),e}function uX(t){var e=[],n=_t;return t||(t={}),t.Application="SheetJS",e[e.length]=si,e[e.length]=_t("Properties",null,{xmlns:wi.EXT_PROPS,"xmlns:vt":wi.vt}),vf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Jn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Jn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var lAe=/<[^>]+>[^<]*/g;function cAe(t,e){var n={},r="",i=t.match(lAe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=en(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=kn(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=kn(u);break;case"bool":n[r]=mr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=xr(u);break;case"cy":case"error":n[r]=kn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function dX(t){var e=[si,_t("Properties",null,{xmlns:wi.CUST_PROPS,"xmlns:vt":wi.vt})];if(!t)return e.join("");var n=1;return Hr(t).forEach(function(i){++n,e[e.length]=_t("property",vDe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Jn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var hN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},f4;function uAe(t,e,n){f4||(f4=Ow(hN)),e=f4[e]||e,t[e]=n}function dAe(t,e){var n=[];return Hr(hN).map(function(r){for(var i=0;i<lo.length;++i)if(lo[i][1]==r)return lo[i];for(i=0;i<vf.length;++i)if(vf[i][1]==r)return vf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(es(hN[r[1]]||r[1],i))}}),_t("DocumentProperties",n.join(""),{xmlns:Sa.o})}function fAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Hr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<lo.length;++a)if(s==lo[a][1])return;for(a=0;a<vf.length;++a)if(s==vf[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(_t(mO(s),o,{"dt:dt":l}))}}),e&&Hr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(_t(mO(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Sa.o+'">'+i.join("")+"</"+r+">"}function HI(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function hAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=at(8);return a.write_shift(4,r),a.write_shift(4,i),a}function fX(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function hX(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function pX(t,e,n){return e===31?hX(t):fX(t,e,n)}function pN(t,e,n){return pX(t,e,n===!1?0:4)}function pAe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return pX(t,e,0)}function mAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Bs,""),t.l-i&2&&(t.l+=2)}return n}function gAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Bs,"");return n}function yAe(t){var e=t.l,n=e_(t,nX);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=e_(t,ea);return[n,r]}function vAe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(yAe(t));return n}function kO(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Bs,"").replace(D0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function mX(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function xAe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function e_(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==DO&&r!==e&&JDe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===DO?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return fX(t,r,4).replace(Bs,"");case 31:return hX(t);case 64:return HI(t);case 65:return mX(t);case 71:return xAe(t);case 80:return pN(t,r,!s.raw).replace(Bs,"");case 81:return pAe(t,r).replace(Bs,"");case 4108:return vAe(t);case 4126:case 4127:return r==4127?mAe(t):gAe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function IO(t,e){var n=at(4),r=at(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=at(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=hAe(e);break;case 31:case 80:for(r=at(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Vi([n,r])}function RO(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(x,w){return x[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=e_(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Uo(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=e_(t,$I),Uo(o),l!==-1){var g=t.l;t.l=s[l][1],c=kO(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=kO(t,o)}else{var y=c[s[a][0]],_;switch(t[t.l]){case 65:t.l+=4,_=mX(t);break;case 30:t.l+=4,_=pN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=pN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=Zr(t,4);break;case 64:t.l+=4,_=xr(HI(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=_}}return t.l=n+r,h}var gX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function bAe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function PO(t,e,n){var r=at(8),i=[],s=[],a=8,o=0,l=at(8),c=at(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=at(8),c.write_shift(4,0),i.unshift(c);var u=[at(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=at(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Vi(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(gX.indexOf(t[o][0])>-1||lX.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=IO(v.t,h)}else{var y=bAe(h);y==-1&&(y=31,h=String(h)),l=IO(y,h)}s.push(l),c=at(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var _=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,_),_+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Vi([r].concat(i).concat(s))}function FO(t,e,n){var r=t.content;if(!r)return{};Qi(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Wt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=RO(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=RO(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function MO(t,e,n,r,i,s){var a=at(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Wt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=PO(t,n,r);if(o.push(l),i){var c=PO(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Vi(o)}function cu(t,e){return t.read_shift(e),null}function _Ae(t,e){e||(e=at(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function wAe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Zr(t,e){return t.read_shift(e)===1}function Ms(t,e){return e||(e=at(2)),e.write_shift(2,+!!t),e}function hi(t){return t.read_shift(2,"u")}function to(t,e){return e||(e=at(2)),e.write_shift(2,t),e}function yX(t,e){return wAe(t,e,hi)}function TAe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function vX(t,e,n){return n||(n=at(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Qv(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function EAe(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function CAe(t){var e=t.t||"",n=at(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=at(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Vi(i)}function zf(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Zv(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):zf(t,r,n)}function ph(t,e,n){if(n.biff>5)return Zv(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function xX(t,e,n){return n||(n=at(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function SAe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function DAe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Bs,"");return r&&(t.l+=24),i}function AAe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Bs,"");return n+a}function NAe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return DAe(t);case"0303000000000000c000000000000046":return AAe(t);default:throw new Error("Unsupported Moniker "+n)}}function qx(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Bs,""):"";return n}function UO(t,e){e||(e=at(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function kAe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=qx(t,n-t.l)),i&128&&(a=qx(t,n-t.l)),(i&257)===257&&(o=qx(t,n-t.l)),(i&257)===1&&(l=NAe(t,n-t.l)),i&8&&(c=qx(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=HI(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function IAe(t){var e=at(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),UO(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&UO(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function bX(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function _X(t,e){var n=bX(t);return n[3]=0,n}function Ol(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Hf(t,e,n,r){return r||(r=at(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function RAe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function PAe(t,e,n){return e===0?"":ph(t,e,n)}function FAe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function wX(t){var e=t.read_shift(2),n=qI(t);return[e,n]}function MAe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Qv(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Bw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function TX(t,e){return e||(e=at(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function EX(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var UAe=EX;function CX(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function OAe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function LAe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function us(t){t.l+=2,t.l+=t.read_shift(2)}var jAe={0:us,4:us,5:us,6:us,7:LAe,8:us,9:us,10:us,11:us,12:us,13:OAe,14:us,15:us,16:us,17:us,18:us,19:us,20:us,21:CX};function BAe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(jAe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function $x(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function GI(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=at(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function VAe(t,e){return e===0||t.read_shift(2),1200}function WAe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=ph(t,0,n);return t.read_shift(e+r-t.l),i}function qAe(t,e){var n=!e||e.biff==8,r=at(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function $Ae(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function zAe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Qv(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function HAe(t,e){var n=!e||e.biff>=8?2:1,r=at(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function GAe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(EAe(t));return s.Count=r,s.Unique=i,s}function KAe(t,e){var n=at(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=CAe(t[i]);var s=Vi([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function XAe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function JAe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function YAe(t){var e=RAe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function QAe(t){return t.read_shift(2),t.read_shift(4)}function OO(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function ZAe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function eNe(){var t=at(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function tNe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function nNe(t){var e=at(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function rNe(){}function iNe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Qv(t,0,n),r}function sNe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=at(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function aNe(t){var e=Ol(t);return e.isst=t.read_shift(4),e}function oNe(t,e,n,r){var i=at(10);return Hf(t,e,r,i),i.write_shift(4,n),i}function lNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Ol(t);n.biff==2&&t.l++;var s=Zv(t,r-t.l,n);return i.val=s,i}function cNe(t,e,n,r,i){var s=!i||i.biff==8,a=at(8+ +s+(1+s)*n.length);return Hf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function uNe(t,e,n){var r=t.read_shift(2),i=ph(t,0,n);return[r,i]}function dNe(t,e,n,r){var i=n&&n.biff==5;r||(r=at(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var fNe=ph;function LO(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function hNe(t,e){var n=e.biff==8||!e.biff?4:2,r=at(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function pNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=wX(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function mNe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(wX(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function gNe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function yNe(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=YDe[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function vNe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=yNe(t,e,r.fStyle,n),r}function jO(t,e,n,r){var i=n&&n.biff==5;r||(r=at(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function xNe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function bNe(t){var e=at(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function BO(t,e,n){var r=Ol(t);(n.biff==2||e==9)&&++t.l;var i=TAe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function _Ne(t,e,n,r,i,s){var a=at(8);return Hf(t,e,r,a),vX(n,s,a),a}function wNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Ol(t),i=ys(t);return r.val=i,r}function TNe(t,e,n,r){var i=at(14);return Hf(t,e,r,i),$f(n,i),i}var VO=PAe;function ENe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=zf(t,s),o=[];r>t.l;)o.push(Zv(t));return[s,i,a,o]}function WO(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=MAe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var CNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function qO(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=zf(t,a,n);i&32&&(c=CNe[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:B6e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function SX(t,e,n){if(n.biff<8)return SNe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(FAe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function SNe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Qv(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function DNe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=zf(t,r,n),a=zf(t,i,n);return[s,a]}function ANe(t,e,n){var r=EX(t);t.l++;var i=t.read_shift(1);return e-=8,[V6e(t,e,n),i,r]}function $O(t,e,n){var r=UAe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,L6e(t,e,n)]}function NNe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function kNe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=ph(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function INe(t,e,n){return kNe(t,e,n)}function RNe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Bw(t));return n}function PNe(t){var e=at(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)TX(t[n],e);return e}function FNe(t,e,n){if(n&&n.biff<8)return UNe(t,e,n);var r=CX(t),i=BAe(t,e-22,r[1]);return{cmo:r,ft:i}}var MNe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function UNe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((MNe[r]||Es)(t,e,n)),{cmo:[i,r,s],ft:a}}function ONe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=SAe(t,6,n);var o=t.read_shift(2);t.read_shift(2),hi(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=zf(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function LNe(t,e){var n=Bw(t);t.l+=16;var r=kAe(t,e-24);return[n,r]}function jNe(t){var e=at(24),n=Mr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Vi([e,IAe(t[1])])}function BNe(t,e){t.read_shift(2);var n=Bw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Bs,""),[n,r]}function VNe(t){var e=t[1].Tooltip,n=at(10+2*(e.length+1));n.write_shift(2,2048);var r=Mr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function WNe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=AO[n]||n,n=t.read_shift(2),e[1]=AO[n]||n,e}function qNe(t){return t||(t=at(4)),t.write_shift(2,1),t.write_shift(2,1),t}function $Ne(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(_X(t));return n}function zNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(_X(t));return n}function HNe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function DX(t,e,n){if(!n.cellStyles)return Es(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function GNe(t,e){var n=at(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function KNe(t,e){var n={};return e<32||(t.l+=16,n.header=ys(t),n.footer=ys(t),t.l+=2),n}function XNe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function JNe(t){for(var e=at(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var YNe=Ol,QNe=yX,ZNe=Zv;function e3e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function t3e(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Ol(t);++t.l;var i=ph(t,e-7,n);return r.t="str",r.val=i,r}function n3e(t){var e=Ol(t);++t.l;var n=ys(t);return e.t="n",e.val=n,e}function r3e(t,e,n){var r=at(15);return r1(r,t,e),r.write_shift(8,n,"f"),r}function i3e(t){var e=Ol(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function s3e(t,e,n){var r=at(9);return r1(r,t,e),r.write_shift(2,n),r}function a3e(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function o3e(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function l3e(t,e,n){var r=t.l+e,i=Ol(t),s=t.read_shift(2),a=zf(t,s,n);return t.l=r,i.t="str",i.val=a,i}var c3e=[2,3,48,49,131,139,140,245],mN=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Ow({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=Gu(1);switch(l.type){case"base64":u=Aa(Ua(o));break;case"binary":u=Aa(o);break;case"buffer":case"array":u=o;break}Qi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var _=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],C={},S=Math.min(u.length,f==2?521:y-10-(p?264:0)),R=v?32:11;u.l<S&&u[u.l]!=13;)switch(C={},C.name=Gy.utils.decode(x,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,C.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),f==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&w.push(C),f!=2&&(u.l+=v?13:14),C.type){case"B":(!p||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var D=0,k=0;for(c[0]=[],k=0;k!=w.length;++k)c[0][k]=w[k].name;for(;g-- >0;){if(u[u.l]===42){u.l+=_;continue}for(++u.l,c[++D]=[],k=0,k=0;k!=w.length;++k){var I=u.slice(u.l,u.l+w[k].len);u.l+=w[k].len,Qi(I,0);var F=Gy.utils.decode(x,I);switch(w[k].type){case"C":F.trim().length&&(c[D][k]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[D][k]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[D][k]=F;break;case"F":c[D][k]=parseFloat(F.trim());break;case"+":case"I":c[D][k]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[D][k]=!0;break;case"N":case"F":c[D][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][k]="##MEMO##"+(v?parseInt(F.trim(),10):I.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[D][k]=+F||0);break;case"@":c[D][k]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[D][k]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[D][k]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][k]=-I.read_shift(-8,"f");break;case"B":if(p&&w[k].len==8){c[D][k]=I.read_shift(8,"f");break}case"G":case"P":I.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=sg(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return ud(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Uo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ua(),f=r_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,_=0,x=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++_;continue}if(h[g]!=null){if(++_,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=In(o["!ref"]),C=[],S=[],R=[];for(g=0;g<=w.e.c-w.s.c;++g){var D="",k="",I=0,F=[];for(y=0;y<p.length;++y)p[y][g]!=null&&F.push(p[y][g]);if(F.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=F[y]instanceof Date?"D":"C";break;default:k="C"}I=Math.max(I,String(F[y]).length),D=D&&D!=k?"C":k}I>250&&(I=250),k=((v[g]||{}).DBF||{}).type,k=="C"&&v[g].DBF.len>I&&(I=v[g].DBF.len),D=="B"&&k=="N"&&(D="N",R[g]=v[g].DBF.dec,I=v[g].DBF.len),S[g]=D=="C"||k=="N"?I:s[D]||0,x+=S[g],C[g]=D}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*_),P.write_shift(2,x),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[gK]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var N=u.next(32),O=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,O,"sbcs"),N.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),N.write_shift(4,y),N.write_shift(1,S[g]||s[C[g]]||0),N.write_shift(1,R[g]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),y+=S[g]||s[C[g]]||0}var U=u.next(264);for(U.write_shift(4,13),g=0;g<65;++g)U.write_shift(4,0);for(g=0;g<p.length;++g){var H=u.next(x);for(H.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":H.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":H.write_shift(8,p[g][y]||0,"f");break;case"N":var G="0";for(typeof p[g][y]=="number"&&(G=p[g][y].toFixed(R[y]||0)),_=0;_<S[y]-G.length;++_)H.write_shift(1,32);H.write_shift(1,G,"sbcs");break;case"D":p[g][y]?(H.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(H.write_shift(1,J,"sbcs"),_=0;_<S[y]-J.length;++_)H.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),AX=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?tO(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:tO(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Ua(h),p);case"binary":return s(h,p);case"buffer":return s(gn&&Buffer.isBuffer(h)?h.toString("binary"):cd(h),p);case"array":return s(qf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,_=0,x=0,w=[],C=[],S=null,R={},D=[],k=[],I=[],F=0,P;for(+p.codepage>=0&&Uo(+p.codepage);_!==v.length;++_){F=0;var N=v[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),O=N.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),U=O[0],H;if(N.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&C.push(N.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,J=!1,Z=!1,z=!1,Y=-1,B=-1;for(x=1;x<O.length;++x)switch(O[x].charAt(0)){case"A":break;case"X":y=parseInt(O[x].slice(1))-1,J=!0;break;case"Y":for(g=parseInt(O[x].slice(1))-1,J||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":H=O[x].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Vo(H))?isNaN(Tm(H).getDate())||(H=xr(H)):(H=Vo(H),S!==null&&rg(S)&&(H=jw(H))),G=!0;break;case"E":z=!0;var j=Wp(O[x].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":Z=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":Y=parseInt(O[x].slice(1))-1;break;case"C":B=parseInt(O[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(G&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=H:w[g][y]=H,S=null),Z){if(z)throw new Error("SYLK shared formula cannot have own formula");var q=Y>-1&&w[Y][B];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=HX(q[1],{r:g-Y,c:y-B})}break;case"F":var X=0;for(x=1;x<O.length;++x)switch(O[x].charAt(0)){case"X":y=parseInt(O[x].slice(1))-1,++X;break;case"Y":for(g=parseInt(O[x].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":F=parseInt(O[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(O[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=O[x].slice(1).split(" "),P=parseInt(I[0],10);P<=parseInt(I[1],10);++P)F=parseInt(I[2],10),k[P-1]=F===0?{hidden:!0}:{wch:F},Ku(k[P-1]);break;case"C":y=parseInt(O[x].slice(1))-1,k[y]||(k[y]={});break;case"R":g=parseInt(O[x].slice(1))-1,D[g]||(D[g]={}),F>0?(D[g].hpt=F,D[g].hpx=Cm(F)):F===0&&(D[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}X<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return D.length>0&&(R["!rows"]=D),k.length>0&&(R["!cols"]=k),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],_=sg(g,p);return Hr(y).forEach(function(x){_[x]=y[x]}),_}function o(h,p){return ud(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+ZI(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=tv(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=nv(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*rv(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=In(h["!ref"]),_,x=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var S=y.s.c;S<=y.e.c;++S){var R=Qt({r:C,c:S});_=x?(h[C]||[])[S]:h[R],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,h,C,S))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),NX=(function(){function t(s,a){switch(a.type){case"base64":return e(Ua(s),a);case"binary":return e(s,a);case"buffer":return e(gn&&Buffer.isBuffer(s)?s.toString("binary"):cd(s),a);case"array":return e(qf(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Vo(v))?isNaN(Tm(v).getDate())?f[l][c]=v:f[l][c]=xr(v):f[l][c]=Vo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return sg(t(s,a),a)}function r(s,a){return ud(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=In(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Qt({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ho(f.z||Xt[14],Ei(xr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var _=`\r
`,x=c.join(_);return x}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),kX=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,_=[];y!==p.length;++y){var x=p[y].trim().split(":");if(x[0]==="cell"){var w=Mr(x[1]);if(_.length<=w.r)for(v=_.length;v<=w.r;++v)_[v]||(_[v]=[]);switch(v=w.r,g=w.c,x[2]){case"t":_[v][g]=t(x[3]);break;case"v":_[v][g]=+x[3];break;case"vtf":var C=x[x.length-1];case"vtc":switch(x[3]){case"nl":_[v][g]=!!+x[4];break;default:_[v][g]=+x[4];break}x[2]=="vtf"&&(_[v][g]=[_[v][g],C])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function r(f,h){return sg(n(f,h),h)}function i(f,h){return ud(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=da(f["!ref"]),_=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var w=y.s.c;w<=y.e.c;++w)if(g=Qt({r:x,c:w}),v=_?(f[x]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var C=Ei(xr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=v.w||ho(v.z||Xt[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),Em=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Vo(u))?isNaN(Tm(u).getDate())?f[h][p]=u:f[h][p]=xr(u):f[h][p]=Vo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,_=0,x=0;x<=g;++x)_=v[x].indexOf(" "),_==-1?_=v[x].length:_++,y=Math.max(y,_);for(x=0;x<=g;++x){p[x]=[];var w=0;for(t(v[x].slice(0,y).trim(),p,x,w,h),w=1;w<=(v[x].length-y)/10+1;++w)t(v[x].slice(y+(w-1)*10,y+w*10).trim(),p,x,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,_=0,x=0,w=0,C=0,S=p.charCodeAt(0),R=!1,D=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?X4e(h.dateNF):null;function F(){var P=u.slice(w,C),N={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)N.t="z";else if(h.raw)N.t="s",N.v=P;else if(P.trim().length===0)N.t="s",N.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(N.t="s",N.v=P.slice(2,-1).replace(/""/g,'"')):EIe(P)?(N.t="n",N.f=P.slice(1)):(N.t="s",N.v=P);else if(P=="TRUE")N.t="b",N.v=!0;else if(P=="FALSE")N.t="b",N.v=!1;else if(!isNaN(x=Vo(P)))N.t="n",h.cellText!==!1&&(N.w=P),N.v=x;else if(!isNaN(Tm(P).getDate())||I&&P.match(I)){N.z=h.dateNF||Xt[14];var O=0;I&&P.match(I)&&(P=J4e(P,h.dateNF,P.match(I)||[]),O=1),h.cellDates?(N.t="d",N.v=xr(P,O)):(N.t="n",N.v=Ei(xr(P,O))),h.cellText!==!1&&(N.w=ho(N.z,N.v instanceof Date?Ei(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=P;if(N.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][_]=N):v[Qt({c:_,r:y})]=N),w=C+1,k=u.charCodeAt(w),g.e.c<_&&(g.e.c=_),g.e.r<y&&(g.e.r=y),D==S)++_;else if(_=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<u.length;++C)switch(D=u.charCodeAt(C)){case 34:k===34&&(R=!R);break;case S:case 10:case 13:if(!R&&F())break e;break}return C-w>0&&F(),v["!ref"]=un(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):sg(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:o6(u,f);switch(f.type){case"base64":h=Ua(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Gy<"u"||(h=gn&&Buffer.isBuffer(u)?u.toString("binary"):cd(u));break;case"array":h=qf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=er(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=er(h):f.type=="binary"&&typeof Gy<"u",h.slice(0,19)=="socialcalc:version:"?kX.to_sheet(f.type=="string"?h:er(h),f):a(h,f)}function l(u,f){return ud(o(u,f),f)}function c(u){for(var f=[],h=In(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],_=h.s.c;_<=h.e.c;++_){var x=Qt({r:g,c:_});if(p=v?(u[g]||[])[_]:u[x],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(wc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function u3e(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=AX.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Em.to_workbook(t,e)}}var xf=(function(){function t(j,q,X){if(j){Qi(j,j.l||0);for(var Q=X.Enum||Y;j.l<j.length;){var te=j.read_shift(2),ae=Q[te]||Q[65535],ue=j.read_shift(2),de=j.l+ue,Se=ae.f&&ae.f(j,ue,X);if(j.l=de,q(Se,ae,te))return}}}function e(j,q){switch(q.type){case"base64":return n(Aa(Ua(j)),q);case"binary":return n(Aa(j),q);case"buffer":case"array":return n(j,q)}throw"Unsupported type "+q.type}function n(j,q){if(!j)return j;var X=q||{},Q=X.dense?[]:{},te="Sheet1",ae="",ue=0,de={},Se=[],Pe=[],pe={s:{r:0,c:0},e:{r:0,c:0}},je=X.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)X.Enum=Y,t(j,function(le,re,oe){switch(oe){case 0:X.vers=le,le>=4096&&(X.qpro=!0);break;case 6:pe=le;break;case 204:le&&(ae=le);break;case 222:ae=le;break;case 15:case 51:X.qpro||(le[1].v=le[1].v.slice(1));case 13:case 14:case 16:oe==14&&(le[2]&112)==112&&(le[2]&15)>1&&(le[2]&15)<15&&(le[1].z=X.dateNF||Xt[14],X.cellDates&&(le[1].t="d",le[1].v=jw(le[1].v))),X.qpro&&le[3]>ue&&(Q["!ref"]=un(pe),de[te]=Q,Se.push(te),Q=X.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ue=le[3],te=ae||"Sheet"+(ue+1),ae="");var fe=X.dense?(Q[le[0].r]||[])[le[0].c]:Q[Qt(le[0])];if(fe){fe.t=le[1].t,fe.v=le[1].v,le[1].z!=null&&(fe.z=le[1].z),le[1].f!=null&&(fe.f=le[1].f);break}X.dense?(Q[le[0].r]||(Q[le[0].r]=[]),Q[le[0].r][le[0].c]=le[1]):Q[Qt(le[0])]=le[1];break}},X);else if(j[2]==26||j[2]==14)X.Enum=B,j[2]==14&&(X.qpro=!0,j.l=0),t(j,function(le,re,oe){switch(oe){case 204:te=le;break;case 22:le[1].v=le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(le[3]>ue&&(Q["!ref"]=un(pe),de[te]=Q,Se.push(te),Q=X.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ue=le[3],te="Sheet"+(ue+1)),je>0&&le[0].r>=je)break;X.dense?(Q[le[0].r]||(Q[le[0].r]=[]),Q[le[0].r][le[0].c]=le[1]):Q[Qt(le[0])]=le[1],pe.e.c<le[0].c&&(pe.e.c=le[0].c),pe.e.r<le[0].r&&(pe.e.r=le[0].r);break;case 27:le[14e3]&&(Pe[le[14e3][0]]=le[14e3][1]);break;case 1537:Pe[le[0]]=le[1],le[0]==ue&&(te=le[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Q["!ref"]=un(pe),de[ae||te]=Q,Se.push(ae||te),!Pe.length)return{SheetNames:Se,Sheets:de};for(var V={},xe=[],_e=0;_e<Pe.length;++_e)de[Se[_e]]?(xe.push(Pe[_e]||Se[_e]),V[Pe[_e]]=de[Pe[_e]]||de[Se[_e]]):(xe.push(Pe[_e]),V[Pe[_e]]={"!ref":"A1"});return{SheetNames:xe,Sheets:V}}function r(j,q){var X=q||{};if(+X.codepage>=0&&Uo(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ua(),te=In(j["!ref"]),ae=Array.isArray(j),ue=[];wt(Q,0,s(1030)),wt(Q,6,l(te));for(var de=Math.min(te.e.r,8191),Se=te.s.r;Se<=de;++Se)for(var Pe=ri(Se),pe=te.s.c;pe<=te.e.c;++pe){Se===te.s.r&&(ue[pe]=Fr(pe));var je=ue[pe]+Pe,V=ae?(j[Se]||[])[pe]:j[je];if(!(!V||V.t=="z"))if(V.t=="n")(V.v|0)==V.v&&V.v>=-32768&&V.v<=32767?wt(Q,13,p(Se,pe,V.v)):wt(Q,14,g(Se,pe,V.v));else{var xe=wc(V);wt(Q,15,f(Se,pe,xe.slice(0,239)))}}return wt(Q,1),Q.end()}function i(j,q){var X=q||{};if(+X.codepage>=0&&Uo(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ua();wt(Q,0,a(j));for(var te=0,ae=0;te<j.SheetNames.length;++te)(j.Sheets[j.SheetNames[te]]||{})["!ref"]&&wt(Q,27,z(j.SheetNames[te],ae++));var ue=0;for(te=0;te<j.SheetNames.length;++te){var de=j.Sheets[j.SheetNames[te]];if(!(!de||!de["!ref"])){for(var Se=In(de["!ref"]),Pe=Array.isArray(de),pe=[],je=Math.min(Se.e.r,8191),V=Se.s.r;V<=je;++V)for(var xe=ri(V),_e=Se.s.c;_e<=Se.e.c;++_e){V===Se.s.r&&(pe[_e]=Fr(_e));var le=pe[_e]+xe,re=Pe?(de[V]||[])[_e]:de[le];if(!(!re||re.t=="z"))if(re.t=="n")wt(Q,23,F(V,_e,ue,re.v));else{var oe=wc(re);wt(Q,22,D(V,_e,ue,oe.slice(0,239)))}}++ue}}return wt(Q,1),Q.end()}function s(j){var q=at(2);return q.write_shift(2,j),q}function a(j){var q=at(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var X=0,Q=0,te=0,ae=0;ae<j.SheetNames.length;++ae){var ue=j.SheetNames[ae],de=j.Sheets[ue];if(!(!de||!de["!ref"])){++te;var Se=da(de["!ref"]);X<Se.e.r&&(X=Se.e.r),Q<Se.e.c&&(Q=Se.e.c)}}return X>8191&&(X=8191),q.write_shift(2,X),q.write_shift(1,te),q.write_shift(1,Q),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(j,q,X){var Q={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&X.qpro?(Q.s.c=j.read_shift(1),j.l++,Q.s.r=j.read_shift(2),Q.e.c=j.read_shift(1),j.l++,Q.e.r=j.read_shift(2),Q):(Q.s.c=j.read_shift(2),Q.s.r=j.read_shift(2),q==12&&X.qpro&&(j.l+=2),Q.e.c=j.read_shift(2),Q.e.r=j.read_shift(2),q==12&&X.qpro&&(j.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(j){var q=at(8);return q.write_shift(2,j.s.c),q.write_shift(2,j.s.r),q.write_shift(2,j.e.c),q.write_shift(2,j.e.r),q}function c(j,q,X){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Q[0].c=j.read_shift(1),Q[3]=j.read_shift(1),Q[0].r=j.read_shift(2),j.l+=2):(Q[2]=j.read_shift(1),Q[0].c=j.read_shift(2),Q[0].r=j.read_shift(2)),Q}function u(j,q,X){var Q=j.l+q,te=c(j,q,X);if(te[1].t="s",X.vers==20768){j.l++;var ae=j.read_shift(1);return te[1].v=j.read_shift(ae,"utf8"),te}return X.qpro&&j.l++,te[1].v=j.read_shift(Q-j.l,"cstr"),te}function f(j,q,X){var Q=at(7+X.length);Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(1,39);for(var te=0;te<Q.length;++te){var ae=X.charCodeAt(te);Q.write_shift(1,ae>=128?95:ae)}return Q.write_shift(1,0),Q}function h(j,q,X){var Q=c(j,q,X);return Q[1].v=j.read_shift(2,"i"),Q}function p(j,q,X){var Q=at(7);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(2,X,"i"),Q}function v(j,q,X){var Q=c(j,q,X);return Q[1].v=j.read_shift(8,"f"),Q}function g(j,q,X){var Q=at(13);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(8,X,"f"),Q}function y(j,q,X){var Q=j.l+q,te=c(j,q,X);if(te[1].v=j.read_shift(8,"f"),X.qpro)j.l=Q;else{var ae=j.read_shift(2);C(j.slice(j.l,j.l+ae),te),j.l+=ae}return te}function _(j,q,X){var Q=q&32768;return q&=-32769,q=(Q?j:0)+(q>=8192?q-16384:q),(Q?"":"$")+(X?Fr(q):ri(q))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(j,q){Qi(j,0);for(var X=[],Q=0,te="",ae="",ue="",de="";j.l<j.length;){var Se=j[j.l++];switch(Se){case 0:X.push(j.read_shift(8,"f"));break;case 1:ae=_(q[0].c,j.read_shift(2),!0),te=_(q[0].r,j.read_shift(2),!1),X.push(ae+te);break;case 2:{var Pe=_(q[0].c,j.read_shift(2),!0),pe=_(q[0].r,j.read_shift(2),!1);ae=_(q[0].c,j.read_shift(2),!0),te=_(q[0].r,j.read_shift(2),!1),X.push(Pe+pe+":"+ae+te)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(j.read_shift(2));break;case 6:{for(var je="";Se=j[j.l++];)je+=String.fromCharCode(Se);X.push('"'+je.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:de=X.pop(),ue=X.pop(),X.push(["AND","OR"][Se-20]+"("+ue+","+de+")");break;default:if(Se<32&&w[Se])de=X.pop(),ue=X.pop(),X.push(ue+w[Se]+de);else if(x[Se]){if(Q=x[Se][1],Q==69&&(Q=j[j.l++]),Q>X.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+X.join("|")+"|");return}var V=X.slice(-Q);X.length-=Q,X.push(x[Se][0]+"("+V.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}X.length==1?q[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function S(j){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=j.read_shift(2),q[3]=j[j.l++],q[0].c=j[j.l++],q}function R(j,q){var X=S(j);return X[1].t="s",X[1].v=j.read_shift(q-4,"cstr"),X}function D(j,q,X,Q){var te=at(6+Q.length);te.write_shift(2,j),te.write_shift(1,X),te.write_shift(1,q),te.write_shift(1,39);for(var ae=0;ae<Q.length;++ae){var ue=Q.charCodeAt(ae);te.write_shift(1,ue>=128?95:ue)}return te.write_shift(1,0),te}function k(j,q){var X=S(j);X[1].v=j.read_shift(2);var Q=X[1].v>>1;if(X[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return X[1].v=Q,X}function I(j,q){var X=S(j),Q=j.read_shift(4),te=j.read_shift(4),ae=j.read_shift(2);if(ae==65535)return Q===0&&te===3221225472?(X[1].t="e",X[1].v=15):Q===0&&te===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ue=ae&32768;return ae=(ae&32767)-16446,X[1].v=(1-ue*2)*(te*Math.pow(2,ae+32)+Q*Math.pow(2,ae)),X}function F(j,q,X,Q){var te=at(14);if(te.write_shift(2,j),te.write_shift(1,X),te.write_shift(1,q),Q==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ae=0,ue=0,de=0,Se=0;return Q<0&&(ae=1,Q=-Q),ue=Math.log2(Q)|0,Q/=Math.pow(2,ue-31),Se=Q>>>0,(Se&2147483648)==0&&(Q/=2,++ue,Se=Q>>>0),Q-=Se,Se|=2147483648,Se>>>=0,Q*=Math.pow(2,32),de=Q>>>0,te.write_shift(4,de),te.write_shift(4,Se),ue+=16383+(ae?32768:0),te.write_shift(2,ue),te}function P(j,q){var X=I(j);return j.l+=q-14,X}function N(j,q){var X=S(j),Q=j.read_shift(4);return X[1].v=Q>>6,X}function O(j,q){var X=S(j),Q=j.read_shift(8,"f");return X[1].v=Q,X}function U(j,q){var X=O(j);return j.l+=q-10,X}function H(j,q){return j[j.l+q-1]==0?j.read_shift(q,"cstr"):""}function G(j,q){var X=j[j.l++];X>q-1&&(X=q-1);for(var Q="";Q.length<X;)Q+=String.fromCharCode(j[j.l++]);return Q}function J(j,q,X){if(!(!X.qpro||q<21)){var Q=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var te=j.read_shift(q-21,"cstr");return[Q,te]}}function Z(j,q){for(var X={},Q=j.l+q;j.l<Q;){var te=j.read_shift(2);if(te==14e3){for(X[te]=[0,""],X[te][0]=j.read_shift(2);j[j.l];)X[te][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return X}function z(j,q){var X=at(5+j.length);X.write_shift(2,14e3),X.write_shift(2,q);for(var Q=0;Q<j.length;++Q){var te=j.charCodeAt(Q);X[X.l++]=te>127?95:te}return X[X.l++]=0,X}var Y={0:{n:"BOF",f:hi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function d3e(t){var e={},n=t.match(Ds),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=en(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=EI[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var f3e=(function(){var t=Jy("t"),e=Jy("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:kn(a[1])},l=s.match(e);return l&&(o.s=d3e(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),h3e=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),p3e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,m3e=/<(?:\w+:)?r>/,g3e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function KI(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=kn(er(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=er(t),n&&(r.h=FI(r.t))):t.match(m3e)&&(r.r=er(t),r.t=kn(er((t.replace(g3e,"").match(p3e)||[]).join("").replace(Ds,""))),n&&(r.h=h3e(f3e(r.r)))),r):{t:""}}var y3e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,v3e=/<(?:\w+:)?(?:si|sstItem)>/g,x3e=/<\/(?:\w+:)?(?:si|sstItem)>/;function b3e(t,e){var n=[],r="";if(!t)return n;var i=t.match(y3e);if(i){r=i[2].replace(v3e,"").split(x3e);for(var s=0;s!=r.length;++s){var a=KI(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=en(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var _3e=/^\s|\s$|[\t\n\r]/;function IX(t,e){if(!e.bookSST)return"";var n=[si];n[n.length]=_t("sst",null,{xmlns:ch[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(_3e)&&(s+=' xml:space="preserve"'),s+=">"+Jn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function w3e(t){return[t.read_shift(4),t.read_shift(4)]}function T3e(t,e){var n=[],r=!1;return Fc(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function E3e(t,e){return e||(e=at(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var C3e=MDe;function S3e(t){var e=ua();dt(e,159,E3e(t));for(var n=0;n<t.length;++n)dt(e,19,C3e(t[n]));return dt(e,160),e.end()}function RX(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function hc(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function D3e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=hc(t,4),e.U=hc(t,4),e.W=hc(t,4),e}function A3e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function N3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(A3e(t));return e}function k3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function I3e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=hc(t,4),e.U=hc(t,4),e.W=hc(t,4),e}function R3e(t){var e=I3e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function PX(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function FX(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function P3e(t){var e=hc(t);switch(e.Minor){case 2:return[e.Minor,F3e(t)];case 3:return[e.Minor,M3e()];case 4:return[e.Minor,U3e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function F3e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=PX(t,n),i=FX(t,t.length-t.l);return{t:"Std",h:r,v:i}}function M3e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function U3e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ds,function(s){var a=en(s);switch(Ul(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function O3e(t,e){var n={},r=n.EncryptionVersionInfo=hc(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=PX(t,i),e-=i,n.EncryptionVerifier=FX(t,e),n}function L3e(t){var e={},n=e.EncryptionVersionInfo=hc(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function XI(t){var e=0,n,r=RX(t),i=r.length+1,s,a,o,l,c;for(n=Gu(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var MX=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=RX(a),l=s(o),c=o.length,u=Gu(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),j3e=function(t,e,n,r,i){i||(i=e),r||(r=MX(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},B3e=function(t){var e=0,n=MX(t);return function(r){var i=j3e("",r,e,n);return e=i[1],i[0]}};function V3e(t,e,n,r){var i={key:hi(t),verificationBytes:hi(t)};return n.password&&(i.verifier=XI(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=B3e(n.password)),i}function W3e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=L3e(t):r.Data=O3e(t,e),r}function q3e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?W3e(t,e-2,r):V3e(t,n.biff>=8?e:e-2,n,r),r}var UX=(function(){function t(i,s){switch(s.type){case"base64":return e(Ua(i),s);case"binary":return e(i,s);case"buffer":return e(gn&&Buffer.isBuffer(i)?i.toString("binary"):cd(i),s);case"array":return e(qf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var _={v:y,t:"s"};Array.isArray(o)?o[f][g]=_:o[Qt({r:f,c:g})]=_}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=un(c),o}function n(i,s){return ud(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=In(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=Qt({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(wc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function $3e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function ev(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function z3e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function H3e(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function t_(t,e){if(e===0)return t;var n=z3e($3e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),ev(H3e(n))}var OX=6,G3e=15,K3e=1,ms=OX;function tv(t){return Math.floor((t+Math.round(128/ms)/256)*ms)}function nv(t){return Math.floor((t-5)/ms*100+.5)/100}function n_(t){return Math.round((t*ms+5)/ms*256)/256}function h4(t){return n_(nv(tv(t)))}function JI(t){var e=Math.abs(t-h4(t)),n=ms;if(e>.005)for(ms=K3e;ms<G3e;++ms)Math.abs(t-h4(t))<=e&&(e=Math.abs(t-h4(t)),n=ms);ms=n}function Ku(t){t.width?(t.wpx=tv(t.width),t.wch=nv(t.wpx),t.MDW=ms):t.wpx?(t.wch=nv(t.wpx),t.width=n_(t.wch),t.MDW=ms):typeof t.wch=="number"&&(t.width=n_(t.wch),t.wpx=tv(t.width),t.MDW=ms),t.customWidth&&delete t.customWidth}var X3e=96,LX=X3e;function rv(t){return t*96/LX}function Cm(t){return t*LX/96}var J3e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Y3e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ds)||[]).forEach(function(a){var o=en(a);switch(Ul(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=mr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=mr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Q3e(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ds)||[]).forEach(function(a){var o=en(a);switch(Ul(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function Z3e(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ds)||[]).forEach(function(a){var o=en(a);switch(Ul(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=er(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?mr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?mr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?mr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?mr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?mr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?mr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?mr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=EI[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=mr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=yf[i.color.index];i.color.index==81&&(l=yf[1]),l||(l=yf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=t_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function eke(t,e,n){e.NumberFmt=[];for(var r=Hr(Xt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Xt[r[i]];var s=t[0].match(Ds);if(s)for(i=0;i<s.length;++i){var a=en(s[i]);switch(Ul(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=kn(er(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}fc(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function tke(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=_t("numFmt",null,{numFmtId:r,formatCode:Jn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=_t("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var zx=["numFmtId","fillId","fontId","borderId","xfId"],Hx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function nke(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ds)||[]).forEach(function(s){var a=en(s),o=0;switch(Ul(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<zx.length;++o)r[zx[o]]&&(r[zx[o]]=parseInt(r[zx[o]],10));for(o=0;o<Hx.length;++o)r[Hx[o]]&&(r[Hx[o]]=mr(r[Hx[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=mr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function rke(t){var e=[];return e[e.length]=_t("cellXfs",null),t.forEach(function(n){e[e.length]=_t("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=_t("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var ike=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&eke(f,u,c),(f=o.match(i))&&Z3e(f,u,l,c),(f=o.match(r))&&Q3e(f,u,l,c),(f=o.match(s))&&Y3e(f,u,l,c),(f=o.match(n))&&nke(f,u,c),u}})();function jX(t,e){var n=[si,_t("styleSheet",null,{xmlns:ch[0],"xmlns:vt":wi.vt})],r;return t.SSF&&(r=tke(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=rke(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function ske(t,e){var n=t.read_shift(2),r=Ts(t);return[n,r]}function ake(t,e,n){n||(n=at(6+4*e.length)),n.write_shift(2,t),Wi(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function oke(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=WDe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=VDe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ts(t),r}function lke(t,e){e||(e=at(153)),e.write_shift(2,t.sz*20),qDe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Qb(t.color,e);var r=0;return r=2,e.write_shift(1,r),Wi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var cke=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],p4,uke=Es;function zO(t,e){e||(e=at(84)),p4||(p4=Ow(cke));var n=p4[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(Qb({auto:1},e),Qb({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function dke(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function BX(t,e,n){n||(n=at(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function s0(t,e){return e||(e=at(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var fke=Es;function hke(t,e){return e||(e=at(51)),e.write_shift(1,0),s0(null,e),s0(null,e),s0(null,e),s0(null,e),s0(null,e),e.length>e.l?e.slice(0,e.l):e}function pke(t,e){return e||(e=at(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Yb(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function mke(t,e,n){var r=at(2052);return r.write_shift(4,t),Yb(e,r),Yb(n,r),r.length>r.l?r.slice(0,r.l):r}function gke(t,e,n){var r={};r.NumberFmt=[];for(var i in Xt)r.NumberFmt[i]=Xt[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Fc(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],fc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=t_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function yke(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(dt(t,615,Wo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&dt(t,44,ake(i,e[i]))}),dt(t,616))}}function vke(t){var e=1;dt(t,611,Wo(e)),dt(t,43,lke({sz:12,color:{theme:1},name:"Calibri",family:2})),dt(t,612)}function xke(t){var e=2;dt(t,603,Wo(e)),dt(t,45,zO({patternType:"none"})),dt(t,45,zO({patternType:"gray125"})),dt(t,604)}function bke(t){var e=1;dt(t,613,Wo(e)),dt(t,46,hke()),dt(t,614)}function _ke(t){var e=1;dt(t,626,Wo(e)),dt(t,47,BX({numFmtId:0},65535)),dt(t,627)}function wke(t,e){dt(t,617,Wo(e.length)),e.forEach(function(n){dt(t,47,BX(n,0))}),dt(t,618)}function Tke(t){var e=1;dt(t,619,Wo(e)),dt(t,48,pke({xfId:0,name:"Normal"})),dt(t,620)}function Eke(t){var e=0;dt(t,505,Wo(e)),dt(t,506)}function Cke(t){var e=0;dt(t,508,mke(e,"TableStyleMedium9","PivotStyleMedium4")),dt(t,509)}function Ske(t,e){var n=ua();return dt(n,278),yke(n,t.SSF),vke(n),xke(n),bke(n),_ke(n),wke(n,e.cellXfs),Tke(n),Eke(n),Cke(n),dt(n,279),n.end()}var Dke=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ake(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ds)||[]).forEach(function(i){var s=en(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Dke.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Nke(){}function kke(){}var Ike=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Rke=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Pke=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Fke(t,e,n){e.themeElements={};var r;[["clrScheme",Ike,Ake],["fontScheme",Rke,Nke],["fmtScheme",Pke,kke]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var Mke=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function VX(t,e){(!t||t.length===0)&&(t=YI());var n,r={};if(!(n=t.match(Mke)))throw new Error("themeElements not found in theme");return Fke(n[0],r,e),r.raw=t,r}function YI(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[si];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Uke(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=PK(s,{type:"array"})}catch{return}var o=Na(a,"theme/theme/theme1.xml",!0);if(o)return VX(o,n)}}function Oke(t){return t.read_shift(4)}function Lke(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=jke(t,4);break;case 2:e.xclrValue=bX(t);break;case 3:e.xclrValue=Oke(t);break;case 4:t.l+=4;break}return t.l+=8,e}function jke(t,e){return Es(t,e)}function Bke(t,e){return Es(t,e)}function Vke(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Lke(t);break;case 6:r[1]=Bke(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Wke(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(Vke(t,n-t.l));return{ixfe:r,ext:s}}function qke(t,e){e.forEach(function(n){n[0]})}function $ke(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ts(t)}}function zke(t){var e=at(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Wi(t.name,e),e.slice(0,e.l)}function Hke(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Gke(t){var e=at(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Kke(t,e){var n=at(8+2*e.length);return n.write_shift(4,t),Wi(e,n),n.slice(0,n.l)}function Xke(t){return t.l+=4,t.read_shift(4)!=0}function Jke(t,e){var n=at(8);return n.write_shift(4,t),n.write_shift(4,1),n}function Yke(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Fc(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Qke(){var t=ua();return dt(t,332),dt(t,334,Wo(1)),dt(t,335,zke({name:"XLDAPR",version:12e4,flags:3496657072})),dt(t,336),dt(t,339,Kke(1,"XLDAPR")),dt(t,52),dt(t,35,Wo(514)),dt(t,4096,Wo(0)),dt(t,4097,to(1)),dt(t,36),dt(t,53),dt(t,340),dt(t,337,Jke(1)),dt(t,51,Gke([[1,0]])),dt(t,338),dt(t,333),t.end()}function Zke(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(Ds,function(o){var l=en(o);switch(Ul(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function WX(){var t=[si];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function eIe(t){var e=[];if(!t)return e;var n=1;return(t.match(Ds)||[]).forEach(function(r){var i=en(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function tIe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Qt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function nIe(t,e,n){var r=[];return Fc(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function rIe(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Fc(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function iIe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var Dp=1024;function qX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[_t("xml",null,{"xmlns:v":Sa.v,"xmlns:o":Sa.o,"xmlns:x":Sa.x,"xmlns:mv":Sa.mv}).replace(/\/>/,">"),_t("o:shapelayout",_t("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),_t("v:shapetype",[_t("v:stroke",null,{joinstyle:"miter"}),_t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Dp<t*1e3;)Dp+=1e3;return e.forEach(function(s){var a=Mr(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?_t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=_t("v:fill",l,o),u={on:"t",obscured:"t"};++Dp,i=i.concat(["<v:shape"+Yy({id:"_x0000_s"+Dp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,_t("v:shadow",null,u),_t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",es("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),es("x:AutoFill","False"),es("x:Row",String(a.r)),es("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function HO(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Mr(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=In(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=un(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function sIe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=en(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Mr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&KI(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function $X(t){var e=[si,_t("comments",null,{xmlns:ch[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=Jn(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Jn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(es("t",Jn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(es("t",Jn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function aIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ds,function(o,l){var c=en(o);switch(Ul(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function oIe(t,e,n){var r=[si,_t("ThreadedComments",null,{xmlns:wi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(_t("threadedComment",es("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function lIe(t,e){var n=[],r=!1;return t.replace(Ds,function(s){var a=en(s);switch(Ul(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function cIe(t){var e=[si,_t("personList",null,{xmlns:wi.TCMNT,"xmlns:x":ch[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(_t("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function uIe(t){var e={};e.iauthor=t.read_shift(4);var n=hh(t);return e.rfx=n.s,e.ref=Qt(n.s),t.l+=16,e}function dIe(t,e){return e==null&&(e=at(36)),e.write_shift(4,t[1].iauthor),ag(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var fIe=Ts;function hIe(t){return Wi(t.slice(0,54))}function pIe(t,e){var n=[],r=[],i={},s=!1;return Fc(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function mIe(t){var e=ua(),n=[];return dt(e,628),dt(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),dt(e,632,hIe(i.a)))})}),dt(e,631),dt(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Mr(r[0]),e:Mr(r[0])};dt(e,635,dIe([s,i])),i.t&&i.t.length>0&&dt(e,637,ODe(i)),dt(e,636),delete i.iauthor})}),dt(e,634),dt(e,629),e.end()}var gIe="application/vnd.ms-office.vbaProject";function yIe(t){var e=Wt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Wt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Wt.write(e)}function vIe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Wt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var zX=["xlsb","xlsm","xlam","biff8","xla"];function xIe(){return{"!type":"dialog"}}function bIe(){return{"!type":"dialog"}}function _Ie(){return{"!type":"macro"}}function wIe(){return{"!type":"macro"}}var Wp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Fr(u)+(l?"":"$")+ri(c)}return function(i,s){return e=s,i.replace(t,n)}})(),QI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZI=(function(){return function(e,n){return e.replace(QI,function(r,i,s,a,o,l){var c=jI(a)-(s?0:n.c),u=LI(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function HX(t,e){return t.replace(QI,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Fr(jI(s)+e.c))+(a=="$"?a+o:ri(LI(o)+e.r))})}function TIe(t,e,n){var r=da(e),i=r.s,s=Mr(n),a={r:s.r-i.r,c:s.c-i.c};return HX(t,a)}function EIe(t){return t.length!=1}function GO(t){return t.replace(/_xlfn\./g,"")}function ui(t){t.l+=1}function Xu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function GX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return KX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=Xu(t),o=Xu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function KX(t){var e=Xu(t),n=Xu(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function CIe(t,e,n){if(n.biff<8)return KX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Xu(t),a=Xu(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function XX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return SIe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Xu(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function SIe(t){var e=Xu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function DIe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function AIe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return NIe(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function NIe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function kIe(t,e,n){var r=(t[t.l++]&96)>>5,i=GX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function IIe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=GX(t,s,n);return[r,i,a]}function RIe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function PIe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function FIe(t,e,n){var r=(t[t.l++]&96)>>5,i=CIe(t,e-1,n);return[r,i]}function MIe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function KO(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function UIe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function OIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function LIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function jIe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function BIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function JX(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function VIe(t){return t.read_shift(2),JX(t)}function WIe(t){return t.read_shift(2),JX(t)}function qIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=XX(t,0,n);return[r,i]}function $Ie(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=AIe(t,0,n);return[r,i]}function zIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=XX(t,0,n);return[r,i,s]}function HIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[X6e[i],ZX[i],r]}function GIe(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:KIe(t);return[i,(s[0]===0?ZX:K6e)[s[1]]]}function KIe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function XIe(t,e,n){t.l+=n&&n.biff==2?3:4}function JIe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function YIe(t){return t.l++,Mc[t.read_shift(1)]}function QIe(t){return t.l++,t.read_shift(2)}function ZIe(t){return t.l++,t.read_shift(1)!==0}function e6e(t){return t.l++,ys(t)}function t6e(t,e,n){return t.l++,Qv(t,e-1,n)}function n6e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Zr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Mc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=ys(t);break;case 2:n[1]=ph(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function r6e(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?hh:Bw)(t));return i}function i6e(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=n6e(t,n.biff);return a}function s6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function a6e(t,e,n){if(n.biff==5)return o6e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function o6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function l6e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function c6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function u6e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function d6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var f6e=Es,h6e=Es,p6e=Es;function e1(t,e,n){return t.l+=2,[DIe(t)]}function e6(t){return t.l+=6,[]}var m6e=e1,g6e=e6,y6e=e6,v6e=e1;function YX(t){return t.l+=2,[hi(t),t.read_shift(2)&1]}var x6e=e1,b6e=YX,_6e=e6,w6e=e1,T6e=e1,E6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function C6e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=E6e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function S6e(t){return t.l+=2,[t.read_shift(4)]}function D6e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function A6e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function N6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function k6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function I6e(t){return t.l+=4,[0,0]}var XO={1:{n:"PtgExp",f:JIe},2:{n:"PtgTbl",f:p6e},3:{n:"PtgAdd",f:ui},4:{n:"PtgSub",f:ui},5:{n:"PtgMul",f:ui},6:{n:"PtgDiv",f:ui},7:{n:"PtgPower",f:ui},8:{n:"PtgConcat",f:ui},9:{n:"PtgLt",f:ui},10:{n:"PtgLe",f:ui},11:{n:"PtgEq",f:ui},12:{n:"PtgGe",f:ui},13:{n:"PtgGt",f:ui},14:{n:"PtgNe",f:ui},15:{n:"PtgIsect",f:ui},16:{n:"PtgUnion",f:ui},17:{n:"PtgRange",f:ui},18:{n:"PtgUplus",f:ui},19:{n:"PtgUminus",f:ui},20:{n:"PtgPercent",f:ui},21:{n:"PtgParen",f:ui},22:{n:"PtgMissArg",f:ui},23:{n:"PtgStr",f:t6e},26:{n:"PtgSheet",f:D6e},27:{n:"PtgEndSheet",f:A6e},28:{n:"PtgErr",f:YIe},29:{n:"PtgBool",f:ZIe},30:{n:"PtgInt",f:QIe},31:{n:"PtgNum",f:e6e},32:{n:"PtgArray",f:MIe},33:{n:"PtgFunc",f:HIe},34:{n:"PtgFuncVar",f:GIe},35:{n:"PtgName",f:s6e},36:{n:"PtgRef",f:qIe},37:{n:"PtgArea",f:kIe},38:{n:"PtgMemArea",f:l6e},39:{n:"PtgMemErr",f:f6e},40:{n:"PtgMemNoMem",f:h6e},41:{n:"PtgMemFunc",f:c6e},42:{n:"PtgRefErr",f:u6e},43:{n:"PtgAreaErr",f:RIe},44:{n:"PtgRefN",f:$Ie},45:{n:"PtgAreaN",f:FIe},46:{n:"PtgMemAreaN",f:N6e},47:{n:"PtgMemNoMemN",f:k6e},57:{n:"PtgNameX",f:a6e},58:{n:"PtgRef3d",f:zIe},59:{n:"PtgArea3d",f:IIe},60:{n:"PtgRefErr3d",f:d6e},61:{n:"PtgAreaErr3d",f:PIe},255:{}},R6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},P6e={1:{n:"PtgElfLel",f:YX},2:{n:"PtgElfRw",f:w6e},3:{n:"PtgElfCol",f:m6e},6:{n:"PtgElfRwV",f:T6e},7:{n:"PtgElfColV",f:v6e},10:{n:"PtgElfRadical",f:x6e},11:{n:"PtgElfRadicalS",f:_6e},13:{n:"PtgElfColS",f:g6e},15:{n:"PtgElfColSV",f:y6e},16:{n:"PtgElfRadicalLel",f:b6e},25:{n:"PtgList",f:C6e},29:{n:"PtgSxName",f:S6e},255:{}},F6e={0:{n:"PtgAttrNoop",f:I6e},1:{n:"PtgAttrSemi",f:BIe},2:{n:"PtgAttrIf",f:LIe},4:{n:"PtgAttrChoose",f:UIe},8:{n:"PtgAttrGoto",f:OIe},16:{n:"PtgAttrSum",f:XIe},32:{n:"PtgAttrBaxcel",f:KO},33:{n:"PtgAttrBaxcel",f:KO},64:{n:"PtgAttrSpace",f:VIe},65:{n:"PtgAttrSpaceSemi",f:WIe},128:{n:"PtgAttrIfError",f:jIe},255:{}};function t1(t,e,n,r){if(r.biff<8)return Es(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=i6e(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=r6e(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(Es(t,e)),s}function n1(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=XO[s]||XO[R6e[s]],(s===24||s===25)&&(i=(s===24?P6e:F6e)[t[t.l+1]]),!i||!i.f?Es(t,e):a.push([i.n,i.f(t,e,n)]);return a}function M6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var U6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function O6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function QX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function JO(t,e,n){var r=QX(t,e,n);return r=="#REF"?r:O6e(r,n)}function ps(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",_=0,x=t[0].length;_<x;++_){var w=t[0][_];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=Vr(" ",t[0][g][1][1]);break;case 1:y=Vr("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+U6e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ty(w[1][1],a,i),o.push(ny(u,s));break;case"PtgRefN":u=n?ty(w[1][1],n,i):w[1][1],o.push(ny(u,s));break;case"PtgRef3d":f=w[1][1],u=ty(w[1][2],a,i),v=JO(r,f,i),o.push(v+"!"+ny(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=w[1][0],S=w[1][1];C||(C=0),C&=127;var R=C==0?[]:o.slice(-C);o.length-=C,S==="User"&&(S=R.shift()),o.push(S+"("+R.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=CO(w[1][1],n?{s:n}:a,i),o.push(u4(p,i));break;case"PtgArea":p=CO(w[1][1],a,i),o.push(u4(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=JO(r,f,i),o.push(v+"!"+u4(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var D=(r.names||[])[h-1]||(r[0]||[])[h],k=D?D.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var I=w[1][1];h=w[1][2];var F;if(i.biff<=5)I<0&&(I=-I),r[I]&&(F=r[I][h]);else{var P="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][h]&&r[I][h].itab>0&&(P=r.SheetNames[r[I][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[I]&&r[I][h])P+=r[I][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var N=(QX(r,I,i)||"").split(";;");N[h-1]?P=N[h-1]:P+="SH33TJSERRX"}o.push(P);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var O="(",U=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:O=Vr(" ",t[0][g][1][1])+O;break;case 3:O=Vr("\r",t[0][g][1][1])+O;break;case 4:U=Vr(" ",t[0][g][1][1])+U;break;case 5:U=Vr("\r",t[0][g][1][1])+U;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(O+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var H={c:n.c,r:n.r};if(r.sharedf[Qt(u)]){var G=r.sharedf[Qt(u)];o.push(ps(G,a,H,r,i))}else{var J=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ps(c[1],a,H,r,i)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+M6e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&Z.indexOf(t[0][_][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:y=Vr(" ",w[1][1]);break;case 5:z=!1;case 1:y=Vr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?y:"")+o.pop()+(z?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function L6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Es(t,e-2)];var o=n1(t,a,n);return e!==a+i&&(s=t1(t,e-a-i,o,n)),t.l=r,[o,s]}function j6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Es(t,e-2)];var o=n1(t,a,n);return e!==a+i&&(s=t1(t,e-a-i,o,n)),t.l=r,[o,s]}function B6e(t,e,n,r){var i=t.l+e,s=n1(t,r,n),a;return i!==t.l&&(a=t1(t,i-t.l,s,n)),[s,a]}function V6e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=n1(t,s,n);return s==65535?[[],Es(t,e-2)]:(e!==s+2&&(i=t1(t,r-s-2,a,n)),[a,i])}function W6e(t){var e;if(ic(t,t.l+6)!==65535)return[ys(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function q6e(t){if(t==null){var e=at(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return $f(t);return $f(0)}function m4(t,e,n){var r=t.l+e,i=Ol(t);n.biff==2&&++t.l;var s=W6e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=j6e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function $6e(t,e,n,r,i){var s=Hf(e,n,i),a=q6e(t.v),o=at(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=at(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Vi([s,a,o,c]);return f}function Vw(t,e,n){var r=t.read_shift(4),i=n1(t,r,n),s=t.read_shift(4),a=s>0?t1(t,s,i,n):null;return[i,a]}var z6e=Vw,Ww=Vw,H6e=Vw,G6e=Vw,K6e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},X6e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function YO(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function J6e(t){var e="of:="+t.replace(QI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function g4(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Y6e(t){return t.replace(/\./,"!")}var iy={},qp={},sy=typeof Map<"u";function t6(t,e,n){var r=0,i=t.length;if(n){if(sy?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=sy?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(sy?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function qw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ms=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=nv(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=n_(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function bf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function dd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){fc(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function eJ(t,e,n,r,i,s){try{r.cellNF&&(t.z=Xt[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=xr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Xt[e]==null&&fc(K4e[e]||"General",e),t.t==="e")t.w=t.w||Mc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Xy(t.v);else if(t.t==="d"){var a=Ei(t.v);(a|0)===a?t.w=a.toString(10):t.w=Xy(a)}else{if(t.v===void 0)return"";t.w=Wf(t.v,qp)}else t.t==="d"?t.w=ho(e,Ei(t.v),qp):t.w=ho(e,t.v,qp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=t_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=t_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function Q6e(t,e,n){if(t&&t["!ref"]){var r=In(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Z6e(t,e){var n=In(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=un(n))}var e5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,t5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,n5e=/<(?:\w:)?hyperlink [^>]*>/mg,r5e=/"(\w*:\w*)"/,i5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,s5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,a5e=/<(?:\w:)?pageMargins[^>]*\/>/g,tJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,o5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,l5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function c5e(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(t5e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(tJ);h?n6(h[0],o,i,n):(h=c.match(o5e))&&d5e(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(r5e);v&&Z6e(o,v[1])}var g=c.match(l5e);g&&g[1]&&E5e(g[1],i);var y=[];if(e.cellStyles){var _=c.match(i5e);_&&x5e(y,_)}f&&D5e(f[1],o,e,l,s,a);var x=u.match(s5e);x&&(o["!autofilter"]=_5e(x[0]));var w=[],C=u.match(e5e);if(C)for(p=0;p!=C.length;++p)w[p]=In(C[p].slice(C[p].indexOf('"')+1));var S=u.match(n5e);S&&g5e(o,S,r);var R=u.match(a5e);if(R&&(o["!margins"]=y5e(en(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=un(l)),e.sheetRows>0&&o["!ref"]){var D=In(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=un(D))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function u5e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+un(t[n])+'"/>';return e+"</mergeCells>"}function n6(t,e,n,r){var i=en(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=kn(er(i.codeName)))}function d5e(t,e,n,r,i){n6(t.slice(0,t.indexOf(">")),n,r,i)}function f5e(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=_l(Jn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+_t("outlinePr",null,c)}!s&&!o||(i[i.length]=_t("sheetPr",o,a))}var h5e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],p5e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function m5e(t){var e={sheet:1};return h5e.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),p5e.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=XI(t.password).toString(16).toUpperCase()),_t("sheetProtection",null,e)}function g5e(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=en(er(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+kn(s.location))):(s.Target="#"+kn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=In(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Qt({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function y5e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function v5e(t){return bf(t),_t("pageMargins",null,t)}function x5e(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=en(e[r],!0);i.hidden&&(i.hidden=mr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,JI(i.width)),Ku(i);s<=a;)t[s++]=br(i)}}function b5e(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=_t("col",null,qw(i,r)));return n[n.length]="</cols>",n.join("")}function _5e(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function w5e(t,e,n,r){var i=typeof t.ref=="string"?t.ref:un(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=da(i);a.s.r==a.e.r&&(a.e.r=da(e["!ref"]).e.r,i=un(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),_t("autoFilter",null,{ref:i})}var T5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function E5e(t,e){e.Views||(e.Views=[{}]),(t.match(T5e)||[]).forEach(function(n,r){var i=en(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),mr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function C5e(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),_t("sheetViews",_t("sheetView",null,i),{})}function S5e(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Mc[t.v];break;case"d":r&&r.cellDates?i=xr(t.v,-1).toISOString():(t=br(t),t.t="n",i=""+(t.v=Ei(xr(t.v)))),typeof t.z>"u"&&(t.z=Xt[14]);break;default:i=t.v;break}var o=es("v",Jn(i)),l={r:e},c=dd(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=es("v",""+t6(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=_t("f",Jn(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),_t("c",o,l)}var D5e=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Jy("v"),a=Jy("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],_=[],x=0,w=0,C=0,S="",R,D,k=0,I=0,F,P,N=0,O=0,U=Array.isArray(p.CellXf),H,G=[],J=[],Z=Array.isArray(c),z=[],Y={},B=!1,j=!!u.sheetStubs,q=l.split(e),X=0,Q=q.length;X!=Q;++X){g=q[X].trim();var te=g.length;if(te!==0){var ae=0;e:for(v=0;v<te;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(D=en(g.slice(ae,v),!0),k=D.r!=null?parseInt(D.r,10):k+1,I=-1,u.sheetRows&&u.sheetRows<k)continue;Y={},B=!1,D.ht&&(B=!0,Y.hpt=parseFloat(D.ht),Y.hpx=Cm(Y.hpt)),D.hidden=="1"&&(B=!0,Y.hidden=!0),D.outlineLevel!=null&&(B=!0,Y.level=+D.outlineLevel),B&&(z[k-1]=Y)}break;case"<":ae=v;break}if(ae>=v)break;if(D=en(g.slice(ae,v),!0),k=D.r!=null?parseInt(D.r,10):k+1,I=-1,!(u.sheetRows&&u.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),u&&u.cellStyles&&(Y={},B=!1,D.ht&&(B=!0,Y.hpt=parseFloat(D.ht),Y.hpx=Cm(Y.hpt)),D.hidden=="1"&&(B=!0,Y.hidden=!0),D.outlineLevel!=null&&(B=!0,Y.level=+D.outlineLevel),B&&(z[k-1]=Y)),y=g.slice(v).split(t);for(var ue=0;ue!=y.length&&y[ue].trim().charAt(0)=="<";++ue);for(y=y.slice(ue),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(_=g.match(n),x=v,w=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(x=0,S=_[1],w=0;w!=S.length&&!((C=S.charCodeAt(w)-64)<1||C>26);++w)x=26*x+C;--x,I=x}else++I;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,D=en(g.slice(0,w),!0),D.r||(D.r=Qt({r:k-1,c:I})),S=g.slice(w),R={t:""},(_=S.match(s))!=null&&_[1]!==""&&(R.v=kn(_[1])),u.cellFormula){if((_=S.match(a))!=null&&_[1]!==""){if(R.f=kn(er(_[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=GO(R.f)),_[0].indexOf('t="array"')>-1)R.F=(S.match(i)||[])[1],R.F.indexOf(":")>-1&&G.push([In(R.F),R.F]);else if(_[0].indexOf('t="shared"')>-1){P=en(_[0]);var de=kn(er(_[1]));u.xlfn||(de=GO(de)),J[parseInt(P.si,10)]=[P,de,D.r]}}else(_=S.match(/<f[^>]*\/>/))&&(P=en(_[0]),J[P.si]&&(R.f=TIe(J[P.si][1],J[P.si][2],D.r)));var Se=Mr(D.r);for(w=0;w<G.length;++w)Se.r>=G[w][0].s.r&&Se.r<=G[w][0].e.r&&Se.c>=G[w][0].s.c&&Se.c<=G[w][0].e.c&&(R.F=G[w][1])}if(D.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(j)R.t="z";else continue;else R.t=D.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),R.t){case"n":if(R.v==""||R.v==null){if(!j)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!j)continue;R.t="z"}else F=iy[parseInt(R.v,10)],R.v=F.t,R.r=F.r,u.cellHTML&&(R.h=F.h);break;case"str":R.t="s",R.v=R.v!=null?er(R.v):"",u.cellHTML&&(R.h=FI(R.v));break;case"inlineStr":_=S.match(r),R.t="s",_!=null&&(F=KI(_[1]))?(R.v=F.t,u.cellHTML&&(R.h=F.h)):R.v="";break;case"b":R.v=mr(R.v);break;case"d":u.cellDates?R.v=xr(R.v,1):(R.v=Ei(xr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=rX[R.v];break}if(N=O=0,H=null,U&&D.s!==void 0&&(H=p.CellXf[D.s],H!=null&&(H.numFmtId!=null&&(N=H.numFmtId),u.cellStyles&&H.fillId!=null&&(O=H.fillId))),eJ(R,N,O,u,h,p),u.cellDates&&U&&R.t=="n"&&rg(Xt[N])&&(R.t="d",R.v=jw(R.v)),D.cm&&u.xlmeta){var Pe=(u.xlmeta.Cell||[])[+D.cm-1];Pe&&Pe.type=="XLDAPR"&&(R.D=!0)}if(Z){var pe=Mr(D.r);c[pe.r]||(c[pe.r]=[]),c[pe.r][pe.c]=R}else c[D.r]=R}}}}z.length>0&&(c["!rows"]=z)}})();function A5e(t,e,n,r){var i=[],s=[],a=In(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,_=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=Fr(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=ri(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var x=v?(t[f]||[])[h]:t[l];x!==void 0&&(o=S5e(x,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=rv(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=_t("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=rv(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=_t("row","",g));return i.join("")}function nJ(t,e,n,r){var i=[si,_t("worksheet",null,{xmlns:ch[0],"xmlns:r":wi.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=In(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=un(u)}r||(r={}),l["!comments"]=[];var f=[];f5e(l,n,t,e,i),i[i.length]=_t("dimension",null,{ref:c}),i[i.length]=C5e(l,e,t,n),e.sheetFormat&&(i[i.length]=_t("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=b5e(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=A5e(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=m5e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=w5e(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=u5e(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Kn(r,-1,Jn(g[1].Target).replace(/#.*$/,""),vn.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Jn(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Jn(g[1].Tooltip)),i[i.length]=_t("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=v5e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=es("ignoredErrors",_t("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=Kn(r,-1,"../drawings/drawing"+(t+1)+".xml",vn.DRAW),i[i.length]=_t("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=Kn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",vn.VML),i[i.length]=_t("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function N5e(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function k5e(t,e,n){var r=at(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=rv(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Qt(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function I5e(t,e,n,r){var i=k5e(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&dt(t,0,i)}var R5e=hh,P5e=ag;function F5e(){}function M5e(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=LDe(t),n}function U5e(t,e,n){n==null&&(n=at(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Qb({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),QK(t,n),n.slice(0,n.l)}function O5e(t){var e=go(t);return[e]}function L5e(t,e,n){return n==null&&(n=at(8)),uh(e,n)}function j5e(t){var e=dh(t);return[e]}function B5e(t,e,n){return n==null&&(n=at(4)),fh(e,n)}function V5e(t){var e=go(t),n=t.read_shift(1);return[e,n,"b"]}function W5e(t,e,n){return n==null&&(n=at(9)),uh(e,n),n.write_shift(1,t.v?1:0),n}function q5e(t){var e=dh(t),n=t.read_shift(1);return[e,n,"b"]}function $5e(t,e,n){return n==null&&(n=at(5)),fh(e,n),n.write_shift(1,t.v?1:0),n}function z5e(t){var e=go(t),n=t.read_shift(1);return[e,n,"e"]}function H5e(t,e,n){return n==null&&(n=at(9)),uh(e,n),n.write_shift(1,t.v),n}function G5e(t){var e=dh(t),n=t.read_shift(1);return[e,n,"e"]}function K5e(t,e,n){return n==null&&(n=at(8)),fh(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function X5e(t){var e=go(t),n=t.read_shift(4);return[e,n,"s"]}function J5e(t,e,n){return n==null&&(n=at(12)),uh(e,n),n.write_shift(4,e.v),n}function Y5e(t){var e=dh(t),n=t.read_shift(4);return[e,n,"s"]}function Q5e(t,e,n){return n==null&&(n=at(8)),fh(e,n),n.write_shift(4,e.v),n}function Z5e(t){var e=go(t),n=ys(t);return[e,n,"n"]}function eRe(t,e,n){return n==null&&(n=at(16)),uh(e,n),$f(t.v,n),n}function rJ(t){var e=dh(t),n=ys(t);return[e,n,"n"]}function tRe(t,e,n){return n==null&&(n=at(12)),fh(e,n),$f(t.v,n),n}function nRe(t){var e=go(t),n=qI(t);return[e,n,"n"]}function rRe(t,e,n){return n==null&&(n=at(12)),uh(e,n),ZK(t.v,n),n}function iRe(t){var e=dh(t),n=qI(t);return[e,n,"n"]}function sRe(t,e,n){return n==null&&(n=at(8)),fh(e,n),ZK(t.v,n),n}function aRe(t){var e=go(t),n=BI(t);return[e,n,"is"]}function oRe(t){var e=go(t),n=Ts(t);return[e,n,"str"]}function lRe(t,e,n){return n==null&&(n=at(12+4*t.v.length)),uh(e,n),Wi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function cRe(t){var e=dh(t),n=Ts(t);return[e,n,"str"]}function uRe(t,e,n){return n==null&&(n=at(8+4*t.v.length)),fh(e,n),Wi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function dRe(t,e,n){var r=t.l+e,i=go(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=Ww(t,r-t.l,n);a[3]=ps(o,null,i,n.supbooks,n)}else t.l=r;return a}function fRe(t,e,n){var r=t.l+e,i=go(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=Ww(t,r-t.l,n);a[3]=ps(o,null,i,n.supbooks,n)}else t.l=r;return a}function hRe(t,e,n){var r=t.l+e,i=go(t);i.r=n["!row"];var s=ys(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=Ww(t,r-t.l,n);a[3]=ps(o,null,i,n.supbooks,n)}else t.l=r;return a}function pRe(t,e,n){var r=t.l+e,i=go(t);i.r=n["!row"];var s=Ts(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=Ww(t,r-t.l,n);a[3]=ps(o,null,i,n.supbooks,n)}else t.l=r;return a}var mRe=hh,gRe=ag;function yRe(t,e){return e==null&&(e=at(4)),e.write_shift(4,t),e}function vRe(t,e){var n=t.l+e,r=hh(t),i=VI(t),s=Ts(t),a=Ts(t),o=Ts(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function xRe(t,e){var n=at(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ag({s:Mr(t[0]),e:Mr(t[0])},n),WI("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Wi(i||"",n),Wi(t[1].Tooltip||"",n),Wi("",n),n.slice(0,n.l)}function bRe(){}function _Re(t,e,n){var r=t.l+e,i=eX(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=z6e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function wRe(t,e,n){var r=t.l+e,i=hh(t),s=[i];if(n.cellFormula){var a=G6e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function TRe(t,e,n){n==null&&(n=at(18));var r=qw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var iJ=["left","right","top","bottom","header","footer"];function ERe(t){var e={};return iJ.forEach(function(n){e[n]=ys(t)}),e}function CRe(t,e){return e==null&&(e=at(48)),bf(t),iJ.forEach(function(n){$f(t[n],e)}),e}function SRe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function DRe(t,e,n){n==null&&(n=at(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function ARe(t){var e=at(24);return e.write_shift(4,4),e.write_shift(4,1),ag(t,e),e}function NRe(t,e){return e==null&&(e=at(66)),e.write_shift(2,t.password?XI(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function kRe(){}function IRe(){}function RRe(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,_,x,w,C,S,R=[];o.biff=12,o["!row"]=0;var D=0,k=!1,I=[],F={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=F,P.arrayf=I,P.SheetNames=i.SheetNames||i.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var N=0;N<i.Names.length;++N)P[0][N+1]=i.Names[N];var O=[],U=[],H=!1;iv[16]={n:"BrtShortReal",f:rJ};var G;if(Fc(t,function(z,Y,B){if(!h)switch(B){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=ri(y=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=Cm(z.hpt)),U[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":w=iy[z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=Mc[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=a.CellXf[z[0].iStyleRef])&&eJ(v,g.numFmtId,null,o,s,a),_=z[0].c==-1?_+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=v):l[Fr(_)+C]=v,o.cellFormula){for(k=!1,D=0;D<I.length;++D){var j=I[D];p.r>=j[0].s.r&&p.r<=j[0].e.r&&_>=j[0].s.c&&_<=j[0].e.c&&(v.F=un(j[0]),k=!0)}!k&&z.length>3&&(v.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>_&&(u.s.c=_),u.e.r<p.r&&(u.e.r=p.r),u.e.c<_&&(u.e.c=_),o.cellDates&&g&&v.t=="n"&&rg(Xt[g.numFmtId])){var q=uf(v.v);q&&(v.t="d",v.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}G&&(G.type=="XLDAPR"&&(v.D=!0),G=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},_=z[0].c==-1?_+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=v):l[Fr(_)+C]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>_&&(u.s.c=_),u.e.r<p.r&&(u.e.r=p.r),u.e.c<_&&(u.e.c=_),G&&(G.type=="XLDAPR"&&(v.D=!0),G=void 0);break;case 176:R.push(z);break;case 49:G=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var X=r["!id"][z.relId];for(X?(z.Target=X.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=X):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(_=z.rfx.s.c;_<=z.rfx.e.c;++_)o.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=z):(x=Qt({c:_,r:y}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=z);break;case 426:if(!o.cellFormula)break;I.push(z),S=o.dense?l[y][_]:l[Fr(_)+C],S.f=ps(z[1],u,{r:p.r,c:_},P,o),S.F=un(z[0]);break;case 427:if(!o.cellFormula)break;F[Qt(z[0].s)]=z[1],S=o.dense?l[y][_]:l[Fr(_)+C],S.f=ps(z[1],u,{r:p.r,c:_},P,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)O[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},H||(H=!0,JI(z.w/256)),Ku(O[z.e+1]);break;case 161:l["!autofilter"]={ref:un(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=un(c||u)),o.sheetRows&&l["!ref"]){var J=In(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=un(J))}return R.length>0&&(l["!merges"]=R),O.length>0&&(l["!cols"]=O),U.length>0&&(l["!rows"]=U),l}function PRe(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=br(e),e.z=e.z||Xt[14],e.v=Ei(xr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=dd(i.cellXfs,e,i),e.l&&s["!links"].push([Qt(l),e.l]),e.c&&s["!comments"].push([Qt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=t6(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?dt(t,18,Q5e(e,l)):dt(t,7,J5e(e,l))):(l.t="str",a?dt(t,17,uRe(e,l)):dt(t,6,lRe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?dt(t,13,sRe(e,l)):dt(t,2,rRe(e,l)):a?dt(t,16,tRe(e,l)):dt(t,5,eRe(e,l)),!0;case"b":return l.t="b",a?dt(t,15,$5e(e,l)):dt(t,4,W5e(e,l)),!0;case"e":return l.t="e",a?dt(t,14,K5e(e,l)):dt(t,3,H5e(e,l)),!0}return a?dt(t,12,B5e(e,l)):dt(t,1,L5e(e,l)),!0}function FRe(t,e,n,r){var i=In(e["!ref"]||"A1"),s,a="",o=[];dt(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=ri(u),I5e(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=Fr(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=PRe(t,p,u,h,r,e,f)}}dt(t,146)}function MRe(t,e){!e||!e["!merges"]||(dt(t,177,yRe(e["!merges"].length)),e["!merges"].forEach(function(n){dt(t,176,gRe(n))}),dt(t,178))}function URe(t,e){!e||!e["!cols"]||(dt(t,390),e["!cols"].forEach(function(n,r){n&&dt(t,60,TRe(r,n))}),dt(t,391))}function ORe(t,e){!e||!e["!ref"]||(dt(t,648),dt(t,649,ARe(In(e["!ref"]))),dt(t,650))}function LRe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=Kn(n,-1,r[1].Target.replace(/#.*$/,""),vn.HLINK);dt(t,494,xRe(r,i))}}),delete e["!links"]}function jRe(t,e,n,r){if(e["!comments"].length>0){var i=Kn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",vn.VML);dt(t,551,WI("rId"+i)),e["!legacy"]=i}}function BRe(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:un(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=da(s);o.s.r==o.e.r&&(o.e.r=da(e["!ref"]).e.r,s=un(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),dt(t,161,ag(In(s))),dt(t,162)}}function VRe(t,e,n){dt(t,133),dt(t,137,DRe(e,n)),dt(t,138),dt(t,134)}function WRe(t,e){e["!protect"]&&dt(t,535,NRe(e["!protect"]))}function qRe(t,e,n,r){var i=ua(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=In(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],dt(i,129),(n.vbaraw||a["!outline"])&&dt(i,147,U5e(o,a["!outline"])),dt(i,148,P5e(l)),VRe(i,a,n.Workbook),URe(i,a),FRe(i,a,t,e),WRe(i,a),BRe(i,a,n,t),MRe(i,a),LRe(i,a,r),a["!margins"]&&dt(i,476,CRe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&ORe(i,a),jRe(i,a,t,r),dt(i,130),i.end()}function $Re(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=kn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function zRe(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=$Re(f);u.s.r=u.s.c=0,u.e.c=o,c=Fr(o),h[0].forEach(function(p,v){a[c+ri(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=un(u)),a}function HRe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(tJ);return o&&n6(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function GRe(t,e){t.l+=10;var n=Ts(t);return{name:n}}function KRe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Fc(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var r6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],XRe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],JRe=[],YRe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function QO(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=mr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function ZO(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=mr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function sJ(t){ZO(t.WBProps,r6),ZO(t.CalcPr,YRe),QO(t.WBView,XRe),QO(t.Sheets,JRe),qp.date1904=mr(t.WBProps.date1904)}function QRe(t){return!t.Workbook||!t.Workbook.WBProps?"false":mr(t.Workbook.WBProps.date1904)?"true":"false"}var ZRe="][*?/\\".split("");function aJ(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return ZRe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function e8e(t,e,n){t.forEach(function(r,i){aJ(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function t8e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];e8e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)Q6e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var n8e=/<\w+:workbook/;function r8e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(Ds,function(l,c){var u=en(l);switch(Ul(u[0])){case"<?xml":break;case"<workbook":l.match(n8e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":r6.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=mr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=er(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=kn(er(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=er(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),mr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=kn(er(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),ch.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return sJ(n),n}function oJ(t){var e=[si];e[e.length]=_t("workbook",null,{xmlns:ch[0],"xmlns:r":wi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(r6.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=_t("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Jn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=_t("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=_t("definedName",Jn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function i8e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=cN(t),n.name=Ts(t),n}function s8e(t,e){return e||(e=at(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),WI(t.strRelID,e),Wi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function a8e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Ts(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function o8e(t,e){e||(e=at(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),QK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function l8e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function c8e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=jDe(t),a=H6e(t,0,n),o=VI(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function u8e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],iv[16]={n:"BrtFRTArchID$",f:l8e},Fc(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ps(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),sJ(n),n.Names=s,n.supbooks=a,n}function d8e(t,e){dt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};dt(t,156,s8e(i))}dt(t,144)}function f8e(t,e){e||(e=at(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Wi("SheetJS",e),Wi(zb.version,e),Wi(zb.version,e),Wi("7262",e),e.length>e.l?e.slice(0,e.l):e}function h8e(t,e){e||(e=at(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function p8e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(dt(t,135),dt(t,158,h8e(i)),dt(t,136))}}function m8e(t,e){var n=ua();return dt(n,131),dt(n,128,f8e()),dt(n,153,o8e(t.Workbook&&t.Workbook.WBProps||null)),p8e(n,t),d8e(n,t),dt(n,132),n.end()}function g8e(t,e,n){return e.slice(-4)===".bin"?u8e(t,n):r8e(t,n)}function y8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?RRe(t,r,n,i,s,a,o):c5e(t,r,n,i,s,a,o)}function v8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?KRe(t,r,n,i,s):HRe(t,r,n,i,s)}function x8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?_Ie():wIe()}function b8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?xIe():bIe()}function _8e(t,e,n,r){return e.slice(-4)===".bin"?gke(t,n,r):ike(t,n,r)}function w8e(t,e,n){return VX(t,n)}function T8e(t,e,n){return e.slice(-4)===".bin"?T3e(t,n):b3e(t,n)}function E8e(t,e,n){return e.slice(-4)===".bin"?pIe(t,n):sIe(t,n)}function C8e(t,e,n){return e.slice(-4)===".bin"?nIe(t):eIe(t)}function S8e(t,e,n,r){return n.slice(-4)===".bin"?rIe(t,e,n,r):void 0}function D8e(t,e,n){return e.slice(-4)===".bin"?Yke(t,e,n):Zke(t,e,n)}function A8e(t,e,n){return(e.slice(-4)===".bin"?m8e:oJ)(t)}function N8e(t,e,n,r,i){return(e.slice(-4)===".bin"?qRe:nJ)(t,n,r,i)}function k8e(t,e,n){return(e.slice(-4)===".bin"?Ske:jX)(t,n)}function I8e(t,e,n){return(e.slice(-4)===".bin"?S3e:IX)(t,n)}function R8e(t,e,n){return(e.slice(-4)===".bin"?mIe:$X)(t)}function P8e(t){return(t.slice(-4)===".bin"?Qke:WX)()}var lJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,cJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ko(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(lJ),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(cJ),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function F8e(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(lJ),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(cJ),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var ay;function M8e(t,e){var n=ay[t]||kn(t);return n==="General"?Wf(e):ho(n,e)}function U8e(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=mr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=xr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[kn(e)]=i}function O8e(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Mc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Xy(t.v):t.w=Wf(t.v):t.w=M8e(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=ay[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&rg(r)){var i=uf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function L8e(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=J3e[r.Pattern]||r.Pattern)}t[e.ID]=e}function j8e(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=mr(t);break;case"String":r.t="s",r.r=gO(kn(t)),r.v=t.indexOf("<")>-1?kn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(xr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=kn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=rX[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=gO(e||t));break}if(O8e(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=kn(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Wp(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Wp("RC:RC",i):r.ArrayRange&&(r.F=Wp(r.ArrayRange,i),l.push([In(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function B8e(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function y4(t,e){var n=e||{};ig();var r=S0(MI(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=er(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=br(n);return a.type="string",Em.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return CPe(r,n);ay={"General Number":"General","General Date":Xt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Xt[15],"Short Date":Xt[14],"Long Time":Xt[19],"Medium Time":Xt[18],"Short Time":Xt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Xt[2],Standard:Xt[4],Percent:Xt[10],Scientific:Xt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=ko('<Data ss:Type="String">'),_=0,x=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},R={},D="",k=0,I=[],F={},P={},N=0,O=[],U=[],H={},G=[],J,Z=!1,z=[],Y=[],B={},j=0,q=0,X={Sheets:[],WBProps:{date1904:!1}},Q={};Qy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=Qy.exec(r);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?j8e(r.slice(_,o.index),D,y,l[l.length-1][0]=="comment"?H:v,{c:x,r:w},S,G[x],g,z,n):(D="",y=ko(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(v.c=U),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][x]=v):h[Fr(x)+ri(w)]=v),v.HRef&&(v.l={Target:kn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=x+(parseInt(v.MergeAcross,10)|0),q=w+(parseInt(v.MergeDown,10)|0),I.push({s:{c:x,r:w},e:{c:j,r:q}})),!n.sheetStubs)v.MergeAcross?x=j+1:++x;else if(v.MergeAcross||v.MergeDown){for(var ae=x;ae<=j;++ae)for(var ue=w;ue<=q;++ue)(ae>x||ue>w)&&(n.dense?(h[ue]||(h[ue]=[]),h[ue][ae]={t:"z"}):h[Fr(ae)+ri(ue)]={t:"z"});x=j+1}else++x;else v=F8e(o[0]),v.Index&&(x=+v.Index-1),x<C.s.c&&(C.s.c=x),x>C.e.c&&(C.e.c=x),o[0].slice(-2)==="/>"&&++x,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),o[0].slice(-2)==="/>"&&(g=ko(o[0]),g.Index&&(w=+g.Index-1)),x=0,++w):(g=ko(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=rv(B.hpx),Y[w]=B),g.Hidden=="1"&&(B.hidden=!0,Y[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=un(C),n.sheetRows&&n.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=n.sheetRows-1,h["!ref"]=un(C))),I.length&&(h["!merges"]=I),G.length>0&&(h["!cols"]=G),Y.length>0&&(h["!rows"]=Y),u[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=x=0,l.push([o[3],!1]),c=ko(o[0]),p=kn(c.Name),h=n.dense?[]:{},I=[],z=[],Y=[],Q={name:p,Hidden:0},X.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),G=[],Z=!1}break;case"style":o[1]==="/"?L8e(S,R,n):R=ko(o[0]);break;case"numberformat":R.nf=kn(ko(o[0]).Format||"General"),ay[R.nf]&&(R.nf=ay[R.nf]);for(var de=0;de!=392&&Xt[de]!=R.nf;++de);if(de==392){for(de=57;de!=392;++de)if(Xt[de]==null){fc(R.nf,de);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=ko(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!Z&&J.wpx>10){Z=!0,ms=OX;for(var Se=0;Se<G.length;++Se)G[Se]&&Ku(G[Se])}Z&&Ku(J),G[J.Index-1||G.length]=J;for(var Pe=0;Pe<+J.Span;++Pe)G[G.length]=br(J);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var pe=en(o[0]),je={Name:pe.Name,Ref:Wp(pe.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(je.Sheet=X.Sheets.length-1),X.Names.push(je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(k,o.index):k=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=ko(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?uAe(F,te,r.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));B8e(H),U.push(H)}else l.push([o[3],!1]),c=ko(o[0]),H={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var V=ko(o[0]);h["!autofilter"]={ref:Wp(V.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return iL(r,n);var xe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(N,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||bf(h["!margins"]={},"xlml"),isNaN(+en(o[0]).Margin)||(h["!margins"].header=+en(o[0]).Margin);break;case"footer":h["!margins"]||bf(h["!margins"]={},"xlml"),isNaN(+en(o[0]).Margin)||(h["!margins"].footer=+en(o[0]).Margin);break;case"pagemargins":var _e=en(o[0]);h["!margins"]||bf(h["!margins"]={},"xlml"),isNaN(+_e.Top)||(h["!margins"].top=+_e.Top),isNaN(+_e.Left)||(h["!margins"].left=+_e.Left),isNaN(+_e.Right)||(h["!margins"].right=+_e.Right),isNaN(+_e.Bottom)||(h["!margins"].bottom=+_e.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?U8e(P,te,O,r.slice(N,o.index)):(O=o,N=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var le={};return!n.bookSheets&&!n.bookProps&&(le.Sheets=u),le.SheetNames=f,le.Workbook=X,le.SSF=br(Xt),le.Props=F,le.Custprops=P,le}function gN(t,e){switch(s6(e=e||{}),e.type||"base64"){case"base64":return y4(Ua(t),e);case"binary":case"buffer":case"file":return y4(t,e);case"array":return y4(cd(t),e)}}function V8e(t,e){var n=[];return t.Props&&n.push(dAe(t.Props,e)),t.Custprops&&n.push(fAe(t.Props,t.Custprops)),n.join("")}function W8e(){return""}function q8e(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(_t("NumberFormat",null,{"ss:Format":Jn(Xt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(_t("Style",s.join(""),a))}),_t("Styles",n.join(""))}function uJ(t){return _t("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+ZI(t.Ref,{r:0,c:0})})}function $8e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(uJ(i)))}return _t("Names",n.join(""))}function z8e(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(uJ(o)))}return s.join("")}function H8e(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(_t("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(_t("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(_t("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(_t("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(es("ProtectContents","True")),t["!protect"].objects&&i.push(es("ProtectObjects","True")),t["!protect"].scenarios&&i.push(es("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(es("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(es("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":_t("WorksheetOptions",i.join(""),{xmlns:Sa.x})}function G8e(t){return t.map(function(e){var n=pDe(e.t||""),r=_t("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return _t("Comment",r,{"ss:Author":e.a})}).join("")}function K8e(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Jn(ZI(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Mr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Jn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Jn(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=Mc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Xt[14]);break;case"s":f="String",h=hDe(t.v||"");break}var p=dd(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=G8e(t.c)),_t("Cell",g,o)}function X8e(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Cm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function J8e(t,e,n,r){if(!t["!ref"])return"";var i=In(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,_){Ku(y);var x=!!y.width,w=qw(_,y),C={"ss:Index":_+1};x&&(C["ss:Width"]=tv(w.width)),y.hidden&&(C["ss:Hidden"]="1"),o.push(_t("Column",null,C))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[X8e(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=Qt(p),g=l?(t[c]||[])[f]:t[v];u.push(K8e(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Y8e(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?z8e(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?J8e(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(H8e(s,e,t,n)),r.join("")}function Q8e(t,e){e||(e={}),t.SSF||(t.SSF=br(Xt)),t.SSF&&(ig(),Uw(t.SSF),e.revssf=Lw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],dd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(V8e(t,e)),n.push(W8e()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(_t("Worksheet",Y8e(r,e,t),{"ss:Name":Jn(t.SheetNames[r])}));return n[2]=q8e(t,e),n[3]=$8e(t),si+_t("Workbook",n.join(""),{xmlns:Sa.ss,"xmlns:o":Sa.o,"xmlns:x":Sa.x,"xmlns:ss":Sa.ss,"xmlns:dt":Sa.dt,"xmlns:html":Sa.html})}function Z8e(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=$De(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=zDe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var ePe=[60,1084,2066,2165,2175];function tPe(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=ic(n,n.l),c=yN[l],u=0;c!=null&&ePe.indexOf(l)>-1;)s=ic(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=yN[l=ic(n,n.l)];var f=Vi(a);Qi(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function rl(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Xt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Mc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Xy(t.v):t.w=Wf(t.v):t.w=ho(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&rg(Xt[r]||String(r))){var i=uf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Gx(t,e,n){return{v:t,ixfe:e,t:n}}function nPe(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,_={},x=[],w,C,S=[],R=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},I=function(Le){return Le<8?yf[Le]:Le<64&&R[Le-8]||yf[Le]},F=function(Le,Je,lt){var ct=Je.XF.data;if(!(!ct||!ct.patternType||!lt||!lt.cellStyles)){Je.s={},Je.s.patternType=ct.patternType;var Bt;(Bt=ev(I(ct.icvFore)))&&(Je.s.fgColor={rgb:Bt}),(Bt=ev(I(ct.icvBack)))&&(Je.s.bgColor={rgb:Bt})}},P=function(Le,Je,lt){if(!(B>1)&&!(lt.sheetRows&&Le.r>=lt.sheetRows)){if(lt.cellStyles&&Je.XF&&Je.XF.data&&F(Le,Je,lt),delete Je.ixfe,delete Je.XF,f=Le,h=Qt(Le),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Le.r<a.s.r&&(a.s.r=Le.r),Le.c<a.s.c&&(a.s.c=Le.c),Le.r+1>a.e.r&&(a.e.r=Le.r+1),Le.c+1>a.e.c&&(a.e.c=Le.c+1),lt.cellFormula&&Je.f){for(var ct=0;ct<x.length;++ct)if(!(x[ct][0].s.c>Le.c||x[ct][0].s.r>Le.r)&&!(x[ct][0].e.c<Le.c||x[ct][0].e.r<Le.r)){Je.F=un(x[ct][0]),(x[ct][0].s.c!=Le.c||x[ct][0].s.r!=Le.r)&&delete Je.f,Je.f&&(Je.f=""+ps(x[ct][1],a,Le,z,N));break}}lt.dense?(i[Le.r]||(i[Le.r]=[]),i[Le.r][Le.c]=Je):i[h]=Je}},N={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(N.password=e.password);var O,U=[],H=[],G=[],J=[],Z=!1,z=[];z.SheetNames=N.snames,z.sharedf=N.sharedf,z.arrayf=N.arrayf,z.names=[],z.XTI=[];var Y=0,B=0,j=0,q=[],X=[],Q;N.codepage=1200,Uo(1200);for(var te=!1;t.l<t.length-1;){var ae=t.l,ue=t.read_shift(2);if(ue===0&&Y===10)break;var de=t.l===t.length?0:t.read_shift(2),Se=yN[ue];if(Se&&Se.f){if(e.bookSheets&&Y===133&&ue!==133)break;if(Y=ue,Se.r===2||Se.r==12){var Pe=t.read_shift(2);if(de-=2,!N.enc&&Pe!==ue&&((Pe&255)<<8|Pe>>8)!==ue)throw new Error("rt mismatch: "+Pe+"!="+ue);Se.r==12&&(t.l+=10,de-=10)}var pe={};if(ue===10?pe=Se.f(t,de,N):pe=tPe(ue,Se,t,de,N),B==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(ue){case 34:n.opts.Date1904=D.WBProps.date1904=pe;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(N.enc||(t.l=0),N.enc=pe,!e.password)throw new Error("File is password-protected");if(pe.valid==null)throw new Error("Encryption scheme unsupported");if(!pe.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=pe;break;case 66:var je=Number(pe);switch(je){case 21010:je=1200;break;case 32768:je=1e4;break;case 32769:je=1252;break}Uo(N.codepage=je),te=!0;break;case 317:N.rrtabid=pe;break;case 25:N.winlocked=pe;break;case 439:n.opts.RefreshAll=pe;break;case 12:n.opts.CalcCount=pe;break;case 16:n.opts.CalcDelta=pe;break;case 17:n.opts.CalcIter=pe;break;case 13:n.opts.CalcMode=pe;break;case 14:n.opts.CalcPrecision=pe;break;case 95:n.opts.CalcSaveRecalc=pe;break;case 15:N.CalcRefMode=pe;break;case 2211:n.opts.FullCalc=pe;break;case 129:pe.fDialog&&(i["!type"]="dialog"),pe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),pe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(pe);break;case 430:z.push([pe]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(pe);break;case 24:case 536:Q={Name:pe.Name,Ref:ps(pe.rgce,a,null,z,N)},pe.itab>0&&(Q.Sheet=pe.itab-1),z.names.push(Q),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(pe),pe.Name=="_xlnm._FilterDatabase"&&pe.itab>0&&pe.rgce&&pe.rgce[0]&&pe.rgce[0][0]&&pe.rgce[0][0][0]=="PtgArea3d"&&(X[pe.itab-1]={ref:un(pe.rgce[0][0][1][2])});break;case 22:N.ExternCount=pe;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(pe),z.XTI=z.XTI.concat(pe);break;case 2196:if(N.biff<8)break;Q!=null&&(Q.Comment=pe[1]);break;case 18:i["!protect"]=pe;break;case 19:pe!==0&&N.WTF&&console.error("Password verifier: "+pe);break;case 133:s[pe.pos]=pe,N.snames.push(pe.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=un(a),e.sheetRows&&e.sheetRows<=a.e.r){var V=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=un(a),a.e.r=V}a.e.r++,a.e.c++}U.length>0&&(i["!merges"]=U),H.length>0&&(i["!objects"]=H),G.length>0&&(i["!cols"]=G),J.length>0&&(i["!rows"]=J),D.Sheets.push(k)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[pe.BIFFVer]||8),N.biffguess=pe.BIFFVer==0,pe.BIFFVer==0&&pe.dt==4096&&(N.biff=5,te=!0,Uo(N.codepage=28591)),N.biff==8&&pe.BIFFVer==0&&pe.dt==16&&(N.biff=2),B++)break;if(i=e.dense?[]:{},N.biff<8&&!te&&(te=!0,Uo(N.codepage=e.codepage||1252)),N.biff<5||pe.BIFFVer==0&&pe.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:t.l-de,name:c};s[xe.pos]=xe,N.snames.push(c)}else c=(s[ae]||{name:""}).name;pe.dt==32&&(i["!type"]="chart"),pe.dt==64&&(i["!type"]="macro"),U=[],H=[],N.arrayf=x=[],G=[],J=[],Z=!1,k={Hidden:(s[ae]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[pe.r]||[])[pe.c]:i[Qt({c:pe.c,r:pe.r})])&&++pe.c,w={ixfe:pe.ixfe,XF:S[pe.ixfe]||{},v:pe.val,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 5:case 517:w={ixfe:pe.ixfe,XF:S[pe.ixfe],v:pe.val,t:pe.t},j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 638:w={ixfe:pe.ixfe,XF:S[pe.ixfe],v:pe.rknum,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 189:for(var _e=pe.c;_e<=pe.C;++_e){var le=pe.rkrec[_e-pe.c][0];w={ixfe:le,XF:S[le],v:pe.rkrec[_e-pe.c][1],t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:_e,r:pe.r},w,e)}break;case 6:case 518:case 1030:{if(pe.val=="String"){o=pe;break}if(w=Gx(pe.val,pe.cell.ixfe,pe.tt),w.XF=S[w.ixfe],e.cellFormula){var re=pe.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var oe=re[0][0][1][0],fe=re[0][0][1][1],be=Qt({r:oe,c:fe});_[be]?w.f=""+ps(pe.formula,a,pe.cell,z,N):w.F=((e.dense?(i[oe]||[])[fe]:i[be])||{}).F}else w.f=""+ps(pe.formula,a,pe.cell,z,N)}j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P(pe.cell,w,e),o=pe}break;case 7:case 519:if(o)o.val=pe,w=Gx(pe,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+ps(o.formula,a,o.cell,z,N)),j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(pe);var ie=Qt(pe[0].s);if(p=e.dense?(i[pe[0].s.r]||[])[pe[0].s.c]:i[ie],e.cellFormula&&p){if(!o||!ie||!p)break;p.f=""+ps(pe[1],a,pe[0],z,N),p.F=un(pe[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;_[Qt(o.cell)]=pe[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Qt(o.cell)],(p||{}).f=""+ps(pe[0],a,f,z,N)}}break;case 253:w=Gx(l[pe.isst].t,pe.ixfe,"s"),l[pe.isst].h&&(w.h=l[pe.isst].h),w.XF=S[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:pe.ixfe,XF:S[pe.ixfe],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e));break;case 190:if(e.sheetStubs)for(var ce=pe.c;ce<=pe.C;++ce){var me=pe.ixfe[ce-pe.c];w={ixfe:me,XF:S[me],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:ce,r:pe.r},w,e)}break;case 214:case 516:case 4:w=Gx(pe.val,pe.ixfe,"s"),w.XF=S[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),rl(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 0:case 512:B===1&&(a=pe);break;case 252:l=pe;break;case 1054:if(N.biff==4){q[j++]=pe[1];for(var ge=0;ge<j+163&&Xt[ge]!=pe[1];++ge);ge>=163&&fc(pe[1],j+163)}else fc(pe[1],pe[0]);break;case 30:{q[j++]=pe;for(var De=0;De<j+163&&Xt[De]!=pe;++De);De>=163&&fc(pe,j+163)}break;case 229:U=U.concat(pe);break;case 93:H[pe.cmo[0]]=N.lastobj=pe;break;case 438:N.lastobj.TxO=pe;break;case 127:N.lastobj.ImData=pe;break;case 440:for(y=pe[0].s.r;y<=pe[0].e.r;++y)for(g=pe[0].s.c;g<=pe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Qt({c:g,r:y})],p&&(p.l=pe[1]);break;case 2048:for(y=pe[0].s.r;y<=pe[0].e.r;++y)for(g=pe[0].s.c;g<=pe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Qt({c:g,r:y})],p&&p.l&&(p.l.Tooltip=pe[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=e.dense?(i[pe[0].r]||[])[pe[0].c]:i[Qt(pe[0])];var Oe=H[pe[2]];p||(e.dense?(i[pe[0].r]||(i[pe[0].r]=[]),p=i[pe[0].r][pe[0].c]={t:"z"}):p=i[Qt(pe[0])]={t:"z"},a.e.r=Math.max(a.e.r,pe[0].r),a.s.r=Math.min(a.s.r,pe[0].r),a.e.c=Math.max(a.e.c,pe[0].c),a.s.c=Math.min(a.s.c,pe[0].c)),p.c||(p.c=[]),v={a:pe[1],t:Oe.TxO.t},p.c.push(v)}break;case 2173:qke(S[pe.ixfe],pe.ext);break;case 125:{if(!N.cellStyles)break;for(;pe.e>=pe.s;)G[pe.e--]={width:pe.w/256,level:pe.level||0,hidden:!!(pe.flags&1)},Z||(Z=!0,JI(pe.w/256)),Ku(G[pe.e+1])}break;case 520:{var Te={};pe.level!=null&&(J[pe.r]=Te,Te.level=pe.level),pe.hidden&&(J[pe.r]=Te,Te.hidden=!0),pe.hpt&&(J[pe.r]=Te,Te.hpt=pe.hpt,Te.hpx=Cm(pe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||bf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=pe;break;case 161:i["!margins"]||bf(i["!margins"]={}),i["!margins"].header=pe.header,i["!margins"].footer=pe.footer;break;case 574:pe.RTL&&(D.Views[0].RTL=!0);break;case 146:R=pe;break;case 2198:O=pe;break;case 140:C=pe;break;case 442:c?k.CodeName=pe||k.name:D.WBProps.CodeName=pe||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),t.l+=de}return n.SheetNames=Hr(s).sort(function(Ue,Le){return Number(Ue)-Number(Le)}).map(function(Ue){return s[Ue].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&X.forEach(function(Ue,Le){n.Sheets[n.SheetNames[Le]]["!autofilter"]=Ue}),n.Strings=l,n.SSF=br(Xt),N.enc&&(n.Encryption=N.enc),O&&(n.Themes=O),n.Metadata={},C!==void 0&&(n.Metadata.Country=C),z.names.length>0&&(D.Names=z.names),n.Workbook=D,n}var oy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function rPe(t,e,n){var r=Wt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=FO(r,uN,oy.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Wt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=FO(a,dN,oy.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(cX(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function iPe(t,e){var n=[],r=[],i=[],s=0,a,o=uO(uN,"n"),l=uO(dN,"n");if(t.Props)for(a=Hr(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Hr(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)gX.indexOf(i[s][0])>-1||lX.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Wt.utils.cfb_add(e,"/SummaryInformation",MO(r,oy.SI,l,dN)),(n.length||c.length)&&Wt.utils.cfb_add(e,"/DocumentSummaryInformation",MO(n,oy.DSI,o,uN,c.length?c:null,oy.UDI))}function dJ(t,e){e||(e={}),s6(e),SI(),e.codepage&&CI(e.codepage);var n,r;if(t.FullPaths){if(Wt.find(t,"/encryption"))throw new Error("File is password-protected");n=Wt.find(t,"!CompObj"),r=Wt.find(t,"/Workbook")||Wt.find(t,"/Book")}else{switch(e.type){case"base64":t=Aa(Ua(t));break;case"binary":t=Aa(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Qi(t,0),r={content:t}}var i,s;if(n&&Z8e(n),e.bookProps&&!e.bookSheets)i={};else{var a=gn?"buffer":"array";if(r&&r.content)i=nPe(r.content,e);else if((s=Wt.find(t,"PerfectOffice_MAIN"))&&s.content)i=xf.to_workbook(s.content,(e.type=a,e));else if((s=Wt.find(t,"NativeContent_MAIN"))&&s.content)i=xf.to_workbook(s.content,(e.type=a,e));else throw(s=Wt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Wt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=yIe(t))}var o={};return t.FullPaths&&rPe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function sPe(t,e){var n=e||{},r=Wt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Wt.utils.cfb_add(r,i,fJ(t,n)),n.biff==8&&(t.Props||t.Custprops)&&iPe(t,r),n.biff==8&&t.vbaraw&&vIe(r,Wt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var iv={0:{f:N5e},1:{f:O5e},2:{f:nRe},3:{f:z5e},4:{f:V5e},5:{f:Z5e},6:{f:oRe},7:{f:X5e},8:{f:pRe},9:{f:hRe},10:{f:dRe},11:{f:fRe},12:{f:j5e},13:{f:iRe},14:{f:G5e},15:{f:q5e},16:{f:rJ},17:{f:cRe},18:{f:Y5e},19:{f:BI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:c8e},40:{},42:{},43:{f:oke},44:{f:ske},45:{f:uke},46:{f:fke},47:{f:dke},48:{},49:{f:RDe},50:{},51:{f:Hke},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:DX},62:{f:aRe},63:{f:tIe},64:{f:kRe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Es,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:SRe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:M5e},148:{f:R5e,p:16},151:{f:bRe},152:{},153:{f:a8e},154:{},155:{},156:{f:i8e},157:{},158:{},159:{T:1,f:w3e},160:{T:-1},161:{T:1,f:hh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mRe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$ke},336:{T:-1},337:{f:Xke,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:cN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:SX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_Re},427:{f:wRe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ERe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:F5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:vRe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:cN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:fIe},633:{T:1},634:{T:-1},635:{T:1,f:uIe},636:{T:-1},637:{f:UDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:GRe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:IRe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},yN={6:{f:m4},10:{f:cu},12:{f:hi},13:{f:hi},14:{f:Zr},15:{f:Zr},16:{f:ys},17:{f:Zr},18:{f:Zr},19:{f:hi},20:{f:VO},21:{f:VO},23:{f:SX},24:{f:qO},25:{f:Zr},26:{},27:{},28:{f:INe},29:{},34:{f:Zr},35:{f:WO},38:{f:ys},39:{f:ys},40:{f:ys},41:{f:ys},42:{f:Zr},43:{f:Zr},47:{f:q3e},49:{f:iNe},51:{f:hi},60:{},61:{f:ZAe},64:{f:Zr},65:{f:rNe},66:{f:hi},77:{},80:{},81:{},82:{},85:{f:hi},89:{},90:{},91:{},92:{f:WAe},93:{f:FNe},94:{},95:{f:Zr},96:{},97:{},99:{f:Zr},125:{f:DX},128:{f:xNe},129:{f:$Ae},130:{f:hi},131:{f:Zr},132:{f:Zr},133:{f:zAe},134:{},140:{f:WNe},141:{f:hi},144:{},146:{f:zNe},151:{},152:{},153:{},154:{},155:{},156:{f:hi},157:{},158:{},160:{f:QNe},161:{f:KNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:mNe},190:{f:gNe},193:{f:cu},197:{},198:{},199:{},200:{},201:{},202:{f:Zr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:hi},220:{},221:{f:Zr},222:{},224:{f:vNe},225:{f:VAe},226:{f:cu},227:{},229:{f:RNe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:GAe},253:{f:aNe},255:{f:XAe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:yX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Zr},353:{f:cu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:ENe},431:{f:Zr},432:{},433:{},434:{},437:{},438:{f:ONe},439:{f:Zr},440:{f:LNe},441:{},442:{f:Zv},443:{},444:{f:hi},445:{},446:{},448:{f:cu},449:{f:QAe,r:2},450:{f:cu},512:{f:LO},513:{f:YNe},515:{f:wNe},516:{f:lNe},517:{f:BO},519:{f:ZNe},520:{f:JAe},523:{},545:{f:$O},549:{f:OO},566:{},574:{f:tNe},638:{f:pNe},659:{},1048:{},1054:{f:uNe},1084:{},1212:{f:ANe},2048:{f:BNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:$x},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:HNe,r:12},2173:{f:Wke,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Zr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:DNe,r:12},2197:{},2198:{f:Uke,r:12},2199:{},2200:{},2201:{},2202:{f:NNe,r:12},2203:{f:cu},2204:{},2205:{},2206:{},2207:{},2211:{f:YAe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:hi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:XNe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:$Ne},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:LO},1:{},2:{f:i3e},3:{f:n3e},4:{f:t3e},5:{f:BO},7:{f:a3e},8:{},9:{f:$x},11:{},22:{f:hi},30:{f:fNe},31:{},32:{},33:{f:$O},36:{},37:{f:OO},50:{f:o3e},62:{},52:{},67:{},68:{f:hi},69:{},86:{},126:{},127:{f:e3e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:l3e},223:{},234:{},354:{},421:{},518:{f:m4},521:{f:$x},536:{f:qO},547:{f:WO},561:{},579:{},1030:{f:m4},1033:{f:$x},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function wt(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&OI(n)&&t.push(n)}}function aPe(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return wt(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function r1(t,e,n){return t||(t=at(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function oPe(t,e,n,r){var i=at(9);return r1(i,t,e),vX(n,r||"b",i),i}function lPe(t,e,n){var r=at(8+2*n.length);return r1(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function cPe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ei(xr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?wt(t,2,s3e(n,r,i)):wt(t,3,r3e(n,r,i));return;case"b":case"e":wt(t,5,oPe(n,r,e.v,e.t));return;case"s":case"str":wt(t,4,lPe(n,r,(e.v||"").slice(0,255)));return}wt(t,1,r1(null,n,r))}function uPe(t,e,n,r){var i=Array.isArray(e),s=In(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=un(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ri(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Fr(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&cPe(t,f,c,u)}}}function dPe(t,e){for(var n=e||{},r=ua(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return wt(r,n.biff==4?1033:n.biff==3?521:9,GI(t,16,n)),uPe(r,t.Sheets[t.SheetNames[i]],i,n),wt(r,10),r.end()}function fPe(t,e,n){wt(t,49,sNe({sz:12,name:"Arial"},n))}function hPe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&wt(t,1054,dNe(i,e[i],n))})}function pPe(t,e){var n=at(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),wt(t,2151,n),n=at(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),TX(In(e["!ref"]||"A1"),n),n.write_shift(4,4),wt(t,2152,n)}function mPe(t,e){for(var n=0;n<16;++n)wt(t,224,jO({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){wt(t,224,jO(r,0,e))})}function gPe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];wt(t,440,jNe(r)),r[1].Tooltip&&wt(t,2048,VNe(r))}delete e["!links"]}function yPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&wt(t,125,GNe(qw(i,r),i))})}}function vPe(t,e,n,r,i){var s=16+dd(i.cellXfs,e,i);if(e.v==null&&!e.bf){wt(t,513,Hf(n,r,s));return}if(e.bf)wt(t,6,$6e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Ei(xr(e.v)):e.v;wt(t,515,TNe(n,r,a,s));break;case"b":case"e":wt(t,517,_Ne(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=t6(i.Strings,e.v,i.revStrings);wt(t,253,oNe(n,r,o,s))}else wt(t,516,cNe(n,r,(e.v||"").slice(0,255),s,i));break;default:wt(t,513,Hf(n,r,s))}}function xPe(t,e,n){var r=ua(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=In(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}wt(r,2057,GI(n,16,e)),wt(r,13,to(1)),wt(r,12,to(100)),wt(r,15,Ms(!0)),wt(r,17,Ms(!1)),wt(r,16,$f(.001)),wt(r,95,Ms(!0)),wt(r,42,Ms(!1)),wt(r,43,Ms(!1)),wt(r,130,to(1)),wt(r,128,bNe()),wt(r,131,Ms(!1)),wt(r,132,Ms(!1)),c&&yPe(r,s["!cols"]),wt(r,512,hNe(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=ri(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Fr(y)),u=h[y]+f;var _=l?(s[g]||[])[y]:s[u];_&&(vPe(r,_,g,y,e),c&&_.l&&s["!links"].push([u,_.l]))}}var x=o.CodeName||o.name||i;return c&&wt(r,574,nNe((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&wt(r,229,PNe(s["!merges"])),c&&gPe(r,s),wt(r,442,xX(x)),c&&pPe(r,s),wt(r,10),r.end()}function bPe(t,e,n){var r=ua(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(wt(r,2057,GI(t,5,n)),n.bookType=="xla"&&wt(r,135),wt(r,225,o?to(1200):null),wt(r,193,_Ae(2)),l&&wt(r,191),l&&wt(r,192),wt(r,226),wt(r,92,qAe("SheetJS",n)),wt(r,66,to(o?1200:1252)),o&&wt(r,353,to(0)),o&&wt(r,448),wt(r,317,JNe(t.SheetNames.length)),o&&t.vbaraw&&wt(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";wt(r,442,xX(c))}wt(r,156,to(17)),wt(r,25,Ms(!1)),wt(r,18,Ms(!1)),wt(r,19,to(0)),o&&wt(r,431,Ms(!1)),o&&wt(r,444,to(0)),wt(r,61,eNe()),wt(r,64,Ms(!1)),wt(r,141,to(0)),wt(r,34,Ms(QRe(t)=="true")),wt(r,14,Ms(!0)),o&&wt(r,439,Ms(!1)),wt(r,218,to(0)),fPe(r,t,n),hPe(r,t.SSF,n),mPe(r,n),o&&wt(r,352,Ms(!1));var u=r.end(),f=ua();o&&wt(f,140,qNe()),o&&n.Strings&&aPe(f,252,KAe(n.Strings)),wt(f,10);var h=f.end(),p=ua(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var _=s[g]||{};wt(p,133,HAe({pos:y,hs:_.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var x=p.end();if(v!=x.length)throw new Error("BS8 "+v+" != "+x.length);var w=[];return u.length&&w.push(u),x.length&&w.push(x),h.length&&w.push(h),Vi(w)}function _Pe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=br(Xt)),t&&t.SSF&&(ig(),Uw(t.SSF),n.revssf=Lw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,a6(n),n.cellXfs=[],dd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=xPe(i,n,t);return r.unshift(bPe(t,r,n)),Vi(r)}function fJ(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=da(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return _Pe(t,e);case 4:case 3:case 2:return dPe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function eL(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=sDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var _=g.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var x=_[o].trim();if(x.match(/<t[dh]/i)){for(var w=x,C=0;w.charAt(0)=="<"&&(C=w.indexOf(">"))>-1;)w=w.slice(C+1);for(var S=0;S<v.length;++S){var R=v[S];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,S=-1)}var D=en(x.slice(0,x.indexOf(">")));h=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var k=D.t||D["data-t"]||"";if(!w.length){u+=h;continue}if(w=UK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var I={t:"s",v:w};n.raw||!w.trim().length||k=="s"||(w==="TRUE"?I={t:"b",v:!0}:w==="FALSE"?I={t:"b",v:!1}:isNaN(Vo(w))?isNaN(Tm(w).getDate())||(I={t:"d",v:xr(w)},n.cellDates||(I={t:"n",v:Ei(I.v)}),I.z=n.dateNF||Xt[14]):I={t:"n",v:Vo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=I):r[Qt({r:c,c:u})]=I,u+=h}}}}return r["!ref"]=un(p),v.length&&(r["!merges"]=v),r}function wPe(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Qt({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||FI(f.w||(wc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(_t("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var TPe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',EPe="</body></html>";function CPe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ud(eL(n[0],e),e);var r=c6();return n.forEach(function(i,s){u6(r,eL(i,e),"Sheet"+(s+1))}),r}function SPe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function hJ(t,e){var n=e||{},r=n.header!=null?n.header:TPe,i=n.footer!=null?n.footer:EPe,s=[r],a=da(t["!ref"]);n.dense=Array.isArray(t),s.push(SPe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(wPe(t,a,o,n));return s.push("</table>"+i),s.join("")}function pJ(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Mr(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=da(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,_=0,x=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var C=o[v];if(tL(C)){if(r.display)continue;p[g]={hidden:!0}}var S=C.children;for(y=_=0;y<S.length;++y){var R=S[y];if(!(r.display&&tL(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):UK(R.innerHTML),k=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<f.length;++h){var I=f[h];I.s.c==_+s&&I.s.r<g+i&&g+i<=I.e.r&&(_=I.e.c+1-s,h=-1)}w=+R.getAttribute("colspan")||1,((x=+R.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:_+s},e:{r:g+i+(x||1)-1,c:_+s+(w||1)-1}});var F={t:"s",v:D},P=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?F.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?F={t:"b",v:!0}:D==="FALSE"?F={t:"b",v:!1}:isNaN(Vo(D))?isNaN(Tm(D).getDate())||(F={t:"d",v:xr(D)},r.cellDates||(F={t:"n",v:Ei(F.v)}),F.z=r.dateNF||Xt[14]):F={t:"n",v:Vo(D)})),F.z===void 0&&k!=null&&(F.z=k);var N="",O=R.getElementsByTagName("A");if(O&&O.length)for(var U=0;U<O.length&&!(O[U].hasAttribute("href")&&(N=O[U].getAttribute("href"),N.charAt(0)!="#"));++U);N&&N.charAt(0)!="#"&&(F.l={Target:N}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][_+s]=F):t[Qt({c:_+s,r:g+i})]=F,c.e.c<_+s&&(c.e.c=_+s),_+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=un(c),g>=l&&(t["!fullref"]=un((c.e.r=o.length-v+g-1+i,c))),t}function mJ(t,e){var n=e||{},r=n.dense?[]:{};return pJ(r,t,e)}function DPe(t,e){return ud(mJ(t,e),e)}function tL(t){var e="",n=APe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function APe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function NPe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=kn(e.replace(/<[^>]*>/g,""));return[n]}var nL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gJ(t,e){var n=e||{},r=MI(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,_={value:""},x="",w=0,C=[],S=-1,R=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,I={},F=[],P={},N=0,O=0,U=[],H=1,G=1,J=[],Z={Names:[]},z={},Y=["",""],B=[],j={},q="",X=0,Q=!1,te=!1,ae=0;for(Qy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Qy.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?v["!ref"]=un(D):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(v["!fullref"]=v["!ref"],D.e.r=n.sheetRows-1,v["!ref"]=un(D)),F.length&&(v["!merges"]=F),U.length&&(v["!rows"]=U),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,te=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=en(g[0],!1),S=R=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,v=n.dense?[]:{},F=[],U=[],te=!0);break;case"table-row-group":g[1]==="/"?--k:++k;break;case"table-row":case"":if(g[1]==="/"){S+=H,H=1;break}if(f=en(g[0],!1),f.?S=f.-1:S==-1&&(S=0),H=+f["number-rows-repeated"]||1,H<10)for(ae=0;ae<H;++ae)k>0&&(U[S+ae]={level:k});R=-1;break;case"covered-table-cell":g[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][R]={t:"z"}):v[Qt({r:S,c:R})]={t:"z"}),x="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++R,_=en(g[0],!1),G=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&n.cellFormula!=!1&&(y.f=YO(kn(_.formula))),(_.||_["value-type"])=="string"&&(y.t="s",y.v=kn(_["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][R]=y):v[Qt({r:S,c:R})]=y),R+=G-1;else if(g[1]!=="/"){++R,x="",w=0,C=[],G=1;var ue=H?S+H-1:S;if(R>D.e.c&&(D.e.c=R),R<D.s.c&&(D.s.c=R),S<D.s.r&&(D.s.r=S),ue>D.e.r&&(D.e.r=ue),_=en(g[0],!1),B=[],j={},y={t:_.||_["value-type"],v:null},n.cellFormula)if(_.formula&&(_.formula=kn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(N=parseInt(_["number-matrix-rows-spanned"],10)||0,O=parseInt(_["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+N-1,c:R+O-1}},y.F=un(P),J.push([P,y.F])),_.formula)y.f=YO(_.formula);else for(ae=0;ae<J.length;++ae)S>=J[ae][0].s.r&&S<=J[ae][0].e.r&&R>=J[ae][0].s.c&&R<=J[ae][0].e.c&&(y.F=J[ae][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(N=parseInt(_["number-rows-spanned"],10)||0,O=parseInt(_["number-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+N-1,c:R+O-1}},F.push(P)),_["number-columns-repeated"]&&(G=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=mr(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=xr(_["date-value"]),n.cellDates||(y.t="n",y.v=Ei(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=nDe(_["time-value"])/86400,n.cellDates&&(y.t="d",y.v=jw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(x=kn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Q=!1,y.t==="s"&&(y.v=x||"",C.length&&(y.R=C),Q=w==0),z.Target&&(y.l=z),B.length>0&&(y.c=B,B=[]),x&&n.cellText!==!1&&(y.w=x),Q&&(y.t="z",delete y.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var de=0;de<H;++de){if(G=parseInt(_["number-columns-repeated"]||"1",10),n.dense)for(v[S+de]||(v[S+de]=[]),v[S+de][R]=de==0?y:br(y);--G>0;)v[S+de][R+G]=br(y);else for(v[Qt({r:S+de,c:R})]=y;--G>0;)v[Qt({r:S+de,c:R+G})]=br(y);D.e.c<=R&&(D.e.c=R)}G=parseInt(_["number-columns-repeated"]||"1",10),R+=G-1,G=0,y={},x="",C=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=x,C.length&&(j.R=C),j.a=q,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);q="",X=0,x="",w=0,C=[];break;case"creator":g[1]==="/"?q=r.slice(X,g.index):X=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);x="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(I[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=en(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=en(g[0],!1),l+=nL[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=en(g[0],!1),l+=nL[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=en(g[0],!1),Y=g4(a["cell-range-address"]);var Se={Name:a.name,Ref:Y[0]+"!"+Y[1]};te&&(Se.Sheet=p.length),Z.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var Pe=NPe(r.slice(w,g.index));x=(x.length>0?x+`
`:"")+Pe[0]}else en(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=g4(en(g[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=en(g[0],!1),!z.href)break;z.Target=kn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Y=g4(z.Target.slice(1)),z.Target="#"+Y[0]+"!"+Y[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var pe={Sheets:h,SheetNames:p,Workbook:Z};return n.bookSheets&&delete pe.Sheets,pe}function rL(t,e){e=e||{},eo(t,"META-INF/manifest.xml")&&nAe(fi(t,"META-INF/manifest.xml"),e);var n=Na(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=gJ(er(n),e);return eo(t,"meta.xml")&&(r.Props=aX(fi(t,"meta.xml"))),r}function iL(t,e){return gJ(t,e)}var kPe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Yy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return si+e}})(),sL=(function(){var t=function(s){return Jn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Jn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=da(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var _=!1,x={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(_=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(_){l.push(n);continue}var C=Qt({r:c,c:u}),S=v?(s[c]||[])[u]:s[C];if(S&&S.f&&(x["table:formula"]=Jn(J6e(S.f)),S.F&&S.F.slice(0,C.length)==C)){var R=da(S.F);x["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,x["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),x["office:value-type"]="float",x["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,x["office:value-type"]="string";break;case"d":w=S.w||xr(S.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=xr(S.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var D=t(w);if(S.l&&S.l.Target){var k=S.l.Target;k=k.charAt(0)=="#"?"#"+Y6e(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),D=_t("text:a",D,{"xlink:href":k.replace(/&/g,"&amp;")})}l.push("          "+_t("table:table-cell",_t("text:p",D,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Ku(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[si],c=Yy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Yy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(sX().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function yJ(t,e){if(e.bookType=="fods")return sL(t,e);var n=II(),r="",i=[],s=[];return r="mimetype",fn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",fn(n,r,sL(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",fn(n,r,kPe(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",fn(n,r,si+sX()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",fn(n,r,sAe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",fn(n,r,rAe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vN(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):er(cd(t))}function IPe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Aa(_l(t))}function RPe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Ju(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function aL(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function PPe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function FPe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function sv(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Gn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function qr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Pn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=sv(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=sv(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Ji(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Gn(r*8+i.type)),i.type==2&&e.push(Gn(i.data.length)),e.push(i.data))})}),Ju(e)}function i6(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function Qa(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=sv(t,r),s=Pn(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:qr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Pn(o.data),c=qr(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=qr(s[3][0].data)>>>0>0),n.push(a)}return n}function lp(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Gn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Gn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Gn(a.data.length)}],r[2].push({data:Ji(a.meta),type:2})});var s=Ji(r);e.push(Gn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Ju(e)}function MPe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=sv(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Ju(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Ju(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Za(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(MPe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Ju(e)}function cp(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=Gn(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Ju(e)}function UPe(t,e,n,r){var i=Gf(t),s=i.getUint32(4,!0),a=(r>1?12:8)+aL(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=aL(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function OPe(t,e,n){var r=Gf(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=PPe(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function v4(t,e){var n=new Uint8Array(32),r=Gf(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,FPe(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function x4(t,e){var n=new Uint8Array(32),r=Gf(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function LPe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return UPe(t,e,n,t[0]);case 5:return OPe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function hs(t){var e=Pn(t);return sv(e[1][0].data)}function oL(t,e){var n=Pn(e.data),r=qr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Pn(a.data),l=qr(o[1][0].data)>>>0;switch(r){case 1:s[l]=vN(o[3][0].data);break;case 8:{var c=t[hs(o[9][0].data)][0],u=Pn(c.data),f=t[hs(u[1][0].data)][0],h=qr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Pn(f.data);s[l]=p[3].map(function(v){return vN(v.data)}).join("")}break}}),s}function jPe(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=Pn(t),_=qr(y[1][0].data)>>>0,x=qr(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&qr(y[8][0].data)>0||!1,C,S;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)C=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)C=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=w?4:1,D=Gf(C),k=[],I=0;I<C.length/2;++I){var F=D.getUint16(I*2,!0);F<65535&&k.push([I,F])}if(k.length!=x)throw"Expected ".concat(x," cells, found ").concat(k.length);var P=[];for(I=0;I<k.length-1;++I)P[k[I][0]]=S.subarray(k[I][1]*R,k[I+1][1]*R);return k.length>=1&&(P[k[k.length-1][0]]=S.subarray(k[k.length-1][1]*R)),{R:_,cells:P}}function BPe(t,e){var n,r=Pn(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?qr(r[7][0].data)>>>0>0?1:0:-1,s=i6(r[5],function(a){return jPe(a,i)});return{nrows:qr(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function VPe(t,e,n){var r,i=Pn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(qr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(qr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=un(s);var a=Pn(i[4][0].data),o=oL(t,t[hs(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?oL(t,t[hs(a[17][0].data)][0]):[],c=Pn(a[3][0].data),u=0;c[1].forEach(function(f){var h=Pn(f.data),p=t[hs(h[2][0].data)][0],v=qr(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=BPe(t,p);g.data.forEach(function(y,_){y.forEach(function(x,w){var C=Qt({r:u+_,c:w}),S=LPe(x,o,l);S&&(n[C]=S)})}),u+=g.nrows})}function WPe(t,e){var n=Pn(e.data),r={"!ref":"A1"},i=t[hs(n[2][0].data)],s=qr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return VPe(t,i[0],r),r}function qPe(t,e){var n,r=Pn(e.data),i={name:(n=r[1])!=null&&n[0]?vN(r[1][0].data):"",sheets:[]},s=i6(r[2],hs);return s.forEach(function(a){t[a].forEach(function(o){var l=qr(o.meta[1][0].data);l==6e3&&i.sheets.push(WPe(t,o))})}),i}function $Pe(t,e){var n=c6(),r=Pn(e.data),i=i6(r[1],hs);if(i.forEach(function(s){t[s].forEach(function(a){var o=qr(a.meta[1][0].data);if(o==2){var l=qPe(t,a);l.sheets.forEach(function(c,u){u6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function b4(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Za(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Qa(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&qr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=qr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return $Pe(s,o)}function zPe(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&qr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Gf(t[7][0].data),u=0,f=[],h=Gf(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,_;switch(typeof e[g]){case"string":y=v4({t:"s",v:e[g]},n),_=x4({t:"s",v:e[g]},n);break;case"number":y=v4({t:"n",v:e[g]},n),_=x4({t:"n",v:e[g]},n);break;case"boolean":y=v4({t:"b",v:e[g]},n),_=x4({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(_),p+=_.length,++l}for(t[2][0].data=Gn(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=Ju(f),t[3][0].data=Ju(v),l}function HPe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=da(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(un(r)));var s=r_(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(X){typeof X=="string"&&a.push(X)})});var o={},l=[],c=Wt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,X){return[q,c.FullPaths[X]]}).forEach(function(q){var X=q[0],Q=q[1];if(X.type==2&&X.name.match(/\.iwa/)){var te=X.content,ae=Za(te),ue=Qa(ae);ue.forEach(function(de){l.push(de.id),o[de.id]={deps:[],location:Q,type:qr(de.messages[0].meta[1][0].data)}})}}),l.sort(function(q,X){return q-X});var u=l.filter(function(q){return q>1}).map(function(q){return[q,Gn(q)]});c.FileIndex.map(function(q,X){return[q,c.FullPaths[X]]}).forEach(function(q){var X=q[0];if(q[1],!!X.name.match(/\.iwa/)){var Q=Qa(Za(X.content));Q.forEach(function(te){te.messages.forEach(function(ae){u.forEach(function(ue){te.messages.some(function(de){return qr(de.meta[1][0].data)!=11006&&RPe(de.data,ue[1])})&&o[ue[0]].deps.push(te.id)})})})}});for(var f=Wt.find(c,o[1].location),h=Qa(Za(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=hs(Pn(p.messages[0].data)[1][0].data);for(f=Wt.find(c,o[y].location),h=Qa(Za(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=hs(Pn(p.messages[0].data)[2][0].data),f=Wt.find(c,o[y].location),h=Qa(Za(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=hs(Pn(p.messages[0].data)[2][0].data),f=Wt.find(c,o[y].location),h=Qa(Za(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var _=Pn(p.messages[0].data);{_[6][0].data=Gn(r.e.r+1),_[7][0].data=Gn(r.e.c+1);var x=hs(_[46][0].data),w=Wt.find(c,o[x].location),C=Qa(Za(w.content));{for(var S=0;S<C.length&&C[S].id!=x;++S);if(C[S].id!=x)throw"Bad ColumnRowUIDMapArchive";var R=Pn(C[S].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var k=[];k[1]=k[2]=[{type:0,data:Gn(D+420690)}],R[1].push({type:2,data:Ji(k)}),R[2].push({type:0,data:Gn(D)}),R[3].push({type:0,data:Gn(D)})}R[4]=[],R[5]=[],R[6]=[];for(var I=0;I<=r.e.r;++I)k=[],k[1]=k[2]=[{type:0,data:Gn(I+726270)}],R[4].push({type:2,data:Ji(k)}),R[5].push({type:0,data:Gn(I)}),R[6].push({type:0,data:Gn(I)});C[S].messages[0].data=Ji(R)}w.content=cp(lp(C)),w.size=w.content.length,delete _[46];var F=Pn(_[4][0].data);{F[7][0].data=Gn(r.e.r+1);var P=Pn(F[1][0].data),N=hs(P[2][0].data);w=Wt.find(c,o[N].location),C=Qa(Za(w.content));{if(C[0].id!=N)throw"Bad HeaderStorageBucket";var O=Pn(C[0].messages[0].data);for(I=0;I<s.length;++I){var U=Pn(O[2][0].data);U[1][0].data=Gn(I),U[4][0].data=Gn(s[I].length),O[2][I]={type:O[2][0].type,data:Ji(U)}}C[0].messages[0].data=Ji(O)}w.content=cp(lp(C)),w.size=w.content.length;var H=hs(F[2][0].data);w=Wt.find(c,o[H].location),C=Qa(Za(w.content));{if(C[0].id!=H)throw"Bad HeaderStorageBucket";for(O=Pn(C[0].messages[0].data),D=0;D<=r.e.c;++D)U=Pn(O[2][0].data),U[1][0].data=Gn(D),U[4][0].data=Gn(r.e.r+1),O[2][D]={type:O[2][0].type,data:Ji(U)};C[0].messages[0].data=Ji(O)}w.content=cp(lp(C)),w.size=w.content.length;var G=hs(F[4][0].data);(function(){for(var q=Wt.find(c,o[G].location),X=Qa(Za(q.content)),Q,te=0;te<X.length;++te){var ae=X[te];ae.id==G&&(Q=ae)}var ue=Pn(Q.messages[0].data);{ue[3]=[];var de=[];a.forEach(function(pe,je){de[1]=[{type:0,data:Gn(je)}],de[2]=[{type:0,data:Gn(1)}],de[3]=[{type:2,data:IPe(pe)}],ue[3].push({type:2,data:Ji(de)})})}Q.messages[0].data=Ji(ue);var Se=lp(X),Pe=cp(Se);q.content=Pe,q.size=q.content.length})();var J=Pn(F[3][0].data);{var Z=J[1][0];delete J[2];var z=Pn(Z.data);{var Y=hs(z[2][0].data);(function(){for(var q=Wt.find(c,o[Y].location),X=Qa(Za(q.content)),Q,te=0;te<X.length;++te){var ae=X[te];ae.id==Y&&(Q=ae)}var ue=Pn(Q.messages[0].data);{delete ue[6],delete J[7];var de=new Uint8Array(ue[5][0].data);ue[5]=[];for(var Se=0,Pe=0;Pe<=r.e.r;++Pe){var pe=Pn(de);Se+=zPe(pe,s[Pe],a),pe[1][0].data=Gn(Pe),ue[5].push({data:Ji(pe),type:2})}ue[1]=[{type:0,data:Gn(r.e.c+1)}],ue[2]=[{type:0,data:Gn(r.e.r+1)}],ue[3]=[{type:0,data:Gn(Se)}],ue[4]=[{type:0,data:Gn(r.e.r+1)}]}Q.messages[0].data=Ji(ue);var je=lp(X),V=cp(je);q.content=V,q.size=q.content.length})()}Z.data=Ji(z)}F[3][0].data=Ji(J)}_[4][0].data=Ji(F)}p.messages[0].data=Ji(_);var B=lp(h),j=cp(B);return f.content=j,f.size=f.content.length,c}function vJ(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function s6(t){vJ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function a6(t){vJ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function GPe(t){return vn.WS.indexOf(t)>-1?"sheet":t==vn.CS?"chart":t==vn.DS?"dialog":t==vn.MS?"macro":t&&t.length?t:"sheet"}function KPe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,GPe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function XPe(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=ry(Na(t,n,!0),e);var h=fi(t,e),p;switch(o){case"sheet":p=y8e(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=v8e(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=A0(p["!drawel"].Target,e),g=Zy(v),y=iIe(Na(t,v,!0),ry(Na(t,g,!0),v)),_=A0(y,v),x=Zy(_);p=zRe(Na(t,_,!0),_,l,ry(Na(t,x,!0),_),c,p);break;case"macro":p=x8e(h,e,i,l,s[r],c,u,f);break;case"dialog":p=b8e(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&Hr(s[r]).forEach(function(C){var S="";if(s[r][C].Type==vn.CMNT){S=A0(s[r][C].Target,e);var R=E8e(fi(t,S,!0),S,l);if(!R||!R.length)return;HO(p,R,!1)}s[r][C].Type==vn.TCMNT&&(S=A0(s[r][C].Target,e),w=w.concat(aIe(fi(t,S,!0),l)))}),w&&w.length&&HO(p,w,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function Ka(t){return t.charAt(0)=="/"?t.slice(1):t}function JPe(t,e){if(ig(),e=e||{},s6(e),eo(t,"META-INF/manifest.xml")||eo(t,"objectdata.xml"))return rL(t,e);if(eo(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof b4<"u"){if(t.FileIndex)return b4(t);var n=Wt.utils.cfb_new();return hO(t).forEach(function(U){fn(n,U,oDe(t,U))}),b4(n)}throw new Error("Unsupported NUMBERS file")}if(!eo(t,"[Content_Types].xml"))throw eo(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):eo(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=hO(t),i=eAe(Na(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",fi(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!fi(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(iy=[],i.sst)try{iy=T8e(fi(t,Ka(i.sst)),i.sst,e)}catch(U){if(e.WTF)throw U}e.cellStyles&&i.themes.length&&(l=w8e(Na(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=_8e(fi(t,Ka(i.style)),i.style,l,e))}i.links.map(function(U){try{var H=ry(Na(t,Zy(Ka(U))),U);return S8e(fi(t,Ka(U)),H,U,e)}catch{}});var u=g8e(fi(t,Ka(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=fi(t,Ka(i.coreprops[0]),!0),h&&(f=aX(h)),i.extprops.length!==0&&(h=fi(t,Ka(i.extprops[0]),!0),h&&oAe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Na(t,Ka(i.custprops[0]),!0),h&&(p=cAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=C8e(fi(t,Ka(i.calcchain)),i.calcchain));var y=0,_={},x,w;{var C=u.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var R=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");eo(t,k)||(k="xl/_rels/workbook."+R+".rels");var I=ry(Na(t,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=D8e(fi(t,Ka(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=lIe(fi(t,Ka(i.people[0])),e)),I&&(I=KPe(I,u.Sheets));var F=fi(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(I&&I[y]?(x="xl/"+I[y][1].replace(/[\/]?xl\//,""),eo(t,x)||(x=I[y][1]),eo(t,x)||(x=k.replace(/_rels\/.*$/,"")+I[y][1]),P=I[y][2]):(x="xl/worksheets/sheet"+(y+1-F)+"."+R,x=x.replace(/sheet0\./,"sheet.")),w=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var N=!1,O=0;O!=e.sheets.length;++O)typeof e.sheets[O]=="number"&&e.sheets[O]==y&&(N=1),typeof e.sheets[O]=="string"&&e.sheets[O].toLowerCase()==f.SheetNames[y].toLowerCase()&&(N=1);if(!N)continue e}}XPe(t,x,w,f.SheetNames[y],y,_,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:iy,Styles:c,Themes:l,SSF:br(Xt)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(U,H){U=U.replace(/^Root Entry[\/]/,""),v.keys.push(U),v.files[U]=t.FileIndex[H]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=fi(t,Ka(i.vba[0]),!0):i.defaults&&i.defaults.bin===gIe&&(v.vbaraw=fi(t,"xl/vbaProject.bin",!0))),v}function YPe(t,e){var n=e||{},r="Workbook",i=Wt.find(t,r);try{if(r="/!DataSpaces/Version",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(D3e(i.content),r="/!DataSpaces/DataSpaceMap",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=N3e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=k3e(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);R3e(i.content)}catch{}if(r="/EncryptionInfo",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=P3e(i.content);if(r="/EncryptedPackage",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function QPe(t,e){return e.bookType=="ods"?yJ(t,e):e.bookType=="numbers"?HPe(t,e):e.bookType=="xlsb"?ZPe(t,e):eFe(t,e)}function ZPe(t,e){Dp=1024,t&&!t.SSF&&(t.SSF=br(Xt)),t&&t.SSF&&(ig(),Uw(t.SSF),e.revssf=Lw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=zX.indexOf(e.bookType)>-1,i=zI();a6(e=e||{});var s=II(),a="",o=0;if(e.cellXfs=[],dd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",fn(s,a,oX(t.Props,e)),i.coreprops.push(a),Kn(e.rels,2,a,vn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,fn(s,a,uX(t.Props)),i.extprops.push(a),Kn(e.rels,3,a,vn.EXT_PROPS),t.Custprops!==t.Props&&Hr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",fn(s,a,dX(t.Custprops)),i.custprops.push(a),Kn(e.rels,4,a,vn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,fn(s,a,N8e(o-1,a,e,t,u)),i.sheets.push(a),Kn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,vn.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,fn(s,g,R8e(p,g)),i.comments.push(g),Kn(u,-1,"../comments"+o+"."+n,vn.CMNT),v=!0),f["!legacy"]&&v&&fn(s,"xl/drawings/vmlDrawing"+o+".vml",qX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&fn(s,Zy(a),Vp(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,fn(s,a,I8e(e.Strings,a,e)),i.strs.push(a),Kn(e.wbrels,-1,"sharedStrings."+n,vn.SST)),a="xl/workbook."+n,fn(s,a,A8e(t,a)),i.workbooks.push(a),Kn(e.rels,1,a,vn.WB),a="xl/theme/theme1.xml",fn(s,a,YI(t.Themes,e)),i.themes.push(a),Kn(e.wbrels,-1,"theme/theme1.xml",vn.THEME),a="xl/styles."+n,fn(s,a,k8e(t,a,e)),i.styles.push(a),Kn(e.wbrels,-1,"styles."+n,vn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",fn(s,a,t.vbaraw),i.vba.push(a),Kn(e.wbrels,-1,"vbaProject.bin",vn.VBA)),a="xl/metadata."+n,fn(s,a,P8e(a)),i.metadata.push(a),Kn(e.wbrels,-1,"metadata."+n,vn.XLMETA),fn(s,"[Content_Types].xml",iX(i,e)),fn(s,"_rels/.rels",Vp(e.rels)),fn(s,"xl/_rels/workbook."+n+".rels",Vp(e.wbrels)),delete e.revssf,delete e.ssf,s}function eFe(t,e){Dp=1024,t&&!t.SSF&&(t.SSF=br(Xt)),t&&t.SSF&&(ig(),Uw(t.SSF),e.revssf=Lw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=zX.indexOf(e.bookType)>-1,i=zI();a6(e=e||{});var s=II(),a="",o=0;if(e.cellXfs=[],dd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",fn(s,a,oX(t.Props,e)),i.coreprops.push(a),Kn(e.rels,2,a,vn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,fn(s,a,uX(t.Props)),i.extprops.push(a),Kn(e.rels,3,a,vn.EXT_PROPS),t.Custprops!==t.Props&&Hr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",fn(s,a,dX(t.Custprops)),i.custprops.push(a),Kn(e.rels,4,a,vn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,fn(s,a,nJ(o-1,e,t,f)),i.sheets.push(a),Kn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,vn.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var _=!1;v.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+o+"."+n,fn(s,y,oIe(v,u,e)),i.threadedcomments.push(y),Kn(f,-1,"../threadedComments/threadedComment"+o+"."+n,vn.TCMNT)),y="xl/comments"+o+"."+n,fn(s,y,$X(v)),i.comments.push(y),Kn(f,-1,"../comments"+o+"."+n,vn.CMNT),g=!0}h["!legacy"]&&g&&fn(s,"xl/drawings/vmlDrawing"+o+".vml",qX(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&fn(s,Zy(a),Vp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,fn(s,a,IX(e.Strings,e)),i.strs.push(a),Kn(e.wbrels,-1,"sharedStrings."+n,vn.SST)),a="xl/workbook."+n,fn(s,a,oJ(t)),i.workbooks.push(a),Kn(e.rels,1,a,vn.WB),a="xl/theme/theme1.xml",fn(s,a,YI(t.Themes,e)),i.themes.push(a),Kn(e.wbrels,-1,"theme/theme1.xml",vn.THEME),a="xl/styles."+n,fn(s,a,jX(t,e)),i.styles.push(a),Kn(e.wbrels,-1,"styles."+n,vn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",fn(s,a,t.vbaraw),i.vba.push(a),Kn(e.wbrels,-1,"vbaProject.bin",vn.VBA)),a="xl/metadata."+n,fn(s,a,WX()),i.metadata.push(a),Kn(e.wbrels,-1,"metadata."+n,vn.XLMETA),u.length>1&&(a="xl/persons/person.xml",fn(s,a,cIe(u)),i.people.push(a),Kn(e.wbrels,-1,"persons/person.xml",vn.PEOPLE)),fn(s,"[Content_Types].xml",iX(i,e)),fn(s,"_rels/.rels",Vp(e.rels)),fn(s,"xl/_rels/workbook."+n+".rels",Vp(e.wbrels)),delete e.revssf,delete e.ssf,s}function o6(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ua(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function tFe(t,e){return Wt.find(t,"EncryptedPackage")?YPe(t,e):dJ(t,e)}function nFe(t,e){var n,r=t,i=e||{};return i.type||(i.type=gn&&Buffer.isBuffer(t)?"buffer":"base64"),n=PK(r,i),JPe(n,i)}function xJ(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return gN(t.slice(n),e);default:break e}return Em.to_workbook(t,e)}function rFe(t,e){var n="",r=o6(t,e);switch(e.type){case"base64":n=Ua(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=qf(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=er(n)),e.type="binary",xJ(n,e)}function iFe(t,e){var n=t;return e.type=="base64"&&(n=Ua(n)),n=Gy.utils.decode(1200,n.slice(2),"str"),e.type="binary",xJ(n,e)}function sFe(t){return t.match(/[^\x00-\x7F]/)?_l(t):t}function _4(t,e,n,r){return r?(n.type="string",Em.to_workbook(t,n)):Em.to_workbook(e,n)}function xN(t,e){SI();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return xN(new Uint8Array(t),(n=br(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),qp={},n.dateNF&&(qp.dateNF=n.dateNF),n.type||(n.type=gn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=gn?"buffer":"binary",r=Z4e(t),typeof Uint8Array<"u"&&!gn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=sFe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=br(n),n.type="array",xN(DI(r),n)}switch((i=o6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return tFe(Wt.read(r,n),n);break;case 9:if(i[1]<=8)return dJ(r,n);break;case 60:return gN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return u3e(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return NX.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?nFe(r,n):_4(t,r,n,s);case 239:return i[3]===60?gN(r,n):_4(t,r,n,s);case 255:if(i[1]===254)return iFe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return xf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return xf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return mN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return UX.to_workbook(r,n);break;case 10:case 13:case 32:return rFe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return c3e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?mN.to_workbook(r,n):_4(t,r,n,s)}function bJ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Jv(e.file,Wt.write(t,{type:gn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Wt.write(t,e)}function aFe(t,e){var n=br(e||{}),r=QPe(t,n);return oFe(r,n)}function oFe(t,e){var n={},r=gn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Wt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Mw(i))}return e.password&&typeof encrypt_agile<"u"?bJ(encrypt_agile(i,e.password),e):e.type==="file"?Jv(e.file,i):e.type=="string"?er(i):i}function lFe(t,e){var n=e||{},r=sPe(t,n);return bJ(r,n)}function ol(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Ky(_l(r));case"binary":return _l(r);case"string":return t;case"file":return Jv(e.file,r,"utf8");case"buffer":return gn?Pc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ol(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function cFe(t,e){switch(e.type){case"base64":return Ky(t);case"binary":return t;case"string":return t;case"file":return Jv(e.file,t,"binary");case"buffer":return gn?Pc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Kx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Ky(n):e.type=="string"?er(n):n;case"file":return Jv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function _J(t,e){SI(),t8e(t);var n=br(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=_J(t,n);return n.type="array",Mw(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return ol(Q8e(t,n),n);case"slk":case"sylk":return ol(AX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return ol(hJ(t.Sheets[t.SheetNames[i]],n),n);case"txt":return cFe(wJ(t.Sheets[t.SheetNames[i]],n),n);case"csv":return ol(l6(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return ol(NX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Kx(mN.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return ol(Em.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return ol(UX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return ol(kX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return ol(yJ(t,n),n);case"wk1":return Kx(xf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Kx(xf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Kx(fJ(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),lFe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return aFe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function uFe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function dFe(t,e,n){var r={};return r.type="file",r.file=e,uFe(r),_J(t,r)}function fFe(t,e,n,r,i,s,a,o){var l=ri(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:wc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function r_(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=In(u);break;case"number":l=In(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=ri(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),_=l.s.r,x=0,w={};y&&!t[_]&&(t[_]=[]);var C=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(C[x]||{}).hidden)switch(h[x]=Fr(x),n=y?t[_][x]:t[h[x]+f],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=wc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[x]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(S[_]||{}).hidden){var R=fFe(t,l,_,h,r,s,y,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=R.row)}return p.length=v,p}var lL=/"/g;function hFe(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=ri(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:wc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(lL,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(lL,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function l6(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=In(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Fr(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=hFe(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function wJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=l6(t,e);return n}function pFe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=In(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Fr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=ri(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function TJ(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Mr(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=In(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){Hr(g).forEach(function(_){(p=h.indexOf(_))==-1&&(h[p=h.length]=_);var x=g[_],w="z",C="",S=Qt({c:o+p,r:a+y+i});c=av(s,S),x&&typeof x=="object"&&!(x instanceof Date)?s[S]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",r.cellDates||(w="n",x=Ei(x)),C=r.dateNF||Xt[14]):x===null&&r.nullError&&(w="e",x=0),c?(c.t=w,c.v=x,delete c.w,delete c.R,C&&(c.z=C)):s[S]=c={t:w,v:x},C&&(c.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=ri(a);if(i)for(p=0;p<h.length;++p)s[Fr(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=un(u),s}function mFe(t,e){return TJ(null,t,e)}function av(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Mr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?av(t,Qt(e)):av(t,Qt({r:e,c:n||0}))}function gFe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function c6(){return{SheetNames:[],Sheets:{}}}function u6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(aJ(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function yFe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=gFe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function vFe(t,e){return t.z=e,t}function EJ(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function xFe(t,e,n){return EJ(t,"#"+e,n)}function bFe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function _Fe(t,e,n,r){for(var i=typeof e!="string"?e:In(e),s=typeof e=="string"?e:un(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=av(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var Xx={encode_col:Fr,encode_row:ri,encode_cell:Qt,encode_range:un,decode_col:jI,decode_row:LI,split_cell:IDe,decode_cell:Mr,decode_range:da,format_cell:wc,sheet_add_aoa:YK,sheet_add_json:TJ,sheet_add_dom:pJ,aoa_to_sheet:sg,json_to_sheet:mFe,table_to_sheet:mJ,table_to_book:DPe,sheet_to_csv:l6,sheet_to_txt:wJ,sheet_to_json:r_,sheet_to_html:hJ,sheet_to_formulae:pFe,sheet_to_row_object_array:r_,sheet_get_cell:av,book_new:c6,book_append_sheet:u6,book_set_sheet_visibility:yFe,cell_set_number_format:vFe,cell_set_hyperlink:EJ,cell_set_internal_link:xFe,cell_add_comment:bFe,sheet_set_array_formula:_Fe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function d6(t,e){return t.indexOf(e)!==-1}function up(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(d6(t,String(a)))return i}return null}function wFe(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(d6(t,String(o))){i.push(s);break}}return i}function TFe(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function EFe(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function CFe(t,e,n={}){const r=t;let i=TFe(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(d6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=up(i,"intents",e),s.target=up(i,"targets",e),s.position=up(i,"positions",e),s.color=up(i,"colors",e),s.movement=up(i,"movements",e);const a=wFe(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(up(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:_}=EFe(g[1].trim());s.conditions.push({type:u,value:y,valueType:_,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function SFe(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function DFe(t,e){const n=t.trim(),r=SFe(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=CFe(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const AFe=({onClose:t,onCreate:e})=>{const[n,r]=W.useState(20),[i,s]=W.useState(10),[a,o]=W.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},NFe=()=>{const{excelCommands:t}=sn(),[e,n]=W.useState([]),[r,i]=W.useState([]),[s,a]=W.useState([]),[o,l]=W.useState(""),[c,u]=W.useState(new Set),[f,h]=W.useState(new Set),[p,v]=W.useState(new Set),[g,y]=W.useState(null),[_,x]=W.useState({}),[w,C]=W.useState(""),[S,R]=W.useState(!1),[D,k]=W.useState(""),[I,F]=W.useState(!1),[P,N]=W.useState(!1),O=W.useRef(null),U=W.useRef(!1),H=W.useRef(s),G=W.useRef(r),J=W.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),Z=W.useRef({setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});W.useEffect(()=>{H.current=s,G.current=r,J.current={selectedRows:c,selectedCols:f,selectedCells:p},Z.current={setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const z=window.SpeechRecognition||window.webkitSpeechRecognition,Y=!!z,B=W.useCallback(re=>{if(!re.length)return!1;let oe=!1,fe=[...G.current],be=H.current.map(ce=>[...ce]);({...Z.current.setCellStyles});const ie=J.current.selectedRows.size>0?"rows":J.current.selectedCols.size>0?"columns":J.current.selectedCells.size>0?"cells":"none";for(const ce of re)switch(ce.intent){case"color":if(ce.color){const ge={backgroundColor:ce.color};["white","yellow","pink"].includes(ce.color)&&(ge.color="#333"),["black","blue","purple","green","red"].includes(ce.color)&&(ge.color="#fff"),Z.current.setCellStyles(De=>{const Oe={...De},Te=(Ue,Le)=>{Oe[`${Ue}:${Le}`]={...Oe[`${Ue}:${Le}`]||{},...ge}};return ie==="cells"?J.current.selectedCells.forEach(Ue=>{const[Le,Je]=Ue.split(":").map(Number);Te(Le,Je)}):ie==="rows"?J.current.selectedRows.forEach(Ue=>G.current.forEach((Le,Je)=>Te(Number(Ue),Je))):ie==="columns"&&J.current.selectedCols.forEach(Ue=>H.current.forEach((Le,Je)=>Te(Je,Number(Ue)))),Oe}),oe=!0}break;case"move":if(ce.movement&&ie==="columns"&&J.current.selectedCols.size===1){const ge=Number(Array.from(J.current.selectedCols)[0]),De=ce.movement==="right"?ge+1:ge-1;De>=0&&De<fe.length&&([fe[ge],fe[De]]=[fe[De],fe[ge]],be.forEach(Oe=>{[Oe[ge],Oe[De]]=[Oe[De],Oe[ge]]}),Z.current.setSelectedCols(new Set([De])),oe=!0)}break;case"delete":case"clear":const me=ce.intent==="delete";if(ie==="rows")Array.from(J.current.selectedRows).sort((De,Oe)=>Number(Oe)-Number(De)).forEach(De=>be.splice(Number(De),1)),Z.current.setSelectedRows(new Set),oe=!0;else if(ie==="columns"){const ge=Array.from(J.current.selectedCols).sort((De,Oe)=>Number(Oe)-Number(De));me&&ge.forEach(De=>fe.splice(Number(De),1)),be.forEach(De=>{ge.forEach(Oe=>me?De.splice(Number(Oe),1):De[Number(Oe)]="")}),Z.current.setSelectedCols(new Set),oe=!0}else ie==="cells"&&(J.current.selectedCells.forEach(ge=>{const[De,Oe]=ge.split(":").map(Number);be[De][Oe]=""}),oe=!0);break;case"sum":if(ie==="columns"&&J.current.selectedCols.size===1){const ge=Number(Array.from(J.current.selectedCols)[0]),De=be.reduce((Ue,Le)=>Ue+(Number(Le[ge])||0),0),Oe=be.findIndex(Ue=>!Ue[ge]),Te=Oe!==-1?Oe:be.length;Te===be.length&&be.push(Array(fe.length).fill("")),be[Te][ge]=De,oe=!0}break}return oe&&(Z.current.setHeaders(fe),Z.current.setCurrentData(be),Z.current.setSelectedRows(new Set),Z.current.setSelectedCols(new Set),Z.current.setSelectedCells(new Set)),oe},[]);W.useEffect(()=>{if(!Y)return;O.current=new z;const re=O.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>F(!0),re.onend=()=>{if(U.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(oe){console.error("Excel Studio: Could not restart recognition",oe),U.current=!1,F(!1)}}else F(!1)},re.onerror=oe=>{k(`   : ${oe.error}`),U.current=!1,F(!1)},re.onresult=oe=>{let fe="";for(let ie=oe.resultIndex;ie<oe.results.length;++ie)oe.results[ie].isFinal&&(fe+=oe.results[ie][0].transcript);const be=fe.trim();if(be&&t){const{actions:ie}=DFe(be,t);B(ie)||C(me=>(me?me+" ":"")+be)}else be&&C(ie=>(ie?ie+" ":"")+be)},()=>{O.current&&(U.current=!1,O.current.abort())}},[Y,t,B]);const j=()=>{const re=O.current;re&&(I?(U.current=!1,re.stop()):(k(""),U.current=!0,re.start()))},q=W.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),X=W.useMemo(()=>{const re=new Map;return q==="cells"&&Array.from(p).forEach((oe,fe)=>{re.set(oe,fe+1)}),re},[p,q]),Q=re=>{var be;const oe=(be=re.target.files)==null?void 0:be[0];if(!oe)return;l(oe.name);const fe=new FileReader;fe.onload=ie=>{var ce;try{const me=new Uint8Array((ce=ie.target)==null?void 0:ce.result),ge=xN(me,{type:"array"}),De=ge.SheetNames[0],Oe=ge.Sheets[De],Te=Xx.sheet_to_json(Oe,{header:1});if(Te.length>0){const Ue=Te[0].map(Je=>String(Je)),Le=Te.slice(1).map(Je=>{const lt=Array(Ue.length).fill("");return Je.forEach((ct,Bt)=>{Bt<lt.length&&(lt[Bt]=ct)}),lt});i(Ue),n(JSON.parse(JSON.stringify(Le))),a(Le),ue()}else k("    .")}catch(me){console.error(me),me instanceof Error?k(`    Excel: ${me.message}`):k("    Excel.      .")}},fe.readAsArrayBuffer(oe)},te=(re,oe,fe)=>{const be=Array.from({length:oe},(ce,me)=>String.fromCharCode(65+me)),ie=Array.from({length:re},()=>Array(oe).fill(""));i(be),a(ie),n(JSON.parse(JSON.stringify(ie))),l(fe),ue(),N(!1)},ae=()=>{a(JSON.parse(JSON.stringify(e))),x({}),ue()},ue=()=>{u(new Set),h(new Set),v(new Set),y(null),C(""),k("")},de=re=>{h(new Set),v(new Set),y(null),u(oe=>{const fe=new Set(oe);return fe.has(re)?fe.delete(re):fe.add(re),fe})},Se=re=>{u(new Set),v(new Set),y(null),h(oe=>{const fe=new Set(oe);return fe.has(re)?fe.delete(re):fe.add(re),fe})},Pe=(re,oe,fe)=>{u(new Set),h(new Set),y(null);const be=`${re}:${oe}`;v(ie=>{const ce=fe?new Set(ie):new Set;return ce.has(be)&&fe?ce.delete(be):ce.add(be),ce})},pe=(re,oe)=>{y({rowIndex:re,colIndex:oe}),u(new Set),h(new Set),v(new Set)},je=(re,oe,fe)=>{const be=JSON.parse(JSON.stringify(s));be[oe][fe]=re.target.value,a(be)},V=()=>{y(null)},xe=re=>{if(!g)return;const{rowIndex:oe,colIndex:fe}=g;if(re.key==="Enter")re.preventDefault(),oe<s.length-1?y({rowIndex:oe+1,colIndex:fe}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const be=re.shiftKey?fe-1:fe+1;be>=0&&be<r.length?y({rowIndex:oe,colIndex:be}):!re.shiftKey&&oe<s.length-1?y({rowIndex:oe+1,colIndex:0}):y(null)}},_e=async()=>{if(q==="none"){k("         .");return}if(!w.trim()){k("    .");return}k(""),R(!0);try{const re=[];q==="cells"?Array.from(p).forEach((me,ge)=>{const[De,Oe]=me.split(":").map(Number);re.push({value:String(s[De][Oe]),rowIndex:De,colIndex:Oe,header:r[Oe],cellNumber:ge+1})}):q==="rows"?Array.from(c).forEach(me=>r.forEach((ge,De)=>re.push({value:String(s[Number(me)][De]),rowIndex:Number(me),colIndex:De,header:ge}))):q==="columns"&&Array.from(f).forEach(me=>s.forEach((ge,De)=>re.push({value:String(ge[Number(me)]),rowIndex:De,colIndex:Number(me),header:r[Number(me)]})));const be=(await Age(w,re,q==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(be))throw new Error("AI response format is incorrect.");let ie=JSON.parse(JSON.stringify(s)),ce=JSON.parse(JSON.stringify(_));be.forEach(me=>{const{rowIndex:ge,colIndex:De,newValue:Oe,backgroundColor:Te}=me;typeof ge=="number"&&typeof De=="number"&&(Oe!==void 0&&(ie[Number(ge)][Number(De)]=Oe),Te&&(ce[`${ge}:${De}`]={...ce[`${ge}:${De}`],backgroundColor:Te}))}),a(ie),x(ce),ue()}catch(re){re instanceof Error?k(re.message):k("     .")}finally{R(!1)}},le=()=>{const re=Xx.aoa_to_sheet([r,...s]),oe=Xx.book_new();Xx.book_append_sheet(oe,re,"Sheet1"),dFe(oe,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(AFe,{onClose:()=>N(!1),onCreate:te}),d.jsx(LH,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx(Pl,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Q,className:"hidden"})]}),d.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(lc,{}),d.jsx("span",{children:"   "})]})]}),D&&d.jsx("p",{className:"text-red-500 mt-4",children:D})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!Y,className:`p-3 rounded-full transition-colors ${Y?I?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:I?d.jsx(_c,{}):d.jsx(aI,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:ae,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx(cge,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:le,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Ta,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(nge,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,oe)=>d.jsx("th",{onClick:()=>Se(oe),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(oe)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+oe)},oe))]})}),d.jsx("tbody",{children:s.map((re,oe)=>d.jsxs("tr",{className:`${c.has(oe)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>de(oe),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:oe+1}),re.map((fe,be)=>{const ie=(g==null?void 0:g.rowIndex)===oe&&(g==null?void 0:g.colIndex)===be,ce=`${oe}:${be}`,me=_[ce]||{},ge=p.has(ce);let De="border-b border-l border-gray-300 text-black relative";return ie?De+=" p-0":(De+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",ge?De+=" bg-green-200":(c.has(oe)||f.has(be))&&(De+=" bg-green-100")),d.jsx("td",{style:me,className:De,title:ie?void 0:fe,onClick:Oe=>!ie&&Pe(oe,be,Oe.ctrlKey||Oe.metaKey),onDoubleClick:()=>pe(oe,be),children:ie?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:fe||"",onChange:Oe=>je(Oe,oe,be),onBlur:V,onKeyDown:xe,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[ge&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:X.get(ce)}),fe]})},be)})]},oe))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>C(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:S})}),d.jsxs("button",{onClick:_e,disabled:S||q==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[S?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:S?" ...":"  "})]})]}),D&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:D})]})})]})};var Xa={},f6="1.13.7",cL=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},$w=Array.prototype,h6=Object.prototype,uL=typeof Symbol<"u"?Symbol.prototype:null,kFe=$w.push,i1=$w.slice,ov=h6.toString,IFe=h6.hasOwnProperty,CJ=typeof ArrayBuffer<"u",RFe=typeof DataView<"u",PFe=Array.isArray,dL=Object.keys,fL=Object.create,hL=CJ&&ArrayBuffer.isView,FFe=isNaN,MFe=isFinite,SJ=!{toString:null}.propertyIsEnumerable("toString"),pL=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],UFe=Math.pow(2,53)-1;function qs(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function fd(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function DJ(t){return t===null}function p6(t){return t===void 0}function m6(t){return t===!0||t===!1||ov.call(t)==="[object Boolean]"}function AJ(t){return!!(t&&t.nodeType===1)}function As(t){var e="[object "+t+"]";return function(n){return ov.call(n)===e}}const zw=As("String"),g6=As("Number"),NJ=As("Date"),kJ=As("RegExp"),IJ=As("Error"),y6=As("Symbol"),v6=As("ArrayBuffer");var RJ=As("Function"),OFe=cL.document&&cL.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof OFe!="function"&&(RJ=function(t){return typeof t=="function"||!1});const Cs=RJ,PJ=As("Object");var FJ=RFe&&(!/\[native code\]/.test(String(DataView))||PJ(new DataView(new ArrayBuffer(8)))),x6=typeof Map<"u"&&PJ(new Map),LFe=As("DataView");function jFe(t){return t!=null&&Cs(t.getInt8)&&v6(t.buffer)}const lv=FJ?jFe:LFe,hd=PFe||As("Array");function pd(t,e){return t!=null&&IFe.call(t,e)}var bN=As("Arguments");(function(){bN(arguments)||(bN=function(t){return pd(t,"callee")})})();const Hw=bN;function MJ(t){return!y6(t)&&MFe(t)&&!isNaN(parseFloat(t))}function b6(t){return g6(t)&&FFe(t)}function _6(t){return function(){return t}}function UJ(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=UFe}}function OJ(t){return function(e){return e==null?void 0:e[t]}}const i_=OJ("byteLength"),BFe=UJ(i_);var VFe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function WFe(t){return hL?hL(t)&&!lv(t):BFe(t)&&VFe.test(ov.call(t))}const w6=CJ?WFe:_6(!1),fa=OJ("length");function qFe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function LJ(t,e){e=qFe(e);var n=pL.length,r=t.constructor,i=Cs(r)&&r.prototype||h6,s="constructor";for(pd(t,s)&&!e.contains(s)&&e.push(s);n--;)s=pL[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Ci(t){if(!fd(t))return[];if(dL)return dL(t);var e=[];for(var n in t)pd(t,n)&&e.push(n);return SJ&&LJ(t,e),e}function jJ(t){if(t==null)return!0;var e=fa(t);return typeof e=="number"&&(hd(t)||zw(t)||Hw(t))?e===0:fa(Ci(t))===0}function T6(t,e){var n=Ci(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Wn(t){if(t instanceof Wn)return t;if(!(this instanceof Wn))return new Wn(t);this._wrapped=t}Wn.VERSION=f6;Wn.prototype.value=function(){return this._wrapped};Wn.prototype.valueOf=Wn.prototype.toJSON=Wn.prototype.value;Wn.prototype.toString=function(){return String(this._wrapped)};function mL(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,i_(t))}var gL="[object DataView]";function _N(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:BJ(t,e,n,r)}function BJ(t,e,n,r){t instanceof Wn&&(t=t._wrapped),e instanceof Wn&&(e=e._wrapped);var i=ov.call(t);if(i!==ov.call(e))return!1;if(FJ&&i=="[object Object]"&&lv(t)){if(!lv(e))return!1;i=gL}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return uL.valueOf.call(t)===uL.valueOf.call(e);case"[object ArrayBuffer]":case gL:return BJ(mL(t),mL(e),n,r)}var s=i==="[object Array]";if(!s&&w6(t)){var a=i_(t);if(a!==i_(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(Cs(o)&&o instanceof o&&Cs(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!_N(t[c],e[c],n,r))return!1}else{var u=Ci(t),f;if(c=u.length,Ci(e).length!==c)return!1;for(;c--;)if(f=u[c],!(pd(e,f)&&_N(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function VJ(t,e){return _N(t,e)}function og(t){if(!fd(t))return[];var e=[];for(var n in t)e.push(n);return SJ&&LJ(t,e),e}function E6(t){var e=fa(t);return function(n){if(n==null)return!1;var r=og(n);if(fa(r))return!1;for(var i=0;i<e;i++)if(!Cs(n[t[i]]))return!1;return t!==$J||!Cs(n[C6])}}var C6="forEach",WJ="has",S6=["clear","delete"],qJ=["get",WJ,"set"],$Fe=S6.concat(C6,qJ),$J=S6.concat(qJ),zFe=["add"].concat(S6,C6,WJ);const zJ=x6?E6($Fe):As("Map"),HJ=x6?E6($J):As("WeakMap"),GJ=x6?E6(zFe):As("Set"),KJ=As("WeakSet");function mh(t){for(var e=Ci(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function XJ(t){for(var e=Ci(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function D6(t){for(var e={},n=Ci(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function cv(t){var e=[];for(var n in t)Cs(t[n])&&e.push(n);return e.sort()}function A6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const N6=A6(og),Sm=A6(Ci),k6=A6(og,!0);function HFe(){return function(){}}function JJ(t){if(!fd(t))return{};if(fL)return fL(t);var e=HFe();e.prototype=t;var n=new e;return e.prototype=null,n}function YJ(t,e){var n=JJ(t);return e&&Sm(n,e),n}function QJ(t){return fd(t)?hd(t)?t.slice():N6({},t):t}function ZJ(t,e){return e(t),t}function I6(t){return hd(t)?t:[t]}Wn.toPath=I6;function s1(t){return Wn.toPath(t)}function R6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function P6(t,e,n){var r=R6(t,s1(e));return p6(r)?n:r}function eY(t,e){e=s1(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!pd(t,i))return!1;t=t[i]}return!!n}function Gw(t){return t}function Kf(t){return t=Sm({},t),function(e){return T6(e,t)}}function Kw(t){return t=s1(t),function(e){return R6(e,t)}}function a1(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function tY(t,e,n){return t==null?Gw:Cs(t)?a1(t,e,n):fd(t)&&!hd(t)?Kf(t):Kw(t)}function Xw(t,e){return tY(t,e,1/0)}Wn.iteratee=Xw;function ma(t,e,n){return Wn.iteratee!==Xw?Wn.iteratee(t,e):tY(t,e,n)}function nY(t,e,n){e=ma(e,n);for(var r=Ci(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function F6(){}function rY(t){return t==null?F6:function(e){return P6(t,e)}}function iY(t,e,n){var r=Array(Math.max(0,t));e=a1(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function s_(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Dm=Date.now||function(){return new Date().getTime()};function sY(t){var e=function(s){return t[s]},n="(?:"+Ci(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const aY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},oY=sY(aY),GFe=D6(aY),lY=sY(GFe),cY=Wn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var w4=/(.)^/,KFe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},XFe=/\\|'|\r|\n|\u2028|\u2029/g;function JFe(t){return"\\"+KFe[t]}var YFe=/^\s*(\w|\$)+\s*$/;function uY(t,e,n){!e&&n&&(e=n),e=k6({},e,Wn.templateSettings);var r=RegExp([(e.escape||w4).source,(e.interpolate||w4).source,(e.evaluate||w4).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(XFe,JFe),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!YFe.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Wn)};return l.source="function("+a+`){
`+s+"}",l}function dY(t,e,n){e=s1(e);var r=e.length;if(!r)return Cs(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=Cs(s)?s.call(t):s}return t}var QFe=0;function fY(t){var e=++QFe+"";return t?t+e:e}function hY(t){var e=Wn(t);return e._chain=!0,e}function pY(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=JJ(t.prototype),a=t.apply(s,i);return fd(a)?a:s}var gh=qs(function(t,e){var n=gh.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return pY(t,r,this,this,a)};return r});gh.placeholder=Wn;const M6=qs(function(t,e,n){if(!Cs(t))throw new TypeError("Bind must be called on a function");var r=qs(function(i){return pY(t,r,e,this,n.concat(i))});return r}),Oa=UJ(fa);function yh(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=fa(t);s<a;s++){var o=t[s];if(Oa(o)&&(hd(o)||Hw(o)))if(e>1)yh(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const mY=qs(function(t,e){e=yh(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=M6(t[r],t)}return t});function gY(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return pd(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const U6=qs(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),yY=gh(U6,Wn,1);function vY(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Dm(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=Dm();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function xY(t,e,n){var r,i,s,a,o,l=function(){var u=Dm()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=qs(function(u){return o=this,s=u,i=Dm(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function bY(t,e){return gh(e,t)}function Jw(t){return function(){return!t.apply(this,arguments)}}function _Y(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function wY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function O6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const TY=gh(O6,2);function L6(t,e,n){e=ma(e,n);for(var r=Ci(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function EY(t){return function(e,n,r){n=ma(n,r);for(var i=fa(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Yw=EY(1),j6=EY(-1);function B6(t,e,n,r){n=ma(n,r,1);for(var i=n(e),s=0,a=fa(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function CY(t,e,n){return function(r,i,s){var a=0,o=fa(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(i1.call(r,a,o),b6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const V6=CY(1,Yw,B6),SY=CY(-1,j6);function uv(t,e,n){var r=Oa(t)?Yw:L6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function DY(t,e){return uv(t,Kf(e))}function $o(t,e,n){e=a1(e,n);var r,i;if(Oa(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=Ci(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function Tc(t,e,n){e=ma(e,n);for(var r=!Oa(t)&&Ci(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function AY(t){var e=function(n,r,i,s){var a=!Oa(n)&&Ci(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,a1(r,s,4),i,a)}}const $p=AY(1),a_=AY(-1);function Yu(t,e,n){var r=[];return e=ma(e,n),$o(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function NY(t,e,n){return Yu(t,Jw(ma(e)),n)}function o_(t,e,n){e=ma(e,n);for(var r=!Oa(t)&&Ci(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function l_(t,e,n){e=ma(e,n);for(var r=!Oa(t)&&Ci(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function co(t,e,n,r){return Oa(t)||(t=mh(t)),(typeof n!="number"||r)&&(n=0),V6(t,e,n)>=0}const kY=qs(function(t,e,n){var r,i;return Cs(e)?i=e:(e=s1(e),r=e.slice(0,-1),e=e[e.length-1]),Tc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=R6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function Qw(t,e){return Tc(t,Kw(e))}function IY(t,e){return Yu(t,Kf(e))}function W6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Oa(t)?t:mh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=ma(e,n),$o(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function RY(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Oa(t)?t:mh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=ma(e,n),$o(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var ZFe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function q6(t){return t?hd(t)?i1.call(t):zw(t)?t.match(ZFe):Oa(t)?Tc(t,Gw):mh(t):[]}function $6(t,e,n){if(e==null||n)return Oa(t)||(t=mh(t)),t[s_(t.length-1)];var r=q6(t),i=fa(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=s_(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function PY(t){return $6(t,1/0)}function FY(t,e,n){var r=0;return e=ma(e,n),Qw(Tc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function Zw(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=ma(r,i),$o(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const MY=Zw(function(t,e,n){pd(t,n)?t[n].push(e):t[n]=[e]}),UY=Zw(function(t,e,n){t[n]=e}),OY=Zw(function(t,e,n){pd(t,n)?t[n]++:t[n]=1}),LY=Zw(function(t,e,n){t[n?0:1].push(e)},!0);function jY(t){return t==null?0:Oa(t)?t.length:Ci(t).length}function e9e(t,e,n){return e in n}const z6=qs(function(t,e){var n={},r=e[0];if(t==null)return n;Cs(r)?(e.length>1&&(r=a1(r,e[1])),e=og(t)):(r=e9e,e=yh(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),BY=qs(function(t,e){var n=e[0],r;return Cs(n)?(n=Jw(n),e.length>1&&(r=e[1])):(e=Tc(yh(e,!1,!1),String),n=function(i,s){return!co(e,s)}),z6(t,n,r)});function H6(t,e,n){return i1.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function zp(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:H6(t,t.length-e)}function _f(t,e,n){return i1.call(t,e==null||n?1:e)}function VY(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:_f(t,Math.max(0,t.length-e))}function WY(t){return Yu(t,Boolean)}function qY(t,e){return yh(t,e,!1)}const G6=qs(function(t,e){return e=yh(e,!0,!0),Yu(t,function(n){return!co(e,n)})}),$Y=qs(function(t,e){return G6(t,e)});function dv(t,e,n,r){m6(e)||(r=n,n=e,e=!1),n!=null&&(n=ma(n,r));for(var i=[],s=[],a=0,o=fa(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?co(s,c)||(s.push(c),i.push(l)):co(i,l)||i.push(l)}return i}const zY=qs(function(t){return dv(yh(t,!0,!0))});function HY(t){for(var e=[],n=arguments.length,r=0,i=fa(t);r<i;r++){var s=t[r];if(!co(e,s)){var a;for(a=1;a<n&&co(arguments[a],s);a++);a===n&&e.push(s)}}return e}function fv(t){for(var e=t&&W6(t,fa).length||0,n=Array(e),r=0;r<e;r++)n[r]=Qw(t,r);return n}const GY=qs(fv);function KY(t,e){for(var n={},r=0,i=fa(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function XY(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function JY(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(i1.call(t,r,r+=e));return n}function K6(t,e){return t._chain?Wn(e).chain():e}function X6(t){return $o(cv(t),function(e){var n=Wn[e]=t[e];Wn.prototype[e]=function(){var r=[this._wrapped];return kFe.apply(r,arguments),K6(this,n.apply(Wn,r))}}),Wn}$o(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=$w[t];Wn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),K6(this,n)}});$o(["concat","join","slice"],function(t){var e=$w[t];Wn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),K6(this,n)}});const t9e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:f6,after:wY,all:o_,allKeys:og,any:l_,assign:Sm,before:O6,bind:M6,bindAll:mY,chain:hY,chunk:JY,clone:QJ,collect:Tc,compact:WY,compose:_Y,constant:_6,contains:co,countBy:OY,create:YJ,debounce:xY,default:Wn,defaults:k6,defer:yY,delay:U6,detect:uv,difference:G6,drop:_f,each:$o,escape:oY,every:o_,extend:N6,extendOwn:Sm,filter:Yu,find:uv,findIndex:Yw,findKey:L6,findLastIndex:j6,findWhere:DY,first:zp,flatten:qY,foldl:$p,foldr:a_,forEach:$o,functions:cv,get:P6,groupBy:MY,has:eY,head:zp,identity:Gw,include:co,includes:co,indexBy:UY,indexOf:V6,initial:H6,inject:$p,intersection:HY,invert:D6,invoke:kY,isArguments:Hw,isArray:hd,isArrayBuffer:v6,isBoolean:m6,isDataView:lv,isDate:NJ,isElement:AJ,isEmpty:jJ,isEqual:VJ,isError:IJ,isFinite:MJ,isFunction:Cs,isMap:zJ,isMatch:T6,isNaN:b6,isNull:DJ,isNumber:g6,isObject:fd,isRegExp:kJ,isSet:GJ,isString:zw,isSymbol:y6,isTypedArray:w6,isUndefined:p6,isWeakMap:HJ,isWeakSet:KJ,iteratee:Xw,keys:Ci,last:VY,lastIndexOf:SY,map:Tc,mapObject:nY,matcher:Kf,matches:Kf,max:W6,memoize:gY,methods:cv,min:RY,mixin:X6,negate:Jw,noop:F6,now:Dm,object:KY,omit:BY,once:TY,pairs:XJ,partial:gh,partition:LY,pick:z6,pluck:Qw,property:Kw,propertyOf:rY,random:s_,range:XY,reduce:$p,reduceRight:a_,reject:NY,rest:_f,restArguments:qs,result:dY,sample:$6,select:Yu,shuffle:PY,size:jY,some:l_,sortBy:FY,sortedIndex:B6,tail:_f,take:zp,tap:ZJ,template:uY,templateSettings:cY,throttle:vY,times:iY,toArray:q6,toPath:I6,transpose:fv,unescape:lY,union:zY,uniq:dv,unique:dv,uniqueId:fY,unzip:fv,values:mh,where:IY,without:$Y,wrap:bY,zip:GY},Symbol.toStringTag,{value:"Module"}));var wN=X6(t9e);wN._=wN;const n9e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:f6,after:wY,all:o_,allKeys:og,any:l_,assign:Sm,before:O6,bind:M6,bindAll:mY,chain:hY,chunk:JY,clone:QJ,collect:Tc,compact:WY,compose:_Y,constant:_6,contains:co,countBy:OY,create:YJ,debounce:xY,default:wN,defaults:k6,defer:yY,delay:U6,detect:uv,difference:G6,drop:_f,each:$o,escape:oY,every:o_,extend:N6,extendOwn:Sm,filter:Yu,find:uv,findIndex:Yw,findKey:L6,findLastIndex:j6,findWhere:DY,first:zp,flatten:qY,foldl:$p,foldr:a_,forEach:$o,functions:cv,get:P6,groupBy:MY,has:eY,head:zp,identity:Gw,include:co,includes:co,indexBy:UY,indexOf:V6,initial:H6,inject:$p,intersection:HY,invert:D6,invoke:kY,isArguments:Hw,isArray:hd,isArrayBuffer:v6,isBoolean:m6,isDataView:lv,isDate:NJ,isElement:AJ,isEmpty:jJ,isEqual:VJ,isError:IJ,isFinite:MJ,isFunction:Cs,isMap:zJ,isMatch:T6,isNaN:b6,isNull:DJ,isNumber:g6,isObject:fd,isRegExp:kJ,isSet:GJ,isString:zw,isSymbol:y6,isTypedArray:w6,isUndefined:p6,isWeakMap:HJ,isWeakSet:KJ,iteratee:Xw,keys:Ci,last:VY,lastIndexOf:SY,map:Tc,mapObject:nY,matcher:Kf,matches:Kf,max:W6,memoize:gY,methods:cv,min:RY,mixin:X6,negate:Jw,noop:F6,now:Dm,object:KY,omit:BY,once:TY,pairs:XJ,partial:gh,partition:LY,pick:z6,pluck:Qw,property:Kw,propertyOf:rY,random:s_,range:XY,reduce:$p,reduceRight:a_,reject:NY,rest:_f,restArguments:qs,result:dY,sample:$6,select:Yu,shuffle:PY,size:jY,some:l_,sortBy:FY,sortedIndex:B6,tail:_f,take:zp,tap:ZJ,template:uY,templateSettings:cY,throttle:vY,times:iY,toArray:q6,toPath:I6,transpose:fv,unescape:lY,union:zY,uniq:dv,unique:dv,uniqueId:fY,unzip:fv,values:mh,where:IY,without:$Y,wrap:bY,zip:GY},Symbol.toStringTag,{value:"Module"})),ai=yZ(n9e);var Jx={},Ja={},T4={exports:{}},Yx={exports:{}},yL;function lg(){if(yL)return Yx.exports;yL=1;var t=(function(){return this===void 0})();if(t)Yx.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};Yx.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return Yx.exports}var a0,vL;function cr(){if(vL)return a0;vL=1;var t={},e=lg(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof vs<"u"?vs:a0!==void 0?a0:null;function a(){try{var q=i;return i=null,q.apply(this,arguments)}catch(X){return r.e=X,r}}function o(q){return i=q,a}var l=function(q,X){var Q={}.hasOwnProperty;function te(){this.constructor=q,this.constructor$=X;for(var ae in X.prototype)Q.call(X.prototype,ae)&&ae.charAt(ae.length-1)!=="$"&&(this[ae+"$"]=X.prototype[ae])}return te.prototype=X.prototype,q.prototype=new te,q.prototype};function c(q){return q==null||q===!0||q===!1||typeof q=="string"||typeof q=="number"}function u(q){return typeof q=="function"||typeof q=="object"&&q!==null}function f(q){return c(q)?new Error(D(q)):q}function h(q,X){var Q=q.length,te=new Array(Q+1),ae;for(ae=0;ae<Q;++ae)te[ae]=q[ae];return te[ae]=X,te}function p(q,X,Q){if(e.isES5){var te=Object.getOwnPropertyDescriptor(q,X);if(te!=null)return te.get==null&&te.set==null?te.value:Q}else return{}.hasOwnProperty.call(q,X)?q[X]:void 0}function v(q,X,Q){if(c(q))return q;var te={value:Q,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(q,X,te),q}function g(q){throw q}var y=(function(){var q=[Array.prototype,Object.prototype,Function.prototype],X=function(ae){for(var ue=0;ue<q.length;++ue)if(q[ue]===ae)return!0;return!1};if(e.isES5){var Q=Object.getOwnPropertyNames;return function(ae){for(var ue=[],de=Object.create(null);ae!=null&&!X(ae);){var Se;try{Se=Q(ae)}catch{return ue}for(var Pe=0;Pe<Se.length;++Pe){var pe=Se[Pe];if(!de[pe]){de[pe]=!0;var je=Object.getOwnPropertyDescriptor(ae,pe);je!=null&&je.get==null&&je.set==null&&ue.push(pe)}}ae=e.getPrototypeOf(ae)}return ue}}else{var te={}.hasOwnProperty;return function(ae){if(X(ae))return[];var ue=[];e:for(var de in ae)if(te.call(ae,de))ue.push(de);else{for(var Se=0;Se<q.length;++Se)if(te.call(q[Se],de))continue e;ue.push(de)}return ue}}})(),_=/this\s*\.\s*\S+\s*=/;function x(q){try{if(typeof q=="function"){var X=e.names(q.prototype),Q=e.isES5&&X.length>1,te=X.length>0&&!(X.length===1&&X[0]==="constructor"),ae=_.test(q+"")&&e.names(q).length>0;if(Q||te||ae)return!0}return!1}catch{return!1}}function w(q){return q}var C=/^[a-z$_][a-z$_0-9]*$/i;function S(q){return C.test(q)}function R(q,X,Q){for(var te=new Array(q),ae=0;ae<q;++ae)te[ae]=X+ae+Q;return te}function D(q){try{return q+""}catch{return"[no string representation]"}}function k(q){return q!==null&&typeof q=="object"&&typeof q.message=="string"&&typeof q.name=="string"}function I(q){try{v(q,"isOperational",!0)}catch{}}function F(q){return q==null?!1:q instanceof Error.__BluebirdErrorTypes__.OperationalError||q.isOperational===!0}function P(q){return k(q)&&e.propertyIsWritable(q,"stack")}var N=(function(){return"stack"in new Error?function(q){return P(q)?q:new Error(D(q))}:function(q){if(P(q))return q;try{throw new Error(D(q))}catch(X){return X}}})();function O(q){return{}.toString.call(q)}function U(q,X,Q){for(var te=e.names(q),ae=0;ae<te.length;++ae){var ue=te[ae];if(Q(ue))try{e.defineProperty(X,ue,e.getDescriptor(q,ue))}catch{}}}var H=function(q){return e.isArray(q)?q:null};if(typeof Symbol<"u"&&Symbol.iterator){var G=typeof Array.from=="function"?function(q){return Array.from(q)}:function(q){for(var X=[],Q=q[Symbol.iterator](),te;!(te=Q.next()).done;)X.push(te.value);return X};H=function(q){return e.isArray(q)?q:q!=null&&typeof q[Symbol.iterator]=="function"?G(q):null}}var J=typeof process<"u"&&O(process).toLowerCase()==="[object process]",Z=typeof process<"u"&&typeof t<"u";function z(q){return Z?t[q]:void 0}function Y(){if(typeof Promise=="function")try{var q=new Promise(function(){});if({}.toString.call(q)==="[object Promise]")return Promise}catch{}}function B(q,X){return q.bind(X)}var j={isClass:x,isIdentifier:S,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:H,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:k,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:R,toString:D,canAttachTrace:P,ensureErrorObject:N,originatesFromRejection:F,markAsOriginatingFromRejection:I,classString:O,copyDescriptors:U,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:J,hasEnvVariables:Z,env:z,global:s,getNativePromise:Y,domainBind:B};j.isRecentNode=j.isNode&&(function(){var q=process.versions.node.split(".").map(Number);return q[0]===0&&q[1]>10||q[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(q){j.lastLineError=q}return a0=j,a0}var Qx={exports:{}},E4,xL;function r9e(){if(xL)return E4;xL=1;var t=cr(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=vs.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(vs,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return E4=e,E4}var C4,bL;function i9e(){if(bL)return C4;bL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},C4=e,C4}var _L;function s9e(){if(_L)return Qx.exports;_L=1;var t;try{throw new Error}catch(l){t=l}var e=r9e(),n=i9e(),r=cr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Qx.exports=i,Qx.exports.firstLineError=t,Qx.exports}var S4,wL;function Qu(){if(wL)return S4;wL=1;var t=lg(),e=t.freeze,n=cr(),r=n.inherits,i=n.notEnumerableProp;function s(_,x){function w(C){if(!(this instanceof w))return new w(C);i(this,"message",typeof C=="string"?C:x),i(this,"name",_),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var _=Array(v*4+1).join(" "),x=`
`+_+`AggregateError of:
`;v++,_=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var C=this[w]===this?"[Circular AggregateError]":this[w]+"",S=C.split(`
`),R=0;R<S.length;++R)S[R]=_+S[R];C=S.join(`
`),x+=C+`
`}return v--,x};function g(_){if(!(this instanceof g))return new g(_);i(this,"name","OperationalError"),i(this,"message",_),this.cause=_,this.isOperational=!0,_ instanceof Error?(i(this,"message",_.message),i(this,"stack",_.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),S4={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},S4}var D4,TL;function a9e(){return TL||(TL=1,D4=function(t,e){var n=cr(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,_=n.tryCatch(h).call(f,x,w);y=!1,v&&_===r&&(v._rejectCallback(_.e,!0,!0),v=null);function x(C){v&&(v._resolveCallback(C),v=null)}function w(C){v&&(v._rejectCallback(C,y,!0),v=null)}return g}return s}),D4}var A4,EL;function o9e(){return EL||(EL=1,A4=function(t,e,n,r,i){var s=cr();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),A4}var N4,CL;function l9e(){return CL||(CL=1,N4=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),N4}var k4,SL;function c9e(){return SL||(SL=1,k4=function(t,e){var n=t._getDomain,r=t._async,i=Qu().Warning,s=cr(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),_=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),x=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ce=this._target();ce._bitField=ce._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){pe("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ce=this._settledValue();this._setUnhandledRejectionIsNotified(),pe("unhandledRejection",l,ce,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ce,me,ge){return X(ce,me,ge||this)},t.onPossiblyUnhandledRejection=function(ce){var me=n();l=typeof ce=="function"?me===null?ce:s.domainBind(me,ce):void 0},t.onUnhandledRejectionHandled=function(ce){var me=n();o=typeof ce=="function"?me===null?ce:s.domainBind(me,ce):void 0};var C=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ie.longStackTraces&&xe()){var ce=t.prototype._captureStackTrace,me=t.prototype._attachExtraTrace;ie.longStackTraces=!0,C=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ce,t.prototype._attachExtraTrace=me,e.deactivateLongStackTraces(),r.enableTrampoline(),ie.longStackTraces=!1},t.prototype._captureStackTrace=Y,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ie.longStackTraces&&xe()};var S=(function(){try{if(typeof CustomEvent=="function"){var ce=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ce),function(me,ge){var De=new CustomEvent(me.toLowerCase(),{detail:ge,cancelable:!0});return!s.global.dispatchEvent(De)}}else if(typeof Event=="function"){var ce=new Event("CustomEvent");return s.global.dispatchEvent(ce),function(ge,De){var Oe=new Event(ge.toLowerCase(),{cancelable:!0});return Oe.detail=De,!s.global.dispatchEvent(Oe)}}else{var ce=document.createEvent("CustomEvent");return ce.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ce),function(ge,De){var Oe=document.createEvent("CustomEvent");return Oe.initCustomEvent(ge.toLowerCase(),!1,!0,De),!s.global.dispatchEvent(Oe)}}}catch{}return function(){return!1}})(),R=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ce){var me="on"+ce.toLowerCase(),ge=s.global[me];return ge?(ge.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function D(ce,me){return{promise:me}}var k={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(ce,me,ge){return{promise:me,child:ge}},warning:function(ce,me){return{warning:me}},unhandledRejection:function(ce,me,ge){return{reason:me,promise:ge}},rejectionHandled:D},I=function(ce){var me=!1;try{me=R.apply(null,arguments)}catch(De){r.throwLater(De),me=!0}var ge=!1;try{ge=S(ce,k[ce].apply(null,arguments))}catch(De){r.throwLater(De),ge=!0}return ge||me};t.config=function(ce){if(ce=Object(ce),"longStackTraces"in ce&&(ce.longStackTraces?t.longStackTraces():!ce.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in ce){var me=ce.warnings;ie.warnings=!!me,w=ie.warnings,s.isObject(me)&&"wForgottenReturn"in me&&(w=!!me.wForgottenReturn)}if("cancellation"in ce&&ce.cancellation&&!ie.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=H,t.prototype._propagateFrom=G,t.prototype._onCancel=O,t.prototype._setOnCancel=U,t.prototype._attachCancellationCallback=N,t.prototype._execute=P,Z=G,ie.cancellation=!0}return"monitoring"in ce&&(ce.monitoring&&!ie.monitoring?(ie.monitoring=!0,t.prototype._fireEvent=I):!ce.monitoring&&ie.monitoring&&(ie.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(ce,me,ge){try{ce(me,ge)}catch(De){return De}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ce){},t.prototype._attachCancellationCallback=function(ce){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ce,me){};function P(ce,me,ge){var De=this;try{ce(me,ge,function(Oe){if(typeof Oe!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Oe));De._attachCancellationCallback(Oe)})}catch(Oe){return Oe}}function N(ce){if(!this._isCancellable())return this;var me=this._onCancel();me!==void 0?s.isArray(me)?me.push(ce):this._setOnCancel([me,ce]):this._setOnCancel(ce)}function O(){return this._onCancelField}function U(ce){this._onCancelField=ce}function H(){this._cancellationParent=void 0,this._onCancelField=void 0}function G(ce,me){if((me&1)!==0){this._cancellationParent=ce;var ge=ce._branchesRemainingToCancel;ge===void 0&&(ge=0),ce._branchesRemainingToCancel=ge+1}(me&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}function J(ce,me){(me&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}var Z=J;function z(){var ce=this._boundTo;return ce!==void 0&&ce instanceof t?ce.isFulfilled()?ce.value():void 0:ce}function Y(){this._trace=new fe(this._peekContext())}function B(ce,me){if(a(ce)){var ge=this._trace;if(ge!==void 0&&me&&(ge=ge._parent),ge!==void 0)ge.attachExtraTrace(ce);else if(!ce.__stackCleaned__){var De=Se(ce);s.notEnumerableProp(ce,"stack",De.message+`
`+De.stack.join(`
`)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}}}function j(ce,me,ge,De,Oe){if(ce===void 0&&me!==null&&w){if(Oe!==void 0&&Oe._returnedNonUndefined()||(De._bitField&65535)===0)return;ge&&(ge=ge+" ");var Te="",Ue="";if(me._trace){for(var Le=me._trace.stack.split(`
`),Je=ue(Le),lt=Je.length-1;lt>=0;--lt){var ct=Je[lt];if(!u.test(ct)){var Bt=ct.match(f);Bt&&(Te="at "+Bt[1]+":"+Bt[2]+":"+Bt[3]+" ");break}}if(Je.length>0){for(var _n=Je[0],lt=0;lt<Le.length;++lt)if(Le[lt]===_n){lt>0&&(Ue=`
`+Le[lt-1]);break}}}var dn="a promise was created in a "+ge+"handler "+Te+"but was not returned from it, see http://goo.gl/rRqMUw"+Ue;De._warn(dn,!0,me)}}function q(ce,me){var ge=ce+" is deprecated and will be removed in a future version.";return me&&(ge+=" Use "+me+" instead."),X(ge)}function X(ce,me,ge){if(ie.warnings){var De=new i(ce),Oe;if(me)ge._attachExtraTrace(De);else if(ie.longStackTraces&&(Oe=t._peekContext()))Oe.attachExtraTrace(De);else{var Te=Se(De);De.stack=Te.message+`
`+Te.stack.join(`
`)}I("warning",De)||Pe(De,"",!0)}}function Q(ce,me){for(var ge=0;ge<me.length-1;++ge)me[ge].push("From previous event:"),me[ge]=me[ge].join(`
`);return ge<me.length&&(me[ge]=me[ge].join(`
`)),ce+`
`+me.join(`
`)}function te(ce){for(var me=0;me<ce.length;++me)(ce[me].length===0||me+1<ce.length&&ce[me][0]===ce[me+1][0])&&(ce.splice(me,1),me--)}function ae(ce){for(var me=ce[0],ge=1;ge<ce.length;++ge){for(var De=ce[ge],Oe=me.length-1,Te=me[Oe],Ue=-1,Le=De.length-1;Le>=0;--Le)if(De[Le]===Te){Ue=Le;break}for(var Le=Ue;Le>=0;--Le){var Je=De[Le];if(me[Oe]===Je)me.pop(),Oe--;else break}me=De}}function ue(ce){for(var me=[],ge=0;ge<ce.length;++ge){var De=ce[ge],Oe=De==="    (No stack trace)"||h.test(De),Te=Oe&&_e(De);Oe&&!Te&&(v&&De.charAt(0)!==" "&&(De="    "+De),me.push(De))}return me}function de(ce){for(var me=ce.stack.replace(/\s+$/g,"").split(`
`),ge=0;ge<me.length;++ge){var De=me[ge];if(De==="    (No stack trace)"||h.test(De))break}return ge>0&&ce.name!="SyntaxError"&&(me=me.slice(ge)),me}function Se(ce){var me=ce.stack,ge=ce.toString();return me=typeof me=="string"&&me.length>0?de(ce):["    (No stack trace)"],{message:ge,stack:ce.name=="SyntaxError"?me:ue(me)}}function Pe(ce,me,ge){if(typeof console<"u"){var De;if(s.isObject(ce)){var Oe=ce.stack;De=me+p(Oe,ce)}else De=me+String(ce);typeof g=="function"?g(De,ge):(typeof console.log=="function"||typeof console.log=="object")&&console.log(De)}}function pe(ce,me,ge,De){var Oe=!1;try{typeof me=="function"&&(Oe=!0,ce==="rejectionHandled"?me(De):me(ge,De))}catch(Te){r.throwLater(Te)}ce==="unhandledRejection"?!I(ce,ge,De)&&!Oe&&Pe(ge,"Unhandled rejection "):I(ce,De)}function je(ce){var me;if(typeof ce=="function")me="[function "+(ce.name||"anonymous")+"]";else{me=ce&&typeof ce.toString=="function"?ce.toString():s.toString(ce);var ge=/\[object [a-zA-Z0-9$_]+\]/;if(ge.test(me))try{var De=JSON.stringify(ce);me=De}catch{}me.length===0&&(me="(empty array)")}return"(<"+V(me)+">, no stack trace)"}function V(ce){var me=41;return ce.length<me?ce:ce.substr(0,me-3)+"..."}function xe(){return typeof be=="function"}var _e=function(){return!1},le=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(ce){var me=ce.match(le);if(me)return{fileName:me[1],line:parseInt(me[2],10)}}function oe(ce,me){if(xe()){for(var ge=ce.stack.split(`
`),De=me.stack.split(`
`),Oe=-1,Te=-1,Ue,Le,Je=0;Je<ge.length;++Je){var lt=re(ge[Je]);if(lt){Ue=lt.fileName,Oe=lt.line;break}}for(var Je=0;Je<De.length;++Je){var lt=re(De[Je]);if(lt){Le=lt.fileName,Te=lt.line;break}}Oe<0||Te<0||!Ue||!Le||Ue!==Le||Oe>=Te||(_e=function(ct){if(c.test(ct))return!0;var Bt=re(ct);return!!(Bt&&Bt.fileName===Ue&&Oe<=Bt.line&&Bt.line<=Te)})}}function fe(ce){this._parent=ce,this._promisesCreated=0;var me=this._length=1+(ce===void 0?0:ce._length);be(this,fe),me>32&&this.uncycle()}s.inherits(fe,Error),e.CapturedTrace=fe,fe.prototype.uncycle=function(){var ce=this._length;if(!(ce<2)){for(var me=[],ge={},De=0,Oe=this;Oe!==void 0;++De)me.push(Oe),Oe=Oe._parent;ce=this._length=De;for(var De=ce-1;De>=0;--De){var Te=me[De].stack;ge[Te]===void 0&&(ge[Te]=De)}for(var De=0;De<ce;++De){var Ue=me[De].stack,Le=ge[Ue];if(Le!==void 0&&Le!==De){Le>0&&(me[Le-1]._parent=void 0,me[Le-1]._length=1),me[De]._parent=void 0,me[De]._length=1;var Je=De>0?me[De-1]:this;Le<ce-1?(Je._parent=me[Le+1],Je._parent.uncycle(),Je._length=Je._parent._length+1):(Je._parent=void 0,Je._length=1);for(var lt=Je._length+1,ct=De-2;ct>=0;--ct)me[ct]._length=lt,lt++;return}}}},fe.prototype.attachExtraTrace=function(ce){if(!ce.__stackCleaned__){this.uncycle();for(var me=Se(ce),ge=me.message,De=[me.stack],Oe=this;Oe!==void 0;)De.push(ue(Oe.stack.split(`
`))),Oe=Oe._parent;ae(De),te(De),s.notEnumerableProp(ce,"stack",Q(ge,De)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}};var be=(function(){var me=/^\s*at\s*/,ge=function(Ue,Le){return typeof Ue=="string"?Ue:Le.name!==void 0&&Le.message!==void 0?Le.toString():je(Le)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=me,p=ge;var De=Error.captureStackTrace;return _e=function(Ue){return c.test(Ue)},function(Ue,Le){Error.stackTraceLimit+=6,De(Ue,Le),Error.stackTraceLimit-=6}}var Oe=new Error;if(typeof Oe.stack=="string"&&Oe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=ge,v=!0,function(Le){Le.stack=new Error().stack};var Te;try{throw new Error}catch(Ue){Te="stack"in Ue}return!("stack"in Oe)&&Te&&typeof Error.stackTraceLimit=="number"?(h=me,p=ge,function(Le){Error.stackTraceLimit+=6;try{throw new Error}catch(Je){Le.stack=Je.stack}Error.stackTraceLimit-=6}):(p=function(Ue,Le){return typeof Ue=="string"?Ue:(typeof Le=="object"||typeof Le=="function")&&Le.name!==void 0&&Le.message!==void 0?Le.toString():je(Le)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ce){console.warn(ce)},s.isNode&&process.stderr.isTTY?g=function(ce,me){var ge=me?"\x1B[33m":"\x1B[31m";console.warn(ge+ce+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(ce,me){console.warn("%c"+ce,me?"color: darkorange":"color: red")}));var ie={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&t.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return z},checkForgottenReturns:j,setBounds:oe,warn:X,deprecated:q,CapturedTrace:fe,fireDomEvent:S,fireGlobalEvent:R}}),k4}var I4,DL;function u9e(){return DL||(DL=1,I4=function(t,e){var n=cr(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),I4}var R4,AL;function d9e(){return AL||(AL=1,R4=function(t){var e=cr(),n=lg().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),R4}var P4,NL;function YY(){if(NL)return P4;NL=1;var t=cr(),e=t.maybeWrapAsError,n=Qu(),r=n.OperationalError,i=lg();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return P4=l,P4}var F4,kL;function f9e(){return kL||(kL=1,F4=function(t,e,n,r,i){var s=cr(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),F4}var M4,IL;function h9e(){return IL||(IL=1,M4=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),M4}var U4,RL;function p9e(){return RL||(RL=1,U4=function(t,e,n,r){var i=cr(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),U4}var O4,PL;function m9e(){return PL||(PL=1,O4=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),O4}var L4,FL;function g9e(){return FL||(FL=1,L4=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),L4}var j4,ML;function y9e(){return ML||(ML=1,j4=function(t,e,n,r,i,s){var a=cr(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var w=new Array(x),C=0;C<w.length;++C)w[C]="this.p"+(C+1);var S=w.join(" = ")+" = null;",R=`var promise;
`+w.map(function(F){return`                                                         
	                promise = `+F+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),D=w.join(", "),k="Holder$"+x,I=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return I=I.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,D).replace(/\[TheProperties\]/g,S).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",I)(l,c,t,i)},v=[],g=[],y=[],_=0;_<8;++_)v.push(p(_+1)),g.push(f(_+1)),y.push(h(_+1));u=function(x){this._reject(x)}}t.join=function(){var x=arguments.length-1,w;if(x>0&&typeof arguments[x]=="function"&&(w=arguments[x],x<=8&&o)){var U=new t(r);U._captureStackTrace();for(var C=v[x-1],S=new C(w),R=g,D=0;D<x;++D){var k=n(arguments[D],U);if(k instanceof t){k=k._target();var I=k._bitField;(I&50397184)===0?(k._then(R[D],u,void 0,U,S),y[D](k,S),S.asyncNeeded=!1):(I&33554432)!==0?R[D].call(U,k._value(),S):(I&16777216)!==0?U._reject(k._reason()):U._cancel()}else R[D].call(U,k,S)}if(!U._isFateSealed()){if(S.asyncNeeded){var F=s();F!==null&&(S.fn=a.domainBind(F,S.fn))}U._setAsyncGuaranteed(),U._setOnCancel(S)}return U}for(var P=arguments.length,N=new Array(P),O=0;O<P;++O)N[O]=arguments[O];w&&N.pop();var U=new e(N).promise();return w!==void 0?U.spread(w):U}}),j4}var B4,UL;function v9e(){return UL||(UL=1,B4=function(t,e,n,r,i,s){var a=t._getDomain,o=cr(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var _=a();this._callback=_===null?v:o.domainBind(_,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),_=this._preservedValues,x=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return g[v]=p,this._queue.push(v),!1;_!==null&&(_[v]=p);var w=this._promise,C=this._callback,S=w._boundValue();w._pushContext();var R=l(C).call(S,p,v,y),D=w._popContext();if(s.checkForgottenReturns(R,D,_!==null?"Promise.filter":"Promise.map",w),R===c)return this._reject(R.e),!0;var k=r(R,this._promise);if(k instanceof t){k=k._target();var I=k._bitField;if((I&50397184)===0)return x>=1&&this._inFlight++,g[v]=k,k._proxy(this,(v+1)*-1),!1;if((I&33554432)!==0)R=k._value();else return(I&16777216)!==0?(this._reject(k._reason()),!0):(this._cancel(),!0)}g[v]=R}var F=++this._totalResolved;return F>=y?(_!==null?this._filter(g,_):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),_=0,x=0;x<g;++x)p[x]&&(y[_++]=v[x]);y.length=_,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var _=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));_=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return _=typeof _=="number"&&isFinite(_)&&_>=1?_:0,new f(p,v,_,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),B4}var V4,OL;function x9e(){if(OL)return V4;OL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return V4=function(r){var i=cr(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,_,x){var w=x[y];if(typeof w!="function"){if(!a(y))return null;if(w=_(y),x[y]=w,x[" size"]++,x[" size"]>512){for(var C=Object.keys(x),S=0;S<256;++S)delete x[C[S]];x[" size"]=C.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,_){var x;if(y!=null&&(x=y[_]),typeof x!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(_)+"'";throw new r.TypeError(w)}return x}function p(y){var _=this.pop(),x=h(y,_);return x.apply(y,this)}r.prototype.call=function(y){for(var _=arguments.length,x=new Array(Math.max(_-1,0)),w=1;w<_;++w)x[w-1]=arguments[w];if(s){var C=o(y);if(C!==null)return this._then(C,void 0,void 0,x,void 0)}return x.push(y),this._then(p,void 0,void 0,x,void 0)};function v(y){return y[this]}function g(y){var _=+this;return _<0&&(_=Math.max(0,_+y.length)),y[_]}r.prototype.get=function(y){var _=typeof y=="number",x;if(_)x=g;else if(s){var w=l(y);x=w!==null?w:v}else x=v;return this._then(x,void 0,void 0,y,void 0)}},V4}var W4,LL;function b9e(){return LL||(LL=1,W4=function(t,e,n,r,i,s){var a=cr(),o=Qu().TypeError,l=cr().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var C=n(w);return C!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&C._setDisposable(w._getDisposer()),C}function v(w,C){var S=0,R=w.length,D=new t(i);function k(){if(S>=R)return D._fulfill();var I=p(w[S++]);if(I instanceof t&&I._isDisposable()){try{I=n(I._getDisposer().tryDispose(C),w.promise)}catch(F){return h(F)}if(I instanceof t)return I._then(k,h,null,null,null)}k()}return k(),D}function g(w,C,S){this._data=w,this._promise=C,this._context=S}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var C=this.resource(),S=this._context;S!==void 0&&S._pushContext();var R=C!==f?this.doDispose(C,w):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,R},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,C,S){this.constructor$(w,C,S)}l(y,g),y.prototype.doDispose=function(w,C){var S=this.data();return S.call(w,w,C)};function _(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function x(w){this.length=w,this.promise=null,this[w-1]=null}x.prototype._resultCancelled=function(){for(var w=this.length,C=0;C<w;++C){var S=this[C];S instanceof t&&S.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[w-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var S,R=!0;w===2&&Array.isArray(arguments[0])?(S=arguments[0],w=S.length,R=!1):(S=arguments,w--);for(var D=new x(w),k=0;k<w;++k){var I=S[k];if(g.isDisposer(I)){var F=I;I=I.promise(),I._setDisposable(F)}else{var P=n(I);P instanceof t&&(I=P._then(_,null,null,{resources:D,index:k},void 0))}D[k]=I}for(var N=new Array(D.length),k=0;k<N.length;++k)N[k]=t.resolve(D[k]).reflect();var O=t.all(N).then(function(H){for(var G=0;G<H.length;++G){var J=H[G];if(J.isRejected())return c.e=J.error(),c;if(!J.isFulfilled()){O.cancel();return}H[G]=J.value()}U._pushContext(),C=u(C);var Z=R?C.apply(void 0,H):C(H),z=U._popContext();return s.checkForgottenReturns(Z,z,"Promise.using",U),Z}),U=O.lastly(function(){var H=new t.PromiseInspection(O);return v(D,H)});return D.promise=U,U._setOnCancel(D),U},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),W4}var q4,jL;function _9e(){return jL||(jL=1,q4=function(t,e,n){var r=cr(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),q4}var $4,BL;function w9e(){return BL||(BL=1,$4=function(t,e,n,r,i,s){var a=Qu(),o=a.TypeError,l=cr(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var _=0;_<g.length;++_){y._pushContext();var x=u(g[_])(v);if(y._popContext(),x===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var C=r(x,y);if(C instanceof t)return C}return null}function p(v,g,y,_){if(s.cancellation()){var x=new t(n),w=this._finallyPromise=new t(n);this._promise=x.lastly(function(){return w}),x._captureStackTrace(),x._setOnCancel(this)}else{var C=this._promise=new t(n);C._captureStackTrace()}this._stack=_,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var _=r(y,this._promise);if(!(_ instanceof t)&&(_=h(_,this._yieldHandlers,this._promise),_===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}_=_._target();var x=_._bitField;(x&50397184)===0?(this._yieldedPromise=_,_._proxy(this,null)):(x&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,_._value()):(x&16777216)!==0?t._async.invoke(this._promiseRejected,this,_._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,_=p,x=new Error().stack;return function(){var w=v.apply(this,arguments),C=new _(void 0,void 0,y,x),S=C.promise();return C._generator=w,C._promiseFulfilled(void 0),S}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),$4}var z4,VL;function T9e(){return VL||(VL=1,z4=function(t){var e=cr(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),z4}var H4,WL;function E9e(){return WL||(WL=1,H4=function(t,e){var n={},r=cr(),i=YY(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=Qu().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(O){return r.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function v(O){return!h.test(O)}function g(O){try{return O.__isPromisified__===!0}catch{return!1}}function y(O,U,H){var G=r.getDataPropertyOrDefault(O,U+H,u);return G?g(G):!1}function _(O,U,H){for(var G=0;G<O.length;G+=2){var J=O[G];if(H.test(J)){for(var Z=J.replace(H,""),z=0;z<O.length;z+=2)if(O[z]===Z)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",U))}}}function x(O,U,H,G){for(var J=r.inheritedDataKeys(O),Z=[],z=0;z<J.length;++z){var Y=J[z],B=O[Y],j=G===p?!0:p(Y);typeof B=="function"&&!g(B)&&!y(O,Y,U)&&G(Y,B,O,j)&&Z.push(Y,B)}return _(Z,U,H),Z}var w=function(O){return O.replace(/([$])/,"\\$")},C;{var S=function(O){for(var U=[O],H=Math.max(0,O-1-3),G=O-1;G>=H;--G)U.push(G);for(var G=O+1;G<=3;++G)U.push(G);return U},R=function(O){return r.filledRange(O,"_arg","")},D=function(O){return r.filledRange(Math.max(O,3),"_arg","")},k=function(O){return typeof O.length=="number"?Math.max(Math.min(O.length,1024),0):0};C=function(O,U,H,G,J,Z){var z=Math.max(0,k(G)-1),Y=S(z),B=typeof O=="string"||U===n;function j(te){var ae=R(te).join(", "),ue=te>0?", ":"",de;return B?de=`ret = callback.call(this, {{args}}, nodeback); break;
`:de=U===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,de.replace("{{args}}",ae).replace(", ",ue)}function q(){for(var te="",ae=0;ae<Y.length;++ae)te+="case "+Y[ae]+":"+j(Y[ae]);return te+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),te}var X=typeof O=="string"?"this != null ? this['"+O+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+Z+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",q()).replace("[GetFunctionCode]",X);return Q=Q.replace("Parameters",D(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(t,G,U,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function I(O,U,H,G,J,Z){var z=(function(){return this})(),Y=O;typeof Y=="string"&&(O=G);function B(){var j=U;U===n&&(j=this);var q=new t(e);q._captureStackTrace();var X=typeof Y=="string"&&this!==z?this[Y]:O,Q=i(q,Z);try{X.apply(j,s(arguments,Q))}catch(te){q._rejectCallback(a(te),!0,!0)}return q._isFateSealed()||q._setAsyncGuaranteed(),q}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var F=o?C:I;function P(O,U,H,G,J){for(var Z=new RegExp(w(U)+"$"),z=x(O,U,Z,H),Y=0,B=z.length;Y<B;Y+=2){var j=z[Y],q=z[Y+1],X=j+U;if(G===F)O[X]=F(j,n,j,q,U,J);else{var Q=G(q,function(){return F(j,n,j,q,U,J)});r.notEnumerableProp(Q,"__isPromisified__",!0),O[X]=Q}}return r.toFastProperties(O),O}function N(O,U,H){return F(O,U,void 0,O,null,H)}t.promisify=function(O,U){if(typeof O!="function")throw new l("expecting a function but got "+r.classString(O));if(g(O))return O;U=Object(U);var H=U.context===void 0?n:U.context,G=!!U.multiArgs,J=N(O,H,G);return r.copyDescriptors(O,J,v),J},t.promisifyAll=function(O,U){if(typeof O!="function"&&typeof O!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);U=Object(U);var H=!!U.multiArgs,G=U.suffix;typeof G!="string"&&(G=c);var J=U.filter;typeof J!="function"&&(J=p);var Z=U.promisifier;if(typeof Z!="function"&&(Z=F),!r.isIdentifier(G))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=r.inheritedDataKeys(O),Y=0;Y<z.length;++Y){var B=O[z[Y]];z[Y]!=="constructor"&&r.isClass(B)&&(P(B.prototype,G,J,Z,H),P(B,G,J,Z,H))}return P(O,G,J,Z,H)}}),H4}var G4,qL;function C9e(){return qL||(qL=1,G4=function(t,e,n,r){var i=cr(),s=i.isObject,a=lg(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var _=new Array(y.size*2);return y.forEach(v,_),_}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],_=h[g];p.set(y,_)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var _=0;_<y;++_){var x=g[_];v[_]=h[x],v[_+y]=x}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),_=0,x=this.length();_<x;++_)g[this._values[_+y]]=this._values[_]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),G4}var K4,$L;function S9e(){return $L||($L=1,K4=function(t,e,n,r){var i=cr(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),K4}var X4,zL;function D9e(){return zL||(zL=1,X4=function(t,e,n,r,i,s){var a=t._getDomain,o=cr(),l=o.tryCatch;function c(v,g,y,_){this.constructor$(v);var x=a();this._fn=x===null?g:o.domainBind(x,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,_===i?this._eachValues=Array(this._length):_===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,_=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<_;++y){var x={accum:null,value:v[y],index:y,length:_,array:this};g=g._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,_){return f(v,g,y,_)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,_){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var x=new c(v,g,y,_);return x.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,_=l(g._fn);y._pushContext();var x;g._eachValues!==void 0?x=_.call(y._boundValue(),v,this.index,this.length):x=_.call(y._boundValue(),this.accum,v,this.index,this.length),x instanceof t&&(g._currentCancellable=x);var w=y._popContext();return s.checkForgottenReturns(x,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),x}}),X4}var J4,HL;function A9e(){return HL||(HL=1,J4=function(t,e,n){var r=t.PromiseInspection,i=cr();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),J4}var Y4,GL;function N9e(){return GL||(GL=1,Y4=function(t,e,n){var r=cr(),i=Qu().RangeError,s=Qu().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),Y4}var Q4,KL;function k9e(){return KL||(KL=1,Q4=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),Q4}var Z4,XL;function I9e(){return XL||(XL=1,Z4=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),Z4}var eD,JL;function R9e(){return JL||(JL=1,eD=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),eD}var YL;function P9e(){return YL||(YL=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new N.PromiseInspection(this._target())},r=function(G){return N.reject(new h(G))};function i(){}var s={},a=cr(),o;a.isNode?o=function(){var G=process.domain;return G===void 0&&(G=null),G}:o=function(){return null},a.notEnumerableProp(N,"_getDomain",o);var l=lg(),c=s9e(),u=new c;l.defineProperty(N,"_async",{value:u});var f=Qu(),h=N.TypeError=f.TypeError;N.RangeError=f.RangeError;var p=N.CancellationError=f.CancellationError;N.TimeoutError=f.TimeoutError,N.OperationalError=f.OperationalError,N.RejectionError=f.OperationalError,N.AggregateError=f.AggregateError;var v=function(){},g={},y={},_=a9e()(N,v),x=o9e()(N,v,_,r,i),w=l9e()(N),C=w.create,S=c9e()(N,w);S.CapturedTrace;var R=u9e()(N,_),D=d9e()(y),k=YY(),I=a.errorObj,F=a.tryCatch;function P(G,J){if(typeof J!="function")throw new h("expecting a function but got "+a.classString(J));if(G.constructor!==N)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function N(G){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,G!==v&&(P(this,G),this._resolveFromExecutor(G)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(G){var J=arguments.length;if(J>1){var Z=new Array(J-1),z=0,Y;for(Y=0;Y<J-1;++Y){var B=arguments[Y];if(a.isObject(B))Z[z++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return Z.length=z,G=arguments[Y],this.then(void 0,D(Z,G,this))}return this.then(void 0,G)},N.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},N.prototype.then=function(G,J){if(S.warnings()&&arguments.length>0&&typeof G!="function"&&typeof J!="function"){var Z=".then() only accepts functions but was passed: "+a.classString(G);arguments.length>1&&(Z+=", "+a.classString(J)),this._warn(Z)}return this._then(G,J,void 0,void 0,void 0)},N.prototype.done=function(G,J){var Z=this._then(G,J,void 0,void 0,void 0);Z._setIsFinal()},N.prototype.spread=function(G){return typeof G!="function"?r("expecting a function but got "+a.classString(G)):this.all()._then(G,void 0,void 0,g,void 0)},N.prototype.toJSON=function(){var G={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(G.fulfillmentValue=this.value(),G.isFulfilled=!0):this.isRejected()&&(G.rejectionReason=this.reason(),G.isRejected=!0),G},N.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},N.prototype.error=function(G){return this.caught(a.originatesFromRejection,G)},N.getNewLibraryCopy=t.exports,N.is=function(G){return G instanceof N},N.fromNode=N.fromCallback=function(G){var J=new N(v);J._captureStackTrace();var Z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=F(G)(k(J,Z));return z===I&&J._rejectCallback(z.e,!0),J._isFateSealed()||J._setAsyncGuaranteed(),J},N.all=function(G){return new x(G).promise()},N.cast=function(G){var J=_(G);return J instanceof N||(J=new N(v),J._captureStackTrace(),J._setFulfilled(),J._rejectionHandler0=G),J},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(G){var J=new N(v);return J._captureStackTrace(),J._rejectCallback(G,!0),J},N.setScheduler=function(G){if(typeof G!="function")throw new h("expecting a function but got "+a.classString(G));return u.setScheduler(G)},N.prototype._then=function(G,J,Z,z,Y){var B=Y!==void 0,j=B?Y:new N(v),q=this._target(),X=q._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((X&50397184)!==0?z=this._boundValue():z=q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Q=o();if((X&50397184)!==0){var te,ae,ue=q._settlePromiseCtx;(X&33554432)!==0?(ae=q._rejectionHandler0,te=G):(X&16777216)!==0?(ae=q._fulfillmentHandler0,te=J,q._unsetRejectionIsUnhandled()):(ue=q._settlePromiseLateCancellationObserver,ae=new p("late cancellation observer"),q._attachExtraTrace(ae),te=J),u.invoke(ue,q,{handler:Q===null?te:typeof te=="function"&&a.domainBind(Q,te),promise:j,receiver:z,value:ae})}else q._addCallbacks(G,J,j,z,Q);return j},N.prototype._length=function(){return this._bitField&65535},N.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},N.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},N.prototype._setLength=function(G){this._bitField=this._bitField&-65536|G&65535},N.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},N.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},N.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},N.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},N.prototype._isFinal=function(){return(this._bitField&4194304)>0},N.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},N.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},N.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},N.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},N.prototype._receiverAt=function(G){var J=G===0?this._receiver0:this[G*4-4+3];if(J!==s)return J===void 0&&this._isBound()?this._boundValue():J},N.prototype._promiseAt=function(G){return this[G*4-4+2]},N.prototype._fulfillmentHandlerAt=function(G){return this[G*4-4+0]},N.prototype._rejectionHandlerAt=function(G){return this[G*4-4+1]},N.prototype._boundValue=function(){},N.prototype._migrateCallback0=function(G){G._bitField;var J=G._fulfillmentHandler0,Z=G._rejectionHandler0,z=G._promise0,Y=G._receiverAt(0);Y===void 0&&(Y=s),this._addCallbacks(J,Z,z,Y,null)},N.prototype._migrateCallbackAt=function(G,J){var Z=G._fulfillmentHandlerAt(J),z=G._rejectionHandlerAt(J),Y=G._promiseAt(J),B=G._receiverAt(J);B===void 0&&(B=s),this._addCallbacks(Z,z,Y,B,null)},N.prototype._addCallbacks=function(G,J,Z,z,Y){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=Z,this._receiver0=z,typeof G=="function"&&(this._fulfillmentHandler0=Y===null?G:a.domainBind(Y,G)),typeof J=="function"&&(this._rejectionHandler0=Y===null?J:a.domainBind(Y,J));else{var j=B*4-4;this[j+2]=Z,this[j+3]=z,typeof G=="function"&&(this[j+0]=Y===null?G:a.domainBind(Y,G)),typeof J=="function"&&(this[j+1]=Y===null?J:a.domainBind(Y,J))}return this._setLength(B+1),B},N.prototype._proxy=function(G,J){this._addCallbacks(void 0,void 0,J,G,null)},N.prototype._resolveCallback=function(G,J){if((this._bitField&117506048)===0){if(G===this)return this._rejectCallback(e(),!1);var Z=_(G,this);if(!(Z instanceof N))return this._fulfill(G);J&&this._propagateFrom(Z,2);var z=Z._target();if(z===this){this._reject(e());return}var Y=z._bitField;if((Y&50397184)===0){var B=this._length();B>0&&z._migrateCallback0(this);for(var j=1;j<B;++j)z._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((Y&33554432)!==0)this._fulfill(z._value());else if((Y&16777216)!==0)this._reject(z._reason());else{var q=new p("late cancellation observer");z._attachExtraTrace(q),this._reject(q)}}},N.prototype._rejectCallback=function(G,J,Z){var z=a.ensureErrorObject(G),Y=z===G;if(!Y&&!Z&&S.warnings()){var B="a promise was rejected with a non-error: "+a.classString(G);this._warn(B,!0)}this._attachExtraTrace(z,J?Y:!1),this._reject(G)},N.prototype._resolveFromExecutor=function(G){var J=this;this._captureStackTrace(),this._pushContext();var Z=!0,z=this._execute(G,function(Y){J._resolveCallback(Y)},function(Y){J._rejectCallback(Y,Z)});Z=!1,this._popContext(),z!==void 0&&J._rejectCallback(z,!0)},N.prototype._settlePromiseFromHandler=function(G,J,Z,z){var Y=z._bitField;if((Y&65536)===0){z._pushContext();var B;J===g?!Z||typeof Z.length!="number"?(B=I,B.e=new h("cannot .spread() a non-array: "+a.classString(Z))):B=F(G).apply(this._boundValue(),Z):B=F(G).call(J,Z);var j=z._popContext();Y=z._bitField,(Y&65536)===0&&(B===y?z._reject(Z):B===I?z._rejectCallback(B.e,!1):(S.checkForgottenReturns(B,j,"",z,this),z._resolveCallback(B)))}},N.prototype._target=function(){for(var G=this;G._isFollowing();)G=G._followee();return G},N.prototype._followee=function(){return this._rejectionHandler0},N.prototype._setFollowee=function(G){this._rejectionHandler0=G},N.prototype._settlePromise=function(G,J,Z,z){var Y=G instanceof N,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(Y&&G._invokeInternalOnCancel(),Z instanceof R&&Z.isFinallyHandler()?(Z.cancelPromise=G,F(J).call(Z,z)===I&&G._reject(I.e)):J===n?G._fulfill(n.call(Z)):Z instanceof i?Z._promiseCancelled(G):Y||G instanceof x?G._cancel():Z.cancel()):typeof J=="function"?Y?(j&&G._setAsyncGuaranteed(),this._settlePromiseFromHandler(J,Z,z,G)):J.call(Z,z,G):Z instanceof i?Z._isResolved()||((B&33554432)!==0?Z._promiseFulfilled(z,G):Z._promiseRejected(z,G)):Y&&(j&&G._setAsyncGuaranteed(),(B&33554432)!==0?G._fulfill(z):G._reject(z))},N.prototype._settlePromiseLateCancellationObserver=function(G){var J=G.handler,Z=G.promise,z=G.receiver,Y=G.value;typeof J=="function"?Z instanceof N?this._settlePromiseFromHandler(J,z,Y,Z):J.call(z,Y,Z):Z instanceof N&&Z._reject(Y)},N.prototype._settlePromiseCtx=function(G){this._settlePromise(G.promise,G.handler,G.receiver,G.value)},N.prototype._settlePromise0=function(G,J,Z){var z=this._promise0,Y=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,G,Y,J)},N.prototype._clearCallbackDataAtIndex=function(G){var J=G*4-4;this[J+2]=this[J+3]=this[J+0]=this[J+1]=void 0},N.prototype._fulfill=function(G){var J=this._bitField;if(!((J&117506048)>>>16)){if(G===this){var Z=e();return this._attachExtraTrace(Z),this._reject(Z)}this._setFulfilled(),this._rejectionHandler0=G,(J&65535)>0&&((J&134217728)!==0?this._settlePromises():u.settlePromises(this))}},N.prototype._reject=function(G){var J=this._bitField;if(!((J&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=G,this._isFinal())return u.fatalError(G,a.isNode);(J&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},N.prototype._fulfillPromises=function(G,J){for(var Z=1;Z<G;Z++){var z=this._fulfillmentHandlerAt(Z),Y=this._promiseAt(Z),B=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(Y,z,B,J)}},N.prototype._rejectPromises=function(G,J){for(var Z=1;Z<G;Z++){var z=this._rejectionHandlerAt(Z),Y=this._promiseAt(Z),B=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(Y,z,B,J)}},N.prototype._settlePromises=function(){var G=this._bitField,J=G&65535;if(J>0){if((G&16842752)!==0){var Z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Z,G),this._rejectPromises(J,Z)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,G),this._fulfillPromises(J,z)}this._setLength(0)}this._clearCancellationData()},N.prototype._settledValue=function(){var G=this._bitField;if((G&33554432)!==0)return this._rejectionHandler0;if((G&16777216)!==0)return this._fulfillmentHandler0};function O(G){this.promise._resolveCallback(G)}function U(G){this.promise._rejectCallback(G,!1)}N.defer=N.pending=function(){S.deprecated("Promise.defer","new Promise");var G=new N(v);return{promise:G,resolve:O,reject:U}},a.notEnumerableProp(N,"_makeSelfResolutionError",e),f9e()(N,v,_,r,S),h9e()(N,v,_,S),p9e()(N,x,r,S),m9e()(N),g9e()(N),y9e()(N,x,_,v,u,o),N.Promise=N,N.version="3.4.7",v9e()(N,x,r,_,v,S),x9e()(N),b9e()(N,r,_,C,v,S),_9e()(N,v,S),w9e()(N,r,v,_,i,S),T9e()(N),E9e()(N,v),C9e()(N,x,_,r),S9e()(N,v,_,r),D9e()(N,x,r,_,v,S),A9e()(N,x,S),N9e()(N,x,r),k9e()(N,v),I9e()(N,v),R9e()(N),a.toFastProperties(N),a.toFastProperties(N.prototype);function H(G){var J=new N(v);J._fulfillmentHandler0=G,J._rejectionHandler0=G,J._promise0=G,J._receiver0=G}return H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new N(v)),S.setBounds(c.firstLineError,a.lastLineError),N}})(T4)),T4.exports}var QL;function md(){if(QL)return Ja;QL=1;var t=ai,e=P9e()();Ja.defer=n,Ja.when=e.resolve,Ja.resolve=e.resolve,Ja.all=e.all,Ja.props=e.props,Ja.reject=e.reject,Ja.promisify=e.promisify,Ja.mapSeries=e.mapSeries,Ja.attempt=e.attempt,Ja.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return Ja}var Hn={},ZL;function vh(){if(ZL)return Hn;ZL=1;var t=ai,e=Hn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,R){return R=R||{},{type:e.document,children:S,notes:R.notes||new u({}),comments:R.comments||[]}}function r(S,R){R=R||{};var D=R.indent||{};return{type:e.paragraph,children:S,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:D.start||null,end:D.end||null,firstLine:D.firstLine||null,hanging:D.hanging||null}}}function i(S,R){return R=R||{},{type:e.run,children:S,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||s.baseline,font:R.font||null,fontSize:R.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S,R){return{type:e.hyperlink,children:S,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function c(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function u(S){this._notes=t.indexBy(S,function(R){return v(R.noteType,R.noteId)})}u.prototype.resolve=function(S){return this.findNoteByKey(v(S.noteType,S.noteId))},u.prototype.findNoteByKey=function(S){return this._notes[S]||null};function f(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function h(S){return{type:e.commentReference,commentId:S.commentId}}function p(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function v(S,R){return S+"-"+R}function g(S){return{type:e.image,read:function(R){return R?S.readImage(R):S.readImage().then(function(D){return Buffer.from(D)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(R){return Buffer.from(R)})},altText:S.altText,contentType:S.contentType}}function y(S,R){return R=R||{},{type:e.table,children:S,styleId:R.styleId||null,styleName:R.styleName||null}}function _(S,R){return R=R||{},{type:e.tableRow,children:S,isHeader:R.isHeader||!1}}function x(S,R){return R=R||{},{type:e.tableCell,children:S,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function w(S){return{type:e.break,breakType:S}}function C(S){return{type:e.bookmarkStart,name:S.name}}return Hn.document=Hn.Document=n,Hn.paragraph=Hn.Paragraph=r,Hn.run=Hn.Run=i,Hn.text=Hn.Text=a,Hn.tab=Hn.Tab=o,Hn.Hyperlink=l,Hn.noteReference=Hn.NoteReference=c,Hn.Notes=u,Hn.Note=f,Hn.commentReference=h,Hn.comment=p,Hn.Image=g,Hn.Table=y,Hn.TableRow=_,Hn.TableCell=x,Hn.lineBreak=w("line"),Hn.pageBreak=w("page"),Hn.columnBreak=w("column"),Hn.BookmarkStart=C,Hn.verticalAlignment=s,Hn}var dp={},ej;function Ec(){if(ej)return dp;ej=1;var t=ai;dp.Result=e,dp.success=n,dp.warning=r,dp.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return dp}var o0={},l0={},tj;function F9e(){if(tj)return l0;tj=1,l0.byteLength=o,l0.toByteArray=c,l0.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],_=g[1],x=new n(l(p,y,_)),w=0,C=_>0?y-4:y,S;for(S=0;S<C;S+=4)v=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],x[w++]=v>>16&255,x[w++]=v>>8&255,x[w++]=v&255;return _===2&&(v=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,x[w++]=v&255),_===1&&(v=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,x[w++]=v>>8&255,x[w++]=v&255),x}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,_=[],x=v;x<g;x+=3)y=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),_.push(u(y));return _.join("")}function h(p){for(var v,g=p.length,y=g%3,_=[],x=16383,w=0,C=g-y;w<C;w+=x)_.push(f(p,w,w+x>C?C:w+x));return y===1?(v=p[g-1],_.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],_.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),_.join("")}return l0}var nj;function QY(){if(nj)return o0;nj=1;var t=F9e(),e=DH();o0.openArrayBuffer=n,o0.splitPath=r,o0.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return o0}var Zx={},Ld={},c0={},rj;function ZY(){if(rj)return c0;rj=1;var t=ai;c0.Element=n,c0.element=function(s,a,o){return new n(s,a,o)},c0.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return c0}var tD={},e2={},u0={},Yl={},jd={},ij;function eT(){if(ij)return jd;ij=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return jd.assign=n,jd.find=t,jd.freeze=e,jd.MIME_TYPE=r,jd.NAMESPACE=i,jd}var sj;function J6(){if(sj)return Yl;sj=1;var t=eT(),e=t.find,n=t.NAMESPACE;function r(he){return he!==""}function i(he){return he?he.split(/[\t\n\f\r ]+/).filter(r):[]}function s(he,we){return he.hasOwnProperty(we)||(he[we]=!0),he}function a(he){if(!he)return[];var we=i(he);return Object.keys(we.reduce(s,{}))}function o(he){return function(we){return he&&he.indexOf(we)!==-1}}function l(he,we){for(var Me in he)Object.prototype.hasOwnProperty.call(he,Me)&&(we[Me]=he[Me])}function c(he,we){var Me=he.prototype;if(!(Me instanceof we)){let ft=function(){};var Ge=ft;ft.prototype=we.prototype,ft=new ft,l(Me,ft),he.prototype=Me=ft}Me.constructor!=he&&(typeof he!="function"&&console.error("unknown Class:"+he),Me.constructor=he)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,_=u.PROCESSING_INSTRUCTION_NODE=7,x=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,S=u.DOCUMENT_FRAGMENT_NODE=11,R=u.NOTATION_NODE=12,D={},k={};D.INDEX_SIZE_ERR=(k[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2);var I=D.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3);D.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7);var F=D.NOT_FOUND_ERR=(k[8]="Not found",8);D.NOT_SUPPORTED_ERR=(k[9]="Not supported",9);var P=D.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10);D.INVALID_STATE_ERR=(k[11]="Invalid state",11),D.SYNTAX_ERR=(k[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),D.NAMESPACE_ERR=(k[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(k[15]="Invalid access",15);function N(he,we){if(we instanceof Error)var Me=we;else Me=this,Error.call(this,k[he]),this.message=k[he],Error.captureStackTrace&&Error.captureStackTrace(this,N);return Me.code=he,we&&(this.message=this.message+": "+we),Me}N.prototype=Error.prototype,l(D,N);function O(){}O.prototype={length:0,item:function(he){return he>=0&&he<this.length?this[he]:null},toString:function(he,we){for(var Me=[],Ge=0;Ge<this.length;Ge++)$n(this[Ge],Me,he,we);return Me.join("")},filter:function(he){return Array.prototype.filter.call(this,he)},indexOf:function(he){return Array.prototype.indexOf.call(this,he)}};function U(he,we){this._node=he,this._refresh=we,H(this)}function H(he){var we=he._node._inc||he._node.ownerDocument._inc;if(he._inc!==we){var Me=he._refresh(he._node);if(At(he,"length",Me.length),!he.$$length||Me.length<he.$$length)for(var Ge=Me.length;Ge in he;Ge++)Object.prototype.hasOwnProperty.call(he,Ge)&&delete he[Ge];l(Me,he),he._inc=we}}U.prototype.item=function(he){return H(this),this[he]||null},c(U,O);function G(){}function J(he,we){for(var Me=he.length;Me--;)if(he[Me]===we)return Me}function Z(he,we,Me,Ge){if(Ge?we[J(we,Ge)]=Me:we[we.length++]=Me,he){Me.ownerElement=he;var ft=he.ownerDocument;ft&&(Ge&&te(ft,he,Ge),Q(ft,he,Me))}}function z(he,we,Me){var Ge=J(we,Me);if(Ge>=0){for(var ft=we.length-1;Ge<ft;)we[Ge]=we[++Ge];if(we.length=ft,he){var It=he.ownerDocument;It&&(te(It,he,Me),Me.ownerElement=null)}}else throw new N(F,new Error(he.tagName+"@"+Me))}G.prototype={length:0,item:O.prototype.item,getNamedItem:function(he){for(var we=this.length;we--;){var Me=this[we];if(Me.nodeName==he)return Me}},setNamedItem:function(he){var we=he.ownerElement;if(we&&we!=this._ownerElement)throw new N(P);var Me=this.getNamedItem(he.nodeName);return Z(this._ownerElement,this,he,Me),Me},setNamedItemNS:function(he){var we=he.ownerElement,Me;if(we&&we!=this._ownerElement)throw new N(P);return Me=this.getNamedItemNS(he.namespaceURI,he.localName),Z(this._ownerElement,this,he,Me),Me},removeNamedItem:function(he){var we=this.getNamedItem(he);return z(this._ownerElement,this,we),we},removeNamedItemNS:function(he,we){var Me=this.getNamedItemNS(he,we);return z(this._ownerElement,this,Me),Me},getNamedItemNS:function(he,we){for(var Me=this.length;Me--;){var Ge=this[Me];if(Ge.localName==we&&Ge.namespaceURI==he)return Ge}return null}};function Y(){}Y.prototype={hasFeature:function(he,we){return!0},createDocument:function(he,we,Me){var Ge=new X;if(Ge.implementation=this,Ge.childNodes=new O,Ge.doctype=Me||null,Me&&Ge.appendChild(Me),we){var ft=Ge.createElementNS(he,we);Ge.appendChild(ft)}return Ge},createDocumentType:function(he,we,Me){var Ge=new Te;return Ge.name=he,Ge.nodeName=he,Ge.publicId=we||"",Ge.systemId=Me||"",Ge}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(he,we){return oe(this,he,we)},replaceChild:function(he,we){oe(this,he,we,re),we&&this.removeChild(we)},removeChild:function(he){return ue(this,he)},appendChild:function(he){return this.insertBefore(he,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(he){return Sn(this.ownerDocument||this,this,he)},normalize:function(){for(var he=this.firstChild;he;){var we=he.nextSibling;we&&we.nodeType==p&&he.nodeType==p?(this.removeChild(we),he.appendData(we.data)):(he.normalize(),he=we)}},isSupported:function(he,we){return this.ownerDocument.implementation.hasFeature(he,we)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(he){for(var we=this;we;){var Me=we._nsMap;if(Me){for(var Ge in Me)if(Object.prototype.hasOwnProperty.call(Me,Ge)&&Me[Ge]===he)return Ge}we=we.nodeType==h?we.ownerDocument:we.parentNode}return null},lookupNamespaceURI:function(he){for(var we=this;we;){var Me=we._nsMap;if(Me&&Object.prototype.hasOwnProperty.call(Me,he))return Me[he];we=we.nodeType==h?we.ownerDocument:we.parentNode}return null},isDefaultNamespace:function(he){var we=this.lookupPrefix(he);return we==null}};function j(he){return he=="<"&&"&lt;"||he==">"&&"&gt;"||he=="&"&&"&amp;"||he=='"'&&"&quot;"||"&#"+he.charCodeAt()+";"}l(u,B),l(u,B.prototype);function q(he,we){if(we(he))return!0;if(he=he.firstChild)do if(q(he,we))return!0;while(he=he.nextSibling)}function X(){this.ownerDocument=this}function Q(he,we,Me){he&&he._inc++;var Ge=Me.namespaceURI;Ge===n.XMLNS&&(we._nsMap[Me.prefix?Me.localName:""]=Me.value)}function te(he,we,Me,Ge){he&&he._inc++;var ft=Me.namespaceURI;ft===n.XMLNS&&delete we._nsMap[Me.prefix?Me.localName:""]}function ae(he,we,Me){if(he&&he._inc){he._inc++;var Ge=we.childNodes;if(Me)Ge[Ge.length++]=Me;else{for(var ft=we.firstChild,It=0;ft;)Ge[It++]=ft,ft=ft.nextSibling;Ge.length=It,delete Ge[Ge.length]}}}function ue(he,we){var Me=we.previousSibling,Ge=we.nextSibling;return Me?Me.nextSibling=Ge:he.firstChild=Ge,Ge?Ge.previousSibling=Me:he.lastChild=Me,we.parentNode=null,we.previousSibling=null,we.nextSibling=null,ae(he.ownerDocument,he),we}function de(he){return he&&(he.nodeType===B.DOCUMENT_NODE||he.nodeType===B.DOCUMENT_FRAGMENT_NODE||he.nodeType===B.ELEMENT_NODE)}function Se(he){return he&&(pe(he)||je(he)||Pe(he)||he.nodeType===B.DOCUMENT_FRAGMENT_NODE||he.nodeType===B.COMMENT_NODE||he.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Pe(he){return he&&he.nodeType===B.DOCUMENT_TYPE_NODE}function pe(he){return he&&he.nodeType===B.ELEMENT_NODE}function je(he){return he&&he.nodeType===B.TEXT_NODE}function V(he,we){var Me=he.childNodes||[];if(e(Me,pe)||Pe(we))return!1;var Ge=e(Me,Pe);return!(we&&Ge&&Me.indexOf(Ge)>Me.indexOf(we))}function xe(he,we){var Me=he.childNodes||[];function Ge(It){return pe(It)&&It!==we}if(e(Me,Ge))return!1;var ft=e(Me,Pe);return!(we&&ft&&Me.indexOf(ft)>Me.indexOf(we))}function _e(he,we,Me){if(!de(he))throw new N(I,"Unexpected parent node type "+he.nodeType);if(Me&&Me.parentNode!==he)throw new N(F,"child not in parent");if(!Se(we)||Pe(we)&&he.nodeType!==B.DOCUMENT_NODE)throw new N(I,"Unexpected node type "+we.nodeType+" for parent node type "+he.nodeType)}function le(he,we,Me){var Ge=he.childNodes||[],ft=we.childNodes||[];if(we.nodeType===B.DOCUMENT_FRAGMENT_NODE){var It=ft.filter(pe);if(It.length>1||e(ft,je))throw new N(I,"More than one element or text in fragment");if(It.length===1&&!V(he,Me))throw new N(I,"Element in fragment can not be inserted before doctype")}if(pe(we)&&!V(he,Me))throw new N(I,"Only one element can be added and only after doctype");if(Pe(we)){if(e(Ge,Pe))throw new N(I,"Only one doctype is allowed");var hn=e(Ge,pe);if(Me&&Ge.indexOf(hn)<Ge.indexOf(Me))throw new N(I,"Doctype can only be inserted before an element");if(!Me&&hn)throw new N(I,"Doctype can not be appended since element is present")}}function re(he,we,Me){var Ge=he.childNodes||[],ft=we.childNodes||[];if(we.nodeType===B.DOCUMENT_FRAGMENT_NODE){var It=ft.filter(pe);if(It.length>1||e(ft,je))throw new N(I,"More than one element or text in fragment");if(It.length===1&&!xe(he,Me))throw new N(I,"Element in fragment can not be inserted before doctype")}if(pe(we)&&!xe(he,Me))throw new N(I,"Only one element can be added and only after doctype");if(Pe(we)){let dr=function(jn){return Pe(jn)&&jn!==Me};var an=dr;if(e(Ge,dr))throw new N(I,"Only one doctype is allowed");var hn=e(Ge,pe);if(Me&&Ge.indexOf(hn)<Ge.indexOf(Me))throw new N(I,"Doctype can only be inserted before an element")}}function oe(he,we,Me,Ge){_e(he,we,Me),he.nodeType===B.DOCUMENT_NODE&&(Ge||le)(he,we,Me);var ft=we.parentNode;if(ft&&ft.removeChild(we),we.nodeType===S){var It=we.firstChild;if(It==null)return we;var hn=we.lastChild}else It=hn=we;var an=Me?Me.previousSibling:he.lastChild;It.previousSibling=an,hn.nextSibling=Me,an?an.nextSibling=It:he.firstChild=It,Me==null?he.lastChild=hn:Me.previousSibling=hn;do{It.parentNode=he;var dr=he.ownerDocument||he;fe(It,dr)}while(It!==hn&&(It=It.nextSibling));return ae(he.ownerDocument||he,he),we.nodeType==S&&(we.firstChild=we.lastChild=null),we}function fe(he,we){if(he.ownerDocument!==we){if(he.ownerDocument=we,he.nodeType===f&&he.attributes)for(var Me=0;Me<he.attributes.length;Me++){var Ge=he.attributes.item(Me);Ge&&(Ge.ownerDocument=we)}for(var ft=he.firstChild;ft;)fe(ft,we),ft=ft.nextSibling}}function be(he,we){we.parentNode&&we.parentNode.removeChild(we),we.parentNode=he,we.previousSibling=he.lastChild,we.nextSibling=null,we.previousSibling?we.previousSibling.nextSibling=we:he.firstChild=we,he.lastChild=we,ae(he.ownerDocument,he,we);var Me=he.ownerDocument||he;return fe(we,Me),we}X.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(he,we){if(he.nodeType==S){for(var Me=he.firstChild;Me;){var Ge=Me.nextSibling;this.insertBefore(Me,we),Me=Ge}return he}return oe(this,he,we),fe(he,this),this.documentElement===null&&he.nodeType===f&&(this.documentElement=he),he},removeChild:function(he){return this.documentElement==he&&(this.documentElement=null),ue(this,he)},replaceChild:function(he,we){oe(this,he,we,re),fe(he,this),we&&this.removeChild(we),pe(he)&&(this.documentElement=he)},importNode:function(he,we){return Ln(this,he,we)},getElementById:function(he){var we=null;return q(this.documentElement,function(Me){if(Me.nodeType==f&&Me.getAttribute("id")==he)return we=Me,!0}),we},getElementsByClassName:function(he){var we=a(he);return new U(this,function(Me){var Ge=[];return we.length>0&&q(Me.documentElement,function(ft){if(ft!==Me&&ft.nodeType===f){var It=ft.getAttribute("class");if(It){var hn=he===It;if(!hn){var an=a(It);hn=we.every(o(an))}hn&&Ge.push(ft)}}}),Ge})},createElement:function(he){var we=new ie;we.ownerDocument=this,we.nodeName=he,we.tagName=he,we.localName=he,we.childNodes=new O;var Me=we.attributes=new G;return Me._ownerElement=we,we},createDocumentFragment:function(){var he=new lt;return he.ownerDocument=this,he.childNodes=new O,he},createTextNode:function(he){var we=new ge;return we.ownerDocument=this,we.appendData(he),we},createComment:function(he){var we=new De;return we.ownerDocument=this,we.appendData(he),we},createCDATASection:function(he){var we=new Oe;return we.ownerDocument=this,we.appendData(he),we},createProcessingInstruction:function(he,we){var Me=new ct;return Me.ownerDocument=this,Me.tagName=Me.nodeName=Me.target=he,Me.nodeValue=Me.data=we,Me},createAttribute:function(he){var we=new ce;return we.ownerDocument=this,we.name=he,we.nodeName=he,we.localName=he,we.specified=!0,we},createEntityReference:function(he){var we=new Je;return we.ownerDocument=this,we.nodeName=he,we},createElementNS:function(he,we){var Me=new ie,Ge=we.split(":"),ft=Me.attributes=new G;return Me.childNodes=new O,Me.ownerDocument=this,Me.nodeName=we,Me.tagName=we,Me.namespaceURI=he,Ge.length==2?(Me.prefix=Ge[0],Me.localName=Ge[1]):Me.localName=we,ft._ownerElement=Me,Me},createAttributeNS:function(he,we){var Me=new ce,Ge=we.split(":");return Me.ownerDocument=this,Me.nodeName=we,Me.name=we,Me.namespaceURI=he,Me.specified=!0,Ge.length==2?(Me.prefix=Ge[0],Me.localName=Ge[1]):Me.localName=we,Me}},c(X,B);function ie(){this._nsMap={}}ie.prototype={nodeType:f,hasAttribute:function(he){return this.getAttributeNode(he)!=null},getAttribute:function(he){var we=this.getAttributeNode(he);return we&&we.value||""},getAttributeNode:function(he){return this.attributes.getNamedItem(he)},setAttribute:function(he,we){var Me=this.ownerDocument.createAttribute(he);Me.value=Me.nodeValue=""+we,this.setAttributeNode(Me)},removeAttribute:function(he){var we=this.getAttributeNode(he);we&&this.removeAttributeNode(we)},appendChild:function(he){return he.nodeType===S?this.insertBefore(he,null):be(this,he)},setAttributeNode:function(he){return this.attributes.setNamedItem(he)},setAttributeNodeNS:function(he){return this.attributes.setNamedItemNS(he)},removeAttributeNode:function(he){return this.attributes.removeNamedItem(he.nodeName)},removeAttributeNS:function(he,we){var Me=this.getAttributeNodeNS(he,we);Me&&this.removeAttributeNode(Me)},hasAttributeNS:function(he,we){return this.getAttributeNodeNS(he,we)!=null},getAttributeNS:function(he,we){var Me=this.getAttributeNodeNS(he,we);return Me&&Me.value||""},setAttributeNS:function(he,we,Me){var Ge=this.ownerDocument.createAttributeNS(he,we);Ge.value=Ge.nodeValue=""+Me,this.setAttributeNode(Ge)},getAttributeNodeNS:function(he,we){return this.attributes.getNamedItemNS(he,we)},getElementsByTagName:function(he){return new U(this,function(we){var Me=[];return q(we,function(Ge){Ge!==we&&Ge.nodeType==f&&(he==="*"||Ge.tagName==he)&&Me.push(Ge)}),Me})},getElementsByTagNameNS:function(he,we){return new U(this,function(Me){var Ge=[];return q(Me,function(ft){ft!==Me&&ft.nodeType===f&&(he==="*"||ft.namespaceURI===he)&&(we==="*"||ft.localName==we)&&Ge.push(ft)}),Ge})}},X.prototype.getElementsByTagName=ie.prototype.getElementsByTagName,X.prototype.getElementsByTagNameNS=ie.prototype.getElementsByTagNameNS,c(ie,B);function ce(){}ce.prototype.nodeType=h,c(ce,B);function me(){}me.prototype={data:"",substringData:function(he,we){return this.data.substring(he,he+we)},appendData:function(he){he=this.data+he,this.nodeValue=this.data=he,this.length=he.length},insertData:function(he,we){this.replaceData(he,0,we)},appendChild:function(he){throw new Error(k[I])},deleteData:function(he,we){this.replaceData(he,we,"")},replaceData:function(he,we,Me){var Ge=this.data.substring(0,he),ft=this.data.substring(he+we);Me=Ge+Me+ft,this.nodeValue=this.data=Me,this.length=Me.length}},c(me,B);function ge(){}ge.prototype={nodeName:"#text",nodeType:p,splitText:function(he){var we=this.data,Me=we.substring(he);we=we.substring(0,he),this.data=this.nodeValue=we,this.length=we.length;var Ge=this.ownerDocument.createTextNode(Me);return this.parentNode&&this.parentNode.insertBefore(Ge,this.nextSibling),Ge}},c(ge,me);function De(){}De.prototype={nodeName:"#comment",nodeType:x},c(De,me);function Oe(){}Oe.prototype={nodeName:"#cdata-section",nodeType:v},c(Oe,me);function Te(){}Te.prototype.nodeType=C,c(Te,B);function Ue(){}Ue.prototype.nodeType=R,c(Ue,B);function Le(){}Le.prototype.nodeType=y,c(Le,B);function Je(){}Je.prototype.nodeType=g,c(Je,B);function lt(){}lt.prototype.nodeName="#document-fragment",lt.prototype.nodeType=S,c(lt,B);function ct(){}ct.prototype.nodeType=_,c(ct,B);function Bt(){}Bt.prototype.serializeToString=function(he,we,Me){return _n.call(he,we,Me)},B.prototype.toString=_n;function _n(he,we){var Me=[],Ge=this.nodeType==9&&this.documentElement||this,ft=Ge.prefix,It=Ge.namespaceURI;if(It&&ft==null){var ft=Ge.lookupPrefix(It);if(ft==null)var hn=[{namespace:It,prefix:null}]}return $n(this,Me,he,we,hn),Me.join("")}function dn(he,we,Me){var Ge=he.prefix||"",ft=he.namespaceURI;if(!ft||Ge==="xml"&&ft===n.XML||ft===n.XMLNS)return!1;for(var It=Me.length;It--;){var hn=Me[It];if(hn.prefix===Ge)return hn.namespace!==ft}return!0}function ur(he,we,Me){he.push(" ",we,'="',Me.replace(/[<>&"\t\n\r]/g,j),'"')}function $n(he,we,Me,Ge,ft){if(ft||(ft=[]),Ge)if(he=Ge(he),he){if(typeof he=="string"){we.push(he);return}}else return;switch(he.nodeType){case f:var It=he.attributes,hn=It.length,Ne=he.firstChild,an=he.tagName;Me=n.isHTML(he.namespaceURI)||Me;var dr=an;if(!Me&&!he.prefix&&he.namespaceURI){for(var jn,Jr=0;Jr<It.length;Jr++)if(It.item(Jr).name==="xmlns"){jn=It.item(Jr).value;break}if(!jn)for(var Yr=ft.length-1;Yr>=0;Yr--){var oi=ft[Yr];if(oi.prefix===""&&oi.namespace===he.namespaceURI){jn=oi.namespace;break}}if(jn!==he.namespaceURI)for(var Yr=ft.length-1;Yr>=0;Yr--){var oi=ft[Yr];if(oi.namespace===he.namespaceURI){oi.prefix&&(dr=oi.prefix+":"+an);break}}}we.push("<",dr);for(var ye=0;ye<hn;ye++){var ke=It.item(ye);ke.prefix=="xmlns"?ft.push({prefix:ke.localName,namespace:ke.value}):ke.nodeName=="xmlns"&&ft.push({prefix:"",namespace:ke.value})}for(var ye=0;ye<hn;ye++){var ke=It.item(ye);if(dn(ke,Me,ft)){var Ce=ke.prefix||"",Ae=ke.namespaceURI;ur(we,Ce?"xmlns:"+Ce:"xmlns",Ae),ft.push({prefix:Ce,namespace:Ae})}$n(ke,we,Me,Ge,ft)}if(an===dr&&dn(he,Me,ft)){var Ce=he.prefix||"",Ae=he.namespaceURI;ur(we,Ce?"xmlns:"+Ce:"xmlns",Ae),ft.push({prefix:Ce,namespace:Ae})}if(Ne||Me&&!/^(?:meta|link|img|br|hr|input)$/i.test(an)){if(we.push(">"),Me&&/^script$/i.test(an))for(;Ne;)Ne.data?we.push(Ne.data):$n(Ne,we,Me,Ge,ft.slice()),Ne=Ne.nextSibling;else for(;Ne;)$n(Ne,we,Me,Ge,ft.slice()),Ne=Ne.nextSibling;we.push("</",dr,">")}else we.push("/>");return;case w:case S:for(var Ne=he.firstChild;Ne;)$n(Ne,we,Me,Ge,ft.slice()),Ne=Ne.nextSibling;return;case h:return ur(we,he.name,he.value);case p:return we.push(he.data.replace(/[<&>]/g,j));case v:return we.push("<![CDATA[",he.data,"]]>");case x:return we.push("<!--",he.data,"-->");case C:var Re=he.publicId,$e=he.systemId;if(we.push("<!DOCTYPE ",he.name),Re)we.push(" PUBLIC ",Re),$e&&$e!="."&&we.push(" ",$e),we.push(">");else if($e&&$e!=".")we.push(" SYSTEM ",$e,">");else{var rt=he.internalSubset;rt&&we.push(" [",rt,"]"),we.push(">")}return;case _:return we.push("<?",he.target," ",he.data,"?>");case g:return we.push("&",he.nodeName,";");default:we.push("??",he.nodeName)}}function Ln(he,we,Me){var Ge;switch(we.nodeType){case f:Ge=we.cloneNode(!1),Ge.ownerDocument=he;case S:break;case h:Me=!0;break}if(Ge||(Ge=we.cloneNode(!1)),Ge.ownerDocument=he,Ge.parentNode=null,Me)for(var ft=we.firstChild;ft;)Ge.appendChild(Ln(he,ft,Me)),ft=ft.nextSibling;return Ge}function Sn(he,we,Me){var Ge=new we.constructor;for(var ft in we)if(Object.prototype.hasOwnProperty.call(we,ft)){var It=we[ft];typeof It!="object"&&It!=Ge[ft]&&(Ge[ft]=It)}switch(we.childNodes&&(Ge.childNodes=new O),Ge.ownerDocument=he,Ge.nodeType){case f:var hn=we.attributes,an=Ge.attributes=new G,dr=hn.length;an._ownerElement=Ge;for(var jn=0;jn<dr;jn++)Ge.setAttributeNode(Sn(he,hn.item(jn),!0));break;case h:Me=!0}if(Me)for(var Jr=we.firstChild;Jr;)Ge.appendChild(Sn(he,Jr,Me)),Jr=Jr.nextSibling;return Ge}function At(he,we,Me){he[we]=Me}try{if(Object.defineProperty){let he=function(we){switch(we.nodeType){case f:case S:var Me=[];for(we=we.firstChild;we;)we.nodeType!==7&&we.nodeType!==8&&Me.push(he(we)),we=we.nextSibling;return Me.join("");default:return we.nodeValue}};var Zt=he;Object.defineProperty(U.prototype,"length",{get:function(){return H(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return he(this)},set:function(we){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(we||String(we))&&this.appendChild(this.ownerDocument.createTextNode(we));break;default:this.data=we,this.value=we,this.nodeValue=we}}}),At=function(we,Me,Ge){we["$$"+Me]=Ge}}}catch{}return Yl.DocumentType=Te,Yl.DOMException=N,Yl.DOMImplementation=Y,Yl.Element=ie,Yl.Node=B,Yl.NodeList=O,Yl.XMLSerializer=Bt,Yl}var d0={},nD={},aj;function M9e(){return aj||(aj=1,(function(t){var e=eT().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(nD)),nD}var t2={},oj;function U9e(){if(oj)return t2;oj=1;var t=eT().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(I,F){this.message=I,this.locator=F,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(I,F,P){var N=this.domBuilder;N.startDocument(),C(F,F={}),v(I,F,P,N,this.errorHandler),N.endDocument()}};function v(I,F,P,N,O){function U(be){if(be>65535){be-=65536;var ie=55296+(be>>10),ce=56320+(be&1023);return String.fromCharCode(ie,ce)}else return String.fromCharCode(be)}function H(be){var ie=be.slice(1,-1);return Object.hasOwnProperty.call(P,ie)?P[ie]:ie.charAt(0)==="#"?U(parseInt(ie.substr(1).replace("x","0x"))):(O.error("entity not found:"+be),be)}function G(be){if(be>X){var ie=I.substring(X,be).replace(/&#?\w+;/g,H);B&&J(X),N.characters(ie,0,be-X),X=be}}function J(be,ie){for(;be>=z&&(ie=Y.exec(I));)Z=ie.index,z=Z+ie[0].length,B.lineNumber++;B.columnNumber=be-Z+1}for(var Z=0,z=0,Y=/.*(?:\r\n?|\n)|.*$/g,B=N.locator,j=[{currentNSMap:F}],q={},X=0;;){try{var Q=I.indexOf("<",X);if(Q<0){if(!I.substr(X).match(/^\s*$/)){var te=N.doc,ae=te.createTextNode(I.substr(X));te.appendChild(ae),N.currentElement=ae}return}switch(Q>X&&G(Q),I.charAt(Q+1)){case"/":var _e=I.indexOf(">",Q+3),ue=I.substring(Q+2,_e).replace(/[ \t\n\r]+$/g,""),de=j.pop();_e<0?(ue=I.substring(Q+2).replace(/[\s<].*/,""),O.error("end tag name: "+ue+" is not complete:"+de.tagName),_e=Q+1+ue.length):ue.match(/\s</)&&(ue=ue.replace(/[\s<].*/,""),O.error("end tag name: "+ue+" maybe not complete"),_e=Q+1+ue.length);var Se=de.localNSMap,Pe=de.tagName==ue,pe=Pe||de.tagName&&de.tagName.toLowerCase()==ue.toLowerCase();if(pe){if(N.endElement(de.uri,de.localName,ue),Se)for(var je in Se)Object.prototype.hasOwnProperty.call(Se,je)&&N.endPrefixMapping(je);Pe||O.fatalError("end tag name: "+ue+" is not match the current start tagName:"+de.tagName)}else j.push(de);_e++;break;case"?":B&&J(Q),_e=R(I,Q,N);break;case"!":B&&J(Q),_e=S(I,Q,N,O);break;default:B&&J(Q);var V=new D,xe=j[j.length-1].currentNSMap,_e=y(I,Q,V,xe,H,O),le=V.length;if(!V.closed&&w(I,_e,V.tagName,q)&&(V.closed=!0,P.nbsp||O.warning("unclosed xml attribute")),B&&le){for(var re=g(B,{}),oe=0;oe<le;oe++){var fe=V[oe];J(fe.offset),fe.locator=g(B,{})}N.locator=re,_(V,N,xe)&&j.push(V),N.locator=B}else _(V,N,xe)&&j.push(V);t.isHTML(V.uri)&&!V.closed?_e=x(I,_e,V.tagName,H,N):_e++}}catch(be){if(be instanceof h)throw be;O.error("element parse error: "+be),_e=-1}_e>X?X=_e:G(Math.max(Q,X)+1)}}function g(I,F){return F.lineNumber=I.lineNumber,F.columnNumber=I.columnNumber,F}function y(I,F,P,N,O,U){function H(B,j,q){P.attributeNames.hasOwnProperty(B)&&U.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,O),q)}for(var G,J,Z=++F,z=i;;){var Y=I.charAt(Z);switch(Y){case"=":if(z===s)G=I.slice(F,Z),z=o;else if(z===a)z=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===o||z===s)if(z===s&&(U.warning('attribute value must after "="'),G=I.slice(F,Z)),F=Z+1,Z=I.indexOf(Y,F),Z>0)J=I.slice(F,Z),H(G,J,F-1),z=c;else throw new Error("attribute value no end '"+Y+"' match");else if(z==l)J=I.slice(F,Z),H(G,J,F),U.warning('attribute "'+G+'" missed start quot('+Y+")!!"),F=Z+1,z=c;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:P.setTagName(I.slice(F,Z));case c:case u:case f:z=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return U.error("unexpected end of input"),z==i&&P.setTagName(I.slice(F,Z)),Z;case">":switch(z){case i:P.setTagName(I.slice(F,Z));case c:case u:case f:break;case l:case s:J=I.slice(F,Z),J.slice(-1)==="/"&&(P.closed=!0,J=J.slice(0,-1));case a:z===a&&(J=G),z==l?(U.warning('attribute "'+J+'" missed quot(")!'),H(G,J,F)):((!t.isHTML(N[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&U.warning('attribute "'+J+'" missed value!! "'+J+'" instead!!'),H(J,J,F));break;case o:throw new Error("attribute value missed!!")}return Z;case"":Y=" ";default:if(Y<=" ")switch(z){case i:P.setTagName(I.slice(F,Z)),z=u;break;case s:G=I.slice(F,Z),z=a;break;case l:var J=I.slice(F,Z);U.warning('attribute "'+J+'" missed quot(")!!'),H(G,J,F);case c:z=u;break}else switch(z){case a:P.tagName,(!t.isHTML(N[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&U.warning('attribute "'+G+'" missed value!! "'+G+'" instead2!!'),H(G,G,F),F=Z,z=s;break;case c:U.warning('attribute space is required"'+G+'"!!');case u:z=s,F=Z;break;case o:z=l,F=Z;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}Z++}}function _(I,F,P){for(var N=I.tagName,O=null,Y=I.length;Y--;){var U=I[Y],H=U.qName,G=U.value,B=H.indexOf(":");if(B>0)var J=U.prefix=H.slice(0,B),Z=H.slice(B+1),z=J==="xmlns"&&Z;else Z=H,J=null,z=H==="xmlns"&&"";U.localName=Z,z!==!1&&(O==null&&(O={},C(P,P={})),P[z]=O[z]=G,U.uri=t.XMLNS,F.startPrefixMapping(z,G))}for(var Y=I.length;Y--;){U=I[Y];var J=U.prefix;J&&(J==="xml"&&(U.uri=t.XML),J!=="xmlns"&&(U.uri=P[J||""]))}var B=N.indexOf(":");B>0?(J=I.prefix=N.slice(0,B),Z=I.localName=N.slice(B+1)):(J=null,Z=I.localName=N);var j=I.uri=P[J||""];if(F.startElement(j,Z,N,I),I.closed){if(F.endElement(j,Z,N),O)for(J in O)Object.prototype.hasOwnProperty.call(O,J)&&F.endPrefixMapping(J)}else return I.currentNSMap=P,I.localNSMap=O,!0}function x(I,F,P,N,O){if(/^(?:script|textarea)$/i.test(P)){var U=I.indexOf("</"+P+">",F),H=I.substring(F+1,U);if(/[&<]/.test(H))return/^script$/i.test(P)?(O.characters(H,0,H.length),U):(H=H.replace(/&#?\w+;/g,N),O.characters(H,0,H.length),U)}return F+1}function w(I,F,P,N){var O=N[P];return O==null&&(O=I.lastIndexOf("</"+P+">"),O<F&&(O=I.lastIndexOf("</"+P)),N[P]=O),O<F}function C(I,F){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(F[P]=I[P])}function S(I,F,P,N){var O=I.charAt(F+2);switch(O){case"-":if(I.charAt(F+3)==="-"){var U=I.indexOf("-->",F+4);return U>F?(P.comment(I,F+4,U-F-4),U+3):(N.error("Unclosed comment"),-1)}else return-1;default:if(I.substr(F+3,6)=="CDATA["){var U=I.indexOf("]]>",F+9);return P.startCDATA(),P.characters(I,F+9,U-F-9),P.endCDATA(),U+3}var H=k(I,F),G=H.length;if(G>1&&/!doctype/i.test(H[0][0])){var J=H[1][0],Z=!1,z=!1;G>3&&(/^public$/i.test(H[2][0])?(Z=H[3][0],z=G>4&&H[4][0]):/^system$/i.test(H[2][0])&&(z=H[3][0]));var Y=H[G-1];return P.startDTD(J,Z,z),P.endDTD(),Y.index+Y[0].length}}return-1}function R(I,F,P){var N=I.indexOf("?>",F);if(N){var O=I.substring(F,N).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return O?(O[0].length,P.processingInstruction(O[1],O[2]),N+2):-1}return-1}function D(){this.attributeNames={}}D.prototype={setTagName:function(I){if(!r.test(I))throw new Error("invalid tagName:"+I);this.tagName=I},addValue:function(I,F,P){if(!r.test(I))throw new Error("invalid attribute:"+I);this.attributeNames[I]=this.length,this[this.length++]={qName:I,value:F,offset:P}},length:0,getLocalName:function(I){return this[I].localName},getLocator:function(I){return this[I].locator},getQName:function(I){return this[I].qName},getURI:function(I){return this[I].uri},getValue:function(I){return this[I].value}};function k(I,F){var P,N=[],O=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(O.lastIndex=F,O.exec(I);P=O.exec(I);)if(N.push(P),P[1])return N}return t2.XMLReader=p,t2.ParseError=h,t2}var lj;function O9e(){if(lj)return d0;lj=1;var t=eT(),e=J6(),n=M9e(),r=U9e(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,_){var x=this.options,w=new o,C=x.domBuilder||new f,S=x.errorHandler,R=x.locator,D=x.xmlns||{},k=/\/x?html?$/.test(_),I=k?n.HTML_ENTITIES:n.XML_ENTITIES;R&&C.setDocumentLocator(R),w.errorHandler=u(S,C,R),w.domBuilder=x.domBuilder||C,k&&(D[""]=s.HTML),D.xml=D.xml||s.XML;var F=x.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(F(y),D,I):w.errorHandler.error("invalid doc source"),C.doc};function u(y,_,x){if(!y){if(_ instanceof f)return _;y=_}var w={},C=y instanceof Function;x=x||{};function S(R){var D=y[R];!D&&C&&(D=y.length==2?function(k){y(R,k)}:y),w[R]=D&&function(k){D("[xmldom "+R+"]	"+k+p(x))}||function(){}}return S("warning"),S("error"),S("fatalError"),w}function f(){this.cdata=!1}function h(y,_){_.lineNumber=y.lineNumber,_.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,_,x,w){var C=this.doc,S=C.createElementNS(y,x||_),R=w.length;g(this,S),this.currentElement=S,this.locator&&h(this.locator,S);for(var D=0;D<R;D++){var y=w.getURI(D),k=w.getValue(D),x=w.getQName(D),I=C.createAttributeNS(y,x);this.locator&&h(w.getLocator(D),I),I.value=I.nodeValue=k,S.setAttributeNode(I)}},endElement:function(y,_,x){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,_){},endPrefixMapping:function(y){},processingInstruction:function(y,_){var x=this.doc.createProcessingInstruction(y,_);this.locator&&h(this.locator,x),g(this,x)},ignorableWhitespace:function(y,_,x){},characters:function(y,_,x){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,_,x){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,_,x){var w=this.doc.implementation;if(w&&w.createDocumentType){var C=w.createDocumentType(y,_,x);this.locator&&h(this.locator,C),g(this,C),this.doc.doctype=C}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,_,x){return typeof y=="string"?y.substr(_,x):y.length>=_+x||_?new java.lang.String(y,_,x)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,_){y.currentElement?y.currentElement.appendChild(_):y.doc.appendChild(_)}return d0.__DOMHandler=f,d0.normalizeLineEndings=l,d0.DOMParser=c,d0}var cj;function L9e(){if(cj)return u0;cj=1;var t=J6();return u0.DOMImplementation=t.DOMImplementation,u0.XMLSerializer=t.XMLSerializer,u0.DOMParser=O9e().DOMParser,u0}var uj;function j9e(){if(uj)return e2;uj=1;var t=L9e(),e=J6();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return e2.parseFromString=n,e2.Node=e.Node,e2}var dj;function B9e(){if(dj)return tD;dj=1;var t=md(),e=ai,n=j9e(),r=ZY(),i=r.Element;tD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(_){var x=u(_);x&&g.push(x)});var y={};return e.forEach(p.attributes,function(_){y[h(_)]=_.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return tD}var rD={},Bd={},il={},fj;function gd(){return fj||(fj=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},il.assign=t,il.isFunction=i,il.isObject=s,il.isArray=n,il.isEmpty=r,il.isPlainObject=a,il.getValue=e}).call(il)),il}var I2={exports:{}},R2={exports:{}},P2={exports:{}},F2={exports:{}},V9e=F2.exports,hj;function eQ(){return hj||(hj=1,(function(){F2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(V9e)),F2.exports}var W9e=P2.exports,pj;function tT(){return pj||(pj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=gd(),i=s.isObject,r=s.isFunction,n=s.getValue,e=ga(),t=eQ(),P2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(W9e)),P2.exports}var M2={exports:{}},q9e=M2.exports,mj;function nT(){return mj||(mj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),M2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(q9e)),M2.exports}var U2={exports:{}},$9e=U2.exports,gj;function rT(){return gj||(gj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),U2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call($9e)),U2.exports}var O2={exports:{}},z9e=O2.exports,yj;function iT(){return yj||(yj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=gd().isObject,t=ga(),O2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(z9e)),O2.exports}var L2={exports:{}},j2={exports:{}},H9e=j2.exports,vj;function sT(){return vj||(vj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),j2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(H9e)),j2.exports}var B2={exports:{}},G9e=B2.exports,xj;function aT(){return xj||(xj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=gd().isObject,t=ga(),B2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(G9e)),B2.exports}var V2={exports:{}},K9e=V2.exports,bj;function oT(){return bj||(bj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),V2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(K9e)),V2.exports}var W2={exports:{}},X9e=W2.exports,_j;function lT(){return _j||(_j=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),W2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(X9e)),W2.exports}var J9e=L2.exports,wj;function cT(){return wj||(wj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=gd().isObject,i=ga(),t=sT(),n=aT(),e=oT(),r=lT(),L2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(J9e)),L2.exports}var q2={exports:{}},Y9e=q2.exports,Tj;function uT(){return Tj||(Tj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),q2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(Y9e)),q2.exports}var $2={exports:{}},Q9e=$2.exports,Ej;function dT(){return Ej||(Ej=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),$2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(Q9e)),$2.exports}var z2={exports:{}},Z9e=z2.exports,Cj;function fT(){return Cj||(Cj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),z2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(Z9e)),z2.exports}var H2={exports:{}},e7e=H2.exports,Sj;function Y6(){return Sj||(Sj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ga(),H2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(e7e)),H2.exports}var t7e=R2.exports,Dj;function ga(){return Dj||(Dj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=gd(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,R2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=tT(),t=nT(),e=rT(),n=iT(),r=cT(),o=uT(),l=dT(),a=fT(),i=Y6())}return g.prototype.element=function(y,_,x){var w,C,S,R,D,k,I,F,P,N,O;if(k=null,_===null&&x==null&&(P=[{},null],_=P[0],x=P[1]),_==null&&(_={}),_=c(_),h(_)||(N=[_,x],x=N[0],_=N[1]),y!=null&&(y=c(y)),Array.isArray(y))for(S=0,I=y.length;S<I;S++)C=y[S],k=this.element(C);else if(f(y))k=this.element(y.apply());else if(h(y)){for(D in y)if(v.call(y,D))if(O=y[D],f(O)&&(O=O.apply()),h(O)&&u(O)&&(O=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)k=this.attribute(D.substr(this.stringify.convertAttKey.length),O);else if(!this.options.separateArrayItems&&Array.isArray(O))for(R=0,F=O.length;R<F;R++)C=O[R],w={},w[D]=C,k=this.element(w);else h(O)?(k=this.element(D),k.element(O)):k=this.element(D,O)}else this.options.skipNullNodes&&x===null?k=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?k=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?k=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?k=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?k=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?k=this.instruction(y.substr(this.stringify.convertPIKey.length),x):k=this.node(y,_,x);if(k==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return k},g.prototype.insertBefore=function(y,_,x){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C),w=this.parent.element(y,_,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.insertAfter=function(y,_,x){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C+1),w=this.parent.element(y,_,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,_,x){var w,C;return y!=null&&(y=c(y)),_||(_={}),_=c(_),h(_)||(C=[_,x],x=C[0],_=C[1]),w=new s(this,y,_),x!=null&&w.text(x),this.children.push(w),w},g.prototype.text=function(y){var _;return _=new l(this,y),this.children.push(_),this},g.prototype.cdata=function(y){var _;return _=new t(this,y),this.children.push(_),this},g.prototype.comment=function(y){var _;return _=new e(this,y),this.children.push(_),this},g.prototype.commentBefore=function(y){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.commentAfter=function(y){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.raw=function(y){var _;return _=new o(this,y),this.children.push(_),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,_){var x,w,C,S,R;if(y!=null&&(y=c(y)),_!=null&&(_=c(_)),Array.isArray(y))for(S=0,R=y.length;S<R;S++)x=y[S],this.instruction(x);else if(h(y))for(x in y)v.call(y,x)&&(w=y[x],this.instruction(x,w));else f(_)&&(_=_.apply()),C=new a(this,y,_),this.children.push(C);return this},g.prototype.instructionBefore=function(y,_){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.instruction(y,_),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,_){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.instruction(y,_),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,_,x){var w,C;return w=this.document(),C=new n(w,y,_,x),w.children[0]instanceof n?w.children[0]=C:w.children.unshift(C),w.root()||w},g.prototype.doctype=function(y,_){var x,w,C,S,R,D,k,I,F,P;for(w=this.document(),C=new r(w,y,_),F=w.children,S=R=0,k=F.length;R<k;S=++R)if(x=F[S],x instanceof r)return w.children[S]=C,C;for(P=w.children,S=D=0,I=P.length;D<I;S=++D)if(x=P[S],x.isRoot)return w.children.splice(S,0,C),C;return w.children.push(C),C},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var _;return _=y.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},g.prototype.debugInfo=function(y){var _,x;return y=y||this.name,y==null&&!((_=this.parent)!=null&&_.name)?"":y==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,_,x){return this.element(y,_,x)},g.prototype.nod=function(y,_,x){return this.node(y,_,x)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,_){return this.instruction(y,_)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,_,x){return this.declaration(y,_,x)},g.prototype.dtd=function(y,_){return this.doctype(y,_)},g.prototype.e=function(y,_,x){return this.element(y,_,x)},g.prototype.n=function(y,_,x){return this.node(y,_,x)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,_){return this.instruction(y,_)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(t7e)),R2.exports}var G2={exports:{}},n7e=G2.exports,Aj;function tQ(){return Aj||(Aj=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;G2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(n7e)),G2.exports}var K2={exports:{}},X2={exports:{}},r7e=X2.exports,Nj;function nQ(){return Nj||(Nj=1,(function(){var t={}.hasOwnProperty;X2.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(r7e)),X2.exports}var i7e=K2.exports,kj;function Q6(){return kj||(kj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,_){for(var x in _)g.call(_,x)&&(y[x]=_[x]);function w(){this.constructor=y}return w.prototype=_.prototype,y.prototype=new w,y.__super__=_.prototype,y},g={}.hasOwnProperty;a=iT(),o=cT(),t=nT(),e=rT(),c=tT(),f=uT(),h=dT(),u=fT(),l=Y6(),n=sT(),r=oT(),i=aT(),s=lT(),p=nQ(),K2.exports=(function(y){v(_,y);function _(x){_.__super__.constructor.call(this,x)}return _.prototype.document=function(x){var w,C,S,R,D;for(this.textispresent=!1,R="",D=x.children,C=0,S=D.length;C<S;C++)w=D[C],!(w instanceof l)&&(R+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},_.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},_.prototype.cdata=function(x,w){return this.space(w)+"<![CDATA["+x.text+"]]>"+this.newline},_.prototype.comment=function(x,w){return this.space(w)+"<!-- "+x.text+" -->"+this.newline},_.prototype.declaration=function(x,w){var C;return C=this.space(w),C+='<?xml version="'+x.version+'"',x.encoding!=null&&(C+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(C+=' standalone="'+x.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},_.prototype.docType=function(x,w){var C,S,R,D,k;if(w||(w=0),D=this.space(w),D+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?D+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(D+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(D+=" [",D+=this.newline,k=x.children,S=0,R=k.length;S<R;S++)C=k[S],D+=(function(){switch(!1){case!(C instanceof n):return this.dtdAttList(C,w+1);case!(C instanceof r):return this.dtdElement(C,w+1);case!(C instanceof i):return this.dtdEntity(C,w+1);case!(C instanceof s):return this.dtdNotation(C,w+1);case!(C instanceof t):return this.cdata(C,w+1);case!(C instanceof e):return this.comment(C,w+1);case!(C instanceof u):return this.processingInstruction(C,w+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);D+="]"}return D+=this.spacebeforeslash+">",D+=this.newline,D},_.prototype.element=function(x,w){var C,S,R,D,k,I,F,P,N,O,U,H,G;w||(w=0),G=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),H=this.space(w),P="",P+=H+"<"+x.name,N=x.attributes;for(F in N)g.call(N,F)&&(C=N[F],P+=this.attribute(C));if(x.children.length===0||x.children.every(function(J){return J.value===""}))this.allowEmpty?P+="></"+x.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)P+=">",P+=x.children[0].value,P+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(O=x.children,R=0,k=O.length;R<k;R++)if(S=O[R],S.value!=null){this.textispresent++,G=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,H=this.space(w)),P+=">"+this.newline,U=x.children,D=0,I=U.length;D<I;D++)S=U[D],P+=(function(){switch(!1){case!(S instanceof t):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof c):return this.element(S,w+1);case!(S instanceof f):return this.raw(S,w+1);case!(S instanceof h):return this.text(S,w+1);case!(S instanceof u):return this.processingInstruction(S,w+1);case!(S instanceof l):return"";default:throw new Error("Unknown XML node type: "+S.constructor.name)}}).call(this);G&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=H+"</"+x.name+">"+this.newline}return P},_.prototype.processingInstruction=function(x,w){var C;return C=this.space(w)+"<?"+x.target,x.value&&(C+=" "+x.value),C+=this.spacebeforeslash+"?>"+this.newline,C},_.prototype.raw=function(x,w){return this.space(w)+x.value+this.newline},_.prototype.text=function(x,w){return this.space(w)+x.value+this.newline},_.prototype.dtdAttList=function(x,w){var C;return C=this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(C+=" "+x.defaultValueType),x.defaultValue&&(C+=' "'+x.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.dtdElement=function(x,w){return this.space(w)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},_.prototype.dtdEntity=function(x,w){var C;return C=this.space(w)+"<!ENTITY",x.pe&&(C+=" %"),C+=" "+x.name,x.value?C+=' "'+x.value+'"':(x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),x.nData&&(C+=" NDATA "+x.nData)),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.dtdNotation=function(x,w){var C;return C=this.space(w)+"<!NOTATION "+x.name,x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?C+=' PUBLIC "'+x.pubID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.openNode=function(x,w){var C,S,R,D;if(w||(w=0),x instanceof c){R=this.space(w)+"<"+x.name,D=x.attributes;for(S in D)g.call(D,S)&&(C=D[S],R+=this.attribute(C));return R+=(x.children?">":"/>")+this.newline,R}else return R=this.space(w)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?R+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(R+=' SYSTEM "'+x.sysID+'"'),R+=(x.children?" [":">")+this.newline,R},_.prototype.closeNode=function(x,w){switch(w||(w=0),!1){case!(x instanceof c):return this.space(w)+"</"+x.name+">"+this.newline;case!(x instanceof o):return this.space(w)+"]>"+this.newline}},_})(p)}).call(i7e)),K2.exports}var s7e=I2.exports,Ij;function a7e(){return Ij||(Ij=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=gd().isPlainObject,t=ga(),n=tQ(),e=Q6(),I2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(s7e)),I2.exports}var J2={exports:{}},o7e=J2.exports,Rj;function l7e(){return Rj||(Rj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,_,x,w,C={}.hasOwnProperty;w=gd(),_=w.isObject,y=w.isFunction,x=w.isPlainObject,g=w.getValue,c=tT(),e=nT(),n=rT(),f=uT(),v=dT(),u=fT(),o=iT(),l=cT(),r=sT(),s=aT(),i=oT(),a=lT(),t=eQ(),p=tQ(),h=Q6(),J2.exports=(function(){function S(R,D,k){var I;this.name="?xml",R||(R={}),R.writer?x(R.writer)&&(I=R.writer,R.writer=new h(I)):R.writer=new h(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=D||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.node=function(R,D,k){var I,F;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=g(R),D===null&&k==null&&(I=[{},null],D=I[0],k=I[1]),D==null&&(D={}),D=g(D),_(D)||(F=[D,k],k=F[0],D=F[1]),this.currentNode=new c(this,R,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},S.prototype.element=function(R,D,k){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(R,D,k)},S.prototype.attribute=function(R,D){var k,I;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=g(R)),_(R))for(k in R)C.call(R,k)&&(I=R[k],this.attribute(k,I));else y(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.currentNode.attributes[R]=new t(this,R,D));return this},S.prototype.text=function(R){var D;return this.openCurrent(),D=new v(this,R),this.onData(this.writer.text(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(R){var D;return this.openCurrent(),D=new e(this,R),this.onData(this.writer.cdata(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(R){var D;return this.openCurrent(),D=new n(this,R),this.onData(this.writer.comment(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(R){var D;return this.openCurrent(),D=new f(this,R),this.onData(this.writer.raw(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(R,D){var k,I,F,P,N;if(this.openCurrent(),R!=null&&(R=g(R)),D!=null&&(D=g(D)),Array.isArray(R))for(k=0,P=R.length;k<P;k++)I=R[k],this.instruction(I);else if(_(R))for(I in R)C.call(R,I)&&(F=R[I],this.instruction(I,F));else y(D)&&(D=D.apply()),N=new u(this,R,D),this.onData(this.writer.processingInstruction(N,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(R,D,k){var I;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return I=new o(this,R,D,k),this.onData(this.writer.declaration(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(R,D,k){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,D,k),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(R,D){var k;return this.openCurrent(),k=new i(this,R,D),this.onData(this.writer.dtdElement(k,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(R,D,k,I,F){var P;return this.openCurrent(),P=new r(this,R,D,k,I,F),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(R,D){var k;return this.openCurrent(),k=new s(this,!1,R,D),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(R,D){var k;return this.openCurrent(),k=new s(this,!0,R,D),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(R,D){var k;return this.openCurrent(),k=new a(this,R,D),this.onData(this.writer.dtdNotation(k,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof c&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},S.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},S.prototype.onData=function(R,D){return this.documentStarted=!0,this.onDataCallback(R,D+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(R,D,k){return this.node(R,D,k)},S.prototype.txt=function(R){return this.text(R)},S.prototype.dat=function(R){return this.cdata(R)},S.prototype.com=function(R){return this.comment(R)},S.prototype.ins=function(R,D){return this.instruction(R,D)},S.prototype.dec=function(R,D,k){return this.declaration(R,D,k)},S.prototype.dtd=function(R,D,k){return this.doctype(R,D,k)},S.prototype.e=function(R,D,k){return this.element(R,D,k)},S.prototype.n=function(R,D,k){return this.node(R,D,k)},S.prototype.t=function(R){return this.text(R)},S.prototype.d=function(R){return this.cdata(R)},S.prototype.c=function(R){return this.comment(R)},S.prototype.r=function(R){return this.raw(R)},S.prototype.i=function(R,D){return this.instruction(R,D)},S.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(R,D){return this.entity(R,D)},S.prototype.pent=function(R,D){return this.pEntity(R,D)},S.prototype.not=function(R,D){return this.notation(R,D)},S})()}).call(o7e)),J2.exports}var Y2={exports:{}},c7e=Y2.exports,Pj;function u7e(){return Pj||(Pj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,_){for(var x in _)g.call(_,x)&&(y[x]=_[x]);function w(){this.constructor=y}return w.prototype=_.prototype,y.prototype=new w,y.__super__=_.prototype,y},g={}.hasOwnProperty;a=iT(),o=cT(),t=nT(),e=rT(),c=tT(),f=uT(),h=dT(),u=fT(),l=Y6(),n=sT(),r=oT(),i=aT(),s=lT(),p=nQ(),Y2.exports=(function(y){v(_,y);function _(x,w){_.__super__.constructor.call(this,w),this.stream=x}return _.prototype.document=function(x){var w,C,S,R,D,k,I,F;for(k=x.children,C=0,R=k.length;C<R;C++)w=k[C],w.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,I=x.children,F=[],S=0,D=I.length;S<D;S++)if(w=I[S],!(w instanceof l))switch(!1){case!(w instanceof a):F.push(this.declaration(w));break;case!(w instanceof o):F.push(this.docType(w));break;case!(w instanceof e):F.push(this.comment(w));break;case!(w instanceof u):F.push(this.processingInstruction(w));break;default:F.push(this.element(w))}return F},_.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},_.prototype.cdata=function(x,w){return this.stream.write(this.space(w)+"<![CDATA["+x.text+"]]>"+this.endline(x))},_.prototype.comment=function(x,w){return this.stream.write(this.space(w)+"<!-- "+x.text+" -->"+this.endline(x))},_.prototype.declaration=function(x,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},_.prototype.docType=function(x,w){var C,S,R,D;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),D=x.children,S=0,R=D.length;S<R;S++)switch(C=D[S],!1){case!(C instanceof n):this.dtdAttList(C,w+1);break;case!(C instanceof r):this.dtdElement(C,w+1);break;case!(C instanceof i):this.dtdEntity(C,w+1);break;case!(C instanceof s):this.dtdNotation(C,w+1);break;case!(C instanceof t):this.cdata(C,w+1);break;case!(C instanceof e):this.comment(C,w+1);break;case!(C instanceof u):this.processingInstruction(C,w+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},_.prototype.element=function(x,w){var C,S,R,D,k,I,F,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+x.name),I=x.attributes;for(k in I)g.call(I,k)&&(C=I[k],this.attribute(C));if(x.children.length===0||x.children.every(function(N){return N.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),F=x.children,R=0,D=F.length;R<D;R++)switch(S=F[R],!1){case!(S instanceof t):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof c):this.element(S,w+1);break;case!(S instanceof f):this.raw(S,w+1);break;case!(S instanceof h):this.text(S,w+1);break;case!(S instanceof u):this.processingInstruction(S,w+1);break;case!(S instanceof l):break;default:throw new Error("Unknown XML node type: "+S.constructor.name)}this.stream.write(P+"</"+x.name+">")}return this.stream.write(this.endline(x))},_.prototype.processingInstruction=function(x,w){return this.stream.write(this.space(w)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},_.prototype.raw=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},_.prototype.text=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},_.prototype.dtdAttList=function(x,w){return this.stream.write(this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdElement=function(x,w){return this.stream.write(this.space(w)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdEntity=function(x,w){return this.stream.write(this.space(w)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdNotation=function(x,w){return this.stream.write(this.space(w)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},_})(p)}).call(c7e)),Y2.exports}var Fj;function d7e(){return Fj||(Fj=1,(function(){var t,e,n,r,i,s,a;a=gd(),i=a.assign,s=a.isFunction,t=a7e(),e=l7e(),r=Q6(),n=u7e(),Bd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},Bd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},Bd.stringWriter=function(o){return new r(o)},Bd.streamWriter=function(o,l){return new n(o,l)}}).call(Bd)),Bd}var Mj;function f7e(){if(Mj)return rD;Mj=1;var t=ai,e=d7e();rD.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return rD}var Uj;function rQ(){if(Uj)return Ld;Uj=1;var t=ZY();return Ld.Element=t.Element,Ld.element=t.element,Ld.text=t.text,Ld.readString=B9e().readString,Ld.writeString=f7e().writeString,Ld}var Oj;function h7e(){if(Oj)return Zx;Oj=1;var t=ai,e=md(),n=rQ();Zx.read=i,Zx.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return Zx}var n2={},Io={},r2={},Lj;function p7e(){if(Lj)return r2;Lj=1,Object.defineProperty(r2,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return r2.default=t,r2}var jj;function m7e(){if(jj)return Io;jj=1;var t=Io&&Io.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Io,"__esModule",{value:!0}),Io.hex=Io.dec=Io.codePoint=void 0;for(var e=t(p7e()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}Io.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}Io.dec=u;function f(p,v){return c(p,parseInt(v,16))}Io.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return Io}var i2={},Bj;function g7e(){if(Bj)return i2;Bj=1,i2.uriToZipEntryName=t,i2.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return i2}var Vj;function y7e(){if(Vj)return n2;Vj=1,n2.createBodyReader=a,n2._readNumberingProperties=l;var t=m7e(),e=ai,n=vh(),r=Ec().Result,i=Ec().warning,s=g7e();function a(w){return{readXmlElement:function(C){return new o(w).readXmlElement(C)},readXmlElements:function(C){return new o(w).readXmlElements(C)}}}function o(w){var C=[],S=[],R=[],D=w.relationships,k=w.contentTypes,I=w.docxFile,F=w.files,P=w.numbering,N=w.styles;function O(Te){var Ue=Te.map(U);return y(Ue)}function U(Te){if(Te.type==="element"){var Ue=je[Te.name];if(Ue)return Ue(Te);if(!Object.prototype.hasOwnProperty.call(u,Te.name)){var Le=i("An unrecognised element was ignored: "+Te.name);return f([Le])}}return h()}function H(Te){return Y(Te).map(function(Ue){return{type:"paragraphProperties",styleId:Ue.styleId,styleName:Ue.name,alignment:Te.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Ue.styleId,Te.firstOrEmpty("w:numPr"),P),indent:G(Te.firstOrEmpty("w:ind"))}})}function G(Te){return{start:Te.attributes["w:start"]||Te.attributes["w:left"],end:Te.attributes["w:end"]||Te.attributes["w:right"],firstLine:Te.attributes["w:firstLine"],hanging:Te.attributes["w:hanging"]}}function J(Te){return B(Te).map(function(Ue){var Le=Te.firstOrEmpty("w:sz").attributes["w:val"],Je=/^[0-9]+$/.test(Le)?parseInt(Le,10)/2:null;return{type:"runProperties",styleId:Ue.styleId,styleName:Ue.name,verticalAlignment:Te.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Te.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Je,isBold:z(Te.first("w:b")),isUnderline:Z(Te.first("w:u")),isItalic:z(Te.first("w:i")),isStrikethrough:z(Te.first("w:strike")),isAllCaps:z(Te.first("w:caps")),isSmallCaps:z(Te.first("w:smallCaps"))}})}function Z(Te){if(Te){var Ue=Te.attributes["w:val"];return Ue!==void 0&&Ue!=="false"&&Ue!=="0"&&Ue!=="none"}else return!1}function z(Te){if(Te){var Ue=Te.attributes["w:val"];return Ue!=="false"&&Ue!=="0"}else return!1}function Y(Te){return q(Te,"w:pStyle","Paragraph",N.findParagraphStyleById)}function B(Te){return q(Te,"w:rStyle","Run",N.findCharacterStyleById)}function j(Te){return q(Te,"w:tblStyle","Table",N.findTableStyleById)}function q(Te,Ue,Le,Je){var lt=[],ct=Te.first(Ue),Bt=null,_n=null;if(ct&&(Bt=ct.attributes["w:val"],Bt)){var dn=Je(Bt);dn?_n=dn.name:lt.push(Oe(Le,Bt))}return v({styleId:Bt,name:_n},lt)}var X={type:"unknown"};function Q(Te){var Ue=Te.attributes["w:fldCharType"];if(Ue==="begin")C.push(X),S=[];else if(Ue==="end")C.pop();else if(Ue==="separate"){var Le=ae(S.join("")),Je=Le===null?X:{type:"hyperlink",options:Le};C.pop(),C.push(Je)}return h()}function te(){var Te=e.last(C.filter(function(Ue){return Ue.type==="hyperlink"}));return Te?Te.options:null}function ae(Te){var Ue=/\s*HYPERLINK "(.*)"/.exec(Te);if(Ue)return{href:Ue[1]};var Le=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Te);return Le?{anchor:Le[1]}:null}function ue(Te){return S.push(Te.text()),h()}function de(Te){var Ue=Te.attributes["w:font"],Le=Te.attributes["w:char"],Je=t.hex(Ue,Le);return Je==null&&/^F0..$/.test(Le)&&(Je=t.hex(Ue,Le.substring(2))),Je==null?f([i("A w:sym element with an unsupported character was ignored: char "+Le+" in font "+Ue)]):p(new n.Text(Je.string))}function Se(Te){return function(Ue){var Le=Ue.attributes["w:id"];return p(new n.NoteReference({noteType:Te,noteId:Le}))}}function Pe(Te){return p(n.commentReference({commentId:Te.attributes["w:id"]}))}function pe(Te){return O(Te.children)}var je={"w:p":function(Te){var Ue=Te.firstOrEmpty("w:pPr"),Le=!!Ue.firstOrEmpty("w:rPr").first("w:del");if(Le)return Te.children.forEach(function(lt){R.push(lt)}),h();var Je=Te.children;return R.length>0&&(Je=R.concat(Je),R=[]),g.map(H(Ue),O(Je),function(lt,ct){return new n.Paragraph(ct,lt)}).insertExtra()},"w:r":function(Te){return g.map(J(Te.firstOrEmpty("w:rPr")),O(Te.children),function(Ue,Le){var Je=te();return Je!==null&&(Le=[new n.Hyperlink(Le,Je)]),new n.Run(Le,Ue)})},"w:fldChar":Q,"w:instrText":ue,"w:t":function(Te){return p(new n.Text(Te.text()))},"w:tab":function(Te){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(Te){return p(new n.Text(""))},"w:sym":de,"w:hyperlink":function(Te){var Ue=Te.attributes["r:id"],Le=Te.attributes["w:anchor"];return O(Te.children).map(function(Je){function lt(Bt){var _n=Te.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Je,e.extend({targetFrame:_n},Bt))}if(Ue){var ct=D.findTargetByRelationshipId(Ue);return Le&&(ct=s.replaceFragment(ct,Le)),lt({href:ct})}else return Le?lt({anchor:Le}):Je})},"w:tbl":V,"w:tr":_e,"w:tc":le,"w:footnoteReference":Se("footnote"),"w:endnoteReference":Se("endnote"),"w:commentReference":Pe,"w:br":function(Te){var Ue=Te.attributes["w:type"];return Ue==null||Ue==="textWrapping"?p(n.lineBreak):Ue==="page"?p(n.pageBreak):Ue==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Ue)])},"w:bookmarkStart":function(Te){var Ue=Te.attributes["w:name"];return Ue==="_GoBack"?h():p(new n.BookmarkStart({name:Ue}))},"mc:AlternateContent":function(Te){return pe(Te.first("mc:Fallback"))},"w:sdt":function(Te){return O(Te.firstOrEmpty("w:sdtContent").children)},"w:ins":pe,"w:object":pe,"w:smartTag":pe,"w:drawing":pe,"w:pict":function(Te){return pe(Te).toExtra()},"v:roundrect":pe,"v:shape":pe,"v:textbox":pe,"w:txbxContent":pe,"wp:inline":fe,"wp:anchor":fe,"v:imagedata":me,"v:group":pe,"v:rect":pe};return{readXmlElement:U,readXmlElements:O};function V(Te){var Ue=xe(Te.firstOrEmpty("w:tblPr"));return O(Te.children).flatMap(oe).flatMap(function(Le){return Ue.map(function(Je){return n.Table(Le,Je)})})}function xe(Te){return j(Te).map(function(Ue){return{styleId:Ue.styleId,styleName:Ue.name}})}function _e(Te){var Ue=Te.firstOrEmpty("w:trPr"),Le=!!Ue.first("w:tblHeader");return O(Te.children).map(function(Je){return n.TableRow(Je,{isHeader:Le})})}function le(Te){return O(Te.children).map(function(Ue){var Le=Te.firstOrEmpty("w:tcPr"),Je=Le.firstOrEmpty("w:gridSpan").attributes["w:val"],lt=Je?parseInt(Je,10):1,ct=n.TableCell(Ue,{colSpan:lt});return ct._vMerge=re(Le),ct})}function re(Te){var Ue=Te.first("w:vMerge");if(Ue){var Le=Ue.attributes["w:val"];return Le==="continue"||!Le}else return null}function oe(Te){var Ue=e.any(Te,function(lt){return lt.type!==n.types.tableRow});if(Ue)return v(Te,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Le=e.any(Te,function(lt){return e.any(lt.children,function(ct){return ct.type!==n.types.tableCell})});if(Le)return v(Te,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Je={};return Te.forEach(function(lt){var ct=0;lt.children.forEach(function(Bt){Bt._vMerge&&Je[ct]?Je[ct].rowSpan++:(Je[ct]=Bt,Bt._vMerge=!1),ct+=Bt.colSpan})}),Te.forEach(function(lt){lt.children=lt.children.filter(function(ct){return!ct._vMerge}),lt.children.forEach(function(ct){delete ct._vMerge})}),p(Te)}function fe(Te){var Ue=Te.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Ue.map(be.bind(null,Te)))}function be(Te,Ue){var Le=Te.first("wp:docPr").attributes,Je=ie(Le.descr)?Le.title:Le.descr,lt=ce(Ue);return lt===null?f([i("Could not find image file for a:blip element")]):De(lt,Je)}function ie(Te){return Te==null||/^\s*$/.test(Te)}function ce(Te){var Ue=Te.attributes["r:embed"],Le=Te.attributes["r:link"];if(Ue)return ge(Ue);if(Le){var Je=D.findTargetByRelationshipId(Le);return{path:Je,read:F.read.bind(F,Je)}}else return null}function me(Te){var Ue=Te.attributes["r:id"];return Ue?De(ge(Ue),Te.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function ge(Te){var Ue=s.uriToZipEntryName("word",D.findTargetByRelationshipId(Te));return{path:Ue,read:I.read.bind(I,Ue)}}function De(Te,Ue){var Le=k.findContentType(Te.path),Je=n.Image({readImage:Te.read,altText:Ue,contentType:Le}),lt=c[Le]?[]:i("Image of type "+Le+" is unlikely to display in web browsers");return v(Je,lt)}function Oe(Te,Ue){return i(Te+" style with ID "+Ue+" was referenced but not defined in the document")}}function l(w,C,S){var R=C.firstOrEmpty("w:ilvl").attributes["w:val"],D=C.firstOrEmpty("w:numId").attributes["w:val"];if(R!==void 0&&D!==void 0)return S.findLevel(D,R);if(w!=null){var k=S.findLevelByParagraphStyleId(w);if(k!=null)return k}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,C){return new g(w,null,C)}function g(w,C,S){this.value=w||[],this.extra=C||[],this._result=new r({element:this.value,extra:C},S),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,_(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(_(this.value,w),null,this.messages):this},g.prototype.map=function(w){var C=this._result.map(function(S){return w(S.element)});return new g(C.value,this.extra,C.messages)},g.prototype.flatMap=function(w){var C=this._result.flatMap(function(S){return w(S.element)._result});return new g(C.value.element,_(this.extra,C.value.extra),C.messages)},g.map=function(w,C,S){return new g(S(w.value,C.value),_(w.extra,C.extra),w.messages.concat(C.messages))};function y(w){var C=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),x),C.messages)}function _(w,C){return e.flatten([w,C])}function x(w){return w}return n2}var iD={},Wj;function v7e(){if(Wj)return iD;Wj=1,iD.DocumentXmlReader=n;var t=vh(),e=Ec().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return iD}var f0={},qj;function x7e(){if(qj)return f0;qj=1,f0.readRelationships=t,f0.defaultValue=new e([]),f0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return f0}var s2={},$j;function b7e(){if($j)return s2;$j=1,s2.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};s2.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return s2}var h0={},zj;function _7e(){if(zj)return h0;zj=1;var t=ai;h0.readNumberingXml=n,h0.Numbering=e,h0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var _=l.findNumberingStyleById(y.numStyleLink);return f(_.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return h0}var p0={},Hj;function w7e(){if(Hj)return p0;Hj=1,p0.readStylesXml=e,p0.Styles=t,p0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return p0}var fp={},Gj;function T7e(){if(Gj)return fp;Gj=1;var t=vh(),e=Ec().Result;fp.createFootnotesReader=n.bind(fp,"footnote"),fp.createEndnotesReader=n.bind(fp,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return fp}var sD={},Kj;function E7e(){if(Kj)return sD;Kj=1;var t=vh(),e=Ec().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return sD.createCommentsReader=n,sD}var aD={},Xj;function C7e(){if(Xj)return aD;Xj=1;var t=md();aD.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return aD}var Jj;function S7e(){if(Jj)return Jx;Jj=1,Jx.read=v,Jx._findPartPaths=g;var t=md(),e=vh(),n=Ec().Result,r=QY(),i=h7e().readXmlFromZipFile,s=y7e().createBodyReader,a=v7e().DocumentXmlReader,o=x7e(),l=b7e(),c=_7e(),u=w7e(),f=T7e(),h=E7e(),p=C7e().Files;function v(I,F){return F=F||{},t.props({contentTypes:S(I),partPaths:g(I),docxFile:I,files:F.path?p.relativeToFile(F.path):new p(null)}).also(function(P){return{styles:D(I,P.partPaths.styles)}}).also(function(P){return{numbering:R(I,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(N,O){return O?f.createFootnotesReader(N)(O):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(N,O){return O?f.createEndnotesReader(N)(O):new n([])}),comments:w(P.partPaths.comments,P,function(N,O){return O?h.createCommentsReader(N)(O):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(N){return P.endnotes.map(function(O){return new e.Notes(N.concat(O))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(N,O){return P.notes.flatMap(function(U){return P.comments.flatMap(function(H){var G=new a({bodyReader:N,notes:U,comments:H});return G.convertXmlToDocument(O)})})})})}function g(I){return k(I).then(function(F){var P=y({docxFile:I,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!I.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:C(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(I).then(function(N){function O(U){return y({docxFile:I,relationships:N,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+U,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+U+".xml"})}return{mainDocument:P,comments:O("comments"),endnotes:O("endnotes"),footnotes:O("footnotes"),numbering:O("numbering"),styles:O("styles")}})})}function y(I){var F=I.docxFile,P=I.relationships,N=I.relationshipType,O=I.basePath,U=I.fallbackPath,H=P.findTargetsByType(N),G=H.map(function(Z){return _(r.joinPath(O,Z),"/")}),J=G.filter(function(Z){return F.exists(Z)});return J.length===0?U:J[0]}function _(I,F){return I.substring(0,F.length)===F?I.substring(F.length):I}function x(I){return function(F){return i(F,I.filename).then(function(P){return P?I.readElement(P):I.defaultValue})}}function w(I,F,P){var N=x({filename:C(I),readElement:o.readRelationships,defaultValue:o.defaultValue});return N(F.docxFile).then(function(O){var U=new s({relationships:O,contentTypes:F.contentTypes,docxFile:F.docxFile,numbering:F.numbering,styles:F.styles,files:F.files});return i(F.docxFile,I).then(function(H){return P(U,H)})})}function C(I){var F=r.splitPath(I);return r.joinPath(F.dirname,"_rels",F.basename+".rels")}var S=x({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function R(I,F,P){return x({filename:F,readElement:function(N){return c.readNumberingXml(N,{styles:P})},defaultValue:c.defaultNumbering})(I)}function D(I,F){return x({filename:F,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(I)}var k=x({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return Jx}var a2={},Yj;function D7e(){if(Yj)return a2;Yj=1;var t=ai,e=md(),n=rQ();a2.writeStyleMap=a,a2.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var _={"":p};return f.write(h,n.writeString(g,_))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var _={"":p};return f.write(h,n.writeString(g,_))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return a2}var o2={},Vd={},Ql={},uu={},Qj;function iQ(){if(Qj)return uu;Qj=1;var t=pT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};uu.freshElement=n,uu.nonFreshElement=e,uu.elementWithTag=r,uu.text=i,uu.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return uu.isVoidElement=o,uu}var oD,Zj;function A7e(){if(Zj)return oD;Zj=1;var t=ai,e=iQ();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(_){l(y,_)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var _=g[g.length-1];y.type==="element"&&!y.tag.fresh&&_&&_.type==="element"&&y.tag.matchesElement(_.tag)?(y.tag.separator&&l(_.children,e.text(y.tag.separator)),y.children.forEach(function(x){l(_.children,x)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return oD=n,oD}var eB;function hT(){if(eB)return Ql;eB=1;var t=iQ();Ql.freshElement=t.freshElement,Ql.nonFreshElement=t.nonFreshElement,Ql.elementWithTag=t.elementWithTag,Ql.text=t.text,Ql.forceWrite=t.forceWrite,Ql.simplify=A7e();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return Ql.write=e,Ql}var tB;function pT(){if(tB)return Vd;tB=1;var t=ai,e=hT();Vd.topLevelElement=n,Vd.elements=r,Vd.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Vd.empty=r([]),Vd.ignore={wrap:function(){return[]}},Vd}var lD={},nB;function sQ(){return nB||(nB=1,(function(t){var e=ai,n=md(),r=hT();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(lD)),lD}var cD={},uD={},rB;function N7e(){if(rB)return uD;rB=1;var t=ai;uD.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(S,R){n[S]&&w(),c.push(S),h.open(S,R),n[S]&&o++,u=!1}function v(S){n[S]&&(o--,w()),c.pop(),h.close(S)}function g(S){x();var R=C()?S:S.replace(`
`,`
`+l);h.text(R)}function y(S,R){w(),h.selfClosing(S,R)}function _(){return c.length===0||n[c[c.length-1]]}function x(){f||(w(),f=!0)}function w(){if(f=!1,!u&&_()&&!C()){h._append(`
`);for(var S=0;S<o;S++)h._append(l)}}function C(){return t.some(c,function(S){return S==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var _=f(y);o.push("<"+g+_+">")}function c(g){o.push("</"+g+">")}function u(g,y){var _=f(y);o.push("<"+g+_+" />")}function f(g){return t.map(g,function(y,_){return" "+_+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return uD}var dD={},iB;function k7e(){if(iB)return dD;iB=1;var t=ai;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(S,R){R=R||{};var D=o[S]||function(){return{}},k=D(R,p,v);h.push({end:k.end,list:p}),k.list&&(p=k.list);var I=k.anchorPosition==="before";I&&y(R),f.push(k.start||""),I||y(R)}function y(S){S.id&&f.push('<a id="'+S.id+'"></a>')}function _(S){var R=h.pop();p=R.list;var D=t.isFunction(R.end)?R.end():R.end;f.push(D||"")}function x(S,R){g(S,R),_()}function w(S){f.push(u(S))}function C(){return f.join("")}return{asString:C,open:g,close:_,text:w,selfClosing:x}}dD.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return dD}var sB;function I7e(){if(sB)return cD;sB=1;var t=N7e(),e=k7e();cD.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return cD}var aB;function R7e(){if(aB)return o2;aB=1;var t=ai,e=md(),n=vh(),r=pT(),i=Ec(),s=sQ(),a=hT(),o=I7e();o2.DocumentConverter=l;function l(y){return{convertToHtml:function(_){var x=t.indexBy(_.type===n.types.document?_.comments:[],"commentId"),w=new c(y,x);return w.convertToHtml(_)}}}function c(y,_){var x=1,w=[],C=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var S=y.idPrefix===void 0?"":y.idPrefix,R=y.ignoreEmptyParagraphs,D=r.topLevelElement("p"),k=y.styleMap||[];function I(V){var xe=[],_e=P(V,xe,{}),le=[];v(_e,function(oe){oe.type==="deferred"&&le.push(oe)});var re={};return e.mapSeries(le,function(oe){return oe.value().then(function(fe){re[oe.id]=fe})}).then(function(){function oe(be){return p(be,function(ie){return ie.type==="deferred"?re[ie.id]:ie.children?[t.extend({},ie,{children:oe(ie.children)})]:[ie]})}var fe=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(fe,a.simplify(oe(_e))),new i.Result(fe.asString(),xe)})}function F(V,xe,_e){return p(V,function(le){return P(le,xe,_e)})}function P(V,xe,_e){if(!_e)throw new Error("options not set");var le=je[V.type];return le?le(V,xe,_e):[]}function N(V,xe,_e){return O(V,xe).wrap(function(){var le=F(V.children,xe,_e);return R?le:[a.forceWrite].concat(le)})}function O(V,xe){var _e=J(V);return _e?_e.to:(V.styleId&&xe.push(h("paragraph",V)),D)}function U(V,xe,_e){var le=function(){return F(V.children,xe,_e)},re=[];V.isSmallCaps&&re.push(H("smallCaps")),V.isAllCaps&&re.push(H("allCaps")),V.isStrikethrough&&re.push(H("strikethrough","s")),V.isUnderline&&re.push(H("underline")),V.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),V.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),V.isItalic&&re.push(H("italic","em")),V.isBold&&re.push(H("bold","strong"));var oe=r.empty,fe=J(V);return fe?oe=fe.to:V.styleId&&xe.push(h("run",V)),re.push(oe),re.forEach(function(be){le=be.wrap.bind(be,le)}),le()}function H(V,xe){var _e=G({type:V});return _e||(xe?r.element(xe,{},{fresh:!1}):r.empty)}function G(V,xe){var _e=J(V);return _e?_e.to:xe}function J(V){for(var xe=0;xe<k.length;xe++)if(k[xe].from.matches(V))return k[xe]}function Z(V){return function(xe,_e){return e.attempt(function(){return V(xe,_e)}).caught(function(le){return _e.push(i.error(le)),[]})}}function z(V){return B(V.noteType,V.noteId)}function Y(V){return j(V.noteType,V.noteId)}function B(V,xe){return q(V+"-"+xe)}function j(V,xe){return q(V+"-ref-"+xe)}function q(V){return S+V}var X=r.elements([r.element("table",{},{fresh:!0})]);function Q(V,xe,_e){return G(V,X).wrap(function(){return te(V,xe,_e)})}function te(V,xe,_e){var le=t.findIndex(V.children,function(be){return!be.type===n.types.tableRow||!be.isHeader});le===-1&&(le=V.children.length);var re;if(le===0)re=F(V.children,xe,t.extend({},_e,{isTableHeader:!1}));else{var oe=F(V.children.slice(0,le),xe,t.extend({},_e,{isTableHeader:!0})),fe=F(V.children.slice(le),xe,t.extend({},_e,{isTableHeader:!1}));re=[a.freshElement("thead",{},oe),a.freshElement("tbody",{},fe)]}return[a.forceWrite].concat(re)}function ae(V,xe,_e){var le=F(V.children,xe,_e);return[a.freshElement("tr",{},[a.forceWrite].concat(le))]}function ue(V,xe,_e){var le=_e.isTableHeader?"th":"td",re=F(V.children,xe,_e),oe={};return V.colSpan!==1&&(oe.colspan=V.colSpan.toString()),V.rowSpan!==1&&(oe.rowspan=V.rowSpan.toString()),[a.freshElement(le,oe,[a.forceWrite].concat(re))]}function de(V,xe,_e){return G(V,r.ignore).wrap(function(){var le=_[V.commentId],re=C.length+1,oe="["+g(le)+re+"]";return C.push({label:oe,comment:le}),[a.freshElement("a",{href:"#"+B("comment",V.commentId),id:j("comment",V.commentId)},[a.text(oe)])]})}function Se(V,xe,_e){var le=V.label,re=V.comment,oe=F(re.body,xe,_e).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+le)]),a.freshElement("dd",{},oe)]}function Pe(V,xe,_e){return pe(V).wrap(function(){return[]})}function pe(V){var xe=J(V);return xe?xe.to:V.breakType==="line"?r.topLevelElement("br"):r.empty}var je={document:function(V,xe,_e){var le=F(V.children,xe,_e),re=w.map(function(fe){return V.notes.resolve(fe)}),oe=F(re,xe,_e);return le.concat([a.freshElement("ol",{},oe),a.freshElement("dl",{},p(C,function(fe){return Se(fe,xe,_e)}))])},paragraph:N,run:U,text:function(V,xe,_e){return[a.text(V.value)]},tab:function(V,xe,_e){return[a.text("	")]},hyperlink:function(V,xe,_e){var le=V.anchor?"#"+q(V.anchor):V.href,re={href:le};V.targetFrame!=null&&(re.target=V.targetFrame);var oe=F(V.children,xe,_e);return[a.nonFreshElement("a",re,oe)]},bookmarkStart:function(V,xe,_e){var le=a.freshElement("a",{id:q(V.name)},[a.forceWrite]);return[le]},noteReference:function(V,xe,_e){w.push(V);var le=a.freshElement("a",{href:"#"+z(V),id:Y(V)},[a.text("["+x+++"]")]);return[a.freshElement("sup",{},[le])]},note:function(V,xe,_e){var le=F(V.body,xe,_e),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+Y(V)},[a.text("")])]),oe=le.concat([re]);return a.freshElement("li",{id:z(V)},oe)},commentReference:de,comment:Se,image:f(Z(y.convertImage||s.dataUri)),table:Q,tableRow:ae,tableCell:ue,break:Pe};return{convertToHtml:I}}var u=1;function f(y){return function(_,x,w){return[{type:"deferred",id:u++,value:function(){return y(_,x,w)}}]}}function h(y,_){return i.warning("Unrecognised "+y+" style: '"+_.styleName+"' (Style ID: "+_.styleId+")")}function p(y,_){return t.flatten(y.map(_),!0)}function v(y,_){y.forEach(function(x){_(x),x.children&&v(x.children,_)})}var g=o2.commentAuthorLabel=function(_){return _.authorInitials||""};return o2}var fD={},oB;function P7e(){if(oB)return fD;oB=1;var t=vh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return fD.convertElementToRawText=e,fD}var m0={},Ro={},hD={},pD={exports:{}},lB;function F7e(){if(lB)return pD.exports;lB=1;var t=pD.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},pD.exports}var cB;function M7e(){if(cB)return hD;cB=1;var t=F7e();return hD.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},hD}var mD={},gD={},uB;function U7e(){return uB||(uB=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(gD)),gD}var yD,dB;function Z6(){if(dB)return yD;dB=1,yD={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},yD}var vD={},fB;function aQ(){if(fB)return vD;fB=1,vD.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},vD}var xD={},hB;function O7e(){if(hB)return xD;hB=1,xD.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},xD}var pB;function oQ(){return pB||(pB=1,(function(t){var e=ai,n=U7e(),r=Z6(),i=aQ(),s=O7e();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var _=u({name:h,value:p});return f(g,_)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(x,w){var C=x.result,S=x.hasCut;if(!C.isSuccess())return{result:C,hasCut:S};var R=w(C.remaining());if(R.isCut())return{result:C,hasCut:!0};if(R.isSuccess()){var D;w.isCaptured?D=C.value().withValue(w,R.value()):D=C.value();var k=R.remaining(),I=g.to(k);return{result:r.success(D,k,I),hasCut:S}}else return S?{result:r.error(R.errors(),R.remaining()),hasCut:S}:{result:R,hasCut:S}},{result:r.success(new a,g),hasCut:!1}).result,_=g.to(y.remaining());return y.map(function(x){return x.withValue(t.sequence.source,_)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var _=t.sequence.capture(h,"main"),x=o(t.then(t.sequence(p,_),t.sequence.extract(_))),w=x(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(_){return t.then(_.rule,function(x){return function(w,C){return _.func(w,x,C)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(_){var x=_,w=h(_);if(!w.isSuccess())return w;for(var C=y(w.remaining());C.isSuccess();){var S=C.remaining(),R=x.to(C.remaining()),D=C.value();w=r.success(D(w.value(),R),S,R),C=y(w.remaining())}return C.isError()?C:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(mD)),mD}var bD={exports:{}},mB;function lQ(){if(mB)return bD.exports;mB=1,bD.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},bD.exports}var _D,gB;function cQ(){return gB||(gB=1,_D=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),_D}var wD={},yB;function L7e(){return yB||(yB=1,(function(t){var e=oQ(),n=Z6();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(_){return{name:_.name,rule:i(_.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(_){return g(c.untilExclusive(_))}function v(_){return g(c.untilInclusive(_))}function g(_){return y.bind(null,_)}function y(_,x){var w=u(x);return w.isSuccess()?_.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(wD)),wD}var TD={},vB;function j7e(){if(vB)return TD;vB=1;var t=cQ(),e=lQ();TD.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return TD}var xB;function uQ(){return xB||(xB=1,Ro.Parser=M7e().Parser,Ro.rules=oQ(),Ro.errors=aQ(),Ro.results=Z6(),Ro.StringSource=lQ(),Ro.Token=cQ(),Ro.bottomUp=L7e(),Ro.RegexTokeniser=j7e().RegexTokeniser,Ro.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Ro}var Xi={},bB;function B7e(){if(bB)return Xi;bB=1,Xi.paragraph=t,Xi.run=e,Xi.table=n,Xi.bold=new r("bold"),Xi.italic=new r("italic"),Xi.underline=new r("underline"),Xi.strikethrough=new r("strikethrough"),Xi.allCaps=new r("allCaps"),Xi.smallCaps=new r("smallCaps"),Xi.commentReference=new r("commentReference"),Xi.lineBreak=new r("break",{breakType:"line"}),Xi.pageBreak=new r("break",{breakType:"page"}),Xi.columnBreak=new r("break",{breakType:"column"}),Xi.equalTo=s,Xi.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return Xi}var ED={},_B;function V7e(){if(_B)return ED;_B=1;var t=uQ(),e=t.RegexTokeniser;ED.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return ED}var wB;function W7e(){if(wB)return m0;wB=1;var t=ai,e=uQ(),n=B7e(),r=pT(),i=V7e().tokenise,s=Ec();m0.readHtmlPath=u,m0.readDocumentMatcher=l,m0.readStyle=a;function a(k){return C(D,k)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(k,I){return{from:k,to:I.valueOrElse(r.empty)}})}function l(k){return C(c(),k)}function c(){var k=e.rules.sequence,I=function(de,Se){return e.rules.then(e.rules.token("identifier",de),function(){return Se})},F=I("p",n.paragraph),P=I("r",n.run),N=e.rules.firstOf("p or r or table",F,P),O=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(de){return{styleId:de}}),U=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(de){return{styleName:n.equalTo(de)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(de){return{styleName:n.startsWith(de)}})),H=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(U),e.rules.tokenOfType("close-square-bracket")).head(),G=e.rules.firstOf("list type",I("ordered-list",{isOrdered:!0}),I("unordered-list",{isOrdered:!1})),J=k(e.rules.tokenOfType("colon"),k.capture(G),k.cut(),e.rules.tokenOfType("open-paren"),k.capture(p),e.rules.tokenOfType("close-paren")).map(function(de,Se){return{list:{isOrdered:de.isOrdered,levelIndex:Se-1}}});function Z(de){var Se=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(de)),Pe=e.rules.zeroOrMore(Se);return e.rules.then(Pe,function(pe){var je={};return pe.forEach(function(V){t.extend(je,V)}),je})}var z=k(k.capture(N),k.capture(Z([O,H,J]))).map(function(de,Se){return de(Se)}),Y=k(e.rules.token("identifier","table"),k.capture(Z([O,H]))).map(function(de){return n.table(de)}),B=I("b",n.bold),j=I("i",n.italic),q=I("u",n.underline),X=I("strike",n.strikethrough),Q=I("all-caps",n.allCaps),te=I("small-caps",n.smallCaps),ae=I("comment-reference",n.commentReference),ue=k(e.rules.token("identifier","br"),k.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),k.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(de){switch(de){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",z,Y,B,j,q,X,Q,te,ae,ue)}function u(k){return C(f(),k)}function f(){var k=e.rules.sequence.capture,I=e.rules.tokenOfType("whitespace"),F=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(U){return U.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),k(v),e.rules.tokenOfType("close-paren")).head()),function(U){return U.valueOrElse("")}),N=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),O=e.rules.sequence(k(N),k(e.rules.zeroOrMore(w)),k(F),k(P)).map(function(U,H,G,J){var Z={},z={};return H.forEach(function(Y){Y.append&&Z[Y.name]?Z[Y.name]+=" "+Y.value:Z[Y.name]=Y.value}),G&&(z.fresh=!0),J&&(z.separator=J),r.element(U,Z,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(O,e.rules.sequence(I,e.rules.tokenOfType("gt"),I)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(k){return k.replace(/\\(.)/g,function(I,F){return g[F]||F})}var _=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(k,I){return{name:k,value:I,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(k){return{name:"class",value:k,append:!0}}),w=e.rules.firstOf("attribute or class",_,x);function C(k,I){var F=i(I),P=e.Parser(),N=P.parseTokens(k,F);return N.isSuccess()?s.success(N.value()):new s.Result(null,[s.warning(S(I,N))])}function S(k,I){return"Did not understand this style mapping, so ignored it: "+k+`
`+I.errors().map(R).join(`
`)}function R(k){return"Error was at character number "+k.characterNumber()+": Expected "+k.expected+" but got "+k.actual}var D=o();return m0}var g0={},TB;function q7e(){if(TB)return g0;TB=1,g0.readOptions=r;var t=ai,e=g0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=g0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return g0}var CD={},EB;function $7e(){if(EB)return CD;EB=1;var t=md(),e=QY();CD.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return CD}var Wd={},CB;function z7e(){if(CB)return Wd;CB=1;var t=ai;Wd.paragraph=e,Wd.run=n,Wd._elements=i,Wd.getDescendantsOfType=s,Wd.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return Wd}var SD={},SB;function H7e(){if(SB)return SD;SB=1;var t=pT(),e=hT();SD.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return SD}var DB;function G7e(){if(DB)return Xa;DB=1;var t=ai,e=S7e(),n=D7e(),r=R7e().DocumentConverter,i=P7e().convertElementToRawText,s=W7e().readStyle,a=q7e().readOptions,o=$7e(),l=Ec().Result;Xa.convertToHtml=c,Xa.convertToMarkdown=u,Xa.convert=f,Xa.extractRawText=g,Xa.images=sQ(),Xa.transforms=z7e(),Xa.underline=H7e(),Xa.embedStyleMap=y,Xa.readEmbeddedStyleMap=h;function c(_,x){return f(_,x)}function u(_,x){var w=Object.create(x||{});return w.outputFormat="markdown",f(_,w)}function f(_,x){return x=a(x),o.openZip(_).tap(function(w){return n.readStyleMap(w).then(function(C){x.embeddedStyleMap=C})}).then(function(w){return e.read(w,_).then(function(C){return C.map(x.transformDocument)}).then(function(C){return p(C,x)})})}function h(_){return o.openZip(_).then(n.readStyleMap)}function p(_,x){var w=v(x.readStyleMap()),C=t.extend({},x,{styleMap:w.value}),S=new r(C);return _.flatMapThen(function(R){return w.flatMapThen(function(D){return S.convertToHtml(R)})})}function v(_){return l.combine((_||[]).map(s)).map(function(x){return x.filter(function(w){return!!w})})}function g(_){return o.openZip(_).then(e.read).then(function(x){return x.map(i)})}function y(_,x){return o.openZip(_).tap(function(w){return n.writeStyleMap(w,x)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return Xa.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Xa}var K7e=G7e();const X7e={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},AB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},J7e={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},Y7e=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),dQ=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=Nr(),{cafes:i,codes:s}=sn(),a=W.useMemo(()=>s.map(V=>V.key),[s]),[o,l]=W.useState("visual"),[c,u]=W.useState(t.body),[f,h]=W.useState(t.styles),[p,v]=W.useState((e==null?void 0:e.name)||t.name),[g,y]=W.useState((e==null?void 0:e.description)||""),[_,x]=W.useState((e==null?void 0:e.tags)||""),w=W.useRef(null),C=W.useRef(null),S=W.useRef(null),[R,D]=W.useState(!1),k=W.useRef(null),I=W.useRef(null),F=W.useRef(null),[P,N]=W.useState(!1),[O,U]=W.useState(""),[H,G]=W.useState(!1),[J,Z]=W.useState(!1),[z,Y]=W.useState(!1),[B,j]=W.useState(null),q=W.useRef(null),X=W.useRef(!1);W.useEffect(()=>{const V=xe=>{q.current&&!q.current.contains(xe.target)&&Z(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),W.useEffect(()=>{if(o==="visual"){const V=w.current;if(V){const xe=V.contentDocument;if(xe){const _e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;xe.open(),xe.write(_e),xe.close(),xe.body.contentEditable="true"}}}else if(o==="grapesjs"&&!S.current&&C.current){const V=grapesjs.init({container:C.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:X7e});V.setComponents(c),V.setStyle(f),S.current=V}},[o,c,f]);const Q=W.useCallback(V=>{var _e,le;const xe=(_e=w.current)==null?void 0:_e.contentDocument;if(xe)for(const[re,oe]of Object.entries(J7e)){const fe=V.match(oe);if(fe){if(re==="replaceImage"){const be=xe.getSelection();if(be&&!be.isCollapsed&&be.rangeCount>0){const ce=be.getRangeAt(0).commonAncestorContainer;let me=null;ce.nodeName==="IMG"?me=ce:ce.nodeType===Node.ELEMENT_NODE&&(me=ce.querySelector("img")),me&&(F.current=me,(le=I.current)==null||le.click())}return}if(re==="foreColor"||re==="backColor"){const be=fe.find(ie=>ie&&AB[ie]);if(be){const ie=AB[be],ce=re==="foreColor"?"foreColor":"hiliteColor",me=xe.getSelection();ce==="hiliteColor"&&(me!=null&&me.isCollapsed)?xe.body.style.backgroundColor=ie:xe.execCommand(ce,!1,ie)}}else xe.execCommand(re,!1,void 0);return}}},[]);W.useEffect(()=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V)return k.current=new V,k.current.continuous=!0,k.current.interimResults=!1,k.current.lang="ar-SA",k.current.onstart=()=>{X.current=!0,D(!0)},k.current.onend=()=>{if(X.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{k.current.start()}catch(xe){console.error("Could not restart speech recognition:",xe),X.current=!1,D(!1)}}else D(!1)},k.current.onerror=xe=>{console.error("Speech error:",xe.error),X.current=!1,D(!1)},k.current.onresult=xe=>{let _e="";for(let le=xe.resultIndex;le<xe.results.length;++le)xe.results[le].isFinal&&(_e+=xe.results[le][0].transcript);_e.trim()&&Q(_e.trim())},()=>{X.current=!1,k.current&&k.current.abort()}},[Q]);const te=()=>{var V;o==="visual"&&w.current?(u(((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&S.current&&(u(S.current.getHtml()),h(S.current.getCss()),S.current.destroy(),S.current=null,l("visual"))},ae=async()=>{var V;N(!0),U("");try{let xe=c,_e=f;o==="grapesjs"&&S.current?(xe=S.current.getHtml(),_e=S.current.getCss()):o==="visual"&&w.current&&(xe=((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c);const le=J0(xe);await Mme({previewHtml:xe,templateHtml:xe,sharedStyles:_e,fileNameBase:e?e.id:Y7e(p),docToEdit:e,prompt:p,description:g,tags:_,requiredFields:le,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(xe){console.error("Publishing error:",xe),U(xe instanceof Error?xe.message:"     .")}finally{N(!1)}},ue=V=>{var _e;const xe=(_e=V.target.files)==null?void 0:_e[0];if(xe&&F.current){const le=new FileReader;le.onload=re=>{var oe;F.current&&((oe=re.target)!=null&&oe.result)&&(F.current.src=re.target.result),F.current=null,V.target&&(V.target.value="")},le.readAsDataURL(xe)}},de=()=>{const V=w.current;if(V&&V.contentDocument){const xe=window.open("","_blank");xe==null||xe.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${V.contentDocument.body.innerHTML}</body></html>`),xe==null||xe.document.close(),xe==null||xe.focus(),xe==null||xe.print()}},Se=()=>{k.current&&(R?(X.current=!1,k.current.stop()):(X.current=!0,k.current.start()))},Pe=async()=>{var V,xe;Z(!1),Y(!0),U("");try{const _e=((xe=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:xe.body.innerHTML)||c,le=Tge(_e,a);u("");for await(const re of le)u(oe=>oe+re)}catch(_e){U(_e instanceof Error?_e.message:"AI task failed.")}finally{Y(!1)}},pe=async()=>{var V,xe;Z(!1),Y(!0),U("");try{const _e=((xe=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:xe.body.innerHTML)||c,le=await Ege(_e);j(JSON.stringify(le,null,2))}catch(_e){U(_e instanceof Error?_e.message:"AI task failed.")}finally{Y(!1)}},je=()=>{if(!B)return;const V=new Blob([B],{type:"application/json"}),xe=URL.createObjectURL(V),_e=document.createElement("a");_e.href=xe,_e.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(xe)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:I,onChange:ue,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Se,className:`p-2 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:R?d.jsx(_c,{}):d.jsx(aI,{})}),d.jsxs("div",{className:"relative",ref:q,children:[d.jsx("button",{onClick:()=>Z(V=>!V),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:z,children:z?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{})}),J&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Pe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:pe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>G(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(UH,{})})]}),d.jsx("button",{onClick:te,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(_w,{}):d.jsx(KA,{})}),d.jsxs("button",{onClick:de,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(Ew,{})," "]}),d.jsxs("button",{onClick:ae,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Cw,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(jf,{})," "]})]})]}),O&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:O}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:C,className:"h-full",id:"gjs-editor"})}),H&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>G(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:V=>V.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(jf,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:V=>v(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:V=>y(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:_,onChange:V=>x(V.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>G(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:je,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},Q7e=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},Z7e=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=Q7e(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},eMe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},tMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],nMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:tMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),rMe=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState(null),[o,l]=W.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};W.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(_=>_.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},iMe=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=Nr(),{cafes:s,documentCommands:a}=sn(),o=W.useRef(null),[l,c]=W.useState((t==null?void 0:t.name)||" "),[u,f]=W.useState(!1),[h,p]=W.useState(""),[v,g]=W.useState(!1),[y,_]=W.useState(!1),x=W.useRef(null),[w,C]=W.useState(!1),[S,R]=W.useState({top:0,left:0,visible:!1,component:null,type:null}),D=W.useRef(null),[k,I]=W.useState(""),F=W.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(F==null?void 0:F.speechToTextLanguage)||"ar-SA",N=window.SpeechRecognition||window.webkitSpeechRecognition,O=W.useRef(null),U=W.useRef(!1),H=W.useCallback(j=>{if(!a||!r.current)return;const q=r.current,X=q.getRichTextEditor(),Q=Z7e(j,a);let te=q.getSelected();if(!te&&Q.targetText){const ae=q.getComponents(),ue=(de,Se)=>{var Pe;for(const pe of de.models){if((Pe=pe.get("content"))!=null&&Pe.includes(Se))return pe;const je=ue(pe.components(),Se);if(je)return je}return null};te=ue(ae,Q.targetText),te&&q.select(te)}te||(te=D.current);for(const ae of Q.actions)switch(ae.intent){case"color":{let ue=ae.value;if(ue==="random"){const de=Object.keys(a.colors);ue=de[Math.floor(Math.random()*de.length)]}te&&te.setStyle({...te.getStyle(),color:ue});break}case"size":{if(te){const ue=te.getStyle(),de=ae.value;if(de.startsWith("+")||de.startsWith("-")){const Se=parseInt(ue["font-size"]||"16px",10),Pe=parseInt(de,10);te.setStyle({...ue,"font-size":`${Se+Pe}px`})}else te.setStyle({...ue,"font-size":de})}break}case"align":te&&te.setStyle({...te.getStyle(),"text-align":ae.value});break;case"bold":if(te){const ue=te.getStyle()["font-weight"]==="bold";te.setStyle({...te.getStyle(),"font-weight":ue?"normal":"bold"})}break;case"replace":ae.newText&&X&&X.insertHTML(ae.newText);break;case"delete":te?te.remove():X&&X.exec("delete");break;case"copy":te&&I(te.toHTML());break;case"paste":if(k)if(ae.pasteTarget&&ae.pastePosition){const ue=q.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let de=!1;ue.forEach(Se=>{var Pe;if(!de&&(Pe=Se.get("content"))!=null&&Pe.includes(ae.pasteTarget)){const pe=Se.parent(),je=Se.index();pe.append(k,{at:ae.pastePosition==="after"?je+1:je}),de=!0}})}else X.insertHTML(k);break;case"createList":{const ue=ae.listType==="numbered"?"ol":"ul";let de=`<${ue}>`;ae.listItems&&ae.listItems.length>0?de+=ae.listItems.map(Se=>`<li>${Se}</li>`).join(""):de+="<li> </li>",de+=`</${ue}>`,X.insertHTML(de);break}case"addListItem":{const ue=q.getSelected(),de=ue==null?void 0:ue.closest("ul, ol");de&&de.append(`<li>${ae.value||" "}</li>`);break}case"newLine":{const ue=q.getSelected(),de=ue==null?void 0:ue.closest("ul, ol");de&&de.append("<li></li>");break}}te&&(D.current=te)},[a,r,k]);W.useEffect(()=>{if(!N)return;const j=new N;return O.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>C(!0),j.onend=()=>{if(U.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(q){console.error("Document Studio: Could not restart recognition",q),U.current=!1,C(!1)}}else C(!1)},j.onresult=q=>{const X=q.results[q.results.length-1][0].transcript.trim();X&&H(X)},j.onerror=q=>{console.error("Speech recognition error:",q.error),U.current=!1,C(!1)},()=>{O.current&&(U.current=!1,O.current.abort())}},[N,P,H]);const G=W.useCallback(()=>{if(!N)return;const j=O.current;w?(U.current=!1,j==null||j.stop()):(U.current=!0,j==null||j.start())},[N,w]);W.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:eMe});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",q=>{const X=j.Canvas.getElement(),Q=q.getEl();if(D.current=q,Q){const{top:te,left:ae}=Q.getBoundingClientRect(),ue=X.getBoundingClientRect(),de=q.is("image"),Se=q.get("type")==="text";R(de||Se?{top:te+ue.top-45,left:ae+ue.left,visible:!0,component:q,type:de?"image":"text"}:Pe=>({...Pe,visible:!1}))}else R(te=>({...te,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const J=W.useCallback(()=>{if(!S.component)return;const j=window.prompt("   :");j&&S.component.set("src",j)},[S.component]),Z=W.useCallback(j=>{var X;const q=(X=j.target.files)==null?void 0:X[0];if(q&&S.component){const Q=new FileReader;Q.onload=te=>{var ae;S.component.set("src",(ae=te.target)==null?void 0:ae.result)},Q.readAsDataURL(q)}},[S.component]),z=W.useCallback(j=>{S.component&&S.component.set("src",j),g(!1)},[S.component]),Y=W.useCallback(async()=>{if(!S.component)return;const j=window.prompt("     :");if(j){_(!0);try{const q=await Cge(j);if(q.base64Image){const X=`data:image/jpeg;base64,${q.base64Image}`;S.component.set("src",X)}}catch{alert("  .")}finally{_(!1)}}},[S.component]),B=async()=>{const j=i==null?void 0:i.cafeId,q=r.current;if(!j||!q){p("      .");return}f(!0),p("");try{const X=q.getHtml(),Q=q.getCss(),te=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),ae=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Q}</style></head><body>${X}</body></html>`,ue=new File([ae],`0-${te}.html`,{type:"text/html"}),de=new File([ae],`${te}.html`,{type:"text/html"}),[Se,Pe]=await Promise.all([_m(ue),_m(de)]),pe={id:te,groupId:te,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:Se,finalTemplateUrl:Pe,cafeId:j};await ml.create(pe),alert(`   "${pe.name}" !`),e()}catch(X){console.error("Publishing error:",X),p(X instanceof Error?X.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:x,onChange:Z,accept:"image/*",className:"hidden"}),v&&d.jsx(rMe,{onClose:()=>g(!1),onCapture:z}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(OH,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Cw,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),S.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:S.top,left:S.left},children:[S.type==="text"&&d.jsx("button",{onClick:G,disabled:!N,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(_c,{}):d.jsx(aI,{})}),S.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:J,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(WH,{})}),d.jsx("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Pl,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Xm,{})}),d.jsx("button",{onClick:Y,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},sMe=()=>{const{user:t}=Nr(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=sn(),[i,s]=W.useState("dashboard"),[a,o]=W.useState(null),[l,c]=W.useState(!1),[u,f]=W.useState(!1),[h,p]=W.useState(""),[v,g]=W.useState(""),[y,_]=W.useState(""),x=W.useRef(null),w=W.useRef(null),[C,S]=W.useState(!1),R=W.useMemo(()=>t!=null&&t.cafeId?e.filter(H=>H.cafeId===t.cafeId):[],[e,t]),D=H=>{var J;const G=(J=H.target.files)==null?void 0:J[0];G&&k(G)},k=async H=>{f(!0),p("");try{let G=H.name.replace(/\.(html|pdf|docx)$/i,""),J="",Z="";if(H.type==="text/html"){const z=await H.text(),Y=z.match(/<style[^>]*>([\s\S]*?)<\/style>/i);Z=Y?Y[1]:"";const B=z.match(/<body[^>]*>([\s\S]*)<\/body>/i);J=B?B[1]:z}else if(H.type==="application/pdf"){const z=new FileReader,Y=await new Promise(j=>{z.onloadend=()=>j(z.result.split(",")[1]),z.readAsDataURL(H)});J=(await iG(Y)).html}else if(H.type.includes("wordprocessingml")){const z=new FileReader,Y=await new Promise(j=>{z.onloadend=()=>j(z.result),z.readAsArrayBuffer(H)});J=(await K7e.convertToHtml({arrayBuffer:Y})).value}else throw new Error("Unsupported file type.");o({name:G,body:J,styles:Z}),s("editor")}catch(G){p(G instanceof Error?G.message:"File processing failed.")}finally{f(!1)}},I=async H=>{var G;f(!0),p(""),c(!1);try{const J=await fetch(H);if(!J.ok)throw new Error("Could not fetch template");const Z=await J.text();let z=((G=H.split("/").pop())==null?void 0:G.replace("0-","").replace(".html",""))||"template";const Y=Z.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=Y?Y[1]:"",j=Z.match(/<body[^>]*>([\s\S]*)<\/body>/i),q=j?j[1]:Z;o({name:z,body:q,styles:B}),s("editor")}catch(J){p(J instanceof Error?J.message:"Template loading failed.")}finally{f(!1)}},F=async()=>{if(v.trim()){f(!0),p(""),_("");try{const H=await uc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});_(H.text||"")}catch(H){p(H instanceof Error?H.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const H=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),G=H?H[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),Z=J?J[1]:y;o({name:v,body:Z,styles:G}),S(!1),s("editor")},N=()=>{if(!y)return;const H=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),G=H?H[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),Z=J?J[1]:y;o({name:v,body:Z,styles:G}),S(!0),s("editor")},O=async H=>{window.confirm("        ")&&(await ml.delete(H),alert(" .      ."))},U=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),S(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx(iMe,{initialContent:a,onExit:()=>s("dashboard"),onPreview:U,editorRef:w}),C&&a&&d.jsx(dQ,{initialContent:a,docToEdit:null,onClose:()=>S(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(nI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:H=>g(H.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:F,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:N,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(OH,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:x,onChange:D,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(nMe,{onClose:()=>c(!1),onSelect:I}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ca,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var H;return(H=x.current)==null?void 0:H.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Pl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(zH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",R.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto"})})}):R.length>0?R.map(H=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:H.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:H.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>O(H.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},H.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},aMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],oMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:aMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),lMe=()=>{var D;const t=Ar(),e=Si(),n=(D=t.state)==null?void 0:D.doc,[r,i]=W.useState("dashboard"),[s,a]=W.useState(null),[o,l]=W.useState(!1),[c,u]=W.useState(!1),[f,h]=W.useState(""),[p,v]=W.useState(""),[g,y]=W.useState(""),_=W.useRef(null);W.useEffect(()=>{n&&((async()=>{u(!0);try{let I="",F="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const N=await P.text(),O=N.match(/<style[^>]*>([\s\S]*?)<\/style>/i);F=O?O[1]:"";const U=N.match(/<body[^>]*>([\s\S]*)<\/body>/i);I=U?U[1]:N}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:I,styles:F},docToEdit:n})}catch(I){h(`Failed to load document: ${I.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const x=k=>{var F;const I=(F=k.target.files)==null?void 0:F[0];I&&w(I)},w=async k=>{u(!0),h("");try{let I=k.name.replace(/\.(html|pdf|docx)$/i,""),F="",P="";if(k.type==="text/html"){const N=await k.text(),O=N.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=O?O[1]:"";const U=N.match(/<body[^>]*>([\s\S]*)<\/body>/i);F=U?U[1]:N}else if(k.type==="application/pdf"){const N=new FileReader,O=await new Promise(H=>{N.onloadend=()=>H(N.result.split(",")[1]),N.readAsDataURL(k)});F=(await iG(O)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:I,body:F,styles:P},docToEdit:null})}catch(I){h(I instanceof Error?I.message:"File processing failed.")}finally{u(!1)}},C=async k=>{var I;u(!0),h(""),l(!1);try{const F=await fetch(k);if(!F.ok)throw new Error("Could not fetch template");const P=await F.text(),N=((I=k.split("/").pop())==null?void 0:I.replace("0-","").replace(".html",""))||"template",O=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),U=O?O[1]:"",H=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),G=H?H[1]:P;a({initialContent:{name:N,body:G,styles:U},docToEdit:null})}catch(F){h(F instanceof Error?F.message:"Template loading failed.")}finally{u(!1)}},S=async()=>{if(p.trim()){u(!0),h(""),y("");try{const k=await uc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(k.text||"")}catch(k){h(k instanceof Error?k.message:"AI generation failed.")}finally{u(!1)}}},R=()=>{if(!g)return;const k=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),I=k?k[1]:"",F=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=F?F[1]:g;a({initialContent:{name:p,body:P,styles:I},docToEdit:null}),i("dashboard")};return s?d.jsx(dQ,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(nI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:k=>v(k.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:R,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:_,onChange:x,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(oMe,{onClose:()=>l(!1),onSelect:C}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ca,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var k;return(k=_.current)==null?void 0:k.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Pl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(zH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},fQ=()=>{const{t}=Ai();return W.useEffect(()=>{const e="google-cse-script";if(!document.getElementById(e)){const n=document.createElement("script");n.id=e,n.src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff",n.async=!0,document.head.appendChild(n)}},[]),d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx("div",{className:"my-8 max-w-md mx-auto px-4",children:d.jsx("div",{className:"gcse-search"})}),d.jsx(nn,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},ds=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},cMe=()=>{const{siteSettings:t,loading:e}=sn(),{countryCode:n,language:r}=Ai(),i=Ar(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return W.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),W.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),W.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(_=>_.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://datas.gitut.com/data/image/gitut-og-main.png",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const _=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,x=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=_,ds("description",x,!1),ds("og:title",_),ds("og:description",x),ds("og:site_name",l.siteName),ds("og:url",window.location.href),ds("og:image",c),ds("og:image:secure_url",c),ds("og:image:width","1200"),ds("og:image:height","630"),ds("og:type","website"),ds("og:locale",w),ds("twitter:card","summary_large_image",!1),ds("twitter:url",window.location.href,!1),ds("twitter:title",_,!1),ds("twitter:description",x,!1),ds("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://datas.gitut.com/data/image/icon.png"},[i.pathname,t,n,e,s,a,r]),null},NB=()=>{const{countryCode:t,siteId:e}=ha(),n=Ar(),r=Si(),[i]=Hee(),{sites:s,siteSettings:a,loading:o}=sn(),l=W.useMemo(()=>{var _;let v=i.get("redirect");const g=i.get("name");if(v)return t&&v.startsWith("/")&&!v.startsWith(`/${t}/`)&&(v=`/${t}${v}`),{name:g||" ",url:v,isInternal:!0};if((_=n.state)!=null&&_.targetUrl)return{name:n.state.siteName||" ",url:n.state.targetUrl,isInternal:!0};const y=Array.isArray(s)?s.find(x=>x.id===e):null;return y?{...y,isInternal:!1}:null},[s,e,n.state,i,t]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=W.useState(c),[h,p]=W.useState(!1);return W.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),W.useEffect(()=>{if(!(o||!(l!=null&&l.url)))if(u>0){const v=setTimeout(()=>{f(g=>g-1)},1e3);return()=>clearTimeout(v)}else h||(p(!0),l.isInternal?r(l.url,{replace:!0}):window.location.href=l.url)},[u,o,l,h,r]),o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]}):l?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(cc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(nn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},uMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const dMe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=W.useState(""),[o,l]=W.useState(""),[c,u]=W.useState(""),[f,h]=W.useState(""),[p,v]=W.useState(!1),g=W.useRef(null),y=W.useRef(null);W.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]);const _=(C,S)=>{var k;const R=(k=C.target.files)==null?void 0:k[0];if(!R)return;const D=new FileReader;D.onload=I=>{var P;const F=(P=I.target)==null?void 0:P.result;S==="preview"?l(F):u(F)},D.readAsText(R)},x=(C,S)=>{if(!S)return;const D=(C==="preview"?g:y).current;if(D){const k=D.selectionStart,I=D.selectionEnd,F=D.value,P=F.substring(0,k)+S+F.substring(I);C==="preview"?l(P):u(P),setTimeout(()=>{D&&(D.selectionStart=D.selectionEnd=k+S.length,D.focus())},0)}},w=async C=>{C.preventDefault(),v(!0);const S=D=>D.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),R={name:s,previewTemplateHtml:S(o),finalTemplateHtml:S(c),textPlaceholderExample:f};try{r?await wm.update(r.id,R):await wm.create(R),n(),e()}catch(D){console.error(D),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:w,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(Ct,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:C=>a(C.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:C=>h(C.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:g,value:o,onChange:C=>l(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Pl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>_(C,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{x("preview",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:y,value:c,onChange:C=>u(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Pl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>_(C,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{x("final",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>x("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},kB={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},fMe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=sn(),[s,a]=W.useState(""),[o,l]=W.useState(""),[c,u]=W.useState("dz"),[f,h]=W.useState(""),[p,v]=W.useState(""),[g,y]=W.useState(!1),[_,x]=W.useState(!1),[w,C]=W.useState(!1),S=async()=>{if(!o||!c){alert("      .");return}x(!0),h("");try{const k=i.find(P=>P.id===s);let I="";k!=null&&k.textPlaceholderExample?I=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${k.textPlaceholderExample}"

      .`:I=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const F=await uc({model:"gemini-2.5-flash",contents:I});h(F.text||"")}catch(k){console.error("AI description generation failed:",k),alert("  .")}finally{x(!1)}},R=async()=>{if(!o){alert("    .");return}const k=i.find(I=>I.id===s);C(!0),v("");try{let I="";k!=null&&k.textPlaceholderExample?I=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${k.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:I=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const F=await uc({model:"gemini-2.5-flash",contents:I});v(F.text||"")}catch(I){console.error("AI text generation failed:",I),alert("  .")}finally{C(!1)}},D=async k=>{k.preventDefault();const I=i.find(N=>N.id===s);if(!I||!o.trim()||!p.trim()){alert("   .");return}y(!0);let F=uMe(o);if(r.find(N=>N.slug===F)){if(!window.confirm("     (    ).        ")){y(!1);return}const O=Date.now().toString().slice(-6);F=`${F}-${O}`}try{const N=Z=>Z.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),O=I.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),U=I.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),H=J0(U),G=F,J={name:o,groupId:G,slug:F,description:f,countryCode:c||void 0,requiredFields:H,previewTemplateHtml:N(O),finalTemplateHtml:N(U),tags:I.name};await ml.create({...J,id:G}),n(),e()}catch(N){console.error("Failed to create document from base template:",N),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:D,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:k=>a(k.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(vr,{theme:"snow",value:f,onChange:h,modules:kB})}),d.jsx("button",{type:"button",onClick:S,disabled:_,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:_?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:R,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ca,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(vr,{theme:"snow",value:p,onChange:v,modules:kB})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},hMe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=sn(),[i,s]=W.useState(!1),[a,o]=W.useState(!1),[l,c]=W.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await wm.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await wm.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(dMe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(fMe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(lc,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(lc,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(_w,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(Jm,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},DD={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},pMe=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(""),[i,s]=W.useState(!0),[a,o]=W.useState(!1),[l,c]=W.useState(""),[u,f]=W.useState("");W.useEffect(()=>{s(!0),$A().then(p=>{const v=p||DD;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(DD),r(JSON.stringify(DD,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await Fme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Cw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},mMe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},gMe=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(""),[i,s]=W.useState(!0),[a,o]=W.useState(!1),[l,c]=W.useState(""),[u,f]=W.useState("");W.useEffect(()=>{s(!0),zA().then(p=>{const v=p||mMe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await Ume(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Cw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},yMe=()=>{var o;const{useAdminChatManager:t}=ah(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(GA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(oI,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(iI,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},vMe=()=>{var h,p;const{user:t}=Nr(),{useCafeChatManager:e}=ah(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=W.useState({type:"admin",id:"admin"});W.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=W.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,_;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((_=v.lastMessage)==null?void 0:_.timestamp)||0)}),[r]),f=W.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(uge,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(GA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,_;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(dge,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(_=g.lastMessage)==null?void 0:_.text]})]}),g.unread&&d.jsx(GA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(oI,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},IB=()=>{const{countryCode:t,docId:e}=ha(),{siteSettings:n,documents:r,fullDocuments:i}=sn(),{t:s}=Ai(),[a,o]=W.useState(null),[l,c]=W.useState(!0),[u,f]=W.useState(null),[h,p]=W.useState("form"),[v,g]=W.useState({}),[y,_]=W.useState(null),[x,w]=W.useState((n==null?void 0:n.ads.pdfInterstitialTimer)??5),C=t?`/${t}`:"/";W.useEffect(()=>{if(!e){f("   ."),c(!1);return}(async()=>{c(!0),f(null);try{const P=r.find(G=>G.id===e||G.slug===e)||i.find(G=>G.id===e||G.slug===e),N=(P==null?void 0:P.slug)||e;let O=`https://datas.gitut.com/data/json/documents/${N}.json`;P&&P.countryCode&&P.countryCode!=="global"&&(O=`https://datas.gitut.com/data/json/documents/${P.countryCode}/${N}.json`);const U=await fetch(O);if(!U.ok)throw new Error(`   . : ${U.status}`);const H=await U.json();o(H)}catch(P){console.error("    :",P),f(P instanceof Error?P.message:"   .")}finally{c(!1)}})()},[e,r,i]);const S=W.useMemo(()=>a?(a.requiredFields||[]).filter(F=>F!=="DateToday").map(F=>ni[F]):[],[a]),R=async F=>{if(!a||!F)return;const P=[a];if(F==="word"){let N=a.finalTemplateHtml||"";if(!N){alert("   .");return}const U=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});N=N.replace(/\[DateToday\]/g,U),Object.keys(v).forEach(J=>{const Z=new RegExp(`\\[${J}\\]`,"g");N=N.replace(Z,v[J]||"")}),N=N.replace(/\[[^\]]+\]/g,"");const H=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${a.name}</title></head>
                <body>${N}</body>
                </html>
            `],{type:"application/msword"}),G=document.createElement("a");G.href=URL.createObjectURL(H),G.download=`${a.slug||"document"}.doc`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(G.href);return}F==="pdf"&&await Hy(P,a.id,v,{action:"download",targetLang:"ar",templateType:"final"})};W.useEffect(()=>{if(h==="ad")if(x>0){const F=setTimeout(()=>w(P=>P-1),1e3);return()=>clearTimeout(F)}else R(y)},[h,x,y]);const D=(F,P)=>{g(N=>({...N,[F]:P}))},k=F=>{F.preventDefault(),p("select_format")},I=F=>{_(F),w((n==null?void 0:n.ads.pdfInterstitialTimer)??5),p("ad")};return l?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):u||!a?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:u||"    "}),d.jsx(nn,{to:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):h==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" :   "}),d.jsx("p",{className:"text-gray-600",children:"      ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>I("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(Tw,{size:40}),d.jsx("span",{children:"  PDF"})]}),d.jsxs("button",{onClick:()=>I("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(sI,{size:40}),d.jsx("span",{children:"  Word"})]})]})]})}):h==="ad"?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:x}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(cc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(cc,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",a.name]}),d.jsx("p",{className:"text-gray-600",children:"      ."})]}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[S.map(F=>{if(!F)return null;const P=F.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:F.id,className:"block text-sm font-medium text-gray-700 mb-1",children:s(F.label)}),F.type==="file"?d.jsx(Kv,{value:v[F.id]||"",onChange:N=>D(F.id,N)}):F.type==="select"&&F.options?d.jsxs("select",{id:F.id,name:F.id,value:v[P]||"",onChange:N=>D(N.target.name,N.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:s(F.placeholder)}),F.options.map(N=>d.jsx("option",{value:N.value,children:s(N.label)},N.value))]}):d.jsx("input",{type:F.type,id:F.id,name:F.id,value:v[P]||"",onChange:N=>D(N.target.name,N.target.value),placeholder:s(F.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},F.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(jH,{}),d.jsx("span",{children:" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(cc,{placement:"PUBLIC_FORM_LEFT"})})]})},xMe=()=>{const{pathname:t}=Ar();return W.useEffect(()=>{window.scrollTo(0,0)},[t]),null},bMe=()=>{const{user:t,loading:e}=Nr(),n=W.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return W.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),W.useEffect(()=>{n()},[n]),null},_Me=()=>{const{countryCode:t}=ha(),e=W.useMemo(()=>Rr.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(AN,{}):d.jsx(fQ,{})},wMe=()=>{const{user:t,loading:e}=Nr(),{error:n}=sn(),{t:r}=Ai(),i=Ar(),s=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),a=s?s[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(ww,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:r("app.error.title")}),d.jsx("p",{className:"text-sm",children:r("app.error.message")}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});const o=i.pathname.startsWith("/admin");if(t&&t.countryCode&&a&&t.countryCode!==a&&!o){const h=i.pathname.replace(`/${a}`,`/${t.countryCode}`);return d.jsx(wp,{to:h,replace:!0})}const l=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(i.pathname),c=/^\/admin\/app\/document-studio/.test(i.pathname),f=l||c?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:f,children:d.jsxs(vee,{children:[d.jsx($t,{path:"/",element:d.jsx(k9,{})}),d.jsx($t,{path:"/admin/login",element:d.jsx(Eye,{})}),d.jsxs($t,{path:"/admin/app",element:d.jsx(Dye,{children:d.jsx(Sye,{})}),children:[d.jsx($t,{index:!0,element:d.jsx(Aye,{})}),d.jsx($t,{path:"users",element:d.jsx(Nye,{})}),d.jsx($t,{path:"billing",element:d.jsx(kye,{})}),d.jsx($t,{path:"settings",element:d.jsx(Iye,{})}),d.jsx($t,{path:"seo",element:d.jsx(Pye,{})}),d.jsx($t,{path:"pages",element:d.jsx(Zve,{})}),d.jsx($t,{path:"ads",element:d.jsx(t1e,{})}),d.jsx($t,{path:"blog",element:d.jsx(YSe,{})}),d.jsx($t,{path:"data",element:d.jsx(s4e,{})}),d.jsx($t,{path:"sites",element:d.jsx(a4e,{})}),d.jsx($t,{path:"documents",element:d.jsx(c4e,{})}),d.jsx($t,{path:"document-studio",element:d.jsx(lMe,{})}),d.jsx($t,{path:"base-templates",element:d.jsx(hMe,{})}),d.jsx($t,{path:"static-docs",element:d.jsx(m4e,{})}),d.jsx($t,{path:"excel-commands",element:d.jsx(pMe,{})}),d.jsx($t,{path:"document-commands",element:d.jsx(gMe,{})}),d.jsx($t,{path:"chat",element:d.jsx(yMe,{})})]}),d.jsx($t,{path:"/public-form/:docId",element:d.jsx(IB,{})}),d.jsx($t,{path:"/go-to-site/:siteId",element:d.jsx(NB,{})}),d.jsx($t,{path:"/login",element:d.jsx(wp,{to:"/dz/login",replace:!0})}),d.jsx($t,{path:"/signup",element:d.jsx(wp,{to:"/dz/signup",replace:!0})}),d.jsx($t,{path:"/app/*",element:d.jsx(wp,{to:"/",replace:!0})}),d.jsxs($t,{path:"/:countryCode",element:d.jsx(_Me,{}),children:[d.jsx($t,{index:!0,element:d.jsx(k9,{})}),d.jsx($t,{path:"profile/:numericId",element:d.jsx(_ge,{})}),d.jsx($t,{path:"form",element:d.jsx(Ige,{})}),d.jsx($t,{path:"public-form/:docId",element:d.jsx(IB,{})}),d.jsx($t,{path:"confirmation/:jobId",element:d.jsx(Rge,{})}),d.jsx($t,{path:"page/:slug",element:d.jsx(e1e,{})}),d.jsx($t,{path:"service/:type/:id",element:d.jsx(h4e,{})}),d.jsx($t,{path:"view/:docId",element:d.jsx(y4e,{})}),d.jsx($t,{path:"go-to-site/:siteId",element:d.jsx(NB,{})}),d.jsx($t,{path:"find-cafe",element:d.jsx(b4e,{})}),d.jsx($t,{path:"login",element:d.jsx(Pge,{})}),d.jsx($t,{path:"signup",element:d.jsx(Mge,{})}),d.jsxs($t,{path:"app",element:d.jsx(t0e,{children:d.jsx(Lge,{children:d.jsx(qge,{})})}),children:[d.jsx($t,{index:!0,element:d.jsx(Hge,{})}),d.jsx($t,{path:"pending-jobs",element:d.jsx(Jge,{})}),d.jsx($t,{path:"generate",element:d.jsx(e0e,{})}),d.jsx($t,{path:"excel-studio",element:d.jsx(NFe,{})}),d.jsx($t,{path:"document-studio",element:d.jsx(sMe,{})}),d.jsx($t,{path:"settings",element:d.jsx(gye,{})}),d.jsx($t,{path:"multi-person-job",element:d.jsx(xye,{})}),d.jsx($t,{path:"billing",element:d.jsx(Tye,{})}),d.jsx($t,{path:"fill-site/:siteId",element:d.jsx(o4e,{})}),d.jsx($t,{path:"clients",element:d.jsx(u4e,{})}),d.jsx($t,{path:"view-pdf/:docId",element:d.jsx(g4e,{})}),d.jsx($t,{path:"chat",element:d.jsx(vMe,{})})]})]}),d.jsx($t,{path:"*",element:d.jsx(fQ,{})})]})})},TMe=()=>d.jsx(Lme,{children:d.jsx(pge,{children:d.jsx(Wee,{children:d.jsx(mge,{children:d.jsxs(xge,{children:[d.jsx(cMe,{}),d.jsx(xMe,{}),d.jsx(bMe,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(hge,{}),d.jsx(wMe,{}),d.jsx(gge,{})]})]})})})})}),hQ=document.getElementById("root");if(!hQ)throw new Error("Could not find root element to mount to");const EMe=SZ.createRoot(hQ);EMe.render(d.jsx(wl.StrictMode,{children:d.jsx(TMe,{})}));
