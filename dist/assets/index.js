(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FZ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var GE={exports:{}},Vg={},KE={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function MZ(){if(gR)return fn;gR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=y.prototype;function x(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}var w=x.prototype=new b;w.constructor=x,v(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,F={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(B,j,q){var J,Q={},te=null,ae=null;if(j!=null)for(J in j.ref!==void 0&&(ae=j.ref),j.key!==void 0&&(te=""+j.key),j)S.call(j,J)&&!A.hasOwnProperty(J)&&(Q[J]=j[J]);var ce=arguments.length-2;if(ce===1)Q.children=q;else if(1<ce){for(var ue=Array(ce),Se=0;Se<ce;Se++)ue[Se]=arguments[Se+2];Q.children=ue}if(B&&B.defaultProps)for(J in ce=B.defaultProps,ce)Q[J]===void 0&&(Q[J]=ce[J]);return{$$typeof:t,type:B,key:te,ref:ae,props:Q,_owner:F.current}}function N(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function R(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(q){return j[q]})}var D=/\/+/g;function M(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function O(B,j,q,J,Q){var te=typeof B;(te==="undefined"||te==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(te){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case t:case e:ae=!0}}if(ae)return ae=B,Q=Q(ae),B=J===""?"."+M(ae,0):J,C(Q)?(q="",B!=null&&(q=B.replace(D,"$&/")+"/"),O(Q,j,q,"",function(Se){return Se})):Q!=null&&(R(Q)&&(Q=N(Q,q+(!Q.key||ae&&ae.key===Q.key?"":(""+Q.key).replace(D,"$&/")+"/")+B)),j.push(Q)),1;if(ae=0,J=J===""?".":J+":",C(B))for(var ce=0;ce<B.length;ce++){te=B[ce];var ue=J+M(te,ce);ae+=O(te,j,q,ue,Q)}else if(ue=h(B),typeof ue=="function")for(B=ue.call(B),ce=0;!(te=B.next()).done;)te=te.value,ue=J+M(te,ce++),ae+=O(te,j,q,ue,Q);else if(te==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ae}function H(B,j,q){if(B==null)return B;var J=[],Q=0;return O(B,J,"","",function(te){return j.call(q,te,Q++)}),J}function X(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(q){(B._status===0||B._status===-1)&&(B._status=1,B._result=q)},function(q){(B._status===0||B._status===-1)&&(B._status=2,B._result=q)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var G={current:null},Z={transition:null},W={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:Z,ReactCurrentOwner:F};function Y(){throw Error("act(...) is not supported in production builds of React.")}return fn.Children={map:H,forEach:function(B,j,q){H(B,function(){j.apply(this,arguments)},q)},count:function(B){var j=0;return H(B,function(){j++}),j},toArray:function(B){return H(B,function(j){return j})||[]},only:function(B){if(!R(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},fn.Component=y,fn.Fragment=n,fn.Profiler=i,fn.PureComponent=x,fn.StrictMode=r,fn.Suspense=l,fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,fn.act=Y,fn.cloneElement=function(B,j,q){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var J=v({},B.props),Q=B.key,te=B.ref,ae=B._owner;if(j!=null){if(j.ref!==void 0&&(te=j.ref,ae=F.current),j.key!==void 0&&(Q=""+j.key),B.type&&B.type.defaultProps)var ce=B.type.defaultProps;for(ue in j)S.call(j,ue)&&!A.hasOwnProperty(ue)&&(J[ue]=j[ue]===void 0&&ce!==void 0?ce[ue]:j[ue])}var ue=arguments.length-2;if(ue===1)J.children=q;else if(1<ue){ce=Array(ue);for(var Se=0;Se<ue;Se++)ce[Se]=arguments[Se+2];J.children=ce}return{$$typeof:t,type:B.type,key:Q,ref:te,props:J,_owner:ae}},fn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},fn.createElement=I,fn.createFactory=function(B){var j=I.bind(null,B);return j.type=B,j},fn.createRef=function(){return{current:null}},fn.forwardRef=function(B){return{$$typeof:o,render:B}},fn.isValidElement=R,fn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:X}},fn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},fn.startTransition=function(B){var j=Z.transition;Z.transition={};try{B()}finally{Z.transition=j}},fn.unstable_act=Y,fn.useCallback=function(B,j){return G.current.useCallback(B,j)},fn.useContext=function(B){return G.current.useContext(B)},fn.useDebugValue=function(){},fn.useDeferredValue=function(B){return G.current.useDeferredValue(B)},fn.useEffect=function(B,j){return G.current.useEffect(B,j)},fn.useId=function(){return G.current.useId()},fn.useImperativeHandle=function(B,j,q){return G.current.useImperativeHandle(B,j,q)},fn.useInsertionEffect=function(B,j){return G.current.useInsertionEffect(B,j)},fn.useLayoutEffect=function(B,j){return G.current.useLayoutEffect(B,j)},fn.useMemo=function(B,j){return G.current.useMemo(B,j)},fn.useReducer=function(B,j,q){return G.current.useReducer(B,j,q)},fn.useRef=function(B){return G.current.useRef(B)},fn.useState=function(B){return G.current.useState(B)},fn.useSyncExternalStore=function(B,j,q){return G.current.useSyncExternalStore(B,j,q)},fn.useTransition=function(){return G.current.useTransition()},fn.version="18.3.1",fn}var yR;function x_(){return yR||(yR=1,KE.exports=MZ()),KE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function OZ(){if(vR)return Vg;vR=1;var t=x_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return Vg.Fragment=n,Vg.jsx=a,Vg.jsxs=a,Vg}var xR;function UZ(){return xR||(xR=1,GE.exports=OZ()),GE.exports}var d=UZ(),V=x_();const Tl=v_(V);var yx={},JE={exports:{}},Xs={},XE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function LZ(){return bR||(bR=1,(function(t){function e(Z,W){var Y=Z.length;Z.push(W);e:for(;0<Y;){var B=Y-1>>>1,j=Z[B];if(0<i(j,W))Z[B]=W,Z[Y]=j,Y=B;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var W=Z[0],Y=Z.pop();if(Y!==W){Z[0]=Y;e:for(var B=0,j=Z.length,q=j>>>1;B<q;){var J=2*(B+1)-1,Q=Z[J],te=J+1,ae=Z[te];if(0>i(Q,Y))te<j&&0>i(ae,Q)?(Z[B]=ae,Z[te]=Y,B=te):(Z[B]=Q,Z[J]=Y,B=J);else if(te<j&&0>i(ae,Y))Z[B]=ae,Z[te]=Y,B=te;else break e}}return W}function i(Z,W){var Y=Z.sortIndex-W.sortIndex;return Y!==0?Y:Z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=Z)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function C(Z){if(g=!1,w(Z),!v)if(n(l)!==null)v=!0,X(S);else{var W=n(c);W!==null&&G(C,W.startTime-Z)}}function S(Z,W){v=!1,g&&(g=!1,b(I),I=-1),p=!0;var Y=h;try{for(w(W),f=n(l);f!==null&&(!(f.expirationTime>W)||Z&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=W);W=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(W)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var J=n(c);J!==null&&G(C,J.startTime-W),q=!1}return q}finally{f=null,h=Y,p=!1}}var F=!1,A=null,I=-1,N=5,R=-1;function P(){return!(t.unstable_now()-R<N)}function D(){if(A!==null){var Z=t.unstable_now();R=Z;var W=!0;try{W=A(!0,Z)}finally{W?M():(F=!1,A=null)}}else F=!1}var M;if(typeof x=="function")M=function(){x(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=D,M=function(){H.postMessage(null)}}else M=function(){y(D,0)};function X(Z){A=Z,F||(F=!0,M())}function G(Z,W){I=y(function(){Z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,X(S))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Y=h;h=W;try{return Z()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,W){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Y=h;h=Z;try{return W()}finally{h=Y}},t.unstable_scheduleCallback=function(Z,W,Y){var B=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?B+Y:B):Y=B,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Y+j,Z={id:u++,callback:W,priorityLevel:Z,startTime:Y,expirationTime:j,sortIndex:-1},Y>B?(Z.sortIndex=Y,e(c,Z),n(l)===null&&Z===n(c)&&(g?(b(I),I=-1):g=!0,G(C,Y-B))):(Z.sortIndex=j,e(l,Z),v||p||(v=!0,X(S))),Z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Z){var W=h;return function(){var Y=h;h=W;try{return Z.apply(this,arguments)}finally{h=Y}}}})(YE)),YE}var _R;function jZ(){return _R||(_R=1,XE.exports=LZ()),XE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR;function BZ(){if(wR)return Xs;wR=1;var t=x_(),e=jZ();function n(m){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+m,k=1;k<arguments.length;k++)_+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,_){a(m,_),a(m+"Capture",_)}function a(m,_){for(i[m]=_,m=0;m<_.length;m++)r.add(_[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,_,k,L){if(k!==null&&k.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return L?!1:k!==null?!k.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,_,k,L){if(_===null||typeof _>"u"||p(m,_,k,L))return!0;if(L)return!1;if(k!==null)switch(k.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function g(m,_,k,L,K,ne,ge){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=L,this.attributeNamespace=K,this.mustUseProperty=k,this.propertyName=m,this.type=_,this.sanitizeURL=ne,this.removeEmptyString=ge}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var _=m[0];y[_]=new g(_,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var _=m.replace(b,x);y[_]=new g(_,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var _=m.replace(b,x);y[_]=new g(_,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var _=m.replace(b,x);y[_]=new g(_,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,_,k,L){var K=y.hasOwnProperty(_)?y[_]:null;(K!==null?K.type!==0:L||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(v(_,k,K,L)&&(k=null),L||K===null?h(_)&&(k===null?m.removeAttribute(_):m.setAttribute(_,""+k)):K.mustUseProperty?m[K.propertyName]=k===null?K.type===3?!1:"":k:(_=K.attributeName,L=K.attributeNamespace,k===null?m.removeAttribute(_):(K=K.type,k=K===3||K===4&&k===!0?"":""+k,L?m.setAttributeNS(L,_,k):m.setAttribute(_,k))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),F=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Z=Symbol.iterator;function W(m){return m===null||typeof m!="object"?null:(m=Z&&m[Z]||m["@@iterator"],typeof m=="function"?m:null)}var Y=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(k){var _=k.stack.trim().match(/\n( *(at )?)/);B=_&&_[1]||""}return`
`+B+m}var q=!1;function J(m,_){if(!m||q)return"";q=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(Ze){var L=Ze}Reflect.construct(m,[],_)}else{try{_.call()}catch(Ze){L=Ze}m.call(_.prototype)}else{try{throw Error()}catch(Ze){L=Ze}m()}}catch(Ze){if(Ze&&L&&typeof Ze.stack=="string"){for(var K=Ze.stack.split(`
`),ne=L.stack.split(`
`),ge=K.length-1,Ue=ne.length-1;1<=ge&&0<=Ue&&K[ge]!==ne[Ue];)Ue--;for(;1<=ge&&0<=Ue;ge--,Ue--)if(K[ge]!==ne[Ue]){if(ge!==1||Ue!==1)do if(ge--,Ue--,0>Ue||K[ge]!==ne[Ue]){var je=`
`+K[ge].replace(" at new "," at ");return m.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",m.displayName)),je}while(1<=ge&&0<=Ue);break}}}finally{q=!1,Error.prepareStackTrace=k}return(m=m?m.displayName||m.name:"")?j(m):""}function Q(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=J(m.type,!1),m;case 11:return m=J(m.type.render,!1),m;case 1:return m=J(m.type,!0),m;default:return""}}function te(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case A:return"Fragment";case F:return"Portal";case N:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case R:return(m._context.displayName||"Context")+".Provider";case D:var _=m.render;return m=m.displayName,m||(m=_.displayName||_.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case H:return _=m.displayName||null,_!==null?_:te(m.type)||"Memo";case X:_=m._payload,m=m._init;try{return te(m(_))}catch{}}return null}function ae(m){var _=m.type;switch(m.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=_.render,m=m.displayName||m.name||"",_.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(_);case 8:return _===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function ce(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function ue(m){var _=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Se(m){var _=ue(m)?"checked":"value",k=Object.getOwnPropertyDescriptor(m.constructor.prototype,_),L=""+m[_];if(!m.hasOwnProperty(_)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var K=k.get,ne=k.set;return Object.defineProperty(m,_,{configurable:!0,get:function(){return K.call(this)},set:function(ge){L=""+ge,ne.call(this,ge)}}),Object.defineProperty(m,_,{enumerable:k.enumerable}),{getValue:function(){return L},setValue:function(ge){L=""+ge},stopTracking:function(){m._valueTracker=null,delete m[_]}}}}function Fe(m){m._valueTracker||(m._valueTracker=Se(m))}function fe(m){if(!m)return!1;var _=m._valueTracker;if(!_)return!0;var k=_.getValue(),L="";return m&&(L=ue(m)?m.checked?"true":"false":m.value),m=L,m!==k?(_.setValue(m),!0):!1}function Le(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function z(m,_){var k=_.checked;return Y({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??m._wrapperState.initialChecked})}function me(m,_){var k=_.defaultValue==null?"":_.defaultValue,L=_.checked!=null?_.checked:_.defaultChecked;k=ce(_.value!=null?_.value:k),m._wrapperState={initialChecked:L,initialValue:k,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function be(m,_){_=_.checked,_!=null&&w(m,"checked",_,!1)}function le(m,_){be(m,_);var k=ce(_.value),L=_.type;if(k!=null)L==="number"?(k===0&&m.value===""||m.value!=k)&&(m.value=""+k):m.value!==""+k&&(m.value=""+k);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}_.hasOwnProperty("value")?oe(m,_.type,k):_.hasOwnProperty("defaultValue")&&oe(m,_.type,ce(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(m.defaultChecked=!!_.defaultChecked)}function re(m,_,k){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var L=_.type;if(!(L!=="submit"&&L!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+m._wrapperState.initialValue,k||_===m.value||(m.value=_),m.defaultValue=_}k=m.name,k!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,k!==""&&(m.name=k)}function oe(m,_,k){(_!=="number"||Le(m.ownerDocument)!==m)&&(k==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+k&&(m.defaultValue=""+k))}var Ie=Array.isArray;function ke(m,_,k,L){if(m=m.options,_){_={};for(var K=0;K<k.length;K++)_["$"+k[K]]=!0;for(k=0;k<m.length;k++)K=_.hasOwnProperty("$"+m[k].value),m[k].selected!==K&&(m[k].selected=K),K&&L&&(m[k].defaultSelected=!0)}else{for(k=""+ce(k),_=null,K=0;K<m.length;K++){if(m[K].value===k){m[K].selected=!0,L&&(m[K].defaultSelected=!0);return}_!==null||m[K].disabled||(_=m[K])}_!==null&&(_.selected=!0)}}function he(m,_){if(_.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},_,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ye(m,_){var k=_.value;if(k==null){if(k=_.children,_=_.defaultValue,k!=null){if(_!=null)throw Error(n(92));if(Ie(k)){if(1<k.length)throw Error(n(93));k=k[0]}_=k}_==null&&(_=""),k=_}m._wrapperState={initialValue:ce(k)}}function _e(m,_){var k=ce(_.value),L=ce(_.defaultValue);k!=null&&(k=""+k,k!==m.value&&(m.value=k),_.defaultValue==null&&m.defaultValue!==k&&(m.defaultValue=k)),L!=null&&(m.defaultValue=""+L)}function Te(m){var _=m.textContent;_===m._wrapperState.initialValue&&_!==""&&_!==null&&(m.value=_)}function Re(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(m,_){return m==null||m==="http://www.w3.org/1999/xhtml"?Re(_):m==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var ve,Me=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,k,L,K){MSApp.execUnsafeLocalFunction(function(){return m(_,k,L,K)})}:m})(function(m,_){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=_;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=ve.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;_.firstChild;)m.appendChild(_.firstChild)}});function Oe(m,_){if(_){var k=m.firstChild;if(k&&k===m.lastChild&&k.nodeType===3){k.nodeValue=_;return}}m.textContent=_}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(m){st.forEach(function(_){_=_+m.charAt(0).toUpperCase()+m.substring(1),qe[_]=qe[m]})});function it(m,_,k){return _==null||typeof _=="boolean"||_===""?"":k||typeof _!="number"||_===0||qe.hasOwnProperty(m)&&qe[m]?(""+_).trim():_+"px"}function Ct(m,_){m=m.style;for(var k in _)if(_.hasOwnProperty(k)){var L=k.indexOf("--")===0,K=it(k,_[k],L);k==="float"&&(k="cssFloat"),L?m.setProperty(k,K):m[k]=K}}var Wt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $t(m,_){if(_){if(Wt[m]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(n(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(n(61))}if(_.style!=null&&typeof _.style!="object")throw Error(n(62))}}function _n(m,_){if(m.indexOf("-")===-1)return typeof _.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var En=null;function Ln(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var xn=null,Rt=null,We=null;function ie(m){if(m=Sg(m)){if(typeof xn!="function")throw Error(n(280));var _=m.stateNode;_&&(_=P1(_),xn(m.stateNode,m.type,_))}}function de(m){Rt?We?We.push(m):We=[m]:Rt=m}function Pe(){if(Rt){var m=Rt,_=We;if(We=Rt=null,ie(m),_)for(m=0;m<_.length;m++)ie(_[m])}}function $e(m,_){return m(_)}function nt(){}var xt=!1;function Ut(m,_,k){if(xt)return m(_,k);xt=!0;try{return $e(m,_,k)}finally{xt=!1,(Rt!==null||We!==null)&&(nt(),Pe())}}function zt(m,_){var k=m.stateNode;if(k===null)return null;var L=P1(k);if(L===null)return null;k=L[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(k&&typeof k!="function")throw Error(n(231,_,typeof k));return k}var Cn=!1;if(o)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Cn=!1}function er(m,_,k,L,K,ne,ge,Ue,je){var Ze=Array.prototype.slice.call(arguments,3);try{_.apply(k,Ze)}catch(dt){this.onError(dt)}}var On=!1,ir=null,pe=!1,we=null,xe={onError:function(m){On=!0,ir=m}};function Ce(m,_,k,L,K,ne,ge,Ue,je){On=!1,ir=null,er.apply(xe,arguments)}function Ne(m,_,k,L,K,ne,ge,Ue,je){if(Ce.apply(this,arguments),On){if(On){var Ze=ir;On=!1,ir=null}else throw Error(n(198));pe||(pe=!0,we=Ze)}}function De(m){var _=m,k=m;if(m.alternate)for(;_.return;)_=_.return;else{m=_;do _=m,(_.flags&4098)!==0&&(k=_.return),m=_.return;while(m)}return _.tag===3?k:null}function Ve(m){if(m.tag===13){var _=m.memoizedState;if(_===null&&(m=m.alternate,m!==null&&(_=m.memoizedState)),_!==null)return _.dehydrated}return null}function Qe(m){if(De(m)!==m)throw Error(n(188))}function Ge(m){var _=m.alternate;if(!_){if(_=De(m),_===null)throw Error(n(188));return _!==m?null:m}for(var k=m,L=_;;){var K=k.return;if(K===null)break;var ne=K.alternate;if(ne===null){if(L=K.return,L!==null){k=L;continue}break}if(K.child===ne.child){for(ne=K.child;ne;){if(ne===k)return Qe(K),m;if(ne===L)return Qe(K),_;ne=ne.sibling}throw Error(n(188))}if(k.return!==L.return)k=K,L=ne;else{for(var ge=!1,Ue=K.child;Ue;){if(Ue===k){ge=!0,k=K,L=ne;break}if(Ue===L){ge=!0,L=K,k=ne;break}Ue=Ue.sibling}if(!ge){for(Ue=ne.child;Ue;){if(Ue===k){ge=!0,k=ne,L=K;break}if(Ue===L){ge=!0,L=ne,k=K;break}Ue=Ue.sibling}if(!ge)throw Error(n(189))}}if(k.alternate!==L)throw Error(n(190))}if(k.tag!==3)throw Error(n(188));return k.stateNode.current===k?m:_}function Je(m){return m=Ge(m),m!==null?Xe(m):null}function Xe(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var _=Xe(m);if(_!==null)return _;m=m.sibling}return null}var ut=e.unstable_scheduleCallback,vt=e.unstable_cancelCallback,Dt=e.unstable_shouldYield,mt=e.unstable_requestPaint,ft=e.unstable_now,en=e.unstable_getCurrentPriorityLevel,Un=e.unstable_ImmediatePriority,kn=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,mo=e.unstable_LowPriority,Ko=e.unstable_IdlePriority,pa=null,Qr=null;function Bc(m){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(pa,m,void 0,(m.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:u1,ug=Math.log,c1=Math.LN2;function u1(m){return m>>>=0,m===0?32:31-(ug(m)/c1|0)|0}var _h=64,wh=4194304;function Vc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function bd(m,_){var k=m.pendingLanes;if(k===0)return 0;var L=0,K=m.suspendedLanes,ne=m.pingedLanes,ge=k&268435455;if(ge!==0){var Ue=ge&~K;Ue!==0?L=Vc(Ue):(ne&=ge,ne!==0&&(L=Vc(ne)))}else ge=k&~K,ge!==0?L=Vc(ge):ne!==0&&(L=Vc(ne));if(L===0)return 0;if(_!==0&&_!==L&&(_&K)===0&&(K=L&-L,ne=_&-_,K>=ne||K===16&&(ne&4194240)!==0))return _;if((L&4)!==0&&(L|=k&16),_=m.entangledLanes,_!==0)for(m=m.entanglements,_&=L;0<_;)k=31-dr(_),K=1<<k,L|=m[k],_&=~K;return L}function TT(m,_){switch(m){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(m,_){for(var k=m.suspendedLanes,L=m.pingedLanes,K=m.expirationTimes,ne=m.pendingLanes;0<ne;){var ge=31-dr(ne),Ue=1<<ge,je=K[ge];je===-1?((Ue&k)===0||(Ue&L)!==0)&&(K[ge]=TT(Ue,_)):je<=_&&(m.expiredLanes|=Ue),ne&=~Ue}}function ma(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function _d(){var m=_h;return _h<<=1,(_h&4194240)===0&&(_h=64),m}function Wc(m){for(var _=[],k=0;31>k;k++)_.push(m);return _}function qc(m,_,k){m.pendingLanes|=_,_!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,_=31-dr(_),m[_]=k}function tr(m,_){var k=m.pendingLanes&~_;m.pendingLanes=_,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=_,m.mutableReadLanes&=_,m.entangledLanes&=_,_=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<k;){var K=31-dr(k),ne=1<<K;_[K]=0,L[K]=-1,m[K]=-1,k&=~ne}}function $c(m,_){var k=m.entangledLanes|=_;for(m=m.entanglements;k;){var L=31-dr(k),K=1<<L;K&_|m[L]&_&&(m[L]|=_),k&=~K}}var bn=0;function zc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var d1,Th,f1,h1,p1,dg=!1,Jo=[],$i=null,go=null,yo=null,Hc=new Map,Ma=new Map,Xo=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m1(m,_){switch(m){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Hc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(_.pointerId)}}function qs(m,_,k,L,K,ne){return m===null||m.nativeEvent!==ne?(m={blockedOn:_,domEventName:k,eventSystemFlags:L,nativeEvent:ne,targetContainers:[K]},_!==null&&(_=Sg(_),_!==null&&Th(_)),m):(m.eventSystemFlags|=L,_=m.targetContainers,K!==null&&_.indexOf(K)===-1&&_.push(K),m)}function CT(m,_,k,L,K){switch(_){case"focusin":return $i=qs($i,m,_,k,L,K),!0;case"dragenter":return go=qs(go,m,_,k,L,K),!0;case"mouseover":return yo=qs(yo,m,_,k,L,K),!0;case"pointerover":var ne=K.pointerId;return Hc.set(ne,qs(Hc.get(ne)||null,m,_,k,L,K)),!0;case"gotpointercapture":return ne=K.pointerId,Ma.set(ne,qs(Ma.get(ne)||null,m,_,k,L,K)),!0}return!1}function g1(m){var _=Sd(m.target);if(_!==null){var k=De(_);if(k!==null){if(_=k.tag,_===13){if(_=Ve(k),_!==null){m.blockedOn=_,p1(m.priority,function(){f1(k)});return}}else if(_===3&&k.stateNode.current.memoizedState.isDehydrated){m.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Vl(m){if(m.blockedOn!==null)return!1;for(var _=m.targetContainers;0<_.length;){var k=Eh(m.domEventName,m.eventSystemFlags,_[0],m.nativeEvent);if(k===null){k=m.nativeEvent;var L=new k.constructor(k.type,k);En=L,k.target.dispatchEvent(L),En=null}else return _=Sg(k),_!==null&&Th(_),m.blockedOn=k,!1;_.shift()}return!0}function wd(m,_,k){Vl(m)&&k.delete(_)}function y1(){dg=!1,$i!==null&&Vl($i)&&($i=null),go!==null&&Vl(go)&&(go=null),yo!==null&&Vl(yo)&&(yo=null),Hc.forEach(wd),Ma.forEach(wd)}function vo(m,_){m.blockedOn===_&&(m.blockedOn=null,dg||(dg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y1)))}function xo(m){function _(K){return vo(K,m)}if(0<Jo.length){vo(Jo[0],m);for(var k=1;k<Jo.length;k++){var L=Jo[k];L.blockedOn===m&&(L.blockedOn=null)}}for($i!==null&&vo($i,m),go!==null&&vo(go,m),yo!==null&&vo(yo,m),Hc.forEach(_),Ma.forEach(_),k=0;k<Xo.length;k++)L=Xo[k],L.blockedOn===m&&(L.blockedOn=null);for(;0<Xo.length&&(k=Xo[0],k.blockedOn===null);)g1(k),k.blockedOn===null&&Xo.shift()}var Wl=C.ReactCurrentBatchConfig,Gc=!0;function _r(m,_,k,L){var K=bn,ne=Wl.transition;Wl.transition=null;try{bn=1,fg(m,_,k,L)}finally{bn=K,Wl.transition=ne}}function ST(m,_,k,L){var K=bn,ne=Wl.transition;Wl.transition=null;try{bn=4,fg(m,_,k,L)}finally{bn=K,Wl.transition=ne}}function fg(m,_,k,L){if(Gc){var K=Eh(m,_,k,L);if(K===null)UT(m,_,L,Td,k),m1(m,L);else if(CT(K,m,_,k,L))L.stopPropagation();else if(m1(m,L),_&4&&-1<ET.indexOf(m)){for(;K!==null;){var ne=Sg(K);if(ne!==null&&d1(ne),ne=Eh(m,_,k,L),ne===null&&UT(m,_,L,Td,k),ne===K)break;K=ne}K!==null&&L.stopPropagation()}else UT(m,_,L,null,k)}}var Td=null;function Eh(m,_,k,L){if(Td=null,m=Ln(L),m=Sd(m),m!==null)if(_=De(m),_===null)m=null;else if(k=_.tag,k===13){if(m=Ve(_),m!==null)return m;m=null}else if(k===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;m=null}else _!==m&&(m=null);return Td=m,null}function hg(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(en()){case Un:return 1;case kn:return 4;case Wn:case mo:return 16;case Ko:return 536870912;default:return 16}default:return 16}}var ga=null,Ch=null,$s=null;function pg(){if($s)return $s;var m,_=Ch,k=_.length,L,K="value"in ga?ga.value:ga.textContent,ne=K.length;for(m=0;m<k&&_[m]===K[m];m++);var ge=k-m;for(L=1;L<=ge&&_[k-L]===K[ne-L];L++);return $s=K.slice(m,1<L?1-L:void 0)}function Sh(m){var _=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&_===13&&(m=13)):m=_,m===10&&(m=13),32<=m||m===13?m:0}function Yo(){return!0}function mg(){return!1}function zi(m){function _(k,L,K,ne,ge){this._reactName=k,this._targetInst=K,this.type=L,this.nativeEvent=ne,this.target=ge,this.currentTarget=null;for(var Ue in m)m.hasOwnProperty(Ue)&&(k=m[Ue],this[Ue]=k?k(ne):ne[Ue]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?Yo:mg,this.isPropagationStopped=mg,this}return Y(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),_}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=zi(bo),Qo=Y({},bo,{view:0,detail:0}),DT=zi(Qo),Ah,ql,Kc,Ed=Y({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Kc&&(Kc&&m.type==="mousemove"?(Ah=m.screenX-Kc.screenX,ql=m.screenY-Kc.screenY):ql=Ah=0,Kc=m),Ah)},movementY:function(m){return"movementY"in m?m.movementY:ql}}),Nh=zi(Ed),gg=Y({},Ed,{dataTransfer:0}),v1=zi(gg),kh=Y({},Qo,{relatedTarget:0}),Ih=zi(kh),x1=Y({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=zi(x1),b1=Y({},bo,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),_1=zi(b1),w1=Y({},bo,{data:0}),yg=zi(w1),Ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},As={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(m){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(m):(m=T1[m])?!!_[m]:!1}function Zo(){return E1}var U=Y({},Qo,{key:function(m){if(m.key){var _=Ph[m.key]||m.key;if(_!=="Unidentified")return _}return m.type==="keypress"?(m=Sh(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?As[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(m){return m.type==="keypress"?Sh(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Sh(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),ee=zi(U),se=Y({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ae=zi(se),He=Y({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),tt=zi(He),Tt=Y({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qn=zi(Tt),gi=Y({},Ed,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),wn=zi(gi),Ai=[9,13,27,32],li=o&&"CompositionEvent"in window,Oa=null;o&&"documentMode"in document&&(Oa=document.documentMode);var ya=o&&"TextEvent"in window&&!Oa,Cd=o&&(!li||Oa&&8<Oa&&11>=Oa),Rh=" ",u5=!1;function d5(m,_){switch(m){case"keyup":return Ai.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f5(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Fh=!1;function IQ(m,_){switch(m){case"compositionend":return f5(_);case"keypress":return _.which!==32?null:(u5=!0,Rh);case"textInput":return m=_.data,m===Rh&&u5?null:m;default:return null}}function PQ(m,_){if(Fh)return m==="compositionend"||!li&&d5(m,_)?(m=pg(),$s=Ch=ga=null,Fh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return Cd&&_.locale!=="ko"?null:_.data;default:return null}}var RQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h5(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _==="input"?!!RQ[m.type]:_==="textarea"}function p5(m,_,k,L){de(L),_=N1(_,"onChange"),0<_.length&&(k=new Dh("onChange","change",null,k,L),m.push({event:k,listeners:_}))}var vg=null,xg=null;function FQ(m){P5(m,0)}function C1(m){var _=jh(m);if(fe(_))return m}function MQ(m,_){if(m==="change")return _}var m5=!1;if(o){var AT;if(o){var NT="oninput"in document;if(!NT){var g5=document.createElement("div");g5.setAttribute("oninput","return;"),NT=typeof g5.oninput=="function"}AT=NT}else AT=!1;m5=AT&&(!document.documentMode||9<document.documentMode)}function y5(){vg&&(vg.detachEvent("onpropertychange",v5),xg=vg=null)}function v5(m){if(m.propertyName==="value"&&C1(xg)){var _=[];p5(_,xg,m,Ln(m)),Ut(FQ,_)}}function OQ(m,_,k){m==="focusin"?(y5(),vg=_,xg=k,vg.attachEvent("onpropertychange",v5)):m==="focusout"&&y5()}function UQ(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return C1(xg)}function LQ(m,_){if(m==="click")return C1(_)}function jQ(m,_){if(m==="input"||m==="change")return C1(_)}function BQ(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var _o=typeof Object.is=="function"?Object.is:BQ;function bg(m,_){if(_o(m,_))return!0;if(typeof m!="object"||m===null||typeof _!="object"||_===null)return!1;var k=Object.keys(m),L=Object.keys(_);if(k.length!==L.length)return!1;for(L=0;L<k.length;L++){var K=k[L];if(!l.call(_,K)||!_o(m[K],_[K]))return!1}return!0}function x5(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function b5(m,_){var k=x5(m);m=0;for(var L;k;){if(k.nodeType===3){if(L=m+k.textContent.length,m<=_&&L>=_)return{node:k,offset:_-m};m=L}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=x5(k)}}function _5(m,_){return m&&_?m===_?!0:m&&m.nodeType===3?!1:_&&_.nodeType===3?_5(m,_.parentNode):"contains"in m?m.contains(_):m.compareDocumentPosition?!!(m.compareDocumentPosition(_)&16):!1:!1}function w5(){for(var m=window,_=Le();_ instanceof m.HTMLIFrameElement;){try{var k=typeof _.contentWindow.location.href=="string"}catch{k=!1}if(k)m=_.contentWindow;else break;_=Le(m.document)}return _}function kT(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _&&(_==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||_==="textarea"||m.contentEditable==="true")}function VQ(m){var _=w5(),k=m.focusedElem,L=m.selectionRange;if(_!==k&&k&&k.ownerDocument&&_5(k.ownerDocument.documentElement,k)){if(L!==null&&kT(k)){if(_=L.start,m=L.end,m===void 0&&(m=_),"selectionStart"in k)k.selectionStart=_,k.selectionEnd=Math.min(m,k.value.length);else if(m=(_=k.ownerDocument||document)&&_.defaultView||window,m.getSelection){m=m.getSelection();var K=k.textContent.length,ne=Math.min(L.start,K);L=L.end===void 0?ne:Math.min(L.end,K),!m.extend&&ne>L&&(K=L,L=ne,ne=K),K=b5(k,ne);var ge=b5(k,L);K&&ge&&(m.rangeCount!==1||m.anchorNode!==K.node||m.anchorOffset!==K.offset||m.focusNode!==ge.node||m.focusOffset!==ge.offset)&&(_=_.createRange(),_.setStart(K.node,K.offset),m.removeAllRanges(),ne>L?(m.addRange(_),m.extend(ge.node,ge.offset)):(_.setEnd(ge.node,ge.offset),m.addRange(_)))}}for(_=[],m=k;m=m.parentNode;)m.nodeType===1&&_.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<_.length;k++)m=_[k],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var WQ=o&&"documentMode"in document&&11>=document.documentMode,Mh=null,IT=null,_g=null,PT=!1;function T5(m,_,k){var L=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;PT||Mh==null||Mh!==Le(L)||(L=Mh,"selectionStart"in L&&kT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),_g&&bg(_g,L)||(_g=L,L=N1(IT,"onSelect"),0<L.length&&(_=new Dh("onSelect","select",null,_,k),m.push({event:_,listeners:L}),_.target=Mh)))}function S1(m,_){var k={};return k[m.toLowerCase()]=_.toLowerCase(),k["Webkit"+m]="webkit"+_,k["Moz"+m]="moz"+_,k}var Oh={animationend:S1("Animation","AnimationEnd"),animationiteration:S1("Animation","AnimationIteration"),animationstart:S1("Animation","AnimationStart"),transitionend:S1("Transition","TransitionEnd")},RT={},E5={};o&&(E5=document.createElement("div").style,"AnimationEvent"in window||(delete Oh.animationend.animation,delete Oh.animationiteration.animation,delete Oh.animationstart.animation),"TransitionEvent"in window||delete Oh.transitionend.transition);function D1(m){if(RT[m])return RT[m];if(!Oh[m])return m;var _=Oh[m],k;for(k in _)if(_.hasOwnProperty(k)&&k in E5)return RT[m]=_[k];return m}var C5=D1("animationend"),S5=D1("animationiteration"),D5=D1("animationstart"),A5=D1("transitionend"),N5=new Map,k5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jc(m,_){N5.set(m,_),s(_,[m])}for(var FT=0;FT<k5.length;FT++){var MT=k5[FT],qQ=MT.toLowerCase(),$Q=MT[0].toUpperCase()+MT.slice(1);Jc(qQ,"on"+$Q)}Jc(C5,"onAnimationEnd"),Jc(S5,"onAnimationIteration"),Jc(D5,"onAnimationStart"),Jc("dblclick","onDoubleClick"),Jc("focusin","onFocus"),Jc("focusout","onBlur"),Jc(A5,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(wg));function I5(m,_,k){var L=m.type||"unknown-event";m.currentTarget=k,Ne(L,_,void 0,m),m.currentTarget=null}function P5(m,_){_=(_&4)!==0;for(var k=0;k<m.length;k++){var L=m[k],K=L.event;L=L.listeners;e:{var ne=void 0;if(_)for(var ge=L.length-1;0<=ge;ge--){var Ue=L[ge],je=Ue.instance,Ze=Ue.currentTarget;if(Ue=Ue.listener,je!==ne&&K.isPropagationStopped())break e;I5(K,Ue,Ze),ne=je}else for(ge=0;ge<L.length;ge++){if(Ue=L[ge],je=Ue.instance,Ze=Ue.currentTarget,Ue=Ue.listener,je!==ne&&K.isPropagationStopped())break e;I5(K,Ue,Ze),ne=je}}}if(pe)throw m=we,pe=!1,we=null,m}function fr(m,_){var k=_[qT];k===void 0&&(k=_[qT]=new Set);var L=m+"__bubble";k.has(L)||(R5(_,m,2,!1),k.add(L))}function OT(m,_,k){var L=0;_&&(L|=4),R5(k,m,L,_)}var A1="_reactListening"+Math.random().toString(36).slice(2);function Tg(m){if(!m[A1]){m[A1]=!0,r.forEach(function(k){k!=="selectionchange"&&(zQ.has(k)||OT(k,!1,m),OT(k,!0,m))});var _=m.nodeType===9?m:m.ownerDocument;_===null||_[A1]||(_[A1]=!0,OT("selectionchange",!1,_))}}function R5(m,_,k,L){switch(hg(_)){case 1:var K=_r;break;case 4:K=ST;break;default:K=fg}k=K.bind(null,_,k,m),K=void 0,!Cn||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(K=!0),L?K!==void 0?m.addEventListener(_,k,{capture:!0,passive:K}):m.addEventListener(_,k,!0):K!==void 0?m.addEventListener(_,k,{passive:K}):m.addEventListener(_,k,!1)}function UT(m,_,k,L,K){var ne=L;if((_&1)===0&&(_&2)===0&&L!==null)e:for(;;){if(L===null)return;var ge=L.tag;if(ge===3||ge===4){var Ue=L.stateNode.containerInfo;if(Ue===K||Ue.nodeType===8&&Ue.parentNode===K)break;if(ge===4)for(ge=L.return;ge!==null;){var je=ge.tag;if((je===3||je===4)&&(je=ge.stateNode.containerInfo,je===K||je.nodeType===8&&je.parentNode===K))return;ge=ge.return}for(;Ue!==null;){if(ge=Sd(Ue),ge===null)return;if(je=ge.tag,je===5||je===6){L=ne=ge;continue e}Ue=Ue.parentNode}}L=L.return}Ut(function(){var Ze=ne,dt=Ln(k),pt=[];e:{var lt=N5.get(m);if(lt!==void 0){var kt=Dh,Mt=m;switch(m){case"keypress":if(Sh(k)===0)break e;case"keydown":case"keyup":kt=ee;break;case"focusin":Mt="focus",kt=Ih;break;case"focusout":Mt="blur",kt=Ih;break;case"beforeblur":case"afterblur":kt=Ih;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=v1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=tt;break;case C5:case S5:case D5:kt=$l;break;case A5:kt=qn;break;case"scroll":kt=DT;break;case"wheel":kt=wn;break;case"copy":case"cut":case"paste":kt=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Ae}var Lt=(_&4)!==0,Zr=!Lt&&m==="scroll",Ke=Lt?lt!==null?lt+"Capture":null:lt;Lt=[];for(var Be=Ze,Ye;Be!==null;){Ye=Be;var yt=Ye.stateNode;if(Ye.tag===5&&yt!==null&&(Ye=yt,Ke!==null&&(yt=zt(Be,Ke),yt!=null&&Lt.push(Eg(Be,yt,Ye)))),Zr)break;Be=Be.return}0<Lt.length&&(lt=new kt(lt,Mt,null,k,dt),pt.push({event:lt,listeners:Lt}))}}if((_&7)===0){e:{if(lt=m==="mouseover"||m==="pointerover",kt=m==="mouseout"||m==="pointerout",lt&&k!==En&&(Mt=k.relatedTarget||k.fromElement)&&(Sd(Mt)||Mt[zl]))break e;if((kt||lt)&&(lt=dt.window===dt?dt:(lt=dt.ownerDocument)?lt.defaultView||lt.parentWindow:window,kt?(Mt=k.relatedTarget||k.toElement,kt=Ze,Mt=Mt?Sd(Mt):null,Mt!==null&&(Zr=De(Mt),Mt!==Zr||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(kt=null,Mt=Ze),kt!==Mt)){if(Lt=Nh,yt="onMouseLeave",Ke="onMouseEnter",Be="mouse",(m==="pointerout"||m==="pointerover")&&(Lt=Ae,yt="onPointerLeave",Ke="onPointerEnter",Be="pointer"),Zr=kt==null?lt:jh(kt),Ye=Mt==null?lt:jh(Mt),lt=new Lt(yt,Be+"leave",kt,k,dt),lt.target=Zr,lt.relatedTarget=Ye,yt=null,Sd(dt)===Ze&&(Lt=new Lt(Ke,Be+"enter",Mt,k,dt),Lt.target=Ye,Lt.relatedTarget=Zr,yt=Lt),Zr=yt,kt&&Mt)t:{for(Lt=kt,Ke=Mt,Be=0,Ye=Lt;Ye;Ye=Uh(Ye))Be++;for(Ye=0,yt=Ke;yt;yt=Uh(yt))Ye++;for(;0<Be-Ye;)Lt=Uh(Lt),Be--;for(;0<Ye-Be;)Ke=Uh(Ke),Ye--;for(;Be--;){if(Lt===Ke||Ke!==null&&Lt===Ke.alternate)break t;Lt=Uh(Lt),Ke=Uh(Ke)}Lt=null}else Lt=null;kt!==null&&F5(pt,lt,kt,Lt,!1),Mt!==null&&Zr!==null&&F5(pt,Zr,Mt,Lt,!0)}}e:{if(lt=Ze?jh(Ze):window,kt=lt.nodeName&&lt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&lt.type==="file")var jt=MQ;else if(h5(lt))if(m5)jt=jQ;else{jt=UQ;var Ht=OQ}else(kt=lt.nodeName)&&kt.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(jt=LQ);if(jt&&(jt=jt(m,Ze))){p5(pt,jt,k,dt);break e}Ht&&Ht(m,lt,Ze),m==="focusout"&&(Ht=lt._wrapperState)&&Ht.controlled&&lt.type==="number"&&oe(lt,"number",lt.value)}switch(Ht=Ze?jh(Ze):window,m){case"focusin":(h5(Ht)||Ht.contentEditable==="true")&&(Mh=Ht,IT=Ze,_g=null);break;case"focusout":_g=IT=Mh=null;break;case"mousedown":PT=!0;break;case"contextmenu":case"mouseup":case"dragend":PT=!1,T5(pt,k,dt);break;case"selectionchange":if(WQ)break;case"keydown":case"keyup":T5(pt,k,dt)}var Gt;if(li)e:{switch(m){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else Fh?d5(m,k)&&(nn="onCompositionEnd"):m==="keydown"&&k.keyCode===229&&(nn="onCompositionStart");nn&&(Cd&&k.locale!=="ko"&&(Fh||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&Fh&&(Gt=pg()):(ga=dt,Ch="value"in ga?ga.value:ga.textContent,Fh=!0)),Ht=N1(Ze,nn),0<Ht.length&&(nn=new yg(nn,m,null,k,dt),pt.push({event:nn,listeners:Ht}),Gt?nn.data=Gt:(Gt=f5(k),Gt!==null&&(nn.data=Gt)))),(Gt=ya?IQ(m,k):PQ(m,k))&&(Ze=N1(Ze,"onBeforeInput"),0<Ze.length&&(dt=new yg("onBeforeInput","beforeinput",null,k,dt),pt.push({event:dt,listeners:Ze}),dt.data=Gt))}P5(pt,_)})}function Eg(m,_,k){return{instance:m,listener:_,currentTarget:k}}function N1(m,_){for(var k=_+"Capture",L=[];m!==null;){var K=m,ne=K.stateNode;K.tag===5&&ne!==null&&(K=ne,ne=zt(m,k),ne!=null&&L.unshift(Eg(m,ne,K)),ne=zt(m,_),ne!=null&&L.push(Eg(m,ne,K))),m=m.return}return L}function Uh(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function F5(m,_,k,L,K){for(var ne=_._reactName,ge=[];k!==null&&k!==L;){var Ue=k,je=Ue.alternate,Ze=Ue.stateNode;if(je!==null&&je===L)break;Ue.tag===5&&Ze!==null&&(Ue=Ze,K?(je=zt(k,ne),je!=null&&ge.unshift(Eg(k,je,Ue))):K||(je=zt(k,ne),je!=null&&ge.push(Eg(k,je,Ue)))),k=k.return}ge.length!==0&&m.push({event:_,listeners:ge})}var HQ=/\r\n?/g,GQ=/\u0000|\uFFFD/g;function M5(m){return(typeof m=="string"?m:""+m).replace(HQ,`
`).replace(GQ,"")}function k1(m,_,k){if(_=M5(_),M5(m)!==_&&k)throw Error(n(425))}function I1(){}var LT=null,jT=null;function BT(m,_){return m==="textarea"||m==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var VT=typeof setTimeout=="function"?setTimeout:void 0,KQ=typeof clearTimeout=="function"?clearTimeout:void 0,O5=typeof Promise=="function"?Promise:void 0,JQ=typeof queueMicrotask=="function"?queueMicrotask:typeof O5<"u"?function(m){return O5.resolve(null).then(m).catch(XQ)}:VT;function XQ(m){setTimeout(function(){throw m})}function WT(m,_){var k=_,L=0;do{var K=k.nextSibling;if(m.removeChild(k),K&&K.nodeType===8)if(k=K.data,k==="/$"){if(L===0){m.removeChild(K),xo(_);return}L--}else k!=="$"&&k!=="$?"&&k!=="$!"||L++;k=K}while(k);xo(_)}function Xc(m){for(;m!=null;m=m.nextSibling){var _=m.nodeType;if(_===1||_===3)break;if(_===8){if(_=m.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return m}function U5(m){m=m.previousSibling;for(var _=0;m;){if(m.nodeType===8){var k=m.data;if(k==="$"||k==="$!"||k==="$?"){if(_===0)return m;_--}else k==="/$"&&_++}m=m.previousSibling}return null}var Lh=Math.random().toString(36).slice(2),el="__reactFiber$"+Lh,Cg="__reactProps$"+Lh,zl="__reactContainer$"+Lh,qT="__reactEvents$"+Lh,YQ="__reactListeners$"+Lh,QQ="__reactHandles$"+Lh;function Sd(m){var _=m[el];if(_)return _;for(var k=m.parentNode;k;){if(_=k[zl]||k[el]){if(k=_.alternate,_.child!==null||k!==null&&k.child!==null)for(m=U5(m);m!==null;){if(k=m[el])return k;m=U5(m)}return _}m=k,k=m.parentNode}return null}function Sg(m){return m=m[el]||m[zl],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function jh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function P1(m){return m[Cg]||null}var $T=[],Bh=-1;function Yc(m){return{current:m}}function hr(m){0>Bh||(m.current=$T[Bh],$T[Bh]=null,Bh--)}function sr(m,_){Bh++,$T[Bh]=m.current,m.current=_}var Qc={},ns=Yc(Qc),zs=Yc(!1),Dd=Qc;function Vh(m,_){var k=m.type.contextTypes;if(!k)return Qc;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===_)return L.__reactInternalMemoizedMaskedChildContext;var K={},ne;for(ne in k)K[ne]=_[ne];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=_,m.__reactInternalMemoizedMaskedChildContext=K),K}function Hs(m){return m=m.childContextTypes,m!=null}function R1(){hr(zs),hr(ns)}function L5(m,_,k){if(ns.current!==Qc)throw Error(n(168));sr(ns,_),sr(zs,k)}function j5(m,_,k){var L=m.stateNode;if(_=_.childContextTypes,typeof L.getChildContext!="function")return k;L=L.getChildContext();for(var K in L)if(!(K in _))throw Error(n(108,ae(m)||"Unknown",K));return Y({},k,L)}function F1(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Qc,Dd=ns.current,sr(ns,m),sr(zs,zs.current),!0}function B5(m,_,k){var L=m.stateNode;if(!L)throw Error(n(169));k?(m=j5(m,_,Dd),L.__reactInternalMemoizedMergedChildContext=m,hr(zs),hr(ns),sr(ns,m)):hr(zs),sr(zs,k)}var Hl=null,M1=!1,zT=!1;function V5(m){Hl===null?Hl=[m]:Hl.push(m)}function ZQ(m){M1=!0,V5(m)}function Zc(){if(!zT&&Hl!==null){zT=!0;var m=0,_=bn;try{var k=Hl;for(bn=1;m<k.length;m++){var L=k[m];do L=L(!0);while(L!==null)}Hl=null,M1=!1}catch(K){throw Hl!==null&&(Hl=Hl.slice(m+1)),ut(Un,Zc),K}finally{bn=_,zT=!1}}return null}var Wh=[],qh=0,O1=null,U1=0,Ua=[],La=0,Ad=null,Gl=1,Kl="";function Nd(m,_){Wh[qh++]=U1,Wh[qh++]=O1,O1=m,U1=_}function W5(m,_,k){Ua[La++]=Gl,Ua[La++]=Kl,Ua[La++]=Ad,Ad=m;var L=Gl;m=Kl;var K=32-dr(L)-1;L&=~(1<<K),k+=1;var ne=32-dr(_)+K;if(30<ne){var ge=K-K%5;ne=(L&(1<<ge)-1).toString(32),L>>=ge,K-=ge,Gl=1<<32-dr(_)+K|k<<K|L,Kl=ne+m}else Gl=1<<ne|k<<K|L,Kl=m}function HT(m){m.return!==null&&(Nd(m,1),W5(m,1,0))}function GT(m){for(;m===O1;)O1=Wh[--qh],Wh[qh]=null,U1=Wh[--qh],Wh[qh]=null;for(;m===Ad;)Ad=Ua[--La],Ua[La]=null,Kl=Ua[--La],Ua[La]=null,Gl=Ua[--La],Ua[La]=null}var va=null,xa=null,wr=!1,wo=null;function q5(m,_){var k=Wa(5,null,null,0);k.elementType="DELETED",k.stateNode=_,k.return=m,_=m.deletions,_===null?(m.deletions=[k],m.flags|=16):_.push(k)}function $5(m,_){switch(m.tag){case 5:var k=m.type;return _=_.nodeType!==1||k.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(m.stateNode=_,va=m,xa=Xc(_.firstChild),!0):!1;case 6:return _=m.pendingProps===""||_.nodeType!==3?null:_,_!==null?(m.stateNode=_,va=m,xa=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(k=Ad!==null?{id:Gl,overflow:Kl}:null,m.memoizedState={dehydrated:_,treeContext:k,retryLane:1073741824},k=Wa(18,null,null,0),k.stateNode=_,k.return=m,m.child=k,va=m,xa=null,!0):!1;default:return!1}}function KT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function JT(m){if(wr){var _=xa;if(_){var k=_;if(!$5(m,_)){if(KT(m))throw Error(n(418));_=Xc(k.nextSibling);var L=va;_&&$5(m,_)?q5(L,k):(m.flags=m.flags&-4097|2,wr=!1,va=m)}}else{if(KT(m))throw Error(n(418));m.flags=m.flags&-4097|2,wr=!1,va=m}}}function z5(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;va=m}function L1(m){if(m!==va)return!1;if(!wr)return z5(m),wr=!0,!1;var _;if((_=m.tag!==3)&&!(_=m.tag!==5)&&(_=m.type,_=_!=="head"&&_!=="body"&&!BT(m.type,m.memoizedProps)),_&&(_=xa)){if(KT(m))throw H5(),Error(n(418));for(;_;)q5(m,_),_=Xc(_.nextSibling)}if(z5(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,_=0;m;){if(m.nodeType===8){var k=m.data;if(k==="/$"){if(_===0){xa=Xc(m.nextSibling);break e}_--}else k!=="$"&&k!=="$!"&&k!=="$?"||_++}m=m.nextSibling}xa=null}}else xa=va?Xc(m.stateNode.nextSibling):null;return!0}function H5(){for(var m=xa;m;)m=Xc(m.nextSibling)}function $h(){xa=va=null,wr=!1}function XT(m){wo===null?wo=[m]:wo.push(m)}var eZ=C.ReactCurrentBatchConfig;function Dg(m,_,k){if(m=k.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(n(309));var L=k.stateNode}if(!L)throw Error(n(147,m));var K=L,ne=""+m;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===ne?_.ref:(_=function(ge){var Ue=K.refs;ge===null?delete Ue[ne]:Ue[ne]=ge},_._stringRef=ne,_)}if(typeof m!="string")throw Error(n(284));if(!k._owner)throw Error(n(290,m))}return m}function j1(m,_){throw m=Object.prototype.toString.call(_),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":m))}function G5(m){var _=m._init;return _(m._payload)}function K5(m){function _(Ke,Be){if(m){var Ye=Ke.deletions;Ye===null?(Ke.deletions=[Be],Ke.flags|=16):Ye.push(Be)}}function k(Ke,Be){if(!m)return null;for(;Be!==null;)_(Ke,Be),Be=Be.sibling;return null}function L(Ke,Be){for(Ke=new Map;Be!==null;)Be.key!==null?Ke.set(Be.key,Be):Ke.set(Be.index,Be),Be=Be.sibling;return Ke}function K(Ke,Be){return Ke=ou(Ke,Be),Ke.index=0,Ke.sibling=null,Ke}function ne(Ke,Be,Ye){return Ke.index=Ye,m?(Ye=Ke.alternate,Ye!==null?(Ye=Ye.index,Ye<Be?(Ke.flags|=2,Be):Ye):(Ke.flags|=2,Be)):(Ke.flags|=1048576,Be)}function ge(Ke){return m&&Ke.alternate===null&&(Ke.flags|=2),Ke}function Ue(Ke,Be,Ye,yt){return Be===null||Be.tag!==6?(Be=VE(Ye,Ke.mode,yt),Be.return=Ke,Be):(Be=K(Be,Ye),Be.return=Ke,Be)}function je(Ke,Be,Ye,yt){var jt=Ye.type;return jt===A?dt(Ke,Be,Ye.props.children,yt,Ye.key):Be!==null&&(Be.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===X&&G5(jt)===Be.type)?(yt=K(Be,Ye.props),yt.ref=Dg(Ke,Be,Ye),yt.return=Ke,yt):(yt=cx(Ye.type,Ye.key,Ye.props,null,Ke.mode,yt),yt.ref=Dg(Ke,Be,Ye),yt.return=Ke,yt)}function Ze(Ke,Be,Ye,yt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ye.containerInfo||Be.stateNode.implementation!==Ye.implementation?(Be=WE(Ye,Ke.mode,yt),Be.return=Ke,Be):(Be=K(Be,Ye.children||[]),Be.return=Ke,Be)}function dt(Ke,Be,Ye,yt,jt){return Be===null||Be.tag!==7?(Be=Ud(Ye,Ke.mode,yt,jt),Be.return=Ke,Be):(Be=K(Be,Ye),Be.return=Ke,Be)}function pt(Ke,Be,Ye){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=VE(""+Be,Ke.mode,Ye),Be.return=Ke,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case S:return Ye=cx(Be.type,Be.key,Be.props,null,Ke.mode,Ye),Ye.ref=Dg(Ke,null,Be),Ye.return=Ke,Ye;case F:return Be=WE(Be,Ke.mode,Ye),Be.return=Ke,Be;case X:var yt=Be._init;return pt(Ke,yt(Be._payload),Ye)}if(Ie(Be)||W(Be))return Be=Ud(Be,Ke.mode,Ye,null),Be.return=Ke,Be;j1(Ke,Be)}return null}function lt(Ke,Be,Ye,yt){var jt=Be!==null?Be.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return jt!==null?null:Ue(Ke,Be,""+Ye,yt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case S:return Ye.key===jt?je(Ke,Be,Ye,yt):null;case F:return Ye.key===jt?Ze(Ke,Be,Ye,yt):null;case X:return jt=Ye._init,lt(Ke,Be,jt(Ye._payload),yt)}if(Ie(Ye)||W(Ye))return jt!==null?null:dt(Ke,Be,Ye,yt,null);j1(Ke,Ye)}return null}function kt(Ke,Be,Ye,yt,jt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Ke=Ke.get(Ye)||null,Ue(Be,Ke,""+yt,jt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case S:return Ke=Ke.get(yt.key===null?Ye:yt.key)||null,je(Be,Ke,yt,jt);case F:return Ke=Ke.get(yt.key===null?Ye:yt.key)||null,Ze(Be,Ke,yt,jt);case X:var Ht=yt._init;return kt(Ke,Be,Ye,Ht(yt._payload),jt)}if(Ie(yt)||W(yt))return Ke=Ke.get(Ye)||null,dt(Be,Ke,yt,jt,null);j1(Be,yt)}return null}function Mt(Ke,Be,Ye,yt){for(var jt=null,Ht=null,Gt=Be,nn=Be=0,Ii=null;Gt!==null&&nn<Ye.length;nn++){Gt.index>nn?(Ii=Gt,Gt=null):Ii=Gt.sibling;var In=lt(Ke,Gt,Ye[nn],yt);if(In===null){Gt===null&&(Gt=Ii);break}m&&Gt&&In.alternate===null&&_(Ke,Gt),Be=ne(In,Be,nn),Ht===null?jt=In:Ht.sibling=In,Ht=In,Gt=Ii}if(nn===Ye.length)return k(Ke,Gt),wr&&Nd(Ke,nn),jt;if(Gt===null){for(;nn<Ye.length;nn++)Gt=pt(Ke,Ye[nn],yt),Gt!==null&&(Be=ne(Gt,Be,nn),Ht===null?jt=Gt:Ht.sibling=Gt,Ht=Gt);return wr&&Nd(Ke,nn),jt}for(Gt=L(Ke,Gt);nn<Ye.length;nn++)Ii=kt(Gt,Ke,nn,Ye[nn],yt),Ii!==null&&(m&&Ii.alternate!==null&&Gt.delete(Ii.key===null?nn:Ii.key),Be=ne(Ii,Be,nn),Ht===null?jt=Ii:Ht.sibling=Ii,Ht=Ii);return m&&Gt.forEach(function(lu){return _(Ke,lu)}),wr&&Nd(Ke,nn),jt}function Lt(Ke,Be,Ye,yt){var jt=W(Ye);if(typeof jt!="function")throw Error(n(150));if(Ye=jt.call(Ye),Ye==null)throw Error(n(151));for(var Ht=jt=null,Gt=Be,nn=Be=0,Ii=null,In=Ye.next();Gt!==null&&!In.done;nn++,In=Ye.next()){Gt.index>nn?(Ii=Gt,Gt=null):Ii=Gt.sibling;var lu=lt(Ke,Gt,In.value,yt);if(lu===null){Gt===null&&(Gt=Ii);break}m&&Gt&&lu.alternate===null&&_(Ke,Gt),Be=ne(lu,Be,nn),Ht===null?jt=lu:Ht.sibling=lu,Ht=lu,Gt=Ii}if(In.done)return k(Ke,Gt),wr&&Nd(Ke,nn),jt;if(Gt===null){for(;!In.done;nn++,In=Ye.next())In=pt(Ke,In.value,yt),In!==null&&(Be=ne(In,Be,nn),Ht===null?jt=In:Ht.sibling=In,Ht=In);return wr&&Nd(Ke,nn),jt}for(Gt=L(Ke,Gt);!In.done;nn++,In=Ye.next())In=kt(Gt,Ke,nn,In.value,yt),In!==null&&(m&&In.alternate!==null&&Gt.delete(In.key===null?nn:In.key),Be=ne(In,Be,nn),Ht===null?jt=In:Ht.sibling=In,Ht=In);return m&&Gt.forEach(function(RZ){return _(Ke,RZ)}),wr&&Nd(Ke,nn),jt}function Zr(Ke,Be,Ye,yt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===A&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case S:e:{for(var jt=Ye.key,Ht=Be;Ht!==null;){if(Ht.key===jt){if(jt=Ye.type,jt===A){if(Ht.tag===7){k(Ke,Ht.sibling),Be=K(Ht,Ye.props.children),Be.return=Ke,Ke=Be;break e}}else if(Ht.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===X&&G5(jt)===Ht.type){k(Ke,Ht.sibling),Be=K(Ht,Ye.props),Be.ref=Dg(Ke,Ht,Ye),Be.return=Ke,Ke=Be;break e}k(Ke,Ht);break}else _(Ke,Ht);Ht=Ht.sibling}Ye.type===A?(Be=Ud(Ye.props.children,Ke.mode,yt,Ye.key),Be.return=Ke,Ke=Be):(yt=cx(Ye.type,Ye.key,Ye.props,null,Ke.mode,yt),yt.ref=Dg(Ke,Be,Ye),yt.return=Ke,Ke=yt)}return ge(Ke);case F:e:{for(Ht=Ye.key;Be!==null;){if(Be.key===Ht)if(Be.tag===4&&Be.stateNode.containerInfo===Ye.containerInfo&&Be.stateNode.implementation===Ye.implementation){k(Ke,Be.sibling),Be=K(Be,Ye.children||[]),Be.return=Ke,Ke=Be;break e}else{k(Ke,Be);break}else _(Ke,Be);Be=Be.sibling}Be=WE(Ye,Ke.mode,yt),Be.return=Ke,Ke=Be}return ge(Ke);case X:return Ht=Ye._init,Zr(Ke,Be,Ht(Ye._payload),yt)}if(Ie(Ye))return Mt(Ke,Be,Ye,yt);if(W(Ye))return Lt(Ke,Be,Ye,yt);j1(Ke,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"?(Ye=""+Ye,Be!==null&&Be.tag===6?(k(Ke,Be.sibling),Be=K(Be,Ye),Be.return=Ke,Ke=Be):(k(Ke,Be),Be=VE(Ye,Ke.mode,yt),Be.return=Ke,Ke=Be),ge(Ke)):k(Ke,Be)}return Zr}var zh=K5(!0),J5=K5(!1),B1=Yc(null),V1=null,Hh=null,YT=null;function QT(){YT=Hh=V1=null}function ZT(m){var _=B1.current;hr(B1),m._currentValue=_}function eE(m,_,k){for(;m!==null;){var L=m.alternate;if((m.childLanes&_)!==_?(m.childLanes|=_,L!==null&&(L.childLanes|=_)):L!==null&&(L.childLanes&_)!==_&&(L.childLanes|=_),m===k)break;m=m.return}}function Gh(m,_){V1=m,YT=Hh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&_)!==0&&(Gs=!0),m.firstContext=null)}function ja(m){var _=m._currentValue;if(YT!==m)if(m={context:m,memoizedValue:_,next:null},Hh===null){if(V1===null)throw Error(n(308));Hh=m,V1.dependencies={lanes:0,firstContext:m}}else Hh=Hh.next=m;return _}var kd=null;function tE(m){kd===null?kd=[m]:kd.push(m)}function X5(m,_,k,L){var K=_.interleaved;return K===null?(k.next=k,tE(_)):(k.next=K.next,K.next=k),_.interleaved=k,Jl(m,L)}function Jl(m,_){m.lanes|=_;var k=m.alternate;for(k!==null&&(k.lanes|=_),k=m,m=m.return;m!==null;)m.childLanes|=_,k=m.alternate,k!==null&&(k.childLanes|=_),k=m,m=m.return;return k.tag===3?k.stateNode:null}var eu=!1;function nE(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y5(m,_){m=m.updateQueue,_.updateQueue===m&&(_.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Xl(m,_){return{eventTime:m,lane:_,tag:0,payload:null,callback:null,next:null}}function tu(m,_,k){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(Sn&2)!==0){var K=L.pending;return K===null?_.next=_:(_.next=K.next,K.next=_),L.pending=_,Jl(m,k)}return K=L.interleaved,K===null?(_.next=_,tE(L)):(_.next=K.next,K.next=_),L.interleaved=_,Jl(m,k)}function W1(m,_,k){if(_=_.updateQueue,_!==null&&(_=_.shared,(k&4194240)!==0)){var L=_.lanes;L&=m.pendingLanes,k|=L,_.lanes=k,$c(m,k)}}function Q5(m,_){var k=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,k===L)){var K=null,ne=null;if(k=k.firstBaseUpdate,k!==null){do{var ge={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};ne===null?K=ne=ge:ne=ne.next=ge,k=k.next}while(k!==null);ne===null?K=ne=_:ne=ne.next=_}else K=ne=_;k={baseState:L.baseState,firstBaseUpdate:K,lastBaseUpdate:ne,shared:L.shared,effects:L.effects},m.updateQueue=k;return}m=k.lastBaseUpdate,m===null?k.firstBaseUpdate=_:m.next=_,k.lastBaseUpdate=_}function q1(m,_,k,L){var K=m.updateQueue;eu=!1;var ne=K.firstBaseUpdate,ge=K.lastBaseUpdate,Ue=K.shared.pending;if(Ue!==null){K.shared.pending=null;var je=Ue,Ze=je.next;je.next=null,ge===null?ne=Ze:ge.next=Ze,ge=je;var dt=m.alternate;dt!==null&&(dt=dt.updateQueue,Ue=dt.lastBaseUpdate,Ue!==ge&&(Ue===null?dt.firstBaseUpdate=Ze:Ue.next=Ze,dt.lastBaseUpdate=je))}if(ne!==null){var pt=K.baseState;ge=0,dt=Ze=je=null,Ue=ne;do{var lt=Ue.lane,kt=Ue.eventTime;if((L&lt)===lt){dt!==null&&(dt=dt.next={eventTime:kt,lane:0,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null});e:{var Mt=m,Lt=Ue;switch(lt=_,kt=k,Lt.tag){case 1:if(Mt=Lt.payload,typeof Mt=="function"){pt=Mt.call(kt,pt,lt);break e}pt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Lt.payload,lt=typeof Mt=="function"?Mt.call(kt,pt,lt):Mt,lt==null)break e;pt=Y({},pt,lt);break e;case 2:eu=!0}}Ue.callback!==null&&Ue.lane!==0&&(m.flags|=64,lt=K.effects,lt===null?K.effects=[Ue]:lt.push(Ue))}else kt={eventTime:kt,lane:lt,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null},dt===null?(Ze=dt=kt,je=pt):dt=dt.next=kt,ge|=lt;if(Ue=Ue.next,Ue===null){if(Ue=K.shared.pending,Ue===null)break;lt=Ue,Ue=lt.next,lt.next=null,K.lastBaseUpdate=lt,K.shared.pending=null}}while(!0);if(dt===null&&(je=pt),K.baseState=je,K.firstBaseUpdate=Ze,K.lastBaseUpdate=dt,_=K.shared.interleaved,_!==null){K=_;do ge|=K.lane,K=K.next;while(K!==_)}else ne===null&&(K.shared.lanes=0);Rd|=ge,m.lanes=ge,m.memoizedState=pt}}function Z5(m,_,k){if(m=_.effects,_.effects=null,m!==null)for(_=0;_<m.length;_++){var L=m[_],K=L.callback;if(K!==null){if(L.callback=null,L=k,typeof K!="function")throw Error(n(191,K));K.call(L)}}}var Ag={},tl=Yc(Ag),Ng=Yc(Ag),kg=Yc(Ag);function Id(m){if(m===Ag)throw Error(n(174));return m}function rE(m,_){switch(sr(kg,_),sr(Ng,m),sr(tl,Ag),m=_.nodeType,m){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:Ee(null,"");break;default:m=m===8?_.parentNode:_,_=m.namespaceURI||null,m=m.tagName,_=Ee(_,m)}hr(tl),sr(tl,_)}function Kh(){hr(tl),hr(Ng),hr(kg)}function eP(m){Id(kg.current);var _=Id(tl.current),k=Ee(_,m.type);_!==k&&(sr(Ng,m),sr(tl,k))}function iE(m){Ng.current===m&&(hr(tl),hr(Ng))}var Ir=Yc(0);function $1(m){for(var _=m;_!==null;){if(_.tag===13){var k=_.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var sE=[];function aE(){for(var m=0;m<sE.length;m++)sE[m]._workInProgressVersionPrimary=null;sE.length=0}var z1=C.ReactCurrentDispatcher,oE=C.ReactCurrentBatchConfig,Pd=0,Pr=null,yi=null,Ni=null,H1=!1,Ig=!1,Pg=0,tZ=0;function rs(){throw Error(n(321))}function lE(m,_){if(_===null)return!1;for(var k=0;k<_.length&&k<m.length;k++)if(!_o(m[k],_[k]))return!1;return!0}function cE(m,_,k,L,K,ne){if(Pd=ne,Pr=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,z1.current=m===null||m.memoizedState===null?sZ:aZ,m=k(L,K),Ig){ne=0;do{if(Ig=!1,Pg=0,25<=ne)throw Error(n(301));ne+=1,Ni=yi=null,_.updateQueue=null,z1.current=oZ,m=k(L,K)}while(Ig)}if(z1.current=J1,_=yi!==null&&yi.next!==null,Pd=0,Ni=yi=Pr=null,H1=!1,_)throw Error(n(300));return m}function uE(){var m=Pg!==0;return Pg=0,m}function nl(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?Pr.memoizedState=Ni=m:Ni=Ni.next=m,Ni}function Ba(){if(yi===null){var m=Pr.alternate;m=m!==null?m.memoizedState:null}else m=yi.next;var _=Ni===null?Pr.memoizedState:Ni.next;if(_!==null)Ni=_,yi=m;else{if(m===null)throw Error(n(310));yi=m,m={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},Ni===null?Pr.memoizedState=Ni=m:Ni=Ni.next=m}return Ni}function Rg(m,_){return typeof _=="function"?_(m):_}function dE(m){var _=Ba(),k=_.queue;if(k===null)throw Error(n(311));k.lastRenderedReducer=m;var L=yi,K=L.baseQueue,ne=k.pending;if(ne!==null){if(K!==null){var ge=K.next;K.next=ne.next,ne.next=ge}L.baseQueue=K=ne,k.pending=null}if(K!==null){ne=K.next,L=L.baseState;var Ue=ge=null,je=null,Ze=ne;do{var dt=Ze.lane;if((Pd&dt)===dt)je!==null&&(je=je.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),L=Ze.hasEagerState?Ze.eagerState:m(L,Ze.action);else{var pt={lane:dt,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};je===null?(Ue=je=pt,ge=L):je=je.next=pt,Pr.lanes|=dt,Rd|=dt}Ze=Ze.next}while(Ze!==null&&Ze!==ne);je===null?ge=L:je.next=Ue,_o(L,_.memoizedState)||(Gs=!0),_.memoizedState=L,_.baseState=ge,_.baseQueue=je,k.lastRenderedState=L}if(m=k.interleaved,m!==null){K=m;do ne=K.lane,Pr.lanes|=ne,Rd|=ne,K=K.next;while(K!==m)}else K===null&&(k.lanes=0);return[_.memoizedState,k.dispatch]}function fE(m){var _=Ba(),k=_.queue;if(k===null)throw Error(n(311));k.lastRenderedReducer=m;var L=k.dispatch,K=k.pending,ne=_.memoizedState;if(K!==null){k.pending=null;var ge=K=K.next;do ne=m(ne,ge.action),ge=ge.next;while(ge!==K);_o(ne,_.memoizedState)||(Gs=!0),_.memoizedState=ne,_.baseQueue===null&&(_.baseState=ne),k.lastRenderedState=ne}return[ne,L]}function tP(){}function nP(m,_){var k=Pr,L=Ba(),K=_(),ne=!_o(L.memoizedState,K);if(ne&&(L.memoizedState=K,Gs=!0),L=L.queue,hE(sP.bind(null,k,L,m),[m]),L.getSnapshot!==_||ne||Ni!==null&&Ni.memoizedState.tag&1){if(k.flags|=2048,Fg(9,iP.bind(null,k,L,K,_),void 0,null),ki===null)throw Error(n(349));(Pd&30)!==0||rP(k,_,K)}return K}function rP(m,_,k){m.flags|=16384,m={getSnapshot:_,value:k},_=Pr.updateQueue,_===null?(_={lastEffect:null,stores:null},Pr.updateQueue=_,_.stores=[m]):(k=_.stores,k===null?_.stores=[m]:k.push(m))}function iP(m,_,k,L){_.value=k,_.getSnapshot=L,aP(_)&&oP(m)}function sP(m,_,k){return k(function(){aP(_)&&oP(m)})}function aP(m){var _=m.getSnapshot;m=m.value;try{var k=_();return!_o(m,k)}catch{return!0}}function oP(m){var _=Jl(m,1);_!==null&&So(_,m,1,-1)}function lP(m){var _=nl();return typeof m=="function"&&(m=m()),_.memoizedState=_.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:m},_.queue=m,m=m.dispatch=iZ.bind(null,Pr,m),[_.memoizedState,m]}function Fg(m,_,k,L){return m={tag:m,create:_,destroy:k,deps:L,next:null},_=Pr.updateQueue,_===null?(_={lastEffect:null,stores:null},Pr.updateQueue=_,_.lastEffect=m.next=m):(k=_.lastEffect,k===null?_.lastEffect=m.next=m:(L=k.next,k.next=m,m.next=L,_.lastEffect=m)),m}function cP(){return Ba().memoizedState}function G1(m,_,k,L){var K=nl();Pr.flags|=m,K.memoizedState=Fg(1|_,k,void 0,L===void 0?null:L)}function K1(m,_,k,L){var K=Ba();L=L===void 0?null:L;var ne=void 0;if(yi!==null){var ge=yi.memoizedState;if(ne=ge.destroy,L!==null&&lE(L,ge.deps)){K.memoizedState=Fg(_,k,ne,L);return}}Pr.flags|=m,K.memoizedState=Fg(1|_,k,ne,L)}function uP(m,_){return G1(8390656,8,m,_)}function hE(m,_){return K1(2048,8,m,_)}function dP(m,_){return K1(4,2,m,_)}function fP(m,_){return K1(4,4,m,_)}function hP(m,_){if(typeof _=="function")return m=m(),_(m),function(){_(null)};if(_!=null)return m=m(),_.current=m,function(){_.current=null}}function pP(m,_,k){return k=k!=null?k.concat([m]):null,K1(4,4,hP.bind(null,_,m),k)}function pE(){}function mP(m,_){var k=Ba();_=_===void 0?null:_;var L=k.memoizedState;return L!==null&&_!==null&&lE(_,L[1])?L[0]:(k.memoizedState=[m,_],m)}function gP(m,_){var k=Ba();_=_===void 0?null:_;var L=k.memoizedState;return L!==null&&_!==null&&lE(_,L[1])?L[0]:(m=m(),k.memoizedState=[m,_],m)}function yP(m,_,k){return(Pd&21)===0?(m.baseState&&(m.baseState=!1,Gs=!0),m.memoizedState=k):(_o(k,_)||(k=_d(),Pr.lanes|=k,Rd|=k,m.baseState=!0),_)}function nZ(m,_){var k=bn;bn=k!==0&&4>k?k:4,m(!0);var L=oE.transition;oE.transition={};try{m(!1),_()}finally{bn=k,oE.transition=L}}function vP(){return Ba().memoizedState}function rZ(m,_,k){var L=su(m);if(k={lane:L,action:k,hasEagerState:!1,eagerState:null,next:null},xP(m))bP(_,k);else if(k=X5(m,_,k,L),k!==null){var K=ks();So(k,m,L,K),_P(k,_,L)}}function iZ(m,_,k){var L=su(m),K={lane:L,action:k,hasEagerState:!1,eagerState:null,next:null};if(xP(m))bP(_,K);else{var ne=m.alternate;if(m.lanes===0&&(ne===null||ne.lanes===0)&&(ne=_.lastRenderedReducer,ne!==null))try{var ge=_.lastRenderedState,Ue=ne(ge,k);if(K.hasEagerState=!0,K.eagerState=Ue,_o(Ue,ge)){var je=_.interleaved;je===null?(K.next=K,tE(_)):(K.next=je.next,je.next=K),_.interleaved=K;return}}catch{}finally{}k=X5(m,_,K,L),k!==null&&(K=ks(),So(k,m,L,K),_P(k,_,L))}}function xP(m){var _=m.alternate;return m===Pr||_!==null&&_===Pr}function bP(m,_){Ig=H1=!0;var k=m.pending;k===null?_.next=_:(_.next=k.next,k.next=_),m.pending=_}function _P(m,_,k){if((k&4194240)!==0){var L=_.lanes;L&=m.pendingLanes,k|=L,_.lanes=k,$c(m,k)}}var J1={readContext:ja,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useInsertionEffect:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useSyncExternalStore:rs,useId:rs,unstable_isNewReconciler:!1},sZ={readContext:ja,useCallback:function(m,_){return nl().memoizedState=[m,_===void 0?null:_],m},useContext:ja,useEffect:uP,useImperativeHandle:function(m,_,k){return k=k!=null?k.concat([m]):null,G1(4194308,4,hP.bind(null,_,m),k)},useLayoutEffect:function(m,_){return G1(4194308,4,m,_)},useInsertionEffect:function(m,_){return G1(4,2,m,_)},useMemo:function(m,_){var k=nl();return _=_===void 0?null:_,m=m(),k.memoizedState=[m,_],m},useReducer:function(m,_,k){var L=nl();return _=k!==void 0?k(_):_,L.memoizedState=L.baseState=_,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:_},L.queue=m,m=m.dispatch=rZ.bind(null,Pr,m),[L.memoizedState,m]},useRef:function(m){var _=nl();return m={current:m},_.memoizedState=m},useState:lP,useDebugValue:pE,useDeferredValue:function(m){return nl().memoizedState=m},useTransition:function(){var m=lP(!1),_=m[0];return m=nZ.bind(null,m[1]),nl().memoizedState=m,[_,m]},useMutableSource:function(){},useSyncExternalStore:function(m,_,k){var L=Pr,K=nl();if(wr){if(k===void 0)throw Error(n(407));k=k()}else{if(k=_(),ki===null)throw Error(n(349));(Pd&30)!==0||rP(L,_,k)}K.memoizedState=k;var ne={value:k,getSnapshot:_};return K.queue=ne,uP(sP.bind(null,L,ne,m),[m]),L.flags|=2048,Fg(9,iP.bind(null,L,ne,k,_),void 0,null),k},useId:function(){var m=nl(),_=ki.identifierPrefix;if(wr){var k=Kl,L=Gl;k=(L&~(1<<32-dr(L)-1)).toString(32)+k,_=":"+_+"R"+k,k=Pg++,0<k&&(_+="H"+k.toString(32)),_+=":"}else k=tZ++,_=":"+_+"r"+k.toString(32)+":";return m.memoizedState=_},unstable_isNewReconciler:!1},aZ={readContext:ja,useCallback:mP,useContext:ja,useEffect:hE,useImperativeHandle:pP,useInsertionEffect:dP,useLayoutEffect:fP,useMemo:gP,useReducer:dE,useRef:cP,useState:function(){return dE(Rg)},useDebugValue:pE,useDeferredValue:function(m){var _=Ba();return yP(_,yi.memoizedState,m)},useTransition:function(){var m=dE(Rg)[0],_=Ba().memoizedState;return[m,_]},useMutableSource:tP,useSyncExternalStore:nP,useId:vP,unstable_isNewReconciler:!1},oZ={readContext:ja,useCallback:mP,useContext:ja,useEffect:hE,useImperativeHandle:pP,useInsertionEffect:dP,useLayoutEffect:fP,useMemo:gP,useReducer:fE,useRef:cP,useState:function(){return fE(Rg)},useDebugValue:pE,useDeferredValue:function(m){var _=Ba();return yi===null?_.memoizedState=m:yP(_,yi.memoizedState,m)},useTransition:function(){var m=fE(Rg)[0],_=Ba().memoizedState;return[m,_]},useMutableSource:tP,useSyncExternalStore:nP,useId:vP,unstable_isNewReconciler:!1};function To(m,_){if(m&&m.defaultProps){_=Y({},_),m=m.defaultProps;for(var k in m)_[k]===void 0&&(_[k]=m[k]);return _}return _}function mE(m,_,k,L){_=m.memoizedState,k=k(L,_),k=k==null?_:Y({},_,k),m.memoizedState=k,m.lanes===0&&(m.updateQueue.baseState=k)}var X1={isMounted:function(m){return(m=m._reactInternals)?De(m)===m:!1},enqueueSetState:function(m,_,k){m=m._reactInternals;var L=ks(),K=su(m),ne=Xl(L,K);ne.payload=_,k!=null&&(ne.callback=k),_=tu(m,ne,K),_!==null&&(So(_,m,K,L),W1(_,m,K))},enqueueReplaceState:function(m,_,k){m=m._reactInternals;var L=ks(),K=su(m),ne=Xl(L,K);ne.tag=1,ne.payload=_,k!=null&&(ne.callback=k),_=tu(m,ne,K),_!==null&&(So(_,m,K,L),W1(_,m,K))},enqueueForceUpdate:function(m,_){m=m._reactInternals;var k=ks(),L=su(m),K=Xl(k,L);K.tag=2,_!=null&&(K.callback=_),_=tu(m,K,L),_!==null&&(So(_,m,L,k),W1(_,m,L))}};function wP(m,_,k,L,K,ne,ge){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,ne,ge):_.prototype&&_.prototype.isPureReactComponent?!bg(k,L)||!bg(K,ne):!0}function TP(m,_,k){var L=!1,K=Qc,ne=_.contextType;return typeof ne=="object"&&ne!==null?ne=ja(ne):(K=Hs(_)?Dd:ns.current,L=_.contextTypes,ne=(L=L!=null)?Vh(m,K):Qc),_=new _(k,ne),m.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=X1,m.stateNode=_,_._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=K,m.__reactInternalMemoizedMaskedChildContext=ne),_}function EP(m,_,k,L){m=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(k,L),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(k,L),_.state!==m&&X1.enqueueReplaceState(_,_.state,null)}function gE(m,_,k,L){var K=m.stateNode;K.props=k,K.state=m.memoizedState,K.refs={},nE(m);var ne=_.contextType;typeof ne=="object"&&ne!==null?K.context=ja(ne):(ne=Hs(_)?Dd:ns.current,K.context=Vh(m,ne)),K.state=m.memoizedState,ne=_.getDerivedStateFromProps,typeof ne=="function"&&(mE(m,_,ne,k),K.state=m.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(_=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),_!==K.state&&X1.enqueueReplaceState(K,K.state,null),q1(m,k,K,L),K.state=m.memoizedState),typeof K.componentDidMount=="function"&&(m.flags|=4194308)}function Jh(m,_){try{var k="",L=_;do k+=Q(L),L=L.return;while(L);var K=k}catch(ne){K=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:m,source:_,stack:K,digest:null}}function yE(m,_,k){return{value:m,source:null,stack:k??null,digest:_??null}}function vE(m,_){try{console.error(_.value)}catch(k){setTimeout(function(){throw k})}}var lZ=typeof WeakMap=="function"?WeakMap:Map;function CP(m,_,k){k=Xl(-1,k),k.tag=3,k.payload={element:null};var L=_.value;return k.callback=function(){rx||(rx=!0,RE=L),vE(m,_)},k}function SP(m,_,k){k=Xl(-1,k),k.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var K=_.value;k.payload=function(){return L(K)},k.callback=function(){vE(m,_)}}var ne=m.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(k.callback=function(){vE(m,_),typeof L!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var ge=_.stack;this.componentDidCatch(_.value,{componentStack:ge!==null?ge:""})}),k}function DP(m,_,k){var L=m.pingCache;if(L===null){L=m.pingCache=new lZ;var K=new Set;L.set(_,K)}else K=L.get(_),K===void 0&&(K=new Set,L.set(_,K));K.has(k)||(K.add(k),m=wZ.bind(null,m,_,k),_.then(m,m))}function AP(m){do{var _;if((_=m.tag===13)&&(_=m.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return m;m=m.return}while(m!==null);return null}function NP(m,_,k,L,K){return(m.mode&1)===0?(m===_?m.flags|=65536:(m.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(_=Xl(-1,1),_.tag=2,tu(k,_,1))),k.lanes|=1),m):(m.flags|=65536,m.lanes=K,m)}var cZ=C.ReactCurrentOwner,Gs=!1;function Ns(m,_,k,L){_.child=m===null?J5(_,null,k,L):zh(_,m.child,k,L)}function kP(m,_,k,L,K){k=k.render;var ne=_.ref;return Gh(_,K),L=cE(m,_,k,L,ne,K),k=uE(),m!==null&&!Gs?(_.updateQueue=m.updateQueue,_.flags&=-2053,m.lanes&=~K,Yl(m,_,K)):(wr&&k&&HT(_),_.flags|=1,Ns(m,_,L,K),_.child)}function IP(m,_,k,L,K){if(m===null){var ne=k.type;return typeof ne=="function"&&!BE(ne)&&ne.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(_.tag=15,_.type=ne,PP(m,_,ne,L,K)):(m=cx(k.type,null,L,_,_.mode,K),m.ref=_.ref,m.return=_,_.child=m)}if(ne=m.child,(m.lanes&K)===0){var ge=ne.memoizedProps;if(k=k.compare,k=k!==null?k:bg,k(ge,L)&&m.ref===_.ref)return Yl(m,_,K)}return _.flags|=1,m=ou(ne,L),m.ref=_.ref,m.return=_,_.child=m}function PP(m,_,k,L,K){if(m!==null){var ne=m.memoizedProps;if(bg(ne,L)&&m.ref===_.ref)if(Gs=!1,_.pendingProps=L=ne,(m.lanes&K)!==0)(m.flags&131072)!==0&&(Gs=!0);else return _.lanes=m.lanes,Yl(m,_,K)}return xE(m,_,k,L,K)}function RP(m,_,k){var L=_.pendingProps,K=L.children,ne=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(Yh,ba),ba|=k;else{if((k&1073741824)===0)return m=ne!==null?ne.baseLanes|k:k,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:m,cachePool:null,transitions:null},_.updateQueue=null,sr(Yh,ba),ba|=m,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=ne!==null?ne.baseLanes:k,sr(Yh,ba),ba|=L}else ne!==null?(L=ne.baseLanes|k,_.memoizedState=null):L=k,sr(Yh,ba),ba|=L;return Ns(m,_,K,k),_.child}function FP(m,_){var k=_.ref;(m===null&&k!==null||m!==null&&m.ref!==k)&&(_.flags|=512,_.flags|=2097152)}function xE(m,_,k,L,K){var ne=Hs(k)?Dd:ns.current;return ne=Vh(_,ne),Gh(_,K),k=cE(m,_,k,L,ne,K),L=uE(),m!==null&&!Gs?(_.updateQueue=m.updateQueue,_.flags&=-2053,m.lanes&=~K,Yl(m,_,K)):(wr&&L&&HT(_),_.flags|=1,Ns(m,_,k,K),_.child)}function MP(m,_,k,L,K){if(Hs(k)){var ne=!0;F1(_)}else ne=!1;if(Gh(_,K),_.stateNode===null)Q1(m,_),TP(_,k,L),gE(_,k,L,K),L=!0;else if(m===null){var ge=_.stateNode,Ue=_.memoizedProps;ge.props=Ue;var je=ge.context,Ze=k.contextType;typeof Ze=="object"&&Ze!==null?Ze=ja(Ze):(Ze=Hs(k)?Dd:ns.current,Ze=Vh(_,Ze));var dt=k.getDerivedStateFromProps,pt=typeof dt=="function"||typeof ge.getSnapshotBeforeUpdate=="function";pt||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ue!==L||je!==Ze)&&EP(_,ge,L,Ze),eu=!1;var lt=_.memoizedState;ge.state=lt,q1(_,L,ge,K),je=_.memoizedState,Ue!==L||lt!==je||zs.current||eu?(typeof dt=="function"&&(mE(_,k,dt,L),je=_.memoizedState),(Ue=eu||wP(_,k,Ue,L,lt,je,Ze))?(pt||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(_.flags|=4194308)):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=L,_.memoizedState=je),ge.props=L,ge.state=je,ge.context=Ze,L=Ue):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),L=!1)}else{ge=_.stateNode,Y5(m,_),Ue=_.memoizedProps,Ze=_.type===_.elementType?Ue:To(_.type,Ue),ge.props=Ze,pt=_.pendingProps,lt=ge.context,je=k.contextType,typeof je=="object"&&je!==null?je=ja(je):(je=Hs(k)?Dd:ns.current,je=Vh(_,je));var kt=k.getDerivedStateFromProps;(dt=typeof kt=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ue!==pt||lt!==je)&&EP(_,ge,L,je),eu=!1,lt=_.memoizedState,ge.state=lt,q1(_,L,ge,K);var Mt=_.memoizedState;Ue!==pt||lt!==Mt||zs.current||eu?(typeof kt=="function"&&(mE(_,k,kt,L),Mt=_.memoizedState),(Ze=eu||wP(_,k,Ze,L,lt,Mt,je)||!1)?(dt||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(L,Mt,je),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(L,Mt,je)),typeof ge.componentDidUpdate=="function"&&(_.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof ge.componentDidUpdate!="function"||Ue===m.memoizedProps&&lt===m.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ue===m.memoizedProps&&lt===m.memoizedState||(_.flags|=1024),_.memoizedProps=L,_.memoizedState=Mt),ge.props=L,ge.state=Mt,ge.context=je,L=Ze):(typeof ge.componentDidUpdate!="function"||Ue===m.memoizedProps&&lt===m.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ue===m.memoizedProps&&lt===m.memoizedState||(_.flags|=1024),L=!1)}return bE(m,_,k,L,ne,K)}function bE(m,_,k,L,K,ne){FP(m,_);var ge=(_.flags&128)!==0;if(!L&&!ge)return K&&B5(_,k,!1),Yl(m,_,ne);L=_.stateNode,cZ.current=_;var Ue=ge&&typeof k.getDerivedStateFromError!="function"?null:L.render();return _.flags|=1,m!==null&&ge?(_.child=zh(_,m.child,null,ne),_.child=zh(_,null,Ue,ne)):Ns(m,_,Ue,ne),_.memoizedState=L.state,K&&B5(_,k,!0),_.child}function OP(m){var _=m.stateNode;_.pendingContext?L5(m,_.pendingContext,_.pendingContext!==_.context):_.context&&L5(m,_.context,!1),rE(m,_.containerInfo)}function UP(m,_,k,L,K){return $h(),XT(K),_.flags|=256,Ns(m,_,k,L),_.child}var _E={dehydrated:null,treeContext:null,retryLane:0};function wE(m){return{baseLanes:m,cachePool:null,transitions:null}}function LP(m,_,k){var L=_.pendingProps,K=Ir.current,ne=!1,ge=(_.flags&128)!==0,Ue;if((Ue=ge)||(Ue=m!==null&&m.memoizedState===null?!1:(K&2)!==0),Ue?(ne=!0,_.flags&=-129):(m===null||m.memoizedState!==null)&&(K|=1),sr(Ir,K&1),m===null)return JT(_),m=_.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((_.mode&1)===0?_.lanes=1:m.data==="$!"?_.lanes=8:_.lanes=1073741824,null):(ge=L.children,m=L.fallback,ne?(L=_.mode,ne=_.child,ge={mode:"hidden",children:ge},(L&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=ge):ne=ux(ge,L,0,null),m=Ud(m,L,k,null),ne.return=_,m.return=_,ne.sibling=m,_.child=ne,_.child.memoizedState=wE(k),_.memoizedState=_E,m):TE(_,ge));if(K=m.memoizedState,K!==null&&(Ue=K.dehydrated,Ue!==null))return uZ(m,_,ge,L,Ue,K,k);if(ne){ne=L.fallback,ge=_.mode,K=m.child,Ue=K.sibling;var je={mode:"hidden",children:L.children};return(ge&1)===0&&_.child!==K?(L=_.child,L.childLanes=0,L.pendingProps=je,_.deletions=null):(L=ou(K,je),L.subtreeFlags=K.subtreeFlags&14680064),Ue!==null?ne=ou(Ue,ne):(ne=Ud(ne,ge,k,null),ne.flags|=2),ne.return=_,L.return=_,L.sibling=ne,_.child=L,L=ne,ne=_.child,ge=m.child.memoizedState,ge=ge===null?wE(k):{baseLanes:ge.baseLanes|k,cachePool:null,transitions:ge.transitions},ne.memoizedState=ge,ne.childLanes=m.childLanes&~k,_.memoizedState=_E,L}return ne=m.child,m=ne.sibling,L=ou(ne,{mode:"visible",children:L.children}),(_.mode&1)===0&&(L.lanes=k),L.return=_,L.sibling=null,m!==null&&(k=_.deletions,k===null?(_.deletions=[m],_.flags|=16):k.push(m)),_.child=L,_.memoizedState=null,L}function TE(m,_){return _=ux({mode:"visible",children:_},m.mode,0,null),_.return=m,m.child=_}function Y1(m,_,k,L){return L!==null&&XT(L),zh(_,m.child,null,k),m=TE(_,_.pendingProps.children),m.flags|=2,_.memoizedState=null,m}function uZ(m,_,k,L,K,ne,ge){if(k)return _.flags&256?(_.flags&=-257,L=yE(Error(n(422))),Y1(m,_,ge,L)):_.memoizedState!==null?(_.child=m.child,_.flags|=128,null):(ne=L.fallback,K=_.mode,L=ux({mode:"visible",children:L.children},K,0,null),ne=Ud(ne,K,ge,null),ne.flags|=2,L.return=_,ne.return=_,L.sibling=ne,_.child=L,(_.mode&1)!==0&&zh(_,m.child,null,ge),_.child.memoizedState=wE(ge),_.memoizedState=_E,ne);if((_.mode&1)===0)return Y1(m,_,ge,null);if(K.data==="$!"){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Ue=L.dgst;return L=Ue,ne=Error(n(419)),L=yE(ne,L,void 0),Y1(m,_,ge,L)}if(Ue=(ge&m.childLanes)!==0,Gs||Ue){if(L=ki,L!==null){switch(ge&-ge){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(L.suspendedLanes|ge))!==0?0:K,K!==0&&K!==ne.retryLane&&(ne.retryLane=K,Jl(m,K),So(L,m,K,-1))}return jE(),L=yE(Error(n(421))),Y1(m,_,ge,L)}return K.data==="$?"?(_.flags|=128,_.child=m.child,_=TZ.bind(null,m),K._reactRetry=_,null):(m=ne.treeContext,xa=Xc(K.nextSibling),va=_,wr=!0,wo=null,m!==null&&(Ua[La++]=Gl,Ua[La++]=Kl,Ua[La++]=Ad,Gl=m.id,Kl=m.overflow,Ad=_),_=TE(_,L.children),_.flags|=4096,_)}function jP(m,_,k){m.lanes|=_;var L=m.alternate;L!==null&&(L.lanes|=_),eE(m.return,_,k)}function EE(m,_,k,L,K){var ne=m.memoizedState;ne===null?m.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:L,tail:k,tailMode:K}:(ne.isBackwards=_,ne.rendering=null,ne.renderingStartTime=0,ne.last=L,ne.tail=k,ne.tailMode=K)}function BP(m,_,k){var L=_.pendingProps,K=L.revealOrder,ne=L.tail;if(Ns(m,_,L.children,k),L=Ir.current,(L&2)!==0)L=L&1|2,_.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=_.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&jP(m,k,_);else if(m.tag===19)jP(m,k,_);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===_)break e;for(;m.sibling===null;){if(m.return===null||m.return===_)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(sr(Ir,L),(_.mode&1)===0)_.memoizedState=null;else switch(K){case"forwards":for(k=_.child,K=null;k!==null;)m=k.alternate,m!==null&&$1(m)===null&&(K=k),k=k.sibling;k=K,k===null?(K=_.child,_.child=null):(K=k.sibling,k.sibling=null),EE(_,!1,K,k,ne);break;case"backwards":for(k=null,K=_.child,_.child=null;K!==null;){if(m=K.alternate,m!==null&&$1(m)===null){_.child=K;break}m=K.sibling,K.sibling=k,k=K,K=m}EE(_,!0,k,null,ne);break;case"together":EE(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function Q1(m,_){(_.mode&1)===0&&m!==null&&(m.alternate=null,_.alternate=null,_.flags|=2)}function Yl(m,_,k){if(m!==null&&(_.dependencies=m.dependencies),Rd|=_.lanes,(k&_.childLanes)===0)return null;if(m!==null&&_.child!==m.child)throw Error(n(153));if(_.child!==null){for(m=_.child,k=ou(m,m.pendingProps),_.child=k,k.return=_;m.sibling!==null;)m=m.sibling,k=k.sibling=ou(m,m.pendingProps),k.return=_;k.sibling=null}return _.child}function dZ(m,_,k){switch(_.tag){case 3:OP(_),$h();break;case 5:eP(_);break;case 1:Hs(_.type)&&F1(_);break;case 4:rE(_,_.stateNode.containerInfo);break;case 10:var L=_.type._context,K=_.memoizedProps.value;sr(B1,L._currentValue),L._currentValue=K;break;case 13:if(L=_.memoizedState,L!==null)return L.dehydrated!==null?(sr(Ir,Ir.current&1),_.flags|=128,null):(k&_.child.childLanes)!==0?LP(m,_,k):(sr(Ir,Ir.current&1),m=Yl(m,_,k),m!==null?m.sibling:null);sr(Ir,Ir.current&1);break;case 19:if(L=(k&_.childLanes)!==0,(m.flags&128)!==0){if(L)return BP(m,_,k);_.flags|=128}if(K=_.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),sr(Ir,Ir.current),L)break;return null;case 22:case 23:return _.lanes=0,RP(m,_,k)}return Yl(m,_,k)}var VP,CE,WP,qP;VP=function(m,_){for(var k=_.child;k!==null;){if(k.tag===5||k.tag===6)m.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===_)break;for(;k.sibling===null;){if(k.return===null||k.return===_)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},CE=function(){},WP=function(m,_,k,L){var K=m.memoizedProps;if(K!==L){m=_.stateNode,Id(tl.current);var ne=null;switch(k){case"input":K=z(m,K),L=z(m,L),ne=[];break;case"select":K=Y({},K,{value:void 0}),L=Y({},L,{value:void 0}),ne=[];break;case"textarea":K=he(m,K),L=he(m,L),ne=[];break;default:typeof K.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=I1)}$t(k,L);var ge;k=null;for(Ze in K)if(!L.hasOwnProperty(Ze)&&K.hasOwnProperty(Ze)&&K[Ze]!=null)if(Ze==="style"){var Ue=K[Ze];for(ge in Ue)Ue.hasOwnProperty(ge)&&(k||(k={}),k[ge]="")}else Ze!=="dangerouslySetInnerHTML"&&Ze!=="children"&&Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&Ze!=="autoFocus"&&(i.hasOwnProperty(Ze)?ne||(ne=[]):(ne=ne||[]).push(Ze,null));for(Ze in L){var je=L[Ze];if(Ue=K!=null?K[Ze]:void 0,L.hasOwnProperty(Ze)&&je!==Ue&&(je!=null||Ue!=null))if(Ze==="style")if(Ue){for(ge in Ue)!Ue.hasOwnProperty(ge)||je&&je.hasOwnProperty(ge)||(k||(k={}),k[ge]="");for(ge in je)je.hasOwnProperty(ge)&&Ue[ge]!==je[ge]&&(k||(k={}),k[ge]=je[ge])}else k||(ne||(ne=[]),ne.push(Ze,k)),k=je;else Ze==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Ue=Ue?Ue.__html:void 0,je!=null&&Ue!==je&&(ne=ne||[]).push(Ze,je)):Ze==="children"?typeof je!="string"&&typeof je!="number"||(ne=ne||[]).push(Ze,""+je):Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ze)?(je!=null&&Ze==="onScroll"&&fr("scroll",m),ne||Ue===je||(ne=[])):(ne=ne||[]).push(Ze,je))}k&&(ne=ne||[]).push("style",k);var Ze=ne;(_.updateQueue=Ze)&&(_.flags|=4)}},qP=function(m,_,k,L){k!==L&&(_.flags|=4)};function Mg(m,_){if(!wr)switch(m.tailMode){case"hidden":_=m.tail;for(var k=null;_!==null;)_.alternate!==null&&(k=_),_=_.sibling;k===null?m.tail=null:k.sibling=null;break;case"collapsed":k=m.tail;for(var L=null;k!==null;)k.alternate!==null&&(L=k),k=k.sibling;L===null?_||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function is(m){var _=m.alternate!==null&&m.alternate.child===m.child,k=0,L=0;if(_)for(var K=m.child;K!==null;)k|=K.lanes|K.childLanes,L|=K.subtreeFlags&14680064,L|=K.flags&14680064,K.return=m,K=K.sibling;else for(K=m.child;K!==null;)k|=K.lanes|K.childLanes,L|=K.subtreeFlags,L|=K.flags,K.return=m,K=K.sibling;return m.subtreeFlags|=L,m.childLanes=k,_}function fZ(m,_,k){var L=_.pendingProps;switch(GT(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(_),null;case 1:return Hs(_.type)&&R1(),is(_),null;case 3:return L=_.stateNode,Kh(),hr(zs),hr(ns),aE(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(L1(_)?_.flags|=4:m===null||m.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,wo!==null&&(OE(wo),wo=null))),CE(m,_),is(_),null;case 5:iE(_);var K=Id(kg.current);if(k=_.type,m!==null&&_.stateNode!=null)WP(m,_,k,L,K),m.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!L){if(_.stateNode===null)throw Error(n(166));return is(_),null}if(m=Id(tl.current),L1(_)){L=_.stateNode,k=_.type;var ne=_.memoizedProps;switch(L[el]=_,L[Cg]=ne,m=(_.mode&1)!==0,k){case"dialog":fr("cancel",L),fr("close",L);break;case"iframe":case"object":case"embed":fr("load",L);break;case"video":case"audio":for(K=0;K<wg.length;K++)fr(wg[K],L);break;case"source":fr("error",L);break;case"img":case"image":case"link":fr("error",L),fr("load",L);break;case"details":fr("toggle",L);break;case"input":me(L,ne),fr("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!ne.multiple},fr("invalid",L);break;case"textarea":ye(L,ne),fr("invalid",L)}$t(k,ne),K=null;for(var ge in ne)if(ne.hasOwnProperty(ge)){var Ue=ne[ge];ge==="children"?typeof Ue=="string"?L.textContent!==Ue&&(ne.suppressHydrationWarning!==!0&&k1(L.textContent,Ue,m),K=["children",Ue]):typeof Ue=="number"&&L.textContent!==""+Ue&&(ne.suppressHydrationWarning!==!0&&k1(L.textContent,Ue,m),K=["children",""+Ue]):i.hasOwnProperty(ge)&&Ue!=null&&ge==="onScroll"&&fr("scroll",L)}switch(k){case"input":Fe(L),re(L,ne,!0);break;case"textarea":Fe(L),Te(L);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(L.onclick=I1)}L=K,_.updateQueue=L,L!==null&&(_.flags|=4)}else{ge=K.nodeType===9?K:K.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=Re(k)),m==="http://www.w3.org/1999/xhtml"?k==="script"?(m=ge.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=ge.createElement(k,{is:L.is}):(m=ge.createElement(k),k==="select"&&(ge=m,L.multiple?ge.multiple=!0:L.size&&(ge.size=L.size))):m=ge.createElementNS(m,k),m[el]=_,m[Cg]=L,VP(m,_,!1,!1),_.stateNode=m;e:{switch(ge=_n(k,L),k){case"dialog":fr("cancel",m),fr("close",m),K=L;break;case"iframe":case"object":case"embed":fr("load",m),K=L;break;case"video":case"audio":for(K=0;K<wg.length;K++)fr(wg[K],m);K=L;break;case"source":fr("error",m),K=L;break;case"img":case"image":case"link":fr("error",m),fr("load",m),K=L;break;case"details":fr("toggle",m),K=L;break;case"input":me(m,L),K=z(m,L),fr("invalid",m);break;case"option":K=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},K=Y({},L,{value:void 0}),fr("invalid",m);break;case"textarea":ye(m,L),K=he(m,L),fr("invalid",m);break;default:K=L}$t(k,K),Ue=K;for(ne in Ue)if(Ue.hasOwnProperty(ne)){var je=Ue[ne];ne==="style"?Ct(m,je):ne==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Me(m,je)):ne==="children"?typeof je=="string"?(k!=="textarea"||je!=="")&&Oe(m,je):typeof je=="number"&&Oe(m,""+je):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?je!=null&&ne==="onScroll"&&fr("scroll",m):je!=null&&w(m,ne,je,ge))}switch(k){case"input":Fe(m),re(m,L,!1);break;case"textarea":Fe(m),Te(m);break;case"option":L.value!=null&&m.setAttribute("value",""+ce(L.value));break;case"select":m.multiple=!!L.multiple,ne=L.value,ne!=null?ke(m,!!L.multiple,ne,!1):L.defaultValue!=null&&ke(m,!!L.multiple,L.defaultValue,!0);break;default:typeof K.onClick=="function"&&(m.onclick=I1)}switch(k){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return is(_),null;case 6:if(m&&_.stateNode!=null)qP(m,_,m.memoizedProps,L);else{if(typeof L!="string"&&_.stateNode===null)throw Error(n(166));if(k=Id(kg.current),Id(tl.current),L1(_)){if(L=_.stateNode,k=_.memoizedProps,L[el]=_,(ne=L.nodeValue!==k)&&(m=va,m!==null))switch(m.tag){case 3:k1(L.nodeValue,k,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&k1(L.nodeValue,k,(m.mode&1)!==0)}ne&&(_.flags|=4)}else L=(k.nodeType===9?k:k.ownerDocument).createTextNode(L),L[el]=_,_.stateNode=L}return is(_),null;case 13:if(hr(Ir),L=_.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(wr&&xa!==null&&(_.mode&1)!==0&&(_.flags&128)===0)H5(),$h(),_.flags|=98560,ne=!1;else if(ne=L1(_),L!==null&&L.dehydrated!==null){if(m===null){if(!ne)throw Error(n(318));if(ne=_.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(n(317));ne[el]=_}else $h(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;is(_),ne=!1}else wo!==null&&(OE(wo),wo=null),ne=!0;if(!ne)return _.flags&65536?_:null}return(_.flags&128)!==0?(_.lanes=k,_):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(_.child.flags|=8192,(_.mode&1)!==0&&(m===null||(Ir.current&1)!==0?vi===0&&(vi=3):jE())),_.updateQueue!==null&&(_.flags|=4),is(_),null);case 4:return Kh(),CE(m,_),m===null&&Tg(_.stateNode.containerInfo),is(_),null;case 10:return ZT(_.type._context),is(_),null;case 17:return Hs(_.type)&&R1(),is(_),null;case 19:if(hr(Ir),ne=_.memoizedState,ne===null)return is(_),null;if(L=(_.flags&128)!==0,ge=ne.rendering,ge===null)if(L)Mg(ne,!1);else{if(vi!==0||m!==null&&(m.flags&128)!==0)for(m=_.child;m!==null;){if(ge=$1(m),ge!==null){for(_.flags|=128,Mg(ne,!1),L=ge.updateQueue,L!==null&&(_.updateQueue=L,_.flags|=4),_.subtreeFlags=0,L=k,k=_.child;k!==null;)ne=k,m=L,ne.flags&=14680066,ge=ne.alternate,ge===null?(ne.childLanes=0,ne.lanes=m,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=ge.childLanes,ne.lanes=ge.lanes,ne.child=ge.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=ge.memoizedProps,ne.memoizedState=ge.memoizedState,ne.updateQueue=ge.updateQueue,ne.type=ge.type,m=ge.dependencies,ne.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),k=k.sibling;return sr(Ir,Ir.current&1|2),_.child}m=m.sibling}ne.tail!==null&&ft()>Qh&&(_.flags|=128,L=!0,Mg(ne,!1),_.lanes=4194304)}else{if(!L)if(m=$1(ge),m!==null){if(_.flags|=128,L=!0,k=m.updateQueue,k!==null&&(_.updateQueue=k,_.flags|=4),Mg(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!ge.alternate&&!wr)return is(_),null}else 2*ft()-ne.renderingStartTime>Qh&&k!==1073741824&&(_.flags|=128,L=!0,Mg(ne,!1),_.lanes=4194304);ne.isBackwards?(ge.sibling=_.child,_.child=ge):(k=ne.last,k!==null?k.sibling=ge:_.child=ge,ne.last=ge)}return ne.tail!==null?(_=ne.tail,ne.rendering=_,ne.tail=_.sibling,ne.renderingStartTime=ft(),_.sibling=null,k=Ir.current,sr(Ir,L?k&1|2:k&1),_):(is(_),null);case 22:case 23:return LE(),L=_.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(_.flags|=8192),L&&(_.mode&1)!==0?(ba&1073741824)!==0&&(is(_),_.subtreeFlags&6&&(_.flags|=8192)):is(_),null;case 24:return null;case 25:return null}throw Error(n(156,_.tag))}function hZ(m,_){switch(GT(_),_.tag){case 1:return Hs(_.type)&&R1(),m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 3:return Kh(),hr(zs),hr(ns),aE(),m=_.flags,(m&65536)!==0&&(m&128)===0?(_.flags=m&-65537|128,_):null;case 5:return iE(_),null;case 13:if(hr(Ir),m=_.memoizedState,m!==null&&m.dehydrated!==null){if(_.alternate===null)throw Error(n(340));$h()}return m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 19:return hr(Ir),null;case 4:return Kh(),null;case 10:return ZT(_.type._context),null;case 22:case 23:return LE(),null;case 24:return null;default:return null}}var Z1=!1,ss=!1,pZ=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Xh(m,_){var k=m.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(L){Vr(m,_,L)}else k.current=null}function SE(m,_,k){try{k()}catch(L){Vr(m,_,L)}}var $P=!1;function mZ(m,_){if(LT=Gc,m=w5(),kT(m)){if("selectionStart"in m)var k={start:m.selectionStart,end:m.selectionEnd};else e:{k=(k=m.ownerDocument)&&k.defaultView||window;var L=k.getSelection&&k.getSelection();if(L&&L.rangeCount!==0){k=L.anchorNode;var K=L.anchorOffset,ne=L.focusNode;L=L.focusOffset;try{k.nodeType,ne.nodeType}catch{k=null;break e}var ge=0,Ue=-1,je=-1,Ze=0,dt=0,pt=m,lt=null;t:for(;;){for(var kt;pt!==k||K!==0&&pt.nodeType!==3||(Ue=ge+K),pt!==ne||L!==0&&pt.nodeType!==3||(je=ge+L),pt.nodeType===3&&(ge+=pt.nodeValue.length),(kt=pt.firstChild)!==null;)lt=pt,pt=kt;for(;;){if(pt===m)break t;if(lt===k&&++Ze===K&&(Ue=ge),lt===ne&&++dt===L&&(je=ge),(kt=pt.nextSibling)!==null)break;pt=lt,lt=pt.parentNode}pt=kt}k=Ue===-1||je===-1?null:{start:Ue,end:je}}else k=null}k=k||{start:0,end:0}}else k=null;for(jT={focusedElem:m,selectionRange:k},Gc=!1,Pt=_;Pt!==null;)if(_=Pt,m=_.child,(_.subtreeFlags&1028)!==0&&m!==null)m.return=_,Pt=m;else for(;Pt!==null;){_=Pt;try{var Mt=_.alternate;if((_.flags&1024)!==0)switch(_.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Lt=Mt.memoizedProps,Zr=Mt.memoizedState,Ke=_.stateNode,Be=Ke.getSnapshotBeforeUpdate(_.elementType===_.type?Lt:To(_.type,Lt),Zr);Ke.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Ye=_.stateNode.containerInfo;Ye.nodeType===1?Ye.textContent="":Ye.nodeType===9&&Ye.documentElement&&Ye.removeChild(Ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(yt){Vr(_,_.return,yt)}if(m=_.sibling,m!==null){m.return=_.return,Pt=m;break}Pt=_.return}return Mt=$P,$P=!1,Mt}function Og(m,_,k){var L=_.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var K=L=L.next;do{if((K.tag&m)===m){var ne=K.destroy;K.destroy=void 0,ne!==void 0&&SE(_,k,ne)}K=K.next}while(K!==L)}}function ex(m,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var k=_=_.next;do{if((k.tag&m)===m){var L=k.create;k.destroy=L()}k=k.next}while(k!==_)}}function DE(m){var _=m.ref;if(_!==null){var k=m.stateNode;switch(m.tag){case 5:m=k;break;default:m=k}typeof _=="function"?_(m):_.current=m}}function zP(m){var _=m.alternate;_!==null&&(m.alternate=null,zP(_)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(_=m.stateNode,_!==null&&(delete _[el],delete _[Cg],delete _[qT],delete _[YQ],delete _[QQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function HP(m){return m.tag===5||m.tag===3||m.tag===4}function GP(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||HP(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function AE(m,_,k){var L=m.tag;if(L===5||L===6)m=m.stateNode,_?k.nodeType===8?k.parentNode.insertBefore(m,_):k.insertBefore(m,_):(k.nodeType===8?(_=k.parentNode,_.insertBefore(m,k)):(_=k,_.appendChild(m)),k=k._reactRootContainer,k!=null||_.onclick!==null||(_.onclick=I1));else if(L!==4&&(m=m.child,m!==null))for(AE(m,_,k),m=m.sibling;m!==null;)AE(m,_,k),m=m.sibling}function NE(m,_,k){var L=m.tag;if(L===5||L===6)m=m.stateNode,_?k.insertBefore(m,_):k.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(NE(m,_,k),m=m.sibling;m!==null;)NE(m,_,k),m=m.sibling}var Hi=null,Eo=!1;function nu(m,_,k){for(k=k.child;k!==null;)KP(m,_,k),k=k.sibling}function KP(m,_,k){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(pa,k)}catch{}switch(k.tag){case 5:ss||Xh(k,_);case 6:var L=Hi,K=Eo;Hi=null,nu(m,_,k),Hi=L,Eo=K,Hi!==null&&(Eo?(m=Hi,k=k.stateNode,m.nodeType===8?m.parentNode.removeChild(k):m.removeChild(k)):Hi.removeChild(k.stateNode));break;case 18:Hi!==null&&(Eo?(m=Hi,k=k.stateNode,m.nodeType===8?WT(m.parentNode,k):m.nodeType===1&&WT(m,k),xo(m)):WT(Hi,k.stateNode));break;case 4:L=Hi,K=Eo,Hi=k.stateNode.containerInfo,Eo=!0,nu(m,_,k),Hi=L,Eo=K;break;case 0:case 11:case 14:case 15:if(!ss&&(L=k.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){K=L=L.next;do{var ne=K,ge=ne.destroy;ne=ne.tag,ge!==void 0&&((ne&2)!==0||(ne&4)!==0)&&SE(k,_,ge),K=K.next}while(K!==L)}nu(m,_,k);break;case 1:if(!ss&&(Xh(k,_),L=k.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=k.memoizedProps,L.state=k.memoizedState,L.componentWillUnmount()}catch(Ue){Vr(k,_,Ue)}nu(m,_,k);break;case 21:nu(m,_,k);break;case 22:k.mode&1?(ss=(L=ss)||k.memoizedState!==null,nu(m,_,k),ss=L):nu(m,_,k);break;default:nu(m,_,k)}}function JP(m){var _=m.updateQueue;if(_!==null){m.updateQueue=null;var k=m.stateNode;k===null&&(k=m.stateNode=new pZ),_.forEach(function(L){var K=EZ.bind(null,m,L);k.has(L)||(k.add(L),L.then(K,K))})}}function Co(m,_){var k=_.deletions;if(k!==null)for(var L=0;L<k.length;L++){var K=k[L];try{var ne=m,ge=_,Ue=ge;e:for(;Ue!==null;){switch(Ue.tag){case 5:Hi=Ue.stateNode,Eo=!1;break e;case 3:Hi=Ue.stateNode.containerInfo,Eo=!0;break e;case 4:Hi=Ue.stateNode.containerInfo,Eo=!0;break e}Ue=Ue.return}if(Hi===null)throw Error(n(160));KP(ne,ge,K),Hi=null,Eo=!1;var je=K.alternate;je!==null&&(je.return=null),K.return=null}catch(Ze){Vr(K,_,Ze)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)XP(_,m),_=_.sibling}function XP(m,_){var k=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Co(_,m),rl(m),L&4){try{Og(3,m,m.return),ex(3,m)}catch(Lt){Vr(m,m.return,Lt)}try{Og(5,m,m.return)}catch(Lt){Vr(m,m.return,Lt)}}break;case 1:Co(_,m),rl(m),L&512&&k!==null&&Xh(k,k.return);break;case 5:if(Co(_,m),rl(m),L&512&&k!==null&&Xh(k,k.return),m.flags&32){var K=m.stateNode;try{Oe(K,"")}catch(Lt){Vr(m,m.return,Lt)}}if(L&4&&(K=m.stateNode,K!=null)){var ne=m.memoizedProps,ge=k!==null?k.memoizedProps:ne,Ue=m.type,je=m.updateQueue;if(m.updateQueue=null,je!==null)try{Ue==="input"&&ne.type==="radio"&&ne.name!=null&&be(K,ne),_n(Ue,ge);var Ze=_n(Ue,ne);for(ge=0;ge<je.length;ge+=2){var dt=je[ge],pt=je[ge+1];dt==="style"?Ct(K,pt):dt==="dangerouslySetInnerHTML"?Me(K,pt):dt==="children"?Oe(K,pt):w(K,dt,pt,Ze)}switch(Ue){case"input":le(K,ne);break;case"textarea":_e(K,ne);break;case"select":var lt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!ne.multiple;var kt=ne.value;kt!=null?ke(K,!!ne.multiple,kt,!1):lt!==!!ne.multiple&&(ne.defaultValue!=null?ke(K,!!ne.multiple,ne.defaultValue,!0):ke(K,!!ne.multiple,ne.multiple?[]:"",!1))}K[Cg]=ne}catch(Lt){Vr(m,m.return,Lt)}}break;case 6:if(Co(_,m),rl(m),L&4){if(m.stateNode===null)throw Error(n(162));K=m.stateNode,ne=m.memoizedProps;try{K.nodeValue=ne}catch(Lt){Vr(m,m.return,Lt)}}break;case 3:if(Co(_,m),rl(m),L&4&&k!==null&&k.memoizedState.isDehydrated)try{xo(_.containerInfo)}catch(Lt){Vr(m,m.return,Lt)}break;case 4:Co(_,m),rl(m);break;case 13:Co(_,m),rl(m),K=m.child,K.flags&8192&&(ne=K.memoizedState!==null,K.stateNode.isHidden=ne,!ne||K.alternate!==null&&K.alternate.memoizedState!==null||(PE=ft())),L&4&&JP(m);break;case 22:if(dt=k!==null&&k.memoizedState!==null,m.mode&1?(ss=(Ze=ss)||dt,Co(_,m),ss=Ze):Co(_,m),rl(m),L&8192){if(Ze=m.memoizedState!==null,(m.stateNode.isHidden=Ze)&&!dt&&(m.mode&1)!==0)for(Pt=m,dt=m.child;dt!==null;){for(pt=Pt=dt;Pt!==null;){switch(lt=Pt,kt=lt.child,lt.tag){case 0:case 11:case 14:case 15:Og(4,lt,lt.return);break;case 1:Xh(lt,lt.return);var Mt=lt.stateNode;if(typeof Mt.componentWillUnmount=="function"){L=lt,k=lt.return;try{_=L,Mt.props=_.memoizedProps,Mt.state=_.memoizedState,Mt.componentWillUnmount()}catch(Lt){Vr(L,k,Lt)}}break;case 5:Xh(lt,lt.return);break;case 22:if(lt.memoizedState!==null){ZP(pt);continue}}kt!==null?(kt.return=lt,Pt=kt):ZP(pt)}dt=dt.sibling}e:for(dt=null,pt=m;;){if(pt.tag===5){if(dt===null){dt=pt;try{K=pt.stateNode,Ze?(ne=K.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(Ue=pt.stateNode,je=pt.memoizedProps.style,ge=je!=null&&je.hasOwnProperty("display")?je.display:null,Ue.style.display=it("display",ge))}catch(Lt){Vr(m,m.return,Lt)}}}else if(pt.tag===6){if(dt===null)try{pt.stateNode.nodeValue=Ze?"":pt.memoizedProps}catch(Lt){Vr(m,m.return,Lt)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===m)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===m)break e;for(;pt.sibling===null;){if(pt.return===null||pt.return===m)break e;dt===pt&&(dt=null),pt=pt.return}dt===pt&&(dt=null),pt.sibling.return=pt.return,pt=pt.sibling}}break;case 19:Co(_,m),rl(m),L&4&&JP(m);break;case 21:break;default:Co(_,m),rl(m)}}function rl(m){var _=m.flags;if(_&2){try{e:{for(var k=m.return;k!==null;){if(HP(k)){var L=k;break e}k=k.return}throw Error(n(160))}switch(L.tag){case 5:var K=L.stateNode;L.flags&32&&(Oe(K,""),L.flags&=-33);var ne=GP(m);NE(m,ne,K);break;case 3:case 4:var ge=L.stateNode.containerInfo,Ue=GP(m);AE(m,Ue,ge);break;default:throw Error(n(161))}}catch(je){Vr(m,m.return,je)}m.flags&=-3}_&4096&&(m.flags&=-4097)}function gZ(m,_,k){Pt=m,YP(m)}function YP(m,_,k){for(var L=(m.mode&1)!==0;Pt!==null;){var K=Pt,ne=K.child;if(K.tag===22&&L){var ge=K.memoizedState!==null||Z1;if(!ge){var Ue=K.alternate,je=Ue!==null&&Ue.memoizedState!==null||ss;Ue=Z1;var Ze=ss;if(Z1=ge,(ss=je)&&!Ze)for(Pt=K;Pt!==null;)ge=Pt,je=ge.child,ge.tag===22&&ge.memoizedState!==null?eR(K):je!==null?(je.return=ge,Pt=je):eR(K);for(;ne!==null;)Pt=ne,YP(ne),ne=ne.sibling;Pt=K,Z1=Ue,ss=Ze}QP(m)}else(K.subtreeFlags&8772)!==0&&ne!==null?(ne.return=K,Pt=ne):QP(m)}}function QP(m){for(;Pt!==null;){var _=Pt;if((_.flags&8772)!==0){var k=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:ss||ex(5,_);break;case 1:var L=_.stateNode;if(_.flags&4&&!ss)if(k===null)L.componentDidMount();else{var K=_.elementType===_.type?k.memoizedProps:To(_.type,k.memoizedProps);L.componentDidUpdate(K,k.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var ne=_.updateQueue;ne!==null&&Z5(_,ne,L);break;case 3:var ge=_.updateQueue;if(ge!==null){if(k=null,_.child!==null)switch(_.child.tag){case 5:k=_.child.stateNode;break;case 1:k=_.child.stateNode}Z5(_,ge,k)}break;case 5:var Ue=_.stateNode;if(k===null&&_.flags&4){k=Ue;var je=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&k.focus();break;case"img":je.src&&(k.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var Ze=_.alternate;if(Ze!==null){var dt=Ze.memoizedState;if(dt!==null){var pt=dt.dehydrated;pt!==null&&xo(pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ss||_.flags&512&&DE(_)}catch(lt){Vr(_,_.return,lt)}}if(_===m){Pt=null;break}if(k=_.sibling,k!==null){k.return=_.return,Pt=k;break}Pt=_.return}}function ZP(m){for(;Pt!==null;){var _=Pt;if(_===m){Pt=null;break}var k=_.sibling;if(k!==null){k.return=_.return,Pt=k;break}Pt=_.return}}function eR(m){for(;Pt!==null;){var _=Pt;try{switch(_.tag){case 0:case 11:case 15:var k=_.return;try{ex(4,_)}catch(je){Vr(_,k,je)}break;case 1:var L=_.stateNode;if(typeof L.componentDidMount=="function"){var K=_.return;try{L.componentDidMount()}catch(je){Vr(_,K,je)}}var ne=_.return;try{DE(_)}catch(je){Vr(_,ne,je)}break;case 5:var ge=_.return;try{DE(_)}catch(je){Vr(_,ge,je)}}}catch(je){Vr(_,_.return,je)}if(_===m){Pt=null;break}var Ue=_.sibling;if(Ue!==null){Ue.return=_.return,Pt=Ue;break}Pt=_.return}}var yZ=Math.ceil,tx=C.ReactCurrentDispatcher,kE=C.ReactCurrentOwner,Va=C.ReactCurrentBatchConfig,Sn=0,ki=null,ci=null,Gi=0,ba=0,Yh=Yc(0),vi=0,Ug=null,Rd=0,nx=0,IE=0,Lg=null,Ks=null,PE=0,Qh=1/0,Ql=null,rx=!1,RE=null,ru=null,ix=!1,iu=null,sx=0,jg=0,FE=null,ax=-1,ox=0;function ks(){return(Sn&6)!==0?ft():ax!==-1?ax:ax=ft()}function su(m){return(m.mode&1)===0?1:(Sn&2)!==0&&Gi!==0?Gi&-Gi:eZ.transition!==null?(ox===0&&(ox=_d()),ox):(m=bn,m!==0||(m=window.event,m=m===void 0?16:hg(m.type)),m)}function So(m,_,k,L){if(50<jg)throw jg=0,FE=null,Error(n(185));qc(m,k,L),((Sn&2)===0||m!==ki)&&(m===ki&&((Sn&2)===0&&(nx|=k),vi===4&&au(m,Gi)),Js(m,L),k===1&&Sn===0&&(_.mode&1)===0&&(Qh=ft()+500,M1&&Zc()))}function Js(m,_){var k=m.callbackNode;Bl(m,_);var L=bd(m,m===ki?Gi:0);if(L===0)k!==null&&vt(k),m.callbackNode=null,m.callbackPriority=0;else if(_=L&-L,m.callbackPriority!==_){if(k!=null&&vt(k),_===1)m.tag===0?ZQ(nR.bind(null,m)):V5(nR.bind(null,m)),JQ(function(){(Sn&6)===0&&Zc()}),k=null;else{switch(zc(L)){case 1:k=Un;break;case 4:k=kn;break;case 16:k=Wn;break;case 536870912:k=Ko;break;default:k=Wn}k=uR(k,tR.bind(null,m))}m.callbackPriority=_,m.callbackNode=k}}function tR(m,_){if(ax=-1,ox=0,(Sn&6)!==0)throw Error(n(327));var k=m.callbackNode;if(Zh()&&m.callbackNode!==k)return null;var L=bd(m,m===ki?Gi:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||_)_=lx(m,L);else{_=L;var K=Sn;Sn|=2;var ne=iR();(ki!==m||Gi!==_)&&(Ql=null,Qh=ft()+500,Md(m,_));do try{bZ();break}catch(Ue){rR(m,Ue)}while(!0);QT(),tx.current=ne,Sn=K,ci!==null?_=0:(ki=null,Gi=0,_=vi)}if(_!==0){if(_===2&&(K=ma(m),K!==0&&(L=K,_=ME(m,K))),_===1)throw k=Ug,Md(m,0),au(m,L),Js(m,ft()),k;if(_===6)au(m,L);else{if(K=m.current.alternate,(L&30)===0&&!vZ(K)&&(_=lx(m,L),_===2&&(ne=ma(m),ne!==0&&(L=ne,_=ME(m,ne))),_===1))throw k=Ug,Md(m,0),au(m,L),Js(m,ft()),k;switch(m.finishedWork=K,m.finishedLanes=L,_){case 0:case 1:throw Error(n(345));case 2:Od(m,Ks,Ql);break;case 3:if(au(m,L),(L&130023424)===L&&(_=PE+500-ft(),10<_)){if(bd(m,0)!==0)break;if(K=m.suspendedLanes,(K&L)!==L){ks(),m.pingedLanes|=m.suspendedLanes&K;break}m.timeoutHandle=VT(Od.bind(null,m,Ks,Ql),_);break}Od(m,Ks,Ql);break;case 4:if(au(m,L),(L&4194240)===L)break;for(_=m.eventTimes,K=-1;0<L;){var ge=31-dr(L);ne=1<<ge,ge=_[ge],ge>K&&(K=ge),L&=~ne}if(L=K,L=ft()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*yZ(L/1960))-L,10<L){m.timeoutHandle=VT(Od.bind(null,m,Ks,Ql),L);break}Od(m,Ks,Ql);break;case 5:Od(m,Ks,Ql);break;default:throw Error(n(329))}}}return Js(m,ft()),m.callbackNode===k?tR.bind(null,m):null}function ME(m,_){var k=Lg;return m.current.memoizedState.isDehydrated&&(Md(m,_).flags|=256),m=lx(m,_),m!==2&&(_=Ks,Ks=k,_!==null&&OE(_)),m}function OE(m){Ks===null?Ks=m:Ks.push.apply(Ks,m)}function vZ(m){for(var _=m;;){if(_.flags&16384){var k=_.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var L=0;L<k.length;L++){var K=k[L],ne=K.getSnapshot;K=K.value;try{if(!_o(ne(),K))return!1}catch{return!1}}}if(k=_.child,_.subtreeFlags&16384&&k!==null)k.return=_,_=k;else{if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function au(m,_){for(_&=~IE,_&=~nx,m.suspendedLanes|=_,m.pingedLanes&=~_,m=m.expirationTimes;0<_;){var k=31-dr(_),L=1<<k;m[k]=-1,_&=~L}}function nR(m){if((Sn&6)!==0)throw Error(n(327));Zh();var _=bd(m,0);if((_&1)===0)return Js(m,ft()),null;var k=lx(m,_);if(m.tag!==0&&k===2){var L=ma(m);L!==0&&(_=L,k=ME(m,L))}if(k===1)throw k=Ug,Md(m,0),au(m,_),Js(m,ft()),k;if(k===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=_,Od(m,Ks,Ql),Js(m,ft()),null}function UE(m,_){var k=Sn;Sn|=1;try{return m(_)}finally{Sn=k,Sn===0&&(Qh=ft()+500,M1&&Zc())}}function Fd(m){iu!==null&&iu.tag===0&&(Sn&6)===0&&Zh();var _=Sn;Sn|=1;var k=Va.transition,L=bn;try{if(Va.transition=null,bn=1,m)return m()}finally{bn=L,Va.transition=k,Sn=_,(Sn&6)===0&&Zc()}}function LE(){ba=Yh.current,hr(Yh)}function Md(m,_){m.finishedWork=null,m.finishedLanes=0;var k=m.timeoutHandle;if(k!==-1&&(m.timeoutHandle=-1,KQ(k)),ci!==null)for(k=ci.return;k!==null;){var L=k;switch(GT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&R1();break;case 3:Kh(),hr(zs),hr(ns),aE();break;case 5:iE(L);break;case 4:Kh();break;case 13:hr(Ir);break;case 19:hr(Ir);break;case 10:ZT(L.type._context);break;case 22:case 23:LE()}k=k.return}if(ki=m,ci=m=ou(m.current,null),Gi=ba=_,vi=0,Ug=null,IE=nx=Rd=0,Ks=Lg=null,kd!==null){for(_=0;_<kd.length;_++)if(k=kd[_],L=k.interleaved,L!==null){k.interleaved=null;var K=L.next,ne=k.pending;if(ne!==null){var ge=ne.next;ne.next=K,L.next=ge}k.pending=L}kd=null}return m}function rR(m,_){do{var k=ci;try{if(QT(),z1.current=J1,H1){for(var L=Pr.memoizedState;L!==null;){var K=L.queue;K!==null&&(K.pending=null),L=L.next}H1=!1}if(Pd=0,Ni=yi=Pr=null,Ig=!1,Pg=0,kE.current=null,k===null||k.return===null){vi=1,Ug=_,ci=null;break}e:{var ne=m,ge=k.return,Ue=k,je=_;if(_=Gi,Ue.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ze=je,dt=Ue,pt=dt.tag;if((dt.mode&1)===0&&(pt===0||pt===11||pt===15)){var lt=dt.alternate;lt?(dt.updateQueue=lt.updateQueue,dt.memoizedState=lt.memoizedState,dt.lanes=lt.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var kt=AP(ge);if(kt!==null){kt.flags&=-257,NP(kt,ge,Ue,ne,_),kt.mode&1&&DP(ne,Ze,_),_=kt,je=Ze;var Mt=_.updateQueue;if(Mt===null){var Lt=new Set;Lt.add(je),_.updateQueue=Lt}else Mt.add(je);break e}else{if((_&1)===0){DP(ne,Ze,_),jE();break e}je=Error(n(426))}}else if(wr&&Ue.mode&1){var Zr=AP(ge);if(Zr!==null){(Zr.flags&65536)===0&&(Zr.flags|=256),NP(Zr,ge,Ue,ne,_),XT(Jh(je,Ue));break e}}ne=je=Jh(je,Ue),vi!==4&&(vi=2),Lg===null?Lg=[ne]:Lg.push(ne),ne=ge;do{switch(ne.tag){case 3:ne.flags|=65536,_&=-_,ne.lanes|=_;var Ke=CP(ne,je,_);Q5(ne,Ke);break e;case 1:Ue=je;var Be=ne.type,Ye=ne.stateNode;if((ne.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Ye!==null&&typeof Ye.componentDidCatch=="function"&&(ru===null||!ru.has(Ye)))){ne.flags|=65536,_&=-_,ne.lanes|=_;var yt=SP(ne,Ue,_);Q5(ne,yt);break e}}ne=ne.return}while(ne!==null)}aR(k)}catch(jt){_=jt,ci===k&&k!==null&&(ci=k=k.return);continue}break}while(!0)}function iR(){var m=tx.current;return tx.current=J1,m===null?J1:m}function jE(){(vi===0||vi===3||vi===2)&&(vi=4),ki===null||(Rd&268435455)===0&&(nx&268435455)===0||au(ki,Gi)}function lx(m,_){var k=Sn;Sn|=2;var L=iR();(ki!==m||Gi!==_)&&(Ql=null,Md(m,_));do try{xZ();break}catch(K){rR(m,K)}while(!0);if(QT(),Sn=k,tx.current=L,ci!==null)throw Error(n(261));return ki=null,Gi=0,vi}function xZ(){for(;ci!==null;)sR(ci)}function bZ(){for(;ci!==null&&!Dt();)sR(ci)}function sR(m){var _=cR(m.alternate,m,ba);m.memoizedProps=m.pendingProps,_===null?aR(m):ci=_,kE.current=null}function aR(m){var _=m;do{var k=_.alternate;if(m=_.return,(_.flags&32768)===0){if(k=fZ(k,_,ba),k!==null){ci=k;return}}else{if(k=hZ(k,_),k!==null){k.flags&=32767,ci=k;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{vi=6,ci=null;return}}if(_=_.sibling,_!==null){ci=_;return}ci=_=m}while(_!==null);vi===0&&(vi=5)}function Od(m,_,k){var L=bn,K=Va.transition;try{Va.transition=null,bn=1,_Z(m,_,k,L)}finally{Va.transition=K,bn=L}return null}function _Z(m,_,k,L){do Zh();while(iu!==null);if((Sn&6)!==0)throw Error(n(327));k=m.finishedWork;var K=m.finishedLanes;if(k===null)return null;if(m.finishedWork=null,m.finishedLanes=0,k===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var ne=k.lanes|k.childLanes;if(tr(m,ne),m===ki&&(ci=ki=null,Gi=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||ix||(ix=!0,uR(Wn,function(){return Zh(),null})),ne=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||ne){ne=Va.transition,Va.transition=null;var ge=bn;bn=1;var Ue=Sn;Sn|=4,kE.current=null,mZ(m,k),XP(k,m),VQ(jT),Gc=!!LT,jT=LT=null,m.current=k,gZ(k),mt(),Sn=Ue,bn=ge,Va.transition=ne}else m.current=k;if(ix&&(ix=!1,iu=m,sx=K),ne=m.pendingLanes,ne===0&&(ru=null),Bc(k.stateNode),Js(m,ft()),_!==null)for(L=m.onRecoverableError,k=0;k<_.length;k++)K=_[k],L(K.value,{componentStack:K.stack,digest:K.digest});if(rx)throw rx=!1,m=RE,RE=null,m;return(sx&1)!==0&&m.tag!==0&&Zh(),ne=m.pendingLanes,(ne&1)!==0?m===FE?jg++:(jg=0,FE=m):jg=0,Zc(),null}function Zh(){if(iu!==null){var m=zc(sx),_=Va.transition,k=bn;try{if(Va.transition=null,bn=16>m?16:m,iu===null)var L=!1;else{if(m=iu,iu=null,sx=0,(Sn&6)!==0)throw Error(n(331));var K=Sn;for(Sn|=4,Pt=m.current;Pt!==null;){var ne=Pt,ge=ne.child;if((Pt.flags&16)!==0){var Ue=ne.deletions;if(Ue!==null){for(var je=0;je<Ue.length;je++){var Ze=Ue[je];for(Pt=Ze;Pt!==null;){var dt=Pt;switch(dt.tag){case 0:case 11:case 15:Og(8,dt,ne)}var pt=dt.child;if(pt!==null)pt.return=dt,Pt=pt;else for(;Pt!==null;){dt=Pt;var lt=dt.sibling,kt=dt.return;if(zP(dt),dt===Ze){Pt=null;break}if(lt!==null){lt.return=kt,Pt=lt;break}Pt=kt}}}var Mt=ne.alternate;if(Mt!==null){var Lt=Mt.child;if(Lt!==null){Mt.child=null;do{var Zr=Lt.sibling;Lt.sibling=null,Lt=Zr}while(Lt!==null)}}Pt=ne}}if((ne.subtreeFlags&2064)!==0&&ge!==null)ge.return=ne,Pt=ge;else e:for(;Pt!==null;){if(ne=Pt,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:Og(9,ne,ne.return)}var Ke=ne.sibling;if(Ke!==null){Ke.return=ne.return,Pt=Ke;break e}Pt=ne.return}}var Be=m.current;for(Pt=Be;Pt!==null;){ge=Pt;var Ye=ge.child;if((ge.subtreeFlags&2064)!==0&&Ye!==null)Ye.return=ge,Pt=Ye;else e:for(ge=Be;Pt!==null;){if(Ue=Pt,(Ue.flags&2048)!==0)try{switch(Ue.tag){case 0:case 11:case 15:ex(9,Ue)}}catch(jt){Vr(Ue,Ue.return,jt)}if(Ue===ge){Pt=null;break e}var yt=Ue.sibling;if(yt!==null){yt.return=Ue.return,Pt=yt;break e}Pt=Ue.return}}if(Sn=K,Zc(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(pa,m)}catch{}L=!0}return L}finally{bn=k,Va.transition=_}}return!1}function oR(m,_,k){_=Jh(k,_),_=CP(m,_,1),m=tu(m,_,1),_=ks(),m!==null&&(qc(m,1,_),Js(m,_))}function Vr(m,_,k){if(m.tag===3)oR(m,m,k);else for(;_!==null;){if(_.tag===3){oR(_,m,k);break}else if(_.tag===1){var L=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(ru===null||!ru.has(L))){m=Jh(k,m),m=SP(_,m,1),_=tu(_,m,1),m=ks(),_!==null&&(qc(_,1,m),Js(_,m));break}}_=_.return}}function wZ(m,_,k){var L=m.pingCache;L!==null&&L.delete(_),_=ks(),m.pingedLanes|=m.suspendedLanes&k,ki===m&&(Gi&k)===k&&(vi===4||vi===3&&(Gi&130023424)===Gi&&500>ft()-PE?Md(m,0):IE|=k),Js(m,_)}function lR(m,_){_===0&&((m.mode&1)===0?_=1:(_=wh,wh<<=1,(wh&130023424)===0&&(wh=4194304)));var k=ks();m=Jl(m,_),m!==null&&(qc(m,_,k),Js(m,k))}function TZ(m){var _=m.memoizedState,k=0;_!==null&&(k=_.retryLane),lR(m,k)}function EZ(m,_){var k=0;switch(m.tag){case 13:var L=m.stateNode,K=m.memoizedState;K!==null&&(k=K.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(_),lR(m,k)}var cR;cR=function(m,_,k){if(m!==null)if(m.memoizedProps!==_.pendingProps||zs.current)Gs=!0;else{if((m.lanes&k)===0&&(_.flags&128)===0)return Gs=!1,dZ(m,_,k);Gs=(m.flags&131072)!==0}else Gs=!1,wr&&(_.flags&1048576)!==0&&W5(_,U1,_.index);switch(_.lanes=0,_.tag){case 2:var L=_.type;Q1(m,_),m=_.pendingProps;var K=Vh(_,ns.current);Gh(_,k),K=cE(null,_,L,m,K,k);var ne=uE();return _.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Hs(L)?(ne=!0,F1(_)):ne=!1,_.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,nE(_),K.updater=X1,_.stateNode=K,K._reactInternals=_,gE(_,L,m,k),_=bE(null,_,L,!0,ne,k)):(_.tag=0,wr&&ne&&HT(_),Ns(null,_,K,k),_=_.child),_;case 16:L=_.elementType;e:{switch(Q1(m,_),m=_.pendingProps,K=L._init,L=K(L._payload),_.type=L,K=_.tag=SZ(L),m=To(L,m),K){case 0:_=xE(null,_,L,m,k);break e;case 1:_=MP(null,_,L,m,k);break e;case 11:_=kP(null,_,L,m,k);break e;case 14:_=IP(null,_,L,To(L.type,m),k);break e}throw Error(n(306,L,""))}return _;case 0:return L=_.type,K=_.pendingProps,K=_.elementType===L?K:To(L,K),xE(m,_,L,K,k);case 1:return L=_.type,K=_.pendingProps,K=_.elementType===L?K:To(L,K),MP(m,_,L,K,k);case 3:e:{if(OP(_),m===null)throw Error(n(387));L=_.pendingProps,ne=_.memoizedState,K=ne.element,Y5(m,_),q1(_,L,null,k);var ge=_.memoizedState;if(L=ge.element,ne.isDehydrated)if(ne={element:L,isDehydrated:!1,cache:ge.cache,pendingSuspenseBoundaries:ge.pendingSuspenseBoundaries,transitions:ge.transitions},_.updateQueue.baseState=ne,_.memoizedState=ne,_.flags&256){K=Jh(Error(n(423)),_),_=UP(m,_,L,k,K);break e}else if(L!==K){K=Jh(Error(n(424)),_),_=UP(m,_,L,k,K);break e}else for(xa=Xc(_.stateNode.containerInfo.firstChild),va=_,wr=!0,wo=null,k=J5(_,null,L,k),_.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if($h(),L===K){_=Yl(m,_,k);break e}Ns(m,_,L,k)}_=_.child}return _;case 5:return eP(_),m===null&&JT(_),L=_.type,K=_.pendingProps,ne=m!==null?m.memoizedProps:null,ge=K.children,BT(L,K)?ge=null:ne!==null&&BT(L,ne)&&(_.flags|=32),FP(m,_),Ns(m,_,ge,k),_.child;case 6:return m===null&&JT(_),null;case 13:return LP(m,_,k);case 4:return rE(_,_.stateNode.containerInfo),L=_.pendingProps,m===null?_.child=zh(_,null,L,k):Ns(m,_,L,k),_.child;case 11:return L=_.type,K=_.pendingProps,K=_.elementType===L?K:To(L,K),kP(m,_,L,K,k);case 7:return Ns(m,_,_.pendingProps,k),_.child;case 8:return Ns(m,_,_.pendingProps.children,k),_.child;case 12:return Ns(m,_,_.pendingProps.children,k),_.child;case 10:e:{if(L=_.type._context,K=_.pendingProps,ne=_.memoizedProps,ge=K.value,sr(B1,L._currentValue),L._currentValue=ge,ne!==null)if(_o(ne.value,ge)){if(ne.children===K.children&&!zs.current){_=Yl(m,_,k);break e}}else for(ne=_.child,ne!==null&&(ne.return=_);ne!==null;){var Ue=ne.dependencies;if(Ue!==null){ge=ne.child;for(var je=Ue.firstContext;je!==null;){if(je.context===L){if(ne.tag===1){je=Xl(-1,k&-k),je.tag=2;var Ze=ne.updateQueue;if(Ze!==null){Ze=Ze.shared;var dt=Ze.pending;dt===null?je.next=je:(je.next=dt.next,dt.next=je),Ze.pending=je}}ne.lanes|=k,je=ne.alternate,je!==null&&(je.lanes|=k),eE(ne.return,k,_),Ue.lanes|=k;break}je=je.next}}else if(ne.tag===10)ge=ne.type===_.type?null:ne.child;else if(ne.tag===18){if(ge=ne.return,ge===null)throw Error(n(341));ge.lanes|=k,Ue=ge.alternate,Ue!==null&&(Ue.lanes|=k),eE(ge,k,_),ge=ne.sibling}else ge=ne.child;if(ge!==null)ge.return=ne;else for(ge=ne;ge!==null;){if(ge===_){ge=null;break}if(ne=ge.sibling,ne!==null){ne.return=ge.return,ge=ne;break}ge=ge.return}ne=ge}Ns(m,_,K.children,k),_=_.child}return _;case 9:return K=_.type,L=_.pendingProps.children,Gh(_,k),K=ja(K),L=L(K),_.flags|=1,Ns(m,_,L,k),_.child;case 14:return L=_.type,K=To(L,_.pendingProps),K=To(L.type,K),IP(m,_,L,K,k);case 15:return PP(m,_,_.type,_.pendingProps,k);case 17:return L=_.type,K=_.pendingProps,K=_.elementType===L?K:To(L,K),Q1(m,_),_.tag=1,Hs(L)?(m=!0,F1(_)):m=!1,Gh(_,k),TP(_,L,K),gE(_,L,K,k),bE(null,_,L,!0,m,k);case 19:return BP(m,_,k);case 22:return RP(m,_,k)}throw Error(n(156,_.tag))};function uR(m,_){return ut(m,_)}function CZ(m,_,k,L){this.tag=m,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(m,_,k,L){return new CZ(m,_,k,L)}function BE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function SZ(m){if(typeof m=="function")return BE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===D)return 11;if(m===H)return 14}return 2}function ou(m,_){var k=m.alternate;return k===null?(k=Wa(m.tag,_,m.key,m.mode),k.elementType=m.elementType,k.type=m.type,k.stateNode=m.stateNode,k.alternate=m,m.alternate=k):(k.pendingProps=_,k.type=m.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=m.flags&14680064,k.childLanes=m.childLanes,k.lanes=m.lanes,k.child=m.child,k.memoizedProps=m.memoizedProps,k.memoizedState=m.memoizedState,k.updateQueue=m.updateQueue,_=m.dependencies,k.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},k.sibling=m.sibling,k.index=m.index,k.ref=m.ref,k}function cx(m,_,k,L,K,ne){var ge=2;if(L=m,typeof m=="function")BE(m)&&(ge=1);else if(typeof m=="string")ge=5;else e:switch(m){case A:return Ud(k.children,K,ne,_);case I:ge=8,K|=8;break;case N:return m=Wa(12,k,_,K|2),m.elementType=N,m.lanes=ne,m;case M:return m=Wa(13,k,_,K),m.elementType=M,m.lanes=ne,m;case O:return m=Wa(19,k,_,K),m.elementType=O,m.lanes=ne,m;case G:return ux(k,K,ne,_);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case R:ge=10;break e;case P:ge=9;break e;case D:ge=11;break e;case H:ge=14;break e;case X:ge=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return _=Wa(ge,k,_,K),_.elementType=m,_.type=L,_.lanes=ne,_}function Ud(m,_,k,L){return m=Wa(7,m,L,_),m.lanes=k,m}function ux(m,_,k,L){return m=Wa(22,m,L,_),m.elementType=G,m.lanes=k,m.stateNode={isHidden:!1},m}function VE(m,_,k){return m=Wa(6,m,null,_),m.lanes=k,m}function WE(m,_,k){return _=Wa(4,m.children!==null?m.children:[],m.key,_),_.lanes=k,_.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},_}function DZ(m,_,k,L,K){this.tag=_,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=L,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function qE(m,_,k,L,K,ne,ge,Ue,je){return m=new DZ(m,_,k,Ue,je),_===1?(_=1,ne===!0&&(_|=8)):_=0,ne=Wa(3,null,null,_),m.current=ne,ne.stateNode=m,ne.memoizedState={element:L,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},nE(ne),m}function AZ(m,_,k){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:L==null?null:""+L,children:m,containerInfo:_,implementation:k}}function dR(m){if(!m)return Qc;m=m._reactInternals;e:{if(De(m)!==m||m.tag!==1)throw Error(n(170));var _=m;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Hs(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(n(171))}if(m.tag===1){var k=m.type;if(Hs(k))return j5(m,k,_)}return _}function fR(m,_,k,L,K,ne,ge,Ue,je){return m=qE(k,L,!0,m,K,ne,ge,Ue,je),m.context=dR(null),k=m.current,L=ks(),K=su(k),ne=Xl(L,K),ne.callback=_??null,tu(k,ne,K),m.current.lanes=K,qc(m,K,L),Js(m,L),m}function dx(m,_,k,L){var K=_.current,ne=ks(),ge=su(K);return k=dR(k),_.context===null?_.context=k:_.pendingContext=k,_=Xl(ne,ge),_.payload={element:m},L=L===void 0?null:L,L!==null&&(_.callback=L),m=tu(K,_,ge),m!==null&&(So(m,K,ge,ne),W1(m,K,ge)),ge}function fx(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function hR(m,_){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var k=m.retryLane;m.retryLane=k!==0&&k<_?k:_}}function $E(m,_){hR(m,_),(m=m.alternate)&&hR(m,_)}function NZ(){return null}var pR=typeof reportError=="function"?reportError:function(m){console.error(m)};function zE(m){this._internalRoot=m}hx.prototype.render=zE.prototype.render=function(m){var _=this._internalRoot;if(_===null)throw Error(n(409));dx(m,_,null,null)},hx.prototype.unmount=zE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var _=m.containerInfo;Fd(function(){dx(null,m,null,null)}),_[zl]=null}};function hx(m){this._internalRoot=m}hx.prototype.unstable_scheduleHydration=function(m){if(m){var _=h1();m={blockedOn:null,target:m,priority:_};for(var k=0;k<Xo.length&&_!==0&&_<Xo[k].priority;k++);Xo.splice(k,0,m),k===0&&g1(m)}};function HE(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function px(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function mR(){}function kZ(m,_,k,L,K){if(K){if(typeof L=="function"){var ne=L;L=function(){var Ze=fx(ge);ne.call(Ze)}}var ge=fR(_,L,m,0,null,!1,!1,"",mR);return m._reactRootContainer=ge,m[zl]=ge.current,Tg(m.nodeType===8?m.parentNode:m),Fd(),ge}for(;K=m.lastChild;)m.removeChild(K);if(typeof L=="function"){var Ue=L;L=function(){var Ze=fx(je);Ue.call(Ze)}}var je=qE(m,0,!1,null,null,!1,!1,"",mR);return m._reactRootContainer=je,m[zl]=je.current,Tg(m.nodeType===8?m.parentNode:m),Fd(function(){dx(_,je,k,L)}),je}function mx(m,_,k,L,K){var ne=k._reactRootContainer;if(ne){var ge=ne;if(typeof K=="function"){var Ue=K;K=function(){var je=fx(ge);Ue.call(je)}}dx(_,ge,m,K)}else ge=kZ(k,_,m,K,L);return fx(ge)}d1=function(m){switch(m.tag){case 3:var _=m.stateNode;if(_.current.memoizedState.isDehydrated){var k=Vc(_.pendingLanes);k!==0&&($c(_,k|1),Js(_,ft()),(Sn&6)===0&&(Qh=ft()+500,Zc()))}break;case 13:Fd(function(){var L=Jl(m,1);if(L!==null){var K=ks();So(L,m,1,K)}}),$E(m,1)}},Th=function(m){if(m.tag===13){var _=Jl(m,134217728);if(_!==null){var k=ks();So(_,m,134217728,k)}$E(m,134217728)}},f1=function(m){if(m.tag===13){var _=su(m),k=Jl(m,_);if(k!==null){var L=ks();So(k,m,_,L)}$E(m,_)}},h1=function(){return bn},p1=function(m,_){var k=bn;try{return bn=m,_()}finally{bn=k}},xn=function(m,_,k){switch(_){case"input":if(le(m,k),_=k.name,k.type==="radio"&&_!=null){for(k=m;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<k.length;_++){var L=k[_];if(L!==m&&L.form===m.form){var K=P1(L);if(!K)throw Error(n(90));fe(L),le(L,K)}}}break;case"textarea":_e(m,k);break;case"select":_=k.value,_!=null&&ke(m,!!k.multiple,_,!1)}},$e=UE,nt=Fd;var IZ={usingClientEntryPoint:!1,Events:[Sg,jh,P1,de,Pe,UE]},Bg={findFiberByHostInstance:Sd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PZ={bundleType:Bg.bundleType,version:Bg.version,rendererPackageName:Bg.rendererPackageName,rendererConfig:Bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Je(m),m===null?null:m.stateNode},findFiberByHostInstance:Bg.findFiberByHostInstance||NZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gx.isDisabled&&gx.supportsFiber)try{pa=gx.inject(PZ),Qr=gx}catch{}}return Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IZ,Xs.createPortal=function(m,_){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HE(_))throw Error(n(200));return AZ(m,_,null,k)},Xs.createRoot=function(m,_){if(!HE(m))throw Error(n(299));var k=!1,L="",K=pR;return _!=null&&(_.unstable_strictMode===!0&&(k=!0),_.identifierPrefix!==void 0&&(L=_.identifierPrefix),_.onRecoverableError!==void 0&&(K=_.onRecoverableError)),_=qE(m,1,!1,null,null,k,!1,L,K),m[zl]=_.current,Tg(m.nodeType===8?m.parentNode:m),new zE(_)},Xs.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var _=m._reactInternals;if(_===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Je(_),m=m===null?null:m.stateNode,m},Xs.flushSync=function(m){return Fd(m)},Xs.hydrate=function(m,_,k){if(!px(_))throw Error(n(200));return mx(null,m,_,!0,k)},Xs.hydrateRoot=function(m,_,k){if(!HE(m))throw Error(n(405));var L=k!=null&&k.hydratedSources||null,K=!1,ne="",ge=pR;if(k!=null&&(k.unstable_strictMode===!0&&(K=!0),k.identifierPrefix!==void 0&&(ne=k.identifierPrefix),k.onRecoverableError!==void 0&&(ge=k.onRecoverableError)),_=fR(_,null,m,1,k??null,K,!1,ne,ge),m[zl]=_.current,Tg(m),L)for(m=0;m<L.length;m++)k=L[m],K=k._getVersion,K=K(k._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[k,K]:_.mutableSourceEagerHydrationData.push(k,K);return new hx(_)},Xs.render=function(m,_,k){if(!px(_))throw Error(n(200));return mx(null,m,_,!1,k)},Xs.unmountComponentAtNode=function(m){if(!px(m))throw Error(n(40));return m._reactRootContainer?(Fd(function(){mx(null,null,m,!1,function(){m._reactRootContainer=null,m[zl]=null})}),!0):!1},Xs.unstable_batchedUpdates=UE,Xs.unstable_renderSubtreeIntoContainer=function(m,_,k,L){if(!px(k))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return mx(m,_,k,!1,L)},Xs.version="18.3.1-next-f1338f8080-20240426",Xs}var TR;function VB(){if(TR)return JE.exports;TR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),JE.exports=BZ(),JE.exports}var ER;function VZ(){if(ER)return yx;ER=1;var t=VB();return yx.createRoot=t.createRoot,yx.hydrateRoot=t.hydrateRoot,yx}var WZ=VZ();const qZ=v_(WZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CR="popstate";function $Z(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return UD("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cy(i)}return HZ(e,n,null,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zZ(){return Math.random().toString(36).substring(2,10)}function SR(t,e){return{usr:t.state,key:t.key,idx:e}}function UD(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?km(e):e,state:n,key:e&&e.key||r||zZ()}}function cy({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function km(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),b=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:b})}function h(y,b){o="PUSH";let x=UD(g.location,y,b);c=u()+1;let w=SR(x,c),C=g.createHref(x);try{a.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,b){o="REPLACE";let x=UD(g.location,y,b);c=u();let w=SR(x,c),C=g.createHref(x);a.replaceState(w,"",C),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return GZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CR,f),l=y,()=>{i.removeEventListener(CR,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let b=v(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function GZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cy(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function WB(t,e,n="/"){return KZ(t,e,n,!1)}function KZ(t,e,n,r){let i=typeof e=="string"?km(e):e,s=yc(i.pathname||"/",n);if(s==null)return null;let a=qB(t);JZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=aee(s);o=iee(a[l],c,r)}return o}function qB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Ar(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=lc([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Ar(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),qB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:nee(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of $B(a.path))s(a,o,!0,c)}),e}function $B(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=$B(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function JZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ree(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XZ=/^:[\w-]+$/,YZ=3,QZ=2,ZZ=1,eee=10,tee=-2,DR=t=>t==="*";function nee(t,e){let n=t.split("/"),r=n.length;return n.some(DR)&&(r+=tee),e&&(r+=QZ),n.filter(i=>!DR(i)).reduce((i,s)=>i+(XZ.test(s)?YZ:s===""?ZZ:eee),r)}function ree(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iee(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=rb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=rb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:lc([s,f.pathname]),pathnameBase:uee(lc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=lc([s,f.pathnameBase]))}return a}function rb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=see(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function see(t,e=!1,n=!0){ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ao(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oee(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?km(t):t;return{pathname:n?n.startsWith("/")?n:lee(n,e):e,search:dee(r),hash:fee(i)}}function lee(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function QE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PN(t){let e=cee(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function RN(t,e,n,r=!1){let i;typeof t=="string"?i=km(t):(i={...t},Ar(!i.pathname||!i.pathname.includes("?"),QE("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),QE("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),QE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=oee(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var lc=t=>t.join("/").replace(/\/\/+/g,"/"),uee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zB=["POST","PUT","PATCH","DELETE"];new Set(zB);var pee=["GET",...zB];new Set(pee);var Im=V.createContext(null);Im.displayName="DataRouter";var b_=V.createContext(null);b_.displayName="DataRouterState";V.createContext(!1);var HB=V.createContext({isTransitioning:!1});HB.displayName="ViewTransition";var mee=V.createContext(new Map);mee.displayName="Fetchers";var gee=V.createContext(null);gee.displayName="Await";var zo=V.createContext(null);zo.displayName="Navigation";var pv=V.createContext(null);pv.displayName="Location";var uo=V.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var FN=V.createContext(null);FN.displayName="RouteError";function yee(t,{relative:e}={}){Ar(Pm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(zo),{hash:i,pathname:s,search:a}=mv(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:lc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function Pm(){return V.useContext(pv)!=null}function Nr(){return Ar(Pm(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(pv).location}var GB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KB(t){V.useContext(zo).static||V.useLayoutEffect(t)}function Si(){let{isDataRoute:t}=V.useContext(uo);return t?Pee():vee()}function vee(){Ar(Pm(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Im),{basename:e,navigator:n}=V.useContext(zo),{matches:r}=V.useContext(uo),{pathname:i}=Nr(),s=JSON.stringify(PN(r)),a=V.useRef(!1);return KB(()=>{a.current=!0}),V.useCallback((l,c={})=>{if(ao(a.current,GB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=RN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:lc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var xee=V.createContext(null);function bee(t){let e=V.useContext(uo).outlet;return e&&V.createElement(xee.Provider,{value:t},e)}function ua(){let{matches:t}=V.useContext(uo),e=t[t.length-1];return e?e.params:{}}function mv(t,{relative:e}={}){let{matches:n}=V.useContext(uo),{pathname:r}=Nr(),i=JSON.stringify(PN(n));return V.useMemo(()=>RN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _ee(t,e){return JB(t,e)}function JB(t,e,n,r,i){var x;Ar(Pm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(zo),{matches:a}=V.useContext(uo),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";XB(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Nr(),p;if(e){let w=typeof e=="string"?km(e):e;Ar(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=WB(t,{pathname:g});ao(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ao(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=See(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:lc([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:lc([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&b?V.createElement(pv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function wee(){let t=Iee(),e=hee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:s},"ErrorBoundary")," or"," ",V.createElement("code",{style:s},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,a)}var Tee=V.createElement(wee,null),Eee=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(uo.Provider,{value:this.props.routeContext},V.createElement(FN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cee({routeContext:t,match:e,children:n}){let r=V.useContext(Im);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(uo.Provider,{value:t},n)}function See(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Ar(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||Tee,o&&(l<0&&f===0?(XB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),b=()=>{let x;return h?x=v:p?x=g:u.route.Component?x=V.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,V.createElement(Cee,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?V.createElement(Eee,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):b()},null)}function MN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dee(t){let e=V.useContext(Im);return Ar(e,MN(t)),e}function Aee(t){let e=V.useContext(b_);return Ar(e,MN(t)),e}function Nee(t){let e=V.useContext(uo);return Ar(e,MN(t)),e}function ON(t){let e=Nee(t),n=e.matches[e.matches.length-1];return Ar(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kee(){return ON("useRouteId")}function Iee(){var r;let t=V.useContext(FN),e=Aee("useRouteError"),n=ON("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Pee(){let{router:t}=Dee("useNavigate"),e=ON("useNavigate"),n=V.useRef(!1);return KB(()=>{n.current=!0}),V.useCallback(async(i,s={})=>{ao(n.current,GB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var AR={};function XB(t,e,n){!e&&!AR[t]&&(AR[t]=!0,ao(!1,n))}V.memo(Ree);function Ree({routes:t,future:e,state:n,unstable_onError:r}){return JB(t,void 0,n,r,e)}function Tp({to:t,replace:e,state:n,relative:r}){Ar(Pm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=V.useContext(zo);ao(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=V.useContext(uo),{pathname:a}=Nr(),o=Si(),l=RN(t,PN(s),a,r==="path"),c=JSON.stringify(l);return V.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function UN(t){return bee(t.context)}function Bt(t){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ar(!Pm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=V.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=km(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=V.useMemo(()=>{let v=yc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return ao(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:V.createElement(zo.Provider,{value:o},V.createElement(pv.Provider,{children:e,value:p}))}function Mee({children:t,location:e}){return _ee(LD(t),e)}function LD(t,e=[]){let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,LD(r.props.children,s));return}Ar(r.type===Bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=LD(r.props.children,s)),n.push(a)}),n}var f2="get",h2="application/x-www-form-urlencoded";function __(t){return t!=null&&typeof t.tagName=="string"}function Oee(t){return __(t)&&t.tagName.toLowerCase()==="button"}function Uee(t){return __(t)&&t.tagName.toLowerCase()==="form"}function Lee(t){return __(t)&&t.tagName.toLowerCase()==="input"}function jee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bee(t,e){return t.button===0&&(!e||e==="_self")&&!jee(t)}function jD(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Vee(t,e){let n=jD(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var vx=null;function Wee(){if(vx===null)try{new FormData(document.createElement("form"),0),vx=!1}catch{vx=!0}return vx}var qee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ZE(t){return t!=null&&!qee.has(t)?(ao(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${h2}"`),null):t}function $ee(t,e){let n,r,i,s,a;if(Uee(t)){let o=t.getAttribute("action");r=o?yc(o,e):null,n=t.getAttribute("method")||f2,i=ZE(t.getAttribute("enctype"))||h2,s=new FormData(t)}else if(Oee(t)||Lee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?yc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||f2,i=ZE(t.getAttribute("formenctype"))||ZE(o.getAttribute("enctype"))||h2,s=new FormData(o,t),!Wee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(__(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=f2,r=null,i=h2,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function LN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&yc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Hee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Hee(s,n);return a.links?a.links():[]}return[]}));return Qee(r.flat(1).filter(Gee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function NR(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Jee(t,e,{includeHydrateFallback:n}={}){return Xee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Xee(t){return[...new Set(t)]}function Yee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Qee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Yee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function YB(){let t=V.useContext(Im);return LN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Zee(){let t=V.useContext(b_);return LN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jN=V.createContext(void 0);jN.displayName="FrameworkContext";function QB(){let t=V.useContext(jN);return LN(t,"You must render this element inside a <HydratedRouter> element"),t}function ete(t,e){let n=V.useContext(jN),[r,i]=V.useState(!1),[s,a]=V.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=V.useRef(null);V.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=b=>{b.forEach(x=>{a(x.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),V.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Wg(o,p),onBlur:Wg(l,v),onMouseEnter:Wg(c,p),onMouseLeave:Wg(u,v),onTouchStart:Wg(f,p)}]:[!1,h,{}]}function Wg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tte({page:t,...e}){let{router:n}=YB(),r=V.useMemo(()=>WB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(rte,{page:t,matches:r,...e}):null}function nte(t){let{manifest:e,routeModules:n}=QB(),[r,i]=V.useState([]);return V.useEffect(()=>{let s=!1;return Kee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function rte({page:t,matches:e,...n}){let r=Nr(),{manifest:i,routeModules:s}=QB(),{basename:a}=YB(),{loaderData:o,matches:l}=Zee(),c=V.useMemo(()=>NR(t,e,l,i,r,"data"),[t,e,l,i,r]),u=V.useMemo(()=>NR(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(b=>{var w;let x=i.routes[b.route.id];!x||!x.hasLoader||(!c.some(C=>C.route.id===b.route.id)&&b.route.id in o&&((w=s[b.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:v.add(b.route.id))}),v.size===0)return[];let y=zee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=V.useMemo(()=>Jee(u,i),[u,i]),p=nte(u);return V.createElement(V.Fragment,null,f.map(v=>V.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>V.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>V.createElement("link",{key:v,nonce:n.nonce,...g})))}function ite(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZB&&(window.__reactRouterVersion="7.8.2")}catch{}function ste({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=$Z({window:n,v5Compat:!0}));let i=r.current,[s,a]=V.useState({action:i.action,location:i.location}),o=V.useCallback(l=>{V.startTransition(()=>a(l))},[a]);return V.useLayoutEffect(()=>i.listen(o),[i,o]),V.createElement(Fee,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var eV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=V.useContext(zo),g=typeof c=="string"&&eV.test(c),y,b=!1;if(typeof c=="string"&&g&&(y=c,ZB))try{let N=new URL(window.location.href),R=c.startsWith("//")?new URL(N.protocol+c):new URL(c),P=yc(R.pathname,v);R.origin===N.origin&&P!=null?c=P+R.search+R.hash:b=!0}catch{ao(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=yee(c,{relative:i}),[w,C,S]=ete(r,h),F=lte(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function A(N){e&&e(N),N.defaultPrevented||F(N)}let I=V.createElement("a",{...h,...S,href:y||x,onClick:b||s?e:A,ref:ite(p,C),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?V.createElement(V.Fragment,null,I,V.createElement(tte,{page:x})):I});sn.displayName="Link";var Qn=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=mv(a,{relative:c.relative}),h=Nr(),p=V.useContext(b_),{navigator:v,basename:g}=V.useContext(zo),y=p!=null&&pte(f)&&o===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=yc(w,g)||w);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=x===b||!i&&x.startsWith(b)&&x.charAt(C)==="/",F=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),A={isActive:S,isPending:F,isTransitioning:y},I=S?e:void 0,N;typeof r=="function"?N=r(A):N=[r,S?"active":null,F?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(A):s;return V.createElement(sn,{...c,"aria-current":I,className:N,ref:u,style:R,to:a,viewTransition:o},typeof l=="function"?l(A):l)});Qn.displayName="NavLink";var ate=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=f2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=fte(),g=hte(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&eV.test(o),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||a;v(C||w.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return V.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:x,...h,"data-discover":!b&&t==="render"?"true":void 0})});ate.displayName="Form";function ote(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tV(t){let e=V.useContext(Im);return Ar(e,ote(t)),e}function lte(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Si(),l=Nr(),c=mv(t,{relative:s});return V.useCallback(u=>{if(Bee(u,e)){u.preventDefault();let f=n!==void 0?n:cy(l)===cy(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function cte(t){ao(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(jD(t)),n=V.useRef(!1),r=Nr(),i=V.useMemo(()=>Vee(r.search,n.current?null:e.current),[r.search]),s=Si(),a=V.useCallback((o,l)=>{const c=jD(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var ute=0,dte=()=>`__${String(++ute)}__`;function fte(){let{router:t}=tV("useSubmit"),{basename:e}=V.useContext(zo),n=kee();return V.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=$ee(r,e);if(i.navigate===!1){let u=i.fetcherKey||dte();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function hte(t,{relative:e}={}){let{basename:n}=V.useContext(zo),r=V.useContext(uo);Ar(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...mv(t||".",{relative:e})},a=Nr();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:lc([n,s.pathname])),cy(s)}function pte(t,{relative:e}={}){let n=V.useContext(HB);Ar(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tV("useViewTransitionState"),i=mv(t,{relative:e});if(!n.isTransitioning)return!1;let s=yc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=yc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rb(i.pathname,a)!=null||rb(i.pathname,s)!=null}const mte="modulepreload",gte=function(t){return"/"+t},kR={},yte=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=gte(c),c in kR)return;kR[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":mte,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},vte=()=>{};var IR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=function(t,e){if(!t)throw Rm(e)},Rm=function(t){return new Error("Firebase Database ("+nV.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},BN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new bte;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iV=function(t){const e=rV(t);return BN.encodeByteArray(e,!0)},ib=function(t){return iV(t).replace(/\./g,"")},uy=function(t){try{return BN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){return dy(void 0,t)}function dy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wte(n)||(t[n]=dy(t[n],e[n]));return t}function wte(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=()=>VN().__FIREBASE_DEFAULTS__,Ete=()=>{if(typeof process>"u"||typeof IR>"u")return;const t=IR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uy(t[1]);return e&&JSON.parse(e)},w_=()=>{try{return vte()||Tte()||Ete()||Cte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ste=t=>{var e,n;return(n=(e=w_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Dte=t=>{const e=Ste(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WN=()=>{var t;return(t=w_())==null?void 0:t.config},Ate=t=>{var e;return(e=w_())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ib(JSON.stringify(n)),ib(JSON.stringify(a)),""].join(".")}const I0={};function Nte(){const t={prod:[],emulator:[]};for(const e of Object.keys(I0))I0[e]?t.emulator.push(e):t.prod.push(e);return t}function kte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let PR=!1;function E_(t,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||I0[t]===e||I0[t]||PR)return;I0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=Nte().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{PR=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=kte(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const C=c();l(x,b),w.append(x,v,y,C),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function C_(){var e;const t=(e=w_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ite(){return typeof window<"u"||sV()}function sV(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Pte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oV(){const t=Lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rte(){return nV.NODE_ADMIN===!0}function lV(){return!C_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cV(){return!C_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function fy(){try{return typeof indexedDB=="object"}catch{return!1}}function Fte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Mte,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Ote(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new xs(i,o,r)}}function Ote(t,e){return t.replace(Ute,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ute=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){return JSON.parse(t)}function bi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=hy(uy(s[0])||""),n=hy(uy(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Lte=function(t){const e=uV(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jte=function(t){const e=uV(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function sb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ab(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(RR(s)&&RR(a)){if(!vc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ep(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function x0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function dV(t,e){const n=new Vte(t,e);return n.subscribe.bind(n)}class Vte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eC),i.error===void 0&&(i.error=eC),i.complete===void 0&&(i.complete=eC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eC(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function ia(t,e){return`${t} failed: ${e} argument `}function Oi(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(ia(t,e)+"must be a valid function.")}function FR(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(ia(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,gt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zte(e))try{this.getOrInitializeService({instanceIdentifier:$d})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$d){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$d){return this.instances.has(e)}getOptions(e=$d){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$te(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$d){return this.component?this.component.multipleInstances?e:$d:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $te(t){return t===$d?void 0:t}function zte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=[];var pn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pn||(pn={}));const fV={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},Hte=pn.INFO,Gte={[pn.DEBUG]:"log",[pn.VERBOSE]:"log",[pn.INFO]:"info",[pn.WARN]:"warn",[pn.ERROR]:"error"},Kte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Gte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=Hte,this._logHandler=Kte,this._userLogHandler=null,HN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pn.DEBUG,...e),this._logHandler(this,pn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pn.VERBOSE,...e),this._logHandler(this,pn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pn.INFO,...e),this._logHandler(this,pn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pn.WARN,...e),this._logHandler(this,pn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pn.ERROR,...e),this._logHandler(this,pn.ERROR,...e)}}function Jte(t){HN.forEach(e=>{e.setLogLevel(t)})}function Xte(t,e){for(const n of HN){let r=null;e&&e.level&&(r=fV[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:pn[s].toLowerCase(),message:o,args:a,type:i.name})}}}const Yte=(t,e)=>e.some(n=>t instanceof n);let MR,OR;function Qte(){return MR||(MR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zte(){return OR||(OR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hV=new WeakMap,VD=new WeakMap,pV=new WeakMap,tC=new WeakMap,GN=new WeakMap;function ene(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Su(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&hV.set(n,t)}).catch(()=>{}),GN.set(e,t),e}function tne(t){if(VD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});VD.set(t,e)}let WD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return VD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Su(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nne(t){WD=t(WD)}function rne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nC(this),e,...n);return pV.set(r,e.sort?e.sort():[e]),Su(r)}:Zte().includes(t)?function(...e){return t.apply(nC(this),e),Su(hV.get(this))}:function(...e){return Su(t.apply(nC(this),e))}}function ine(t){return typeof t=="function"?rne(t):(t instanceof IDBTransaction&&tne(t),Yte(t,Qte())?new Proxy(t,WD):t)}function Su(t){if(t instanceof IDBRequest)return ene(t);if(tC.has(t))return tC.get(t);const e=ine(t);return e!==t&&(tC.set(t,e),GN.set(e,t)),e}const nC=t=>GN.get(t);function sne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Su(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Su(a.result),l.oldVersion,l.newVersion,Su(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const ane=["get","getKey","getAll","getAllKeys","count"],one=["put","add","delete","clear"],rC=new Map;function UR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rC.get(e))return rC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=one.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ane.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return rC.set(e,s),s}nne(t=>({...t,get:(e,n,r)=>UR(e,n)||t.get(e,n,r),has:(e,n)=>!!UR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ob="@firebase/app",qD="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Fm("@firebase/app"),une="@firebase/app-compat",dne="@firebase/analytics-compat",fne="@firebase/analytics",hne="@firebase/app-check-compat",pne="@firebase/app-check",mne="@firebase/auth",gne="@firebase/auth-compat",yne="@firebase/database",vne="@firebase/data-connect",xne="@firebase/database-compat",bne="@firebase/functions",_ne="@firebase/functions-compat",wne="@firebase/installations",Tne="@firebase/installations-compat",Ene="@firebase/messaging",Cne="@firebase/messaging-compat",Sne="@firebase/performance",Dne="@firebase/performance-compat",Ane="@firebase/remote-config",Nne="@firebase/remote-config-compat",kne="@firebase/storage",Ine="@firebase/storage-compat",Pne="@firebase/firestore",Rne="@firebase/ai",Fne="@firebase/firestore-compat",Mne="firebase",One="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="[DEFAULT]",Une={[ob]:"fire-core",[une]:"fire-core-compat",[fne]:"fire-analytics",[dne]:"fire-analytics-compat",[pne]:"fire-app-check",[hne]:"fire-app-check-compat",[mne]:"fire-auth",[gne]:"fire-auth-compat",[yne]:"fire-rtdb",[vne]:"fire-data-connect",[xne]:"fire-rtdb-compat",[bne]:"fire-fn",[_ne]:"fire-fn-compat",[wne]:"fire-iid",[Tne]:"fire-iid-compat",[Ene]:"fire-fcm",[Cne]:"fire-fcm-compat",[Sne]:"fire-perf",[Dne]:"fire-perf-compat",[Ane]:"fire-rc",[Nne]:"fire-rc-compat",[kne]:"fire-gcs",[Ine]:"fire-gcs-compat",[Pne]:"fire-fst",[Fne]:"fire-fst-compat",[Rne]:"fire-vertex","fire-js":"fire-js",[Mne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,Hp=new Map,Gp=new Map;function py(t,e){try{t.container.addComponent(e)}catch(n){xc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mV(t,e){t.container.addOrOverwriteComponent(e)}function Nl(t){const e=t.name;if(Gp.has(e))return xc.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(const n of Uu.values())py(n,t);for(const n of Hp.values())py(n,t);return!0}function KN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lne(t,e,n=Ou){KN(t,e).clearInstance(n)}function JN(t){return t.options!==void 0}function gV(t){return JN(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function or(t){return t==null?!1:t.settings!==void 0}function jne(){Gp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Xf("app","Firebase",Bne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yV=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e){const n=uy(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Vne extends yV{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&LR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&LR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Us(ob,qD,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){YN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Na.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=One;function XN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ou,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=WN()),!n)throw Na.create("no-options");const s=Uu.get(i);if(s){if(vc(n,s.options)&&vc(r,s.config))return s;throw Na.create("duplicate-app",{appName:i})}const a=new zN(i);for(const l of Gp.values())a.addComponent(l);const o=new yV(n,r,a);return Uu.set(i,o),o}function Wne(t,e={}){if(Ite()&&!sV())throw Na.create("invalid-server-app-environment");let n,r=e||{};if(t&&(JN(t)?n=t.options:gV(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=WN()),!n)throw Na.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Na.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=Hp.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new zN(a);for(const u of Gp.values())l.addComponent(u);const c=new Vne(n,r,a,l);return Hp.set(a,c),c}function vV(t=Ou){const e=Uu.get(t);if(!e&&t===Ou&&WN())return XN();if(!e)throw Na.create("no-app",{appName:t});return e}function qne(){return Array.from(Uu.values())}async function YN(t){let e=!1;const n=t.name;Uu.has(n)?(e=!0,Uu.delete(n)):Hp.has(n)&&t.decRefCount()<=0&&(Hp.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Us(t,e,n){let r=Une[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xc.warn(a.join(" "));return}Nl(new Bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function xV(t,e){if(t!==null&&typeof t!="function")throw Na.create("invalid-log-argument");Xte(t,e)}function bV(t){Jte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="firebase-heartbeat-database",zne=1,my="firebase-heartbeat-store";let iC=null;function _V(){return iC||(iC=sne($ne,zne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(my)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),iC}async function Hne(t){try{const n=(await _V()).transaction(my),r=await n.objectStore(my).get(wV(t));return await n.done,r}catch(e){if(e instanceof xs)xc.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xc.warn(n.message)}}}async function jR(t,e){try{const r=(await _V()).transaction(my,"readwrite");await r.objectStore(my).put(e,wV(t)),await r.done}catch(n){if(n instanceof xs)xc.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xc.warn(r.message)}}}function wV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne=1024,Kne=30;class Jne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Kne){const a=Qne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BR(),{heartbeatsToSend:r,unsentEntries:i}=Xne(this._heartbeatsCache.heartbeats),s=ib(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xc.warn(n),""}}}function BR(){return new Date().toISOString().substring(0,10)}function Xne(t,e=Gne){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),VR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fy()?Fte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function VR(t){return ib(JSON.stringify({version:2,heartbeats:t})).length}function Qne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t){Nl(new Bs("platform-logger",e=>new lne(e),"PRIVATE")),Nl(new Bs("heartbeat",e=>new Jne(e),"PRIVATE")),Us(ob,qD,t),Us(ob,qD,"esm2020"),Us("fire-js","")}Zne("");const ere=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:xs,SDK_VERSION:Ul,_DEFAULT_ENTRY_NAME:Ou,_addComponent:py,_addOrOverwriteComponent:mV,_apps:Uu,_clearComponents:jne,_components:Gp,_getProvider:KN,_isFirebaseApp:JN,_isFirebaseServerApp:or,_isFirebaseServerAppSettings:gV,_registerComponent:Nl,_removeServiceInstance:Lne,_serverApps:Hp,deleteApp:YN,getApp:vV,getApps:qne,initializeApp:XN,initializeServerApp:Wne,onLog:xV,registerVersion:Us,setLogLevel:bV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e,n){this._delegate=e,this.firebase=n,py(e,new Bs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),YN(this._delegate)))}_getService(e,n=Ou){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ou){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){py(this._delegate,e)}_addOrOverwriteComponent(e){mV(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},WR=new Xf("app-compat","Firebase",nre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Us,setLogLevel:bV,onLog:xV,apps:null,SDK_VERSION:Ul,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:ere}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||Ou,!ka(e,c))throw WR.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=XN(c,u);if(ka(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(Nl(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw WR.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&dy(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(){const t=rre(tre);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:TV,extendNamespace:e,createSubscribe:dV,ErrorFactory:Xf,deepExtend:dy};function e(n){dy(t,n)}return t}const ire=TV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Fm("@firebase/app-compat"),sre="@firebase/app-compat",are="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ore(t){Us(sre,are,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=VN();if(t.firebase!==void 0){qR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&qR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Er=ire;ore();var lre="firebase",cre="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.registerVersion(lre,cre,"app-compat");var $R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Du,EV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function N(){}N.prototype=I.prototype,A.D=I.prototype,A.prototype=new N,A.prototype.constructor=A,A.C=function(R,P,D){for(var M=Array(arguments.length-2),O=2;O<arguments.length;O++)M[O-2]=arguments[O];return I.prototype[P].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,N){N||(N=0);var R=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)R[P]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(P=0;16>P;++P)R[P]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=A.g[0],N=A.g[1],P=A.g[2];var D=A.g[3],M=I+(D^N&(P^D))+R[0]+3614090360&4294967295;I=N+(M<<7&4294967295|M>>>25),M=D+(P^I&(N^P))+R[1]+3905402710&4294967295,D=I+(M<<12&4294967295|M>>>20),M=P+(N^D&(I^N))+R[2]+606105819&4294967295,P=D+(M<<17&4294967295|M>>>15),M=N+(I^P&(D^I))+R[3]+3250441966&4294967295,N=P+(M<<22&4294967295|M>>>10),M=I+(D^N&(P^D))+R[4]+4118548399&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(P^I&(N^P))+R[5]+1200080426&4294967295,D=I+(M<<12&4294967295|M>>>20),M=P+(N^D&(I^N))+R[6]+2821735955&4294967295,P=D+(M<<17&4294967295|M>>>15),M=N+(I^P&(D^I))+R[7]+4249261313&4294967295,N=P+(M<<22&4294967295|M>>>10),M=I+(D^N&(P^D))+R[8]+1770035416&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(P^I&(N^P))+R[9]+2336552879&4294967295,D=I+(M<<12&4294967295|M>>>20),M=P+(N^D&(I^N))+R[10]+4294925233&4294967295,P=D+(M<<17&4294967295|M>>>15),M=N+(I^P&(D^I))+R[11]+2304563134&4294967295,N=P+(M<<22&4294967295|M>>>10),M=I+(D^N&(P^D))+R[12]+1804603682&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(P^I&(N^P))+R[13]+4254626195&4294967295,D=I+(M<<12&4294967295|M>>>20),M=P+(N^D&(I^N))+R[14]+2792965006&4294967295,P=D+(M<<17&4294967295|M>>>15),M=N+(I^P&(D^I))+R[15]+1236535329&4294967295,N=P+(M<<22&4294967295|M>>>10),M=I+(P^D&(N^P))+R[1]+4129170786&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^P&(I^N))+R[6]+3225465664&4294967295,D=I+(M<<9&4294967295|M>>>23),M=P+(I^N&(D^I))+R[11]+643717713&4294967295,P=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(P^D))+R[0]+3921069994&4294967295,N=P+(M<<20&4294967295|M>>>12),M=I+(P^D&(N^P))+R[5]+3593408605&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^P&(I^N))+R[10]+38016083&4294967295,D=I+(M<<9&4294967295|M>>>23),M=P+(I^N&(D^I))+R[15]+3634488961&4294967295,P=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(P^D))+R[4]+3889429448&4294967295,N=P+(M<<20&4294967295|M>>>12),M=I+(P^D&(N^P))+R[9]+568446438&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^P&(I^N))+R[14]+3275163606&4294967295,D=I+(M<<9&4294967295|M>>>23),M=P+(I^N&(D^I))+R[3]+4107603335&4294967295,P=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(P^D))+R[8]+1163531501&4294967295,N=P+(M<<20&4294967295|M>>>12),M=I+(P^D&(N^P))+R[13]+2850285829&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^P&(I^N))+R[2]+4243563512&4294967295,D=I+(M<<9&4294967295|M>>>23),M=P+(I^N&(D^I))+R[7]+1735328473&4294967295,P=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(P^D))+R[12]+2368359562&4294967295,N=P+(M<<20&4294967295|M>>>12),M=I+(N^P^D)+R[5]+4294588738&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^P)+R[8]+2272392833&4294967295,D=I+(M<<11&4294967295|M>>>21),M=P+(D^I^N)+R[11]+1839030562&4294967295,P=D+(M<<16&4294967295|M>>>16),M=N+(P^D^I)+R[14]+4259657740&4294967295,N=P+(M<<23&4294967295|M>>>9),M=I+(N^P^D)+R[1]+2763975236&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^P)+R[4]+1272893353&4294967295,D=I+(M<<11&4294967295|M>>>21),M=P+(D^I^N)+R[7]+4139469664&4294967295,P=D+(M<<16&4294967295|M>>>16),M=N+(P^D^I)+R[10]+3200236656&4294967295,N=P+(M<<23&4294967295|M>>>9),M=I+(N^P^D)+R[13]+681279174&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^P)+R[0]+3936430074&4294967295,D=I+(M<<11&4294967295|M>>>21),M=P+(D^I^N)+R[3]+3572445317&4294967295,P=D+(M<<16&4294967295|M>>>16),M=N+(P^D^I)+R[6]+76029189&4294967295,N=P+(M<<23&4294967295|M>>>9),M=I+(N^P^D)+R[9]+3654602809&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^P)+R[12]+3873151461&4294967295,D=I+(M<<11&4294967295|M>>>21),M=P+(D^I^N)+R[15]+530742520&4294967295,P=D+(M<<16&4294967295|M>>>16),M=N+(P^D^I)+R[2]+3299628645&4294967295,N=P+(M<<23&4294967295|M>>>9),M=I+(P^(N|~D))+R[0]+4096336452&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~P))+R[7]+1126891415&4294967295,D=I+(M<<10&4294967295|M>>>22),M=P+(I^(D|~N))+R[14]+2878612391&4294967295,P=D+(M<<15&4294967295|M>>>17),M=N+(D^(P|~I))+R[5]+4237533241&4294967295,N=P+(M<<21&4294967295|M>>>11),M=I+(P^(N|~D))+R[12]+1700485571&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~P))+R[3]+2399980690&4294967295,D=I+(M<<10&4294967295|M>>>22),M=P+(I^(D|~N))+R[10]+4293915773&4294967295,P=D+(M<<15&4294967295|M>>>17),M=N+(D^(P|~I))+R[1]+2240044497&4294967295,N=P+(M<<21&4294967295|M>>>11),M=I+(P^(N|~D))+R[8]+1873313359&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~P))+R[15]+4264355552&4294967295,D=I+(M<<10&4294967295|M>>>22),M=P+(I^(D|~N))+R[6]+2734768916&4294967295,P=D+(M<<15&4294967295|M>>>17),M=N+(D^(P|~I))+R[13]+1309151649&4294967295,N=P+(M<<21&4294967295|M>>>11),M=I+(P^(N|~D))+R[4]+4149444226&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~P))+R[11]+3174756917&4294967295,D=I+(M<<10&4294967295|M>>>22),M=P+(I^(D|~N))+R[2]+718787259&4294967295,P=D+(M<<15&4294967295|M>>>17),M=N+(D^(P|~I))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var N=I-this.blockSize,R=this.B,P=this.h,D=0;D<I;){if(P==0)for(;D<=N;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<I;)if(R[P++]=A.charCodeAt(D++),P==this.blockSize){i(this,R),P=0;break}}else for(;D<I;)if(R[P++]=A[D++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var N=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=N&255,N/=256;for(this.u(A),A=Array(16),I=N=0;4>I;++I)for(var R=0;32>R;R+=8)A[N++]=this.g[I]>>>R&255;return A};function s(A,I){var N=o;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=I(A)}function a(A,I){this.h=I;for(var N=[],R=!0,P=A.length-1;0<=P;P--){var D=A[P]|0;R&&D==I||(N[P]=D,R=!1)}this.g=N}var o={};function l(A){return-128<=A&&128>A?s(A,function(I){return new a([I|0],0>I?-1:0)}):new a([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return y(c(-A));for(var I=[],N=1,R=0;A>=N;R++)I[R]=A/N|0,N*=4294967296;return new a(I,0)}function u(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return y(u(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(I,8)),R=f,P=0;P<A.length;P+=8){var D=Math.min(8,A.length-P),M=parseInt(A.substring(P,P+D),I);8>D?(D=c(Math.pow(I,D)),R=R.j(D).add(c(M))):(R=R.j(N),R=R.add(c(M)))}return R}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var A=0,I=1,N=0;N<this.g.length;N++){var R=this.i(N);A+=(0<=R?R:4294967296+R)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(g(this))return"-"+y(this).toString(A);for(var I=c(Math.pow(A,6)),N=this,R="";;){var P=C(N,I).g;N=b(N,P.j(I));var D=((0<N.g.length?N.g[0]:N.h)>>>0).toString(A);if(N=P,v(N))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=b(this,A),g(A)?-1:v(A)?0:1};function y(A){for(var I=A.g.length,N=[],R=0;R<I;R++)N[R]=~A.g[R];return new a(N,~A.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),N=[],R=0,P=0;P<=I;P++){var D=R+(this.i(P)&65535)+(A.i(P)&65535),M=(D>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);R=M>>>16,D&=65535,M&=65535,N[P]=M<<16|D}return new a(N,N[N.length-1]&-2147483648?-1:0)};function b(A,I){return A.add(y(I))}t.j=function(A){if(v(this)||v(A))return f;if(g(this))return g(A)?y(this).j(y(A)):y(y(this).j(A));if(g(A))return y(this.j(y(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var I=this.g.length+A.g.length,N=[],R=0;R<2*I;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<A.g.length;P++){var D=this.i(R)>>>16,M=this.i(R)&65535,O=A.i(P)>>>16,H=A.i(P)&65535;N[2*R+2*P]+=M*H,x(N,2*R+2*P),N[2*R+2*P+1]+=D*H,x(N,2*R+2*P+1),N[2*R+2*P+1]+=M*O,x(N,2*R+2*P+1),N[2*R+2*P+2]+=D*O,x(N,2*R+2*P+2)}for(R=0;R<I;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=I;R<2*I;R++)N[R]=0;return new a(N,0)};function x(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function w(A,I){this.g=A,this.h=I}function C(A,I){if(v(I))throw Error("division by zero");if(v(A))return new w(f,f);if(g(A))return I=C(y(A),I),new w(y(I.g),y(I.h));if(g(I))return I=C(A,y(I)),new w(y(I.g),I.h);if(30<A.g.length){if(g(A)||g(I))throw Error("slowDivide_ only works with positive integers.");for(var N=h,R=I;0>=R.l(A);)N=S(N),R=S(R);var P=F(N,1),D=F(R,1);for(R=F(R,2),N=F(N,2);!v(R);){var M=D.add(R);0>=M.l(A)&&(P=P.add(N),D=M),R=F(R,1),N=F(N,1)}return I=b(A,P.j(I)),new w(P,I)}for(P=f;0<=A.l(I);){for(N=Math.max(1,Math.floor(A.m()/I.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(N),M=D.j(I);g(M)||0<M.l(A);)N-=R,D=c(N),M=D.j(I);v(D)&&(D=h),P=P.add(D),A=b(A,M)}return new w(P,A)}t.A=function(A){return C(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),N=[],R=0;R<I;R++)N[R]=this.i(R)&A.i(R);return new a(N,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),N=[],R=0;R<I;R++)N[R]=this.i(R)|A.i(R);return new a(N,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),N=[],R=0;R<I;R++)N[R]=this.i(R)^A.i(R);return new a(N,this.h^A.h)};function S(A){for(var I=A.g.length+1,N=[],R=0;R<I;R++)N[R]=A.i(R)<<1|A.i(R-1)>>>31;return new a(N,A.h)}function F(A,I){var N=I>>5;I%=32;for(var R=A.g.length-N,P=[],D=0;D<R;D++)P[D]=0<I?A.i(D+N)>>>I|A.i(D+N+1)<<32-I:A.i(D+N);return new a(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Du=a}).apply(typeof $R<"u"?$R:typeof self<"u"?self:typeof window<"u"?window:{});var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CV,b0,SV,p2,$D,DV,AV,NV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(U,ee,se){return U==Array.prototype||U==Object.prototype||(U[ee]=se.value),U};function n(U){U=[typeof globalThis=="object"&&globalThis,U,typeof window=="object"&&window,typeof self=="object"&&self,typeof xx=="object"&&xx];for(var ee=0;ee<U.length;++ee){var se=U[ee];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var r=n(this);function i(U,ee){if(ee)e:{var se=r;U=U.split(".");for(var Ae=0;Ae<U.length-1;Ae++){var He=U[Ae];if(!(He in se))break e;se=se[He]}U=U[U.length-1],Ae=se[U],ee=ee(Ae),ee!=Ae&&ee!=null&&e(se,U,{configurable:!0,writable:!0,value:ee})}}function s(U,ee){U instanceof String&&(U+="");var se=0,Ae=!1,He={next:function(){if(!Ae&&se<U.length){var tt=se++;return{value:ee(tt,U[tt]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(U){return U||function(){return s(this,function(ee,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(U){var ee=typeof U;return ee=ee!="object"?ee:U?Array.isArray(U)?"array":ee:"null",ee=="array"||ee=="object"&&typeof U.length=="number"}function c(U){var ee=typeof U;return ee=="object"&&U!=null||ee=="function"}function u(U,ee,se){return U.call.apply(U.bind,arguments)}function f(U,ee,se){if(!U)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,Ae),U.apply(ee,He)}}return function(){return U.apply(ee,arguments)}}function h(U,ee,se){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(U,ee){var se=Array.prototype.slice.call(arguments,1);return function(){var Ae=se.slice();return Ae.push.apply(Ae,arguments),U.apply(this,Ae)}}function v(U,ee){function se(){}se.prototype=ee.prototype,U.aa=ee.prototype,U.prototype=new se,U.prototype.constructor=U,U.Qb=function(Ae,He,tt){for(var Tt=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)Tt[qn-2]=arguments[qn];return ee.prototype[He].apply(Ae,Tt)}}function g(U){const ee=U.length;if(0<ee){const se=Array(ee);for(let Ae=0;Ae<ee;Ae++)se[Ae]=U[Ae];return se}return[]}function y(U,ee){for(let se=1;se<arguments.length;se++){const Ae=arguments[se];if(l(Ae)){const He=U.length||0,tt=Ae.length||0;U.length=He+tt;for(let Tt=0;Tt<tt;Tt++)U[He+Tt]=Ae[Tt]}else U.push(Ae)}}class b{constructor(ee,se){this.i=ee,this.j=se,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function x(U){return/^[\s\xa0]*$/.test(U)}function w(){var U=o.navigator;return U&&(U=U.userAgent)?U:""}function C(U){return C[" "](U),U}C[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function F(U,ee,se){for(const Ae in U)ee.call(se,U[Ae],Ae,U)}function A(U,ee){for(const se in U)ee.call(void 0,U[se],se,U)}function I(U){const ee={};for(const se in U)ee[se]=U[se];return ee}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(U,ee){let se,Ae;for(let He=1;He<arguments.length;He++){Ae=arguments[He];for(se in Ae)U[se]=Ae[se];for(let tt=0;tt<N.length;tt++)se=N[tt],Object.prototype.hasOwnProperty.call(Ae,se)&&(U[se]=Ae[se])}}function P(U){var ee=1;U=U.split(":");const se=[];for(;0<ee&&U.length;)se.push(U.shift()),ee--;return U.length&&se.push(U.join(":")),se}function D(U){o.setTimeout(()=>{throw U},0)}function M(){var U=W;let ee=null;return U.g&&(ee=U.g,U.g=U.g.next,U.g||(U.h=null),ee.next=null),ee}class O{constructor(){this.h=this.g=null}add(ee,se){const Ae=H.get();Ae.set(ee,se),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var H=new b(()=>new X,U=>U.reset());class X{constructor(){this.next=this.g=this.h=null}set(ee,se){this.h=ee,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Z=!1,W=new O,Y=()=>{const U=o.Promise.resolve(void 0);G=()=>{U.then(B)}};var B=()=>{for(var U;U=M();){try{U.h.call(U.g)}catch(se){D(se)}var ee=H;ee.j(U),100>ee.h&&(ee.h++,U.next=ee.g,ee.g=U)}Z=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(U,ee){this.type=U,this.g=this.target=ee,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var U=!1,ee=Object.defineProperty({},"passive",{get:function(){U=!0}});try{const se=()=>{};o.addEventListener("test",se,ee),o.removeEventListener("test",se,ee)}catch{}return U})();function Q(U,ee){if(q.call(this,U?U.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,U){var se=this.type=U.type,Ae=U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:null;if(this.target=U.target||U.srcElement,this.g=ee,ee=U.relatedTarget){if(S){e:{try{C(ee.nodeName);var He=!0;break e}catch{}He=!1}He||(ee=null)}}else se=="mouseover"?ee=U.fromElement:se=="mouseout"&&(ee=U.toElement);this.relatedTarget=ee,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0),this.button=U.button,this.key=U.key||"",this.ctrlKey=U.ctrlKey,this.altKey=U.altKey,this.shiftKey=U.shiftKey,this.metaKey=U.metaKey,this.pointerId=U.pointerId||0,this.pointerType=typeof U.pointerType=="string"?U.pointerType:te[U.pointerType]||"",this.state=U.state,this.i=U,U.defaultPrevented&&Q.aa.h.call(this)}}v(Q,q);var te={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var U=this.i;U.preventDefault?U.preventDefault():U.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ce=0;function ue(U,ee,se,Ae,He){this.listener=U,this.proxy=null,this.src=ee,this.type=se,this.capture=!!Ae,this.ha=He,this.key=++ce,this.da=this.fa=!1}function Se(U){U.da=!0,U.listener=null,U.proxy=null,U.src=null,U.ha=null}function Fe(U){this.src=U,this.g={},this.h=0}Fe.prototype.add=function(U,ee,se,Ae,He){var tt=U.toString();U=this.g[tt],U||(U=this.g[tt]=[],this.h++);var Tt=Le(U,ee,Ae,He);return-1<Tt?(ee=U[Tt],se||(ee.fa=!1)):(ee=new ue(ee,this.src,tt,!!Ae,He),ee.fa=se,U.push(ee)),ee};function fe(U,ee){var se=ee.type;if(se in U.g){var Ae=U.g[se],He=Array.prototype.indexOf.call(Ae,ee,void 0),tt;(tt=0<=He)&&Array.prototype.splice.call(Ae,He,1),tt&&(Se(ee),U.g[se].length==0&&(delete U.g[se],U.h--))}}function Le(U,ee,se,Ae){for(var He=0;He<U.length;++He){var tt=U[He];if(!tt.da&&tt.listener==ee&&tt.capture==!!se&&tt.ha==Ae)return He}return-1}var z="closure_lm_"+(1e6*Math.random()|0),me={};function be(U,ee,se,Ae,He){if(Array.isArray(ee)){for(var tt=0;tt<ee.length;tt++)be(U,ee[tt],se,Ae,He);return null}return se=Te(se),U&&U[ae]?U.K(ee,se,c(Ae)?!!Ae.capture:!1,He):le(U,ee,se,!1,Ae,He)}function le(U,ee,se,Ae,He,tt){if(!ee)throw Error("Invalid event type");var Tt=c(He)?!!He.capture:!!He,qn=ye(U);if(qn||(U[z]=qn=new Fe(U)),se=qn.add(ee,se,Ae,Tt,tt),se.proxy)return se;if(Ae=re(),se.proxy=Ae,Ae.src=U,Ae.listener=se,U.addEventListener)J||(He=Tt),He===void 0&&(He=!1),U.addEventListener(ee.toString(),Ae,He);else if(U.attachEvent)U.attachEvent(ke(ee.toString()),Ae);else if(U.addListener&&U.removeListener)U.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return se}function re(){function U(se){return ee.call(U.src,U.listener,se)}const ee=he;return U}function oe(U,ee,se,Ae,He){if(Array.isArray(ee))for(var tt=0;tt<ee.length;tt++)oe(U,ee[tt],se,Ae,He);else Ae=c(Ae)?!!Ae.capture:!!Ae,se=Te(se),U&&U[ae]?(U=U.i,ee=String(ee).toString(),ee in U.g&&(tt=U.g[ee],se=Le(tt,se,Ae,He),-1<se&&(Se(tt[se]),Array.prototype.splice.call(tt,se,1),tt.length==0&&(delete U.g[ee],U.h--)))):U&&(U=ye(U))&&(ee=U.g[ee.toString()],U=-1,ee&&(U=Le(ee,se,Ae,He)),(se=-1<U?ee[U]:null)&&Ie(se))}function Ie(U){if(typeof U!="number"&&U&&!U.da){var ee=U.src;if(ee&&ee[ae])fe(ee.i,U);else{var se=U.type,Ae=U.proxy;ee.removeEventListener?ee.removeEventListener(se,Ae,U.capture):ee.detachEvent?ee.detachEvent(ke(se),Ae):ee.addListener&&ee.removeListener&&ee.removeListener(Ae),(se=ye(ee))?(fe(se,U),se.h==0&&(se.src=null,ee[z]=null)):Se(U)}}}function ke(U){return U in me?me[U]:me[U]="on"+U}function he(U,ee){if(U.da)U=!0;else{ee=new Q(ee,this);var se=U.listener,Ae=U.ha||U.src;U.fa&&Ie(U),U=se.call(Ae,ee)}return U}function ye(U){return U=U[z],U instanceof Fe?U:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(U){return typeof U=="function"?U:(U[_e]||(U[_e]=function(ee){return U.handleEvent(ee)}),U[_e])}function Re(){j.call(this),this.i=new Fe(this),this.M=this,this.F=null}v(Re,j),Re.prototype[ae]=!0,Re.prototype.removeEventListener=function(U,ee,se,Ae){oe(this,U,ee,se,Ae)};function Ee(U,ee){var se,Ae=U.F;if(Ae)for(se=[];Ae;Ae=Ae.F)se.push(Ae);if(U=U.M,Ae=ee.type||ee,typeof ee=="string")ee=new q(ee,U);else if(ee instanceof q)ee.target=ee.target||U;else{var He=ee;ee=new q(Ae,U),R(ee,He)}if(He=!0,se)for(var tt=se.length-1;0<=tt;tt--){var Tt=ee.g=se[tt];He=ve(Tt,Ae,!0,ee)&&He}if(Tt=ee.g=U,He=ve(Tt,Ae,!0,ee)&&He,He=ve(Tt,Ae,!1,ee)&&He,se)for(tt=0;tt<se.length;tt++)Tt=ee.g=se[tt],He=ve(Tt,Ae,!1,ee)&&He}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var U=this.i,ee;for(ee in U.g){for(var se=U.g[ee],Ae=0;Ae<se.length;Ae++)Se(se[Ae]);delete U.g[ee],U.h--}}this.F=null},Re.prototype.K=function(U,ee,se,Ae){return this.i.add(String(U),ee,!1,se,Ae)},Re.prototype.L=function(U,ee,se,Ae){return this.i.add(String(U),ee,!0,se,Ae)};function ve(U,ee,se,Ae){if(ee=U.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var He=!0,tt=0;tt<ee.length;++tt){var Tt=ee[tt];if(Tt&&!Tt.da&&Tt.capture==se){var qn=Tt.listener,gi=Tt.ha||Tt.src;Tt.fa&&fe(U.i,Tt),He=qn.call(gi,Ae)!==!1&&He}}return He&&!Ae.defaultPrevented}function Me(U,ee,se){if(typeof U=="function")se&&(U=h(U,se));else if(U&&typeof U.handleEvent=="function")U=h(U.handleEvent,U);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:o.setTimeout(U,ee||0)}function Oe(U){U.g=Me(()=>{U.g=null,U.i&&(U.i=!1,Oe(U))},U.l);const ee=U.h;U.h=null,U.m.apply(null,ee)}class qe extends j{constructor(ee,se){super(),this.m=ee,this.l=se,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(U){j.call(this),this.h=U,this.g={}}v(st,j);var it=[];function Ct(U){F(U.g,function(ee,se){this.g.hasOwnProperty(se)&&Ie(ee)},U),U.g={}}st.prototype.N=function(){st.aa.N.call(this),Ct(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=o.JSON.stringify,$t=o.JSON.parse,_n=class{stringify(U){return o.JSON.stringify(U,void 0)}parse(U){return o.JSON.parse(U,void 0)}};function En(){}En.prototype.h=null;function Ln(U){return U.h||(U.h=U.i())}function xn(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function We(){q.call(this,"d")}v(We,q);function ie(){q.call(this,"c")}v(ie,q);var de={},Pe=null;function $e(){return Pe=Pe||new Re}de.La="serverreachability";function nt(U){q.call(this,de.La,U)}v(nt,q);function xt(U){const ee=$e();Ee(ee,new nt(ee))}de.STAT_EVENT="statevent";function Ut(U,ee){q.call(this,de.STAT_EVENT,U),this.stat=ee}v(Ut,q);function zt(U){const ee=$e();Ee(ee,new Ut(ee,U))}de.Ma="timingevent";function Cn(U,ee){q.call(this,de.Ma,U),this.size=ee}v(Cn,q);function yn(U,ee){if(typeof U!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){U()},ee)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function On(U,ee,se,Ae,He,tt){U.info(function(){if(U.g)if(tt)for(var Tt="",qn=tt.split("&"),gi=0;gi<qn.length;gi++){var wn=qn[gi].split("=");if(1<wn.length){var Ai=wn[0];wn=wn[1];var li=Ai.split("_");Tt=2<=li.length&&li[1]=="type"?Tt+(Ai+"="+wn+"&"):Tt+(Ai+"=redacted&")}}else Tt=null;else Tt=tt;return"XMLHTTP REQ ("+Ae+") [attempt "+He+"]: "+ee+`
`+se+`
`+Tt})}function ir(U,ee,se,Ae,He,tt,Tt){U.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+He+"]: "+ee+`
`+se+`
`+tt+" "+Tt})}function pe(U,ee,se,Ae){U.info(function(){return"XMLHTTP TEXT ("+ee+"): "+xe(U,se)+(Ae?" "+Ae:"")})}function we(U,ee){U.info(function(){return"TIMEOUT: "+ee})}er.prototype.info=function(){};function xe(U,ee){if(!U.g)return ee;if(!ee)return null;try{var se=JSON.parse(ee);if(se){for(U=0;U<se.length;U++)if(Array.isArray(se[U])){var Ae=se[U];if(!(2>Ae.length)){var He=Ae[1];if(Array.isArray(He)&&!(1>He.length)){var tt=He[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var Tt=1;Tt<He.length;Tt++)He[Tt]=""}}}}return Wt(se)}catch{return ee}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function Ve(){}v(Ve,En),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},De=new Ve;function Qe(U,ee,se,Ae){this.j=U,this.i=ee,this.l=se,this.R=Ae||1,this.U=new st(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var Je={},Xe={};function ut(U,ee,se){U.L=1,U.v=$c(ma(ee)),U.m=se,U.P=!0,vt(U,null)}function vt(U,ee){U.F=Date.now(),ft(U),U.A=ma(U.v);var se=U.A,Ae=U.R;Array.isArray(Ae)||(Ae=[String(Ae)]),Hc(se.i,"t",Ae),U.C=0,se=U.j.J,U.h=new Ge,U.g=w1(U.j,se?ee:null,!U.m),0<U.O&&(U.M=new qe(h(U.Y,U,U.g),U.O)),ee=U.U,se=U.g,Ae=U.ca;var He="readystatechange";Array.isArray(He)||(He&&(it[0]=He.toString()),He=it);for(var tt=0;tt<He.length;tt++){var Tt=be(se,He[tt],Ae||ee.handleEvent,!1,ee.h||ee);if(!Tt)break;ee.g[Tt.key]=Tt}ee=U.H?I(U.H):{},U.m?(U.u||(U.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",U.g.ea(U.A,U.u,U.m,ee)):(U.u="GET",U.g.ea(U.A,U.u,null,ee)),xt(),On(U.i,U.u,U.A,U.l,U.R,U.m)}Qe.prototype.ca=function(U){U=U.target;const ee=this.M;ee&&$s(U)==3?ee.j():this.Y(U)},Qe.prototype.Y=function(U){try{if(U==this.g)e:{const li=$s(this.g);var ee=this.g.Ba();const Oa=this.g.Z();if(!(3>li)&&(li!=3||this.g&&(this.h.h||this.g.oa()||pg(this.g)))){this.J||li!=4||ee==7||(ee==8||0>=Oa?xt(3):xt(2)),Un(this);var se=this.g.Z();this.X=se;t:if(Dt(this)){var Ae=pg(this.g);U="";var He=Ae.length,tt=$s(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),kn(this);var Tt="";break t}this.h.i=new o.TextDecoder}for(ee=0;ee<He;ee++)this.h.h=!0,U+=this.h.i.decode(Ae[ee],{stream:!(tt&&ee==He-1)});Ae.length=0,this.h.g+=U,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=se==200,ir(this.i,this.u,this.A,this.l,this.R,li,se),this.o){if(this.T&&!this.K){t:{if(this.g){var qn,gi=this.g;if((qn=gi.g?gi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(qn)){var wn=qn;break t}}wn=null}if(se=wn)pe(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,se);else{this.o=!1,this.s=3,zt(12),Wn(this),kn(this);break e}}if(this.P){se=!0;let ya;for(;!this.J&&this.C<Tt.length;)if(ya=mt(this,Tt),ya==Xe){li==4&&(this.s=4,zt(14),se=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(ya==Je){this.s=4,zt(15),pe(this.i,this.l,Tt,"[Invalid Chunk]"),se=!1;break}else pe(this.i,this.l,ya,null),mo(this,ya);if(Dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),li!=4||Tt.length!=0||this.h.h||(this.s=1,zt(16),se=!1),this.o=this.o&&se,!se)pe(this.i,this.l,Tt,"[Invalid Chunked Response]"),Wn(this),kn(this);else if(0<Tt.length&&!this.W){this.W=!0;var Ai=this.j;Ai.g==this&&Ai.ba&&!Ai.M&&(Ai.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),gg(Ai),Ai.M=!0,zt(11))}}else pe(this.i,this.l,Tt,null),mo(this,Tt);li==4&&Wn(this),this.o&&!this.J&&(li==4?Ih(this.j,this):(this.o=!1,ft(this)))}else Sh(this.g),se==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),Wn(this),kn(this)}}}catch{}finally{}};function Dt(U){return U.g?U.u=="GET"&&U.L!=2&&U.j.Ca:!1}function mt(U,ee){var se=U.C,Ae=ee.indexOf(`
`,se);return Ae==-1?Xe:(se=Number(ee.substring(se,Ae)),isNaN(se)?Je:(Ae+=1,Ae+se>ee.length?Xe:(ee=ee.slice(Ae,Ae+se),U.C=Ae+se,ee)))}Qe.prototype.cancel=function(){this.J=!0,Wn(this)};function ft(U){U.S=Date.now()+U.I,en(U,U.I)}function en(U,ee){if(U.B!=null)throw Error("WatchDog timer not null");U.B=yn(h(U.ba,U),ee)}function Un(U){U.B&&(o.clearTimeout(U.B),U.B=null)}Qe.prototype.ba=function(){this.B=null;const U=Date.now();0<=U-this.S?(we(this.i,this.A),this.L!=2&&(xt(),zt(17)),Wn(this),this.s=2,kn(this)):en(this,this.S-U)};function kn(U){U.j.G==0||U.J||Ih(U.j,U)}function Wn(U){Un(U);var ee=U.M;ee&&typeof ee.ma=="function"&&ee.ma(),U.M=null,Ct(U.U),U.g&&(ee=U.g,U.g=null,ee.abort(),ee.ma())}function mo(U,ee){try{var se=U.j;if(se.G!=0&&(se.g==U||dr(se.h,U))){if(!U.K&&dr(se.h,U)&&se.G==3){try{var Ae=se.Da.g.parse(ee)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var He=Ae;if(He[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<U.F)kh(se),bo(se);else break e;Nh(se),zt(18)}}else se.za=He[1],0<se.za-se.T&&37500>He[2]&&se.F&&se.v==0&&!se.C&&(se.C=yn(h(se.Za,se),6e3));if(1>=Bc(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else $l(se,11)}else if((U.K||se.g==U)&&kh(se),!x(ee))for(He=se.Da.g.parse(ee),ee=0;ee<He.length;ee++){let wn=He[ee];if(se.T=wn[0],wn=wn[1],se.G==2)if(wn[0]=="c"){se.K=wn[1],se.ia=wn[2];const Ai=wn[3];Ai!=null&&(se.la=Ai,se.j.info("VER="+se.la));const li=wn[4];li!=null&&(se.Aa=li,se.j.info("SVER="+se.Aa));const Oa=wn[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(Ae=1.5*Oa,se.L=Ae,se.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=se;const ya=U.g;if(ya){const Cd=ya.g?ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cd){var tt=Ae.h;tt.g||Cd.indexOf("spdy")==-1&&Cd.indexOf("quic")==-1&&Cd.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(ug(tt,tt.h),tt.h=null))}if(Ae.D){const Rh=ya.g?ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(Ae.ya=Rh,tr(Ae.I,Ae.D,Rh))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-U.F,se.j.info("Handshake RTT: "+se.R+"ms")),Ae=se;var Tt=U;if(Ae.qa=_1(Ae,Ae.J?Ae.ia:null,Ae.W),Tt.K){c1(Ae.h,Tt);var qn=Tt,gi=Ae.L;gi&&(qn.I=gi),qn.B&&(Un(qn),ft(qn)),Ae.g=Tt}else Ed(Ae);0<se.i.length&&Qo(se)}else wn[0]!="stop"&&wn[0]!="close"||$l(se,7);else se.G==3&&(wn[0]=="stop"||wn[0]=="close"?wn[0]=="stop"?$l(se,7):zi(se):wn[0]!="noop"&&se.l&&se.l.ta(wn),se.v=0)}}xt(4)}catch{}}var Ko=class{constructor(U,ee){this.g=U,this.map=ee}};function pa(U){this.l=U||10,o.PerformanceNavigationTiming?(U=o.performance.getEntriesByType("navigation"),U=0<U.length&&(U[0].nextHopProtocol=="hq"||U[0].nextHopProtocol=="h2")):U=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=U?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(U){return U.h?!0:U.g?U.g.size>=U.j:!1}function Bc(U){return U.h?1:U.g?U.g.size:0}function dr(U,ee){return U.h?U.h==ee:U.g?U.g.has(ee):!1}function ug(U,ee){U.g?U.g.add(ee):U.h=ee}function c1(U,ee){U.h&&U.h==ee?U.h=null:U.g&&U.g.has(ee)&&U.g.delete(ee)}pa.prototype.cancel=function(){if(this.i=u1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const U of this.g.values())U.cancel();this.g.clear()}};function u1(U){if(U.h!=null)return U.i.concat(U.h.D);if(U.g!=null&&U.g.size!==0){let ee=U.i;for(const se of U.g.values())ee=ee.concat(se.D);return ee}return g(U.i)}function _h(U){if(U.V&&typeof U.V=="function")return U.V();if(typeof Map<"u"&&U instanceof Map||typeof Set<"u"&&U instanceof Set)return Array.from(U.values());if(typeof U=="string")return U.split("");if(l(U)){for(var ee=[],se=U.length,Ae=0;Ae<se;Ae++)ee.push(U[Ae]);return ee}ee=[],se=0;for(Ae in U)ee[se++]=U[Ae];return ee}function wh(U){if(U.na&&typeof U.na=="function")return U.na();if(!U.V||typeof U.V!="function"){if(typeof Map<"u"&&U instanceof Map)return Array.from(U.keys());if(!(typeof Set<"u"&&U instanceof Set)){if(l(U)||typeof U=="string"){var ee=[];U=U.length;for(var se=0;se<U;se++)ee.push(se);return ee}ee=[],se=0;for(const Ae in U)ee[se++]=Ae;return ee}}}function Vc(U,ee){if(U.forEach&&typeof U.forEach=="function")U.forEach(ee,void 0);else if(l(U)||typeof U=="string")Array.prototype.forEach.call(U,ee,void 0);else for(var se=wh(U),Ae=_h(U),He=Ae.length,tt=0;tt<He;tt++)ee.call(void 0,Ae[tt],se&&se[tt],U)}var bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TT(U,ee){if(U){U=U.split("&");for(var se=0;se<U.length;se++){var Ae=U[se].indexOf("="),He=null;if(0<=Ae){var tt=U[se].substring(0,Ae);He=U[se].substring(Ae+1)}else tt=U[se];ee(tt,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function Bl(U){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,U instanceof Bl){this.h=U.h,_d(this,U.j),this.o=U.o,this.g=U.g,Wc(this,U.s),this.l=U.l;var ee=U.i,se=new Jo;se.i=ee.i,ee.g&&(se.g=new Map(ee.g),se.h=ee.h),qc(this,se),this.m=U.m}else U&&(ee=String(U).match(bd))?(this.h=!1,_d(this,ee[1]||"",!0),this.o=bn(ee[2]||""),this.g=bn(ee[3]||"",!0),Wc(this,ee[4]),this.l=bn(ee[5]||"",!0),qc(this,ee[6]||"",!0),this.m=bn(ee[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}Bl.prototype.toString=function(){var U=[],ee=this.j;ee&&U.push(zc(ee,Th,!0),":");var se=this.g;return(se||ee=="file")&&(U.push("//"),(ee=this.o)&&U.push(zc(ee,Th,!0),"@"),U.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&U.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&U.push("/"),U.push(zc(se,se.charAt(0)=="/"?h1:f1,!0))),(se=this.i.toString())&&U.push("?",se),(se=this.m)&&U.push("#",zc(se,dg)),U.join("")};function ma(U){return new Bl(U)}function _d(U,ee,se){U.j=se?bn(ee,!0):ee,U.j&&(U.j=U.j.replace(/:$/,""))}function Wc(U,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);U.s=ee}else U.s=null}function qc(U,ee,se){ee instanceof Jo?(U.i=ee,Xo(U.i,U.h)):(se||(ee=zc(ee,p1)),U.i=new Jo(ee,U.h))}function tr(U,ee,se){U.i.set(ee,se)}function $c(U){return tr(U,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),U}function bn(U,ee){return U?ee?decodeURI(U.replace(/%25/g,"%2525")):decodeURIComponent(U):""}function zc(U,ee,se){return typeof U=="string"?(U=encodeURI(U).replace(ee,d1),se&&(U=U.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U):null}function d1(U){return U=U.charCodeAt(0),"%"+(U>>4&15).toString(16)+(U&15).toString(16)}var Th=/[#\/\?@]/g,f1=/[#\?:]/g,h1=/[#\?]/g,p1=/[#\?@]/g,dg=/#/g;function Jo(U,ee){this.h=this.g=null,this.i=U||null,this.j=!!ee}function $i(U){U.g||(U.g=new Map,U.h=0,U.i&&TT(U.i,function(ee,se){U.add(decodeURIComponent(ee.replace(/\+/g," ")),se)}))}t=Jo.prototype,t.add=function(U,ee){$i(this),this.i=null,U=Ma(this,U);var se=this.g.get(U);return se||this.g.set(U,se=[]),se.push(ee),this.h+=1,this};function go(U,ee){$i(U),ee=Ma(U,ee),U.g.has(ee)&&(U.i=null,U.h-=U.g.get(ee).length,U.g.delete(ee))}function yo(U,ee){return $i(U),ee=Ma(U,ee),U.g.has(ee)}t.forEach=function(U,ee){$i(this),this.g.forEach(function(se,Ae){se.forEach(function(He){U.call(ee,He,Ae,this)},this)},this)},t.na=function(){$i(this);const U=Array.from(this.g.values()),ee=Array.from(this.g.keys()),se=[];for(let Ae=0;Ae<ee.length;Ae++){const He=U[Ae];for(let tt=0;tt<He.length;tt++)se.push(ee[Ae])}return se},t.V=function(U){$i(this);let ee=[];if(typeof U=="string")yo(this,U)&&(ee=ee.concat(this.g.get(Ma(this,U))));else{U=Array.from(this.g.values());for(let se=0;se<U.length;se++)ee=ee.concat(U[se])}return ee},t.set=function(U,ee){return $i(this),this.i=null,U=Ma(this,U),yo(this,U)&&(this.h-=this.g.get(U).length),this.g.set(U,[ee]),this.h+=1,this},t.get=function(U,ee){return U?(U=this.V(U),0<U.length?String(U[0]):ee):ee};function Hc(U,ee,se){go(U,ee),0<se.length&&(U.i=null,U.g.set(Ma(U,ee),g(se)),U.h+=se.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const U=[],ee=Array.from(this.g.keys());for(var se=0;se<ee.length;se++){var Ae=ee[se];const tt=encodeURIComponent(String(Ae)),Tt=this.V(Ae);for(Ae=0;Ae<Tt.length;Ae++){var He=tt;Tt[Ae]!==""&&(He+="="+encodeURIComponent(String(Tt[Ae]))),U.push(He)}}return this.i=U.join("&")};function Ma(U,ee){return ee=String(ee),U.j&&(ee=ee.toLowerCase()),ee}function Xo(U,ee){ee&&!U.j&&($i(U),U.i=null,U.g.forEach(function(se,Ae){var He=Ae.toLowerCase();Ae!=He&&(go(this,Ae),Hc(this,He,se))},U)),U.j=ee}function ET(U,ee){const se=new er;if(o.Image){const Ae=new Image;Ae.onload=p(qs,se,"TestLoadImage: loaded",!0,ee,Ae),Ae.onerror=p(qs,se,"TestLoadImage: error",!1,ee,Ae),Ae.onabort=p(qs,se,"TestLoadImage: abort",!1,ee,Ae),Ae.ontimeout=p(qs,se,"TestLoadImage: timeout",!1,ee,Ae),o.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=U}else ee(!1)}function m1(U,ee){const se=new er,Ae=new AbortController,He=setTimeout(()=>{Ae.abort(),qs(se,"TestPingServer: timeout",!1,ee)},1e4);fetch(U,{signal:Ae.signal}).then(tt=>{clearTimeout(He),tt.ok?qs(se,"TestPingServer: ok",!0,ee):qs(se,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(He),qs(se,"TestPingServer: error",!1,ee)})}function qs(U,ee,se,Ae,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),Ae(se)}catch{}}function CT(){this.g=new _n}function g1(U,ee,se){const Ae=se||"";try{Vc(U,function(He,tt){let Tt=He;c(He)&&(Tt=Wt(He)),ee.push(Ae+tt+"="+encodeURIComponent(Tt))})}catch(He){throw ee.push(Ae+"type="+encodeURIComponent("_badmap")),He}}function Vl(U){this.l=U.Ub||null,this.j=U.eb||!1}v(Vl,En),Vl.prototype.g=function(){return new wd(this.l,this.j)},Vl.prototype.i=(function(U){return function(){return U}})({});function wd(U,ee){Re.call(this),this.D=U,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(wd,Re),t=wd.prototype,t.open=function(U,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=U,this.A=ee,this.readyState=1,xo(this)},t.send=function(U){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};U&&(ee.body=U),(this.D||o).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Sa=function(U){if(this.g&&(this.l=U,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=U.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")U.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in U){if(this.j=U.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y1(this)}else U.text().then(this.Ra.bind(this),this.ga.bind(this))};function y1(U){U.j.read().then(U.Pa.bind(U)).catch(U.ga.bind(U))}t.Pa=function(U){if(this.g){if(this.o&&U.value)this.response.push(U.value);else if(!this.o){var ee=U.value?U.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!U.done}))&&(this.response=this.responseText+=ee)}U.done?vo(this):xo(this),this.readyState==3&&y1(this)}},t.Ra=function(U){this.g&&(this.response=this.responseText=U,vo(this))},t.Qa=function(U){this.g&&(this.response=U,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(U){U.readyState=4,U.l=null,U.j=null,U.v=null,xo(U)}t.setRequestHeader=function(U,ee){this.u.append(U,ee)},t.getResponseHeader=function(U){return this.h&&this.h.get(U.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const U=[],ee=this.h.entries();for(var se=ee.next();!se.done;)se=se.value,U.push(se[0]+": "+se[1]),se=ee.next();return U.join(`\r
`)};function xo(U){U.onreadystatechange&&U.onreadystatechange.call(U)}Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(U){this.m=U?"include":"same-origin"}});function Wl(U){let ee="";return F(U,function(se,Ae){ee+=Ae,ee+=":",ee+=se,ee+=`\r
`}),ee}function Gc(U,ee,se){e:{for(Ae in se){var Ae=!1;break e}Ae=!0}Ae||(se=Wl(se),typeof U=="string"?se!=null&&encodeURIComponent(String(se)):tr(U,ee,se))}function _r(U){Re.call(this),this.headers=new Map,this.o=U||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(_r,Re);var ST=/^https?$/i,fg=["POST","PUT"];t=_r.prototype,t.Ha=function(U){this.J=U},t.ea=function(U,ee,se,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+U);ee=ee?ee.toUpperCase():"GET",this.D=U,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Ln(this.o):Ln(De),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ee,String(U),!0),this.B=!1}catch(tt){Td(this,tt);return}if(U=se||"",se=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var He in Ae)se.set(He,Ae[He]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const tt of Ae.keys())se.set(tt,Ae.get(tt));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(se.keys()).find(tt=>tt.toLowerCase()=="content-type"),He=o.FormData&&U instanceof o.FormData,!(0<=Array.prototype.indexOf.call(fg,ee,void 0))||Ae||He||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,Tt]of se)this.g.setRequestHeader(tt,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ch(this),this.u=!0,this.g.send(U),this.u=!1}catch(tt){Td(this,tt)}};function Td(U,ee){U.h=!1,U.g&&(U.j=!0,U.g.abort(),U.j=!1),U.l=ee,U.m=5,Eh(U),ga(U)}function Eh(U){U.A||(U.A=!0,Ee(U,"complete"),Ee(U,"error"))}t.abort=function(U){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=U||7,Ee(this,"complete"),Ee(this,"abort"),ga(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),_r.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hg(this):this.bb())},t.bb=function(){hg(this)};function hg(U){if(U.h&&typeof a<"u"&&(!U.v[1]||$s(U)!=4||U.Z()!=2)){if(U.u&&$s(U)==4)Me(U.Ea,0,U);else if(Ee(U,"readystatechange"),$s(U)==4){U.h=!1;try{const Tt=U.Z();e:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var se;if(!(se=ee)){var Ae;if(Ae=Tt===0){var He=String(U.D).match(bd)[1]||null;!He&&o.self&&o.self.location&&(He=o.self.location.protocol.slice(0,-1)),Ae=!ST.test(He?He.toLowerCase():"")}se=Ae}if(se)Ee(U,"complete"),Ee(U,"success");else{U.m=6;try{var tt=2<$s(U)?U.g.statusText:""}catch{tt=""}U.l=tt+" ["+U.Z()+"]",Eh(U)}}finally{ga(U)}}}}function ga(U,ee){if(U.g){Ch(U);const se=U.g,Ae=U.v[0]?()=>{}:null;U.g=null,U.v=null,ee||Ee(U,"ready");try{se.onreadystatechange=Ae}catch{}}}function Ch(U){U.I&&(o.clearTimeout(U.I),U.I=null)}t.isActive=function(){return!!this.g};function $s(U){return U.g?U.g.readyState:0}t.Z=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(U){if(this.g){var ee=this.g.responseText;return U&&ee.indexOf(U)==0&&(ee=ee.substring(U.length)),$t(ee)}};function pg(U){try{if(!U.g)return null;if("response"in U.g)return U.g.response;switch(U.H){case"":case"text":return U.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in U.g)return U.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(U){const ee={};U=(U.g&&2<=$s(U)&&U.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<U.length;Ae++){if(x(U[Ae]))continue;var se=P(U[Ae]);const He=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const tt=ee[He]||[];ee[He]=tt,tt.push(se)}A(ee,function(Ae){return Ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(U,ee,se){return se&&se.internalChannelParams&&se.internalChannelParams[U]||ee}function mg(U){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,U),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,U),this.cb=Yo("retryDelaySeedMs",1e4,U),this.Wa=Yo("forwardChannelMaxRetries",2,U),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,U),this.pa=U&&U.xmlHttpFactory||void 0,this.Xa=U&&U.Tb||void 0,this.Ca=U&&U.useFetchStreams||!1,this.L=void 0,this.J=U&&U.supportsCrossDomainXhr||!1,this.K="",this.h=new pa(U&&U.concurrentRequestLimit),this.Da=new CT,this.P=U&&U.fastHandshake||!1,this.O=U&&U.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=U&&U.Rb||!1,U&&U.xa&&this.j.xa(),U&&U.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&U&&U.detectBufferingProxy||!1,this.ja=void 0,U&&U.longPollingTimeout&&0<U.longPollingTimeout&&(this.ja=U.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mg.prototype,t.la=8,t.G=1,t.connect=function(U,ee,se,Ae){zt(0),this.W=U,this.H=ee||{},se&&Ae!==void 0&&(this.H.OSID=se,this.H.OAID=Ae),this.F=this.X,this.I=_1(this,null,this.W),Qo(this)};function zi(U){if(Dh(U),U.G==3){var ee=U.U++,se=ma(U.I);if(tr(se,"SID",U.K),tr(se,"RID",ee),tr(se,"TYPE","terminate"),ql(U,se),ee=new Qe(U,U.j,ee),ee.L=2,ee.v=$c(ma(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(ee.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=ee.v,se=!0),se||(ee.g=w1(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),ft(ee)}b1(U)}function bo(U){U.g&&(gg(U),U.g.cancel(),U.g=null)}function Dh(U){bo(U),U.u&&(o.clearTimeout(U.u),U.u=null),kh(U),U.h.cancel(),U.s&&(typeof U.s=="number"&&o.clearTimeout(U.s),U.s=null)}function Qo(U){if(!Qr(U.h)&&!U.s){U.s=!0;var ee=U.Ga;G||Y(),Z||(G(),Z=!0),W.add(ee,U),U.B=0}}function DT(U,ee){return Bc(U.h)>=U.h.j-(U.s?1:0)?!1:U.s?(U.i=ee.D.concat(U.i),!0):U.G==1||U.G==2||U.B>=(U.Va?0:U.Wa)?!1:(U.s=yn(h(U.Ga,U,ee),x1(U,U.B)),U.B++,!0)}t.Ga=function(U){if(this.s)if(this.s=null,this.G==1){if(!U){this.U=Math.floor(1e5*Math.random()),U=this.U++;const He=new Qe(this,this.j,U);let tt=this.o;if(this.S&&(tt?(tt=I(tt),R(tt,this.S)):tt=this.S),this.m!==null||this.O||(He.H=tt,tt=null),this.P)e:{for(var ee=0,se=0;se<this.i.length;se++){t:{var Ae=this.i[se];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(ee+=Ae,4096<ee){ee=se;break e}if(ee===4096||se===this.i.length-1){ee=se+1;break e}}ee=1e3}else ee=1e3;ee=Kc(this,He,ee),se=ma(this.I),tr(se,"RID",U),tr(se,"CVER",22),this.D&&tr(se,"X-HTTP-Session-Id",this.D),ql(this,se),tt&&(this.O?ee="headers="+encodeURIComponent(String(Wl(tt)))+"&"+ee:this.m&&Gc(se,this.m,tt)),ug(this.h,He),this.Ua&&tr(se,"TYPE","init"),this.P?(tr(se,"$req",ee),tr(se,"SID","null"),He.T=!0,ut(He,se,null)):ut(He,se,ee),this.G=2}}else this.G==3&&(U?Ah(this,U):this.i.length==0||Qr(this.h)||Ah(this))};function Ah(U,ee){var se;ee?se=ee.l:se=U.U++;const Ae=ma(U.I);tr(Ae,"SID",U.K),tr(Ae,"RID",se),tr(Ae,"AID",U.T),ql(U,Ae),U.m&&U.o&&Gc(Ae,U.m,U.o),se=new Qe(U,U.j,se,U.B+1),U.m===null&&(se.H=U.o),ee&&(U.i=ee.D.concat(U.i)),ee=Kc(U,se,1e3),se.I=Math.round(.5*U.wa)+Math.round(.5*U.wa*Math.random()),ug(U.h,se),ut(se,Ae,ee)}function ql(U,ee){U.H&&F(U.H,function(se,Ae){tr(ee,Ae,se)}),U.l&&Vc({},function(se,Ae){tr(ee,Ae,se)})}function Kc(U,ee,se){se=Math.min(U.i.length,se);var Ae=U.l?h(U.l.Na,U.l,U):null;e:{var He=U.i;let tt=-1;for(;;){const Tt=["count="+se];tt==-1?0<se?(tt=He[0].g,Tt.push("ofs="+tt)):tt=0:Tt.push("ofs="+tt);let qn=!0;for(let gi=0;gi<se;gi++){let wn=He[gi].g;const Ai=He[gi].map;if(wn-=tt,0>wn)tt=Math.max(0,He[gi].g-100),qn=!1;else try{g1(Ai,Tt,"req"+wn+"_")}catch{Ae&&Ae(Ai)}}if(qn){Ae=Tt.join("&");break e}}}return U=U.i.splice(0,se),ee.D=U,Ae}function Ed(U){if(!U.g&&!U.u){U.Y=1;var ee=U.Fa;G||Y(),Z||(G(),Z=!0),W.add(ee,U),U.v=0}}function Nh(U){return U.g||U.u||3<=U.v?!1:(U.Y++,U.u=yn(h(U.Fa,U),x1(U,U.v)),U.v++,!0)}t.Fa=function(){if(this.u=null,v1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var U=2*this.R;this.j.info("BP detection timer enabled: "+U),this.A=yn(h(this.ab,this),U)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),bo(this),v1(this))};function gg(U){U.A!=null&&(o.clearTimeout(U.A),U.A=null)}function v1(U){U.g=new Qe(U,U.j,"rpc",U.Y),U.m===null&&(U.g.H=U.o),U.g.O=0;var ee=ma(U.qa);tr(ee,"RID","rpc"),tr(ee,"SID",U.K),tr(ee,"AID",U.T),tr(ee,"CI",U.F?"0":"1"),!U.F&&U.ja&&tr(ee,"TO",U.ja),tr(ee,"TYPE","xmlhttp"),ql(U,ee),U.m&&U.o&&Gc(ee,U.m,U.o),U.L&&(U.g.I=U.L);var se=U.g;U=U.ia,se.L=1,se.v=$c(ma(ee)),se.m=null,se.P=!0,vt(se,U)}t.Za=function(){this.C!=null&&(this.C=null,bo(this),Nh(this),zt(19))};function kh(U){U.C!=null&&(o.clearTimeout(U.C),U.C=null)}function Ih(U,ee){var se=null;if(U.g==ee){kh(U),gg(U),U.g=null;var Ae=2}else if(dr(U.h,ee))se=ee.D,c1(U.h,ee),Ae=1;else return;if(U.G!=0){if(ee.o)if(Ae==1){se=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var He=U.B;Ae=$e(),Ee(Ae,new Cn(Ae,se)),Qo(U)}else Ed(U);else if(He=ee.s,He==3||He==0&&0<ee.X||!(Ae==1&&DT(U,ee)||Ae==2&&Nh(U)))switch(se&&0<se.length&&(ee=U.h,ee.i=ee.i.concat(se)),He){case 1:$l(U,5);break;case 4:$l(U,10);break;case 3:$l(U,6);break;default:$l(U,2)}}}function x1(U,ee){let se=U.Ta+Math.floor(Math.random()*U.cb);return U.isActive()||(se*=2),se*ee}function $l(U,ee){if(U.j.info("Error code "+ee),ee==2){var se=h(U.fb,U),Ae=U.Xa;const He=!Ae;Ae=new Bl(Ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_d(Ae,"https"),$c(Ae),He?ET(Ae.toString(),se):m1(Ae.toString(),se)}else zt(2);U.G=0,U.l&&U.l.sa(ee),b1(U),Dh(U)}t.fb=function(U){U?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function b1(U){if(U.G=0,U.ka=[],U.l){const ee=u1(U.h);(ee.length!=0||U.i.length!=0)&&(y(U.ka,ee),y(U.ka,U.i),U.h.i.length=0,g(U.i),U.i.length=0),U.l.ra()}}function _1(U,ee,se){var Ae=se instanceof Bl?ma(se):new Bl(se);if(Ae.g!="")ee&&(Ae.g=ee+"."+Ae.g),Wc(Ae,Ae.s);else{var He=o.location;Ae=He.protocol,ee=ee?ee+"."+He.hostname:He.hostname,He=+He.port;var tt=new Bl(null);Ae&&_d(tt,Ae),ee&&(tt.g=ee),He&&Wc(tt,He),se&&(tt.l=se),Ae=tt}return se=U.D,ee=U.ya,se&&ee&&tr(Ae,se,ee),tr(Ae,"VER",U.la),ql(U,Ae),Ae}function w1(U,ee,se){if(ee&&!U.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=U.Ca&&!U.pa?new _r(new Vl({eb:se})):new _r(U.pa),ee.Ha(U.J),ee}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yg(){}t=yg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ph(){}Ph.prototype.g=function(U,ee){return new As(U,ee)};function As(U,ee){Re.call(this),this.g=new mg(ee),this.l=U,this.h=ee&&ee.messageUrlParams||null,U=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(U?U["X-Client-Protocol"]="webchannel":U={"X-Client-Protocol":"webchannel"}),this.g.o=U,U=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(U?U["X-WebChannel-Content-Type"]=ee.messageContentType:U={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(U?U["X-WebChannel-Client-Profile"]=ee.va:U={"X-WebChannel-Client-Profile":ee.va}),this.g.S=U,(U=ee&&ee.Sb)&&!x(U)&&(this.g.m=U),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!x(ee)&&(this.g.D=ee,U=this.h,U!==null&&ee in U&&(U=this.h,ee in U&&delete U[ee])),this.j=new Zo(this)}v(As,Re),As.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},As.prototype.close=function(){zi(this.g)},As.prototype.o=function(U){var ee=this.g;if(typeof U=="string"){var se={};se.__data__=U,U=se}else this.u&&(se={},se.__data__=Wt(U),U=se);ee.i.push(new Ko(ee.Ya++,U)),ee.G==3&&Qo(ee)},As.prototype.N=function(){this.g.l=null,delete this.j,zi(this.g),delete this.g,As.aa.N.call(this)};function T1(U){We.call(this),U.__headers__&&(this.headers=U.__headers__,this.statusCode=U.__status__,delete U.__headers__,delete U.__status__);var ee=U.__sm__;if(ee){e:{for(const se in ee){U=se;break e}U=void 0}(this.i=U)&&(U=this.i,ee=ee!==null&&U in ee?ee[U]:void 0),this.data=ee}else this.data=U}v(T1,We);function E1(){ie.call(this),this.status=1}v(E1,ie);function Zo(U){this.g=U}v(Zo,yg),Zo.prototype.ua=function(){Ee(this.g,"a")},Zo.prototype.ta=function(U){Ee(this.g,new T1(U))},Zo.prototype.sa=function(U){Ee(this.g,new E1)},Zo.prototype.ra=function(){Ee(this.g,"b")},Ph.prototype.createWebChannel=Ph.prototype.g,As.prototype.send=As.prototype.o,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,NV=function(){return new Ph},AV=function(){return $e()},DV=de,$D={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,p2=Ce,Ne.COMPLETE="complete",SV=Ne,xn.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",Re.prototype.listen=Re.prototype.K,b0=xn,_r.prototype.listenOnce=_r.prototype.L,_r.prototype.getLastError=_r.prototype.Ka,_r.prototype.getLastErrorCode=_r.prototype.Ba,_r.prototype.getStatus=_r.prototype.Z,_r.prototype.getResponseJson=_r.prototype.Oa,_r.prototype.getResponseText=_r.prototype.oa,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Ha,CV=_r}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});const zR="@firebase/firestore",HR="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Fm("@firebase/firestore");function pp(){return Lu.logLevel}function ure(t){Lu.setLogLevel(t)}function ct(t,...e){if(Lu.logLevel<=pn.DEBUG){const n=e.map(QN);Lu.debug(`Firestore (${Mm}): ${t}`,...n)}}function ti(t,...e){if(Lu.logLevel<=pn.ERROR){const n=e.map(QN);Lu.error(`Firestore (${Mm}): ${t}`,...n)}}function kl(t,...e){if(Lu.logLevel<=pn.WARN){const n=e.map(QN);Lu.warn(`Firestore (${Mm}): ${t}`,...n)}}function QN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kV(t,r,n)}function kV(t,e,n){let r=`FIRESTORE (${Mm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ti(r),new Error(r)}function Ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kV(e,i,r)}function dre(t,e){t||Nt(57014,e)}function St(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ui.UNAUTHENTICATED)))}shutdown(){}}class hre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pre{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ot(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new es;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new es,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new es)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new IV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new Ui(e)}}class mre{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gre{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mre(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ui.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yre{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ot(this.o===void 0,3512);const r=s=>{s.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ct("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=vre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function rn(t,e){return t<e?-1:t>e?1:0}function zD(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return sC(i)===sC(s)?rn(i,s):sC(i)?1:-1}return rn(t.length,e.length)}const xre=55296,bre=57343;function sC(t){const e=t.charCodeAt(0);return e>=xre&&e<=bre}function Kp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function PV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__name__";class ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&Nt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Nt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ul.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return rn(e.length,n.length)}static compareSegments(e,n){const r=ul.isNumericId(e),i=ul.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ul.extractNumericId(e).compare(ul.extractNumericId(n)):zD(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Du.fromString(e.substring(4,e.length-2))}}class gn extends ul{construct(e,n,r){return new gn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new gn(n)}static emptyPath(){return new gn([])}}const _re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends ul{construct(e,n,r){return new Cr(e,n,r)}static isValidIdentifier(e){return _re.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KR}static keyField(){return new Cr([KR])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new at(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new at(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new at(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new at(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(gn.fromString(e))}static fromName(e){return new Et(gn.fromString(e).popFirst(5))}static empty(){return new Et(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new gn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e,n){if(!n)throw new at(et.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RV(t,e,n,r){if(e===!0&&r===!0)throw new at(et.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JR(t){if(!Et.isDocumentKey(t))throw new at(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XR(t){if(Et.isDocumentKey(t))throw new at(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function A_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A_(t);throw new at(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function MV(t,e){if(e<=0)throw new at(et.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e){const n={typeString:t};return e&&(n.value=e),n}function gv(t,e){if(!FV(t))throw new at(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new at(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=-62135596800,QR=1e6;class jn{static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QR);return new jn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YR)throw new at(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QR}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gv(e,jn._jsonSchema))return new jn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jn._jsonSchemaVersion="firestore/timestamp/1.0",jn._jsonSchema={type:mi("string",jn._jsonSchemaVersion),seconds:mi("number"),nanoseconds:mi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new jn(0,0))}static max(){return new Vt(new jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;class lb{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function HD(t){return t.fields.find((e=>e.kind===2))}function zd(t){return t.fields.filter((e=>e.kind!==2))}lb.UNKNOWN_ID=-1;class m2{constructor(e,n){this.fieldPath=e,this.kind=n}}class gy{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new gy(0,Ia.min())}}function OV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(r===1e9?new jn(n+1,0):new jn(n,r));return new Ia(i,Et.empty(),e)}function UV(t){return new Ia(t.readTime,t.key,Jp)}class Ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ia(Vt.min(),Et.empty(),Jp)}static max(){return new Ia(Vt.max(),Et.empty(),Jp)}}function tk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Et.comparator(t.documentKey,e.documentKey),n!==0?n:rn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){if(t.code!==et.FAILED_PRECONDITION||t.message!==LV)throw t;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.reject(n)}static resolve(e){return new ze(((n,r)=>{n(e)}))}static reject(e){return new ze(((n,r)=>{r(e)}))}static waitFor(e){return new ze(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next((i=>i?ze.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ze(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new ze(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="SimpleDb";class N_{static open(e,n,r,i){try{return new N_(n,e.transaction(i,r))}catch(s){throw new P0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new es,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new P0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=nk(r.target.error);this.S.reject(new P0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ct(_a,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Tre(n)}}class El{static delete(e){return ct(_a,"Removing database:",e),Kd(VN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!fy())return!1;if(El.F())return!0;const e=Lr(),n=El.M(e),r=0<n&&n<10,i=BV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,El.M(Lr())===12.2&&ti("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ct(_a,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new P0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new at(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new at(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new P0(e,a))},i.onupgradeneeded=s=>{ct(_a,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{ct(_a,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=N_.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),ze.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(ct(_a,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function BV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class wre{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Kd(this.U.delete())}}class P0 extends at{constructor(e,n){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sd(t){return t.name==="IndexedDbTransactionError"}class Tre{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ct(_a,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ct(_a,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Kd(r)}add(e){return ct(_a,"ADD",this.store.name,e,e),Kd(this.store.add(e))}get(e){return Kd(this.store.get(e)).next((n=>(n===void 0&&(n=null),ct(_a,"GET",this.store.name,e,n),n)))}delete(e){return ct(_a,"DELETE",this.store.name,e),Kd(this.store.delete(e))}count(){return ct(_a,"COUNT",this.store.name),Kd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ze(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ze(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){ct(_a,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new ze(((r,i)=>{n.onerror=s=>{const a=nk(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new ze(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new wre(o),c=n(o.primaryKey,o.value,l);if(c instanceof ze){const u=c.catch((f=>(l.done(),ze.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>ze.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Kd(t){return new ze(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=nk(r.target.error);n(i)}}))}let ZR=!1;function nk(t){const e=El.M(Lr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZR||(ZR=!0,setTimeout((()=>{throw r}),0)),r}}return t}const R0="IndexBackfiller";class Ere{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ct(R0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ct(R0,`Documents written: ${n}`)}catch(n){sd(n)?ct(R0,"Ignoring IndexedDB error during index backfill: ",n):await id(n)}await this.re(6e4)}))}}class Cre{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return ze.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return ct(R0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(ct(R0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=UV(s);tk(a,r)>0&&(r=a)})),new Ia(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ea.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function yv(t){return t==null}function yy(t){return t===0&&1/t==-1/0}function VV(t){return typeof t=="number"&&Number.isInteger(t)&&!yy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="";function bs(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e8(e)),e=Sre(t.get(n),e);return e8(e)}function Sre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case cb:n+="";break;default:n+=s}}return n}function e8(t){return t+cb+""}function yl(t){const e=t.length;if(Ot(e>=2,64408,{path:t}),e===2)return Ot(t.charAt(0)===cb&&t.charAt(1)==="",56145,{path:t}),gn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(cb,s);switch((a<0||a>n)&&Nt(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Nt(61167,{path:t})}s=a+2}return new gn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="remoteDocuments",vv="owner",ep="owner",vy="mutationQueues",Dre="userId",Po="mutations",t8="batchId",ef="userMutationsIndex",n8=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){return[t,bs(e)]}function WV(t,e,n){return[t,bs(e),n]}const Are={},Xp="documentMutations",ub="remoteDocumentsV14",Nre=["prefixPath","collectionGroup","readTime","documentId"],y2="documentKeyIndex",kre=["prefixPath","collectionGroup","documentId"],qV="collectionGroupIndex",Ire=["collectionGroup","readTime","prefixPath","documentId"],xy="remoteDocumentGlobal",GD="remoteDocumentGlobalKey",Yp="targets",$V="queryTargetsIndex",Pre=["canonicalId","targetId"],Qp="targetDocuments",Rre=["targetId","path"],rk="documentTargetsIndex",Fre=["path","targetId"],db="targetGlobalKey",ff="targetGlobal",by="collectionParents",Mre=["collectionId","parent"],Zp="clientMetadata",Ore="clientId",k_="bundles",Ure="bundleId",I_="namedQueries",Lre="name",ik="indexConfiguration",jre="indexId",KD="collectionGroupIndex",Bre="collectionGroup",F0="indexState",Vre=["indexId","uid"],zV="sequenceNumberIndex",Wre=["uid","sequenceNumber"],M0="indexEntries",qre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HV="documentKeyIndex",$re=["indexId","uid","orderedDocumentKey"],P_="documentOverlays",zre=["userId","collectionPath","documentId"],JD="collectionPathOverlayIndex",Hre=["userId","collectionPath","largestBatchId"],GV="collectionGroupOverlayIndex",Gre=["userId","collectionGroup","largestBatchId"],sk="globals",Kre="name",KV=[vy,Po,Xp,Hd,Yp,vv,ff,Qp,Zp,xy,by,k_,I_],Jre=[...KV,P_],JV=[vy,Po,Xp,ub,Yp,vv,ff,Qp,Zp,xy,by,k_,I_,P_],XV=JV,ak=[...XV,ik,F0,M0],Xre=ak,YV=[...ak,sk],Yre=YV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD extends jV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Di(t,e){const n=St(t);return El.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ad(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr=class YD{constructor(e,n){this.comparator=e,this.root=n||Nu.EMPTY}insert(e,n){return new YD(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nu.BLACK,null,null))}remove(e){return new YD(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bx(this.root,e,this.comparator,!1)}getReverseIterator(){return new bx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bx(this.root,e,this.comparator,!0)}},bx=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nu=class tc{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tc.RED,this.left=i??tc.EMPTY,this.right=s??tc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tc(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tc.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}};Nu.EMPTY=null,Nu.RED=!0,Nu.BLACK=!1;Nu.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i8(this.data.getIterator())}getIteratorFrom(e){return new i8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class i8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tp(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ta([])}unionWith(e){let n=new Xn(Cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ta(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZV("Invalid base64 string: "+s):s}})(e);return new Hr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const Zre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bc(t){if(Ot(!!t,39018),typeof t=="string"){let e=0;const n=Zre.exec(t);if(Ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(t.seconds),nanos:Tr(t.nanos)}}function Tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _c(t){return typeof t=="string"?Hr.fromBase64String(t):Hr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="server_timestamp",tW="__type__",nW="__previous_value__",rW="__local_write_time__";function R_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tW])==null?void 0:r.stringValue)===eW}function F_(t){const e=t.mapValue.fields[nW];return R_(e)?F_(e):e}function _y(t){const e=bc(t.mapValue.fields[rW].timestampValue);return new jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const QD="(default)";class ju{constructor(e,n){this.projectId=e,this.database=n||QD}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===QD}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="__type__",iW="__max__",vu={mapValue:{fields:{__type__:{stringValue:iW}}}},lk="__vector__",em="value",v2={nullValue:"NULL_VALUE"};function Bu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R_(t)?4:sW(t)?9007199254740991:M_(t)?10:11:Nt(28295,{value:t})}function Il(t,e){if(t===e)return!0;const n=Bu(t);if(n!==Bu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _y(t).isEqual(_y(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=bc(i.timestampValue),o=bc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return _c(i.bytesValue).isEqual(_c(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Tr(i.geoPointValue.latitude)===Tr(s.geoPointValue.latitude)&&Tr(i.geoPointValue.longitude)===Tr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Tr(i.integerValue)===Tr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Tr(i.doubleValue),o=Tr(s.doubleValue);return a===o?yy(a)===yy(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return Kp(t.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(r8(a)!==r8(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Il(a[l],o[l])))return!1;return!0})(t,e);default:return Nt(52216,{left:t})}}function wy(t,e){return(t.values||[]).find((n=>Il(n,e)))!==void 0}function Vu(t,e){if(t===e)return 0;const n=Bu(t),r=Bu(e);if(n!==r)return rn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Tr(s.integerValue||s.doubleValue),l=Tr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return s8(t.timestampValue,e.timestampValue);case 4:return s8(_y(t),_y(e));case 5:return zD(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=_c(s),l=_c(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=rn(o[c],l[c]);if(u!==0)return u}return rn(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=rn(Tr(s.latitude),Tr(a.latitude));return o!==0?o:rn(Tr(s.longitude),Tr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return a8(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[em])==null?void 0:h.arrayValue,u=(p=l[em])==null?void 0:p.arrayValue,f=rn(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:a8(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===vu.mapValue&&a===vu.mapValue)return 0;if(s===vu.mapValue)return 1;if(a===vu.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=zD(l[f],u[f]);if(h!==0)return h;const p=Vu(o[l[f]],c[u[f]]);if(p!==0)return p}return rn(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Nt(23264,{he:n})}}function s8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rn(t,e);const n=bc(t),r=bc(e),i=rn(n.seconds,r.seconds);return i!==0?i:rn(n.nanos,r.nanos)}function a8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vu(n[i],r[i]);if(s)return s}return rn(n.length,r.length)}function tm(t){return ZD(t)}function ZD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _c(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Et.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ZD(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${ZD(n.fields[a])}`;return i+"}"})(t.mapValue):Nt(61005,{value:t})}function x2(t){switch(Bu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=F_(t);return e?16+x2(e):16;case 5:return 2*t.stringValue.length;case 6:return _c(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+x2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ad(r.fields,((s,a)=>{i+=s.length+x2(a)})),i})(t.mapValue);default:throw Nt(13486,{value:t})}}function Ef(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eA(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function o8(t){return!!t&&"nullValue"in t}function l8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function b2(t){return!!t&&"mapValue"in t}function M_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ok])==null?void 0:r.stringValue)===lk}function O0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ad(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=O0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=O0(t.arrayValue.values[n]);return e}return{...t}}function sW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iW}const aW={mapValue:{fields:{[ok]:{stringValue:lk},[em]:{arrayValue:{}}}}};function tie(t){return"nullValue"in t?v2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ef(ju.empty(),Et.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?M_(t)?aW:{mapValue:{}}:Nt(35942,{value:t})}function nie(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ef(ju.empty(),Et.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?aW:"mapValue"in t?M_(t)?{mapValue:{}}:vu:Nt(61959,{value:t})}function c8(t,e){const n=Vu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function u8(t,e){const n=Vu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!b2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=O0(n)}setAll(e){let n=Cr.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=O0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());b2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];b2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ad(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Qi(O0(this.value))}}function oW(t){const e=[];return ad(t.fields,((n,r)=>{const i=new Cr([n]);if(b2(r)){const s=oW(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new ta(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new gr(e,0,Vt.min(),Vt.min(),Vt.min(),Qi.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,Vt.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,Vt.min(),Vt.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,Vt.min(),Vt.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.position=e,this.inclusive=n}}function d8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Et.comparator(Et.fromName(a.referenceValue),n.key):r=Vu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Il(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n="asc"){this.field=e,this.dir=n}}function rie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{}class vn extends lW{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iie(e,n,r):n==="array-contains"?new oie(e,r):n==="in"?new pW(e,r):n==="not-in"?new lie(e,r):n==="array-contains-any"?new cie(e,r):new vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sie(e,r):new aie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vu(n,this.value)):n!==null&&Bu(this.value)===Bu(n)&&this.matchesComparison(Vu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends lW{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gn(e,n)}matches(e){return nm(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nm(t){return t.op==="and"}function tA(t){return t.op==="or"}function ck(t){return cW(t)&&nm(t)}function cW(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function nA(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+tm(t.value);if(ck(t))return t.filters.map((e=>nA(e))).join(",");{const e=t.filters.map((n=>nA(n))).join(",");return`${t.op}(${e})`}}function uW(t,e){return t instanceof vn?(function(r,i){return i instanceof vn&&r.op===i.op&&r.field.isEqual(i.field)&&Il(r.value,i.value)})(t,e):t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&uW(a,i.filters[o])),!0):!1})(t,e):void Nt(19439)}function dW(t,e){const n=t.filters.concat(e);return Gn.create(n,t.op)}function fW(t){return t instanceof vn?(function(n){return`${n.field.canonicalString()} ${n.op} ${tm(n.value)}`})(t):t instanceof Gn?(function(n){return n.op.toString()+" {"+n.getFilters().map(fW).join(" ,")+"}"})(t):"Filter"}class iie extends vn{constructor(e,n,r){super(e,n,r),this.key=Et.fromName(r.referenceValue)}matches(e){const n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}}class sie extends vn{constructor(e,n){super(e,"in",n),this.keys=hW("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aie extends vn{constructor(e,n){super(e,"not-in",n),this.keys=hW("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hW(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Et.fromName(r.referenceValue)))}class oie extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&wy(n.arrayValue,this.value)}}class pW extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wy(this.value.arrayValue,n)}}class lie extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wy(this.value.arrayValue,n)}}class cie extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function rA(t,e=null,n=[],r=[],i=null,s=null,a=null){return new uie(t,e,n,r,i,s,a)}function Cf(t){const e=St(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>nA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),yv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>tm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>tm(r))).join(",")),e.Te=n}return e.Te}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uW(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f8(t.startAt,e.startAt)&&f8(t.endAt,e.endAt)}function fb(t){return Et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function hb(t,e){return t.filters.filter((n=>n instanceof vn&&n.field.isEqual(e)))}function h8(t,e,n){let r=v2,i=!0;for(const s of hb(t,e)){let a=v2,o=!0;switch(s.op){case"<":case"<=":a=tie(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=v2}c8({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];c8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function p8(t,e,n){let r=vu,i=!0;for(const s of hb(t,e)){let a=vu,o=!0;switch(s.op){case">=":case">":a=nie(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=vu}u8({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];u8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mW(t,e,n,r,i,s,a,o){return new Nc(t,e,n,r,i,s,a,o)}function Om(t){return new Nc(t)}function m8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uk(t){return t.collectionGroup!==null}function Np(t){const e=St(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Xn(Cr.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ey(s,r))})),n.has(Cr.keyField().canonicalString())||e.Ie.push(new Ey(Cr.keyField(),r))}return e.Ie}function Ls(t){const e=St(t);return e.Ee||(e.Ee=die(e,Np(t))),e.Ee}function die(t,e){if(t.limitType==="F")return rA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ey(i.field,s)}));const n=t.endAt?new Wu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wu(t.startAt.position,t.startAt.inclusive):null;return rA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iA(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pb(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bv(t,e){return xv(Ls(t),Ls(e))&&t.limitType===e.limitType}function gW(t){return`${Cf(Ls(t))}|lt:${t.limitType}`}function mp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>fW(i))).join(", ")}]`),yv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>tm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>tm(i))).join(",")),`Target(${r})`})(Ls(t))}; limitType=${t.limitType})`}function _v(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Np(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=d8(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,Np(r),i)||r.endAt&&!(function(a,o,l){const c=d8(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,Np(r),i))})(t,e)}function yW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vW(t){return(e,n)=>{let r=!1;for(const i of Np(t)){const s=fie(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fie(t,e,n){const r=t.field.isKeyField()?Et.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Vu(l,c):Nt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ad(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return QV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=new jr(Et.comparator);function na(){return hie}const xW=new jr(Et.comparator);function _0(...t){let e=xW;for(const n of t)e=e.insert(n.key,n);return e}function bW(t){let e=xW;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function vl(){return U0()}function _W(){return U0()}function U0(){return new kc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const pie=new jr(Et.comparator),mie=new Xn(Et.comparator);function an(...t){let e=mie;for(const n of t)e=e.add(n);return e}const gie=new Xn(rn);function dk(){return gie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yy(e)?"-0":e}}function wW(t){return{integerValue:""+t}}function TW(t,e){return VV(e)?wW(e):fk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this._=void 0}}function yie(t,e,n){return t instanceof rm?(function(i,s){const a={fields:{[tW]:{stringValue:eW},[rW]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&R_(s)&&(s=F_(s)),s&&(a.fields[nW]=s),{mapValue:a}})(n,e):t instanceof Sf?CW(t,e):t instanceof Df?SW(t,e):(function(i,s){const a=EW(i,s),o=g8(a)+g8(i.Ae);return eA(a)&&eA(i.Ae)?wW(o):fk(i.serializer,o)})(t,e)}function vie(t,e,n){return t instanceof Sf?CW(t,e):t instanceof Df?SW(t,e):n}function EW(t,e){return t instanceof im?(function(r){return eA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class rm extends O_{}class Sf extends O_{constructor(e){super(),this.elements=e}}function CW(t,e){const n=DW(e);for(const r of t.elements)n.some((i=>Il(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Df extends O_{constructor(e){super(),this.elements=e}}function SW(t,e){let n=DW(e);for(const r of t.elements)n=n.filter((i=>!Il(i,r)));return{arrayValue:{values:n}}}class im extends O_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g8(t){return Tr(t.integerValue||t.doubleValue)}function DW(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.field=e,this.transform=n}}function xie(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Sf&&i instanceof Sf||r instanceof Df&&i instanceof Df?Kp(r.elements,i.elements,Il):r instanceof im&&i instanceof im?Il(r.Ae,i.Ae):r instanceof rm&&i instanceof rm})(t.transform,e.transform)}class bie{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class U_{}function AW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lm(t.key,Sr.none()):new Um(t.key,t.data,Sr.none());{const n=t.data,r=Qi.empty();let i=new Xn(Cr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ic(t.key,r,new ta(i.toArray()),Sr.none())}}function _ie(t,e,n){t instanceof Um?(function(i,s,a){const o=i.value.clone(),l=v8(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Ic?(function(i,s,a){if(!_2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=v8(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(NW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function L0(t,e,n,r){return t instanceof Um?(function(s,a,o,l){if(!_2(s.precondition,a))return o;const c=s.value.clone(),u=x8(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ic?(function(s,a,o,l){if(!_2(s.precondition,a))return o;const c=x8(s.fieldTransforms,l,a),u=a.data;return u.setAll(NW(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return _2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function wie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EW(r.transform,i||null);s!=null&&(n===null&&(n=Qi.empty()),n.set(r.field,s))}return n||null}function y8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kp(r,i,((s,a)=>xie(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Um extends U_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ic extends U_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NW(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function v8(t,e,n){const r=new Map;Ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,vie(a,o,n[i]))}return r}function x8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,yie(s,a,e))}return r}class Lm extends U_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hk extends U_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_ie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=L0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=L0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_W();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=AW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Vt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),an())}isEqual(e){return this.batchId===e.batchId&&Kp(this.mutations,e.mutations,((n,r)=>y8(n,r)))&&Kp(this.baseMutations,e.baseMutations,((n,r)=>y8(n,r)))}}class mk{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return pie})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new mk(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di,Tn;function kW(t){switch(t){case et.OK:return Nt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Nt(15467,{code:t})}}function IW(t){if(t===void 0)return ti("GRPC error has no .code"),et.UNKNOWN;switch(t){case di.OK:return et.OK;case di.CANCELLED:return et.CANCELLED;case di.UNKNOWN:return et.UNKNOWN;case di.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case di.INTERNAL:return et.INTERNAL;case di.UNAVAILABLE:return et.UNAVAILABLE;case di.UNAUTHENTICATED:return et.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case di.NOT_FOUND:return et.NOT_FOUND;case di.ALREADY_EXISTS:return et.ALREADY_EXISTS;case di.PERMISSION_DENIED:return et.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case di.ABORTED:return et.ABORTED;case di.OUT_OF_RANGE:return et.OUT_OF_RANGE;case di.UNIMPLEMENTED:return et.UNIMPLEMENTED;case di.DATA_LOSS:return et.DATA_LOSS;default:return Nt(39323,{code:t})}}(Tn=di||(di={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=new Du([4294967295,4294967295],0);function b8(t){const e=PW().encode(t),n=new EV;return n.update(e),new Uint8Array(n.digest())}function _8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Du([n,r],0),new Du([i,s],0)]}class yk{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new w0(`Invalid padding: ${n}`);if(r<0)throw new w0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new w0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new w0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Du.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Du.fromNumber(r)));return i.compare(Eie)===1&&(i=new Du([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=b8(e),[r,i]=_8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new yk(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=b8(e),[r,i]=_8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class w0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ev.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tv(Vt.min(),i,new jr(rn),na(),an())}}class Ev{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ev(r,n,an(),an(),an())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class RW{constructor(e,n){this.targetId=e,this.Ce=n}}class FW{constructor(e,n,r=Hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class w8{constructor(){this.ve=0,this.Fe=T8(),this.Me=Hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=an(),n=an(),r=an();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt(38017,{changeType:s})}})),new Ev(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=T8()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cie{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=_x(),this.He=_x(),this.Ye=new jr(rn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Nt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(fb(s))if(r===0){const a=new Et(s.path);this.et(n,a,gr.newNoDocument(a,Vt.min()))}else Ot(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=_c(r).toUint8Array()}catch(l){if(l instanceof ZV)return kl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new yk(a,i,s)}catch(l){return kl(l instanceof w0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&fb(o.target)){const l=new Et(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,gr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=an();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new Tv(e,n,this.Ye,this.je,r);return this.je=na(),this.Je=_x(),this.He=_x(),this.Ye=new jr(rn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new w8,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(rn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(rn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w8),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _x(){return new jr(Et.comparator)}function T8(){return new jr(Et.comparator)}const Sie={asc:"ASCENDING",desc:"DESCENDING"},Die={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aie={and:"AND",or:"OR"};class Nie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sA(t,e){return t.useProto3Json||yv(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kie(t,e){return sm(t,e.toTimestamp())}function ni(t){return Ot(!!t,49232),Vt.fromTimestamp((function(n){const r=bc(n);return new jn(r.seconds,r.nanos)})(t))}function vk(t,e){return aA(t,e).canonicalString()}function aA(t,e){const n=(function(i){return new gn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function OW(t){const e=gn.fromString(t);return Ot(HW(e),10190,{key:e.toString()}),e}function Cy(t,e){return vk(t.databaseId,e.path)}function Cl(t,e){const n=OW(e);if(n.get(1)!==t.databaseId.projectId)throw new at(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new at(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Et(jW(n))}function UW(t,e){return vk(t.databaseId,e)}function LW(t){const e=OW(t);return e.length===4?gn.emptyPath():jW(e)}function oA(t){return new gn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jW(t){return Ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E8(t,e,n){return{name:Cy(t,e),fields:n.value.mapValue.fields}}function BW(t,e,n){const r=Cl(t,e.name),i=ni(e.updateTime),s=e.createTime?ni(e.createTime):Vt.min(),a=new Qi({mapValue:{fields:e.fields}}),o=gr.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Iie(t,e){return"found"in e?(function(r,i){Ot(!!i.found,43571),i.found.name,i.found.updateTime;const s=Cl(r,i.found.name),a=ni(i.found.updateTime),o=i.found.createTime?ni(i.found.createTime):Vt.min(),l=new Qi({mapValue:{fields:i.found.fields}});return gr.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){Ot(!!i.missing,3894),Ot(!!i.readTime,22933);const s=Cl(r,i.missing),a=ni(i.readTime);return gr.newNoDocument(s,a)})(t,e):Nt(7234,{result:e})}function Pie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Nt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Ot(u===void 0||typeof u=="string",58123),Hr.fromBase64String(u||"")):(Ot(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Hr.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?et.UNKNOWN:IW(c.code);return new at(u,c.message||"")})(a);n=new FW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cl(t,r.document.name),s=ni(r.document.updateTime),a=r.document.createTime?ni(r.document.createTime):Vt.min(),o=new Qi({mapValue:{fields:r.document.fields}}),l=gr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new w2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cl(t,r.document),s=r.readTime?ni(r.readTime):Vt.min(),a=gr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new w2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cl(t,r.document),s=r.removedTargetIds||[];n=new w2([],s,i,null)}else{if(!("filter"in e))return Nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Tie(i,s),o=r.targetId;n=new RW(o,a)}}return n}function Sy(t,e){let n;if(e instanceof Um)n={update:E8(t,e.key,e.value)};else if(e instanceof Lm)n={delete:Cy(t,e.key)};else if(e instanceof Ic)n={update:E8(t,e.key,e.data),updateMask:Lie(e.fieldMask)};else{if(!(e instanceof hk))return Nt(16599,{Vt:e.type});n={verify:Cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof rm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Df)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof im)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Nt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:kie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt(27497)})(t,e.precondition)),n}function lA(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Sr.updateTime(ni(s.updateTime)):s.exists!==void 0?Sr.exists(s.exists):Sr.none()})(e.currentDocument):Sr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)Ot(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new rm;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new Sf(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new Df(u)}else"increment"in o?l=new im(a,o.increment):Nt(16584,{proto:o});const c=Cr.fromServerFormat(o.fieldPath);return new wv(c,l)})(t,i))):[];if(e.update){e.update.name;const i=Cl(t,e.update.name),s=new Qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new ta(c.map((u=>Cr.fromServerFormat(u))))})(e.updateMask);return new Ic(i,s,a,n,r)}return new Um(i,s,n,r)}if(e.delete){const i=Cl(t,e.delete);return new Lm(i,n)}if(e.verify){const i=Cl(t,e.verify);return new hk(i,n)}return Nt(1463,{proto:e})}function Rie(t,e){return t&&t.length>0?(Ot(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?ni(i.updateTime):ni(s);return a.isEqual(Vt.min())&&(a=ni(s)),new bie(a,i.transformResults||[])})(n,e)))):[]}function VW(t,e){return{documents:[UW(t,e.path)]}}function WW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UW(t,i);const s=(function(c){if(c.length!==0)return zW(Gn.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:gp(h.field),direction:Mie(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=sA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function qW(t){let e=LW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ot(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=$W(f);return h instanceof Gn&&ck(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new Ey(yp(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,yv(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Wu(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Wu(p,h)})(n.endAt)),mW(e,i,a,s,o,"F",l,c)}function Fie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $W(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yp(n.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yp(n.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yp(n.unaryFilter.field);return vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=yp(n.unaryFilter.field);return vn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return vn.create(yp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gn.create(n.compositeFilter.filters.map((r=>$W(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}})(n.compositeFilter.op))})(t):Nt(30097,{filter:t})}function Mie(t){return Sie[t]}function Oie(t){return Die[t]}function Uie(t){return Aie[t]}function gp(t){return{fieldPath:t.canonicalString()}}function yp(t){return Cr.fromServerFormat(t.fieldPath)}function zW(t){return t instanceof vn?(function(n){if(n.op==="=="){if(l8(n.value))return{unaryFilter:{field:gp(n.field),op:"IS_NAN"}};if(o8(n.value))return{unaryFilter:{field:gp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l8(n.value))return{unaryFilter:{field:gp(n.field),op:"IS_NOT_NAN"}};if(o8(n.value))return{unaryFilter:{field:gp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gp(n.field),op:Oie(n.op),value:n.value}}})(t):t instanceof Gn?(function(n){const r=n.getFilters().map((i=>zW(i)));return r.length===1?r[0]:{compositeFilter:{op:Uie(n.op),filters:r}}})(t):Nt(54877,{filter:t})}function Lie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,i,s=Vt.min(),a=Vt.min(),o=Hr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.yt=e}}function jie(t,e){let n;if(e.document)n=BW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Et.fromSegments(e.noDocument.path),i=Nf(e.noDocument.readTime);n=gr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt(56709);{const r=Et.fromSegments(e.unknownDocument.path),i=Nf(e.unknownDocument.version);n=gr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new jn(i[0],i[1]);return Vt.fromTimestamp(s)})(e.readTime)),n}function C8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Cy(s,a.key),fields:a.data.value.mapValue.fields,updateTime:sm(s,a.version.toTimestamp()),createTime:sm(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Af(e.version)};else{if(!e.isUnknownDocument())return Nt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Af(e.version)}}return r}function mb(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Af(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nf(t){const e=new jn(t.seconds,t.nanoseconds);return Vt.fromTimestamp(e)}function Jd(t,e){const n=(e.baseMutations||[]).map((s=>lA(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>lA(t.yt,s))),i=jn.fromMillis(e.localWriteTimeMs);return new pk(e.batchId,i,n,r)}function T0(t){const e=Nf(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Nf(t.lastLimboFreeSnapshotVersion):Vt.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Ot(a===1,1966,{count:a}),Ls(Om(LW(s.documents[0])))})(t.query):(function(s){return Ls(qW(s))})(t.query),new nc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Hr.fromBase64String(t.resumeToken))}function KW(t,e){const n=Af(e.snapshotVersion),r=Af(e.lastLimboFreeSnapshotVersion);let i;i=fb(e.target)?VW(t.yt,e.target):WW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xk(t){const e=qW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pb(e,e.limit,"L"):e}function aC(t,e){return new gk(e.largestBatchId,lA(t.yt,e.overlayMutation))}function S8(t,e){const n=e.path.lastSegment();return[t,bs(e.path.popLast()),n]}function D8(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Af(r.readTime),documentKey:bs(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{getBundleMetadata(e,n){return A8(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Nf(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return A8(e).put((function(i){return{bundleId:i.id,createTime:Af(ni(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return N8(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:xk(s.bundledQuery),readTime:Nf(s.readTime)}})(r)}))}saveNamedQuery(e,n){return N8(e).put((function(i){return{name:i.name,readTime:Af(ni(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function A8(t){return Di(t,k_)}function N8(t){return Di(t,I_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new L_(e,r)}getOverlay(e,n){return qg(e).get(S8(this.userId,n)).next((r=>r?aC(this.serializer,r):null))}getOverlays(e,n){const r=vl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new gk(n,a);i.push(this.St(e,o))})),ze.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(bs(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(qg(e).Z(JD,o))})),ze.waitFor(s)}getOverlaysForCollection(e,n,r){const i=vl(),s=bs(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return qg(e).J(JD,a).next((o=>{for(const l of o){const c=aC(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=vl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return qg(e).ee({index:GV,range:o},((l,c,u)=>{const f=aC(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return qg(e).put((function(i,s,a){const[o,l,c]=S8(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Sy(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function qg(t){return Di(t,P_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{bt(e){return Di(e,sk)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Hr.fromUint8Array(r):Hr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),yy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=bc(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(_c(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?sW(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):M_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Nt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=em,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Tr(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Et.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Xd.Kt=new Xd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=255;function Wie(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function k8(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=Wie(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class qie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=k8(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=k8(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(np),this.sn(255)}_n(){this.an(np),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===np?(this.sn(np),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===np?(this.an(np),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $ie{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class zie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class $g{constructor(){this.cn=new qie,this.ln=new $ie(this.cn),this.hn=new zie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Yd(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:T2(this.En),directionalValue:T2(this.dn),orderedDocumentKey:T2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function cu(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=I8(t.En,e.En),n!==0?n:(n=I8(t.dn,e.dn),n!==0?n:Et.comparator(t.In,e.In)))}function I8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function T2(t){return cV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function P8(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class R8{constructor(e){this.mn=new Xn(((n,r)=>Cr.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ot(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=HD(e);if(n!==void 0&&!this.wn(n))return!1;const r=zd(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Xn(Cr.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new m2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new m2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new m2(r.field,r.dir==="asc"?0:1)));return new lb(lb.UNKNOWN_ID,this.collectionId,n,gy.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){var n,r;if(Ot(t instanceof vn||t instanceof Gn,20012),t instanceof vn){if(t instanceof pW){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>vn.create(t.field,"==",s))))||[];return Gn.create(i,"or")}return t}const e=t.filters.map((i=>JW(i)));return Gn.create(e,t.op)}function Hie(t){if(t.getFilters().length===0)return[];const e=dA(JW(t));return Ot(XW(e),7391),cA(e)||uA(e)?[e]:e.getFilters()}function cA(t){return t instanceof vn}function uA(t){return t instanceof Gn&&ck(t)}function XW(t){return cA(t)||uA(t)||(function(n){if(n instanceof Gn&&tA(n)){for(const r of n.getFilters())if(!cA(r)&&!uA(r))return!1;return!0}return!1})(t)}function dA(t){if(Ot(t instanceof vn||t instanceof Gn,34018),t instanceof vn)return t;if(t.filters.length===1)return dA(t.filters[0]);const e=t.filters.map((r=>dA(r)));let n=Gn.create(e,t.op);return n=gb(n),XW(n)?n:(Ot(n instanceof Gn,64498),Ot(nm(n),40251),Ot(n.filters.length>1,57927),n.filters.reduce(((r,i)=>bk(r,i))))}function bk(t,e){let n;return Ot(t instanceof vn||t instanceof Gn,38388),Ot(e instanceof vn||e instanceof Gn,25473),n=t instanceof vn?e instanceof vn?(function(i,s){return Gn.create([i,s],"and")})(t,e):F8(t,e):e instanceof vn?F8(e,t):(function(i,s){if(Ot(i.filters.length>0&&s.filters.length>0,48005),nm(i)&&nm(s))return dW(i,s.getFilters());const a=tA(i)?i:s,o=tA(i)?s:i,l=a.filters.map((c=>bk(c,o)));return Gn.create(l,"or")})(t,e),gb(n)}function F8(t,e){if(nm(e))return dW(e,t.getFilters());{const n=e.filters.map((r=>bk(t,r)));return Gn.create(n,"or")}}function gb(t){if(Ot(t instanceof vn||t instanceof Gn,11850),t instanceof vn)return t;const e=t.getFilters();if(e.length===1)return gb(e[0]);if(cW(t))return t;const n=e.map((i=>gb(i))),r=[];return n.forEach((i=>{i instanceof vn?r.push(i):i instanceof Gn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Gn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{constructor(){this.Cn=new _k}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(Ia.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class _k{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(gn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(gn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="IndexedDbIndexManager",wx=new Uint8Array(0);class Kie{constructor(e,n){this.databaseId=n,this.vn=new _k,this.Fn=new kc((r=>Cf(r)),((r,i)=>xv(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:bs(i)};return O8(e).put(s)}return ze.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[PV(n),""],!1,!0);return O8(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(yl(a.parent))}return r}))}addFieldIndex(e,n){const r=zg(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=ip(e);return s.next((o=>{a.put(D8(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=zg(e),i=ip(e),s=rp(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=zg(e),r=rp(e),i=ip(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return ze.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new R8(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=rp(e);let i=!0;const s=new Map;return ze.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=an();const o=[];return ze.forEach(s,((l,c)=>{ct(M8,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((C=>`${C.fieldPath}:${C.kind}`)).join(",")}`})(l)} to execute ${Cf(n)}`);const u=(function(w,C){const S=HD(C);if(S===void 0)return null;for(const F of hb(w,S.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null})(c,l),f=(function(w,C){const S=new Map;for(const F of zd(C))for(const A of hb(w,F.fieldPath))switch(A.op){case"==":case"in":S.set(F.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return S.set(F.fieldPath.canonicalString(),A.value),Array.from(S.values())}return null})(c,l),h=(function(w,C){const S=[];let F=!0;for(const A of zd(C)){const I=A.kind===0?h8(w,A.fieldPath,w.startAt):p8(w,A.fieldPath,w.startAt);S.push(I.value),F&&(F=I.inclusive)}return new Wu(S,F)})(c,l),p=(function(w,C){const S=[];let F=!0;for(const A of zd(C)){const I=A.kind===0?p8(w,A.fieldPath,w.endAt):h8(w,A.fieldPath,w.endAt);S.push(I.value),F&&(F=I.inclusive)}return new Wu(S,F)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),b=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return ze.forEach(b,(x=>r.Y(x,n.limit).next((w=>{w.forEach((C=>{const S=Et.fromSegments(C.documentKey);a.has(S)||(a=a.add(S),o.push(S))}))}))))})).next((()=>o))}return ze.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Hie(Gn.create(e.filters,"and")).map((r=>rA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):wx,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new Yd(e,Et.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Yd(e,Et.empty(),n,r);return i?s.An():s}xn(e,n){const r=new R8(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return ze.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new Xn(Cr.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new $g;for(const i of zd(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);Xd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new $g;return Xd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new $g;return Xd.Kt.Dt(Ef(this.databaseId,n),r.Pn((function(s){const a=zd(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new $g);let s=0;for(const a of zd(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&Ty(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);Xd.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new $g;l.seed(o.un()),Xd.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof vn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=zg(e),i=ip(e);return(n?r.J(KD,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return ze.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new gy(f.sequenceNumber,new Ia(Nf(f.readTime),new Et(yl(f.documentKey)),f.largestBatchId)):gy.empty(),p=u.fields.map((([v,g])=>new m2(Cr.fromServerFormat(v),g)));return new lb(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:rn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=zg(e),s=ip(e);return this.Gn(e).next((a=>i.J(KD,IDBKeyRange.bound(n,n)).next((o=>ze.forEach(o,(l=>s.put(D8(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ze.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ze.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ze.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?ze.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return rp(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return rp(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=rp(e);let s=new Xn(cu);return i.ee({index:HV,range:IDBKeyRange.only([r.indexId,this.uid,T2(this.$n(r,n))])},((a,o)=>{s=s.add(new Yd(r.indexId,n,P8(o.arrayValue),P8(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Xn(cu);const i=this.Qn(n,e);if(i==null)return r;const s=HD(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Ty(a))for(const o of a.arrayValue.values||[])r=r.add(new Yd(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new Yd(n.indexId,e.key,wx,i));return r}Jn(e,n,r,i,s){ct(M8,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=tp(p),y=tp(v);for(;g||y;){let b=!1,x=!1;if(g&&y){const w=u(g,y);w<0?x=!0:w>0&&(b=!0)}else g!=null?x=!0:b=!0;b?(f(y),y=tp(v)):x?(h(g),g=tp(p)):(g=tp(p),y=tp(v))}})(i,s,cu,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),ze.waitFor(a)}Gn(e){let n=1;return ip(e).ee({index:zV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>cu(a,o))).filter(((a,o,l)=>!o||cu(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=cu(a,e),l=cu(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,wx,Et.empty()),l=i[a+1].Vn(this.uid,wx,Et.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return cu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(U8)}getMinOffset(e,n){return ze.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Nt(44426))))).next(U8)}}function O8(t){return Di(t,by)}function rp(t){return Di(t,M0)}function zg(t){return Di(t,ik)}function ip(t){return Di(t,F0)}function U8(t){Ot(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tk(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ia(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YW=41943040;class ds{static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t,e,n){const r=t.store(Po),i=t.store(Xp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{Ot(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=WV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return ze.waitFor(s).next((()=>c))}function yb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(YW,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class j_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ot(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new j_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(e).ee({index:ef,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=vp(e),a=uu(e);return a.add({}).next((o=>{Ot(typeof o=="number",49019);const l=new pk(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((x=>Sy(p.yt,x))),b=g.mutations.map((x=>Sy(p.yt,x)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:b}})(this.serializer,this.userId,l),u=[];let f=new Xn(((h,p)=>rn(h.canonicalString(),p.canonicalString())));for(const h of i){const p=WV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,Are))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),ze.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return uu(e).get(n).next((r=>r?(Ot(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Jd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?ze.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return uu(e).ee({index:ef,range:i},((a,o,l)=>{o.userId===this.userId&&(Ot(o.batchId>=r,47524,{tr:r}),s=Jd(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Au;return uu(e).ee({index:ef,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Au],[this.userId,Number.POSITIVE_INFINITY]);return uu(e).J(ef,n).next((r=>r.map((i=>Jd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=g2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return vp(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=yl(u);if(c===this.userId&&n.path.isEqual(h))return uu(e).get(f).next((p=>{if(!p)throw Nt(61480,{nr:a,batchId:f});Ot(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(Jd(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(rn);const i=[];return n.forEach((s=>{const a=g2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=vp(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=yl(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),ze.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=g2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Xn(rn);return vp(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=yl(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(uu(e).get(s).next((a=>{if(a===null)throw Nt(35274,{batchId:s});Ot(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Jd(this.serializer,a))})))})),ze.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return QW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),ze.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ze.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return vp(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=yl(s[1]);i.push(l)}else o.done()})).next((()=>{Ot(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return ZW(e,this.userId,n)}_r(e){return eq(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Au,lastStreamToken:""}))}}function ZW(t,e,n){const r=g2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return vp(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function uu(t){return Di(t,Po)}function vp(t){return Di(t,Xp)}function eq(t){return Di(t,vy)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kf(0)}static cr(){return new kf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new kf(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Vt.fromTimestamp(new jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>sp(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ot(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return sp(e).ee(((a,o)=>{const l=T0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>ze.waitFor(s))).next((()=>i))}forEachTarget(e,n){return sp(e).ee(((r,i)=>{const s=T0(i);n(s)}))}lr(e){return j8(e).get(db).next((n=>(Ot(n!==null,2888),n)))}hr(e,n){return j8(e).put(db,n)}Pr(e,n){return sp(e).put(KW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Cf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return sp(e).ee({range:i,index:$V},((a,o,l)=>{const c=T0(o);xv(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=gu(e);return n.forEach((a=>{const o=bs(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),ze.waitFor(i)}removeMatchingKeys(e,n,r){const i=gu(e);return ze.forEach(n,(s=>{const a=bs(s.path);return ze.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=gu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=gu(e);let s=an();return i.ee({range:r,X:!0},((a,o,l)=>{const c=yl(a[1]),u=new Et(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=bs(n.path),i=IDBKeyRange.bound([r],[PV(r)],!1,!0);let s=0;return gu(e).ee({index:rk,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return sp(e).get(n).next((r=>r?T0(r):null))}}function sp(t){return Di(t,Yp)}function j8(t){return Di(t,ff)}function gu(t){return Di(t,Qp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8="LruGarbageCollector",Xie=1048576;function V8([t,e],[n,r]){const i=rn(t,n);return i===0?rn(e,r):i}class Yie{constructor(e){this.Ir=e,this.buffer=new Xn(V8),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ct(B8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sd(n)?ct(B8,"Ignoring IndexedDB error during garbage collection: ",n):await id(n)}await this.Vr(3e5)}))}}class Qie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(ea.ce);const r=new Yie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(L8)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L8):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),pp()<=pn.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function nq(t,e){return new Qie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e,n){this.db=e,this.garbageCollector=nq(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Tx(e,r)}removeReference(e,n,r){return Tx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Tx(e,n)}br(e,n){return(function(i,s){let a=!1;return eq(i).te((o=>ZW(i,o,s).next((l=>(l&&(a=!0),ze.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Vt.min()),gu(e).delete((function(f){return[0,bs(f.path)]})(a)))))}));i.push(l)}})).next((()=>ze.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Tx(e,n)}Sr(e,n){const r=gu(e);let i,s=ea.ce;return r.ee({index:rk},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==ea.ce&&n(new Et(yl(i)),s),s=c,i=l):s=ea.ce})).next((()=>{s!==ea.ce&&n(new Et(yl(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tx(t,e){return gu(t).put((function(r,i){return{targetId:0,path:bs(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(){this.changes=new kc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ld(e).put(r)}removeEntry(e,n,r){return Ld(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],mb(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=gr.newInvalidDocument(n);return Ld(e).ee({index:y2,range:IDBKeyRange.only(Hg(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:gr.newInvalidDocument(n)};return Ld(e).ee({index:y2,range:IDBKeyRange.only(Hg(n))},((i,s)=>{r={document:this.Cr(n,s),size:yb(s)}})).next((()=>r))}getEntries(e,n){let r=na();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=na(),i=new jr(Et.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,yb(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return ze.resolve();let i=new Xn($8);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Hg(i.first()),Hg(i.last())),a=i.getIterator();let o=a.getNext();return Ld(e).ee({index:y2,range:s},((l,c,u)=>{const f=Et.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&$8(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j(Hg(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),mb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ld(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=na();for(const f of c){const h=this.Cr(Et.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(_v(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=na();const a=q8(n,r),o=q8(n,Ia.max());return Ld(e).ee({index:qV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(Et.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new tse(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return W8(e).get(GD).next((n=>(Ot(!!n,20021),n)))}Dr(e,n){return W8(e).put(GD,n)}Cr(e,n){if(n){const r=jie(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Vt.min())))return r}return gr.newInvalidDocument(e)}}function iq(t){return new ese(t)}class tse extends rq{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new kc((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Xn(((s,a)=>rn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=C8(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=yb(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=C8(this.Nr.serializer,a.convertToNoDocument(Vt.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),ze.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function W8(t){return Di(t,xy)}function Ld(t){return Di(t,ub)}function Hg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function q8(t,e){const n=e.documentKey.path.toArray();return[t,mb(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=rn(n[s],r[s]),i)return i;return i=rn(n.length,r.length),i||(i=rn(n[n.length-2],r[r.length-2]),i||rn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&L0(r.mutation,i,ta.empty(),jn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,an()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=an()){const i=vl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=_0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=vl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,an())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=na();const a=U0(),o=(function(){return U0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ic)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),L0(u.mutation,c,u.mutation.getFieldMask(),jn.now())):a.set(c.key,ta.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new nse(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=U0();let i=new jr(((a,o)=>a-o)),s=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ta.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||an()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=_W();u.forEach((h=>{if(!s.has(h)){const p=AW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ze.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ze.resolve(vl());let o=Jp,l=s;return a.next((c=>ze.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,an()))).next((u=>({batchId:o,changes:bW(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next((r=>{let i=_0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=_0();return this.indexManager.getCollectionParents(e,s).next((o=>ze.forEach(o,(l=>{const c=(function(f,h){return new Nc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,gr.newInvalidDocument(u)))}));let o=_0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&L0(u.mutation,c,ta.empty(),jn.now()),_v(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ze.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}})(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:xk(i.bundledQuery),readTime:ni(i.readTime)}})(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.overlays=new jr(Et.comparator),this.qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=vl(),s=n.length+1,a=new Et(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new jr(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=vl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=vl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return ze.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new gk(n,r));let s=this.qr.get(n);s===void 0&&(s=an(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(){this.sessionToken=Hr.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.Qr=new Xn(Fi.$r),this.Ur=new Xn(Fi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Et(new gn([])),r=new Fi(n,e),i=new Fi(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Et(new gn([])),r=new Fi(n,e),i=new Fi(n,e+1);let s=an();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Fi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Et.comparator(e.key,n.key)||rn(e.Yr,n.Yr)}static Kr(e,n){return rn(e.Yr,n.Yr)||Et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(Fi.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pk(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Fi(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(a)}lookupMutationBatch(e,n){return ze.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?Au:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fi(n,0),i=new Fi(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(rn);return n.forEach((i=>{const s=new Fi(i,0),a=new Fi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),ze.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Et.isDocumentKey(s)||(s=s.child(""));const a=new Fi(new Et(s),0);let o=new Xn(rn);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),ze.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ze.forEach(n.mutations,(i=>{const s=new Fi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fi(n,0),i=this.Zr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(e){this.ri=e,this.docs=(function(){return new jr(Et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gr.newInvalidDocument(i))})),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=na();const a=n.path,o=new Et(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||tk(UV(u),r)<=0||(i.has(u.key)||_v(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Nt(9500)}ii(e,n){return ze.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new lse(this)}getSize(e){return ze.resolve(this.size)}}class lse extends rq{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ze.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e){this.persistence=e,this.si=new kc((n=>Cf(n)),xv),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.oi=0,this._i=new wk,this.targetCount=0,this.ai=kf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ze.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new kf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Pr(n),ze.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ze.waitFor(s).next((()=>i))}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ze.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.ui={},this.overlays={},this.ci=new ea(0),this.li=!1,this.li=!0,this.hi=new sse,this.referenceDelegate=e(this),this.Pi=new cse(this),this.indexManager=new Gie,this.remoteDocumentCache=(function(i){return new ose(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new GW(n),this.Ii=new rse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ise,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ase(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ct("MemoryPersistence","Starting transaction:",e);const i=new use(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ze.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class use extends jV{constructor(e){super(),this.currentSequenceNumber=e}}class B_{constructor(e){this.persistence=e,this.Ri=new wk,this.Vi=null}static mi(e){return new B_(e)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,(r=>{const i=Et.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Vt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ze.or([()=>ze.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vb{constructor(e,n){this.persistence=e,this.pi=new kc((r=>bs(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=nq(this,n)}static mi(e,n){return new vb(e,n)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ze.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ze.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Vt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=x2(e.data.value)),n}br(e,n,r){return ze.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e){this.serializer=e}k(e,n,r,i){const s=new N_("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(vv)})(e),(function(l){l.createObjectStore(vy,{keyPath:Dre}),l.createObjectStore(Po,{keyPath:t8,autoIncrement:!0}).createIndex(ef,n8,{unique:!0}),l.createObjectStore(Xp)})(e),z8(e),(function(l){l.createObjectStore(Hd)})(e));let a=ze.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(Qp),l.deleteObjectStore(Yp),l.deleteObjectStore(ff)})(e),z8(e)),a=a.next((()=>(function(l){const c=l.store(ff),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return c.put(db,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(Po).J().next((f=>{l.deleteObjectStore(Po),l.createObjectStore(Po,{keyPath:t8,autoIncrement:!0}).createIndex(ef,n8,{unique:!0});const h=c.store(Po),p=f.map((v=>h.put(v)));return ze.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(Zp,{keyPath:Ore})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(xy)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(k_,{keyPath:Ure})})(e),(function(l){l.createObjectStore(I_,{keyPath:Lre})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(P_,{keyPath:zre});c.createIndex(JD,Hre,{unique:!1}),c.createIndex(GV,Gre,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(ub,{keyPath:Nre});c.createIndex(y2,kre),c.createIndex(qV,Ire)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Hd)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore(ik,{keyPath:jre,autoIncrement:!0}).createIndex(KD,Bre,{unique:!1}),l.createObjectStore(F0,{keyPath:Vre}).createIndex(zV,Wre,{unique:!1}),l.createObjectStore(M0,{keyPath:qre}).createIndex(HV,$re,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(F0).clear()})).next((()=>{n.objectStore(M0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(sk,{keyPath:Kre})})(e)}))),r<18&&i>=18&&cV()&&(a=a.next((()=>{n.objectStore(F0).clear()})).next((()=>{n.objectStore(M0).clear()}))),a}wi(e){let n=0;return e.store(Hd).ee(((r,i)=>{n+=yb(i)})).next((()=>{const r={byteSize:n};return e.store(xy).put(GD,r)}))}yi(e){const n=e.store(vy),r=e.store(Po);return n.J().next((i=>ze.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Au],[s.userId,s.lastAcknowledgedBatchId]);return r.J(ef,a).next((o=>ze.forEach(o,(l=>{Ot(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Jd(this.serializer,l);return QW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(Qp),r=e.store(Hd);return e.store(ff).get(db).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new gn(a),c=(function(f){return[0,bs(f)]})(l);s.push(n.get(c).next((u=>u?ze.resolve():(f=>n.put({targetId:0,path:bs(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>ze.waitFor(s)))}))}bi(e,n){e.createObjectStore(by,{keyPath:Mre});const r=n.store(by),i=new _k,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:bs(l)})}};return n.store(Hd).ee({X:!0},((a,o)=>{const l=new gn(a);return s(l.popLast())})).next((()=>n.store(Xp).ee({X:!0},(([a,o,l],c)=>{const u=yl(o);return s(u.popLast())}))))}Di(e){const n=e.store(Yp);return n.ee(((r,i)=>{const s=T0(i),a=KW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(Hd),i=[];return r.ee(((s,a)=>{const o=n.store(ub),l=(function(f){return f.document?new Et(gn.fromString(f.document.name).popFirst(5)):f.noDocument?Et.fromSegments(f.noDocument.path):f.unknownDocument?Et.fromSegments(f.unknownDocument.path):Nt(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>ze.waitFor(i)))}Fi(e,n){const r=n.store(Po),i=iq(this.serializer),s=new Tk(B_.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??an();Jd(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),ze.forEach(o,((l,c)=>{const u=new Ui(c),f=L_.wt(this.serializer,u),h=s.getIndexManager(u),p=j_.wt(u,this.serializer,h,s.referenceDelegate);return new sq(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new XD(n,ea.ce),l).next()}))}))}}function z8(t){t.createObjectStore(Qp,{keyPath:Rre}).createIndex(rk,Fre,{unique:!0}),t.createObjectStore(Yp,{keyPath:"targetId"}).createIndex($V,Pre,{unique:!0}),t.createObjectStore(ff)}const du="IndexedDbPersistence",oC=18e5,lC=5e3,cC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aq="main";class Ek{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!Ek.v())throw new at(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zie(this,i),this.$i=n+aq,this.serializer=new GW(l),this.Ui=new El(this.$i,this.Ni,new dse(this.serializer)),this.hi=new Vie,this.Pi=new Jie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iq(this.serializer),this.Ii=new Bie,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&ti(du,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(et.FAILED_PRECONDITION,cC);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new ea(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ex(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(sd(e))return ct(du,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ct(du,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Gg(e).get(ep).next((n=>ze.resolve(this.es(n))))}ts(e){return Ex(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,oC)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Di(n,Zp);return r.J().next((i=>{const s=this.ss(i,oC),a=i.filter((o=>s.indexOf(o)===-1));return ze.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ze.resolve(!0):Gg(e).get(ep).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,lC)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new at(et.FAILED_PRECONDITION,cC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ex(e).J().next((r=>this.ss(r,lC).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ct(du,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vv,Zp],(e=>{const n=new XD(e,ea.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Ex(e).J().next((n=>this.ss(n,oC).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return j_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Kie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return L_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ct(du,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?Yre:l===17?YV:l===16?Xre:l===15?ak:l===14?XV:l===13?JV:l===12?Jre:l===11?KV:void Nt(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new XD(o,this.ci?this.ci.next():ea.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw ti(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new at(et.FAILED_PRECONDITION,LV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Gg(e).get(ep).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,lC)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new at(et.FAILED_PRECONDITION,cC)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gg(e).put(ep,n)}static v(){return El.v()}Zi(e){const n=Gg(e);return n.get(ep).next((r=>this.es(r)?(ct(du,"Releasing primary lease."),n.delete(ep)):ze.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ti(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;lV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ct(du,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ti(du,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ti("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gg(t){return Di(t,vv)}function Ex(t){return Di(t,Zp)}function Ck(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=an(),i=an();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Sk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lV()?8:BV(Lr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new fse;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(pp()<=pn.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",mp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(pp()<=pn.DEBUG&&ct("QueryEngine","Query:",mp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(pp()<=pn.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",mp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):ze.resolve())}ys(e,n){if(m8(n))return ze.resolve(null);let r=Ls(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=pb(n,null,"F"),r=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=an(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,pb(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return m8(n)||i.isEqual(Vt.min())?ze.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ze.resolve(null):(pp()<=pn.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mp(n)),this.vs(e,a,n,OV(i,Jp)).next((o=>o)))}))}Ds(e,n){let r=new Xn(vW(e));return n.forEach(((i,s)=>{_v(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return pp()<=pn.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",mp(n)),this.ps.getDocumentsMatchingQuery(e,n,Ia.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="LocalStore",hse=3e8;class pse{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new jr(rn),this.xs=new kc((s=>Cf(s)),xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lq(t,e,n,r){return new pse(t,e,n,r)}async function cq(t,e){const n=St(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=an();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function mse(t,e){const n=St(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=ze.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);Ot(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=an();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function uq(t){const e=St(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function gse(t,e){const n=St(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Hr.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=hse?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=na(),c=an();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(dq(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(Vt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return ze.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function dq(t,e,n){let r=an(),i=an();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=na();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Vt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ct(Dk,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function yse(t,e){const n=St(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Au),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function am(t,e){const n=St(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ze.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new nc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function om(t,e,n){const r=St(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!sd(a))throw a;ct(Dk,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xb(t,e,n){const r=St(t);let i=Vt.min(),s=an();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=St(l),h=f.xs.get(u);return h!==void 0?ze.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,Ls(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Vt.min(),n?s:an()))).next((o=>(pq(r,yW(e),o),{documents:o,Qs:s})))))}function fq(t,e){const n=St(t),r=St(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function hq(t,e){const n=St(t),r=n.Os.get(e)||Vt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,OV(r,Jp),Number.MAX_SAFE_INTEGER))).then((i=>(pq(n,e,i),i)))}function pq(t,e,n){let r=t.Os.get(e)||Vt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function vse(t,e,n,r){const i=St(t);let s=an(),a=na();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await am(i,(function(u){return Ls(Om(gn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>dq(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function xse(t,e,n=an()){const r=await am(t,Ls(xk(e.bundledQuery))),i=St(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=ni(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken(Hr.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq="firestore_clients";function H8(t,e){return`${mq}_${t}_${e}`}const gq="firestore_mutations";function G8(t,e,n){let r=`${gq}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const yq="firestore_targets";function uC(t,e){return`${yq}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="SharedClientState";class bb{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new at(i.error.code,i.error.message))),a?new bb(e,n,i.state,s):(ti(dl,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new at(r.error.code,r.error.message))),s?new j0(e,r.state,i):(ti(dl,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _b{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=dk();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=VV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new _b(e,s):(ti(dl,`Failed to parse client data for instance '${e}': ${n}`),null)}}class Ak{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Ak(n.clientId,n.onlineState):(ti(dl,`Failed to parse online state: ${e}`),null)}}class fA{constructor(){this.activeTargetIds=dk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dC{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new jr(rn),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=H8(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new fA),this.ro=new RegExp(`^${mq}_${a}_([^_]*)$`),this.io=new RegExp(`^${gq}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${yq}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(H8(this.persistenceKey,r));if(i){const s=_b.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(uC(this.persistenceKey,e));if(i){const s=j0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uC(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ct(dl,"READ",e,n),n}setItem(e,n){ct(dl,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ct(dl,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ct(dl,"EVENT",n.key,n.newValue),n.key===this.eo)return void ti("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=ea.ce;if(s!=null)try{const o=JSON.parse(s);Ot(typeof o=="number",30636,{So:s}),a=o}catch(o){ti(dl,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==ea.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new bb(this.currentUser,e,n,r),s=G8(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=G8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=uC(this.persistenceKey,e),s=new j0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return _b.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return bb.Ws(new Ui(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return j0.Ws(i,n)}uo(e){return Ak.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ct(dl,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=dk();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class vq{constructor(){this.Mo=new fA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="ConnectivityMonitor";class J8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(K8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ct(K8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cx=null;function hA(){return Cx===null?Cx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cx++,"0x"+Cx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="RestConnection",_se={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wse{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===QD?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=hA(),o=this.zo(e,n.toUriEncodedString());ct(fC,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Ol(c);return this.Jo(e,o,l,r,u).then((f=>(ct(fC,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw kl(fC,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=_se[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="WebChannelConnection";class Ese extends wse{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=hA();return new Promise(((o,l)=>{const c=new CV;c.setWithCredentials(!0),c.listenOnce(SV.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case p2.NO_ERROR:const f=c.getResponseJson();ct(as,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case p2.TIMEOUT:ct(as,`RPC '${e}' ${a} timed out`),l(new at(et.DEADLINE_EXCEEDED,"Request time out"));break;case p2.HTTP_ERROR:const h=c.getStatus();if(ct(as,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(x)>=0?x:et.UNKNOWN})(v.status);l(new at(g,v.message))}else l(new at(et.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new at(et.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ct(as,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);ct(as,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=hA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NV(),o=AV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ct(as,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new Tse({Yo:y=>{p?ct(as,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ct(as,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ct(as,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,x)=>{y.listen(b,(w=>{try{x(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,b0.EventType.OPEN,(()=>{p||(ct(as,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,b0.EventType.CLOSE,(()=>{p||(p=!0,ct(as,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,b0.EventType.ERROR,(y=>{p||(p=!0,kl(as,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new at(et.UNAVAILABLE,"The operation could not be completed")))})),g(f,b0.EventType.MESSAGE,(y=>{var b;if(!p){const x=y.data[0];Ot(!!x,16349);const w=x,C=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(C){ct(as,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let F=(function(N){const R=di[N];if(R!==void 0)return IW(R)})(S),A=C.message;F===void 0&&(F=et.INTERNAL,A="Unknown error status: "+S+" with message "+C.message),p=!0,v.a_(new at(F,A)),f.close()}else ct(as,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}})),g(o,DV.STAT_EVENT,(y=>{y.stat===$D.PROXY?ct(as,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===$D.NOPROXY&&ct(as,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(){return typeof window<"u"?window:null}function E2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){return new Nie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ct("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="PersistentStream";class bq{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new at(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(X8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ct(X8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cse extends bq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Pie(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Vt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?ni(a.readTime):Vt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oA(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=fb(l)?{documents:VW(s,l)}:{query:WW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=MW(s,a.resumeToken);const c=sA(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Vt.min())>0){o.readTime=sm(s,a.snapshotVersion.toTimestamp());const c=sA(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=Fie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oA(this.serializer),n.removeTarget=e,this.q_(n)}}class Sse extends bq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rie(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Sy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{}class Ase extends Dse{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,aA(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(et.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,aA(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(et.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Nse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ti(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RemoteStore";class kse{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{od(this)&&(ct(If,"Restarting streams for network reachability change."),await(async function(l){const c=St(l);c.Ea.add(4),await jm(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Sv(c)})(this))}))})),this.Ra=new Nse(r,i)}}async function Sv(t){if(od(t))for(const e of t.da)await e(!0)}async function jm(t){for(const e of t.da)await e(!1)}function V_(t,e){const n=St(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pk(n)?Ik(n):Vm(n).O_()&&kk(n,e))}function lm(t,e){const n=St(t),r=Vm(n);n.Ia.delete(e),r.O_()&&_q(n,e),n.Ia.size===0&&(r.O_()?r.L_():od(n)&&n.Ra.set("Unknown"))}function kk(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vm(t).Y_(e)}function _q(t,e){t.Va.Ue(e),Vm(t).Z_(e)}function Ik(t){t.Va=new Cie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vm(t).start(),t.Ra.ua()}function Pk(t){return od(t)&&!Vm(t).x_()&&t.Ia.size>0}function od(t){return St(t).Ea.size===0}function wq(t){t.Va=void 0}async function Ise(t){t.Ra.set("Online")}async function Pse(t){t.Ia.forEach(((e,n)=>{kk(t,e)}))}async function Rse(t,e){wq(t),Pk(t)?(t.Ra.ha(e),Ik(t)):t.Ra.set("Unknown")}async function Fse(t,e,n){if(t.Ra.set("Online"),e instanceof FW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){ct(If,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wb(t,r)}else if(e instanceof w2?t.Va.Ze(e):e instanceof RW?t.Va.st(e):t.Va.tt(e),!n.isEqual(Vt.min()))try{const r=await uq(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Hr.EMPTY_BYTE_STRING,u.snapshotVersion)),_q(s,l);const f=new nc(u.target,l,c,u.sequenceNumber);kk(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){ct(If,"Failed to raise snapshot:",r),await wb(t,r)}}async function wb(t,e,n){if(!sd(e))throw e;t.Ea.add(1),await jm(t),t.Ra.set("Offline"),n||(n=()=>uq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ct(If,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sv(t)}))}function Tq(t,e){return e().catch((n=>wb(t,n,e)))}async function Bm(t){const e=St(t),n=qu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Au;for(;Mse(e);)try{const i=await yse(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Ose(e,i)}catch(i){await wb(e,i)}Eq(e)&&Cq(e)}function Mse(t){return od(t)&&t.Ta.length<10}function Ose(t,e){t.Ta.push(e);const n=qu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Eq(t){return od(t)&&!qu(t).x_()&&t.Ta.length>0}function Cq(t){qu(t).start()}async function Use(t){qu(t).ra()}async function Lse(t){const e=qu(t);for(const n of t.Ta)e.ea(n.mutations)}async function jse(t,e,n){const r=t.Ta.shift(),i=mk.from(r,e,n);await Tq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Bm(t)}async function Bse(t,e){e&&qu(t).X_&&await(async function(r,i){if((function(a){return kW(a)&&a!==et.ABORTED})(i.code)){const s=r.Ta.shift();qu(r).B_(),await Tq(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Bm(r)}})(t,e),Eq(t)&&Cq(t)}async function Y8(t,e){const n=St(t);n.asyncQueue.verifyOperationInProgress(),ct(If,"RemoteStore received new credentials");const r=od(n);n.Ea.add(3),await jm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sv(n)}async function pA(t,e){const n=St(t);e?(n.Ea.delete(2),await Sv(n)):e||(n.Ea.add(2),await jm(n),n.Ra.set("Unknown"))}function Vm(t){return t.ma||(t.ma=(function(n,r,i){const s=St(n);return s.sa(),new Cse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Ise.bind(null,t),t_:Pse.bind(null,t),r_:Rse.bind(null,t),H_:Fse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Pk(t)?Ik(t):t.Ra.set("Unknown")):(await t.ma.stop(),wq(t))}))),t.ma}function qu(t){return t.fa||(t.fa=(function(n,r,i){const s=St(n);return s.sa(),new Sse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Use.bind(null,t),r_:Bse.bind(null,t),ta:Lse.bind(null,t),na:jse.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bm(t)):(await t.fa.stop(),t.Ta.length>0&&(ct(If,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Rk(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(t,e){if(ti("AsyncQueue",`${e}: ${t}`),sd(t))return new at(et.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{static emptySet(e){return new kp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=_0(),this.sortedSet=new jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.ga=new jr(Et.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class cm{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new cm(e,n,kp.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Wse{constructor(){this.queries=Z8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=St(n),s=i.queries;i.queries=Z8(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new at(et.ABORTED,"Firestore shutting down"))}}function Z8(){return new kc((t=>gW(t)),bv)}async function Fk(t,e){const n=St(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Vse,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Wm(a,`Initialization of query '${mp(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Ok(n)}async function Mk(t,e){const n=St(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qse(t,e){const n=St(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&Ok(n)}function $se(t,e,n){const r=St(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Ok(t){t.Ca.forEach((e=>{e.next()}))}var mA,eF;(eF=mA||(mA={})).Ma="default",eF.Cache="cache";class Uk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.serializer=e}$s(e){return Cl(this.serializer,e)}Us(e){return e.metadata.exists?BW(this.serializer,e.document,!1):gr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return ni(e)}}class Hse{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Sq(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=gn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new tF(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||an()).add(s);n.set(a,o)}}return n}async ja(e){const n=await vse(e,new tF(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await xse(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function Sq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.key=e}}class Aq{constructor(e){this.key=e}}class Nq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=an(),this.mutatedKeys=an(),this.eu=vW(e),this.tu=new kp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Q8,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=_v(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new cm(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=an(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Aq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Dq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=an();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ld="SyncEngine";class Gse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Kse{constructor(e){this.key=e,this.hu=!1}}class Jse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new kc((o=>gW(o)),bv),this.Iu=new Map,this.Eu=new Set,this.du=new jr(Et.comparator),this.Au=new Map,this.Ru=new wk,this.Vu={},this.mu=new Map,this.fu=kf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xse(t,e,n=!0){const r=W_(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await kq(r,e,n,!0),i}async function Yse(t,e){const n=W_(t);await kq(n,e,!0,!1)}async function kq(t,e,n,r){const i=await am(t.localStore,Ls(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Lk(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&V_(t.remoteStore,i),o}async function Lk(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,b,x){let w=y.view.ru(b);w.Cs&&(w=await xb(g.localStore,y.query,!1).then((({documents:A})=>y.view.ru(A,w))));const C=x&&x.targetChanges.get(y.targetId),S=x&&x.targetMismatches.get(y.targetId)!=null,F=y.view.applyChanges(w,g.isPrimaryClient,C,S);return gA(g,y.targetId,F.au),F.snapshot})(t,f,h,p);const s=await xb(t.localStore,e,!0),a=new Nq(e,s.Qs),o=a.ru(s.documents),l=Ev.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);gA(t,n,c.au);const u=new Gse(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Qse(t,e,n){const r=St(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!bv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await om(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lm(r.remoteStore,i.targetId),um(r,i.targetId)})).catch(id)):(um(r,i.targetId),await om(r.localStore,i.targetId,!0))}async function Zse(t,e){const n=St(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lm(n.remoteStore,r.targetId))}async function eae(t,e,n){const r=Wk(t);try{const i=await(function(a,o){const l=St(a),c=jn.now(),u=o.reduce(((p,v)=>p.add(v.key)),an());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=na(),g=an();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((b,x)=>{x.isValidDocument()||(g=g.add(b))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const b=[];for(const x of o){const w=wie(x,f.get(x.key).overlayedDocument);w!=null&&b.push(new Ic(x.key,w,oW(w.value.mapValue),Sr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,o)})).next((y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,b)}))})).then((()=>({batchId:h.batchId,changes:bW(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new jr(rn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await Pc(r,i.changes),await Bm(r.remoteStore)}catch(i){const s=Wm(i,"Failed to persist write");n.reject(s)}}async function Iq(t,e){const n=St(t);try{const r=await gse(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ot(a.hu,14607):i.removedDocuments.size>0&&(Ot(a.hu,42227),a.hu=!1))})),await Pc(n,r,e)}catch(r){await id(r)}}function nF(t,e,n){const r=St(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=St(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&Ok(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tae(t,e,n){const r=St(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new jr(Et.comparator);a=a.insert(s,gr.newNoDocument(s,Vt.min()));const o=an().add(s),l=new Tv(Vt.min(),new Map,new jr(rn),a,o);await Iq(r,l),r.du=r.du.remove(s),r.Au.delete(e),Vk(r)}else await om(r.localStore,e,!1).then((()=>um(r,e,n))).catch(id)}async function nae(t,e){const n=St(t),r=e.batch.batchId;try{const i=await mse(n.localStore,e);Bk(n,r,null),jk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pc(n,i)}catch(i){await id(i)}}async function rae(t,e,n){const r=St(t);try{const i=await(function(a,o){const l=St(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(Ot(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);Bk(r,e,n),jk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pc(r,i)}catch(i){await id(i)}}async function iae(t,e){const n=St(t);od(n.remoteStore)||ct(ld,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=St(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===Au)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Wm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function jk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Bk(t,e,n){const r=St(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Pq(t,r)}))}function Pq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vk(t))}function gA(t,e,n){for(const r of n)r instanceof Dq?(t.Ru.addReference(r.key,e),sae(t,r)):r instanceof Aq?(ct(ld,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Pq(t,r.key)):Nt(19791,{wu:r})}function sae(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ct(ld,"New document in limbo: "+n),t.Eu.add(r),Vk(t))}function Vk(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Et(gn.fromString(e)),r=t.fu.next();t.Au.set(r,new Kse(n)),t.du=t.du.insert(n,r),V_(t.remoteStore,new nc(Ls(Om(n.path)),r,"TargetPurposeLimboResolution",ea.ce))}}async function Pc(t,e,n){const r=St(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Sk.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=St(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ze.forEach(c,(h=>ze.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>ze.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!sd(f))throw f;ct(Dk,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function aae(t,e){const n=St(t);if(!n.currentUser.isEqual(e)){ct(ld,"User change. New user:",e.toKey());const r=await cq(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new at(et.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pc(n,r.Ls)}}function oae(t,e){const n=St(t),r=n.Au.get(e);if(r&&r.hu)return an().add(r.key);{let i=an();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function lae(t,e){const n=St(t),r=await xb(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&gA(n,e.targetId,i.au),i}async function cae(t,e){const n=St(t);return hq(n.localStore,e).then((r=>Pc(n,r)))}async function uae(t,e,n,r){const i=St(t),s=await(function(o,l){const c=St(o),u=St(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):ze.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Bm(i.remoteStore):n==="acknowledged"||n==="rejected"?(Bk(i,e,r||null),jk(i,e),(function(o,l){St(St(o).mutationQueue).ir(l)})(i.localStore,e)):Nt(6720,"Unknown batchState",{Su:n}),await Pc(i,s)):ct(ld,"Cannot apply mutation batch with id: "+e)}async function dae(t,e){const n=St(t);if(W_(n),Wk(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await rF(n,r.toArray());n.gu=!0,await pA(n.remoteStore,!0);for(const s of i)V_(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(um(n,a),om(n.localStore,a,!0)))),lm(n.remoteStore,a)})),await i,await rF(n,r),(function(a){const o=St(a);o.Au.forEach(((l,c)=>{lm(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new jr(Et.comparator)})(n),n.gu=!1,await pA(n.remoteStore,!1)}}async function rF(t,e,n){const r=St(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await am(r.localStore,Ls(l[0]));for(const c of l){const u=r.Tu.get(c),f=await lae(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await fq(r.localStore,a);o=await am(r.localStore,c),await Lk(r,Rq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function Rq(t){return mW(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fae(t){return(function(n){return St(St(n).persistence).Ts()})(St(t).localStore)}async function hae(t,e,n,r){const i=St(t);if(i.gu)return void ct(ld,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await hq(i.localStore,yW(s[0])),o=Tv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Hr.EMPTY_BYTE_STRING);await Pc(i,a,o);break}case"rejected":await om(i.localStore,e,!0),um(i,e,r);break;default:Nt(64155,n)}}async function pae(t,e,n){const r=W_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ct(ld,"Adding an already active target "+i);continue}const s=await fq(r.localStore,i),a=await am(r.localStore,s);await Lk(r,Rq(s),a.targetId,!1,a.resumeToken),V_(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await om(r.localStore,i,!1).then((()=>{lm(r.remoteStore,i),um(r,i)})).catch(id)}}function W_(t){const e=St(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tae.bind(null,e),e.Pu.H_=qse.bind(null,e.eventManager),e.Pu.yu=$se.bind(null,e.eventManager),e}function Wk(t){const e=St(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rae.bind(null,e),e}function mae(t,e,n){const r=St(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=St(p),y=ni(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(b=>g.Ii.getBundleMetadata(b,v.id))).then((b=>!!b&&b.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(Sq(l));const c=new Hse(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await Pc(s,f.Ha,void 0),await(function(p,v){const g=St(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return kl(ld,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Dy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lq(this.persistence,new oq,e.initialUser,this.serializer)}Cu(e){return new Tk(B_.mi,this.serializer)}Du(e){return new vq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dy.provider={build:()=>new Dy};class gae extends Dy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ot(this.persistence.referenceDelegate instanceof vb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new Tk((r=>vb.mi(r,n)),this.serializer)}}class Fq extends Dy{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Wk(this.xu.syncEngine),await Bm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return lq(this.persistence,new oq,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new tq(r,e.asyncQueue,n)}Mu(e,n){const r=new Cre(n,this.persistence);return new Ere(e.asyncQueue,r)}Cu(e){const n=Ck(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new Ek(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xq(),E2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new vq}}class yae extends Fq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof dC&&(this.sharedClientState.syncEngine={Co:uae.bind(null,n),vo:hae.bind(null,n),Fo:pae.bind(null,n),Ts:fae.bind(null,n),Do:cae.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await dae(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=xq();if(!dC.v(n))throw new at(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ck(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dC(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aae.bind(null,this.syncEngine),await pA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wse})()}createDatastore(e){const n=Cv(e.databaseInfo.databaseId),r=(function(s){return new Ese(s)})(e.databaseInfo);return(function(s,a,o,l){return new Ase(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new kse(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>nF(this.syncEngine,n,0)),(function(){return J8.v()?new J8:new bse})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new Jse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=St(i);ct(If,"RemoteStore shutting down."),s.Ea.add(5),await jm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ay.provider={build:()=>new Ay};function iF(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new es,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new zse(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new at(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=St(i),o={documents:s.map((f=>Cy(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,gn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=Iie(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());Ot(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Et.fromPath(r);this.mutations.push(new hk(i,this.precondition(i)))})),await(async function(r,i){const s=St(r),a={writes:i.map((o=>Sy(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,gn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Nt(50498,{Gu:e.constructor.name});n=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new at(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Vt.min())?Sr.exists(!1):Sr.updateTime(n):Sr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Vt.min()))throw new at(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(n)}return Sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new Nk(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new xae(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!yv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!kW(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="FirestoreClient";class _ae{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ui.UNAUTHENTICATED,this.clientId=ZN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{ct($u,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ct($u,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hC(t,e){t.asyncQueue.verifyOperationInProgress(),ct($u,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await cq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sF(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qk(t);ct($u,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Y8(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Y8(e.remoteStore,i))),t._onlineComponents=e}async function qk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ct($u,"Using user provided OfflineComponentProvider");try{await hC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;kl("Error using user provided cache. Falling back to memory cache: "+n),await hC(t,new Dy)}}else ct($u,"Using default OfflineComponentProvider"),await hC(t,new gae(void 0));return t._offlineComponents}async function $_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ct($u,"Using user provided OnlineComponentProvider"),await sF(t,t._uninitializedComponentsProvider._online)):(ct($u,"Using default OnlineComponentProvider"),await sF(t,new Ay))),t._onlineComponents}function Mq(t){return qk(t).then((e=>e.persistence))}function $k(t){return qk(t).then((e=>e.localStore))}function Oq(t){return $_(t).then((e=>e.remoteStore))}function zk(t){return $_(t).then((e=>e.syncEngine))}function wae(t){return $_(t).then((e=>e.datastore))}async function dm(t){const e=await $_(t),n=e.eventManager;return n.onListen=Xse.bind(null,e.syncEngine),n.onUnlisten=Qse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Yse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zse.bind(null,e.syncEngine),n}function Tae(t){return t.asyncQueue.enqueue((async()=>{const e=await Mq(t),n=await Oq(t);return e.setNetworkEnabled(!0),(function(i){const s=St(i);return s.Ea.delete(0),Sv(s)})(n)}))}function Eae(t){return t.asyncQueue.enqueue((async()=>{const e=await Mq(t),n=await Oq(t);return e.setNetworkEnabled(!1),(async function(i){const s=St(i);s.Ea.add(0),await jm(s),s.Ra.set("Offline")})(n)}))}function Cae(t,e){const n=new es;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=St(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new at(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Wm(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await $k(t),e,n))),n.promise}function Uq(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new q_({next:h=>{u.Nu(),a.enqueueAndForget((()=>Mk(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new at(et.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new at(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Uk(Om(o.path),u,{includeMetadataChanges:!0,qa:!0});return Fk(s,f)})(await dm(t),t.asyncQueue,e,n,r))),r.promise}function Sae(t,e){const n=new es;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await xb(i,s,!0),l=new Nq(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Wm(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await $k(t),e,n))),n.promise}function Lq(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new q_({next:h=>{u.Nu(),a.enqueueAndForget((()=>Mk(s,f))),h.fromCache&&l.source==="server"?c.reject(new at(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Uk(o,u,{includeMetadataChanges:!0,qa:!0});return Fk(s,f)})(await dm(t),t.asyncQueue,e,n,r))),r.promise}function Dae(t,e){const n=new q_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){St(i).Ca.add(s),s.next()})(await dm(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){St(i).Ca.delete(s)})(await dm(t),n)))}}function Aae(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?PW().encode(a):a,(function(u,f){return new vae(u,f)})((function(u,f){if(u instanceof Uint8Array)return iF(u,f);if(u instanceof ArrayBuffer)return iF(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,Cv(e));t.asyncQueue.enqueueAndForget((async()=>{mae(await zk(t),i,r)}))}function Nae(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=St(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await $k(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="firestore.googleapis.com",oF=!0;class lF{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bq,this.ssl=oF}else this.host=e.host,this.ssl=e.ssl??oF;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xie)throw new at(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lF({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lF(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fre;switch(r.type){case"firstParty":return new gre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=aF.get(n);r&&(ct("ComponentProvider","Removing Datastore"),aF.delete(n),r.terminate())})(this),Promise.resolve()}}function kae(t,e,n,r={}){var c;t=Fn(t,Dv);const i=Ol(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(T_(`https://${o}`),E_("Firestore",!0)),s.host!==Bq&&s.host!==o&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!vc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Ui.MOCK_USER;else{u=qN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new at(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ui(h)}t._authCredentials=new hre(new IV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs=class Vq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vq(this.firestore,e,this._query)}},cr=class E0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new E0(this.firestore,e,this._key)}toJSON(){return{type:E0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gv(n,E0._jsonSchema))return new E0(e,r||null,new Et(gn.fromString(n.referencePath)))}};cr._jsonSchemaVersion="firestore/documentReference/1.0",cr._jsonSchema={type:mi("string",cr._jsonSchemaVersion),referencePath:mi("string")};let ku=class Wq extends Vs{constructor(e,n,r){super(e,n,Om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new Et(e))}withConverter(e){return new Wq(this.firestore,e,this._path)}};function qq(t,e,...n){if(t=It(t),ek("collection","path",e),t instanceof Dv){const r=gn.fromString(e,...n);return XR(r),new ku(t,null,r)}{if(!(t instanceof cr||t instanceof ku))throw new at(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gn.fromString(e,...n));return XR(r),new ku(t.firestore,null,r)}}function Iae(t,e){if(t=Fn(t,Dv),ek("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new at(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vs(t,null,(function(r){return new Nc(gn.emptyPath(),r)})(e))}function Tb(t,e,...n){if(t=It(t),arguments.length===1&&(e=ZN.newId()),ek("doc","path",e),t instanceof Dv){const r=gn.fromString(e,...n);return JR(r),new cr(t,null,new Et(r))}{if(!(t instanceof cr||t instanceof ku))throw new at(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gn.fromString(e,...n));return JR(r),new cr(t.firestore,t instanceof ku?t.converter:null,new Et(r))}}function $q(t,e){return t=It(t),e=It(e),(t instanceof cr||t instanceof ku)&&(e instanceof cr||e instanceof ku)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zq(t,e){return t=It(t),e=It(e),t instanceof Vs&&e instanceof Vs&&t.firestore===e.firestore&&bv(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="AsyncQueue";class uF{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nk(this,"async_queue_retry"),this._c=()=>{const r=E2();r&&ct(cF,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=E2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=E2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sd(e))throw e;ct(cF,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ti("INTERNAL UNHANDLED ERROR: ",dF(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Rk.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Nt(47125,{Pc:dF(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dF(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Pae{constructor(){this._progressObserver={},this._taskCompletionResolver=new es,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=-1;let ii=class extends Dv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uF(e),this._firestoreClient=void 0,await e}}};function Cs(t){if(t._terminated)throw new at(et.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Hq(t),t._firestoreClient}function Hq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new eie(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _ae(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function Fae(t,e){kl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Gq(t,Ay.provider,{build:r=>new Fq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Mae(t){kl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Gq(t,Ay.provider,{build:n=>new yae(n,e.cacheSizeBytes)})}function Gq(t,e,n){if((t=Fn(t,ii))._firestoreClient||t._terminated)throw new at(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new at(et.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Hq(t)}function Oae(t){if(t._initialized&&!t._terminated)throw new at(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new es;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!El.v())return Promise.resolve();const i=r+aq;await El.delete(i)})(Ck(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Uae(t){return(function(n){const r=new es;return n.asyncQueue.enqueueAndForget((async()=>iae(await zk(n),r))),r.promise})(Cs(t=Fn(t,ii)))}function Lae(t){return Tae(Cs(t=Fn(t,ii)))}function jae(t){return Eae(Cs(t=Fn(t,ii)))}function Bae(t,e){const n=Cs(t=Fn(t,ii)),r=new Pae;return Aae(n,t._databaseId,e,r),r}function Vae(t,e){return Nae(Cs(t=Fn(t,ii)),e).then((n=>n?new Vs(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ms(Hr.fromBase64String(e))}catch(n){throw new at(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ms(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gv(e,ms._jsonSchema))return ms.fromBase64String(e.bytes)}}ms._jsonSchemaVersion="firestore/bytes/1.0",ms._jsonSchema={type:mi("string",ms._jsonSchemaVersion),bytes:mi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new at(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Uo._jsonSchemaVersion}}static fromJSON(e){if(gv(e,Uo._jsonSchema))return new Uo(e.latitude,e.longitude)}}Uo._jsonSchemaVersion="firestore/geoPoint/1.0",Uo._jsonSchema={type:mi("string",Uo._jsonSchemaVersion),latitude:mi("number"),longitude:mi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Sl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gv(e,Sl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Sl(e.vectorValues);throw new at(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sl._jsonSchemaVersion="firestore/vectorValue/1.0",Sl._jsonSchema={type:mi("string",Sl._jsonSchemaVersion),vectorValues:mi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae=/^__.*__$/;class qae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ic(e,this.data,this.fieldMask,n,this.fieldTransforms):new Um(e,this.data,n,this.fieldTransforms)}}class Kq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ic(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:t})}}class z_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jq(this.Ac)&&Wae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $ae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cv(e)}Cc(e,n,r,i=!1){return new z_({Ac:e,methodName:n,Dc:r,path:Cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zf(t){const e=t._freezeSettings(),n=Cv(t._databaseId);return new $ae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H_(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Qk("Data must be an object, but it was:",a,r);const o=Qq(r,a);let l,c;if(s.merge)l=new ta(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=vA(e,f,n);if(!a.contains(h))throw new at(et.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);e$(u,h)||u.push(h)}l=new ta(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new qae(new Qi(o),l,c)}class Av extends Qf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Av}}function Xq(t,e,n){return new z_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hk extends Qf{_toFieldTransform(e){return new wv(e.path,new rm)}isEqual(e){return e instanceof Hk}}class Gk extends Qf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Xq(this,e,!0),r=this.vc.map((s=>eh(s,n))),i=new Sf(r);return new wv(e.path,i)}isEqual(e){return e instanceof Gk&&vc(this.vc,e.vc)}}class Kk extends Qf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Xq(this,e,!0),r=this.vc.map((s=>eh(s,n))),i=new Df(r);return new wv(e.path,i)}isEqual(e){return e instanceof Kk&&vc(this.vc,e.vc)}}class Jk extends Qf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new im(e.serializer,TW(e.serializer,this.Fc));return new wv(e.path,n)}isEqual(e){return e instanceof Jk&&this.Fc===e.Fc}}function Xk(t,e,n,r){const i=t.Cc(1,e,n);Qk("Data must be an object, but it was:",i,r);const s=[],a=Qi.empty();ad(r,((l,c)=>{const u=Zk(e,l,n);c=It(c);const f=i.yc(u);if(c instanceof Av)s.push(u);else{const h=eh(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new ta(s);return new Kq(a,o,i.fieldTransforms)}function Yk(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[vA(e,r,n)],l=[i];if(s.length%2!=0)throw new at(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(vA(e,s[h])),l.push(s[h+1]);const c=[],u=Qi.empty();for(let h=o.length-1;h>=0;--h)if(!e$(c,o[h])){const p=o[h];let v=l[h];v=It(v);const g=a.yc(p);if(v instanceof Av)c.push(p);else{const y=eh(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new ta(c);return new Kq(u,f,a.fieldTransforms)}function Yq(t,e,n,r=!1){return eh(n,t.Cc(r?4:3,e))}function eh(t,e){if(Zq(t=It(t)))return Qk("Unsupported field value:",e,t),Qq(t,e);if(t instanceof Qf)return(function(r,i){if(!Jq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=eh(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jn.fromDate(r);return{timestampValue:sm(i.serializer,s)}}if(r instanceof jn){const s=new jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(i.serializer,s)}}if(r instanceof Uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ms)return{bytesValue:MW(i.serializer,r._byteString)};if(r instanceof cr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sl)return(function(a,o){return{mapValue:{fields:{[ok]:{stringValue:lk},[em]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return fk(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${A_(r)}`)})(t,e)}function Qq(t,e){const n={};return QV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ad(t,((r,i)=>{const s=eh(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Zq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jn||t instanceof Uo||t instanceof ms||t instanceof cr||t instanceof Qf||t instanceof Sl)}function Qk(t,e,n){if(!Zq(n)||!FV(n)){const r=A_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vA(t,e,n){if((e=It(e))instanceof zu)return e._internalPath;if(typeof e=="string")return Zk(t,e);throw Eb("Field path arguments must be of type string or ",t,!1,void 0,n)}const zae=new RegExp("[~\\*/\\[\\]]");function Zk(t,e,n){if(e.search(zae)>=0)throw Eb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zu(...e.split("."))._internalPath}catch{throw Eb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new at(et.INVALID_ARGUMENT,o+t+l)}function e$(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(G_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Hae extends Ny{data(){return super.data()}}function G_(t,e){return typeof e=="string"?Zk(t,e):e instanceof zu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e3{}let Nv=class extends e3{};function fu(t,e,...n){let r=[];e instanceof e3&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof t3)).length,o=s.filter((l=>l instanceof K_)).length;if(a>1||a>0&&o>0)throw new at(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class K_ extends Nv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new K_(e,n,r)}_apply(e){const n=this._parse(e);return o$(e._query,n),new Vs(e.firestore,e.converter,iA(e._query,n))}_parse(e){const n=Zf(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new at(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){hF(f,u);const v=[];for(const g of f)v.push(fF(l,s,g));h={arrayValue:{values:v}}}else h=fF(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||hF(f,u),h=Yq(o,a,f,u==="in"||u==="not-in");return vn.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gae(t,e,n){const r=e,i=G_("where",t);return K_._create(i,r,n)}class t3 extends e3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t3(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)o$(a,l),a=iA(a,l)})(e._query,n),new Vs(e.firestore,e.converter,iA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n3 extends Nv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n3(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new at(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new at(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ey(s,a)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Nc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Kae(t,e="asc"){const n=e,r=G_("orderBy",t);return n3._create(r,n)}class J_ extends Nv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new J_(e,n,r)}_apply(e){return new Vs(e.firestore,e.converter,pb(e._query,this._limit,this._limitType))}}function Jae(t){return MV("limit",t),J_._create("limit",t,"F")}function Xae(t){return MV("limitToLast",t),J_._create("limitToLast",t,"L")}let n$=class r$ extends Nv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new r$(e,n,r)}_apply(e){const n=a$(e,this.type,this._docOrFields,this._inclusive);return new Vs(e.firestore,e.converter,(function(i,s){return new Nc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function Yae(...t){return n$._create("startAt",t,!0)}function Qae(...t){return n$._create("startAfter",t,!1)}let i$=class s$ extends Nv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new s$(e,n,r)}_apply(e){const n=a$(e,this.type,this._docOrFields,this._inclusive);return new Vs(e.firestore,e.converter,(function(i,s){return new Nc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function Zae(...t){return i$._create("endBefore",t,!1)}function eoe(...t){return i$._create("endAt",t,!0)}function a$(t,e,n,r){if(n[0]=It(n[0]),n[0]instanceof Ny)return(function(s,a,o,l,c){if(!l)throw new at(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of Np(s))if(f.field.isKeyField())u.push(Ef(a,l.key));else{const h=l.data.field(f.field);if(R_(h))throw new at(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new at(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Wu(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Zf(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new at(et.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new at(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!uk(a)&&g.indexOf("/")!==-1)throw new at(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(gn.fromString(g));if(!Et.isDocumentKey(y))throw new at(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new Et(y);p.push(Ef(o,b))}else{const y=Yq(l,c,g);p.push(y)}}return new Wu(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function fF(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new at(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uk(e)&&n.indexOf("/")!==-1)throw new at(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gn.fromString(n));if(!Et.isDocumentKey(r))throw new at(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ef(t,new Et(r))}if(n instanceof cr)return Ef(t,n._key);throw new at(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A_(n)}.`)}function hF(t,e){if(!Array.isArray(t)||t.length===0)throw new at(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o$(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new at(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r3{convertValue(e,n="none"){switch(Bu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ad(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[em].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Tr(a.doubleValue)));return new Sl(n)}convertGeoPoint(e){return new Uo(Tr(e.latitude),Tr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=F_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_y(e));default:return null}}convertTimestamp(e){const n=bc(e);return new jn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gn.fromString(e);Ot(HW(r),9688,{name:e});const i=new ju(r.get(1),r.get(3)),s=new Et(r.popFirst(5));return i.isEqual(n)||ti(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class toe extends r3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}class tf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let no=class l$ extends Ny{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new B0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(G_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=l$._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:mi("string",no._jsonSchemaVersion),bundleSource:mi("string","DocumentSnapshot"),bundleName:mi("string"),bundle:mi("string")};let B0=class extends no{data(e={}){return super.data(e)}},Lo=class c${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new B0(this._firestore,this._userDataWriter,r.key,r,new tf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new B0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new B0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:noe(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=c$._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ZN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function noe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:t})}}function u$(t,e){return t instanceof no&&e instanceof no?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Lo&&e instanceof Lo&&t._firestore===e._firestore&&zq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t){t=Fn(t,cr);const e=Fn(t.firestore,ii);return Uq(Cs(e),t._key).then((n=>i3(e,t,n)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:mi("string",Lo._jsonSchemaVersion),bundleSource:mi("string","QuerySnapshot"),bundleName:mi("string"),bundle:mi("string")};class th extends r3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}function ioe(t){t=Fn(t,cr);const e=Fn(t.firestore,ii),n=Cs(e),r=new th(e);return Cae(n,t._key).then((i=>new no(e,r,t._key,i,new tf(i!==null&&i.hasLocalMutations,!0),t.converter)))}function soe(t){t=Fn(t,cr);const e=Fn(t.firestore,ii);return Uq(Cs(e),t._key,{source:"server"}).then((n=>i3(e,t,n)))}function aoe(t){t=Fn(t,Vs);const e=Fn(t.firestore,ii),n=Cs(e),r=new th(e);return t$(t._query),Lq(n,t._query).then((i=>new Lo(e,r,t,i)))}function ooe(t){t=Fn(t,Vs);const e=Fn(t.firestore,ii),n=Cs(e),r=new th(e);return Sae(n,t._query).then((i=>new Lo(e,r,t,i)))}function loe(t){t=Fn(t,Vs);const e=Fn(t.firestore,ii),n=Cs(e),r=new th(e);return Lq(n,t._query,{source:"server"}).then((i=>new Lo(e,r,t,i)))}function pF(t,e,n){t=Fn(t,cr);const r=Fn(t.firestore,ii),i=X_(t.converter,e,n);return kv(r,[H_(Zf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sr.none())])}function mF(t,e,n,...r){t=Fn(t,cr);const i=Fn(t.firestore,ii),s=Zf(i);let a;return a=typeof(e=It(e))=="string"||e instanceof zu?Yk(s,"updateDoc",t._key,e,n,r):Xk(s,"updateDoc",t._key,e),kv(i,[a.toMutation(t._key,Sr.exists(!0))])}function coe(t){return kv(Fn(t.firestore,ii),[new Lm(t._key,Sr.none())])}function uoe(t,e){const n=Fn(t.firestore,ii),r=Tb(t),i=X_(t.converter,e);return kv(n,[H_(Zf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sr.exists(!1))]).then((()=>r))}function d$(t,...e){var l,c,u;t=It(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yA(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof cr)a=Fn(t.firestore,ii),o=Om(t._key.path),s={next:f=>{e[r]&&e[r](i3(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Fn(t,Vs);a=Fn(f.firestore,ii),o=f._query;const h=new th(a);s={next:p=>{e[r]&&e[r](new Lo(a,h,f,p))},error:e[r+1],complete:e[r+2]},t$(t._query)}return(function(h,p,v,g){const y=new q_(g),b=new Uk(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>Fk(await dm(h),b))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>Mk(await dm(h),b)))}})(Cs(a),o,i,s)}function doe(t,e){return Dae(Cs(t=Fn(t,ii)),yA(e)?e:{next:e})}function kv(t,e){return(function(r,i){const s=new es;return r.asyncQueue.enqueueAndForget((async()=>eae(await zk(r),i,s))),s.promise})(Cs(t),e)}function i3(t,e,n){const r=n.docs.get(e._key),i=new th(t);return new no(t,i,e._key,r,new tf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hoe=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zf(e)}set(e,n,r){this._verifyNotCommitted();const i=xu(e,this._firestore),s=X_(i.converter,n,r),a=H_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Sr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=xu(e,this._firestore);let a;return a=typeof(n=It(n))=="string"||n instanceof zu?Yk(this._dataReader,"WriteBatch.update",s._key,n,r,i):Xk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xu(e,this._firestore);return this._mutations=this._mutations.concat(new Lm(n._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function xu(t,e){if((t=It(t)).firestore!==e)throw new at(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Zf(e)}get(e){const n=xu(e,this._firestore),r=new toe(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Nt(24041);const s=i[0];if(s.isFoundDocument())return new Ny(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ny(this._firestore,r,n._key,null,n.converter);throw Nt(18433,{doc:s})}))}set(e,n,r){const i=xu(e,this._firestore),s=X_(i.converter,n,r),a=H_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=xu(e,this._firestore);let a;return a=typeof(n=It(n))=="string"||n instanceof zu?Yk(this._dataReader,"Transaction.update",s._key,n,r,i):Xk(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=xu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let moe=class extends poe{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=xu(e,this._firestore),r=new th(this._firestore);return super.get(e).then((i=>new no(this._firestore,r,n._key,i._document,new tf(!1,!1),n.converter)))}};function goe(t,e,n){t=Fn(t,ii);const r={...foe,...n};return(function(s){if(s.maxAttempts<1)throw new at(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new es;return s.asyncQueue.enqueueAndForget((async()=>{const c=await wae(s);new bae(s.asyncQueue,c,o,a,l).ju()})),l.promise})(Cs(t),(i=>e(new moe(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(){return new Av("deleteField")}function voe(){return new Hk("serverTimestamp")}function xoe(...t){return new Gk("arrayUnion",t)}function boe(...t){return new Kk("arrayRemove",t)}function _oe(t){return new Jk("increment",t)}(function(e,n=!0){(function(i){Mm=i})(Ul),Nl(new Bs("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ii(new pre(r.getProvider("auth-internal")),new yre(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new at(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Us(zR,HR,e),Us(zR,HR,"esm2020")})();const woe="@firebase/firestore-compat",Toe="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new at("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function yF(){if(!Qre())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}let f$=class xA{constructor(e){this._delegate=e}static fromBase64String(e){return yF(),new xA(ms.fromBase64String(e))}static fromUint8Array(e){return gF(),new xA(ms.fromUint8Array(e))}toBase64(){return yF(),this._delegate.toBase64()}toUint8Array(){return gF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){return Eoe(t,["next","error","complete"])}function Eoe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{enableIndexedDbPersistence(e,n){return Fae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Mae(e._delegate)}clearIndexedDbPersistence(e){return Oae(e._delegate)}}class h${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ju||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&kl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){kae(this._delegate,e,n,r)}enableNetwork(){return Lae(this._delegate)}disableNetwork(){return jae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Uae(this._delegate)}onSnapshotsInSync(e){return doe(this._delegate,e)}get app(){if(!this._appCompat)throw new at("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fm(this,qq(this._delegate,e))}catch(n){throw Ps(n,"collection()","Firestore.collection()")}}doc(e){try{return new Za(this,Tb(this._delegate,e))}catch(n){throw Ps(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Py(this,Iae(this._delegate,e))}catch(n){throw Ps(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return goe(this._delegate,n=>e(new p$(this,n)))}batch(){return Cs(this._delegate),new m$(new hoe(this._delegate,e=>kv(this._delegate,e)))}loadBundle(e){return Bae(this._delegate,e)}namedQuery(e){return Vae(this._delegate,e).then(n=>n?new Py(this,n):null)}}class Y_ extends r3{constructor(e){super(),this.firestore=e}convertBytes(e){return new f$(new ms(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Za.forKey(n,this.firestore,null)}}function Soe(t){ure(t)}class p${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Y_(e)}get(e){const n=nf(e);return this._delegate.get(n).then(r=>new ky(this._firestore,new no(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=nf(e);return r?(s3("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=nf(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=nf(e);return this._delegate.delete(n),this}}class m${constructor(e){this._delegate=e}set(e,n,r){const i=nf(e);return r?(s3("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=nf(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=nf(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Pf{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new B0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Iy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Pf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Pf(e,new Y_(e),n),i.set(n,s)),s}}Pf.INSTANCES=new WeakMap;class Za{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Y_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Za(n,new cr(n._delegate,r,new Et(e)))}static forKey(e,n,r){return new Za(n,new cr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fm(this.firestore,qq(this._delegate,e))}catch(n){throw Ps(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=It(e),e instanceof cr?$q(this._delegate,e):!1}set(e,n){n=s3("DocumentReference.set",n);try{return n?pF(this._delegate,e,n):pF(this._delegate,e)}catch(r){throw Ps(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?mF(this._delegate,e):mF(this._delegate,e,n,...r)}catch(i){throw Ps(i,"updateDoc()","DocumentReference.update()")}}delete(){return coe(this._delegate)}onSnapshot(...e){const n=g$(e),r=y$(e,i=>new ky(this.firestore,new no(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return d$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=ioe(this._delegate):(e==null?void 0:e.source)==="server"?n=soe(this._delegate):n=roe(this._delegate),n.then(r=>new ky(this.firestore,new no(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Za(this.firestore,e?this._delegate.withConverter(Pf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ps(t,e,n){return t.message=t.message.replace(e,n),t}function g$(t){for(const e of t)if(typeof e=="object"&&!bA(e))return e;return{}}function y$(t,e){var r,i;let n;return bA(t[0])?n=t[0]:bA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class ky{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return u$(this._delegate,e._delegate)}}class Iy extends ky{data(e){const n=this._delegate.data(e);return this._delegate._converter||dre(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let Py=class al{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Y_(e)}where(e,n,r){try{return new al(this.firestore,fu(this._delegate,Gae(e,n,r)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new al(this.firestore,fu(this._delegate,Kae(e,n)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new al(this.firestore,fu(this._delegate,Jae(e)))}catch(n){throw Ps(n,"limit()","Query.limit()")}}limitToLast(e){try{return new al(this.firestore,fu(this._delegate,Xae(e)))}catch(n){throw Ps(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new al(this.firestore,fu(this._delegate,Yae(...e)))}catch(n){throw Ps(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new al(this.firestore,fu(this._delegate,Qae(...e)))}catch(n){throw Ps(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new al(this.firestore,fu(this._delegate,Zae(...e)))}catch(n){throw Ps(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new al(this.firestore,fu(this._delegate,eoe(...e)))}catch(n){throw Ps(n,"endAt()","Query.endAt()")}}isEqual(e){return zq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=ooe(this._delegate):(e==null?void 0:e.source)==="server"?n=loe(this._delegate):n=aoe(this._delegate),n.then(r=>new _A(this.firestore,new Lo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=g$(e),r=y$(e,i=>new _A(this.firestore,new Lo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return d$(this._delegate,n,r)}withConverter(e){return new al(this.firestore,e?this._delegate.withConverter(Pf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class Doe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Iy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _A{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Py(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Iy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Doe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Iy(this._firestore,r))})}isEqual(e){return u$(this._delegate,e._delegate)}}class fm extends Py{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Za(this.firestore,e):null}doc(e){try{return e===void 0?new Za(this.firestore,Tb(this._delegate)):new Za(this.firestore,Tb(this._delegate,e))}catch(n){throw Ps(n,"doc()","CollectionReference.doc()")}}add(e){return uoe(this._delegate,e).then(n=>new Za(this.firestore,n))}isEqual(e){return $q(this._delegate,e._delegate)}withConverter(e){return new fm(this.firestore,e?this._delegate.withConverter(Pf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nf(t){return Fn(t,cr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(...e){this._delegate=new zu(...e)}static documentId(){return new a3(Cr.keyField().canonicalString())}isEqual(e){return e=It(e),e instanceof zu?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{static serverTimestamp(){const e=voe();return e._methodName="FieldValue.serverTimestamp",new Qd(e)}static delete(){const e=yoe();return e._methodName="FieldValue.delete",new Qd(e)}static arrayUnion(...e){const n=xoe(...e);return n._methodName="FieldValue.arrayUnion",new Qd(n)}static arrayRemove(...e){const n=boe(...e);return n._methodName="FieldValue.arrayRemove",new Qd(n)}static increment(e){const n=_oe(e);return n._methodName="FieldValue.increment",new Qd(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe={Firestore:h$,GeoPoint:Uo,Timestamp:jn,Blob:f$,Transaction:p$,WriteBatch:m$,DocumentReference:Za,DocumentSnapshot:ky,Query:Py,QueryDocumentSnapshot:Iy,QuerySnapshot:_A,CollectionReference:fm,FieldPath:a3,FieldValue:Qd,setLogLevel:Soe,CACHE_SIZE_UNLIMITED:Rae};function Noe(t,e){t.INTERNAL.registerComponent(new Bs("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Aoe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(t){Noe(t,(e,n)=>new h$(e,n,new Coe)),t.registerVersion(woe,Toe)}koe(Er);const Kg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ap={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ioe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function v$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Poe=Ioe,Roe=v$,x$=new Xf("auth","Firebase",v$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Fm("@firebase/auth");function Foe(t,...e){Cb.logLevel<=pn.WARN&&Cb.warn(`Auth (${Ul}): ${t}`,...e)}function C2(t,...e){Cb.logLevel<=pn.ERROR&&Cb.error(`Auth (${Ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw l3(t,...e)}function Ti(t,...e){return l3(t,...e)}function o3(t,e,n){const r={...Roe(),[e]:n};return new Xf("auth","Firebase",r).create(e,{appName:t.name})}function Wi(t){return o3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ts(t,"argument-error"),o3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function l3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x$.create(t,...e)}function ht(t,e,...n){if(!t)throw l3(e,...n)}function xl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw C2(e),new Error(e)}function Wo(t,e){t||xl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function c3(){return vF()==="http:"||vF()==="https:"}function vF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c3()||aV()||"connection"in navigator)?navigator.onLine:!0}function Ooe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wo(n>e,"Short delay should be less than long delay!"),this.isMobile=$N()||S_()}get(){return Moe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){Wo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],joe=new Iv(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xr(t,e,n,r,i={}){return _$(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Yf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return Pte()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ol(t.emulatorConfig.host)&&(c.credentials="include"),b$.fetch()(await w$(t,t.config.apiHost,n,o),c)})}async function _$(t,e,n){t._canInitEmulator=!1;const r={...Uoe,...e};try{const i=new Voe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw C0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw C0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw C0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw C0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw o3(t,u,c);ts(t,u)}}catch(i){if(i instanceof xs)throw i;ts(t,"network-request-failed",{message:String(i)})}}async function Rc(t,e,n,r,i={}){const s=await Xr(t,e,n,r,i);return"mfaPendingCredential"in s&&ts(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function w$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?u3(t.config,i):`${t.config.apiScheme}://${i}`;return Loe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Boe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Voe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),joe.get())})}}function C0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){return t!==void 0&&t.getResponse!==void 0}function bF(t){return t!==void 0&&t.enterprise!==void 0}class T${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Boe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Woe(t){return(await Xr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function E$(t,e){return Xr(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qoe(t,e){return Xr(t,"POST","/v1/accounts:delete",e)}async function $oe(t,e){return Xr(t,"POST","/v1/accounts:update",e)}async function Sb(t,e){return Xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zoe(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=Q_(r);ht(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:V0(pC(i.auth_time)),issuedAtTime:V0(pC(i.iat)),expirationTime:V0(pC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pC(t){return Number(t)*1e3}function Q_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return C2("JWT malformed, contained fewer than 3 sections"),null;try{const i=uy(n);return i?JSON.parse(i):(C2("Failed to decode base64 JWT payload"),null)}catch(i){return C2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _F(t){const e=Q_(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&Hoe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Hoe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=V0(this.lastLoginAt),this.creationTime=V0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await wc(t,Sb(e,{idToken:n}));ht(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?C$(i.providerUserInfo):[],a=Joe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Koe(t){const e=It(t);await Fy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Joe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function C$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e){const n=await _$(t,{},async()=>{const r=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await w$(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Ol(t.emulatorConfig.host)&&(l.credentials="include"),b$.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yoe(t,e){return Xr(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_F(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=_F(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Xoe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ip;return r&&(ht(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ht(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ip,this.toJSON())}_performRefresh(){return xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ro{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Goe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wc(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zoe(this,e)}reload(){return Koe(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ro({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await wc(this,qoe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;ht(f&&g,e,"internal-error");const y=Ip.fromJSON(this.name,g);ht(typeof f=="string",e,"internal-error"),hu(r,e.name),hu(i,e.name),ht(typeof h=="boolean",e,"internal-error"),ht(typeof p=="boolean",e,"internal-error"),hu(s,e.name),hu(a,e.name),hu(o,e.name),hu(l,e.name),hu(c,e.name),hu(u,e.name);const b=new Ro({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(b.providerData=v.map(x=>({...x}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ip;i.updateFromServerResponse(n);const s=new Ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ht(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?C$(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Ip;o.updateFromIdToken(r);const l=new Ro({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new Map;function Da(t){Wo(t instanceof Function,"Expected a class definition");let e=wF.get(t);return e?(Wo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S$.type="NONE";const hm=S$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){return`firebase:${t}:${e}:${n}`}class Pp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hf(this.userKey,i.apiKey,s),this.fullPersistenceKey=hf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sb(this.auth,{idToken:e}).catch(()=>{});return n?Ro._fromGetAccountInfoResponse(this.auth,n,e):null}return Ro._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pp(Da(hm),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Da(hm);const a=hf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await Sb(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Ro._fromGetAccountInfoResponse(e,h,u)}else f=Ro._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pp(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Pp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I$(e))return"Blackberry";if(P$(e))return"Webos";if(A$(e))return"Safari";if((e.includes("chrome/")||N$(e))&&!e.includes("edge/"))return"Chrome";if(Pv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D$(t=Lr()){return/firefox\//i.test(t)}function A$(t=Lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N$(t=Lr()){return/crios\//i.test(t)}function k$(t=Lr()){return/iemobile/i.test(t)}function Pv(t=Lr()){return/android/i.test(t)}function I$(t=Lr()){return/blackberry/i.test(t)}function P$(t=Lr()){return/webos/i.test(t)}function Rv(t=Lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qoe(t=Lr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Zoe(t=Lr()){var e;return Rv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ele(){return oV()&&document.documentMode===10}function R$(t=Lr()){return Rv(t)||Pv(t)||P$(t)||I$(t)||/windows phone/i.test(t)||k$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t,e=[]){let n;switch(t){case"Browser":n=TF(Lr());break;case"Worker":n=`${TF(Lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nle(t,e={}){return Xr(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=6;class ile{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rle,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EF(this),this.idTokenSubscription=new EF(this),this.beforeStateQueue=new tle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Da(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Pp.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sb(this,{idToken:e}),r=await Ro._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(or(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ooe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Wi(this));const n=e?It(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nle(this),n=new ile(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Da(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await Pp.create(this,[Da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Foe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Br(t){return It(t)}class EF{constructor(e){this.auth=e,this.observer=null,this.addObserver=dV(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ale(t){Fv=t}function d3(t){return Fv.loadJS(t)}function ole(){return Fv.recaptchaV2Script}function lle(){return Fv.recaptchaEnterpriseScript}function cle(){return Fv.gapiScript}function M$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=500,dle=6e4,Sx=1e12;class fle{constructor(e){this.auth=e,this.counter=Sx,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new mle(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Sx;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Sx;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Sx;return(r=this._widgets.get(n))==null||r.execute(),""}}class hle{constructor(){this.enterprise=new ple}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ple{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mle{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ht(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gle(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},dle)},ule))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function gle(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const yle="recaptcha-enterprise",W0="NO_RECAPTCHA";class O${constructor(e){this.type=yle,this.auth=Br(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{E$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new T$(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;bF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(W0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hle().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&bF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=lle();l.length!==0&&(l+=o),d3(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Jg(t,e,n,r=!1,i=!1){const s=new O$(t);let a;if(i)a=W0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Iu(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Jg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Jg(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Jg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Jg(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function vle(t){const e=Br(t),n=await E$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new T$(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new O$(e).verify()}function xle(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ble(t,e,n){const r=Br(t);ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=U$(e),{host:a,port:o}=_le(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ht(vc(c,r.config.emulator)&&vc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ol(a)?(T_(`${s}//${a}${l}`),E_("Auth",!0)):i||wle()}function U$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _le(t){const e=U$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:CF(a)}}}function CF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xl("not implemented")}_getIdTokenResponse(e){return xl("not implemented")}_linkToIdToken(e,n){return xl("not implemented")}_getReauthenticationResolver(e){return xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e){return Xr(t,"POST","/v1/accounts:resetPassword",Jr(t,e))}async function Tle(t,e){return Xr(t,"POST","/v1/accounts:update",e)}async function Ele(t,e){return Xr(t,"POST","/v1/accounts:signUp",e)}async function Cle(t,e){return Xr(t,"POST","/v1/accounts:update",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sle(t,e){return Rc(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}async function Z_(t,e){return Xr(t,"POST","/v1/accounts:sendOobCode",Jr(t,e))}async function Dle(t,e){return Z_(t,e)}async function Ale(t,e){return Z_(t,e)}async function Nle(t,e){return Z_(t,e)}async function kle(t,e){return Z_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ile(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function Ple(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends $m{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new My(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new My(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iu(e,n,"signInWithPassword",Sle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ile(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iu(e,r,"signUpPassword",Ele,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ple(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e){return Rc(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle="http://localhost";class Pl extends $m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Pl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cc(e,n)}buildRequest(){const e={requestUri:Rle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return Xr(t,"POST","/v1/accounts:sendVerificationCode",Jr(t,e))}async function Fle(t,e){return Rc(t,"POST","/v1/accounts:signInWithPhoneNumber",Jr(t,e))}async function Mle(t,e){const n=await Rc(t,"POST","/v1/accounts:signInWithPhoneNumber",Jr(t,e));if(n.temporaryProof)throw C0(t,"account-exists-with-different-credential",n);return n}const Ole={USER_NOT_FOUND:"user-not-found"};async function Ule(t,e){const n={...e,operation:"REAUTH"};return Rc(t,"POST","/v1/accounts:signInWithPhoneNumber",Jr(t,n),Ole)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends $m{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new pf({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new pf({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Fle(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Mle(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Ule(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new pf({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jle(t){const e=Ep(x0(t)).link,n=e?Ep(x0(e)).deep_link_id:null,r=Ep(x0(t)).deep_link_id;return(r?Ep(x0(r)).link:null)||r||n||e||t}class ew{constructor(e){const n=Ep(x0(e)),r=n.apiKey??null,i=n.oobCode??null,s=Lle(n.mode??null);ht(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jle(e);try{return new ew(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.providerId=cd.PROVIDER_ID}static credential(e,n){return My._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ew.parseLink(n);return ht(r,"argument-error"),My._fromEmailAndCode(e,r.code,r.tenantId)}}cd.PROVIDER_ID="password";cd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Fc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rp extends zm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ht("providerId"in n&&"signInMethod"in n,"argument-error"),Pl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ht(e.idToken||e.accessToken,"argument-error"),Pl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Rp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Rp(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends zm{constructor(){super("facebook.com")}static credential(e){return Pl._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";fl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends zm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pl._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hl.credential(n,r)}catch{return null}}}hl.GOOGLE_SIGN_IN_METHOD="google.com";hl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends zm{constructor(){super("github.com")}static credential(e){return Pl._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pl.credential(e.oauthAccessToken)}catch{return null}}}pl.GITHUB_SIGN_IN_METHOD="github.com";pl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble="http://localhost";class pm extends $m{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return cc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cc(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new pm(r,s)}static _create(e,n){return new pm(e,n)}buildRequest(){return{requestUri:Ble,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vle="saml.";class Db extends Fc{constructor(e){ht(e.startsWith(Vle),"argument-error"),super(e)}static credentialFromResult(e){return Db.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Db.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=pm.fromJSON(e);return ht(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return pm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends zm{constructor(){super("twitter.com")}static credential(e,n){return Pl._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ml.credential(n,r)}catch{return null}}}ml.TWITTER_SIGN_IN_METHOD="twitter.com";ml.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e){return Rc(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ro._fromIdTokenResponse(e,r,i),a=DF(r);return new oo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DF(r);return new oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wle(t){var i;if(or(t.app))return Promise.reject(Wi(t));const e=Br(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new oo({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await j$(e,{returnSecureToken:!0}),r=await oo._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends xs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ab.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ab(e,n,r,i)}}function B$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ab._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qle(t,e){const n=It(t);await tw(!0,n,e);const{providerUserInfo:r}=await $oe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=V$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function f3(t,e,n=!1){const r=await wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}async function tw(t,e,n){await Fy(e);const r=V$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ht(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Wi(r));const i="reauthenticate";try{const s=await wc(t,B$(r,i,e,t),n);ht(s.idToken,r,"internal-error");const a=Q_(s.idToken);ht(a,r,"internal-error");const{sub:o}=a;return ht(t.uid===o,r,"user-mismatch"),oo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ts(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e,n=!1){if(or(t.app))return Promise.reject(Wi(t));const r="signIn",i=await B$(t,r,e),s=await oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function nw(t,e){return q$(Br(t),e)}async function $$(t,e){const n=It(t);return await tw(!1,n,e.providerId),f3(n,e)}async function z$(t,e){return W$(It(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $le(t,e){return Rc(t,"POST","/v1/accounts:signInWithCustomToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zle(t,e){if(or(t.app))return Promise.reject(Wi(t));const n=Br(t),r=await $le(n,{token:e,returnSecureToken:!0}),i=await oo._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?h3._fromServerResponse(e,n):"totpInfo"in n?p3._fromServerResponse(e,n):ts(e,"internal-error")}}class h3 extends Mv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new h3(n)}}class p3 extends Mv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new p3(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e,n){var r;ht(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),ht(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ht(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ht(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ht(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t){const e=Br(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hle(t,e,n){const r=Br(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&rw(r,i,n),await Iu(r,i,"getOobCode",Ale,"EMAIL_PASSWORD_PROVIDER")}async function Gle(t,e,n){await L$(It(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m3(t),r})}async function Kle(t,e){await Cle(It(t),{oobCode:e})}async function H$(t,e){const n=It(t),r=await L$(n,{oobCode:e}),i=r.requestType;switch(ht(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ht(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ht(r.mfaInfo,n,"internal-error");default:ht(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Mv._fromServerResponse(Br(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Jle(t,e){const{data:n}=await H$(It(t),e);return n.email}async function Xle(t,e,n){if(or(t.app))return Promise.reject(Wi(t));const r=Br(t),a=await Iu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&m3(t),l}),o=await oo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Yle(t,e,n){return or(t.app)?Promise.reject(Wi(t)):nw(It(t),cd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qle(t,e,n){const r=Br(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){ht(o.handleCodeInApp,r,"argument-error"),o&&rw(r,a,o)}s(i,n),await Iu(r,i,"getOobCode",Nle,"EMAIL_PASSWORD_PROVIDER")}function Zle(t,e){const n=ew.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function ece(t,e,n){if(or(t.app))return Promise.reject(Wi(t));const r=It(t),i=cd.credentialWithLink(e,n||Ry());return ht(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),nw(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tce(t,e){return Xr(t,"POST","/v1/accounts:createAuthUri",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nce(t,e){const n=c3()?Ry():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await tce(It(t),r);return i||[]}async function rce(t,e){const n=It(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&rw(n.auth,i,e);const{email:s}=await Dle(n.auth,i);s!==t.email&&await t.reload()}async function ice(t,e,n){const r=It(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&rw(r.auth,s,n);const{email:a}=await kle(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(t,e){return Xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ace(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=It(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await wc(r,sce(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function oce(t,e){const n=It(t);return or(n.auth.app)?Promise.reject(Wi(n.auth)):G$(n,e,null)}function lce(t,e){return G$(It(t),null,e)}async function G$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await wc(t,Tle(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cce(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=Q_(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Fp(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new uce(r,n);case"github.com":return new dce(r,n);case"google.com":return new fce(r,n);case"twitter.com":return new hce(r,n,t.screenName||null);case"custom":case"anonymous":return new Fp(r,null);default:return new Fp(r,e,n)}}class Fp{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class K$ extends Fp{constructor(e,n,r,i){super(e,n,r),this.username=i}}class uce extends Fp{constructor(e,n){super(e,"facebook.com",n)}}class dce extends K${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class fce extends Fp{constructor(e,n){super(e,"google.com",n)}}class hce extends K${constructor(e,n,r){super(e,"twitter.com",n,r)}}function pce(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:cce(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new rf("enroll",e,n)}static _fromMfaPendingCredential(e){return new rf("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return rf._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return rf._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Br(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>Mv._fromServerResponse(r,o));ht(i.mfaPendingCredential,r,"internal-error");const a=rf._fromMfaPendingCredential(i.mfaPendingCredential);return new g3(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await oo._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return ht(n.user,r,"internal-error"),oo._forOperation(n.user,n.operationType,c);default:ts(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function mce(t,e){var i;const n=It(t),r=e;return ht(e.customData.operationType,n,"argument-error"),ht((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),g3._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t,e){return Xr(t,"POST","/v2/accounts/mfaEnrollment:start",Jr(t,e))}function gce(t,e){return Xr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Jr(t,e))}function yce(t,e){return Xr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Jr(t,e))}class y3{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Mv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new y3(e)}async getSession(){return rf._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await wc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await wc(this.user,yce(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const mC=new WeakMap;function vce(t){const e=It(t);return mC.has(e)||mC.set(e,y3._fromUser(e)),mC.get(e)}const Nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=1e3,bce=10;class X$ extends J${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);ele()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X$.type="LOCAL";const v3=X$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y$ extends J${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y$.type="SESSION";const Rf=Y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new iw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await _ce(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}iw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Ov("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function Tce(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function Ece(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Sce(){return x3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$="firebaseLocalStorageDb",Dce=1,kb="firebaseLocalStorage",Z$="fbase_key";class Uv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sw(t,e){return t.transaction([kb],e?"readwrite":"readonly").objectStore(kb)}function Ace(){const t=indexedDB.deleteDatabase(Q$);return new Uv(t).toPromise()}function TA(){const t=indexedDB.open(Q$,Dce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kb,{keyPath:Z$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kb)?e(r):(r.close(),await Ace(),e(await TA()))})})}async function NF(t,e,n){const r=sw(t,!0).put({[Z$]:e,value:n});return new Uv(r).toPromise()}async function Nce(t,e){const n=sw(t,!1).get(e),r=await new Uv(n).toPromise();return r===void 0?null:r.value}function kF(t,e){const n=sw(t,!0).delete(e);return new Uv(n).toPromise()}const kce=800,Ice=3;class ez{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ice)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iw._getInstance(Sce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ece(),!this.activeServiceWorker)return;this.sender=new wce(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TA();return await NF(e,Nb,"1"),await kF(e,Nb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Nce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sw(i,!1).getAll();return new Uv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ez.type="LOCAL";const Oy=ez;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){return Xr(t,"POST","/v2/accounts/mfaSignIn:start",Jr(t,e))}function Pce(t,e){return Xr(t,"POST","/v2/accounts/mfaSignIn:finalize",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=M$("rcb"),Rce=new Iv(3e4,6e4);class Fce{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=pi().grecaptcha)!=null&&e.render)}load(e,n=""){return ht(Mce(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xF(pi().grecaptcha)?Promise.resolve(pi().grecaptcha):new Promise((r,i)=>{const s=pi().setTimeout(()=>{i(Ti(e,"network-request-failed"))},Rce.get());pi()[gC]=()=>{pi().clearTimeout(s),delete pi()[gC];const o=pi().grecaptcha;if(!o||!xF(o)){i(Ti(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${ole()}?${Yf({onload:gC,render:"explicit",hl:n})}`;d3(a).catch(()=>{clearTimeout(s),i(Ti(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=pi().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Mce(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Oce{async load(e){return new fle(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="recaptcha",Uce={theme:"light",type:"image"};let Lce=class{constructor(e,n,r={...Uce}){this.parameters=r,this.type=q0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Br(e),this.isInvisible=this.parameters.size==="invisible",ht(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ht(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oce:new Fce,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ht(!this.parameters.sitekey,this.auth,"argument-error"),ht(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ht(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=pi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ht(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ht(c3()&&!x3(),this.auth,"internal-error"),await jce(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Woe(this.auth);ht(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ht(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function jce(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=pf._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Bce(t,e,n){if(or(t.app))return Promise.reject(Wi(t));const r=Br(t),i=await aw(r,e,It(n));return new b3(i,s=>nw(r,s))}async function Vce(t,e,n){const r=It(t);await tw(!1,r,"phone");const i=await aw(r.auth,e,It(n));return new b3(i,s=>$$(r,s))}async function Wce(t,e,n){const r=It(t);if(or(r.auth.app))return Promise.reject(Wi(r.auth));const i=await aw(r.auth,e,It(n));return new b3(i,s=>z$(r,s))}async function aw(t,e,n){var r;if(!t._getRecaptchaConfig())try{await vle(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){ht(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Iu(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===W0){ht((n==null?void 0:n.type)===q0,u,"argument-error");const h=await yC(u,f,n);return AF(u,h)}return AF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{ht(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;ht(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Iu(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===W0){ht((n==null?void 0:n.type)===q0,f,"argument-error");const p=await yC(f,h,n);return IF(f,p)}return IF(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Iu(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===W0){ht((n==null?void 0:n.type)===q0,c,"argument-error");const f=await yC(c,u,n);return SF(c,f)}return SF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function qce(t,e){const n=It(t);if(or(n.auth.app))return Promise.reject(Wi(n.auth));await f3(n,e)}async function yC(t,e,n){ht(n.type===q0,t,"argument-error");const r=await n.verify();ht(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=class S2{constructor(e){this.providerId=S2.PROVIDER_ID,this.auth=Br(e)}verifyPhoneNumber(e,n){return aw(this.auth,e,It(n))}static credential(e,n){return pf._fromVerification(e,n)}static credentialFromResult(e){const n=e;return S2.credentialFromTaggedObject(n)}static credentialFromError(e){return S2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?pf._fromTokenResponse(n,r):null}};Ff.PROVIDER_ID="phone";Ff.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e){return e?Da(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 extends $m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $ce(t){return q$(t.auth,new _3(t),t.bypassAuthState)}function zce(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),W$(n,new _3(t),t.bypassAuthState)}async function Hce(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),f3(n,new _3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $ce;case"linkViaPopup":case"linkViaRedirect":return Hce;case"reauthViaPopup":case"reauthViaRedirect":return zce;default:ts(this.auth,"internal-error")}}resolve(e){Wo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=new Iv(2e3,1e4);async function Kce(t,e,n){if(or(t.app))return Promise.reject(Ti(t,"operation-not-supported-in-this-environment"));const r=Br(t);qm(t,e,Fc);const i=nh(r,n);return new rc(r,"signInViaPopup",e,i).executeNotNull()}async function Jce(t,e,n){const r=It(t);if(or(r.auth.app))return Promise.reject(Ti(r.auth,"operation-not-supported-in-this-environment"));qm(r.auth,e,Fc);const i=nh(r.auth,n);return new rc(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Xce(t,e,n){const r=It(t);qm(r.auth,e,Fc);const i=nh(r.auth,n);return new rc(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class rc extends tz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,rc.currentPopupAction&&rc.currentPopupAction.cancel(),rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){Wo(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gce.get())};e()}}rc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce="pendingRedirect",$0=new Map;class Qce extends tz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$0.get(this.auth._key());if(!e){try{const r=await Zce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$0.set(this.auth._key(),e)}return this.bypassAuthState||$0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zce(t,e){const n=rz(e),r=nz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function w3(t,e){return nz(t)._set(rz(e),"true")}function eue(){$0.clear()}function T3(t,e){$0.set(t._key(),e)}function nz(t){return Da(t._redirectPersistence)}function rz(t){return hf(Yce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t,e,n){return nue(t,e,n)}async function nue(t,e,n){if(or(t.app))return Promise.reject(Wi(t));const r=Br(t);qm(t,e,Fc),await r._initializationPromise;const i=nh(r,n);return await w3(i,r),i._openRedirect(r,e,"signInViaRedirect")}function rue(t,e,n){return iue(t,e,n)}async function iue(t,e,n){const r=It(t);if(qm(r.auth,e,Fc),or(r.auth.app))return Promise.reject(Wi(r.auth));await r.auth._initializationPromise;const i=nh(r.auth,n);await w3(i,r.auth);const s=await iz(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function sue(t,e,n){return aue(t,e,n)}async function aue(t,e,n){const r=It(t);qm(r.auth,e,Fc),await r.auth._initializationPromise;const i=nh(r.auth,n);await tw(!1,r,e.providerId),await w3(i,r.auth);const s=await iz(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function oue(t,e){return await Br(t)._initializationPromise,ow(t,e,!1)}async function ow(t,e,n=!1){if(or(t.app))return Promise.reject(Wi(t));const r=Br(t),i=nh(r,e),a=await new Qce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function iz(t){const e=Ov(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue=600*1e3;class sz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cue(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!az(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lue&&this.cachedEventUids.clear(),this.cachedEventUids.has(PF(e))}saveEventToCache(e){this.cachedEventUids.add(PF(e)),this.lastProcessedEventTime=Date.now()}}function PF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function az({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return az(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e={}){return Xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,due=/^https?/;async function fue(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oz(t);for(const n of e)try{if(hue(n))return}catch{}ts(t,"unauthorized-domain")}function hue(t){const e=Ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!due.test(n))return!1;if(uue.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue=new Iv(3e4,6e4);function RF(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mue(t){return new Promise((e,n)=>{var i,s,a;function r(){RF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RF(),n(Ti(t,"network-request-failed"))},timeout:pue.get()})}if((s=(i=pi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=pi().gapi)!=null&&a.load)r();else{const o=M$("iframefcb");return pi()[o]=()=>{gapi.load?r():n(Ti(t,"network-request-failed"))},d3(`${cle()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw D2=null,e})}let D2=null;function gue(t){return D2=D2||mue(t),D2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=new Iv(5e3,15e3),vue="__/auth/iframe",xue="emulator/auth/iframe",bue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_ue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wue(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u3(e,xue):`https://${t.config.authDomain}/${vue}`,r={apiKey:e.apiKey,appName:t.name,v:Ul},i=_ue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yf(r).slice(1)}`}async function Tue(t){const e=await gue(t),n=pi().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:wue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ti(t,"network-request-failed"),o=pi().setTimeout(()=>{s(a)},yue.get());function l(){pi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cue=500,Sue=600,Due="_blank",Aue="http://localhost";class FF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nue(t,e,n,r=Cue,i=Sue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Eue,width:r.toString(),height:i.toString(),top:s,left:a},c=Lr().toLowerCase();n&&(o=N$(c)?Due:n),D$(c)&&(e=e||Aue,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Zoe(c)&&o!=="_self")return kue(e||"",o),new FF(null);const f=window.open(e||"",o,u);ht(f,t,"popup-blocked");try{f.focus()}catch{}return new FF(f)}function kue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iue="__/auth/handler",Pue="emulator/auth/handler",Rue=encodeURIComponent("fac");async function EA(t,e,n,r,i,s){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ul,eventId:i};if(e instanceof Fc){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",sb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof zm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Rue}=${encodeURIComponent(l)}`:"";return`${Fue(t)}?${Yf(o).slice(1)}${c}`}function Fue({config:t}){return t.emulator?u3(t,Pue):`https://${t.authDomain}/${Iue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="webStorageSupport";class Mue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rf,this._completeRedirectFn=ow,this._overrideRedirectResult=T3}async _openPopup(e,n,r,i){var a;Wo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await EA(e,n,r,Ry(),i);return Nue(e,s,Ov())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await EA(e,n,r,Ry(),i);return Tce(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Tue(e),r=new sz(e);return n.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vC,{type:vC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[vC];s!==void 0&&n(!!s),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fue(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R$()||A$()||Rv()}}const Oue=Mue;class Uue{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return xl("unexpected MultiFactorSessionType")}}}class E3 extends Uue{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new E3(e)}_finalizeEnroll(e,n,r){return gce(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Pce(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lz{constructor(){}static assertion(e){return E3._fromCredential(e)}}lz.FACTOR_ID="phone";var MF="@firebase/auth",OF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bue(t){Nl(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ht(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F$(t)},c=new sle(r,i,s,l);return xle(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nl(new Bs("auth-internal",e=>{const n=Br(e.getProvider("auth").getImmediate());return(r=>new Lue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(MF,OF,jue(t)),Us(MF,OF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue=300;Ate("authIdTokenMaxAge");function Wue(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ale({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Wue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bue("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que=2e3;async function $ue(t,e,n){const{BuildInfo:r}=Mf();Wo(e.sessionId,"AuthEvent did not contain a session ID");const i=await Jue(e.sessionId),s={};return Rv()?s.ibi=r.packageName:Pv()?s.apn=r.packageName:ts(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,EA(t,n,e.type,void 0,e.eventId??void 0,s)}async function zue(t){const{BuildInfo:e}=Mf(),n={};Rv()?n.iosBundleId=e.packageName:Pv()?n.androidPackageName=e.packageName:ts(t,"operation-not-supported-in-this-environment"),await oz(t,n)}function Hue(t){const{cordova:e}=Mf();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Qoe()?"_blank":"_system","location=yes"),n(i)})})}async function Gue(t,e,n){const{cordova:r}=Mf();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(Ti(t,"redirect-cancelled-by-user"))},que))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Pv()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Kue(t){var n,r,i,s,a,o,l,c,u,f;const e=Mf();ht(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ht(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ht(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ht(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ht(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Jue(t){const e=Xue(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Xue(t){if(Wo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue=20;class Que extends sz{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Zue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:nde(),postBody:null,tenantId:t.tenantId,error:Ti(t,"no-auth-event")}}function ede(t,e){return CA()._set(SA(t),e)}async function UF(t){const e=await CA()._get(SA(t));return e&&await CA()._remove(SA(t)),e}function tde(t,e){var r,i;const n=ide(e);if(n.includes("/__/auth/callback")){const s=A2(n),a=s.firebaseError?rde(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?Ti(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function nde(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Yue;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function CA(){return Da(v3)}function SA(t){return hf("authEvent",t.config.apiKey,t.name)}function rde(t){try{return JSON.parse(t)}catch{return null}}function ide(t){const e=A2(t),n=e.link?decodeURIComponent(e.link):void 0,r=A2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return A2(i).link||i||r||n||t}function A2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ep(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sde=500;class ade{constructor(){this._redirectPersistence=Rf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ow,this._overrideRedirectResult=T3}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Que(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ts(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Kue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),eue(),await this._originValidation(e);const a=Zue(e,r,i);await ede(e,a);const o=await $ue(e,a,n),l=await Hue(o);return Gue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Mf(),a=setTimeout(async()=>{await UF(e),n.onEvent(LF())},sde),o=async u=>{clearTimeout(a);const f=await UF(e);let h=null;f&&(u!=null&&u.url)&&(h=tde(f,u.url)),n.onEvent(h||LF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Mf().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const ode=ade;function LF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ti("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lde(t,e){Br(t)._logFramework(e)}var cde="@firebase/auth-compat",ude="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dde=1e3;function z0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function fde(){return z0()==="http:"||z0()==="https:"}function cz(t=Lr()){return!!((z0()==="file:"||z0()==="ionic:"||z0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function hde(){return S_()||C_()}function pde(){return oV()&&(document==null?void 0:document.documentMode)===11}function mde(t=Lr()){return/Edge\/\d+/.test(t)}function gde(t=Lr()){return pde()||mde(t)}function uz(){try{const t=self.localStorage,e=Ov();if(t)return t.setItem(e,"1"),t.removeItem(e),gde()?fy():!0}catch{return C3()&&fy()}return!1}function C3(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xC(){return(fde()||aV()||cz())&&!hde()&&uz()&&!C3()}function dz(){return cz()&&typeof document<"u"}async function yde(){return dz()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},dde);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function vde(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa={LOCAL:"local",NONE:"none",SESSION:"session"},Xg=ht,fz="persistence";function xde(t,e){if(Xg(Object.values(wa).includes(e),t,"invalid-persistence-type"),S_()){Xg(e!==wa.SESSION,t,"unsupported-persistence-type");return}if(C_()){Xg(e===wa.NONE,t,"unsupported-persistence-type");return}if(C3()){Xg(e===wa.NONE||e===wa.LOCAL&&fy(),t,"unsupported-persistence-type");return}Xg(e===wa.NONE||uz(),t,"unsupported-persistence-type")}async function DA(t){await t._initializationPromise;const e=hz(),n=hf(fz,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function bde(t,e){const n=hz();if(!n)return[];const r=hf(fz,t,e);switch(n.getItem(r)){case wa.NONE:return[hm];case wa.LOCAL:return[Oy,Rf];case wa.SESSION:return[Rf];default:return[]}}function hz(){var t;try{return((t=vde())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _de=ht;class bu{constructor(){this.browserResolver=Da(Oue),this.cordovaResolver=Da(ode),this.underlyingResolver=null,this._redirectPersistence=Rf,this._completeRedirectFn=ow,this._overrideRedirectResult=T3}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dz()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _de(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await yde();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){return t.unwrap()}function wde(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tde(t){return mz(t)}function Ede(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Cde(t,mce(t,e))}else if(n){const i=mz(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function mz(t){const{_tokenResponse:e}=t instanceof xs?t.customData:t;if(!e)return null;if(!(t instanceof xs)&&"temporaryProof"in e&&"phoneNumber"in e)return Ff.credentialFromResult(t);const n=e.providerId;if(!n||n===Kg.PASSWORD)return null;let r;switch(n){case Kg.GOOGLE:r=hl;break;case Kg.FACEBOOK:r=fl;break;case Kg.GITHUB:r=pl;break;case Kg.TWITTER:r=ml;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?pm._create(n,o):Pl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Rp(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof xs?r.credentialFromError(t):r.credentialFromResult(t)}function Qs(t,e){return e.catch(n=>{throw n instanceof xs&&Ede(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Tde(n),additionalUserInfo:pce(n),user:ic.getOrCreate(i)}})}async function AA(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Qs(t,n.confirm(r))}}class Cde{constructor(e,n){this.resolver=n,this.auth=wde(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Qs(pz(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._delegate=e,this.multiFactor=vce(e)}static getOrCreate(e){return ic.USER_MAP.has(e)||ic.USER_MAP.set(e,new ic(e)),ic.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Qs(this.auth,$$(this._delegate,e))}async linkWithPhoneNumber(e,n){return AA(this.auth,Vce(this._delegate,e,n))}async linkWithPopup(e){return Qs(this.auth,Xce(this._delegate,e,bu))}async linkWithRedirect(e){return await DA(Br(this.auth)),sue(this._delegate,e,bu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Qs(this.auth,z$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return AA(this.auth,Wce(this._delegate,e,n))}reauthenticateWithPopup(e){return Qs(this.auth,Jce(this._delegate,e,bu))}async reauthenticateWithRedirect(e){return await DA(Br(this.auth)),rue(this._delegate,e,bu)}sendEmailVerification(e){return rce(this._delegate,e)}async unlink(e){return await qle(this._delegate,e),this}updateEmail(e){return oce(this._delegate,e)}updatePassword(e){return lce(this._delegate,e)}updatePhoneNumber(e){return qce(this._delegate,e)}updateProfile(e){return ace(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return ice(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ic.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=ht;class NA{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Yg(r,"invalid-api-key",{appName:e.name}),Yg(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?bu:void 0;this._delegate=n.initialize({options:{persistence:Sde(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Poe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ic.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){ble(this._delegate,e,n)}applyActionCode(e){return Kle(this._delegate,e)}checkActionCode(e){return H$(this._delegate,e)}confirmPasswordReset(e,n){return Gle(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Qs(this._delegate,Xle(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nce(this._delegate,e)}isSignInWithEmailLink(e){return Zle(this._delegate,e)}async getRedirectResult(){Yg(xC(),this._delegate,"operation-not-supported-in-this-environment");const e=await oue(this._delegate,bu);return e?Qs(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){lde(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=jF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=jF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return Qle(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Hle(this._delegate,e,n||void 0)}async setPersistence(e){xde(this._delegate,e);let n;switch(e){case wa.SESSION:n=Rf;break;case wa.LOCAL:n=await Da(Oy)._isAvailable()?Oy:v3;break;case wa.NONE:n=hm;break;default:return ts("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Qs(this._delegate,Wle(this._delegate))}signInWithCredential(e){return Qs(this._delegate,nw(this._delegate,e))}signInWithCustomToken(e){return Qs(this._delegate,zle(this._delegate,e))}signInWithEmailAndPassword(e,n){return Qs(this._delegate,Yle(this._delegate,e,n))}signInWithEmailLink(e,n){return Qs(this._delegate,ece(this._delegate,e,n))}signInWithPhoneNumber(e,n){return AA(this._delegate,Bce(this._delegate,e,n))}async signInWithPopup(e){return Yg(xC(),this._delegate,"operation-not-supported-in-this-environment"),Qs(this._delegate,Kce(this._delegate,e,bu))}async signInWithRedirect(e){return Yg(xC(),this._delegate,"operation-not-supported-in-this-environment"),await DA(this._delegate),tue(this._delegate,e,bu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Jle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}NA.Persistence=wa;function jF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&ic.getOrCreate(a)),error:e,complete:n}}function Sde(t,e){const n=bde(t,e);if(typeof self<"u"&&!n.includes(Oy)&&n.push(Oy),typeof window<"u")for(const r of[v3,Rf])n.includes(r)||n.push(r);return n.includes(hm)||n.push(hm),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{static credential(e,n){return Ff.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Ff(pz(Er.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}S3.PHONE_SIGN_IN_METHOD=Ff.PHONE_SIGN_IN_METHOD;S3.PROVIDER_ID=Ff.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde=ht;class Ade{constructor(e,n,r=Er.app()){var i;Dde((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Lce(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nde="auth-compat";function kde(t){t.INTERNAL.registerComponent(new Bs(Nde,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new NA(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ap.EMAIL_SIGNIN,PASSWORD_RESET:ap.PASSWORD_RESET,RECOVER_EMAIL:ap.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ap.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ap.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ap.VERIFY_EMAIL}},EmailAuthProvider:cd,FacebookAuthProvider:fl,GithubAuthProvider:pl,GoogleAuthProvider:hl,OAuthProvider:Rp,SAMLAuthProvider:Db,PhoneAuthProvider:S3,PhoneMultiFactorGenerator:lz,RecaptchaVerifier:Ade,TwitterAuthProvider:ml,Auth:NA,AuthCredential:$m,Error:xs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(cde,ude)}kde(Er);var BF={};const VF="@firebase/database",WF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gz="";function yz(t){gz=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:hy(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ka(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ide(e)}}catch{}return new Pde},sf=vz("localStorage"),kA=vz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Fm("@firebase/database"),xz=(function(){let t=1;return function(){return t++}})(),bz=function(t){const e=qte(t),n=new Bte;n.update(e);const r=n.digest();return BN.encodeByteArray(r)},Lv=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Lv.apply(null,r):typeof r=="object"?e+=bi(r):e+=r,e+=" "}return e};let mf=null,qF=!0;const _z=function(t,e){gt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Mp.logLevel=pn.VERBOSE,mf=Mp.log.bind(Mp),e&&kA.set("logging_enabled",!0)):typeof t=="function"?mf=t:(mf=null,kA.remove("logging_enabled"))},ji=function(...t){if(qF===!0&&(qF=!1,mf===null&&kA.get("logging_enabled")===!0&&_z(!0)),mf){const e=Lv.apply(null,t);mf(e)}},jv=function(t){return function(...e){ji(t,...e)}},IA=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lv(...t);Mp.error(e)},Rl=function(...t){const e=`FIREBASE FATAL ERROR: ${Lv(...t)}`;throw Mp.error(e),new Error(e)},_s=function(...t){const e="FIREBASE WARNING: "+Lv(...t);Mp.warn(e)},Rde=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_s("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Fde=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hu="[MIN_NAME]",Tc="[MAX_NAME]",rh=function(t,e){if(t===e)return 0;if(t===Hu||e===Tc)return-1;if(e===Hu||t===Tc)return 1;{const n=$F(t),r=$F(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Mde=function(t,e){return t===e?0:t<e?-1:1},Qg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+bi(e))},D3=function(t){if(typeof t!="object"||t===null)return bi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=bi(e[r]),n+=":",n+=D3(t[e[r]]);return n+="}",n},wz=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function qi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Tz=function(t){gt(!lw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Ode=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ude=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Lde(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const jde=new RegExp("^-?(0*)\\d{1,10}$"),Bde=-2147483648,Vde=2147483647,$F=function(t){if(jde.test(t)){const e=Number(t);if(e>=Bde&&e<=Vde)return e}return null},Hm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _s("Exception was thrown by user callback.",n),e},Math.floor(0))}},Wde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},H0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,or(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){_s(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ji("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_s(e)}}class Op{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Op.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="5",Ez="v",Cz="s",Sz="r",Dz="f",Az=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Nz="ls",kz="p",PA="ac",Iz="websocket",Pz="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sf.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function zde(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Fz(t,e,n){gt(typeof e=="string","typeof type must == string"),gt(typeof n=="object","typeof params must == object");let r;if(e===Iz)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Pz)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zde(t)&&(n.ns=t.namespace);const i=[];return qi(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(){this.counters_={}}incrementCounter(e,n=1){ka(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _te(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={},_C={};function N3(t){const e=t.toString();return bC[e]||(bC[e]=new Hde),bC[e]}function Gde(t,e){const n=t.toString();return _C[n]||(_C[n]=e()),_C[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="start",Jde="close",Xde="pLPCommand",Yde="pRTLPCB",Mz="id",Oz="pw",Uz="ser",Qde="cb",Zde="seg",efe="ts",tfe="d",nfe="dframe",Lz=1870,jz=30,rfe=Lz-jz,ife=25e3,sfe=3e4;class _u{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jv(e),this.stats_=N3(n),this.urlFn=l=>(this.appCheckToken&&(l[PA]=this.appCheckToken),Fz(n,Pz,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Kde(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sfe)),Fde(()=>{if(this.isClosed_)return;this.scriptTagHolder=new k3((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===zF)this.id=o,this.password=l;else if(a===Jde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[zF]="t",r[Uz]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Qde]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ez]=A3,this.transportSessionId&&(r[Cz]=this.transportSessionId),this.lastSessionId&&(r[Nz]=this.lastSessionId),this.applicationId&&(r[kz]=this.applicationId),this.appCheckToken&&(r[PA]=this.appCheckToken),typeof location<"u"&&location.hostname&&Az.test(location.hostname)&&(r[Sz]=Dz);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_u.forceAllow_=!0}static forceDisallow(){_u.forceDisallow_=!0}static isAvailable(){return _u.forceAllow_?!0:!_u.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ode()&&!Ude()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=bi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=iV(n),i=wz(r,rfe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[nfe]="t",r[Mz]=e,r[Oz]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=bi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class k3{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xz(),window[Xde+this.uniqueCallbackIdentifier]=e,window[Yde+this.uniqueCallbackIdentifier]=n,this.myIFrame=k3.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){ji("frame writing exception"),o.stack&&ji(o.stack),ji(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ji("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Mz]=this.myID,e[Oz]=this.myPW,e[Uz]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jz+r.length<=Lz;){const a=this.pendingSegs.shift();r=r+"&"+Zde+i+"="+a.seg+"&"+efe+i+"="+a.ts+"&"+tfe+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ife)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ji("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const afe=16384,ofe=45e3;let Ib=null;typeof MozWebSocket<"u"?Ib=MozWebSocket:typeof WebSocket<"u"&&(Ib=WebSocket);class Qa{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jv(this.connId),this.stats_=N3(n),this.connURL=Qa.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[Ez]=A3,typeof location<"u"&&location.hostname&&Az.test(location.hostname)&&(a[Sz]=Dz),n&&(a[Cz]=n),r&&(a[Nz]=r),i&&(a[PA]=i),s&&(a[kz]=s),Fz(e,Iz,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sf.set("previous_websocket_failure",!0);try{let r;Rte(),this.mySock=new Ib(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Qa.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ib!==null&&!Qa.forceDisallow_}static previouslyFailed(){return sf.isInMemoryStorage||sf.get("previous_websocket_failure")===!0}markConnectionHealthy(){sf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=hy(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(gt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=bi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wz(n,afe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ofe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qa.responsesRequiredToBeHealthy=2;Qa.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static get ALL_TRANSPORTS(){return[_u,Qa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qa&&Qa.isAvailable();let r=n&&!Qa.previouslyFailed();if(e.webSocketOnly&&(n||_s("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qa];else{const i=this.transports_=[];for(const s of mm.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);mm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lfe=6e4,cfe=5e3,ufe=10*1024,dfe=100*1024,wC="t",HF="d",ffe="s",GF="r",hfe="e",KF="o",JF="a",XF="n",YF="p",pfe="h";class mfe{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jv("c:"+this.id+":"),this.transportManager_=new mm(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=H0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dfe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ufe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wC in e){const n=e[wC];n===JF?this.upgradeIfSecondaryHealthy_():n===GF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===KF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qg("t",e),r=Qg("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:YF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:JF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:XF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qg("t",e),r=Qg("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qg(wC,e);if(HF in e){const r=e[HF];if(n===pfe){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===XF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ffe?this.onConnectionShutdown_(r):n===GF?this.onReset_(r):n===hfe?IA("Server Error: "+r):n===KF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),A3!==r&&_s("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),H0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lfe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):H0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cfe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:YF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.allowedEvents_=e,this.listeners_={},gt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){gt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Vz{static getInstance(){return new Pb}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$N()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return gt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=32,ZF=768;class Vn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Rn(){return new Vn("")}function cn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gu(t){return t.pieces_.length-t.pieceNum_}function rr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vn(t.pieces_,e)}function I3(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gfe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Uy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Wz(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vn(e,0)}function Dr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Vn(n,0)}function un(t){return t.pieceNum_>=t.pieces_.length}function Os(t,e){const n=cn(t),r=cn(e);if(n===null)return e;if(n===r)return Os(rr(t),rr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yfe(t,e){const n=Uy(t,0),r=Uy(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=rh(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function P3(t,e){if(Gu(t)!==Gu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function eo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gu(t)>Gu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class vfe{constructor(e,n){this.errorPrefix_=n,this.parts_=Uy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=D_(this.parts_[r]);qz(this)}}function xfe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=D_(e),qz(t)}function bfe(t){const e=t.parts_.pop();t.byteLength_-=D_(e),t.parts_.length>0&&(t.byteLength_-=1)}function qz(t){if(t.byteLength_>ZF)throw new Error(t.errorPrefix_+"has a key path longer than "+ZF+" bytes ("+t.byteLength_+").");if(t.parts_.length>QF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QF+") or object contains a cycle "+Gd(t))}function Gd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3 extends Vz{static getInstance(){return new R3}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return gt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=1e3,_fe=300*1e3,e9=30*1e3,wfe=1.3,Tfe=3e4,Efe="server_kill",t9=3;class uc extends Bz{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=uc.nextPersistentConnectionId_++,this.log_=jv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zg,this.maxReconnectDelay_=_fe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");R3.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(bi(s)),gt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Zs,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),gt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),gt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;uc.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ka(e,"w")){const r=Tf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();_s(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jte(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=e9)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Lte(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),gt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):IA("Unrecognized action received from server: "+bi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){gt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Tfe&&(this.reconnectDelay_=Zg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wfe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+uc.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){gt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?ji("getToken() completed but was canceled"):(ji("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new mfe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{_s(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Efe)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&_s(f),l())}}}interrupt(e){ji("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ji("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sb(this.interruptReasons_)&&(this.reconnectDelay_=Zg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>D3(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Vn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ji("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=t9&&(this.reconnectDelay_=e9,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ji("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=t9&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+gz.replace(/\./g,"-")]=1,$N()?e["framework.cordova"]=1:S_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pb.getInstance().currentlyOnline();return sb(this.interruptReasons_)&&e}}uc.nextPersistentConnectionId_=0;uc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new mn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new mn(Hu,e),i=new mn(Hu,n);return this.compare(r,i)!==0}minPost(){return mn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx;class $z extends cw{static get __EMPTY_NODE(){return Dx}static set __EMPTY_NODE(e){Dx=e}compare(e,n){return rh(e.name,n.name)}isDefinedOn(e){throw Rm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return mn.MIN}maxPost(){return new mn(Tc,Dx)}makePost(e,n){return gt(typeof e=="string","KeyIndex indexValue must always be a string."),new mn(e,Dx)}toString(){return".key"}}const Dl=new $z;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Li{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Li.RED,this.left=i??ra.EMPTY_NODE,this.right=s??ra.EMPTY_NODE}copy(e,n,r,i,s){return new Li(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ra.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ra.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Li.RED=!0;Li.BLACK=!1;class Cfe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Li(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ra{constructor(e,n=ra.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ra(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Li.BLACK,null,null))}remove(e){return new ra(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Li.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ax(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ax(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ax(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ax(this.root_,null,this.comparator_,!0,e)}}ra.EMPTY_NODE=new Cfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sfe(t,e){return rh(t.name,e.name)}function F3(t,e){return rh(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RA;function Dfe(t){RA=t}const zz=function(t){return typeof t=="number"?"number:"+Tz(t):"string:"+t},Hz=function(t){if(t.isLeafNode()){const e=t.val();gt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ka(e,".sv"),"Priority must be a string or number.")}else gt(t===RA||t.isEmpty(),"priority of unexpected type.");gt(t===RA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n9;class Ri{static set __childrenNodeConstructor(e){n9=e}static get __childrenNodeConstructor(){return n9}constructor(e,n=Ri.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,gt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hz(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ri(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ri.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return un(e)?this:cn(e)===".priority"?this.priorityNode_:Ri.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ri.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=cn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(gt(r!==".priority"||Gu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ri.__childrenNodeConstructor.EMPTY_NODE.updateChild(rr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Tz(this.value_):e+=this.value_,this.lazyHash_=bz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ri.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ri.__childrenNodeConstructor?-1:(gt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ri.VALUE_TYPE_ORDER.indexOf(n),s=Ri.VALUE_TYPE_ORDER.indexOf(r);return gt(i>=0,"Unknown leaf type: "+n),gt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ri.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gz,Kz;function Afe(t){Gz=t}function Nfe(t){Kz=t}class kfe extends cw{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?rh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return mn.MIN}maxPost(){return new mn(Tc,new Ri("[PRIORITY-POST]",Kz))}makePost(e,n){const r=Gz(e);return new mn(n,new Ri("[PRIORITY-POST]",r))}toString(){return".priority"}}const lr=new kfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife=Math.log(2);class Pfe{constructor(e){const n=s=>parseInt(Math.log(s)/Ife,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rb=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Li(h,f.node,Li.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new Li(h,f.node,Li.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,b=f;f-=v;const x=i(y+1,b),w=t[y],C=n?n(w):w;p(new Li(C,w.node,g,null,x))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,Li.BLACK):(h(y,Li.BLACK),h(y,Li.RED))}return u},a=new Pfe(t.length),o=s(a);return new ra(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TC;const op={};class sc{static get Default(){return gt(op&&lr,"ChildrenNode.ts has not been loaded"),TC=TC||new sc({".priority":op},{".priority":lr}),TC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Tf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ra?n:null}hasIndex(e){return ka(this.indexSet_,e.toString())}addIndex(e,n){gt(e!==Dl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(mn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=Rb(r,e.getCompare()):o=op;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new sc(u,c)}addToIndexes(e,n){const r=ab(this.indexes_,(i,s)=>{const a=Tf(this.indexSet_,s);if(gt(a,"Missing index implementation for "+s),i===op)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(mn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Rb(o,a.getCompare())}else return op;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new mn(e.name,o))),l.insert(e,e.node)}});return new sc(r,this.indexSet_)}removeFromIndexes(e,n){const r=ab(this.indexes_,i=>{if(i===op)return i;{const s=n.get(e.name);return s?i.remove(new mn(e.name,s)):i}});return new sc(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0;class Xt{static get EMPTY_NODE(){return e0||(e0=new Xt(new ra(F3),null,sc.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hz(this.priorityNode_),this.children_.isEmpty()&&gt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||e0}updatePriority(e){return this.children_.isEmpty()?this:new Xt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?e0:n}}getChild(e){const n=cn(e);return n===null?this:this.getImmediateChild(n).getChild(rr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(gt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new mn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?e0:this.priorityNode_;return new Xt(i,a,s)}}updateChild(e,n){const r=cn(e);if(r===null)return n;{gt(cn(e)!==".priority"||Gu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(rr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(lr,(a,o)=>{n[a]=o.val(e),r++,s&&Xt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zz(this.getPriority().val())+":"),this.forEachChild(lr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":bz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new mn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new mn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new mn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,mn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,mn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bv?-1:0}withIndex(e){if(e===Dl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Xt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Dl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(lr),i=n.getIterator(lr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Dl?null:this.indexMap_.get(e.toString())}}Xt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Rfe extends Xt{constructor(){super(new ra(F3),Xt.EMPTY_NODE,sc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xt.EMPTY_NODE}isEmpty(){return!1}}const Bv=new Rfe;Object.defineProperties(mn,{MIN:{value:new mn(Hu,Xt.EMPTY_NODE)},MAX:{value:new mn(Tc,Bv)}});$z.__EMPTY_NODE=Xt.EMPTY_NODE;Ri.__childrenNodeConstructor=Xt;Dfe(Bv);Nfe(Bv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ffe=!0;function Rr(t,e=null){if(t===null)return Xt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),gt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ri(n,Rr(e))}if(!(t instanceof Array)&&Ffe){const n=[];let r=!1;if(qi(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Rr(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new mn(a,l)))}}),n.length===0)return Xt.EMPTY_NODE;const s=Rb(n,Sfe,a=>a.name,F3);if(r){const a=Rb(n,lr.getCompare());return new Xt(s,Rr(e),new sc({".priority":a},{".priority":lr}))}else return new Xt(s,Rr(e),sc.Default)}else{let n=Xt.EMPTY_NODE;return qi(t,(r,i)=>{if(ka(t,r)&&r.substring(0,1)!=="."){const s=Rr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Rr(e))}}Afe(Rr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3 extends cw{constructor(e){super(),this.indexPath_=e,gt(!un(e)&&cn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?rh(e.name,n.name):s}makePost(e,n){const r=Rr(e),i=Xt.EMPTY_NODE.updateChild(this.indexPath_,r);return new mn(n,i)}maxPost(){const e=Xt.EMPTY_NODE.updateChild(this.indexPath_,Bv);return new mn(Tc,e)}toString(){return Uy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe extends cw{compare(e,n){const r=e.node.compareTo(n.node);return r===0?rh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return mn.MIN}maxPost(){return mn.MAX}makePost(e,n){const r=Rr(e);return new mn(n,r)}toString(){return".value"}}const O3=new Mfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){return{type:"value",snapshotNode:t}}function gm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ly(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function jy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ofe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){gt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Ly(n,o)):gt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(gm(n,r)):a.trackChildChange(jy(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(lr,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ly(i,s))}),n.isLeafNode()||n.forEachChild(lr,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(jy(i,s,a))}else r.trackChildChange(gm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Xt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.indexedFilter_=new U3(e.getIndex()),this.index_=e.getIndex(),this.startPost_=By.getStartPost_(e),this.endPost_=By.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new mn(n,r))||(r=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Xt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Xt.EMPTY_NODE);const s=this;return n.forEachChild(lr,(a,o)=>{s.matches(new mn(a,o))||(i=i.updateImmediateChild(a,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new By(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new mn(n,r))||(r=Xt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Xt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Xt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Xt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,Xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;gt(o.numChildren()===this.limit_,"");const l=new mn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(jy(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ly(n,f));const g=o.updateImmediateChild(n,Xt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(gm(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Ly(c.name,c.node)),s.trackChildChange(gm(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,Xt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return gt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return gt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hu}hasEnd(){return this.endSet_}getIndexEndValue(){return gt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return gt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return gt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lr}copy(){const e=new uw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Lfe(t){return t.loadsAllData()?new U3(t.getIndex()):t.hasLimit()?new Ufe(t):new By(t)}function jfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Bfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function FA(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Vfe(t,e,n){let r;return t.index_===Dl||n?r=FA(t,e,n):r=FA(t,e,Tc),r.startAfterSet_=!0,r}function MA(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Wfe(t,e,n){let r;return t.index_===Dl||n?r=MA(t,e,n):r=MA(t,e,Hu),r.endBeforeSet_=!0,r}function dw(t,e){const n=t.copy();return n.index_=e,n}function r9(t){const e={};if(t.isDefault())return e;let n;if(t.index_===lr?n="$priority":t.index_===O3?n="$value":t.index_===Dl?n="$key":(gt(t.index_ instanceof M3,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=bi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=bi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+bi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=bi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+bi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function i9(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==lr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Bz{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(gt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jv("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Fb.getListenId_(e,r),o={};this.listens_[a]=o;const l=r9(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Tf(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Fb.getListenId_(e,n);delete this.listens_[r]}get(e){const n=r9(e._queryParams),r=e._path.toString(),i=new Zs;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yf(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=hy(o.responseText)}catch{_s("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&_s("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return{value:null,children:new Map}}function Gm(t,e,n){if(un(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=cn(e);t.children.has(r)||t.children.set(r,Mb());const i=t.children.get(r);e=rr(e),Gm(i,e,n)}}function OA(t,e){if(un(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(lr,(r,i)=>{Gm(t,new Vn(r),i)}),OA(t,e)}}else if(t.children.size>0){const n=cn(e);return e=rr(e),t.children.has(n)&&OA(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function UA(t,e,n){t.value!==null?n(e,t.value):$fe(t,(r,i)=>{const s=new Vn(e.toString()+"/"+r);UA(i,s,n)})}function $fe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&qi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=10*1e3,Hfe=30*1e3,Gfe=300*1e3;class Kfe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zfe(e);const r=s9+(Hfe-s9)*Math.random();H0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qi(e,(i,s)=>{s>0&&ka(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),H0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Gfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Fo||(Fo={}));function L3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function j3(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function B3(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Fo.ACK_USER_WRITE,this.source=L3()}operationForChild(e){if(un(this.path)){if(this.affectedTree.value!=null)return gt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vn(e));return new Ob(Rn(),n,this.revert)}}else return gt(cn(this.path)===e,"operationForChild called for unrelated child."),new Ob(rr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.source=e,this.path=n,this.type=Fo.LISTEN_COMPLETE}operationForChild(e){return un(this.path)?new Vy(this.source,Rn()):new Vy(this.source,rr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Fo.OVERWRITE}operationForChild(e){return un(this.path)?new Of(this.source,Rn(),this.snap.getImmediateChild(e)):new Of(this.source,rr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Fo.MERGE}operationForChild(e){if(un(this.path)){const n=this.children.subtree(new Vn(e));return n.isEmpty()?null:n.value?new Of(this.source,Rn(),n.value):new ym(this.source,Rn(),n)}else return gt(cn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ym(this.source,rr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(un(e))return this.isFullyInitialized()&&!this.filtered_;const n=cn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Xfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Ofe(a.childName,a.snapshotNode))}),t0(t,i,"child_removed",e,r,n),t0(t,i,"child_added",e,r,n),t0(t,i,"child_moved",s,r,n),t0(t,i,"child_changed",e,r,n),t0(t,i,"value",e,r,n),i}function t0(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>Qfe(t,o,l)),a.forEach(o=>{const l=Yfe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function Yfe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Qfe(t,e,n){if(e.childName==null||n.childName==null)throw Rm("Should only compare child_ events.");const r=new mn(e.childName,e.snapshotNode),i=new mn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){return{eventCache:t,serverCache:e}}function G0(t,e,n,r){return fw(new Ku(e,n,r),t.serverCache)}function Xz(t,e,n,r){return fw(t.eventCache,new Ku(e,n,r))}function Ub(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Uf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EC;const Zfe=()=>(EC||(EC=new ra(Mde)),EC);class ar{static fromObject(e){let n=new ar(null);return qi(e,(r,i)=>{n=n.set(new Vn(r),i)}),n}constructor(e,n=Zfe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Rn(),value:this.value};if(un(e))return null;{const r=cn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(rr(e),n);return s!=null?{path:Dr(new Vn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(un(e))return this;{const n=cn(e),r=this.children.get(n);return r!==null?r.subtree(rr(e)):new ar(null)}}set(e,n){if(un(e))return new ar(n,this.children);{const r=cn(e),s=(this.children.get(r)||new ar(null)).set(rr(e),n),a=this.children.insert(r,s);return new ar(this.value,a)}}remove(e){if(un(e))return this.children.isEmpty()?new ar(null):new ar(null,this.children);{const n=cn(e),r=this.children.get(n);if(r){const i=r.remove(rr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ar(null):new ar(this.value,s)}else return this}}get(e){if(un(e))return this.value;{const n=cn(e),r=this.children.get(n);return r?r.get(rr(e)):null}}setTree(e,n){if(un(e))return n;{const r=cn(e),s=(this.children.get(r)||new ar(null)).setTree(rr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new ar(this.value,a)}}fold(e){return this.fold_(Rn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Dr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Rn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(un(e))return null;{const s=cn(e),a=this.children.get(s);return a?a.findOnPath_(rr(e),Dr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Rn(),n)}foreachOnPath_(e,n,r){if(un(e))return this;{this.value&&r(n,this.value);const i=cn(e),s=this.children.get(i);return s?s.foreachOnPath_(rr(e),Dr(n,i),r):new ar(null)}}foreach(e){this.foreach_(Rn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Dr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.writeTree_=e}static empty(){return new jo(new ar(null))}}function K0(t,e,n){if(un(e))return new jo(new ar(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Os(i,e);return s=s.updateChild(a,n),new jo(t.writeTree_.set(i,s))}else{const i=new ar(n),s=t.writeTree_.setTree(e,i);return new jo(s)}}}function LA(t,e,n){let r=t;return qi(n,(i,s)=>{r=K0(r,Dr(e,i),s)}),r}function a9(t,e){if(un(e))return jo.empty();{const n=t.writeTree_.setTree(e,new ar(null));return new jo(n)}}function jA(t,e){return ih(t,e)!=null}function ih(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Os(n.path,e)):null}function o9(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lr,(r,i)=>{e.push(new mn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new mn(r,i.value))}),e}function Pu(t,e){if(un(e))return t;{const n=ih(t,e);return n!=null?new jo(new ar(n)):new jo(t.writeTree_.subtree(e))}}function BA(t){return t.writeTree_.isEmpty()}function vm(t,e){return Yz(Rn(),t.writeTree_,e)}function Yz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(gt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Yz(Dr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Dr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){return tH(e,t)}function ehe(t,e,n,r,i){gt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=K0(t.visibleWrites,e,n)),t.lastWriteId=r}function the(t,e,n,r){gt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=LA(t.visibleWrites,e,n),t.lastWriteId=r}function nhe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function rhe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);gt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&ihe(o,r.path)?i=!1:eo(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return she(t),!0;if(r.snap)t.visibleWrites=a9(t.visibleWrites,r.path);else{const o=r.children;qi(o,l=>{t.visibleWrites=a9(t.visibleWrites,Dr(r.path,l))})}return!0}else return!1}function ihe(t,e){if(t.snap)return eo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&eo(Dr(t.path,n),e))return!0;return!1}function she(t){t.visibleWrites=Qz(t.allWrites,ahe,Rn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ahe(t){return t.visible}function Qz(t,e,n){let r=jo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)eo(n,a)?(o=Os(n,a),r=K0(r,o,s.snap)):eo(a,n)&&(o=Os(a,n),r=K0(r,Rn(),s.snap.getChild(o)));else if(s.children){if(eo(n,a))o=Os(n,a),r=LA(r,o,s.children);else if(eo(a,n))if(o=Os(a,n),un(o))r=LA(r,Rn(),s.children);else{const l=Tf(s.children,cn(o));if(l){const c=l.getChild(rr(o));r=K0(r,Rn(),c)}}}else throw Rm("WriteRecord should have .snap or .children")}}return r}function Zz(t,e,n,r,i){if(!r&&!i){const s=ih(t.visibleWrites,e);if(s!=null)return s;{const a=Pu(t.visibleWrites,e);if(BA(a))return n;if(n==null&&!jA(a,Rn()))return null;{const o=n||Xt.EMPTY_NODE;return vm(a,o)}}}else{const s=Pu(t.visibleWrites,e);if(!i&&BA(s))return n;if(!i&&n==null&&!jA(s,Rn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(eo(c.path,e)||eo(e,c.path))},o=Qz(t.allWrites,a,e),l=n||Xt.EMPTY_NODE;return vm(o,l)}}}function ohe(t,e,n){let r=Xt.EMPTY_NODE;const i=ih(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(lr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Pu(t.visibleWrites,e);return n.forEachChild(lr,(a,o)=>{const l=vm(Pu(s,new Vn(a)),o);r=r.updateImmediateChild(a,l)}),o9(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Pu(t.visibleWrites,e);return o9(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function lhe(t,e,n,r,i){gt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Dr(e,n);if(jA(t.visibleWrites,s))return null;{const a=Pu(t.visibleWrites,s);return BA(a)?i.getChild(n):vm(a,i.getChild(n))}}function che(t,e,n,r){const i=Dr(e,n),s=ih(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Pu(t.visibleWrites,i);return vm(a,r.getNode().getImmediateChild(n))}else return null}function uhe(t,e){return ih(t.visibleWrites,e)}function dhe(t,e,n,r,i,s,a){let o;const l=Pu(t.visibleWrites,e),c=ih(l,Rn());if(c!=null)o=c;else if(n!=null)o=vm(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function fhe(){return{visibleWrites:jo.empty(),allWrites:[],lastWriteId:-1}}function Lb(t,e,n,r){return Zz(t.writeTree,t.treePath,e,n,r)}function V3(t,e){return ohe(t.writeTree,t.treePath,e)}function l9(t,e,n,r){return lhe(t.writeTree,t.treePath,e,n,r)}function jb(t,e){return uhe(t.writeTree,Dr(t.treePath,e))}function hhe(t,e,n,r,i,s){return dhe(t.writeTree,t.treePath,e,n,r,i,s)}function W3(t,e,n){return che(t.writeTree,t.treePath,e,n)}function eH(t,e){return tH(Dr(t.treePath,e),t.writeTree)}function tH(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;gt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),gt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,jy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ly(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,jy(r,e.snapshotNode,i.oldSnap));else throw Rm("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const nH=new mhe;class q3{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ku(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W3(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Uf(this.viewCache_),s=hhe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ghe(t){return{filter:t}}function yhe(t,e){gt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),gt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function vhe(t,e,n,r,i){const s=new phe;let a,o;if(n.type===Fo.OVERWRITE){const c=n;c.source.fromUser?a=VA(t,e,c.path,c.snap,r,i,s):(gt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!un(c.path),a=Bb(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===Fo.MERGE){const c=n;c.source.fromUser?a=bhe(t,e,c.path,c.children,r,i,s):(gt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=WA(t,e,c.path,c.children,r,i,o,s))}else if(n.type===Fo.ACK_USER_WRITE){const c=n;c.revert?a=The(t,e,c.path,r,i,s):a=_he(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Fo.LISTEN_COMPLETE)a=whe(t,e,n.path,r,s);else throw Rm("Unknown operation type: "+n.type);const l=s.getChanges();return xhe(e,a,l),{viewCache:a,changes:l}}function xhe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ub(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Jz(Ub(e)))}}function rH(t,e,n,r,i,s){const a=e.eventCache;if(jb(r,n)!=null)return e;{let o,l;if(un(n))if(gt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Uf(e),u=c instanceof Xt?c:Xt.EMPTY_NODE,f=V3(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Lb(r,Uf(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=cn(n);if(c===".priority"){gt(Gu(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=l9(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=rr(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=l9(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=W3(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return G0(e,o,a.isFullyInitialized()||un(n),t.filter.filtersNodes())}}function Bb(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(un(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=cn(n);if(!l.isCompleteForPath(n)&&Gu(n)>1)return e;const v=rr(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,nH,null)}const f=Xz(e,c,l.isFullyInitialized()||un(n),u.filtersNodes()),h=new q3(i,f,s);return rH(t,f,n,i,h,o)}function VA(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new q3(i,e,s);if(un(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=G0(e,c,!0,t.filter.filtersNodes());else{const f=cn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=G0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=rr(n),p=o.getNode().getImmediateChild(f);let v;if(un(h))v=r;else{const g=u.getCompleteChild(f);g!=null?I3(h)===".priority"&&g.getChild(Wz(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=Xt.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=G0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function c9(t,e){return t.eventCache.isCompleteForChild(e)}function bhe(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=Dr(n,l);c9(e,cn(u))&&(o=VA(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=Dr(n,l);c9(e,cn(u))||(o=VA(t,o,u,c,i,s,a))}),o}function u9(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function WA(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;un(n)?c=r:c=new ar(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=u9(t,p,h);l=Bb(t,l,new Vn(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=u9(t,v,h);l=Bb(t,l,new Vn(f),g,i,s,a,o)}}),l}function _he(t,e,n,r,i,s,a){if(jb(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(un(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bb(t,e,n,l.getNode().getChild(n),i,s,o,a);if(un(n)){let c=new ar(null);return l.getNode().forEachChild(Dl,(u,f)=>{c=c.set(new Vn(u),f)}),WA(t,e,n,c,i,s,o,a)}else return e}else{let c=new ar(null);return r.foreach((u,f)=>{const h=Dr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),WA(t,e,n,c,i,s,o,a)}}function whe(t,e,n,r,i){const s=e.serverCache,a=Xz(e,s.getNode(),s.isFullyInitialized()||un(n),s.isFiltered());return rH(t,a,n,r,nH,i)}function The(t,e,n,r,i,s){let a;if(jb(r,n)!=null)return e;{const o=new q3(r,e,i),l=e.eventCache.getNode();let c;if(un(n)||cn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Lb(r,Uf(e));else{const f=e.serverCache.getNode();gt(f instanceof Xt,"serverChildren would be complete if leaf node"),u=V3(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=cn(n);let f=W3(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,rr(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Xt.EMPTY_NODE,rr(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Lb(r,Uf(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||jb(r,Rn())!=null,G0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new U3(r.getIndex()),s=Lfe(r);this.processor_=ghe(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(Xt.EMPTY_NODE,o.getNode(),null),u=new Ku(l,a.isFullyInitialized(),i.filtersNodes()),f=new Ku(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=fw(f,u),this.eventGenerator_=new Jfe(this.query_)}get query(){return this.query_}}function Che(t){return t.viewCache_.serverCache.getNode()}function She(t){return Ub(t.viewCache_)}function Dhe(t,e){const n=Uf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!un(e)&&!n.getImmediateChild(cn(e)).isEmpty())?n.getChild(e):null}function d9(t){return t.eventRegistrations_.length===0}function Ahe(t,e){t.eventRegistrations_.push(e)}function f9(t,e,n){const r=[];if(n){gt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function h9(t,e,n,r){e.type===Fo.MERGE&&e.source.queryId!==null&&(gt(Uf(t.viewCache_),"We should always have a full cache before handling merges"),gt(Ub(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=vhe(t.processor_,i,e,n,r);return yhe(t.processor_,s.viewCache),gt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,iH(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Nhe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(lr,(s,a)=>{r.push(gm(s,a))}),n.isFullyInitialized()&&r.push(Jz(n.getNode())),iH(t,r,n.getNode(),e)}function iH(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Xfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb;class sH{constructor(){this.views=new Map}}function khe(t){gt(!Vb,"__referenceConstructor has already been defined"),Vb=t}function Ihe(){return gt(Vb,"Reference.ts has not been loaded"),Vb}function Phe(t){return t.views.size===0}function $3(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return gt(s!=null,"SyncTree gave us an op for an invalid query."),h9(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(h9(a,e,n,r));return s}}function aH(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=Lb(n,i?r:null),l=!1;o?l=!0:r instanceof Xt?(o=V3(n,r),l=!1):(o=Xt.EMPTY_NODE,l=!1);const c=fw(new Ku(o,l,!1),new Ku(r,i,!1));return new Ehe(e,c)}return a}function Rhe(t,e,n,r,i,s){const a=aH(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Ahe(a,n),Nhe(a,n)}function Fhe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=Ju(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(f9(c,n,r)),d9(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(f9(l,n,r)),d9(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Ju(t)&&s.push(new(Ihe())(e._repo,e._path)),{removed:s,events:a}}function oH(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ru(t,e){let n=null;for(const r of t.views.values())n=n||Dhe(r,e);return n}function lH(t,e){if(e._queryParams.loadsAllData())return pw(t);{const r=e._queryIdentifier;return t.views.get(r)}}function cH(t,e){return lH(t,e)!=null}function Ju(t){return pw(t)!=null}function pw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb;function Mhe(t){gt(!Wb,"__referenceConstructor has already been defined"),Wb=t}function Ohe(){return gt(Wb,"Reference.ts has not been loaded"),Wb}let Uhe=1;class p9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ar(null),this.pendingWriteTree_=fhe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function z3(t,e,n,r,i){return ehe(t.pendingWriteTree_,e,n,r,i),i?Km(t,new Of(L3(),e,n)):[]}function Lhe(t,e,n,r){the(t.pendingWriteTree_,e,n,r);const i=ar.fromObject(n);return Km(t,new ym(L3(),e,i))}function wu(t,e,n=!1){const r=nhe(t.pendingWriteTree_,e);if(rhe(t.pendingWriteTree_,e)){let s=new ar(null);return r.snap!=null?s=s.set(Rn(),!0):qi(r.children,a=>{s=s.set(new Vn(a),!0)}),Km(t,new Ob(r.path,s,n))}else return[]}function Vv(t,e,n){return Km(t,new Of(j3(),e,n))}function jhe(t,e,n){const r=ar.fromObject(n);return Km(t,new ym(j3(),e,r))}function Bhe(t,e){return Km(t,new Vy(j3(),e))}function Vhe(t,e,n){const r=H3(t,n);if(r){const i=G3(r),s=i.path,a=i.queryId,o=Os(s,e),l=new Vy(B3(a),o);return K3(t,s,l)}else return[]}function qb(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||cH(a,e))){const l=Fhe(a,e,n,r);Phe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>Ju(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=$he(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,b=hH(t,g);t.listenProvider_.startListening(J0(y),Wy(t,y),b.hashFn,b.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(J0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(gw(h));t.listenProvider_.stopListening(J0(h),p)}))}zhe(t,c)}return o}function uH(t,e,n,r){const i=H3(t,r);if(i!=null){const s=G3(i),a=s.path,o=s.queryId,l=Os(a,e),c=new Of(B3(o),l,n);return K3(t,a,c)}else return[]}function Whe(t,e,n,r){const i=H3(t,r);if(i){const s=G3(i),a=s.path,o=s.queryId,l=Os(a,e),c=ar.fromObject(n),u=new ym(B3(o),l,c);return K3(t,a,u)}else return[]}function qA(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=Os(h,i);s=s||Ru(p,v),a=a||Ju(p)});let o=t.syncPointTree_.get(i);o?(a=a||Ju(o),s=s||Ru(o,Rn())):(o=new sH,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=Xt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=Ru(v,Rn());g&&(s=s.updateImmediateChild(p,g))}));const c=cH(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=gw(e);gt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Hhe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=hw(t.pendingWriteTree_,i);let f=Rhe(o,e,n,u,s,l);if(!c&&!a&&!r){const h=lH(o,e);f=f.concat(Ghe(t,e,h))}return f}function mw(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Os(a,e),c=Ru(o,l);if(c)return c});return Zz(i,e,s,n,!0)}function qhe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Os(c,n);r=r||Ru(u,f)});let i=t.syncPointTree_.get(n);i?r=r||Ru(i,Rn()):(i=new sH,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Ku(r,!0,!1):null,o=hw(t.pendingWriteTree_,e._path),l=aH(i,e,o,s?a.getNode():Xt.EMPTY_NODE,s);return She(l)}function Km(t,e){return dH(e,t.syncPointTree_,null,hw(t.pendingWriteTree_,Rn()))}function dH(t,e,n,r){if(un(t.path))return fH(t,e,n,r);{const i=e.get(Rn());n==null&&i!=null&&(n=Ru(i,Rn()));let s=[];const a=cn(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=eH(r,a);s=s.concat(dH(o,l,c,u))}return i&&(s=s.concat($3(i,t,r,n))),s}}function fH(t,e,n,r){const i=e.get(Rn());n==null&&i!=null&&(n=Ru(i,Rn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=eH(r,a),u=t.operationForChild(a);u&&(s=s.concat(fH(u,o,l,c)))}),i&&(s=s.concat($3(i,t,r,n))),s}function hH(t,e){const n=e.query,r=Wy(t,n);return{hashFn:()=>(Che(e)||Xt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Vhe(t,n._path,r):Bhe(t,n._path);{const s=Lde(i,n);return qb(t,n,null,s)}}}}function Wy(t,e){const n=gw(e);return t.queryToTagMap.get(n)}function gw(t){return t._path.toString()+"$"+t._queryIdentifier}function H3(t,e){return t.tagToQueryMap.get(e)}function G3(t){const e=t.indexOf("$");return gt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vn(t.substr(0,e))}}function K3(t,e,n){const r=t.syncPointTree_.get(e);gt(r,"Missing sync point for query tag that we're tracking");const i=hw(t.pendingWriteTree_,e);return $3(r,n,i,null)}function $he(t){return t.fold((e,n,r)=>{if(n&&Ju(n))return[pw(n)];{let i=[];return n&&(i=oH(n)),qi(r,(s,a)=>{i=i.concat(a)}),i}})}function J0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ohe())(t._repo,t._path):t}function zhe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=gw(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Hhe(){return Uhe++}function Ghe(t,e,n){const r=e._path,i=Wy(t,e),s=hH(t,n),a=t.listenProvider_.startListening(J0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)gt(!Ju(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!un(c)&&u&&Ju(u))return[pw(u).query];{let h=[];return u&&(h=h.concat(oH(u).map(p=>p.query))),qi(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(J0(u),Wy(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new J3(n)}node(){return this.node_}}class X3{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Dr(this.path_,e);return new X3(this.syncTree_,n)}node(){return mw(this.syncTree_,this.path_)}}const Khe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},m9=function(t,e,n){if(!t||typeof t!="object")return t;if(gt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Jhe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Xhe(t[".sv"],e);gt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Jhe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:gt(!1,"Unexpected server value: "+t)}},Xhe=function(t,e,n){t.hasOwnProperty("increment")||gt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&gt(!1,"Unexpected increment value: "+r);const i=e.node();if(gt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},pH=function(t,e,n,r){return Q3(e,new X3(n,t),r)},Y3=function(t,e,n){return Q3(t,new J3(e),n)};function Q3(t,e,n){const r=t.getPriority().val(),i=m9(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=m9(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Ri(o,Rr(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ri(i))),a.forEachChild(lr,(o,l)=>{const c=Q3(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function yw(t,e){let n=e instanceof Vn?e:new Vn(e),r=t,i=cn(n);for(;i!==null;){const s=Tf(r.node.children,i)||{children:{},childCount:0};r=new Z3(i,r,s),n=rr(n),i=cn(n)}return r}function sh(t){return t.node.value}function eI(t,e){t.node.value=e,$A(t)}function mH(t){return t.node.childCount>0}function Yhe(t){return sh(t)===void 0&&!mH(t)}function vw(t,e){qi(t.node.children,(n,r)=>{e(new Z3(n,t,r))})}function gH(t,e,n,r){n&&e(t),vw(t,i=>{gH(i,e,!0)})}function Qhe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wv(t){return new Vn(t.parent===null?t.name:Wv(t.parent)+"/"+t.name)}function $A(t){t.parent!==null&&Zhe(t.parent,t.name,t)}function Zhe(t,e,n){const r=Yhe(n),i=ka(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,$A(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,$A(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const epe=/[\[\].#$\/\u0000-\u001F\u007F]/,tpe=/[\[\].#$\u0000-\u001F\u007F]/,CC=10*1024*1024,xw=function(t){return typeof t=="string"&&t.length!==0&&!epe.test(t)},yH=function(t){return typeof t=="string"&&t.length!==0&&!tpe.test(t)},npe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yH(t)},qy=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!lw(t)||t&&typeof t=="object"&&ka(t,".sv")},Fl=function(t,e,n,r){r&&e===void 0||qv(ia(t,"value"),e,n)},qv=function(t,e,n){const r=n instanceof Vn?new vfe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Gd(r));if(typeof e=="function")throw new Error(t+"contains a function "+Gd(r)+" with contents = "+e.toString());if(lw(e))throw new Error(t+"contains "+e.toString()+" "+Gd(r));if(typeof e=="string"&&e.length>CC/3&&D_(e)>CC)throw new Error(t+"contains a string greater than "+CC+" utf8 bytes "+Gd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(qi(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!xw(a)))throw new Error(t+" contains an invalid key ("+a+") "+Gd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xfe(r,a),qv(t,o,r),bfe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Gd(r)+" in addition to actual children.")}},rpe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Uy(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!xw(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(yfe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&eo(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},vH=function(t,e,n,r){const i=ia(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];qi(e,(a,o)=>{const l=new Vn(a);if(qv(i,o,Dr(n,l)),I3(l)===".priority"&&!qy(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),rpe(i,s)},tI=function(t,e,n){if(lw(e))throw new Error(ia(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qy(e))throw new Error(ia(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},$v=function(t,e,n,r){if(n!==void 0&&!xw(n))throw new Error(ia(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},$y=function(t,e,n,r){if(!yH(n))throw new Error(ia(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ipe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$y(t,e,n)},to=function(t,e){if(cn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},xH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!npe(n))throw new Error(ia(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!P3(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function bH(t,e,n){bw(t,n),_H(t,r=>P3(r,e))}function Pa(t,e,n){bw(t,n),_H(t,r=>eo(r,e)||eo(e,r))}function _H(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(ape(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ape(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();mf&&ji("event: "+n.toString()),Hm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="repo_interrupt",ope=25;class lpe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new spe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mb(),this.transactionQueueTree_=new Z3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cpe(t,e,n){if(t.stats_=N3(t.repoInfo_),t.forceRestClient_||Wde())t.server_=new Fb(t.repoInfo_,(r,i,s,a)=>{g9(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>y9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new uc(t.repoInfo_,e,(r,i,s,a)=>{g9(t,r,i,s,a)},r=>{y9(t,r)},r=>{upe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Gde(t.repoInfo_,()=>new Kfe(t.stats_,t.server_)),t.infoData_=new qfe,t.infoSyncTree_=new p9({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=Vv(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),nI(t,"connected",!1),t.serverSyncTree_=new p9({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Pa(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function TH(t){const n=t.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zv(t){return Khe({timestamp:TH(t)})}function g9(t,e,n,r,i){t.dataUpdateCount++;const s=new Vn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=ab(n,c=>Rr(c));a=Whe(t.serverSyncTree_,s,l,i)}else{const l=Rr(n);a=uH(t.serverSyncTree_,s,l,i)}else if(r){const l=ab(n,c=>Rr(c));a=jhe(t.serverSyncTree_,s,l)}else{const l=Rr(n);a=Vv(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=xm(t,s)),Pa(t.eventQueue_,o,a)}function y9(t,e){nI(t,"connected",e),e===!1&&hpe(t)}function upe(t,e){qi(e,(n,r)=>{nI(t,n,r)})}function nI(t,e,n){const r=new Vn("/.info/"+e),i=Rr(n);t.infoData_.updateSnapshot(r,i);const s=Vv(t.infoSyncTree_,r,i);Pa(t.eventQueue_,r,s)}function _w(t){return t.nextWriteId_++}function dpe(t,e,n){const r=qhe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Rr(i).withIndex(e._queryParams.getIndex());qA(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Vv(t.serverSyncTree_,e._path,s);else{const o=Wy(t.serverSyncTree_,e);a=uH(t.serverSyncTree_,e._path,s,o)}return Pa(t.eventQueue_,e._path,a),qb(t.serverSyncTree_,e,n,null,!0),s},i=>(Jm(t,"get for query "+bi(e)+" failed: "+i),Promise.reject(new Error(i))))}function rI(t,e,n,r,i){Jm(t,"set",{path:e.toString(),value:n,priority:r});const s=zv(t),a=Rr(n,r),o=mw(t.serverSyncTree_,e),l=Y3(a,o,s),c=_w(t),u=z3(t.serverSyncTree_,e,l,c,!0);bw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||_s("set at "+e+" failed: "+h);const g=wu(t.serverSyncTree_,c,!v);Pa(t.eventQueue_,e,g),Xu(t,i,h,p)});const f=sI(t,e);xm(t,f),Pa(t.eventQueue_,f,[])}function fpe(t,e,n,r){Jm(t,"update",{path:e.toString(),value:n});let i=!0;const s=zv(t),a={};if(qi(n,(o,l)=>{i=!1,a[o]=pH(Dr(e,o),Rr(l),t.serverSyncTree_,s)}),i)ji("update() called with empty data.  Don't do anything."),Xu(t,r,"ok",void 0);else{const o=_w(t),l=Lhe(t.serverSyncTree_,e,a,o);bw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||_s("update at "+e+" failed: "+c);const h=wu(t.serverSyncTree_,o,!f),p=h.length>0?xm(t,e):e;Pa(t.eventQueue_,p,h),Xu(t,r,c,u)}),qi(n,c=>{const u=sI(t,Dr(e,c));xm(t,u)}),Pa(t.eventQueue_,e,[])}}function hpe(t){Jm(t,"onDisconnectEvents");const e=zv(t),n=Mb();UA(t.onDisconnect_,Rn(),(i,s)=>{const a=pH(i,s,t.serverSyncTree_,e);Gm(n,i,a)});let r=[];UA(n,Rn(),(i,s)=>{r=r.concat(Vv(t.serverSyncTree_,i,s));const a=sI(t,i);xm(t,a)}),t.onDisconnect_=Mb(),Pa(t.eventQueue_,Rn(),r)}function ppe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&OA(t.onDisconnect_,e),Xu(t,n,r,i)})}function v9(t,e,n,r){const i=Rr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Gm(t.onDisconnect_,e,i),Xu(t,r,s,a)})}function mpe(t,e,n,r,i){const s=Rr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Gm(t.onDisconnect_,e,s),Xu(t,i,a,o)})}function gpe(t,e,n,r){if(sb(n)){ji("onDisconnect().update() called with empty data.  Don't do anything."),Xu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&qi(n,(a,o)=>{const l=Rr(o);Gm(t.onDisconnect_,Dr(e,a),l)}),Xu(t,r,i,s)})}function ype(t,e,n){let r;cn(e._path)===".info"?r=qA(t.infoSyncTree_,e,n):r=qA(t.serverSyncTree_,e,n),bH(t.eventQueue_,e._path,r)}function zA(t,e,n){let r;cn(e._path)===".info"?r=qb(t.infoSyncTree_,e,n):r=qb(t.serverSyncTree_,e,n),bH(t.eventQueue_,e._path,r)}function EH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wH)}function vpe(t){t.persistentConnection_&&t.persistentConnection_.resume(wH)}function Jm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ji(n,...e)}function Xu(t,e,n,r){e&&Hm(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function xpe(t,e,n,r,i,s){Jm(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:xz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=iI(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{qv("transaction failed: Data returned ",l,a.path),a.status=0;const c=yw(t.transactionQueueTree_,e),u=sh(c)||[];u.push(a),eI(c,u);let f;typeof l=="object"&&l!==null&&ka(l,".priority")?(f=Tf(l,".priority"),gt(qy(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(mw(t.serverSyncTree_,e)||Xt.EMPTY_NODE).getPriority().val();const h=zv(t),p=Rr(l,f),v=Y3(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=_w(t);const g=z3(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Pa(t.eventQueue_,e,g),ww(t,t.transactionQueueTree_)}}function iI(t,e,n){return mw(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function ww(t,e=t.transactionQueueTree_){if(e||Tw(t,e),sh(e)){const n=SH(t,e);gt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&bpe(t,Wv(e),n)}else mH(e)&&vw(e,n=>{ww(t,n)})}function bpe(t,e,n){const r=n.map(c=>c.currentWriteId),i=iI(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];gt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Os(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{Jm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(wu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Tw(t,yw(t.transactionQueueTree_,e)),ww(t,t.transactionQueueTree_),Pa(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Hm(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{_s("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}xm(t,e)}},a)}function xm(t,e){const n=CH(t,e),r=Wv(n),i=SH(t,n);return _pe(t,i,r),r}function _pe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Os(n,l.path);let u=!1,f;if(gt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(wu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ope)u=!0,f="maxretry",i=i.concat(wu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=iI(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){qv("transaction failed: Data returned ",p,l.path);let v=Rr(p);typeof p=="object"&&p!=null&&ka(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,b=zv(t),x=Y3(v,h,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=x,l.currentWriteId=_w(t),a.splice(a.indexOf(y),1),i=i.concat(z3(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(wu(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(wu(t.serverSyncTree_,l.currentWriteId,!0))}Pa(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}Tw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)Hm(r[o]);ww(t,t.transactionQueueTree_)}function CH(t,e){let n,r=t.transactionQueueTree_;for(n=cn(e);n!==null&&sh(r)===void 0;)r=yw(r,n),e=rr(e),n=cn(e);return r}function SH(t,e){const n=[];return DH(t,e,n),n.sort((r,i)=>r.order-i.order),n}function DH(t,e,n){const r=sh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vw(e,i=>{DH(t,i,n)})}function Tw(t,e){const n=sh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,eI(e,n.length>0?n:void 0)}vw(e,r=>{Tw(t,r)})}function sI(t,e){const n=Wv(CH(t,e)),r=yw(t.transactionQueueTree_,e);return Qhe(r,i=>{SC(t,i)}),SC(t,r),gH(r,i=>{SC(t,i)}),n}function SC(t,e){const n=sh(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(gt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(gt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(wu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?eI(e,void 0):n.length=s+1,Pa(t.eventQueue_,Wv(e),i);for(let a=0;a<r.length;a++)Hm(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wpe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Tpe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_s(`Invalid query segment '${n}' in query '${t}'`)}return e}const HA=function(t,e){const n=Epe(t),r=n.namespace;n.domain==="firebase.com"&&Rl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Rl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Rde();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Rz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Vn(n.pathString)}},Epe=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=wpe(t.substring(u,f)));const h=Tpe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cpe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=x9.charAt(n%64),n=Math.floor(n/64);gt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=x9.charAt(e[i]);return gt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bi(this.snapshot.exportVal())}}class NH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return gt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Spe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Zs;return ppe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){to("OnDisconnect.remove",this._path);const e=new Zs;return v9(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){to("OnDisconnect.set",this._path),Fl("OnDisconnect.set",e,this._path,!1);const n=new Zs;return v9(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){to("OnDisconnect.setWithPriority",this._path),Fl("OnDisconnect.setWithPriority",e,this._path,!1),tI("OnDisconnect.setWithPriority",n);const r=new Zs;return mpe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){to("OnDisconnect.update",this._path),vH("OnDisconnect.update",e,this._path);const n=new Zs;return gpe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return un(this._path)?null:I3(this._path)}get ref(){return new fo(this._repo,this._path)}get _queryIdentifier(){const e=i9(this._queryParams),n=D3(e);return n==="{}"?"default":n}get _queryObject(){return i9(this._queryParams)}isEqual(e){if(e=It(e),!(e instanceof da))return!1;const n=this._repo===e._repo,r=P3(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+gfe(this._path)}}function Ew(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ud(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Dl){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Hu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Tc)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===lr){if(e!=null&&!qy(e)||n!=null&&!qy(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(gt(t.getIndex()instanceof M3||t.getIndex()===O3,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Cw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fo extends da{constructor(e,n){super(e,n,new uw,!1)}get parent(){const e=Wz(this._path);return e===null?null:new fo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Sw=class GA{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Vn(e),r=Lf(this.ref,e);return new GA(this._node.getChild(n),r,lr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new GA(i,Lf(this.ref,r),lr)))}hasChild(e){const n=new Vn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function kH(t,e){return t=It(t),t._checkNotDeleted("ref"),e!==void 0?Lf(t._root,e):t._root}function b9(t,e){t=It(t),t._checkNotDeleted("refFromURL");const n=HA(e,t._repo.repoInfo_.nodeAdmin);xH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Rl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),kH(t,n.path.toString())}function Lf(t,e){return t=It(t),cn(t._path)===null?ipe("child","path",e):$y("child","path",e),new fo(t._repo,Dr(t._path,e))}function Dpe(t,e){t=It(t),to("push",t._path),Fl("push",e,t._path,!0);const n=TH(t._repo),r=Cpe(n),i=Lf(t,r),s=Lf(t,r);let a;return e!=null?a=oI(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Ape(t){return to("remove",t._path),oI(t,null)}function oI(t,e){t=It(t),to("set",t._path),Fl("set",e,t._path,!1);const n=new Zs;return rI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Npe(t,e){t=It(t),to("setPriority",t._path),tI("setPriority",e);const n=new Zs;return rI(t._repo,Dr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function kpe(t,e,n){if(to("setWithPriority",t._path),Fl("setWithPriority",e,t._path,!1),tI("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Zs;return rI(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function Ipe(t,e){vH("update",e,t._path);const n=new Zs;return fpe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ppe(t){t=It(t);const e=new aI(()=>{}),n=new Hv(e);return dpe(t._repo,t,n).then(r=>new Sw(r,new fo(t._repo,t._path),t._queryParams.getIndex()))}class Hv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new AH("value",this,new Sw(e.snapshotNode,new fo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NH(this,e,n):null}matches(e){return e instanceof Hv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Dw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NH(this,e,n):null}createEvent(e,n){gt(e.childName!=null,"Child events should have a childName.");const r=Lf(new fo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new AH(e.type,this,new Sw(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Dw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Gv(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{zA(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new aI(n,s||void 0),o=e==="value"?new Hv(a):new Dw(e,a);return ype(t._repo,t,o),()=>zA(t._repo,t,o)}function KA(t,e,n,r){return Gv(t,"value",e,n,r)}function _9(t,e,n,r){return Gv(t,"child_added",e,n,r)}function w9(t,e,n,r){return Gv(t,"child_changed",e,n,r)}function T9(t,e,n,r){return Gv(t,"child_moved",e,n,r)}function E9(t,e,n,r){return Gv(t,"child_removed",e,n,r)}function C9(t,e,n){let r=null;const i=n?new aI(n):null;e==="value"?r=new Hv(i):e&&(r=new Dw(e,i)),zA(t._repo,t,r)}class Ho{}class IH extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Fl("endAt",this._value,e._path,!0);const n=MA(e._queryParams,this._value,this._key);if(Cw(n),ud(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new da(e._repo,e._path,n,e._orderByCalled)}}function Rpe(t,e){return $v("endAt","key",e),new IH(t,e)}class Fpe extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Fl("endBefore",this._value,e._path,!1);const n=Wfe(e._queryParams,this._value,this._key);if(Cw(n),ud(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new da(e._repo,e._path,n,e._orderByCalled)}}function Mpe(t,e){return $v("endBefore","key",e),new Fpe(t,e)}class PH extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Fl("startAt",this._value,e._path,!0);const n=FA(e._queryParams,this._value,this._key);if(Cw(n),ud(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new da(e._repo,e._path,n,e._orderByCalled)}}function Ope(t=null,e){return $v("startAt","key",e),new PH(t,e)}class Upe extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Fl("startAfter",this._value,e._path,!1);const n=Vfe(e._queryParams,this._value,this._key);if(Cw(n),ud(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new da(e._repo,e._path,n,e._orderByCalled)}}function Lpe(t,e){return $v("startAfter","key",e),new Upe(t,e)}class jpe extends Ho{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new da(e._repo,e._path,jfe(e._queryParams,this._limit),e._orderByCalled)}}function Bpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jpe(t)}class Vpe extends Ho{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new da(e._repo,e._path,Bfe(e._queryParams,this._limit),e._orderByCalled)}}function Wpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Vpe(t)}class qpe extends Ho{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Ew(e,"orderByChild");const n=new Vn(this._path);if(un(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new M3(n),i=dw(e._queryParams,r);return ud(i),new da(e._repo,e._path,i,!0)}}function $pe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $y("orderByChild","path",t),new qpe(t)}class zpe extends Ho{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Ew(e,"orderByKey");const n=dw(e._queryParams,Dl);return ud(n),new da(e._repo,e._path,n,!0)}}function Hpe(){return new zpe}class Gpe extends Ho{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Ew(e,"orderByPriority");const n=dw(e._queryParams,lr);return ud(n),new da(e._repo,e._path,n,!0)}}function Kpe(){return new Gpe}class Jpe extends Ho{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Ew(e,"orderByValue");const n=dw(e._queryParams,O3);return ud(n),new da(e._repo,e._path,n,!0)}}function Xpe(){return new Jpe}class Ype extends Ho{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Fl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IH(this._value,this._key)._apply(new PH(this._value,this._key)._apply(e))}}function Qpe(t,e){return $v("equalTo","key",e),new Ype(t,e)}function Do(t,...e){let n=It(t);for(const r of e)n=r._apply(n);return n}khe(fo);Mhe(fo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zpe="FIREBASE_DATABASE_EMULATOR_HOST",JA={};let eme=!1;function tme(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Ol(s);t.repoInfo_=new Rz(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function RH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Rl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ji("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=HA(s,i),o=a.repoInfo,l,c;typeof process<"u"&&BF&&(c=BF[Zpe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=HA(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Op(Op.OWNER):new $de(t.name,t.options,e);xH("Invalid Firebase Database URL",a),un(a.path)||Rl("Database URL must point to the root of a Firebase Database (not including a child path).");const f=rme(o,t,u,new qde(t,n));return new ime(f,t)}function nme(t,e){const n=JA[e];(!n||n[t.key]!==t)&&Rl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),EH(t),delete n[t.key]}function rme(t,e,n,r){let i=JA[e.name];i||(i={},JA[e.name]=i);let s=i[t.toURLString()];return s&&Rl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lpe(t,eme,n,r),i[t.toURLString()]=s,s}let ime=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cpe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fo(this._repo,Rn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nme(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rl("Cannot call "+e+" on a deleted database.")}};function FH(){mm.IS_TRANSPORT_INITIALIZED&&_s("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sme(){FH(),_u.forceDisallow()}function ame(){FH(),Qa.forceDisallow(),_u.forceAllow()}function ome(t,e,n,r={}){t=It(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&vc(r,s.repoInfo_.emulatorOptions))return;Rl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Rl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Op(Op.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:qN(r.mockUserToken,t.app.options.projectId);a=new Op(o)}Ol(e)&&(T_(e),E_("Database",!0)),tme(s,i,r,a)}function lme(t){t=It(t),t._checkNotDeleted("goOffline"),EH(t._repo)}function cme(t){t=It(t),t._checkNotDeleted("goOnline"),vpe(t._repo)}function ume(t,e){_z(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dme(t){yz(Ul),Nl(new Bs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return RH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Us(VF,WF,t),Us(VF,WF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme={".sv":"timestamp"};function hme(){return fme}function pme(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mme=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function gme(t,e,n){if(t=It(t),to("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new Zs,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new Sw(c,new fo(t._repo,t._path),lr),i.resolve(new mme(l,u)))},a=KA(t,()=>{});return xpe(t._repo,t._path,e,s,a,r),i.promise}uc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};uc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dme();const yme="@firebase/database-compat",vme="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xme=new Fm("@firebase/database-compat"),MH=function(t){const e="FIREBASE WARNING: "+t;xme.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(ia(t,e)+"must be a boolean.")},_me=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ia(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wme{constructor(e){this._delegate=e}cancel(e){Qt("OnDisconnect.cancel",0,1,arguments.length),Oi("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Qt("OnDisconnect.remove",0,1,arguments.length),Oi("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Qt("OnDisconnect.set",1,2,arguments.length),Oi("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Qt("OnDisconnect.setWithPriority",2,3,arguments.length),Oi("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Qt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,MH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oi("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tme{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Qt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this._database=e,this._delegate=n}val(){return Qt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Qt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Qt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Qt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Qt("DataSnapshot.child",0,1,arguments.length),e=String(e),$y("DataSnapshot.child","path",e),new Fu(this._database,this._delegate.child(e))}hasChild(e){return Qt("DataSnapshot.hasChild",1,1,arguments.length),$y("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Qt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Qt("DataSnapshot.forEach",1,1,arguments.length),Oi("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Fu(this._database,n)))}hasChildren(){return Qt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Qt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Qt("DataSnapshot.ref",0,0,arguments.length),new af(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Xi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;Qt("Query.on",2,4,arguments.length),Oi("Query.on","callback",n,!1);const s=Xi.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Fu(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return KA(this._delegate,a,o),n;case"child_added":return _9(this._delegate,a,o),n;case"child_removed":return E9(this._delegate,a,o),n;case"child_changed":return w9(this._delegate,a,o),n;case"child_moved":return T9(this._delegate,a,o),n;default:throw new Error(ia("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Qt("Query.off",0,3,arguments.length),_me("Query.off",e),Oi("Query.off","callback",n,!0),FR("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,C9(this._delegate,e,i)}else C9(this._delegate,e)}get(){return Ppe(this._delegate).then(e=>new Fu(this.database,e))}once(e,n,r,i){Qt("Query.once",1,4,arguments.length),Oi("Query.once","callback",n,!0);const s=Xi.getCancelAndContextArgs_("Query.once",r,i),a=new Zs,o=(c,u)=>{const f=new Fu(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":KA(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":_9(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":E9(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":w9(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":T9(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(ia("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Qt("Query.limitToFirst",1,1,arguments.length),new Xi(this.database,Do(this._delegate,Bpe(e)))}limitToLast(e){return Qt("Query.limitToLast",1,1,arguments.length),new Xi(this.database,Do(this._delegate,Wpe(e)))}orderByChild(e){return Qt("Query.orderByChild",1,1,arguments.length),new Xi(this.database,Do(this._delegate,$pe(e)))}orderByKey(){return Qt("Query.orderByKey",0,0,arguments.length),new Xi(this.database,Do(this._delegate,Hpe()))}orderByPriority(){return Qt("Query.orderByPriority",0,0,arguments.length),new Xi(this.database,Do(this._delegate,Kpe()))}orderByValue(){return Qt("Query.orderByValue",0,0,arguments.length),new Xi(this.database,Do(this._delegate,Xpe()))}startAt(e=null,n){return Qt("Query.startAt",0,2,arguments.length),new Xi(this.database,Do(this._delegate,Ope(e,n)))}startAfter(e=null,n){return Qt("Query.startAfter",0,2,arguments.length),new Xi(this.database,Do(this._delegate,Lpe(e,n)))}endAt(e=null,n){return Qt("Query.endAt",0,2,arguments.length),new Xi(this.database,Do(this._delegate,Rpe(e,n)))}endBefore(e=null,n){return Qt("Query.endBefore",0,2,arguments.length),new Xi(this.database,Do(this._delegate,Mpe(e,n)))}equalTo(e,n){return Qt("Query.equalTo",1,2,arguments.length),new Xi(this.database,Do(this._delegate,Qpe(e,n)))}toString(){return Qt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Qt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Qt("Query.isEqual",1,1,arguments.length),!(e instanceof Xi)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Oi(e,"cancel",i.cancel,!0),i.context=r,FR(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ia(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new af(this.database,new fo(this._delegate._repo,this._delegate._path))}}let af=class xp extends Xi{constructor(e,n){super(e,new da(n._repo,n._path,new uw,!1)),this.database=e,this._delegate=n}getKey(){return Qt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Qt("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new xp(this.database,Lf(this._delegate,e))}getParent(){Qt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new xp(this.database,e):null}getRoot(){return Qt("Reference.root",0,0,arguments.length),new xp(this.database,this._delegate.root)}set(e,n){Qt("Reference.set",1,2,arguments.length),Oi("Reference.set","onComplete",n,!0);const r=oI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Qt("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,MH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}to("Reference.update",this._delegate._path),Oi("Reference.update","onComplete",n,!0);const r=Ipe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Qt("Reference.setWithPriority",2,3,arguments.length),Oi("Reference.setWithPriority","onComplete",r,!0);const i=kpe(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Qt("Reference.remove",0,1,arguments.length),Oi("Reference.remove","onComplete",e,!0);const n=Ape(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Qt("Reference.transaction",1,3,arguments.length),Oi("Reference.transaction","transactionUpdate",e,!1),Oi("Reference.transaction","onComplete",n,!0),bme("Reference.transaction","applyLocally",r);const i=gme(this._delegate,e,{applyLocally:r}).then(s=>new Tme(s.committed,new Fu(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Qt("Reference.setPriority",1,2,arguments.length),Oi("Reference.setPriority","onComplete",n,!0);const r=Npe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Qt("Reference.push",0,2,arguments.length),Oi("Reference.push","onComplete",n,!0);const r=Dpe(this._delegate,e),i=r.then(a=>new xp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new xp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return to("Reference.onDisconnect",this._delegate._path),new wme(new Spe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sme,forceLongPolling:ame}}useEmulator(e,n,r={}){ome(this._delegate,e,n,r)}ref(e){if(Qt("database.ref",0,1,arguments.length),e instanceof af){const n=b9(this._delegate,e.toString());return new af(this,n)}else{const n=kH(this._delegate,e);return new af(this,n)}}refFromURL(e){Qt("database.refFromURL",1,1,arguments.length);const r=b9(this._delegate,e);return new af(this,r)}goOffline(){return Qt("database.goOffline",0,0,arguments.length),lme(this._delegate)}goOnline(){return Qt("database.goOnline",0,0,arguments.length),cme(this._delegate)}}zy.ServerValue={TIMESTAMP:hme(),increment:t=>pme(t)};function Eme({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){yz(n);const o=new zN("database-standalone"),l=new BD("auth-internal",o);l.setComponent(new Bs("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new BD("app-check-internal",o),c.setComponent(new Bs("app-check-internal",()=>i,"PRIVATE"))),{instance:new zy(RH(t,l,c,e,a),t),namespace:s}}var Cme=Object.freeze({__proto__:null,initStandalone:Eme});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sme=zy.ServerValue;function Dme(t){t.INTERNAL.registerComponent(new Bs("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new zy(i,r)},"PUBLIC").setServiceProps({Reference:af,Query:Xi,Database:zy,DataSnapshot:Fu,enableLogging:ume,INTERNAL:Cme,ServerValue:Sme}).setMultipleInstances(!0)),t.registerVersion(yme,vme)}Dme(Er);const Ame={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Er.apps.length||Er.initializeApp(Ame);const Wr=Er.auth(),bm=Er.firestore();Er.database();const Mr={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},N2={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},Nme="GitutOfflineDB",kme=9,Xm=()=>new Promise((t,e)=>{const n=indexedDB.open(Nme,kme);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),sa=async(t,e)=>{const n=await Xm();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},xi=async t=>{const e=await Xm();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},yr=async(t,e)=>{const n=await Xm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Pi=async(t,e)=>{if(!e||e.length===0)return;const n=await Xm();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},jf=async(t,e)=>{const n=await Xm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Ime=async t=>{await yr("pendingCreditDeductions",t)},Pme=async()=>xi("pendingCreditDeductions"),Rme=async()=>{const t=await Xm();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function Nx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var DC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var S9;function OH(){return S9||(S9=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof Nx=="function"&&Nx;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Nx=="function"&&Nx,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],b=0,x=l.length,w=x,C=s.getTypeOf(l)!=="string";b<l.length;)w=x-b,f=C?(c=l[b++],u=b<x?l[b++]:0,b<x?l[b++]:0):(c=l.charCodeAt(b++),u=b<x?l.charCodeAt(b++):0,b<x?l.charCodeAt(b++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),x[y++]=c,p!==64&&(x[y++]=u),v!==64&&(x[y++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,b,x){var w,C,S=p.file,F=p.compression,A=x!==c.utf8encode,I=o.transformTo("string",x(S.name)),N=o.transformTo("string",c.utf8encode(S.name)),R=S.comment,P=o.transformTo("string",x(R)),D=o.transformTo("string",c.utf8encode(R)),M=N.length!==S.name.length,O=D.length!==R.length,H="",X="",G="",Z=S.dir,W=S.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(Y.crc32=p.crc32,Y.compressedSize=p.compressedSize,Y.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),A||!M&&!O||(B|=2048);var j=0,q=0;Z&&(j|=16),b==="UNIX"?(q=798,j|=(function(Q,te){var ae=Q;return Q||(ae=te?16893:33204),(65535&ae)<<16})(S.unixPermissions,Z)):(q=20,j|=(function(Q){return 63&(Q||0)})(S.dosPermissions)),w=W.getUTCHours(),w<<=6,w|=W.getUTCMinutes(),w<<=5,w|=W.getUTCSeconds()/2,C=W.getUTCFullYear()-1980,C<<=4,C|=W.getUTCMonth()+1,C<<=5,C|=W.getUTCDate(),M&&(X=s(1,1)+s(u(I),4)+N,H+="up"+s(X.length,2)+X),O&&(G=s(1,1)+s(u(P),4)+D,H+="uc"+s(G.length,2)+G);var J="";return J+=`
\0`,J+=s(B,2),J+=F.magic,J+=s(w,2),J+=s(C,2),J+=s(Y.crc32,4),J+=s(Y.compressedSize,4),J+=s(Y.uncompressedSize,4),J+=s(I.length,2),J+=s(H.length,2),{fileRecord:f.LOCAL_FILE_HEADER+J+I+H,dirRecord:f.CENTRAL_FILE_HEADER+s(q,2)+J+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+I+H+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(b,x,w,C,S){var F=o.transformTo("string",S(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(x,4)+s(w,4)+s(F.length,2)+F})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(x,w){var C=x||w,S=s[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,b=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],b=g.files;if(p.checkCRC32)for(var x=0;x<b.length;x++)y.push(f(b[x]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),b=y.files,x=0;x<b.length;x++){var w=b[x],C=w.fileNameStr,S=s.resolve(w.fileNameStr);v.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(S).unsafeOriginalName=C)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(S,F,A){var I,N=o.getTypeOf(F),R=o.extend(A||{},u);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(S=b(S)),R.createFolders&&(I=y(S))&&x.call(this,I,!0);var P=N==="string"&&R.binary===!1&&R.base64===!1;A&&A.binary!==void 0||(R.binary=!P),(F instanceof f&&F.uncompressedSize===0||R.dir||!F||F.length===0)&&(R.base64=!1,R.binary=!0,F="",R.compression="STORE",N="string");var D=null;D=F instanceof f||F instanceof l?F:v.isNode&&v.isStream(F)?new g(S,F):o.prepareContent(S,F,R.binary,R.optimizedBinaryString,R.base64);var M=new h(S,D,R);this.files[S]=M}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var F=S.lastIndexOf("/");return 0<F?S.substring(0,F):""},b=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},x=function(S,F){return F=F!==void 0?F:u.createFolders,S=b(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:F}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var F,A,I;for(F in this.files)I=this.files[F],(A=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&S(A,I)},filter:function(S){var F=[];return this.forEach(function(A,I){S(A,I)&&F.push(I)}),F},file:function(S,F,A){if(arguments.length!==1)return S=this.root+S,s.call(this,S,F,A),this;if(w(S)){var I=S;return this.filter(function(R,P){return!P.dir&&I.test(R)})}var N=this.files[this.root+S];return N&&!N.dir?N:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(N,R){return R.dir&&S.test(N)});var F=this.root+S,A=x.call(this,F),I=this.clone();return I.root=A.name,I},remove:function(S){S=this.root+S;var F=this.files[S];if(F||(S.slice(-1)!=="/"&&(S+="/"),F=this.files[S]),F&&!F.dir)delete this.files[S];else for(var A=this.filter(function(N,R){return R.name.slice(0,S.length)===S}),I=0;I<A.length;I++)delete this.files[A[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var F,A={};try{if((A=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var I=A.comment||this.comment||"";F=p.generateWorker(this,A,I)}catch(N){(F=new l("error")).error(N)}return new c(F,A.type||"string",A.mimeType)},generateAsync:function(S,F){return this.generateInternalStream(S).accumulate(F)},generateNodeStream:function(S,F){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(F)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,b){var x=[],w=v._internalType,C=v._outputType,S=v._mimeType;v.on("data",function(F,A){x.push(F),g&&g(A)}).on("error",function(F){x=[],b(F)}).on("end",function(){try{var F=(function(A,I,N){switch(A){case"blob":return s.newBlob(s.transformTo("arraybuffer",I),N);case"base64":return l.encode(I);default:return s.transformTo(A,I)}})(C,(function(A,I){var N,R=0,P=null,D=0;for(N=0;N<I.length;N++)D+=I[N].length;switch(A){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(P=new Uint8Array(D),N=0;N<I.length;N++)P.set(I[N],R),R+=I[N].length;return P;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+A+"'")}})(w,x),S);y(F)}catch(A){b(A)}x=[]}).resume()})}function p(v,g,y){var b=g;switch(g){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=g,this._mimeType=y,s.checkSupport(b),this._worker=v.pipe(new a(b)),v.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(b){g.call(y,b.data,b.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,b,x,w,C=v.length,S=0;for(x=0;x<C;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(b=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),x=w=0;w<S;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(b=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,b,x,w=v.length,C=new Array(2*w);for(g=y=0;g<w;)if((b=v[g++])<128)C[y++]=b;else if(4<(x=c[b]))C[y++]=65533,g+=x-1;else{for(b&=x===2?31:x===3?15:7;1<x&&g<w;)b=b<<6|63&v[g++],x--;1<x?C[y++]=65533:b<65536?C[y++]=b:(b-=65536,C[y++]=55296|b>>10&1023,C[y++]=56320|1023&b)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),s.applyFromCharCode(C)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(x,w){var C;for((w=w||x.length)>x.length&&(w=x.length),C=w-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?w:C+c[x[C]]>w?C:w})(v),b=v;y!==v.length&&(a.uint8array?(b=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(b=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(b),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var b=0;b<g.length;++b)y[b]=255&g.charCodeAt(b);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(g),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,b){var x=[],w=0,C=g.length;if(C<=b)return String.fromCharCode.apply(null,g);for(;w<C;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+b,C)))):x.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+b,C)))),w+=b;return x.join("")},stringifyByChar:function(g){for(var y="",b=0;b<g.length;b++)y+=String.fromCharCode(g[b]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,b=i.getTypeOf(g),x=!0;if(b==="uint8array"?x=f.applyCanBeUsed.uint8array:b==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return f.stringifyByChunk(g,b,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var b=0;b<g.length;b++)y[b]=g[b];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var b=i.getTypeOf(y);return v[b][g](y)},i.resolve=function(g){for(var y=g.split("/"),b=[],x=0;x<y.length;x++){var w=y[x];w==="."||w===""&&x!==0&&x!==y.length-1||(w===".."?b.pop():b.push(w))}return b.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,b,x="";for(b=0;b<(g||"").length;b++)x+="\\x"+((y=g.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return x},i.delay=function(g,y,b){setImmediate(function(){g.apply(b||null,y||[])})},i.inherits=function(g,y){function b(){}b.prototype=y.prototype,g.prototype=new b},i.extend=function(){var g,y,b={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&b[y]===void 0&&(b[y]=arguments[g][y]);return b},i.prepareContent=function(g,y,b,x,w){return l.Promise.resolve(y).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,F){var A=new FileReader;A.onload=function(I){S(I.target.result)},A.onerror=function(I){F(I.target.error)},A.readAsArrayBuffer(C)}):C}).then(function(C){var S=i.getTypeOf(C);return S?(S==="arraybuffer"?C=i.transformTo("uint8array",C):S==="string"&&(w?C=a.decode(C):b&&x!==!0&&(C=(function(F){return u(F,s.uint8array?new Uint8Array(F.length):new Array(F.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===y)return u[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(b)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var b=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!b&&(g=g.pipe(new l.Utf8EncodeWorker)),!x&&b&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var b=p.length;b;){for(y=p,p=[],g=-1;++g<b;)y[g]();b=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof ys<"u"?ys:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==a&&g(this,b)}function h(b,x,w){this.promise=b,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(b,x,w){s(function(){var C;try{C=x(w)}catch(S){return o.reject(b,S)}C===b?o.reject(b,new TypeError("Cannot resolve promise with itself")):o.resolve(b,C)})}function v(b){var x=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof x=="function")return function(){x.apply(b,arguments)}}function g(b,x){var w=!1;function C(A){w||(w=!0,o.reject(b,A))}function S(A){w||(w=!0,o.resolve(b,A))}var F=y(function(){x(S,C)});F.status==="error"&&C(F.value)}function y(b,x){var w={};try{w.value=b(x),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(b){if(typeof b!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(b()).then(function(){return w})},function(w){return x.resolve(b()).then(function(){throw w})})},f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,x){if(typeof b!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?b:x,this.outcome):this.queue.push(new h(w,b,x)),w},h.prototype.callFulfilled=function(b){o.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){o.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},o.resolve=function(b,x){var w=y(v,x);if(w.status==="error")return o.reject(b,w.value);var C=w.value;if(C)g(b,C);else{b.state=c,b.outcome=x;for(var S=-1,F=b.queue.length;++S<F;)b.queue[S].callFulfilled(x)}return b},o.reject=function(b,x){b.state=l,b.outcome=x;for(var w=-1,C=b.queue.length;++w<C;)b.queue[w].callRejected(x);return b},f.resolve=function(b){return b instanceof this?b:o.resolve(new this(a),b)},f.reject=function(b){var x=new this(a);return o.reject(x,b)},f.all=function(b){var x=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var S=new Array(w),F=0,A=-1,I=new this(a);++A<w;)N(b[A],A);return I;function N(R,P){x.resolve(R).then(function(D){S[P]=D,++F!==w||C||(C=!0,o.resolve(I,S))},function(D){C||(C=!0,o.reject(I,D))})}},f.race=function(b){var x=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var S=-1,F=new this(a);++S<w;)A=b[S],x.resolve(A).then(function(I){C||(C=!0,o.resolve(F,I))},function(I){C||(C=!0,o.reject(F,I))});var A;return F}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(b){if(!(this instanceof g))return new g(b);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(l[w]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var C;if(C=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(b,x){var w=new g(x);if(w.push(b,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(b,x){var w,C,S=this.strm,F=this.options.chunkSize;if(this.ended)return!1;C=x===~~x?x:x===!0?4:0,typeof b=="string"?S.input=o.string2buf(b):u.call(b)==="[object ArrayBuffer]"?S.input=new Uint8Array(b):S.input=b,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(F),S.next_out=0,S.avail_out=F),(w=s.deflate(S,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(b,x){return(x=x||{}).raw=!0,y(b,x)},i.gzip=function(b,x){return(x=x||{}).gzip=!0,y(b,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,y.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var b=new p(y);if(b.push(g,!0),b.err)throw b.msg||c[b.err];return b.result}p.prototype.push=function(g,y){var b,x,w,C,S,F,A=this.strm,I=this.options.chunkSize,N=this.options.dictionary,R=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?A.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?A.input=new Uint8Array(g):A.input=g,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(I),A.next_out=0,A.avail_out=I),(b=s.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&N&&(F=typeof N=="string"?o.string2buf(N):h.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,b=s.inflateSetDictionary(this.strm,F)),b===l.Z_BUF_ERROR&&R===!0&&(b=l.Z_OK,R=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&b!==l.Z_STREAM_END&&(A.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(A.output,A.next_out),C=A.next_out-w,S=o.buf2string(A.output,w),A.next_out=C,A.avail_out=I-C,C&&a.arraySet(A.output,A.output,w,C,0),this.onData(S)):this.onData(a.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(R=!0)}while((0<A.avail_in||A.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,b=f.length,x=0;for(g=0;g<b;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(x),g=y=0;y<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,b=h||f.length,x=new Array(2*b);for(p=v=0;p<b;)if((g=f[p++])<128)x[v++]=g;else if(4<(y=l[g]))x[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<b;)g=g<<6|63&f[p++],y--;1<y?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return u(x,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,b=2,x=8,w=9,C=286,S=30,F=19,A=2*C+1,I=15,N=3,R=258,P=R+N+1,D=42,M=113,O=1,H=2,X=3,G=4;function Z(z,me){return z.msg=u[me],me}function W(z){return(z<<1)-(4<z?9:0)}function Y(z){for(var me=z.length;0<=--me;)z[me]=0}function B(z){var me=z.state,be=me.pending;be>z.avail_out&&(be=z.avail_out),be!==0&&(a.arraySet(z.output,me.pending_buf,me.pending_out,be,z.next_out),z.next_out+=be,me.pending_out+=be,z.total_out+=be,z.avail_out-=be,me.pending-=be,me.pending===0&&(me.pending_out=0))}function j(z,me){o._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,me),z.block_start=z.strstart,B(z.strm)}function q(z,me){z.pending_buf[z.pending++]=me}function J(z,me){z.pending_buf[z.pending++]=me>>>8&255,z.pending_buf[z.pending++]=255&me}function Q(z,me){var be,le,re=z.max_chain_length,oe=z.strstart,Ie=z.prev_length,ke=z.nice_match,he=z.strstart>z.w_size-P?z.strstart-(z.w_size-P):0,ye=z.window,_e=z.w_mask,Te=z.prev,Re=z.strstart+R,Ee=ye[oe+Ie-1],ve=ye[oe+Ie];z.prev_length>=z.good_match&&(re>>=2),ke>z.lookahead&&(ke=z.lookahead);do if(ye[(be=me)+Ie]===ve&&ye[be+Ie-1]===Ee&&ye[be]===ye[oe]&&ye[++be]===ye[oe+1]){oe+=2,be++;do;while(ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&ye[++oe]===ye[++be]&&oe<Re);if(le=R-(Re-oe),oe=Re-R,Ie<le){if(z.match_start=me,ke<=(Ie=le))break;Ee=ye[oe+Ie-1],ve=ye[oe+Ie]}}while((me=Te[me&_e])>he&&--re!=0);return Ie<=z.lookahead?Ie:z.lookahead}function te(z){var me,be,le,re,oe,Ie,ke,he,ye,_e,Te=z.w_size;do{if(re=z.window_size-z.lookahead-z.strstart,z.strstart>=Te+(Te-P)){for(a.arraySet(z.window,z.window,Te,Te,0),z.match_start-=Te,z.strstart-=Te,z.block_start-=Te,me=be=z.hash_size;le=z.head[--me],z.head[me]=Te<=le?le-Te:0,--be;);for(me=be=Te;le=z.prev[--me],z.prev[me]=Te<=le?le-Te:0,--be;);re+=Te}if(z.strm.avail_in===0)break;if(Ie=z.strm,ke=z.window,he=z.strstart+z.lookahead,ye=re,_e=void 0,_e=Ie.avail_in,ye<_e&&(_e=ye),be=_e===0?0:(Ie.avail_in-=_e,a.arraySet(ke,Ie.input,Ie.next_in,_e,he),Ie.state.wrap===1?Ie.adler=l(Ie.adler,ke,_e,he):Ie.state.wrap===2&&(Ie.adler=c(Ie.adler,ke,_e,he)),Ie.next_in+=_e,Ie.total_in+=_e,_e),z.lookahead+=be,z.lookahead+z.insert>=N)for(oe=z.strstart-z.insert,z.ins_h=z.window[oe],z.ins_h=(z.ins_h<<z.hash_shift^z.window[oe+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[oe+N-1])&z.hash_mask,z.prev[oe&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=oe,oe++,z.insert--,!(z.lookahead+z.insert<N)););}while(z.lookahead<P&&z.strm.avail_in!==0)}function ae(z,me){for(var be,le;;){if(z.lookahead<P){if(te(z),z.lookahead<P&&me===f)return O;if(z.lookahead===0)break}if(be=0,z.lookahead>=N&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+N-1])&z.hash_mask,be=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),be!==0&&z.strstart-be<=z.w_size-P&&(z.match_length=Q(z,be)),z.match_length>=N)if(le=o._tr_tally(z,z.strstart-z.match_start,z.match_length-N),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=N){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+N-1])&z.hash_mask,be=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else le=o._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(le&&(j(z,!1),z.strm.avail_out===0))return O}return z.insert=z.strstart<N-1?z.strstart:N-1,me===h?(j(z,!0),z.strm.avail_out===0?X:G):z.last_lit&&(j(z,!1),z.strm.avail_out===0)?O:H}function ce(z,me){for(var be,le,re;;){if(z.lookahead<P){if(te(z),z.lookahead<P&&me===f)return O;if(z.lookahead===0)break}if(be=0,z.lookahead>=N&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+N-1])&z.hash_mask,be=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=N-1,be!==0&&z.prev_length<z.max_lazy_match&&z.strstart-be<=z.w_size-P&&(z.match_length=Q(z,be),z.match_length<=5&&(z.strategy===1||z.match_length===N&&4096<z.strstart-z.match_start)&&(z.match_length=N-1)),z.prev_length>=N&&z.match_length<=z.prev_length){for(re=z.strstart+z.lookahead-N,le=o._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-N),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=re&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+N-1])&z.hash_mask,be=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=N-1,z.strstart++,le&&(j(z,!1),z.strm.avail_out===0))return O}else if(z.match_available){if((le=o._tr_tally(z,0,z.window[z.strstart-1]))&&j(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return O}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(le=o._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<N-1?z.strstart:N-1,me===h?(j(z,!0),z.strm.avail_out===0?X:G):z.last_lit&&(j(z,!1),z.strm.avail_out===0)?O:H}function ue(z,me,be,le,re){this.good_length=z,this.max_lazy=me,this.nice_length=be,this.max_chain=le,this.func=re}function Se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*A),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*F+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(I+1),this.heap=new a.Buf16(2*C+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(z){var me;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=b,(me=z.state).pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?D:M,z.adler=me.wrap===2?0:1,me.last_flush=f,o._tr_init(me),p):Z(z,v)}function fe(z){var me=Fe(z);return me===p&&(function(be){be.window_size=2*be.w_size,Y(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=N-1,be.match_available=0,be.ins_h=0})(z.state),me}function Le(z,me,be,le,re,oe){if(!z)return v;var Ie=1;if(me===g&&(me=6),le<0?(Ie=0,le=-le):15<le&&(Ie=2,le-=16),re<1||w<re||be!==x||le<8||15<le||me<0||9<me||oe<0||y<oe)return Z(z,v);le===8&&(le=9);var ke=new Se;return(z.state=ke).strm=z,ke.wrap=Ie,ke.gzhead=null,ke.w_bits=le,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=re+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+N-1)/N),ke.window=new a.Buf8(2*ke.w_size),ke.head=new a.Buf16(ke.hash_size),ke.prev=new a.Buf16(ke.w_size),ke.lit_bufsize=1<<re+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new a.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=me,ke.strategy=oe,ke.method=be,fe(z)}s=[new ue(0,0,0,0,function(z,me){var be=65535;for(be>z.pending_buf_size-5&&(be=z.pending_buf_size-5);;){if(z.lookahead<=1){if(te(z),z.lookahead===0&&me===f)return O;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var le=z.block_start+be;if((z.strstart===0||z.strstart>=le)&&(z.lookahead=z.strstart-le,z.strstart=le,j(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-P&&(j(z,!1),z.strm.avail_out===0))return O}return z.insert=0,me===h?(j(z,!0),z.strm.avail_out===0?X:G):(z.strstart>z.block_start&&(j(z,!1),z.strm.avail_out),O)}),new ue(4,4,8,4,ae),new ue(4,5,16,8,ae),new ue(4,6,32,32,ae),new ue(4,4,16,16,ce),new ue(8,16,32,32,ce),new ue(8,16,128,128,ce),new ue(8,32,128,256,ce),new ue(32,128,258,1024,ce),new ue(32,258,258,4096,ce)],i.deflateInit=function(z,me){return Le(z,me,x,15,8,0)},i.deflateInit2=Le,i.deflateReset=fe,i.deflateResetKeep=Fe,i.deflateSetHeader=function(z,me){return z&&z.state?z.state.wrap!==2?v:(z.state.gzhead=me,p):v},i.deflate=function(z,me){var be,le,re,oe;if(!z||!z.state||5<me||me<0)return z?Z(z,v):v;if(le=z.state,!z.output||!z.input&&z.avail_in!==0||le.status===666&&me!==h)return Z(z,z.avail_out===0?-5:v);if(le.strm=z,be=le.last_flush,le.last_flush=me,le.status===D)if(le.wrap===2)z.adler=0,q(le,31),q(le,139),q(le,8),le.gzhead?(q(le,(le.gzhead.text?1:0)+(le.gzhead.hcrc?2:0)+(le.gzhead.extra?4:0)+(le.gzhead.name?8:0)+(le.gzhead.comment?16:0)),q(le,255&le.gzhead.time),q(le,le.gzhead.time>>8&255),q(le,le.gzhead.time>>16&255),q(le,le.gzhead.time>>24&255),q(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),q(le,255&le.gzhead.os),le.gzhead.extra&&le.gzhead.extra.length&&(q(le,255&le.gzhead.extra.length),q(le,le.gzhead.extra.length>>8&255)),le.gzhead.hcrc&&(z.adler=c(z.adler,le.pending_buf,le.pending,0)),le.gzindex=0,le.status=69):(q(le,0),q(le,0),q(le,0),q(le,0),q(le,0),q(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),q(le,3),le.status=M);else{var Ie=x+(le.w_bits-8<<4)<<8;Ie|=(2<=le.strategy||le.level<2?0:le.level<6?1:le.level===6?2:3)<<6,le.strstart!==0&&(Ie|=32),Ie+=31-Ie%31,le.status=M,J(le,Ie),le.strstart!==0&&(J(le,z.adler>>>16),J(le,65535&z.adler)),z.adler=1}if(le.status===69)if(le.gzhead.extra){for(re=le.pending;le.gzindex<(65535&le.gzhead.extra.length)&&(le.pending!==le.pending_buf_size||(le.gzhead.hcrc&&le.pending>re&&(z.adler=c(z.adler,le.pending_buf,le.pending-re,re)),B(z),re=le.pending,le.pending!==le.pending_buf_size));)q(le,255&le.gzhead.extra[le.gzindex]),le.gzindex++;le.gzhead.hcrc&&le.pending>re&&(z.adler=c(z.adler,le.pending_buf,le.pending-re,re)),le.gzindex===le.gzhead.extra.length&&(le.gzindex=0,le.status=73)}else le.status=73;if(le.status===73)if(le.gzhead.name){re=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>re&&(z.adler=c(z.adler,le.pending_buf,le.pending-re,re)),B(z),re=le.pending,le.pending===le.pending_buf_size)){oe=1;break}oe=le.gzindex<le.gzhead.name.length?255&le.gzhead.name.charCodeAt(le.gzindex++):0,q(le,oe)}while(oe!==0);le.gzhead.hcrc&&le.pending>re&&(z.adler=c(z.adler,le.pending_buf,le.pending-re,re)),oe===0&&(le.gzindex=0,le.status=91)}else le.status=91;if(le.status===91)if(le.gzhead.comment){re=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>re&&(z.adler=c(z.adler,le.pending_buf,le.pending-re,re)),B(z),re=le.pending,le.pending===le.pending_buf_size)){oe=1;break}oe=le.gzindex<le.gzhead.comment.length?255&le.gzhead.comment.charCodeAt(le.gzindex++):0,q(le,oe)}while(oe!==0);le.gzhead.hcrc&&le.pending>re&&(z.adler=c(z.adler,le.pending_buf,le.pending-re,re)),oe===0&&(le.status=103)}else le.status=103;if(le.status===103&&(le.gzhead.hcrc?(le.pending+2>le.pending_buf_size&&B(z),le.pending+2<=le.pending_buf_size&&(q(le,255&z.adler),q(le,z.adler>>8&255),z.adler=0,le.status=M)):le.status=M),le.pending!==0){if(B(z),z.avail_out===0)return le.last_flush=-1,p}else if(z.avail_in===0&&W(me)<=W(be)&&me!==h)return Z(z,-5);if(le.status===666&&z.avail_in!==0)return Z(z,-5);if(z.avail_in!==0||le.lookahead!==0||me!==f&&le.status!==666){var ke=le.strategy===2?(function(he,ye){for(var _e;;){if(he.lookahead===0&&(te(he),he.lookahead===0)){if(ye===f)return O;break}if(he.match_length=0,_e=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,_e&&(j(he,!1),he.strm.avail_out===0))return O}return he.insert=0,ye===h?(j(he,!0),he.strm.avail_out===0?X:G):he.last_lit&&(j(he,!1),he.strm.avail_out===0)?O:H})(le,me):le.strategy===3?(function(he,ye){for(var _e,Te,Re,Ee,ve=he.window;;){if(he.lookahead<=R){if(te(he),he.lookahead<=R&&ye===f)return O;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=N&&0<he.strstart&&(Te=ve[Re=he.strstart-1])===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]){Ee=he.strstart+R;do;while(Te===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]&&Te===ve[++Re]&&Re<Ee);he.match_length=R-(Ee-Re),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=N?(_e=o._tr_tally(he,1,he.match_length-N),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(_e=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),_e&&(j(he,!1),he.strm.avail_out===0))return O}return he.insert=0,ye===h?(j(he,!0),he.strm.avail_out===0?X:G):he.last_lit&&(j(he,!1),he.strm.avail_out===0)?O:H})(le,me):s[le.level].func(le,me);if(ke!==X&&ke!==G||(le.status=666),ke===O||ke===X)return z.avail_out===0&&(le.last_flush=-1),p;if(ke===H&&(me===1?o._tr_align(le):me!==5&&(o._tr_stored_block(le,0,0,!1),me===3&&(Y(le.head),le.lookahead===0&&(le.strstart=0,le.block_start=0,le.insert=0))),B(z),z.avail_out===0))return le.last_flush=-1,p}return me!==h?p:le.wrap<=0?1:(le.wrap===2?(q(le,255&z.adler),q(le,z.adler>>8&255),q(le,z.adler>>16&255),q(le,z.adler>>24&255),q(le,255&z.total_in),q(le,z.total_in>>8&255),q(le,z.total_in>>16&255),q(le,z.total_in>>24&255)):(J(le,z.adler>>>16),J(le,65535&z.adler)),B(z),0<le.wrap&&(le.wrap=-le.wrap),le.pending!==0?p:1)},i.deflateEnd=function(z){var me;return z&&z.state?(me=z.state.status)!==D&&me!==69&&me!==73&&me!==91&&me!==103&&me!==M&&me!==666?Z(z,v):(z.state=null,me===M?Z(z,-3):p):v},i.deflateSetDictionary=function(z,me){var be,le,re,oe,Ie,ke,he,ye,_e=me.length;if(!z||!z.state||(oe=(be=z.state).wrap)===2||oe===1&&be.status!==D||be.lookahead)return v;for(oe===1&&(z.adler=l(z.adler,me,_e,0)),be.wrap=0,_e>=be.w_size&&(oe===0&&(Y(be.head),be.strstart=0,be.block_start=0,be.insert=0),ye=new a.Buf8(be.w_size),a.arraySet(ye,me,_e-be.w_size,be.w_size,0),me=ye,_e=be.w_size),Ie=z.avail_in,ke=z.next_in,he=z.input,z.avail_in=_e,z.next_in=0,z.input=me,te(be);be.lookahead>=N;){for(le=be.strstart,re=be.lookahead-(N-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[le+N-1])&be.hash_mask,be.prev[le&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=le,le++,--re;);be.strstart=le,be.lookahead=N-1,te(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=N-1,be.match_available=0,z.next_in=ke,z.input=he,z.avail_in=Ie,be.wrap=oe,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,b,x,w,C,S,F,A,I,N,R,P,D,M,O,H;o=s.state,l=s.next_in,O=s.input,c=l+(s.avail_in-5),u=s.next_out,H=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,b=o.window,x=o.hold,w=o.bits,C=o.lencode,S=o.distcode,F=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),I=C[x&F];t:for(;;){if(x>>>=N=I>>>24,w-=N,(N=I>>>16&255)===0)H[u++]=65535&I;else{if(!(16&N)){if((64&N)==0){I=C[(65535&I)+(x&(1<<N)-1)];continue t}if(32&N){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}R=65535&I,(N&=15)&&(w<N&&(x+=O[l++]<<w,w+=8),R+=x&(1<<N)-1,x>>>=N,w-=N),w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),I=S[x&A];n:for(;;){if(x>>>=N=I>>>24,w-=N,!(16&(N=I>>>16&255))){if((64&N)==0){I=S[(65535&I)+(x&(1<<N)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&I,w<(N&=15)&&(x+=O[l++]<<w,(w+=8)<N&&(x+=O[l++]<<w,w+=8)),p<(P+=x&(1<<N)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=N,w-=N,(N=u-f)<P){if(g<(N=P-N)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(M=b,(D=0)===y){if(D+=v-N,N<R){for(R-=N;H[u++]=b[D++],--N;);D=u-P,M=H}}else if(y<N){if(D+=v+y-N,(N-=y)<R){for(R-=N;H[u++]=b[D++],--N;);if(D=0,y<R){for(R-=N=y;H[u++]=b[D++],--N;);D=u-P,M=H}}}else if(D+=y-N,N<R){for(R-=N;H[u++]=b[D++],--N;);D=u-P,M=H}for(;2<R;)H[u++]=M[D++],H[u++]=M[D++],H[u++]=M[D++],R-=3;R&&(H[u++]=M[D++],1<R&&(H[u++]=M[D++]))}else{for(D=u-P;H[u++]=H[D++],H[u++]=H[D++],H[u++]=H[D++],2<(R-=3););R&&(H[u++]=H[D++],1<R&&(H[u++]=H[D++]))}break}}break}}while(l<c&&u<h);l-=R=w>>3,x&=(1<<(w-=R<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=x,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function b(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(D){var M;return D&&D.state?(M=D.state,D.total_in=D.total_out=M.total=0,D.msg="",M.wrap&&(D.adler=1&M.wrap),M.mode=v,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new s.Buf32(g),M.distcode=M.distdyn=new s.Buf32(y),M.sane=1,M.back=-1,h):p}function C(D){var M;return D&&D.state?((M=D.state).wsize=0,M.whave=0,M.wnext=0,w(D)):p}function S(D,M){var O,H;return D&&D.state?(H=D.state,M<0?(O=0,M=-M):(O=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?p:(H.window!==null&&H.wbits!==M&&(H.window=null),H.wrap=O,H.wbits=M,C(D))):p}function F(D,M){var O,H;return D?(H=new x,(D.state=H).window=null,(O=S(D,M))!==h&&(D.state=null),O):p}var A,I,N=!0;function R(D){if(N){var M;for(A=new s.Buf32(512),I=new s.Buf32(32),M=0;M<144;)D.lens[M++]=8;for(;M<256;)D.lens[M++]=9;for(;M<280;)D.lens[M++]=7;for(;M<288;)D.lens[M++]=8;for(c(u,D.lens,0,288,A,0,D.work,{bits:9}),M=0;M<32;)D.lens[M++]=5;c(f,D.lens,0,32,I,0,D.work,{bits:5}),N=!1}D.lencode=A,D.lenbits=9,D.distcode=I,D.distbits=5}function P(D,M,O,H){var X,G=D.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new s.Buf8(G.wsize)),H>=G.wsize?(s.arraySet(G.window,M,O-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(H<(X=G.wsize-G.wnext)&&(X=H),s.arraySet(G.window,M,O-H,X,G.wnext),(H-=X)?(s.arraySet(G.window,M,O-H,H,0),G.wnext=H,G.whave=G.wsize):(G.wnext+=X,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=X))),0}i.inflateReset=C,i.inflateReset2=S,i.inflateResetKeep=w,i.inflateInit=function(D){return F(D,15)},i.inflateInit2=F,i.inflate=function(D,M){var O,H,X,G,Z,W,Y,B,j,q,J,Q,te,ae,ce,ue,Se,Fe,fe,Le,z,me,be,le,re=0,oe=new s.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return p;(O=D.state).mode===12&&(O.mode=13),Z=D.next_out,X=D.output,Y=D.avail_out,G=D.next_in,H=D.input,W=D.avail_in,B=O.hold,j=O.bits,q=W,J=Y,me=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;j<16;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(2&O.wrap&&B===35615){oe[O.check=0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0),j=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){D.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){D.msg="unknown compression method",O.mode=30;break}if(j-=4,z=8+(15&(B>>>=4)),O.wbits===0)O.wbits=z;else if(z>O.wbits){D.msg="invalid window size",O.mode=30;break}O.dmax=1<<z,D.adler=O.check=1,O.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(O.flags=B,(255&O.flags)!=8){D.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){D.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0)),j=B=0,O.mode=3;case 3:for(;j<32;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}O.head&&(O.head.time=B),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,oe[2]=B>>>16&255,oe[3]=B>>>24&255,O.check=o(O.check,oe,4,0)),j=B=0,O.mode=4;case 4:for(;j<16;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0)),j=B=0,O.mode=5;case 5:if(1024&O.flags){for(;j<16;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0)),j=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(W<(Q=O.length)&&(Q=W),Q&&(O.head&&(z=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,H,G,Q,z)),512&O.flags&&(O.check=o(O.check,H,Q,G)),W-=Q,G+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(W===0)break e;for(Q=0;z=H[G+Q++],O.head&&z&&O.length<65536&&(O.head.name+=String.fromCharCode(z)),z&&Q<W;);if(512&O.flags&&(O.check=o(O.check,H,Q,G)),W-=Q,G+=Q,z)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(W===0)break e;for(Q=0;z=H[G+Q++],O.head&&z&&O.length<65536&&(O.head.comment+=String.fromCharCode(z)),z&&Q<W;);if(512&O.flags&&(O.check=o(O.check,H,Q,G)),W-=Q,G+=Q,z)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;j<16;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(B!==(65535&O.check)){D.msg="header crc mismatch",O.mode=30;break}j=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),D.adler=O.check=0,O.mode=12;break;case 10:for(;j<32;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}D.adler=O.check=b(B),j=B=0,O.mode=11;case 11:if(O.havedict===0)return D.next_out=Z,D.avail_out=Y,D.next_in=G,D.avail_in=W,O.hold=B,O.bits=j,2;D.adler=O.check=1,O.mode=12;case 12:if(M===5||M===6)break e;case 13:if(O.last){B>>>=7&j,j-=7&j,O.mode=27;break}for(;j<3;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}switch(O.last=1&B,j-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(R(O),O.mode=20,M!==6)break;B>>>=2,j-=2;break e;case 2:O.mode=17;break;case 3:D.msg="invalid block type",O.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){D.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,j=B=0,O.mode=15,M===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(W<Q&&(Q=W),Y<Q&&(Q=Y),Q===0)break e;s.arraySet(X,H,G,Q,Z),W-=Q,G+=Q,Y-=Q,Z+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;j<14;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(O.nlen=257+(31&B),B>>>=5,j-=5,O.ndist=1+(31&B),B>>>=5,j-=5,O.ncode=4+(15&B),B>>>=4,j-=4,286<O.nlen||30<O.ndist){D.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;j<3;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}O.lens[Ie[O.have++]]=7&B,B>>>=3,j-=3}for(;O.have<19;)O.lens[Ie[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,be={bits:O.lenbits},me=c(0,O.lens,0,19,O.lencode,0,O.work,be),O.lenbits=be.bits,me){D.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;ue=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Se=65535&re,!((ce=re>>>24)<=j);){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(Se<16)B>>>=ce,j-=ce,O.lens[O.have++]=Se;else{if(Se===16){for(le=ce+2;j<le;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(B>>>=ce,j-=ce,O.have===0){D.msg="invalid bit length repeat",O.mode=30;break}z=O.lens[O.have-1],Q=3+(3&B),B>>>=2,j-=2}else if(Se===17){for(le=ce+3;j<le;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}j-=ce,z=0,Q=3+(7&(B>>>=ce)),B>>>=3,j-=3}else{for(le=ce+7;j<le;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}j-=ce,z=0,Q=11+(127&(B>>>=ce)),B>>>=7,j-=7}if(O.have+Q>O.nlen+O.ndist){D.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=z}}if(O.mode===30)break;if(O.lens[256]===0){D.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,be={bits:O.lenbits},me=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,be),O.lenbits=be.bits,me){D.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,be={bits:O.distbits},me=c(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,be),O.distbits=be.bits,me){D.msg="invalid distances set",O.mode=30;break}if(O.mode=20,M===6)break e;case 20:O.mode=21;case 21:if(6<=W&&258<=Y){D.next_out=Z,D.avail_out=Y,D.next_in=G,D.avail_in=W,O.hold=B,O.bits=j,l(D,J),Z=D.next_out,X=D.output,Y=D.avail_out,G=D.next_in,H=D.input,W=D.avail_in,B=O.hold,j=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;ue=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Se=65535&re,!((ce=re>>>24)<=j);){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(ue&&(240&ue)==0){for(Fe=ce,fe=ue,Le=Se;ue=(re=O.lencode[Le+((B&(1<<Fe+fe)-1)>>Fe)])>>>16&255,Se=65535&re,!(Fe+(ce=re>>>24)<=j);){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}B>>>=Fe,j-=Fe,O.back+=Fe}if(B>>>=ce,j-=ce,O.back+=ce,O.length=Se,ue===0){O.mode=26;break}if(32&ue){O.back=-1,O.mode=12;break}if(64&ue){D.msg="invalid literal/length code",O.mode=30;break}O.extra=15&ue,O.mode=22;case 22:if(O.extra){for(le=O.extra;j<le;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;ue=(re=O.distcode[B&(1<<O.distbits)-1])>>>16&255,Se=65535&re,!((ce=re>>>24)<=j);){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if((240&ue)==0){for(Fe=ce,fe=ue,Le=Se;ue=(re=O.distcode[Le+((B&(1<<Fe+fe)-1)>>Fe)])>>>16&255,Se=65535&re,!(Fe+(ce=re>>>24)<=j);){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}B>>>=Fe,j-=Fe,O.back+=Fe}if(B>>>=ce,j-=ce,O.back+=ce,64&ue){D.msg="invalid distance code",O.mode=30;break}O.offset=Se,O.extra=15&ue,O.mode=24;case 24:if(O.extra){for(le=O.extra;j<le;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){D.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(Y===0)break e;if(Q=J-Y,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){D.msg="invalid distance too far back",O.mode=30;break}te=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),ae=O.window}else ae=X,te=Z-O.offset,Q=O.length;for(Y<Q&&(Q=Y),Y-=Q,O.length-=Q;X[Z++]=ae[te++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(Y===0)break e;X[Z++]=O.length,Y--,O.mode=21;break;case 27:if(O.wrap){for(;j<32;){if(W===0)break e;W--,B|=H[G++]<<j,j+=8}if(J-=Y,D.total_out+=J,O.total+=J,J&&(D.adler=O.check=O.flags?o(O.check,X,J,Z-J):a(O.check,X,J,Z-J)),J=Y,(O.flags?B:b(B))!==O.check){D.msg="incorrect data check",O.mode=30;break}j=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;j<32;){if(W===0)break e;W--,B+=H[G++]<<j,j+=8}if(B!==(4294967295&O.total)){D.msg="incorrect length check",O.mode=30;break}j=B=0}O.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return p}return D.next_out=Z,D.avail_out=Y,D.next_in=G,D.avail_in=W,O.hold=B,O.bits=j,(O.wsize||J!==D.avail_out&&O.mode<30&&(O.mode<27||M!==4))&&P(D,D.output,D.next_out,J-D.avail_out)?(O.mode=31,-4):(q-=D.avail_in,J-=D.avail_out,D.total_in+=q,D.total_out+=J,O.total+=J,O.wrap&&J&&(D.adler=O.check=O.flags?o(O.check,X,J,D.next_out-J):a(O.check,X,J,D.next_out-J)),D.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(q==0&&J===0||M===4)&&me===h&&(me=-5),me)},i.inflateEnd=function(D){if(!D||!D.state)return p;var M=D.state;return M.window&&(M.window=null),D.state=null,h},i.inflateGetHeader=function(D,M){var O;return D&&D.state?(2&(O=D.state).wrap)==0?p:((O.head=M).done=!1,h):p},i.inflateSetDictionary=function(D,M){var O,H=M.length;return D&&D.state?(O=D.state).wrap!==0&&O.mode!==11?p:O.mode===11&&a(1,M,H,0)!==O.check?-3:P(D,M,H,H)?(O.mode=31,-4):(O.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,b){var x,w,C,S,F,A,I,N,R,P=b.bits,D=0,M=0,O=0,H=0,X=0,G=0,Z=0,W=0,Y=0,B=0,j=null,q=0,J=new s.Buf16(16),Q=new s.Buf16(16),te=null,ae=0;for(D=0;D<=15;D++)J[D]=0;for(M=0;M<p;M++)J[f[h+M]]++;for(X=P,H=15;1<=H&&J[H]===0;H--);if(H<X&&(X=H),H===0)return v[g++]=20971520,v[g++]=20971520,b.bits=1,0;for(O=1;O<H&&J[O]===0;O++);for(X<O&&(X=O),D=W=1;D<=15;D++)if(W<<=1,(W-=J[D])<0)return-1;if(0<W&&(u===0||H!==1))return-1;for(Q[1]=0,D=1;D<15;D++)Q[D+1]=Q[D]+J[D];for(M=0;M<p;M++)f[h+M]!==0&&(y[Q[f[h+M]]++]=M);if(A=u===0?(j=te=y,19):u===1?(j=a,q-=257,te=o,ae-=257,256):(j=l,te=c,-1),D=O,F=g,Z=M=B=0,C=-1,S=(Y=1<<(G=X))-1,u===1&&852<Y||u===2&&592<Y)return 1;for(;;){for(I=D-Z,R=y[M]<A?(N=0,y[M]):y[M]>A?(N=te[ae+y[M]],j[q+y[M]]):(N=96,0),x=1<<D-Z,O=w=1<<G;v[F+(B>>Z)+(w-=x)]=I<<24|N<<16|R|0,w!==0;);for(x=1<<D-1;B&x;)x>>=1;if(x!==0?(B&=x-1,B+=x):B=0,M++,--J[D]==0){if(D===H)break;D=f[h+y[M]]}if(X<D&&(B&S)!==C){for(Z===0&&(Z=X),F+=O,W=1<<(G=D-Z);G+Z<H&&!((W-=J[G+Z])<=0);)G++,W<<=1;if(Y+=1<<G,u===1&&852<Y||u===2&&592<Y)return 1;v[C=B&S]=X<<24|G<<16|F-g|0}}return B!==0&&(v[F+B]=D-Z<<24|64<<16|0),b.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var oe=re.length;0<=--oe;)re[oe]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,b=16,x=7,w=256,C=16,S=17,F=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var D=new Array(2*p);l(D);var M=new Array(512);l(M);var O=new Array(256);l(O);var H=new Array(u);l(H);var X,G,Z,W=new Array(p);function Y(re,oe,Ie,ke,he){this.static_tree=re,this.extra_bits=oe,this.extra_base=Ie,this.elems=ke,this.max_length=he,this.has_stree=re&&re.length}function B(re,oe){this.dyn_tree=re,this.max_code=0,this.stat_desc=oe}function j(re){return re<256?M[re]:M[256+(re>>>7)]}function q(re,oe){re.pending_buf[re.pending++]=255&oe,re.pending_buf[re.pending++]=oe>>>8&255}function J(re,oe,Ie){re.bi_valid>b-Ie?(re.bi_buf|=oe<<re.bi_valid&65535,q(re,re.bi_buf),re.bi_buf=oe>>b-re.bi_valid,re.bi_valid+=Ie-b):(re.bi_buf|=oe<<re.bi_valid&65535,re.bi_valid+=Ie)}function Q(re,oe,Ie){J(re,Ie[2*oe],Ie[2*oe+1])}function te(re,oe){for(var Ie=0;Ie|=1&re,re>>>=1,Ie<<=1,0<--oe;);return Ie>>>1}function ae(re,oe,Ie){var ke,he,ye=new Array(y+1),_e=0;for(ke=1;ke<=y;ke++)ye[ke]=_e=_e+Ie[ke-1]<<1;for(he=0;he<=oe;he++){var Te=re[2*he+1];Te!==0&&(re[2*he]=te(ye[Te]++,Te))}}function ce(re){var oe;for(oe=0;oe<h;oe++)re.dyn_ltree[2*oe]=0;for(oe=0;oe<p;oe++)re.dyn_dtree[2*oe]=0;for(oe=0;oe<v;oe++)re.bl_tree[2*oe]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function ue(re){8<re.bi_valid?q(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Se(re,oe,Ie,ke){var he=2*oe,ye=2*Ie;return re[he]<re[ye]||re[he]===re[ye]&&ke[oe]<=ke[Ie]}function Fe(re,oe,Ie){for(var ke=re.heap[Ie],he=Ie<<1;he<=re.heap_len&&(he<re.heap_len&&Se(oe,re.heap[he+1],re.heap[he],re.depth)&&he++,!Se(oe,ke,re.heap[he],re.depth));)re.heap[Ie]=re.heap[he],Ie=he,he<<=1;re.heap[Ie]=ke}function fe(re,oe,Ie){var ke,he,ye,_e,Te=0;if(re.last_lit!==0)for(;ke=re.pending_buf[re.d_buf+2*Te]<<8|re.pending_buf[re.d_buf+2*Te+1],he=re.pending_buf[re.l_buf+Te],Te++,ke===0?Q(re,he,oe):(Q(re,(ye=O[he])+f+1,oe),(_e=A[ye])!==0&&J(re,he-=H[ye],_e),Q(re,ye=j(--ke),Ie),(_e=I[ye])!==0&&J(re,ke-=W[ye],_e)),Te<re.last_lit;);Q(re,w,oe)}function Le(re,oe){var Ie,ke,he,ye=oe.dyn_tree,_e=oe.stat_desc.static_tree,Te=oe.stat_desc.has_stree,Re=oe.stat_desc.elems,Ee=-1;for(re.heap_len=0,re.heap_max=g,Ie=0;Ie<Re;Ie++)ye[2*Ie]!==0?(re.heap[++re.heap_len]=Ee=Ie,re.depth[Ie]=0):ye[2*Ie+1]=0;for(;re.heap_len<2;)ye[2*(he=re.heap[++re.heap_len]=Ee<2?++Ee:0)]=1,re.depth[he]=0,re.opt_len--,Te&&(re.static_len-=_e[2*he+1]);for(oe.max_code=Ee,Ie=re.heap_len>>1;1<=Ie;Ie--)Fe(re,ye,Ie);for(he=Re;Ie=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Fe(re,ye,1),ke=re.heap[1],re.heap[--re.heap_max]=Ie,re.heap[--re.heap_max]=ke,ye[2*he]=ye[2*Ie]+ye[2*ke],re.depth[he]=(re.depth[Ie]>=re.depth[ke]?re.depth[Ie]:re.depth[ke])+1,ye[2*Ie+1]=ye[2*ke+1]=he,re.heap[1]=he++,Fe(re,ye,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(ve,Me){var Oe,qe,st,it,Ct,Wt,$t=Me.dyn_tree,_n=Me.max_code,En=Me.stat_desc.static_tree,Ln=Me.stat_desc.has_stree,xn=Me.stat_desc.extra_bits,Rt=Me.stat_desc.extra_base,We=Me.stat_desc.max_length,ie=0;for(it=0;it<=y;it++)ve.bl_count[it]=0;for($t[2*ve.heap[ve.heap_max]+1]=0,Oe=ve.heap_max+1;Oe<g;Oe++)We<(it=$t[2*$t[2*(qe=ve.heap[Oe])+1]+1]+1)&&(it=We,ie++),$t[2*qe+1]=it,_n<qe||(ve.bl_count[it]++,Ct=0,Rt<=qe&&(Ct=xn[qe-Rt]),Wt=$t[2*qe],ve.opt_len+=Wt*(it+Ct),Ln&&(ve.static_len+=Wt*(En[2*qe+1]+Ct)));if(ie!==0){do{for(it=We-1;ve.bl_count[it]===0;)it--;ve.bl_count[it]--,ve.bl_count[it+1]+=2,ve.bl_count[We]--,ie-=2}while(0<ie);for(it=We;it!==0;it--)for(qe=ve.bl_count[it];qe!==0;)_n<(st=ve.heap[--Oe])||($t[2*st+1]!==it&&(ve.opt_len+=(it-$t[2*st+1])*$t[2*st],$t[2*st+1]=it),qe--)}})(re,oe),ae(ye,Ee,re.bl_count)}function z(re,oe,Ie){var ke,he,ye=-1,_e=oe[1],Te=0,Re=7,Ee=4;for(_e===0&&(Re=138,Ee=3),oe[2*(Ie+1)+1]=65535,ke=0;ke<=Ie;ke++)he=_e,_e=oe[2*(ke+1)+1],++Te<Re&&he===_e||(Te<Ee?re.bl_tree[2*he]+=Te:he!==0?(he!==ye&&re.bl_tree[2*he]++,re.bl_tree[2*C]++):Te<=10?re.bl_tree[2*S]++:re.bl_tree[2*F]++,ye=he,Ee=(Te=0)===_e?(Re=138,3):he===_e?(Re=6,3):(Re=7,4))}function me(re,oe,Ie){var ke,he,ye=-1,_e=oe[1],Te=0,Re=7,Ee=4;for(_e===0&&(Re=138,Ee=3),ke=0;ke<=Ie;ke++)if(he=_e,_e=oe[2*(ke+1)+1],!(++Te<Re&&he===_e)){if(Te<Ee)for(;Q(re,he,re.bl_tree),--Te!=0;);else he!==0?(he!==ye&&(Q(re,he,re.bl_tree),Te--),Q(re,C,re.bl_tree),J(re,Te-3,2)):Te<=10?(Q(re,S,re.bl_tree),J(re,Te-3,3)):(Q(re,F,re.bl_tree),J(re,Te-11,7));ye=he,Ee=(Te=0)===_e?(Re=138,3):he===_e?(Re=6,3):(Re=7,4)}}l(W);var be=!1;function le(re,oe,Ie,ke){J(re,(c<<1)+(ke?1:0),3),(function(he,ye,_e,Te){ue(he),q(he,_e),q(he,~_e),s.arraySet(he.pending_buf,he.window,ye,_e,he.pending),he.pending+=_e})(re,oe,Ie)}i._tr_init=function(re){be||((function(){var oe,Ie,ke,he,ye,_e=new Array(y+1);for(he=ke=0;he<u-1;he++)for(H[he]=ke,oe=0;oe<1<<A[he];oe++)O[ke++]=he;for(O[ke-1]=he,he=ye=0;he<16;he++)for(W[he]=ye,oe=0;oe<1<<I[he];oe++)M[ye++]=he;for(ye>>=7;he<p;he++)for(W[he]=ye<<7,oe=0;oe<1<<I[he]-7;oe++)M[256+ye++]=he;for(Ie=0;Ie<=y;Ie++)_e[Ie]=0;for(oe=0;oe<=143;)P[2*oe+1]=8,oe++,_e[8]++;for(;oe<=255;)P[2*oe+1]=9,oe++,_e[9]++;for(;oe<=279;)P[2*oe+1]=7,oe++,_e[7]++;for(;oe<=287;)P[2*oe+1]=8,oe++,_e[8]++;for(ae(P,h+1,_e),oe=0;oe<p;oe++)D[2*oe+1]=5,D[2*oe]=te(oe,5);X=new Y(P,A,f+1,h,y),G=new Y(D,I,0,p,y),Z=new Y(new Array(0),N,0,v,x)})(),be=!0),re.l_desc=new B(re.dyn_ltree,X),re.d_desc=new B(re.dyn_dtree,G),re.bl_desc=new B(re.bl_tree,Z),re.bi_buf=0,re.bi_valid=0,ce(re)},i._tr_stored_block=le,i._tr_flush_block=function(re,oe,Ie,ke){var he,ye,_e=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(Te){var Re,Ee=4093624447;for(Re=0;Re<=31;Re++,Ee>>>=1)if(1&Ee&&Te.dyn_ltree[2*Re]!==0)return a;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return o;for(Re=32;Re<f;Re++)if(Te.dyn_ltree[2*Re]!==0)return o;return a})(re)),Le(re,re.l_desc),Le(re,re.d_desc),_e=(function(Te){var Re;for(z(Te,Te.dyn_ltree,Te.l_desc.max_code),z(Te,Te.dyn_dtree,Te.d_desc.max_code),Le(Te,Te.bl_desc),Re=v-1;3<=Re&&Te.bl_tree[2*R[Re]+1]===0;Re--);return Te.opt_len+=3*(Re+1)+5+5+4,Re})(re),he=re.opt_len+3+7>>>3,(ye=re.static_len+3+7>>>3)<=he&&(he=ye)):he=ye=Ie+5,Ie+4<=he&&oe!==-1?le(re,oe,Ie,ke):re.strategy===4||ye===he?(J(re,2+(ke?1:0),3),fe(re,P,D)):(J(re,4+(ke?1:0),3),(function(Te,Re,Ee,ve){var Me;for(J(Te,Re-257,5),J(Te,Ee-1,5),J(Te,ve-4,4),Me=0;Me<ve;Me++)J(Te,Te.bl_tree[2*R[Me]+1],3);me(Te,Te.dyn_ltree,Re-1),me(Te,Te.dyn_dtree,Ee-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,_e+1),fe(re,re.dyn_ltree,re.dyn_dtree)),ce(re),ke&&ue(re)},i._tr_tally=function(re,oe,Ie){return re.pending_buf[re.d_buf+2*re.last_lit]=oe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&oe,re.pending_buf[re.l_buf+re.last_lit]=255&Ie,re.last_lit++,oe===0?re.dyn_ltree[2*Ie]++:(re.matches++,oe--,re.dyn_ltree[2*(O[Ie]+f+1)]++,re.dyn_dtree[2*j(oe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){J(re,2,3),Q(re,w,P),(function(oe){oe.bi_valid===16?(q(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){x(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,S=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=S,C}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(C){a.postMessage(f+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){x(C.data)},function(C){u.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(C){var S=g.createElement("script");S.onreadystatechange=function(){x(C),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(C){setTimeout(x,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),F=0;F<S.length;F++)S[F]=arguments[F+1];var A={callback:C,args:S};return p[h]=A,l(h),h++},y.clearImmediate=b}function b(C){delete p[C]}function x(C){if(v)setTimeout(x,0,C);else{var S=p[C];if(S){v=!0;try{(function(F){var A=F.callback,I=F.args;switch(I.length){case 0:A();break;case 1:A(I[0]);break;case 2:A(I[0],I[1]);break;case 3:A(I[0],I[1],I[2]);break;default:A.apply(o,I)}})(S)}finally{b(C),v=!1}}}}function w(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(f)===0&&x(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ys<"u"?ys:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(DC)),DC.exports}var Fme=OH();const _m=v_(Fme),Mme={header:{search:"",login:"  ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:"  ."},blog:{title:" Gitut",subtitle:"           ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},app:{error:{title:"  ",message:"   .       ."}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:" ",chooseThisCafe:"  ",viewDetails:"  ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:" ",managedBy:":",checkingStatus:" ...",online:"",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"   .            .",searchPlaceholder:"   ...",searchLabel:"    ",noMatch:"    .",step2Title:"2.  ",continueToForm:"   ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"         .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"   !",subtitle:"   .        .",orderCodeLabel:"   :",note:":         .",backToHome:" "},formPage:{title:" ",submittingTo:"   ",online:"",offline:" ",scanId:" ",scanIdTitle:"   ",micPermissionErrorTitle:"   ",micPermissionErrorMessage:"         .    .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""   .',answerPlaceholder:" ... : {placeholder}",toggleMic:"/ ",optionsHint:"  (  ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"      .",profilePicture:" ",backToEdit:" ",submitFinal:"  ",submitting:" ...",errorTitle:"  ",errorMessage:"      .     .",backToSearch:"  ",error:{noDocument:"   .",loadFailed:"   .",unexpected:"   .",notFound:"  ",wordTemplateFailed:"   Word."},fillDataFor:"  :",fillFieldsBelow:"      .",importantNote:" ",noteContent:"           .",selectOption:"--  --",createDocument:" "},adPage:{preparing:"  ...",autoDisplay:"    :",downloadBlank:"  ",fillDownload:"/",downloadPdf:"  PDF",downloadWord:"  Word",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"      .",preparingLink:"  ...",pleaseWait:"     :",linkReady:" !",downloadNow:" ",goTo:"  {name}",internalPage:" ",hadithTitle:" ",prayerReminderTitle:" ",hadithIntro:"      :",prayerHadithContent:'"        ."',prayerHadithSource:"     ",istighfarContent:'"                  "'},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"    ",subtitle2:"      ."},step1:{title:"1.   ",placeholder:"     ...",voiceSearchTitle:" "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:":   ({count})",nextStepButtonDisabledTitle:"      ",emptyState:"     ."},alert:{selectFillable:"       ."}},blogPost:{publishedOn:" :",by:":",relatedArticles:"   ",backToList:"  ",relatedPostsSidebar:"  ",notFoundTitle:"404 -   ",notFoundMessage:"         .",backToBlog:" "},searchForm:{searchByName:" ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"  (PDF)",siteServices:" "},serviceDetailPage:{serviceNotFound:"  ",backToList:"  ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"  ...",noPreview:"     .",openInNewWindow:"     ",instructions:"  ",voiceExample:"  ():",requiredInfo:"  ():",findCafeTitle:"     ",searchNearest:"    ",locating:"  ...",resultsTitle:" ({count})",allCafesTitle:"      ({count})",noResults:"       ."},login:{title:"  ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:"",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"   ."},reset:{title:"   ",emailLabel:" ",sendButton:"   ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:" "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:" / ",daira:" / ",commune:" / ",state:" / ",city:"",street:" ()",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:":   ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"     6   .",signupFailed:"        .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"  "}},formFields:{profilePicture:" ",fullName:" ",firstName:"",lastName:"",firstNameFr:" (/)",lastNameFr:" (/)",birthdaydate:" ",birthdayplace:" ",address:"",phone:" ",email:" ",jobTitle:" ",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",maritalStatusOptions:{married:"/",single:"/",divorced:"/"},motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",gender:"",genderOptions:{male:"",female:""},height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"  ",employerAddress:"  ",educationLevel:" ",educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "},universityName:" ",graduationDate:" ",fieldOfStudy:"",higherInstituteName:" ",vocationalTrainingCenterName:"  ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:" ",passportNumber:"  ",passportIssueDate:"  ",passportExpiryDate:"  ",passportIssuePlace:"  ",drivingLicenseNumber:"  ",drivingLicenseCategory:" ",drivingLicenseIssueDate:"  ",numberOfChildren:" ",numberOfSons:"  ()",numberOfDaughters:" ",numberOfSiblings:"  ",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" / ",spouseDob:"  /",spouseJob:" /",militaryStatus:" ",ToTheGovernorOftheStateOf:"   ",submissionDaira:"   ",ToTheMayorOf:"   ",employerWilaya:" ",employerDaira:" ",employerCommune:" ",criminalRecordNumber:"  ",criminalRecordIssueDate:"  ",criminalRecordIssuePlace:"  ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"  (CASNOS)",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"  ",bankName:" ",bankAccountNumber:"  (RIB)",bankAgencyName:" ",bankAgencyCode:" ",bankNameTo:"  ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"  ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:" ",nationalIdIssueDate:"  ",nationalIdExpiryDate:"  ",drivingLicenseExpiryDate:"  ",familyBookNumber:"  ",marriageDate:" ",marriagePlace:" ",rentalContractNumber:"  ",landlordName:" ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"  ",deceasedParentDod:" ",deceasedParentPod:" ",deathCertificateNumber:"  ",survivingParentFullName:"  ",survivingParentJobTitle:"  ",hospitalName:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:" ( )",paternalGrandfatherPob:"  ",paternalGrandfatherAge:" ",paternalGrandmotherName:" ( )",paternalGrandmotherPob:"  ",paternalGrandmotherAge:" ",maternalGrandfatherName:" ( )",maternalGrandfatherPob:"  ",maternalGrandfatherAge:" ",maternalGrandmotherName:" ( )",maternalGrandmotherPob:"  ",maternalGrandmotherAge:" "}},Ome={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout",allCountries:"All Countries",allCountriesSearch:"All Countries (Global Search)",selectCafeCountry:"Select Cafe Country"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},blog:{title:"Gitut Blog",subtitle:"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers."},share:{title:"Share:",copied:"Copied!",copyDetails:"Copy details"},blogPostCard:{readMore:"Read more"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},app:{error:{title:"Application Error",message:"Could not load essential data. There might be a problem connecting to the server."}},cafeCard:{owner:"Owner:",address:"Address:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",chooseThisCafe:"Choose this Cafe",viewDetails:"View Details & Services",startChat:"Start Chat",distanceUnit:"km"},profilePage:{backToSearch:"Back to Search",managedBy:"Managed by:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",address:"Address:",description:"Description:",viewOnMap:"View on Map",step1Title:"1. Select Required Documents",step1Subtitle:"Select the documents you need. You can search for a document and add it to the list, or choose directly from the list below.",searchPlaceholder:"Search for a document to add...",searchLabel:"Search for a document to add to your list",noMatch:"No documents match your search.",step2Title:"2. Send Your Request",continueToForm:"Continue to Fill Form ({count})",similarCafes:"Similar Cafes",cafeNotFoundTitle:"Cafe Not Found",cafeNotFoundMessage:"Sorry, we couldn't find the page you're looking for.",startChat:"Start Chat",chatWith:"Chat with {name}"},confirmationPage:{title:"Your Request Has Been Sent Successfully!",subtitle:"Your information has been sent to the cafe. Please go there and provide the following code to receive your documents.",orderCodeLabel:"Your order code is:",note:"Note: Keep this code, you will need it to confirm your order with the cafe owner.",backToHome:"Back to Homepage"},formPage:{title:"Fill Out the Form",submittingTo:"You are submitting a request to",online:"Online",offline:"Offline",scanId:"Scan ID",scanIdTitle:"Scan ID card with camera",micPermissionErrorTitle:"Microphone Access Denied",micPermissionErrorMessage:"Please enable microphone access in your browser settings to use the voice input feature. You can still complete the form manually.",stepCounter:"Step {current} of {total}",navigationHint:'You can say "Next" or "Previous" to navigate between fields.',answerPlaceholder:"Answer here... e.g., {placeholder}",toggleMic:"Toggle Microphone",optionsHint:"Available options (say the number to select):",previous:"Previous",next:"Next",review:"Review",formCompleteTitle:"Form Complete!",formCompleteMessage:"Please review the data carefully before final submission.",profilePicture:"Profile Picture",backToEdit:"Back to Edit",submitFinal:"Submit Final Request",submitting:"Submitting...",errorTitle:"Request Error",errorMessage:"No documents or services were selected. Please go back and select documents first.",backToSearch:"Back to Search Page",error:{noDocument:"No document specified.",loadFailed:"Failed to load document data.",unexpected:"An unexpected error occurred.",notFound:"Document Not Found",wordTemplateFailed:"Failed to load Word template."},fillDataFor:"Fill Data For:",fillFieldsBelow:"Fill in the fields below to create your document.",importantNote:"Important Note",noteContent:"Buttons to preview, download, or fill this document are at the bottom of this page.",selectOption:"-- Select --",createDocument:"Create Document"},adPage:{preparing:"Preparing your document...",autoDisplay:"Your document will be displayed automatically in:",downloadBlank:"Download Blank Copy",fillDownload:"Fill/Download",downloadPdf:"Download as PDF",downloadWord:"Download as Word",adLabel:"Advertisement:",optionsTitle:"Document Options",stepFormatTitle:"Last Step: Choose Download Format",stepFormatDesc:"Choose the format you want to download the document in.",preparingLink:"Preparing link...",pleaseWait:"Please wait, link will be ready in:",linkReady:"Link Ready!",downloadNow:"Download Now",goTo:"Go to {name}",internalPage:"Internal Page",hadithTitle:"Hadith",prayerReminderTitle:"Prayer Reminder",hadithIntro:"The Prophet (peace be upon him) said:",prayerHadithContent:'"The covenant between us and them is prayer, so whoever abandons it has disbelieved."',prayerHadithSource:"Narrated by Ahmad, Abu Dawood, An-Nasa'i, At-Tirmidhi (Hasan Sahih), Ibn Majah, Ibn Hibban, Al-Hakim",istighfarContent:'"Whoever keeps to asking for forgiveness (Istighfar), Allah will make a way out for him from every difficulty, a relief from every anxiety, and provide for him from where he does not expect."'},findPage:{hero:{title1:"Get Your Documents Done with Ease",subtitle1:"Find an internet cafe nearby, send your request remotely, and pick up your ready documents.",title2:"Find a nearby internet cafe",subtitle2:"Send your request remotely and pick up your ready documents."},step1:{title:"1. Search for a Document",placeholder:"Birth certificate, CV, Request...",voiceSearchTitle:"Voice Search"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next: Choose Cafe ({count})",nextStepButtonDisabledTitle:"Please select at least one document",emptyState:"No documents selected yet."},alert:{selectFillable:"Please select at least one fillable document or service."}},blogPost:{publishedOn:"Published on:",by:"By:",relatedArticles:"Other articles you might like",backToList:"Back to all articles",relatedPostsSidebar:"Related Posts",notFoundTitle:"404 - Post Not Found",notFoundMessage:"Sorry, we couldn't find the post you're looking for.",backToBlog:"Back to Blog"},searchForm:{searchByName:"Search by name...",search:"Search"},servicesListPage:{title:"Services List",fillableDocs:"Fillable Documents",staticDocs:"Printable Documents (PDF)",siteServices:"Website Services"},serviceDetailPage:{serviceNotFound:"Service Not Found",backToList:"Back to Services List",preview:"Document Preview",previousDesign:"Previous Design",nextDesign:"Next Design",loadingPreview:"Loading preview...",noPreview:"No preview is available for this document.",openInNewWindow:"Open in new window or download",instructions:"Instructions for This Design",voiceExample:"How to Record (Example):",requiredInfo:"Required information (spoken):",findCafeTitle:"Find a cafe that provides this service",searchNearest:"Search for cafes nearest to me",locating:"Locating...",resultsTitle:"Results ({count})",allCafesTitle:"Internet cafes providing this service ({count})",noResults:"No cafes match your search for all required services."},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},formFields:{fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (Fr/En)",lastNameFr:"Last Name (Fr/En)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",maritalStatusOptions:{married:"Married",single:"Single",divorced:"Divorced"},motherFirstName:"Mother's First Name",motherLastName:"Mother's Maiden Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State/Province of Residence",residenceDaira:"District of Residence",residenceCommune:"City/Municipality of Residence",residenceStreet:"Street of Residence",birthWilaya:"Birth State/Province",birthDaira:"Birth District",birthCommune:"Birth City",bloodType:"Blood Type",gender:"Gender",genderOptions:{male:"Male",female:"Female"},height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Employer Name",employerAddress:"Employer Address",educationLevel:"Education Level",educationLevelOptions:{primary:"Primary",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"},universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Institute Name",vocationalTrainingCenterName:"Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Issue Place",drivingLicenseNumber:"Driving License Number",drivingLicenseCategory:"License Category",drivingLicenseIssueDate:"License Issue Date",numberOfChildren:"Number of Children",numberOfSons:"Number of Sons",numberOfDaughters:"Number of Daughters",numberOfSiblings:"Number of Siblings",numberOfBrothers:"Number of Brothers",numberOfSisters:"Number of Sisters",spouseFullName:"Spouse Full Name",spouseDob:"Spouse Date of Birth",spouseJob:"Spouse Job",militaryStatus:"Military Status",ToTheGovernorOftheStateOf:"To the Governor of",submissionDaira:"To the District Chief of",ToTheMayorOf:"To the Mayor of",employerWilaya:"Employer State",employerDaira:"Employer District",employerCommune:"Employer City",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Record Issue Date",criminalRecordIssuePlace:"Record Issue Place",commercialRegistryNumber:"Commercial Registry No.",taxIdNumber:"Tax ID Number",casnosNumber:"Insurance Number",vehicleRegistrationCardNumber:"Vehicle Registration No.",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Agency Code",bankNameTo:"Recipient Bank Name",bankWilayaTo:"Recipient Bank State",bankCountryTo:"Recipient Country",bankStreetTo:"Recipient Bank Address",bankNameFrom:"Sender Bank Name",bankWilayaFrom:"Sender Bank State",bankCountryFrom:"Sender Country",bankStreetFrom:"Sender Bank Address",amountReceived:"Amount Received",amountSent:"Amount Sent",employmentContractType:"Contract Type",employmentStartDate:"Start Date",employeeIdNumber:"Employee ID",professionalGrade:"Professional Grade",nationalIdIssueDate:"ID Issue Date",nationalIdExpiryDate:"ID Expiry Date",drivingLicenseExpiryDate:"License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Marriage Place",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Name",propertyAddress:"Property Address",attendingPhysicianName:"Physician Name",disabilityType:"Disability Type",disabilityPercentage:"Disability Percentage (%)",deceasedParentFullName:"Deceased Parent Name",deceasedParentDod:"Date of Death",deceasedParentPod:"Place of Death",deathCertificateNumber:"Death Certificate No.",survivingParentFullName:"Surviving Parent Name",survivingParentJobTitle:"Surviving Parent Job",hospitalName:"Hospital Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Select Image",fullName:"e.g. John Doe",firstName:"e.g. John",lastName:"e.g. Doe",firstNameFr:"e.g. John",lastNameFr:"e.g. Doe",birthdayplace:"e.g. New York",address:"e.g. 123 Main St...",phone:"e.g. +1 555 0123",email:"e.g. user@example.com",jobTitle:"e.g. Engineer",nationalId:"Enter ID Number",birthCertificateNumber:"Enter Cert Number",socialSecurityNumber:"Enter SSN",nationality:"e.g. American",maritalStatus:"Select Status",motherFirstName:"Mother's Name",motherLastName:"Mother's Maiden Name",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's Name",fatherLastName:"Father's Last Name",fatherPob:"Father's Place of Birth",residenceWilaya:"State",residenceDaira:"District",residenceCommune:"City",residenceStreet:"Street",birthWilaya:"Birth State",birthDaira:"Birth District",birthCommune:"Birth City",bloodType:"e.g. A+",gender:"Select Gender",height:"e.g. 175",eyeColor:"e.g. Brown",distinguishingMarks:"e.g. Scar on cheek",employerName:"Company Name",employerAddress:"Company Address",educationLevel:"Select Level",universityName:"University",fieldOfStudy:"Major/Field",higherInstituteName:"Institute Name",vocationalTrainingCenterName:"Training Center Name",schoolName:"School Name",highSchoolName:"High School",middleSchoolName:"Middle School",universityCity:"Uni City",passportNumber:"Passport No",passportIssuePlace:"Issue Place",drivingLicenseNumber:"License No",drivingLicenseCategory:"Category",numberOfChildren:"0",numberOfSons:"0",numberOfDaughters:"0",numberOfSiblings:"0",numberOfBrothers:"0",numberOfSisters:"0",spouseFullName:"Spouse Name",spouseJob:"Spouse Job",militaryStatus:"Status",ToTheGovernorOftheStateOf:"Governor",submissionDaira:"District Chief",ToTheMayorOf:"Mayor",employerWilaya:"Work State",employerDaira:"Work District",employerCommune:"Work City",criminalRecordNumber:"Number",criminalRecordIssuePlace:"Place",commercialRegistryNumber:"CR No",taxIdNumber:"TIN",casnosNumber:"Insurance No",vehicleRegistrationCardNumber:"Reg No",vehicleType:"Type",vehicleBrand:"Brand",vehicleModel:"Model",bankName:"Bank",bankAccountNumber:"Account No",bankAgencyName:"Agency",bankAgencyCode:"Code",bankNameTo:"To Bank",bankWilayaTo:"To State",bankCountryTo:"To Country",bankStreetTo:"To Address",bankNameFrom:"From Bank",bankWilayaFrom:"From State",bankCountryFrom:"From Country",bankStreetFrom:"From Address",amountReceived:"Amount",amountSent:"Amount",employmentContractType:"Type",employeeIdNumber:"ID",professionalGrade:"Grade",familyBookNumber:"Number",marriagePlace:"Place",rentalContractNumber:"Number",landlordName:"Name",propertyAddress:"Address",attendingPhysicianName:"Doctor",disabilityType:"Type",disabilityPercentage:"Percentage",deceasedParentFullName:"Parent Name",deceasedParentPod:"Death Place",deathCertificateNumber:"Cert No",survivingParentFullName:"Parent Name",survivingParentJobTitle:"Job",hospitalName:"Hospital",motherFullName:"Mother's Full Name",motherAge:"Mother's Age",fatherFullName:"Father's Full Name",fatherAge:"Father's Age",spousePob:"Spouse Birth Place",spouseAge:"Spouse Age",sonName:"Son Name",sonPob:"Son Birth Place",sonAge:"Son Age",daughterName:"Daughter Name",daughterPob:"Daughter Birth Place",daughterAge:"Daughter Age",paternalGrandfatherName:"Paternal Grandfather",paternalGrandfatherPob:"Birth Place",paternalGrandfatherAge:"Age",paternalGrandmotherName:"Paternal Grandmother",paternalGrandmotherPob:"Birth Place",paternalGrandmotherAge:"Age",maternalGrandfatherName:"Maternal Grandfather",maternalGrandfatherPob:"Birth Place",maternalGrandfatherAge:"Age",maternalGrandmotherName:"Maternal Grandmother",maternalGrandmotherPob:"Birth Place",maternalGrandmotherAge:"Age"}}},Ume={header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion",allCountries:"Tous les pays",allCountriesSearch:"Tous les pays (Recherche globale)",selectCafeCountry:"Slectionner le pays du caf"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},blog:{title:"Blog Gitut",subtitle:"Suivez nos dernires actualits, mises  jour et conseils utiles pour les propritaires de cafs et les demandeurs de services documentaires."},share:{title:"Partager :",copied:"Copi !",copyDetails:"Copier les dtails"},blogPostCard:{readMore:"Lire la suite"},relatedServices:{title:"Services connexes"},relatedPosts:{title:"Articles connexes"},relatedPages:{title:"Autres pages"},app:{error:{title:"Erreur d'application",message:"Impossible de charger les donnes essentielles. Il peut y avoir un problme de connexion au serveur."}},cafeCard:{owner:"Propritaire :",address:"Adresse :",checkingStatus:"Vrification du statut...",online:"En ligne",offline:"Hors ligne",chooseThisCafe:"Choisir ce caf",viewDetails:"Voir dtails et services",startChat:"Dmarrer la discussion",distanceUnit:"km"},profilePage:{backToSearch:"Retour  la recherche",managedBy:"Gr par :",checkingStatus:"Vrification du statut...",online:"En ligne",offline:"Hors ligne",address:"Adresse :",description:"Description :",viewOnMap:"Voir sur la carte",step1Title:"1. Slectionner les documents requis",step1Subtitle:"Slectionnez les documents dont vous avez besoin. Vous pouvez rechercher un document et l'ajouter  la liste, ou choisir directement dans la liste ci-dessous.",searchPlaceholder:"Rechercher un document  ajouter...",searchLabel:"Rechercher un document  ajouter  votre liste",noMatch:"Aucun document ne correspond  votre recherche.",step2Title:"2. Envoyer votre demande",continueToForm:"Continuer pour remplir le formulaire ({count})",similarCafes:"Cafs similaires",cafeNotFoundTitle:"Caf non trouv",cafeNotFoundMessage:"Dsol, nous n'avons pas trouv la page que vous recherchez.",startChat:"Dmarrer la discussion",chatWith:"Discuter avec {name}"},confirmationPage:{title:"Votre demande a t envoye avec succs !",subtitle:"Vos informations ont t envoyes au caf. Veuillez vous y rendre et fournir le code suivant pour recevoir vos documents.",orderCodeLabel:"Votre code de commande est :",note:"Remarque : Conservez ce code, vous en aurez besoin pour confirmer votre commande auprs du propritaire du caf.",backToHome:"Retour  l'accueil"},formPage:{title:"Remplir le formulaire",submittingTo:"Vous envoyez une demande  :",online:"En ligne",offline:"Hors ligne",scanId:"Scanner ID",scanIdTitle:"Scanner la carte d'identit avec la camra",micPermissionErrorTitle:"Accs au microphone refus",micPermissionErrorMessage:"Veuillez activer l'accs au microphone dans les paramtres de votre navigateur pour utiliser la fonction de saisie vocale. Vous pouvez toujours remplir le formulaire manuellement.",stepCounter:"tape {current} sur {total}",navigationHint:'Vous pouvez dire "Suivant" ou "Prcdent" pour naviguer entre les champs.',answerPlaceholder:"Rpondez ici... ex : {placeholder}",toggleMic:"Activer/Dsactiver le micro",optionsHint:"Options disponibles (dites le numro pour slectionner) :",previous:"Prcdent",next:"Suivant",review:"Rviser",formCompleteTitle:"Formulaire termin !",formCompleteMessage:"Veuillez vrifier attentivement les donnes avant la soumission finale.",profilePicture:"Photo de profil",backToEdit:"Retour  l'dition",submitFinal:"Soumettre la demande finale",submitting:"Envoi en cours...",errorTitle:"Erreur de demande",errorMessage:"Aucun document ou service n'a t slectionn. Veuillez revenir en arrire et slectionner des documents d'abord.",backToSearch:"Retour  la page de recherche",error:{noDocument:"Aucun document spcifi.",loadFailed:"chec du chargement des donnes du document.",unexpected:"Une erreur inattendue s'est produite.",notFound:"Document non trouv",wordTemplateFailed:"chec du chargement du modle Word."},fillDataFor:"Remplir les donnes pour :",fillFieldsBelow:"Remplissez les champs ci-dessous pour crer votre document.",importantNote:"Note Importante",noteContent:"Les boutons pour prvisualiser, tlcharger ou remplir ce document se trouvent au bas de cette page.",selectOption:"-- Slectionner --",createDocument:"Crer le document"},adPage:{preparing:"Prparation de votre document...",autoDisplay:"Votre document s'affichera automatiquement dans :",downloadBlank:"Tlcharger une copie vierge",fillDownload:"Remplir/Tlcharger",downloadPdf:"Tlcharger en PDF",downloadWord:"Tlcharger en Word",adLabel:"Publicit :",optionsTitle:"Options du document",stepFormatTitle:"Dernire tape : Choisir le format",stepFormatDesc:"Choisissez le format dans lequel vous souhaitez tlcharger le document.",preparingLink:"Prparation du lien...",pleaseWait:"Veuillez patienter, le lien sera prt dans :",linkReady:"Le lien est prt !",downloadNow:"Tlcharger maintenant",goTo:"Aller  {name}",internalPage:"Page interne",hadithTitle:"Hadith",prayerReminderTitle:"Rappel de prire",hadithIntro:"Le Prophte (paix et bndictions sur lui) a dit :",prayerHadithContent:`"Le pacte qu'il y a entre nous et eux, c'est la prire ; et celui qui la dlaisse aura certes mcru."`,prayerHadithSource:"Rapport par Ahmad, Abu Daoud, An-Nasa'i, At-Tirmidhi",istighfarContent:`"Celui qui s'attache  la demande de pardon, Allah lui amnage une issue de chaque gne, une dlivrance de chaque souci et lui accorde sa subsistance d'o il ne s'attendait pas."`},findPage:{hero:{title1:"Obtenez vos documents facilement",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Trouvez un cybercaf  proximit",subtitle2:"Envoyez votre demande  distance et rcuprez vos documents prts."},step1:{title:"1. Rechercher un document",placeholder:"Acte de naissance, CV...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"Suivant : Choisir le caf ({count})",nextStepButtonDisabledTitle:"Veuillez slectionner au moins un document",emptyState:"Aucun document slectionn pour le moment."},alert:{selectFillable:"Veuillez slectionner au moins un document remplissable."}},blogPost:{publishedOn:"Publi le :",by:"Par :",relatedArticles:"Autres articles susceptibles de vous plaire",backToList:"Retour  tous les articles",relatedPostsSidebar:"Articles connexes",notFoundTitle:"404 - Article non trouv",notFoundMessage:"Dsol, nous n'avons pas trouv l'article que vous cherchez.",backToBlog:"Retour au blog"},searchForm:{searchByName:"Rechercher par nom...",search:"Rechercher"},servicesListPage:{title:"Liste des services",fillableDocs:"Documents remplissables",staticDocs:"Documents imprimables (PDF)",siteServices:"Services de site web"},serviceDetailPage:{serviceNotFound:"Service non trouv",backToList:"Retour  la liste des services",preview:"Aperu du document",previousDesign:"Design prcdent",nextDesign:"Design suivant",loadingPreview:"Chargement de l'aperu...",noPreview:"Aucun aperu n'est disponible pour ce document.",openInNewWindow:"Ouvrir dans une nouvelle fentre ou tlcharger",instructions:"Instructions pour ce design",voiceExample:"Comment enregistrer (Exemple) :",requiredInfo:"Informations requises (vocal) :",findCafeTitle:"Trouver un caf qui fournit ce service",searchNearest:"Rechercher les cafs les plus proches de moi",locating:"Localisation...",resultsTitle:"Rsultats ({count})",allCafesTitle:"Cafs internet fournissant ce service ({count})",noResults:"Aucun caf ne correspond  votre recherche pour tous les services requis."},login:{title:"Connexion Propritaire de Caf",emailLabel:"Email",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Connexion",loggingInButton:"Connexion en cours...",noAccount:"Pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre email pour activer votre compte.",wrongCredentials:"L'email ou le mot de passe est incorrect.",enterEmail:"Veuillez entrer votre adresse email."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"Email enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation du mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'email. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"Email",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"ex : Le Coin Confort",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"ex : Jean Dupont",country:"Pays",wilaya:"tat/Province",daira:"District",commune:"Ville/Municipalit",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner l'tat",selectDaira:"Slectionner le district",selectCommune:"Slectionner la ville",statePlaceholder:"ex : le-de-France, Lyon",cityPlaceholder:"ex : Paris, Marseille",streetPlaceholder:"ex : 123 Rue de la Libert",createButton:"Crer compte & caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser un email Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet email est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre email",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},formFields:{profilePicture:"Photo de profil",fullName:"Nom complet",firstName:"Prnom",lastName:"Nom de famille",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse",phone:"Tlphone",email:"Email",jobTitle:"Profession",nationalId:"Numro d'identification nationale",birthCertificateNumber:"Numro d'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",maritalStatusOptions:{married:"Mari(e)",single:"Clibataire",divorced:"Divorc(e)"},motherFirstName:"Prnom de la mre",motherLastName:"Nom de jeune fille de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom du pre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya/tat de rsidence",residenceDaira:"Dara/District de rsidence",residenceCommune:"Commune/Ville de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",gender:"Sexe",genderOptions:{male:"Homme",female:"Femme"},height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes distinctifs",employerName:"Nom de l'employeur",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",educationLevelOptions:{primary:"Primaire",middle:"Moyen/Collge",high:"Lyce",university:"Universit",postgraduate:"tudes suprieures"},universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville universitaire",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro de permis de conduire",drivingLicenseCategory:"Catgorie de permis",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",numberOfSons:"Nombre de fils",numberOfDaughters:"Nombre de filles",numberOfSiblings:"Nombre de frres et surs",numberOfBrothers:"Nombre de frres",numberOfSisters:"Nombre de surs",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation militaire",ToTheGovernorOftheStateOf:"Au Wali/Gouverneur de l'tat de",submissionDaira:"Au Chef de Dara de",ToTheMayorOf:"Au Maire de la commune de",employerWilaya:"Wilaya de l'employeur",employerDaira:"Dara de l'employeur",employerCommune:"Commune de l'employeur",criminalRecordNumber:"Numro du casier judiciaire",criminalRecordIssueDate:"Date de dlivrance du casier",criminalRecordIssuePlace:"Lieu de dlivrance du casier",commercialRegistryNumber:"Numro du registre de commerce",taxIdNumber:"Numro d'identification fiscale (NIF)",casnosNumber:"Numro CASNOS/Scurit Sociale",vehicleRegistrationCardNumber:"Numro de carte grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",bankNameTo:"Nom de la banque destinataire",bankWilayaTo:"Wilaya de la banque destinataire",bankCountryTo:"Pays de la banque destinataire",bankStreetTo:"Rue de la banque destinataire",bankNameFrom:"Nom de la banque mettrice",bankWilayaFrom:"Wilaya de la banque mettrice",bankCountryFrom:"Pays de la banque mettrice",bankStreetFrom:"Rue de la banque mettrice",amountReceived:"Montant reu",amountSent:"Montant envoy",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Numro d'employ",professionalGrade:"Grade professionnel",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de mariage",marriagePlace:"Lieu de mariage",rentalContractNumber:"Numro de contrat de location",landlordName:"Nom du propritaire",propertyAddress:"Adresse de la proprit",attendingPhysicianName:"Nom du mdecin traitant",disabilityType:"Type de handicap",disabilityPercentage:"Pourcentage de handicap (%)",deceasedParentFullName:"Nom complet du parent dcd",deceasedParentDod:"Date de dcs du parent",deceasedParentPod:"Lieu de dcs du parent",deathCertificateNumber:"Numro d'acte de dcs",survivingParentFullName:"Nom complet du parent survivant",survivingParentJobTitle:"Profession du parent survivant",hospitalName:"Nom de l'hpital",motherFullName:"Nom complet de la mre",motherAge:"ge de la mre",fatherFullName:"Nom complet du pre",fatherAge:"ge du pre",spousePob:"Lieu de naissance du conjoint",spouseAge:"ge du conjoint",sonName:"Nom du fils",sonPob:"Lieu de naissance du fils",sonAge:"ge du fils",daughterName:"Nom de la fille",daughterPob:"Lieu de naissance de la fille",daughterAge:"ge de la fille",paternalGrandfatherName:"Grand-pre paternel",paternalGrandfatherPob:"Lieu de naissance",paternalGrandfatherAge:"ge",paternalGrandmotherName:"Grand-mre paternelle",paternalGrandmotherPob:"Lieu de naissance",paternalGrandmotherAge:"ge",maternalGrandfatherName:"Grand-pre maternel",maternalGrandfatherPob:"Lieu de naissance",maternalGrandfatherAge:"ge",maternalGrandmotherName:"Grand-mre maternelle",maternalGrandmotherPob:"Lieu de naissance",maternalGrandmotherAge:"ge"}},Lme={header:{search:"Suche",login:"Inhaber-Login",dashboard:"Dashboard",logout:"Abmelden",allCountries:"Alle Lnder",allCountriesSearch:"Alle Lnder (Globale Suche)",selectCafeCountry:"Caf-Land auswhlen"},footer:{blog:"Blog",services:"Dienstleistungsliste",rightsReserved:"Alle Rechte vorbehalten."},blog:{title:"Gitut Blog",subtitle:"Verfolgen Sie unsere neuesten Nachrichten, Updates und hilfreichen Tipps fr Cafbesitzer und Dokumentendienstsuchende."},share:{title:"Teilen:",copied:"Kopiert!",copyDetails:"Details kopieren"},blogPostCard:{readMore:"Weiterlesen"},relatedServices:{title:"Verwandte Dienste"},relatedPosts:{title:"Verwandte Beitrge"},relatedPages:{title:"Andere Seiten"},app:{error:{title:"Anwendungsfehler",message:"Wichtige Daten konnten nicht geladen werden. Es besteht mglicherweise ein Problem mit der Verbindung zum Server."}},cafeCard:{owner:"Inhaber:",address:"Adresse:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",chooseThisCafe:"Dieses Caf whlen",viewDetails:"Details & Dienste anzeigen",startChat:"Chat starten",distanceUnit:"km"},profilePage:{backToSearch:"Zurck zur Suche",managedBy:"Verwaltet von:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",address:"Adresse:",description:"Beschreibung:",viewOnMap:"Auf Karte anzeigen",step1Title:"1. Bentigte Dokumente auswhlen",step1Subtitle:"Whlen Sie die Dokumente aus, die Sie bentigen. Sie knnen nach einem Dokument suchen und es der Liste hinzufgen oder direkt aus der Liste unten auswhlen.",searchPlaceholder:"Nach Dokument suchen...",searchLabel:"Suchen Sie nach einem Dokument, um es Ihrer Liste hinzuzufgen",noMatch:"Keine Dokumente entsprechen Ihrer Suche.",step2Title:"2. Anfrage senden",continueToForm:"Weiter zum Ausfllen des Formulars ({count})",similarCafes:"hnliche Cafs",cafeNotFoundTitle:"Caf nicht gefunden",cafeNotFoundMessage:"Entschuldigung, wir konnten die Seite nicht finden, nach der Sie suchen.",startChat:"Chat starten",chatWith:"Chatten mit {name}"},confirmationPage:{title:"Ihre Anfrage wurde erfolgreich gesendet!",subtitle:"Ihre Informationen wurden an das Caf gesendet. Bitte gehen Sie dorthin und geben Sie den folgenden Code an, um Ihre Dokumente zu erhalten.",orderCodeLabel:"Ihr Bestellcode lautet:",note:"Hinweis: Bewahren Sie diesen Code auf, Sie bentigen ihn, um Ihre Bestellung beim Cafbesitzer zu besttigen.",backToHome:"Zurck zur Startseite"},formPage:{title:"Formular ausfllen",submittingTo:"Sie senden eine Anfrage an",online:"Online",offline:"Offline",scanId:"ID scannen",scanIdTitle:"Personalausweis mit Kamera scannen",micPermissionErrorTitle:"Mikrofonzugriff verweigert",micPermissionErrorMessage:"Bitte aktivieren Sie den Mikrofonzugriff in Ihren Browsereinstellungen, um die Spracheingabefunktion zu nutzen. Sie knnen das Formular weiterhin manuell ausfllen.",stepCounter:"Schritt {current} von {total}",navigationHint:'Sie knnen "Weiter" oder "Zurck" sagen, um zwischen den Feldern zu navigieren.',answerPlaceholder:"Antworten Sie hier... z.B., {placeholder}",toggleMic:"Mikrofon umschalten",optionsHint:"Verfgbare Optionen (sagen Sie die Nummer zum Auswhlen):",previous:"Zurck",next:"Weiter",review:"berprfen",formCompleteTitle:"Formular vollstndig!",formCompleteMessage:"Bitte berprfen Sie die Daten sorgfltig vor der endgltigen bermittlung.",profilePicture:"Profilbild",backToEdit:"Zurck zum Bearbeiten",submitFinal:"Endgltige Anfrage senden",submitting:"Wird gesendet...",errorTitle:"Anfragefehler",errorMessage:"Es wurden keine Dokumente oder Dienste ausgewhlt. Bitte gehen Sie zurck und whlen Sie zuerst Dokumente aus.",backToSearch:"Zurck zur Suchseite",error:{noDocument:"Kein Dokument angegeben.",loadFailed:"Laden der Dokumentdaten fehlgeschlagen.",unexpected:"Ein unerwarteter Fehler ist aufgetreten.",notFound:"Dokument nicht gefunden",wordTemplateFailed:"Laden der Word-Vorlage fehlgeschlagen."},fillDataFor:"Daten ausfllen fr:",fillFieldsBelow:"Fllen Sie die folgenden Felder aus, um Ihr Dokument zu erstellen.",importantNote:"Wichtiger Hinweis",noteContent:"Schaltflchen zum Vorschauen, Herunterladen oder Ausfllen dieses Dokuments befinden sich unten auf dieser Seite.",selectOption:"-- Auswhlen --",createDocument:"Dokument erstellen"},adPage:{preparing:"Ihr Dokument wird vorbereitet...",autoDisplay:"Ihr Dokument wird automatisch angezeigt in:",downloadBlank:"Leere Kopie herunterladen",fillDownload:"Ausfllen/Herunterladen",downloadPdf:"Als PDF herunterladen",downloadWord:"Als Word herunterladen",adLabel:"Werbung:",optionsTitle:"Dokumentoptionen",stepFormatTitle:"Letzter Schritt: Download-Format whlen",stepFormatDesc:"Whlen Sie das Format, in dem Sie das Dokument herunterladen mchten.",preparingLink:"Link wird vorbereitet...",pleaseWait:"Bitte warten, Link ist in Krze bereit:",linkReady:"Link bereit!",downloadNow:"Jetzt herunterladen",goTo:"Gehe zu {name}",internalPage:"Interne Seite",hadithTitle:"Hadith",prayerReminderTitle:"Gebetserinnerung",hadithIntro:"Der Prophet (Friede sei mit ihm) sagte:",prayerHadithContent:'"Der Bund zwischen uns und ihnen ist das Gebet; wer es unterlsst, hat den Unglauben begangen."',prayerHadithSource:"berliefert von Ahmad, Abu Dawud, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Wer beharrlich um Vergebung bittet (Istighfar), dem schafft Allah einen Ausweg aus jeder Not, eine Erleichterung von jeder Sorge und versorgt ihn, von wo er es nicht erwartet."'},findPage:{hero:{title1:"Erledigen Sie Ihre Dokumente mit Leichtigkeit",subtitle1:"Finden Sie ein Internetcaf in Ihrer Nhe, senden Sie Ihre Anfrage aus der Ferne und holen Sie Ihre fertigen Dokumente ab.",title2:"Finden Sie ein Internetcaf in der Nhe",subtitle2:"Senden Sie Ihre Anfrage aus der Ferne und holen Sie Ihre fertigen Dokumente ab."},step1:{title:"1. Nach einem Dokument suchen",placeholder:"Geburtsurkunde, Lebenslauf...",voiceSearchTitle:"Sprachsuche"},selectedDocs:{title:"Ausgewhlte Dokumente",viewFile:"Datei anzeigen",removeTitle:"Entfernen",nextStepButton:"Weiter: Caf whlen ({count})",nextStepButtonDisabledTitle:"Bitte whlen Sie mindestens ein Dokument aus",emptyState:"Noch keine Dokumente ausgewhlt."},alert:{selectFillable:"Bitte whlen Sie mindestens ein ausfllbares Dokument aus."}},blogPost:{publishedOn:"Verffentlicht am:",by:"Von:",relatedArticles:"Andere Artikel, die Ihnen gefallen knnten",backToList:"Zurck zu allen Artikeln",relatedPostsSidebar:"Verwandte Beitrge",notFoundTitle:"404 - Beitrag nicht gefunden",notFoundMessage:"Entschuldigung, wir konnten den gesuchten Beitrag nicht finden.",backToBlog:"Zurck zum Blog"},searchForm:{searchByName:"Nach Namen suchen...",search:"Suchen"},servicesListPage:{title:"Dienstleistungsliste",fillableDocs:"Ausfllbare Dokumente",staticDocs:"Druckbare Dokumente (PDF)",siteServices:"Website-Dienste"},serviceDetailPage:{serviceNotFound:"Dienst nicht gefunden",backToList:"Zurck zur Dienstleistungsliste",preview:"Dokumentenvorschau",previousDesign:"Vorheriges Design",nextDesign:"Nchstes Design",loadingPreview:"Vorschau wird geladen...",noPreview:"Fr dieses Dokument ist keine Vorschau verfgbar.",openInNewWindow:"In neuem Fenster ffnen oder herunterladen",instructions:"Anweisungen fr dieses Design",voiceExample:"Wie man aufnimmt (Beispiel):",requiredInfo:"Erforderliche Informationen (gesprochen):",findCafeTitle:"Finden Sie ein Caf, das diesen Dienst anbietet",searchNearest:"Suche nach Cafs in meiner Nhe",locating:"Standortbestimmung...",resultsTitle:"Ergebnisse ({count})",allCafesTitle:"Internetcafs, die diesen Dienst anbieten ({count})",noResults:"Keine Cafs entsprechen Ihrer Suche fr alle erforderlichen Dienste."},login:{title:"Caf-Inhaber Login",emailLabel:"E-Mail",passwordLabel:"Passwort",forgotPassword:"Passwort vergessen?",loginButton:"Anmelden",loggingInButton:"Anmeldung...",noAccount:"Kein Konto?",createAccount:"Neues Konto erstellen",error:{fillAllFields:"Bitte fllen Sie alle Felder aus.",verifyEmail:"Bitte berprfen Sie Ihre E-Mail, um Ihr Konto zu aktivieren.",wrongCredentials:"Die E-Mail oder das Passwort ist falsch.",enterEmail:"Bitte geben Sie Ihre E-Mail-Adresse ein."},reset:{title:"Passwort zurcksetzen",emailLabel:"Registrierte E-Mail",sendButton:"Link zum Zurcksetzen senden",sendingButton:"Wird gesendet...",successMessage:"Ein Link zum Zurcksetzen des Passworts wurde gesendet. Bitte berprfen Sie Ihren Posteingang.",errorMessage:"E-Mail konnte nicht gesendet werden. Bitte versuchen Sie es erneut.",backToLogin:"Zurck zum Login"}},signup:{title:"Neues Konto erstellen",accountInfo:"Kontoinformationen",email:"E-Mail",password:"Passwort",passwordPlaceholder:"Mindestens 6 Zeichen",confirmPassword:"Passwort besttigen",cafeInfo:"Caf-Informationen",cafeName:"Geschftsname des Cafs",cafeNamePlaceholder:"z.B. Die gemtliche Ecke",ownerName:"Vollstndiger Name des Inhabers",ownerNamePlaceholder:"z.B. Max Mustermann",country:"Land",wilaya:"Staat/Provinz",daira:"Bezirk",commune:"Stadt/Gemeinde",state:"Staat / Provinz",city:"Stadt",street:"Adresse",loading:"Laden...",selectWilaya:"Staat auswhlen",selectDaira:"Bezirk auswhlen",selectCommune:"Stadt auswhlen",statePlaceholder:"z.B. Bayern, Berlin",cityPlaceholder:"z.B. Mnchen, Hamburg",streetPlaceholder:"z.B. Hauptstrae 123",createButton:"Konto & Caf erstellen",creatingButton:"Erstelle...",haveAccount:"Haben Sie bereits ein Konto?",loginHere:"Hier anmelden",errors:{allowedDomains:"Bitte verwenden Sie eine Gmail- oder Microsoft-E-Mail (Outlook, Hotmail, Live).",fillAllFields:"Bitte fllen Sie alle Felder aus.",passwordsMismatch:"Passwrter stimmen nicht berein.",passwordLength:"Das Passwort muss mindestens 6 Zeichen lang sein.",signupFailed:"Diese E-Mail wird bereits verwendet oder es ist ein Registrierungsfehler aufgetreten. Bitte versuchen Sie es erneut."},success:{title:"Konto erfolgreich erstellt!",message:"Wir haben einen Besttigungslink an Ihre E-Mail gesendet",instruction:"Bitte klicken Sie auf den Link, um Ihr Konto zu aktivieren, bevor Sie sich anmelden.",loginButton:"Zur Anmeldeseite gehen"}},formFields:{profilePicture:"Profilbild",fullName:"Vollstndiger Name",firstName:"Vorname",lastName:"Nachname",firstNameFr:"Vorname (Lat.)",lastNameFr:"Nachname (Lat.)",birthdaydate:"Geburtsdatum",birthdayplace:"Geburtsort",address:"Adresse",phone:"Telefonnummer",email:"E-Mail",jobTitle:"Berufsbezeichnung",nationalId:"Ausweisnummer",birthCertificateNumber:"Geburtsurkundennummer",socialSecurityNumber:"Sozialversicherungsnummer",nationality:"Nationalitt",maritalStatus:"Familienstand",maritalStatusOptions:{married:"Verheiratet",single:"Ledig",divorced:"Geschieden"},motherFirstName:"Vorname der Mutter",motherLastName:"Mdchenname der Mutter",motherDob:"Geburtsdatum der Mutter",motherPob:"Geburtsort der Mutter",fatherFirstName:"Vorname des Vaters",fatherLastName:"Nachname des Vaters",fatherDob:"Geburtsdatum des Vaters",fatherPob:"Geburtsort des Vaters",residenceWilaya:"Wohnstaat/Provinz",residenceDaira:"Wohnbezirk",residenceCommune:"Wohnort",residenceStreet:"Strae",birthWilaya:"Geburtsstaat",birthDaira:"Geburtsbezirk",birthCommune:"Geburtsort",bloodType:"Blutgruppe",gender:"Geschlecht",genderOptions:{male:"Mnnlich",female:"Weiblich"},height:"Gre (cm)",eyeColor:"Augenfarbe",distinguishingMarks:"Besondere Merkmale",employerName:"Arbeitgeber",employerAddress:"Arbeitgeberadresse",educationLevel:"Bildungsgrad",educationLevelOptions:{primary:"Grundschule",middle:"Mittelschule",high:"Gymnasium/Oberschule",university:"Universitt",postgraduate:"Postgraduiert"},universityName:"Universitt",graduationDate:"Abschlussdatum",fieldOfStudy:"Studienfach",higherInstituteName:"Institutsname",vocationalTrainingCenterName:"Ausbildungszentrum",schoolName:"Schulname",highSchoolName:"Name der Oberschule",middleSchoolName:"Name der Mittelschule",universityCity:"Universittsstadt",passportNumber:"Reisepassnummer",passportIssueDate:"Ausstellungsdatum",passportExpiryDate:"Ablaufdatum",passportIssuePlace:"Ausstellungsort",drivingLicenseNumber:"Fhrerscheinnummer",drivingLicenseCategory:"Fhrerscheinklasse",drivingLicenseIssueDate:"Ausstellungsdatum",numberOfChildren:"Anzahl der Kinder",numberOfSons:"Anzahl der Shne",numberOfDaughters:"Anzahl der Tchter",numberOfSiblings:"Anzahl der Geschwister",numberOfBrothers:"Anzahl der Brder",numberOfSisters:"Anzahl der Schwestern",spouseFullName:"Name des Ehepartners",spouseDob:"Geburtsdatum (Partner)",spouseJob:"Beruf des Partners",militaryStatus:"Militrstatus",ToTheGovernorOftheStateOf:"An den Gouverneur von",submissionDaira:"An den Bezirkschef von",ToTheMayorOf:"An den Brgermeister von",employerWilaya:"Arbeitsstaat",employerDaira:"Arbeitsbezirk",employerCommune:"Arbeitsort",criminalRecordNumber:"Fhrungszeugnis Nr.",criminalRecordIssueDate:"Ausstellungsdatum",criminalRecordIssuePlace:"Ausstellungsort",commercialRegistryNumber:"Handelsregisternummer",taxIdNumber:"Steuernummer",casnosNumber:"Versicherungsnummer",vehicleRegistrationCardNumber:"Zulassungsnummer",vehicleType:"Fahrzeugtyp",vehicleBrand:"Marke",vehicleModel:"Modell",vehicleFirstRegistrationDate:"Erstzulassung",bankName:"Bankname",bankAccountNumber:"Kontonummer",bankAgencyName:"Filiale",bankAgencyCode:"Filialcode",bankNameTo:"An Bank",bankWilayaTo:"An Bundesland",bankCountryTo:"An Land",bankStreetTo:"An Adresse",bankNameFrom:"Von Bank",bankWilayaFrom:"Von Bundesland",bankCountryFrom:"Von Land",bankStreetFrom:"Von Adresse",amountReceived:"Erhaltener Betrag",amountSent:"Gesendeter Betrag",employmentContractType:"Vertragsart",employmentStartDate:"Arbeitsbeginn",employeeIdNumber:"Mitarbeiter-ID",professionalGrade:"Berufsgrad",nationalIdIssueDate:"Ausweis-Ausstellungsdatum",nationalIdExpiryDate:"Ausweis-Ablaufdatum",drivingLicenseExpiryDate:"Fhrerschein-Ablaufdatum",familyBookNumber:"Familienbuchnummer",marriageDate:"Hochzeitsdatum",marriagePlace:"Hochzeitsort",rentalContractNumber:"Mietvertragsnummer",landlordName:"Vermietername",propertyAddress:"Objektadresse",attendingPhysicianName:"Arztname",disabilityType:"Art der Behinderung",disabilityPercentage:"Grad der Behinderung (%)",deceasedParentFullName:"Name des verstorbenen Elternteils",deceasedParentDod:"Sterbedatum",deceasedParentPod:"Sterbeort",deathCertificateNumber:"Sterbeurkundennummer",survivingParentFullName:"Name des hinterbliebenen Elternteils",survivingParentJobTitle:"Beruf",hospitalName:"Krankenhaus",motherFullName:"Vollstndiger Name der Mutter",motherAge:"Alter der Mutter",fatherFullName:"Vollstndiger Name des Vaters",fatherAge:"Alter des Vaters",spousePob:"Geburtsort des Partners",spouseAge:"Alter des Partners",sonName:"Name des Sohnes",sonPob:"Geburtsort des Sohnes",sonAge:"Alter des Sohnes",daughterName:"Name der Tochter",daughterPob:"Geburtsort der Tochter",daughterAge:"Alter der Tochter",paternalGrandfatherName:"Grovater (vterl.)",paternalGrandfatherPob:"Geburtsort",paternalGrandfatherAge:"Alter",paternalGrandmotherName:"Gromutter (vterl.)",paternalGrandmotherPob:"Geburtsort",paternalGrandmotherAge:"Alter",maternalGrandfatherName:"Grovater (mtterl.)",maternalGrandfatherPob:"Geburtsort",maternalGrandfatherAge:"Alter",maternalGrandmotherName:"Gromutter (mtterl.)",maternalGrandmotherPob:"Geburtsort",maternalGrandmotherAge:"Alter"}},jme={header:{search:"Buscar",login:"Acceso Propietario",dashboard:"Panel",logout:"Cerrar sesin",allCountries:"Todos los pases",allCountriesSearch:"Todos los pases (Bsqueda global)",selectCafeCountry:"Seleccionar pas del caf"},footer:{blog:"Blog",services:"Lista de servicios",rightsReserved:"Todos los derechos reservados."},blog:{title:"Blog de Gitut",subtitle:"Sigue nuestras ltimas noticias, actualizaciones y consejos tiles para propietarios de cafs y buscadores de servicios de documentos."},share:{title:"Compartir:",copied:"Copiado!",copyDetails:"Copiar detalles"},blogPostCard:{readMore:"Leer ms"},relatedServices:{title:"Servicios relacionados"},relatedPosts:{title:"Artculos relacionados"},relatedPages:{title:"Otras pginas"},app:{error:{title:"Error de aplicacin",message:"No se pudieron cargar los datos esenciales. Puede haber un problema de conexin con el servidor."}},cafeCard:{owner:"Propietario:",address:"Direccin:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",chooseThisCafe:"Elegir este caf",viewDetails:"Ver detalles y servicios",startChat:"Iniciar chat",distanceUnit:"km"},profilePage:{backToSearch:"Volver a la bsqueda",managedBy:"Gestionado por:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",address:"Direccin:",description:"Descripcin:",viewOnMap:"Ver en el mapa",step1Title:"1. Seleccionar documentos requeridos",step1Subtitle:"Seleccione los documentos que necesita. Puede buscar un documento y aadirlo a la lista, o elegir directamente de la lista a continuacin.",searchPlaceholder:"Buscar un documento para aadir...",searchLabel:"Busque un documento para aadir a su lista",noMatch:"Ningn documento coincide con su bsqueda.",step2Title:"2. Enviar su solicitud",continueToForm:"Continuar para llenar el formulario ({count})",similarCafes:"Cafs similares",cafeNotFoundTitle:"Caf no encontrado",cafeNotFoundMessage:"Lo sentimos, no pudimos encontrar la pgina que busca.",startChat:"Iniciar chat",chatWith:"Chatear con {name}"},confirmationPage:{title:"Su solicitud ha sido enviada con xito!",subtitle:"Su informacin ha sido enviada al caf. Por favor vaya all y proporcione el siguiente cdigo para recibir sus documentos.",orderCodeLabel:"Su cdigo de pedido es:",note:"Nota: Guarde este cdigo, lo necesitar para confirmar su pedido con el propietario del caf.",backToHome:"Volver a la pgina de inicio"},formPage:{title:"Llenar el formulario",submittingTo:"Est enviando una solicitud a:",online:"En lnea",offline:"Desconectado",scanId:"Escanear ID",scanIdTitle:"Escanear tarjeta de identidad con cmara",micPermissionErrorTitle:"Acceso al micrfono denegado",micPermissionErrorMessage:"Por favor habilite el acceso al micrfono en la configuracin de su navegador para usar la funcin de entrada de voz. Todava puede completar el formulario manualmente.",stepCounter:"Paso {current} de {total}",navigationHint:'Puede decir "Siguiente" o "Anterior" para navegar entre los campos.',answerPlaceholder:"Responda aqu... p.ej., {placeholder}",toggleMic:"Alternar micrfono",optionsHint:"Opciones disponibles (diga el nmero para seleccionar):",previous:"Anterior",next:"Siguiente",review:"Revisar",formCompleteTitle:"Formulario completo!",formCompleteMessage:"Por favor revise los datos cuidadosamente antes del envo final.",profilePicture:"Foto de perfil",backToEdit:"Volver a editar",submitFinal:"Enviar solicitud final",submitting:"Enviando...",errorTitle:"Error de solicitud",errorMessage:"No se seleccionaron documentos o servicios. Por favor regrese y seleccione documentos primero.",backToSearch:"Volver a la pgina de bsqueda",error:{noDocument:"Ningn documento especificado.",loadFailed:"Error al cargar datos del documento.",unexpected:"Ocurri un error inesperado.",notFound:"Documento no encontrado",wordTemplateFailed:"Error al cargar la plantilla de Word."},fillDataFor:"Llenar datos para:",fillFieldsBelow:"Complete los campos a continuacin para crear su documento.",importantNote:"Nota Importante",noteContent:"Los botones para previsualizar, descargar o llenar este documento estn en la parte inferior de esta pgina.",selectOption:"-- Seleccionar --",createDocument:"Crear documento"},adPage:{preparing:"Preparando su documento...",autoDisplay:"Su documento se mostrar automticamente en:",downloadBlank:"Descargar copia en blanco",fillDownload:"Rellenar/Descargar",downloadPdf:"Descargar como PDF",downloadWord:"Descargar como Word",adLabel:"Publicidad:",optionsTitle:"Opciones del documento",stepFormatTitle:"ltimo paso: Elija el formato de descarga",stepFormatDesc:"Elija el formato en el que desea descargar el documento.",preparingLink:"Preparando enlace...",pleaseWait:"Por favor espere, el enlace estar listo en:",linkReady:"Enlace listo!",downloadNow:"Descargar ahora",goTo:"Ir a {name}",internalPage:"Pgina interna",hadithTitle:"Hadiz",prayerReminderTitle:"Recordatorio de Oracin",hadithIntro:"El Profeta (la paz sea con l) dijo:",prayerHadithContent:'"El pacto entre nosotros y ellos es la oracin, as que quien la abandona ha descredo."',prayerHadithSource:"Narrado por Ahmad, Abu Dawud, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Quien se aferra a pedir perdn (Istighfar), Allah le abrir una salida de cada dificultad, un alivio de cada ansiedad y le proveer desde donde no lo espera."'},findPage:{hero:{title1:"Realice sus documentos con facilidad",subtitle1:"Encuentre un caf de internet cercano, enve su solicitud de forma remota y recoja sus documentos listos.",title2:"Encuentre un caf de internet cercano",subtitle2:"Enve su solicitud de forma remota y recoja sus documentos listos."},step1:{title:"1. Buscar un documento",placeholder:"Certificado de nacimiento, CV...",voiceSearchTitle:"Bsqueda por voz"},selectedDocs:{title:"Documentos seleccionados",viewFile:"Ver archivo",removeTitle:"Eliminar",nextStepButton:"Siguiente: Elegir caf ({count})",nextStepButtonDisabledTitle:"Por favor seleccione al menos un documento",emptyState:"An no se han seleccionado documentos."},alert:{selectFillable:"Por favor seleccione al menos un documento rellenable."}},blogPost:{publishedOn:"Publicado el:",by:"Por:",relatedArticles:"Otros artculos que le podran gustar",backToList:"Volver a todos los artculos",relatedPostsSidebar:"Artculos relacionados",notFoundTitle:"404 - Artculo no encontrado",notFoundMessage:"Lo sentimos, no pudimos encontrar el artculo que busca.",backToBlog:"Volver al blog"},searchForm:{searchByName:"Buscar por nombre...",search:"Buscar"},servicesListPage:{title:"Lista de servicios",fillableDocs:"Documentos rellenables",staticDocs:"Documentos imprimables (PDF)",siteServices:"Servicios del sitio web"},serviceDetailPage:{serviceNotFound:"Servicio no encontrado",backToList:"Volver a la lista de servicios",preview:"Vista previa del documento",previousDesign:"Diseo anterior",nextDesign:"Diseo siguiente",loadingPreview:"Cargando vista previa...",noPreview:"No hay vista previa disponible para este documento.",openInNewWindow:"Abrir en nueva ventana o descargar",instructions:"Instrucciones para este diseo",voiceExample:"Cmo grabar (Ejemplo):",requiredInfo:"Informacin requerida (hablada):",findCafeTitle:"Encuentre un caf que ofrezca este servicio",searchNearest:"Buscar cafs ms cercanos a m",locating:"Localizando...",resultsTitle:"Resultados ({count})",allCafesTitle:"Cafs de internet que ofrecen este servicio ({count})",noResults:"Ningn caf coincide con su bsqueda para todos los servicios requeridos."},login:{title:"Acceso Propietario de Caf",emailLabel:"Correo electrnico",passwordLabel:"Contrasea",forgotPassword:"Olvid su contrasea?",loginButton:"Iniciar sesin",loggingInButton:"Iniciando sesin...",noAccount:"No tiene una cuenta?",createAccount:"Crear una nueva cuenta",error:{fillAllFields:"Por favor complete todos los campos.",verifyEmail:"Por favor verifique su correo electrnico para activar su cuenta.",wrongCredentials:"El correo electrnico o la contrasea son incorrectos.",enterEmail:"Por favor ingrese su direccin de correo electrnico."},reset:{title:"Restablecer contrasea",emailLabel:"Correo electrnico registrado",sendButton:"Enviar enlace de restablecimiento",sendingButton:"Enviando...",successMessage:"Se ha enviado un enlace para restablecer la contrasea. Por favor revise su bandeja de entrada.",errorMessage:"Error al enviar el correo electrnico. Por favor intntelo de nuevo.",backToLogin:"Volver al inicio de sesin"}},signup:{title:"Crear una nueva cuenta",accountInfo:"Informacin de la cuenta",email:"Correo electrnico",password:"Contrasea",passwordPlaceholder:"Al menos 6 caracteres",confirmPassword:"Confirmar contrasea",cafeInfo:"Informacin del caf",cafeName:"Nombre comercial del caf",cafeNamePlaceholder:"p.ej., El Rincn Acogedor",ownerName:"Nombre completo del propietario",ownerNamePlaceholder:"p.ej., Juan Prez",country:"Pas",wilaya:"Estado/Provincia",daira:"Distrito",commune:"Ciudad/Municipio",state:"Estado / Province",city:"Ciudad",street:"Direccin",loading:"Cargando...",selectWilaya:"Seleccionar Estado",selectDaira:"Seleccionar Distrito",selectCommune:"Seleccionar Ciudad",statePlaceholder:"p.ej., Madrid, Buenos Aires",cityPlaceholder:"p.ej., Barcelona, Crdoba",streetPlaceholder:"p.ej., Calle Mayor 123",createButton:"Crear cuenta y caf",creatingButton:"Creando...",haveAccount:"Ya tiene una cuenta?",loginHere:"Inicie sesin aqu",errors:{allowedDomains:"Por favor use un correo de Gmail o Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Por favor complete todos los campos.",passwordsMismatch:"Las contraseas no coinciden.",passwordLength:"La contrasea debe tener al menos 6 caracteres.",signupFailed:"Este correo electrnico ya est en uso o ocurri un error de registro. Por favor intntelo de nuevo."},success:{title:"Cuenta creada con xito!",message:"Hemos enviado un enlace de verificacin a su correo electrnico",instruction:"Por favor haga clic en el enlace para activar su cuenta antes de iniciar sesin.",loginButton:"Ir a la pgina de inicio de sesin"}},formFields:{profilePicture:"Foto de perfil",fullName:"Nombre completo",firstName:"Nombre",lastName:"Apellido",firstNameFr:"Nombre (Lat.)",lastNameFr:"Apellido (Lat.)",birthdaydate:"Fecha de nacimiento",birthdayplace:"Lugar de nacimiento",address:"Direccin",phone:"Telfono",email:"Correo electrnico",jobTitle:"Profesin",nationalId:"Nmero de identificacin nacional",birthCertificateNumber:"Nmero de certificado de nacimiento",socialSecurityNumber:"Nmero de seguridad social",nationality:"Nacionalidad",maritalStatus:"Estado civil",maritalStatusOptions:{married:"Casado/a",single:"Soltero/a",divorced:"Divorciado/a"},motherFirstName:"Nombre de la madre",motherLastName:"Apellido de la madre",motherDob:"Fecha nac. madre",motherPob:"Lugar nac. madre",fatherFirstName:"Nombre del padre",fatherLastName:"Apellido del padre",fatherDob:"Fecha nac. padre",fatherPob:"Lugar nac. padre",residenceWilaya:"Estado/Provincia de residencia",residenceDaira:"Distrito de residencia",residenceCommune:"Ciudad de residencia",residenceStreet:"Calle de residencia",birthWilaya:"Estado de nacimiento",birthDaira:"Distrito de nacimiento",birthCommune:"Ciudad de nacimiento",bloodType:"Tipo de sangre",gender:"Gnero",genderOptions:{male:"Masculino",female:"Femenino"},height:"Altura (cm)",eyeColor:"Color de ojos",distinguishingMarks:"Marcas distintivas",employerName:"Nombre del empleador",employerAddress:"Direccin del empleador",educationLevel:"Nivel educativo",educationLevelOptions:{primary:"Primaria",middle:"Secundaria",high:"Bachillerato",university:"Universidad",postgraduate:"Posgrado"},universityName:"Nombre de la universidad",graduationDate:"Fecha de graduacin",fieldOfStudy:"Campo de estudio",higherInstituteName:"Nombre del instituto",vocationalTrainingCenterName:"Centro de formacin",schoolName:"Nombre de la escuela",highSchoolName:"Nombre del instituto",middleSchoolName:"Nombre de la secundaria",universityCity:"Ciudad universitaria",passportNumber:"Nmero de pasaporte",passportIssueDate:"Fecha de emisin pasaporte",passportExpiryDate:"Fecha de vencimiento pasaporte",passportIssuePlace:"Lugar de emisin pasaporte",drivingLicenseNumber:"Nmero de licencia de conducir",drivingLicenseCategory:"Categora de licencia",drivingLicenseIssueDate:"Fecha de emisin licencia",numberOfChildren:"Nmero de hijos",numberOfSons:"Nmero de hijos varones",numberOfDaughters:"Nmero de hijas",numberOfSiblings:"Nmero de hermanos",numberOfBrothers:"Nmero de hermanos varones",numberOfSisters:"Nmero de hermanas",spouseFullName:"Nombre completo del cnyuge",spouseDob:"Fecha nacimiento cnyuge",spouseJob:"Trabajo del cnyuge",militaryStatus:"Estado militar",ToTheGovernorOftheStateOf:"Al Gobernador de",submissionDaira:"Al Jefe de Distrito de",ToTheMayorOf:"Al Alcalde de",employerWilaya:"Estado del empleador",employerDaira:"Distrito del empleador",employerCommune:"Ciudad del empleador",criminalRecordNumber:"Nmero de antecedentes penales",criminalRecordIssueDate:"Fecha emisin antecedentes",criminalRecordIssuePlace:"Lugar emisin antecedentes",commercialRegistryNumber:"Nmero registro comercial",taxIdNumber:"NIF/RFC",casnosNumber:"Nmero de seguro",vehicleRegistrationCardNumber:"Nmero matrcula vehculo",vehicleType:"Tipo de vehculo",vehicleBrand:"Marca de vehculo",vehicleModel:"Modelo de vehculo",vehicleFirstRegistrationDate:"Fecha primera matriculacin",bankName:"Nombre del banco",bankAccountNumber:"Nmero de cuenta bancaria",bankAgencyName:"Nombre de agencia",bankAgencyCode:"Cdigo de agencia",bankNameTo:"Banco destinatario",bankWilayaTo:"Estado banco destinatario",bankCountryTo:"Pas destinatario",bankStreetTo:"Direccin banco dest.",bankNameFrom:"Banco remitente",bankWilayaFrom:"Estado banco remitente",bankCountryFrom:"Pas remitente",bankStreetFrom:"Direccin banco remitente",amountReceived:"Cantidad recibida",amountSent:"Cantidad enviada",employmentContractType:"Tipo de contrato",employmentStartDate:"Fecha inicio empleo",employeeIdNumber:"ID de empleado",professionalGrade:"Grado profesional",nationalIdIssueDate:"Fecha emisin ID",nationalIdExpiryDate:"Fecha vencimiento ID",drivingLicenseExpiryDate:"Vencimiento licencia",familyBookNumber:"Nmero libro de familia",marriageDate:"Fecha de matrimonio",marriagePlace:"Lugar de matrimonio",rentalContractNumber:"Nmero contrato alquiler",landlordName:"Nombre del arrendador",propertyAddress:"Direccin propiedad",attendingPhysicianName:"Nombre mdico",disabilityType:"Tipo de discapacidad",disabilityPercentage:"Porcentaje discapacidad",deceasedParentFullName:"Nombre padre fallecido",deceasedParentDod:"Fecha fallecimiento",deceasedParentPod:"Lugar fallecimiento",deathCertificateNumber:"Nmero certificado defuncin",survivingParentFullName:"Nombre padre sobreviviente",survivingParentJobTitle:"Trabajo padre sobreviviente",hospitalName:"Nombre hospital",motherFullName:"Nombre completo madre",motherAge:"Edad madre",fatherFullName:"Nombre completo padre",fatherAge:"Edad padre",spousePob:"Lugar nacimiento cnyuge",spouseAge:"Edad cnyuge",sonName:"Nombre hijo",sonPob:"Lugar nacimiento hijo",sonAge:"Edad hijo",daughterName:"Nombre hija",daughterPob:"Lugar nacimiento hija",daughterAge:"Edad hija",paternalGrandfatherName:"Abuelo paterno",paternalGrandfatherPob:"Lugar nacimiento",paternalGrandfatherAge:"Edad",paternalGrandmotherName:"Abuela paterna",paternalGrandmotherPob:"Lugar nacimiento",paternalGrandmotherAge:"Edad",maternalGrandfatherName:"Abuelo materno",maternalGrandfatherPob:"Lugar nacimiento",maternalGrandfatherAge:"Edad",maternalGrandmotherName:"Abuela materna",maternalGrandmotherPob:"Lugar nacimiento",maternalGrandmotherAge:"Edad"}},Bme={header:{search:"Ara",login:"Kafe Sahibi Girii",dashboard:"Panel",logout:"k Yap",allCountries:"Tm lkeler",allCountriesSearch:"Tm lkeler (Kresel Arama)",selectCafeCountry:"Kafe lkesini Se"},footer:{blog:"Blog",services:"Hizmet Listesi",rightsReserved:"Tm haklar sakldr."},blog:{title:"Gitut Blog",subtitle:"Kafe sahipleri ve belge hizmeti arayanlar iin en son haberlerimizi, gncellemelerimizi ve yararl ipularmz takip edin."},share:{title:"Payla:",copied:"Kopyaland!",copyDetails:"Detaylar kopyala"},blogPostCard:{readMore:"Daha fazla oku"},relatedServices:{title:"lgili Hizmetler"},relatedPosts:{title:"lgili Yazlar"},relatedPages:{title:"Dier Sayfalar"},app:{error:{title:"Uygulama Hatas",message:"Temel veriler yklenemedi. Sunucuya balanrken bir sorun olabilir."}},cafeCard:{owner:"Sahibi:",address:"Adres:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",chooseThisCafe:"Bu Kafeyi Se",viewDetails:"Detaylar ve Hizmetleri Grntle",startChat:"Sohbet Balat",distanceUnit:"km"},profilePage:{backToSearch:"Aramaya Dn",managedBy:"Yneten:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",address:"Adres:",description:"Aklama:",viewOnMap:"Haritada Grntle",step1Title:"1. Gerekli Belgeleri Sein",step1Subtitle:"htiyacnz olan belgeleri sein. Bir belge arayp listeye ekleyebilir veya dorudan aadaki listeden seebilirsiniz.",searchPlaceholder:"Eklemek iin bir belge arayn...",searchLabel:"Listenize eklemek iin bir belge arayn",noMatch:"Aramanzla eleen belge yok.",step2Title:"2. steinizi Gnderin",continueToForm:"Formu Doldurmaya Devam Et ({count})",similarCafes:"Benzer Kafeler",cafeNotFoundTitle:"Kafe Bulunamad",cafeNotFoundMessage:"zgnz, aradnz sayfay bulamadk.",startChat:"Sohbet Balat",chatWith:"{name} ile sohbet et"},confirmationPage:{title:"steiniz Baaryla Gnderildi!",subtitle:"Bilgileriniz kafeye gnderildi. Ltfen oraya gidin ve belgelerinizi almak iin aadaki kodu salayn.",orderCodeLabel:"Sipari kodunuz:",note:"Not: Bu kodu saklayn, sipariinizi kafe sahibiyle onaylamak iin buna ihtiyacnz olacak.",backToHome:"Anasayfaya Dn"},formPage:{title:"Formu Doldur",submittingTo:"uraya bir istek gnderiyorsunuz:",online:"evrimii",offline:"evrimd",scanId:"Kimlii Tara",scanIdTitle:"Kamera ile kimlik kartn tara",micPermissionErrorTitle:"Mikrofon Eriimi Reddedildi",micPermissionErrorMessage:"Sesli giri zelliini kullanmak iin ltfen tarayc ayarlarnzda mikrofon eriimini etkinletirin. Formu yine de manuel olarak doldurabilirsiniz.",stepCounter:"Adm {current} / {total}",navigationHint:'Alanlar arasnda gezinmek iin "Sonraki" veya "nceki" diyebilirsiniz.',answerPlaceholder:"Buraya cevap verin... rn., {placeholder}",toggleMic:"Mikrofonu A/Kapat",optionsHint:"Mevcut seenekler (semek iin numaray syleyin):",previous:"nceki",next:"Sonraki",review:"ncele",formCompleteTitle:"Form Tamamland!",formCompleteMessage:"Ltfen son gnderimden nce verileri dikkatlice inceleyin.",profilePicture:"Profil Resmi",backToEdit:"Dzenlemeye Dn",submitFinal:"Son stei Gnder",submitting:"Gnderiliyor...",errorTitle:"stek Hatas",errorMessage:"Hibir belge veya hizmet seilmedi. Ltfen geri dnn ve nce belgeleri sein.",backToSearch:"Arama Sayfasna Dn",error:{noDocument:"Belge belirtilmedi.",loadFailed:"Belge verileri yklenemedi.",unexpected:"Beklenmeyen bir hata olutu.",notFound:"Belge Bulunamad",wordTemplateFailed:"Word ablonu yklenemedi."},fillDataFor:"Verileri Doldur:",fillFieldsBelow:"Belgenizi oluturmak iin aadaki alanlar doldurun.",importantNote:"nemli Not",noteContent:"Bu belgeyi nizleme, indirme veya doldurma dmeleri bu sayfann altndadr.",selectOption:"-- Se --",createDocument:"Belge Olutur"},adPage:{preparing:"Belgeniz hazrlanyor...",autoDisplay:"Belgeniz u sre iinde otomatik olarak grntlenecek:",downloadBlank:"Bo Kopyay ndir",fillDownload:"Doldur/ndir",downloadPdf:"PDF Olarak ndir",downloadWord:"Word Olarak ndir",adLabel:"Reklam:",optionsTitle:"Belge Seenekleri",stepFormatTitle:"Son Adm: ndirme Formatn Sein",stepFormatDesc:"Belgeyi indirmek istediiniz format sein.",preparingLink:"Balant hazrlanyor...",pleaseWait:"Ltfen bekleyin, balant hazr olacak:",linkReady:"Balant Hazr!",downloadNow:"imdi ndir",goTo:"{name} sayfasna git",internalPage:"Dahili Sayfa",hadithTitle:"Hadis",prayerReminderTitle:"Namaz Hatrlatmas",hadithIntro:"Peygamber (s.a.v.) yle buyurdu:",prayerHadithContent:'"Bizimle onlar arasndaki ahit namazdr, kim onu terk ederse kfir olmutur."',prayerHadithSource:"Ahmed, Ebu Davud, Nesai, Tirmizi tarafndan rivayet edilmitir",istighfarContent:'"Kim istifara devam ederse, Allah ona her darlktan bir k, her zntden bir kurtulu ihsan eder ve onu ummad yerden rzklandrr."'},findPage:{hero:{title1:"Belgelerinizi Kolayca Tamamlayn",subtitle1:"Yaknnzda bir internet kafe bulun, isteinizi uzaktan gnderin ve hazr belgelerinizi aln.",title2:"Yaknnzda bir internet kafe bulun",subtitle2:"steinizi uzaktan gnderin ve hazr belgelerinizi aln."},step1:{title:"1. Bir Belge Arayn",placeholder:"Doum belgesi, CV...",voiceSearchTitle:"Sesli Arama"},selectedDocs:{title:"Seilen Belgeler",viewFile:"Dosyay Grntle",removeTitle:"Kaldr",nextStepButton:"Sonraki: Kafe Se ({count})",nextStepButtonDisabledTitle:"Ltfen en az bir belge sein",emptyState:"Henz belge seilmedi."},alert:{selectFillable:"Ltfen en az bir doldurulabilir belge sein."}},blogPost:{publishedOn:"Yaynlanma tarihi:",by:"Yazan:",relatedArticles:"Beenebileceiniz dier makaleler",backToList:"Tm makalelere dn",relatedPostsSidebar:"lgili Yazlar",notFoundTitle:"404 - Yaz Bulunamad",notFoundMessage:"zgnz, aradnz yazy bulamadk.",backToBlog:"Bloga Dn"},searchForm:{searchByName:"sme gre ara...",search:"Ara"},servicesListPage:{title:"Hizmet Listesi",fillableDocs:"Doldurulabilir Belgeler",staticDocs:"Yazdrlabilir Belgeler (PDF)",siteServices:"Web Sitesi Hizmetleri"},serviceDetailPage:{serviceNotFound:"Hizmet Bulunamad",backToList:"Hizmet Listesine Dn",preview:"Belge nizleme",previousDesign:"nceki Tasarm",nextDesign:"Sonraki Tasarm",loadingPreview:"nizleme ykleniyor...",noPreview:"Bu belge iin nizleme mevcut deil.",openInNewWindow:"Yeni pencerede a veya indir",instructions:"Bu Tasarm in Talimatlar",voiceExample:"Nasl Kaydedilir (rnek):",requiredInfo:"Gerekli bilgiler (szl):",findCafeTitle:"Bu hizmeti salayan bir kafe bulun",searchNearest:"Bana en yakn kafeleri ara",locating:"Konum belirleniyor...",resultsTitle:"Sonular ({count})",allCafesTitle:"Bu hizmeti salayan internet kafeler ({count})",noResults:"Gerekli tm hizmetler iin aramanzla eleen kafe yok."},login:{title:"Kafe Sahibi Girii",emailLabel:"E-posta",passwordLabel:"ifre",forgotPassword:"ifrenizi mi unuttunuz?",loginButton:"Giri Yap",loggingInButton:"Giri yaplyor...",noAccount:"Hesabnz yok mu?",createAccount:"Yeni bir hesap olutur",error:{fillAllFields:"Ltfen tm alanlar doldurun.",verifyEmail:"Hesabnz etkinletirmek iin ltfen e-postanz kontrol edin.",wrongCredentials:"E-posta veya ifre yanl.",enterEmail:"Ltfen e-posta adresinizi girin."},reset:{title:"ifreyi Sfrla",emailLabel:"Kaytl E-posta",sendButton:"Sfrlama Balants Gnder",sendingButton:"Gnderiliyor...",successMessage:"Bir ifre sfrlama balants gnderildi. Ltfen gelen kutunuzu kontrol edin.",errorMessage:"E-posta gnderilemedi. Ltfen tekrar deneyin.",backToLogin:"Girie Dn"}},signup:{title:"Yeni Bir Hesap Olutur",accountInfo:"Hesap Bilgileri",email:"E-posta",password:"ifre",passwordPlaceholder:"En az 6 karakter",confirmPassword:"ifreyi Onayla",cafeInfo:"Kafe Bilgileri",cafeName:"Kafenin Ticari Ad",cafeNamePlaceholder:"rn., Rahat Ke",ownerName:"Sahibinin Tam Ad",ownerNamePlaceholder:"rn., Ahmet Ylmaz",country:"lke",wilaya:"Eyalet/l",daira:"le",commune:"ehir/Belediye",state:"Eyalet / l",city:"ehir",street:"Sokak Adresi",loading:"Ykleniyor...",selectWilaya:"l Sein",selectDaira:"le Sein",selectCommune:"ehir Sein",statePlaceholder:"rn., stanbul, Ankara",cityPlaceholder:"rn., Kadky, ankaya",streetPlaceholder:"rn., Cumhuriyet Cad. No: 123",createButton:"Hesap ve Kafe Olutur",creatingButton:"Oluturuluyor...",haveAccount:"Zaten bir hesabnz var m?",loginHere:"Buradan giri yapn",errors:{allowedDomains:"Ltfen bir Gmail veya Microsoft e-postas (Outlook, Hotmail, Live) kullann.",fillAllFields:"Ltfen tm alanlar doldurun.",passwordsMismatch:"ifreler elemiyor.",passwordLength:"ifre en az 6 karakter olmaldr.",signupFailed:"Bu e-posta zaten kullanmda veya bir kayt hatas olutu. Ltfen tekrar deneyin."},success:{title:"Hesap Baaryla Oluturuldu!",message:"E-postanza bir dorulama balants gnderdik",instruction:"Ltfen giri yapmadan nce hesabnz etkinletirmek iin balantya tklayn.",loginButton:"Giri Sayfasna Git"}},formFields:{profilePicture:"Profil Resmi",fullName:"Tam Ad",firstName:"Ad",lastName:"Soyad",firstNameFr:"Ad (Latince)",lastNameFr:"Soyad (Latince)",birthdaydate:"Doum Tarihi",birthdayplace:"Doum Yeri",address:"Adres",phone:"Telefon Numaras",email:"E-posta",jobTitle:"Meslek",nationalId:"Kimlik Numaras",birthCertificateNumber:"Doum Belgesi Numaras",socialSecurityNumber:"Sosyal Gvenlik Numaras",nationality:"Uyruk",maritalStatus:"Medeni Durum",maritalStatusOptions:{married:"Evli",single:"Bekar",divorced:"Boanm"},motherFirstName:"Anne Ad",motherLastName:"Anne Soyad",motherDob:"Anne Doum Tarihi",motherPob:"Anne Doum Yeri",fatherFirstName:"Baba Ad",fatherLastName:"Baba Soyad",fatherDob:"Baba Doum Tarihi",fatherPob:"Baba Doum Yeri",residenceWilaya:"kamet li",residenceDaira:"kamet lesi",residenceCommune:"kamet Semti",residenceStreet:"kamet Soka",birthWilaya:"Doum li",birthDaira:"Doum lesi",birthCommune:"Doum Semti",bloodType:"Kan Grubu",gender:"Cinsiyet",genderOptions:{male:"Erkek",female:"Kadn"},height:"Boy (cm)",eyeColor:"Gz Rengi",distinguishingMarks:"Ayrt Edici zellikler",employerName:"veren Ad",employerAddress:"veren Adresi",educationLevel:"Eitim Seviyesi",educationLevelOptions:{primary:"lkokul",middle:"Ortaokul",high:"Lise",university:"niversite",postgraduate:"Lisansst"},universityName:"niversite Ad",graduationDate:"Mezuniyet Tarihi",fieldOfStudy:"alma Alan",higherInstituteName:"Enstit Ad",vocationalTrainingCenterName:"Eitim Merkezi Ad",schoolName:"Okul Ad",highSchoolName:"Lise Ad",middleSchoolName:"Ortaokul Ad",universityCity:"niversite ehri",passportNumber:"Pasaport Numaras",passportIssueDate:"Pasaport Verili Tarihi",passportExpiryDate:"Pasaport Biti Tarihi",passportIssuePlace:"Pasaport Verili Yeri",drivingLicenseNumber:"Ehliyet Numaras",drivingLicenseCategory:"Ehliyet Snf",drivingLicenseIssueDate:"Ehliyet Verili Tarihi",numberOfChildren:"ocuk Says",numberOfSons:"Erkek ocuk Says",numberOfDaughters:"Kz ocuk Says",numberOfSiblings:"Karde Says",numberOfBrothers:"Erkek Karde Says",numberOfSisters:"Kz Karde Says",spouseFullName:"Ein Tam Ad",spouseDob:"Ein Doum Tarihi",spouseJob:"Ein Meslei",militaryStatus:"Askerlik Durumu",ToTheGovernorOftheStateOf:"Valiliine",submissionDaira:"Kaymakamlna",ToTheMayorOf:"Belediye Bakanlna",employerWilaya:"veren li",employerDaira:"veren lesi",employerCommune:"veren Semti",criminalRecordNumber:"Sabka Kayd No",criminalRecordIssueDate:"Verili Tarihi",criminalRecordIssuePlace:"Verili Yeri",commercialRegistryNumber:"Ticari Sicil No",taxIdNumber:"Vergi No",casnosNumber:"Sigorta No",vehicleRegistrationCardNumber:"Ara Tescil No",vehicleType:"Ara Tipi",vehicleBrand:"Ara Markas",vehicleModel:"Ara Modeli",vehicleFirstRegistrationDate:"lk Tescil Tarihi",bankName:"Banka Ad",bankAccountNumber:"Hesap Numaras",bankAgencyName:"ube Ad",bankAgencyCode:"ube Kodu",bankNameTo:"Alc Banka",bankWilayaTo:"Alc li",bankCountryTo:"Alc lke",bankStreetTo:"Alc Adresi",bankNameFrom:"Gnderen Banka",bankWilayaFrom:"Gnderen li",bankCountryFrom:"Gnderen lke",bankStreetFrom:"Gnderen Adresi",amountReceived:"Alnan Tutar",amountSent:"Gnderilen Tutar",employmentContractType:"Szleme Tipi",employmentStartDate:"e Balama Tarihi",employeeIdNumber:"Personel ID",professionalGrade:"Mesleki Derece",nationalIdIssueDate:"Kimlik Verili Tarihi",nationalIdExpiryDate:"Kimlik Biti Tarihi",drivingLicenseExpiryDate:"Ehliyet Biti Tarihi",familyBookNumber:"Aile Czdan No",marriageDate:"Evlilik Tarihi",marriagePlace:"Evlilik Yeri",rentalContractNumber:"Kira Szlemesi No",landlordName:"Ev Sahibi Ad",propertyAddress:"Mlk Adresi",attendingPhysicianName:"Doktor Ad",disabilityType:"Engel Tr",disabilityPercentage:"Engel Oran (%)",deceasedParentFullName:"Vefat Eden Ebeveyn Ad",deceasedParentDod:"Vefat Tarihi",deceasedParentPod:"Vefat Yeri",deathCertificateNumber:"lm Belgesi No",survivingParentFullName:"Hayattaki Ebeveyn Ad",survivingParentJobTitle:"Hayattaki Ebeveyn Meslei",hospitalName:"Hastane Ad",motherFullName:"Annenin Tam Ad",motherAge:"Annenin Ya",fatherFullName:"Babann Tam Ad",fatherAge:"Babann Ya",spousePob:"E Doum Yeri",spouseAge:"E Ya",sonName:"Oul Ad",sonPob:"Oul Doum Yeri",sonAge:"Oul Ya",daughterName:"Kz Ad",daughterPob:"Kz Doum Yeri",daughterAge:"Kz Ya",paternalGrandfatherName:"Baba Dede",paternalGrandfatherPob:"Doum Yeri",paternalGrandfatherAge:"Ya",paternalGrandmotherName:"Babaanne",paternalGrandmotherPob:"Doum Yeri",paternalGrandmotherAge:"Ya",maternalGrandfatherName:"Anne Dede",maternalGrandfatherPob:"Doum Yeri",maternalGrandfatherAge:"Ya",maternalGrandmotherName:"Anneanne",maternalGrandmotherPob:"Doum Yeri",maternalGrandmotherAge:"Ya"}},Vme={header:{search:"",login:"",dashboard:"",logout:"",allCountries:"",allCountriesSearch:"",selectCafeCountry:""},footer:{blog:"",services:"",rightsReserved:""},blog:{title:"Gitut",subtitle:""},share:{title:":",copied:"",copyDetails:""},blogPostCard:{readMore:""},relatedServices:{title:""},relatedPosts:{title:""},relatedPages:{title:""},app:{error:{title:"",message:""}},cafeCard:{owner:":",address:":",checkingStatus:"...",online:"",offline:"",chooseThisCafe:"",viewDetails:"",startChat:"",distanceUnit:"km"},profilePage:{backToSearch:"",managedBy:":",checkingStatus:"...",online:"",offline:"",address:":",description:":",viewOnMap:"",step1Title:"1. ",step1Subtitle:"",searchPlaceholder:"...",searchLabel:"",noMatch:"",step2Title:"2. ",continueToForm:" ({count})",similarCafes:"",cafeNotFoundTitle:"",cafeNotFoundMessage:"",startChat:"",chatWith:"{name}"},confirmationPage:{title:"",subtitle:"",orderCodeLabel:":",note:"",backToHome:""},formPage:{title:"",submittingTo:":",online:"",offline:"",scanId:"ID",scanIdTitle:"",micPermissionErrorTitle:"",micPermissionErrorMessage:"",stepCounter:" {current} / {total}",navigationHint:"",answerPlaceholder:"... : {placeholder}",toggleMic:"",optionsHint:":",previous:"",next:"",review:"",formCompleteTitle:"",formCompleteMessage:"",profilePicture:"",backToEdit:"",submitFinal:"",submitting:"...",errorTitle:"",errorMessage:"",backToSearch:"",error:{noDocument:"",loadFailed:"",unexpected:"",notFound:"",wordTemplateFailed:"Word"},fillDataFor:":",fillFieldsBelow:"",importantNote:"",noteContent:"",selectOption:"--  --",createDocument:""},adPage:{preparing:"...",autoDisplay:":",downloadBlank:"",fillDownload:"/",downloadPdf:"PDF",downloadWord:"Word",adLabel:":",optionsTitle:"",stepFormatTitle:": ",stepFormatDesc:"",preparingLink:"...",pleaseWait:":",linkReady:"",downloadNow:"",goTo:"{name}",internalPage:"",hadithTitle:" ()",prayerReminderTitle:"",hadithIntro:":",prayerHadithContent:"",prayerHadithSource:"",istighfarContent:""},findPage:{hero:{title1:"",subtitle1:"",title2:"",subtitle2:""},step1:{title:"1. ",placeholder:"...",voiceSearchTitle:""},selectedDocs:{title:"",viewFile:"",removeTitle:"",nextStepButton:":  ({count})",nextStepButtonDisabledTitle:"1",emptyState:""},alert:{selectFillable:"1"}},blogPost:{publishedOn:":",by:":",relatedArticles:"",backToList:"",relatedPostsSidebar:"",notFoundTitle:"404 - ",notFoundMessage:"",backToBlog:""},searchForm:{searchByName:"...",search:""},servicesListPage:{title:"",fillableDocs:"",staticDocs:" (PDF)",siteServices:""},serviceDetailPage:{serviceNotFound:"",backToList:"",preview:"",previousDesign:"",nextDesign:"",loadingPreview:"...",noPreview:"",openInNewWindow:"",instructions:"",voiceExample:":",requiredInfo:":",findCafeTitle:"",searchNearest:"",locating:"...",resultsTitle:" ({count})",allCafesTitle:" ({count})",noResults:""},login:{title:"",emailLabel:"",passwordLabel:"",forgotPassword:"",loginButton:"",loggingInButton:"...",noAccount:"",createAccount:"",error:{fillAllFields:"",verifyEmail:"",wrongCredentials:"",enterEmail:""},reset:{title:"",emailLabel:"",sendButton:"",sendingButton:"...",successMessage:"",errorMessage:"",backToLogin:""}},signup:{title:"",accountInfo:"",email:"",password:"",passwordPlaceholder:"6",confirmPassword:"",cafeInfo:"",cafeName:"",cafeNamePlaceholder:": ",ownerName:"",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"",commune:"",state:" / ",city:"",street:"",loading:"...",selectWilaya:"",selectDaira:"",selectCommune:"",statePlaceholder:": ",cityPlaceholder:": ",streetPlaceholder:": 1-2-3 ",createButton:"",creatingButton:"...",haveAccount:"",loginHere:"",errors:{allowedDomains:"GmailMicrosoftOutlook, Hotmail, Live",fillAllFields:"",passwordsMismatch:"",passwordLength:"6",signupFailed:""},success:{title:"",message:"",instruction:"",loginButton:""}},formFields:{profilePicture:"",fullName:" ()",firstName:"",lastName:"",firstNameFr:" ()",lastNameFr:" ()",birthdaydate:"",birthdayplace:"",address:"",phone:"",email:"",jobTitle:"",nationalId:"",birthCertificateNumber:"",socialSecurityNumber:"",nationality:"",maritalStatus:"",maritalStatusOptions:{married:"",single:"",divorced:""},motherFirstName:"",motherLastName:" ()",motherDob:"",motherPob:"",fatherFirstName:"",fatherLastName:"",fatherDob:"",fatherPob:"",residenceWilaya:"",residenceDaira:"/",residenceCommune:"",residenceStreet:"/",birthWilaya:"",birthDaira:"",birthCommune:"",bloodType:"",gender:"",genderOptions:{male:"",female:""},height:" (cm)",eyeColor:"",distinguishingMarks:"",employerName:"",employerAddress:"",educationLevel:"",educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:""},universityName:"",graduationDate:"",fieldOfStudy:"",higherInstituteName:"",vocationalTrainingCenterName:"",schoolName:"",highSchoolName:"",middleSchoolName:"",universityCity:"",passportNumber:"",passportIssueDate:"",passportExpiryDate:"",passportIssuePlace:"",drivingLicenseNumber:"",drivingLicenseCategory:"",drivingLicenseIssueDate:"",numberOfChildren:"",numberOfSons:"",numberOfDaughters:"",numberOfSiblings:"",numberOfBrothers:"",numberOfSisters:"",spouseFullName:"",spouseDob:"",spouseJob:"",militaryStatus:"",ToTheGovernorOftheStateOf:"",submissionDaira:"",ToTheMayorOf:"",employerWilaya:"",employerDaira:"",employerCommune:"",criminalRecordNumber:"",criminalRecordIssuePlace:"",commercialRegistryNumber:"",taxIdNumber:"",casnosNumber:"",vehicleRegistrationCardNumber:"",vehicleType:"",vehicleBrand:"",vehicleModel:"",vehicleFirstRegistrationDate:"",bankName:"",bankAccountNumber:"",bankAgencyName:"",bankAgencyCode:"",bankNameTo:"",bankWilayaTo:"",bankCountryTo:"",bankStreetTo:"",bankNameFrom:"",bankWilayaFrom:"",bankCountryFrom:"",bankStreetFrom:"",amountReceived:"",amountSent:"",employmentContractType:"",employmentStartDate:"",employeeIdNumber:"ID",professionalGrade:"",nationalIdIssueDate:"",nationalIdExpiryDate:"",drivingLicenseExpiryDate:"",familyBookNumber:"",marriageDate:"",marriagePlace:"",rentalContractNumber:"",landlordName:"",propertyAddress:"",attendingPhysicianName:"",disabilityType:"",disabilityPercentage:"(%)",deceasedParentFullName:"",deceasedParentDod:"",deceasedParentPod:"",deathCertificateNumber:"",survivingParentFullName:"",survivingParentJobTitle:"",hospitalName:"",motherFullName:"",motherAge:"",fatherFullName:"",fatherAge:"",spousePob:"",spouseAge:"",sonName:"",sonPob:"",sonAge:"",daughterName:"",daughterPob:"",daughterAge:"",paternalGrandfatherName:"",paternalGrandfatherPob:"",paternalGrandfatherAge:"",paternalGrandmotherName:"",paternalGrandmotherPob:"",paternalGrandmotherAge:"",maternalGrandfatherName:"",maternalGrandfatherPob:"",maternalGrandfatherAge:"",maternalGrandmotherName:"",maternalGrandmotherPob:"",maternalGrandmotherAge:""}},Wme={header:{search:"Cari",login:"Login Pemilik Kafe",dashboard:"Dasbor",logout:"Keluar",allCountries:"Semua Negara",allCountriesSearch:"Semua Negara (Pencarian Global)",selectCafeCountry:"Pilih Negara Kafe"},footer:{blog:"Blog",services:"Daftar Layanan",rightsReserved:"Hak cipta dilindungi undang-undang."},blog:{title:"Blog Gitut",subtitle:"Ikuti berita terbaru, pembaruan, dan tips bermanfaat kami untuk pemilik kafe dan pencari layanan dokumen."},share:{title:"Bagikan:",copied:"Disalin!",copyDetails:"Salin detail"},blogPostCard:{readMore:"Baca selengkapnya"},relatedServices:{title:"Layanan Terkait"},relatedPosts:{title:"Artikel Terkait"},relatedPages:{title:"Halaman Lain"},app:{error:{title:"Kesalahan Aplikasi",message:"Tidak dapat memuat data penting. Mungkin ada masalah koneksi ke server."}},cafeCard:{owner:"Pemilik:",address:"Alamat:",checkingStatus:"Memeriksa status...",online:"Online",offline:"Offline",chooseThisCafe:"Pilih Kafe Ini",viewDetails:"Lihat Detail & Layanan",startChat:"Mulai Obrolan",distanceUnit:"km"},profilePage:{backToSearch:"Kembali ke Pencarian",managedBy:"Dikelola oleh:",checkingStatus:"Memeriksa status...",online:"Online",offline:"Offline",address:"Alamat:",description:"Deskripsi:",viewOnMap:"Lihat di Peta",step1Title:"1. Pilih Dokumen yang Diperlukan",step1Subtitle:"Pilih dokumen yang Anda butuhkan. Anda dapat mencari dokumen dan menambahkannya ke daftar, atau memilih langsung dari daftar di bawah.",searchPlaceholder:"Cari dokumen untuk ditambahkan...",searchLabel:"Cari dokumen untuk ditambahkan ke daftar Anda",noMatch:"Tidak ada dokumen yang cocok dengan pencarian Anda.",step2Title:"2. Kirim Permintaan Anda",continueToForm:"Lanjutkan Mengisi Formulir ({count})",similarCafes:"Kafe Serupa",cafeNotFoundTitle:"Kafe Tidak Ditemukan",cafeNotFoundMessage:"Maaf, kami tidak dapat menemukan halaman yang Anda cari.",startChat:"Mulai Obrolan",chatWith:"Mengobrol dengan {name}"},confirmationPage:{title:"Permintaan Anda Berhasil Dikirim!",subtitle:"Informasi Anda telah dikirim ke kafe. Silakan pergi ke sana dan berikan kode berikut untuk menerima dokumen Anda.",orderCodeLabel:"Kode pesanan Anda adalah:",note:"Catatan: Simpan kode ini, Anda akan membutuhkannya untuk mengonfirmasi pesanan Anda dengan pemilik kafe.",backToHome:"Kembali ke Beranda"},formPage:{title:"Isi Formulir",submittingTo:"Anda mengirim permintaan ke:",online:"Online",offline:"Offline",scanId:"Pindai ID",scanIdTitle:"Pindai kartu identitas dengan kamera",micPermissionErrorTitle:"Akses Mikrofon Ditolak",micPermissionErrorMessage:"Harap aktifkan akses mikrofon di pengaturan browser Anda untuk menggunakan fitur input suara. Anda masih dapat mengisi formulir secara manual.",stepCounter:"Langkah {current} dari {total}",navigationHint:'Anda dapat mengatakan "Berikutnya" atau "Sebelumnya" untuk berpindah antar kolom.',answerPlaceholder:"Jawab di sini... cth., {placeholder}",toggleMic:"Beralih Mikrofon",optionsHint:"Pilihan tersedia (sebutkan nomor untuk memilih):",previous:"Sebelumnya",next:"Berikutnya",review:"Tinjau",formCompleteTitle:"Formulir Selesai!",formCompleteMessage:"Harap tinjau data dengan cermat sebelum pengiriman akhir.",profilePicture:"Foto Profil",backToEdit:"Kembali Mengedit",submitFinal:"Kirim Permintaan Akhir",submitting:"Mengirim...",errorTitle:"Kesalahan Permintaan",errorMessage:"Tidak ada dokumen atau layanan yang dipilih. Silakan kembali dan pilih dokumen terlebih dahulu.",backToSearch:"Kembali ke Halaman Pencarian",error:{noDocument:"Tidak ada dokumen yang ditentukan.",loadFailed:"Gagal memuat data dokumen.",unexpected:"Terjadi kesalahan tak terduga.",notFound:"Dokumen Tidak Ditemukan",wordTemplateFailed:"Gagal memuat templat Word."},fillDataFor:"Isi Data Untuk:",fillFieldsBelow:"Isi kolom di bawah ini untuk membuat dokumen Anda.",importantNote:"Catatan Penting",noteContent:"Tombol untuk pratinjau, unduh, atau isi dokumen ini ada di bagian bawah halaman ini.",selectOption:"-- Pilih --",createDocument:"Buat Dokumen"},adPage:{preparing:"Menyiapkan dokumen Anda...",autoDisplay:"Dokumen Anda akan ditampilkan secara otomatis dalam:",downloadBlank:"Unduh Salinan Kosong",fillDownload:"Isi/Unduh",downloadPdf:"Unduh sebagai PDF",downloadWord:"Unduh sebagai Word",adLabel:"Iklan:",optionsTitle:"Opsi Dokumen",stepFormatTitle:"Langkah Terakhir: Pilih Format Unduhan",stepFormatDesc:"Pilih format yang Anda inginkan untuk mengunduh dokumen.",preparingLink:"Menyiapkan tautan...",pleaseWait:"Harap tunggu, tautan akan siap dalam:",linkReady:"Tautan Siap!",downloadNow:"Unduh Sekarang",goTo:"Buka {name}",internalPage:"Halaman Internal",hadithTitle:"Hadits",prayerReminderTitle:"Pengingat Sholat",hadithIntro:"Nabi (damai besertanya) bersabda:",prayerHadithContent:'"Perjanjian antara kami dan mereka adalah sholat, jadi barangsiapa meninggalkannya maka dia telah kafir."',prayerHadithSource:"Diriwayatkan oleh Ahmad, Abu Dawood, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Barangsiapa yang senantiasa memohon ampun (Istighfar), Allah akan menjadikan jalan keluar baginya dari setiap kesulitan, kelapangan dari setiap kecemasan, dan memberinya rezeki dari arah yang tidak disangka-sangka."'},findPage:{hero:{title1:"Selesaikan Dokumen Anda dengan Mudah",subtitle1:"Temukan warnet terdekat, kirim permintaan Anda dari jarak jauh, dan ambil dokumen Anda yang sudah jadi.",title2:"Cari warnet di sekitar",subtitle2:"Kirim permintaan Anda dari jarak jauh dan ambil dokumen Anda yang sudah jadi."},step1:{title:"1. Cari Dokumen",placeholder:"Akta kelahiran, CV...",voiceSearchTitle:"Pencarian Suara"},selectedDocs:{title:"Dokumen Terpilih",viewFile:"Lihat File",removeTitle:"Hapus",nextStepButton:"Lanjut: Pilih Kafe ({count})",nextStepButtonDisabledTitle:"Harap pilih setidaknya satu dokumen",emptyState:"Belum ada dokumen yang dipilih."},alert:{selectFillable:"Harap pilih setidaknya satu dokumen yang dapat diisi."}},blogPost:{publishedOn:"Diterbitkan pada:",by:"Oleh:",relatedArticles:"Artikel lain yang mungkin Anda sukai",backToList:"Kembali ke semua artikel",relatedPostsSidebar:"Artikel Terkait",notFoundTitle:"404 - Artikel Tidak Ditemukan",notFoundMessage:"Maaf, kami tidak dapat menemukan artikel yang Anda cari.",backToBlog:"Kembali ke Blog"},searchForm:{searchByName:"Cari berdasarkan nama...",search:"Cari"},servicesListPage:{title:"Daftar Layanan",fillableDocs:"Dokumen Dapat Diisi",staticDocs:"Dokumen Dapat Dicetak (PDF)",siteServices:"Layanan Situs Web"},serviceDetailPage:{serviceNotFound:"Layanan Tidak Ditemukan",backToList:"Kembali ke Daftar Layanan",preview:"Pratinjau Dokumen",previousDesign:"Desain Sebelumnya",nextDesign:"Desain Berikutnya",loadingPreview:"Memuat pratinjau...",noPreview:"Tidak ada pratinjau tersedia untuk dokumen ini.",openInNewWindow:"Buka di jendela baru atau unduh",instructions:"Instruksi untuk Desain Ini",voiceExample:"Cara Merekam (Contoh):",requiredInfo:"Informasi yang diperlukan (diucapkan):",findCafeTitle:"Temukan kafe yang menyediakan layanan ini",searchNearest:"Cari kafe terdekat saya",locating:"Mencari lokasi...",resultsTitle:"Hasil ({count})",allCafesTitle:"Kafe internet yang menyediakan layanan ini ({count})",noResults:"Tidak ada kafe yang cocok dengan pencarian Anda untuk semua layanan yang diperlukan."},login:{title:"Login Pemilik Kafe",emailLabel:"Email",passwordLabel:"Kata Sandi",forgotPassword:"Lupa kata sandi?",loginButton:"Masuk",loggingInButton:"Sedang masuk...",noAccount:"Belum punya akun?",createAccount:"Buat akun baru",error:{fillAllFields:"Harap isi semua bidang.",verifyEmail:"Harap periksa email Anda untuk mengaktifkan akun.",wrongCredentials:"Email atau kata sandi salah.",enterEmail:"Harap masukkan alamat email Anda."},reset:{title:"Atur Ulang Kata Sandi",emailLabel:"Email Terdaftar",sendButton:"Kirim Tautan Atur Ulang",sendingButton:"Mengirim...",successMessage:"Tautan atur ulang kata sandi telah dikirim. Silakan periksa kotak masuk Anda.",errorMessage:"Gagal mengirim email. Silakan coba lagi.",backToLogin:"Kembali ke Login"}},signup:{title:"Buat Akun Baru",accountInfo:"Informasi Akun",email:"Email",password:"Kata Sandi",passwordPlaceholder:"Minimal 6 karakter",confirmPassword:"Konfirmasi Kata Sandi",cafeInfo:"Informasi Kafe",cafeName:"Nama Bisnis Kafe",cafeNamePlaceholder:"cth., Warung Nyaman",ownerName:"Nama Lengkap Pemilik",ownerNamePlaceholder:"cth., Budi Santoso",country:"Negara",wilaya:"Provinsi",daira:"Kabupaten/Kota",commune:"Kecamatan",state:"Provinsi",city:"Kota",street:"Alamat Jalan",loading:"Memuat...",selectWilaya:"Pilih Provinsi",selectDaira:"Pilih Kabupaten/Kota",selectCommune:"Pilih Kecamatan",statePlaceholder:"cth., Jawa Barat, Bali",cityPlaceholder:"cth., Bandung, Denpasar",streetPlaceholder:"cth., Jl. Merdeka No. 123",createButton:"Buat Akun & Kafe",creatingButton:"Membuat...",haveAccount:"Sudah punya akun?",loginHere:"Masuk di sini",errors:{allowedDomains:"Harap gunakan email Gmail atau Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Harap isi semua bidang.",passwordsMismatch:"Kata sandi tidak cocok.",passwordLength:"Kata sandi harus minimal 6 karakter.",signupFailed:"Email ini sudah digunakan atau terjadi kesalahan pendaftaran. Silakan coba lagi."},success:{title:"Akun Berhasil Dibuat!",message:"Kami telah mengirimkan tautan verifikasi ke email Anda",instruction:"Silakan klik tautan tersebut untuk mengaktifkan akun Anda sebelum masuk.",loginButton:"Ke Halaman Login"}},formFields:{profilePicture:"Foto Profil",fullName:"Nama Lengkap",firstName:"Nama Depan",lastName:"Nama Belakang",firstNameFr:"Nama Depan (Latin)",lastNameFr:"Nama Belakang (Latin)",birthdaydate:"Tanggal Lahir",birthdayplace:"Tempat Lahir",address:"Alamat",phone:"Nomor Telepon",email:"Email",jobTitle:"Pekerjaan",nationalId:"Nomor KTP",birthCertificateNumber:"Nomor Akta Kelahiran",socialSecurityNumber:"Nomor Jaminan Sosial",nationality:"Kewarganegaraan",maritalStatus:"Status Pernikahan",maritalStatusOptions:{married:"Menikah",single:"Lajang",divorced:"Cerai"},motherFirstName:"Nama Depan Ibu",motherLastName:"Nama Belakang Ibu",motherDob:"Tanggal Lahir Ibu",motherPob:"Tempat Lahir Ibu",fatherFirstName:"Nama Depan Ayah",fatherLastName:"Nama Belakang Ayah",fatherDob:"Tanggal Lahir Ayah",fatherPob:"Tempat Lahir Ayah",residenceWilaya:"Provinsi Tempat Tinggal",residenceDaira:"Kabupaten Tempat Tinggal",residenceCommune:"Kota Tempat Tinggal",residenceStreet:"Jalan Tempat Tinggal",birthWilaya:"Provinsi Kelahiran",birthDaira:"Kabupaten Kelahiran",birthCommune:"Kota Kelahiran",bloodType:"Golongan Darah",gender:"Jenis Kelamin",genderOptions:{male:"Laki-laki",female:"Perempuan"},height:"Tinggi (cm)",eyeColor:"Warna Mata",distinguishingMarks:"Tanda Khusus",employerName:"Nama Pemberi Kerja",employerAddress:"Alamat Pemberi Kerja",educationLevel:"Tingkat Pendidikan",educationLevelOptions:{primary:"SD",middle:"SMP",high:"SMA",university:"Universitas",postgraduate:"Pascasarjana"},universityName:"Nama Universitas",graduationDate:"Tanggal Lulus",fieldOfStudy:"Bidang Studi",higherInstituteName:"Nama Institut",vocationalTrainingCenterName:"Nama Pusat Pelatihan",schoolName:"Nama Sekolah",highSchoolName:"Nama SMA",middleSchoolName:"Nama SMP",universityCity:"Kota Universitas",passportNumber:"Nomor Paspor",passportIssueDate:"Tanggal Penerbitan Paspor",passportExpiryDate:"Tanggal Kedaluwarsa Paspor",passportIssuePlace:"Tempat Penerbitan Paspor",drivingLicenseNumber:"Nomor SIM",drivingLicenseCategory:"Kategori SIM",drivingLicenseIssueDate:"Tanggal Penerbitan SIM",numberOfChildren:"Jumlah Anak",numberOfSons:"Jumlah Putra",numberOfDaughters:"Jumlah Putri",numberOfSiblings:"Jumlah Saudara Kandung",numberOfBrothers:"Jumlah Saudara Laki-laki",numberOfSisters:"Jumlah Saudara Perempuan",spouseFullName:"Nama Lengkap Pasangan",spouseDob:"Tanggal Lahir Pasangan",spouseJob:"Pekerjaan Pasangan",militaryStatus:"Status Militer",ToTheGovernorOftheStateOf:"Kepada Gubernur",submissionDaira:"Kepada Kepala Distrik",ToTheMayorOf:"Kepada Walikota",employerWilaya:"Provinsi Pemberi Kerja",employerDaira:"Kabupaten Pemberi Kerja",employerCommune:"Kota Pemberi Kerja",criminalRecordNumber:"Nomor Catatan Kriminal",criminalRecordIssueDate:"Tanggal Penerbitan",criminalRecordIssuePlace:"Tempat Penerbitan",commercialRegistryNumber:"Nomor Registrasi Komersial",taxIdNumber:"NPWP",casnosNumber:"Nomor Asuransi",vehicleRegistrationCardNumber:"Nomor Registrasi Kendaraan",vehicleType:"Tipe Kendaraan",vehicleBrand:"Merek Kendaraan",vehicleModel:"Model Kendaraan",vehicleFirstRegistrationDate:"Tanggal Registrasi Pertama",bankName:"Nama Bank",bankAccountNumber:"Nomor Rekening",bankAgencyName:"Nama Cabang",bankAgencyCode:"Kode Cabang",bankNameTo:"Bank Penerima",bankWilayaTo:"Provinsi Bank Penerima",bankCountryTo:"Negara Penerima",bankStreetTo:"Alamat Bank Penerima",bankNameFrom:"Bank Pengirim",bankWilayaFrom:"Provinsi Bank Pengirim",bankCountryFrom:"Negara Pengirim",bankStreetFrom:"Alamat Bank Pengirim",amountReceived:"Jumlah Diterima",amountSent:"Jumlah Dikirim",employmentContractType:"Tipe Kontrak",employmentStartDate:"Tanggal Mulai",employeeIdNumber:"ID Karyawan",professionalGrade:"Tingkat Profesional",nationalIdIssueDate:"Tanggal Penerbitan KTP",nationalIdExpiryDate:"Tanggal Kedaluwarsa KTP",drivingLicenseExpiryDate:"Tanggal Kedaluwarsa SIM",familyBookNumber:"Nomor Kartu Keluarga",marriageDate:"Tanggal Pernikahan",marriagePlace:"Tempat Pernikahan",rentalContractNumber:"Nomor Kontrak Sewa",landlordName:"Nama Pemilik Sewa",propertyAddress:"Alamat Properti",attendingPhysicianName:"Nama Dokter",disabilityType:"Tipe Disabilitas",disabilityPercentage:"Persentase Disabilitas",deceasedParentFullName:"Nama Orang Tua Meninggal",deceasedParentDod:"Tanggal Meninggal",deceasedParentPod:"Tempat Meninggal",deathCertificateNumber:"Nomor Akta Kematian",survivingParentFullName:"Nama Orang Tua Hidup",survivingParentJobTitle:"Pekerjaan Orang Tua Hidup",hospitalName:"Nama Rumah Sakit",motherFullName:"Nama Lengkap Ibu",motherAge:"Usia Ibu",fatherFullName:"Nama Lengkap Ayah",fatherAge:"Usia Ayah",spousePob:"Tempat Lahir Pasangan",spouseAge:"Usia Pasangan",sonName:"Nama Putra",sonPob:"Tempat Lahir Putra",sonAge:"Usia Putra",daughterName:"Nama Putri",daughterPob:"Tempat Lahir Putri",daughterAge:"Usia Putri",paternalGrandfatherName:"Kakek dari Ayah",paternalGrandfatherPob:"Tempat Lahir",paternalGrandfatherAge:"Usia",paternalGrandmotherName:"Nenek dari Ayah",paternalGrandmotherPob:"Tempat Lahir",paternalGrandmotherAge:"Usia",maternalGrandfatherName:"Kakek dari Ibu",maternalGrandfatherPob:"Tempat Lahir",maternalGrandfatherAge:"Usia",maternalGrandmotherName:"Nenek dari Ibu",maternalGrandmotherPob:"Tempat Lahir",maternalGrandmotherAge:"Usia"}},qme={header:{search:"",login:"  ",dashboard:"",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:" "},blog:{title:"Gitut ",subtitle:"           ,       "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"               "}},cafeCard:{owner:":",address:":",checkingStatus:"      ...",online:"",offline:"",chooseThisCafe:"   ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"   ",managedBy:":",checkingStatus:"      ...",online:"",offline:"",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"                  ,          ",searchPlaceholder:"    ...",searchLabel:"       ",noMatch:"       ",step2Title:"2.   ",continueToForm:"      ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:" ,           ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"    !",subtitle:"                     ",orderCodeLabel:"   :",note:":     ,               ",backToHome:"   "},formPage:{title:" ",submittingTo:"    :",online:"",offline:"",scanId:"  ",scanIdTitle:"     ",micPermissionErrorTitle:"  ",micPermissionErrorMessage:"                          ",stepCounter:" {current} / {total}",navigationHint:'        ""  ""   ',answerPlaceholder:"  ...   , {placeholder}",toggleMic:"  ",optionsHint:"  (    ):",previous:"",next:"",review:" ",formCompleteTitle:"  !",formCompleteMessage:"         ",profilePicture:" ",backToEdit:"   ",submitFinal:"  ",submitting:"   ...",errorTitle:" ",errorMessage:"             ",backToSearch:"    ",error:{noDocument:"    ",loadFailed:"     ",unexpected:"   ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"   :",fillFieldsBelow:"         ",importantNote:" ",noteContent:"   ,            ",selectOption:"--  --",createDocument:" "},adPage:{preparing:"      ...",autoDisplay:"       :",downloadBlank:"   ",fillDownload:"/ ",downloadPdf:"PDF     ",downloadWord:"Word     ",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"         ",preparingLink:"     ...",pleaseWait:"  ,      :",linkReady:"  !",downloadNow:"  ",goTo:"{name}  ",internalPage:" ",hadithTitle:"",prayerReminderTitle:" ",hadithIntro:"  (  )  :",prayerHadithContent:'"       ,           "',prayerHadithSource:",  , -, - ( ),  ,  , -  ",istighfarContent:'"    ()    ,           ,      ,             "'},findPage:{hero:{title1:"    ",subtitle1:"     ,      ,      ",title2:"     ",subtitle2:"           "},step1:{title:"1.   ",placeholder:"  , ...",voiceSearchTitle:" "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:":   ({count})",nextStepButtonDisabledTitle:"      ",emptyState:"       "},alert:{selectFillable:"        "}},blogPost:{publishedOn:":",by:":",relatedArticles:"       ",backToList:"    ",relatedPostsSidebar:" ",notFoundTitle:"404 -   ",notFoundMessage:" ,           ",backToBlog:"   "},searchForm:{searchByName:"  ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"    (PDF)",siteServices:" "},serviceDetailPage:{serviceNotFound:"  ",backToList:"    ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"    ...",noPreview:"        ",openInNewWindow:"      ",instructions:"    ",voiceExample:"   ():",requiredInfo:"  ( ):",findCafeTitle:"      ",searchNearest:"   ",locating:"      ...",resultsTitle:" ({count})",allCafesTitle:"        ({count})",noResults:"              "},login:{title:"  ",emailLabel:"",passwordLabel:"",forgotPassword:"  ?",loginButton:"",loggingInButton:"   ...",noAccount:"  ?",createAccount:"  ",error:{fillAllFields:"   ",verifyEmail:"          ",wrongCredentials:"    ",enterEmail:"     "},reset:{title:"  ",emailLabel:" ",sendButton:"  ",sendingButton:"   ...",successMessage:"          ",errorMessage:"     :  ",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:"",password:"",passwordPlaceholder:"   6 ",confirmPassword:"   ",cafeInfo:" ",cafeName:"   ",cafeNamePlaceholder:":   ",ownerName:"   ",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"",commune:"/ ",state:" / ",city:"",street:"",loading:"   ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:": , ",cityPlaceholder:": ,  ",streetPlaceholder:": 123  ",createButton:"   ",creatingButton:"   ...",haveAccount:"       ?",loginHere:"  ",errors:{allowedDomains:"     (, , )   ",fillAllFields:"   ",passwordsMismatch:"   ",passwordLength:"    6    ",signupFailed:"             :  "},success:{title:"   !",message:"        ",instruction:"               ",loginButton:"   "}},formFields:{profilePicture:" ",fullName:" ",firstName:" ",lastName:"",firstNameFr:"  (/)",lastNameFr:" (/)",birthdaydate:" ",birthdayplace:" ",address:"",phone:" ",email:"",jobTitle:"  ",nationalId:"  ",birthCertificateNumber:"   ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",maritalStatusOptions:{married:"",single:"",divorced:""},motherFirstName:"   ",motherLastName:"  ",motherDob:"   ",motherPob:"   ",fatherFirstName:"   ",fatherLastName:"  ",fatherDob:"   ",fatherPob:"   ",residenceWilaya:" /",residenceDaira:" ",residenceCommune:" ",residenceStreet:" /",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",gender:"",genderOptions:{male:"",female:""},height:" ()",eyeColor:"  ",distinguishingMarks:" ",employerName:"  ",employerAddress:"  ",educationLevel:"  ",educationLevelOptions:{primary:"",middle:"",high:" ",university:"",postgraduate:""},universityName:"  ",graduationDate:"  ",fieldOfStudy:"  ",higherInstituteName:"   ",vocationalTrainingCenterName:"  ",schoolName:"  ",highSchoolName:"   ",middleSchoolName:"   ",universityCity:"  ",passportNumber:" ",passportIssueDate:"    ",passportExpiryDate:"  ",passportIssuePlace:"    ",drivingLicenseNumber:"  ",drivingLicenseCategory:" ",drivingLicenseIssueDate:"    ",numberOfChildren:"  ",numberOfSons:"  ",numberOfDaughters:"  ",numberOfSiblings:"-  ",numberOfBrothers:"  ",numberOfSisters:"  ",spouseFullName:"   ",spouseDob:"   ",spouseJob:"  ",militaryStatus:" ",ToTheGovernorOftheStateOf:" ",submissionDaira:"  ",ToTheMayorOf:" ",employerWilaya:" ",employerDaira:" ",employerCommune:" ",criminalRecordNumber:"  ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:" ",vehicleRegistrationCardNumber:"  ",vehicleType:"  ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"  ",bankName:"  ",bankAccountNumber:"  ",bankAgencyName:"   ",bankAgencyCode:" ",bankNameTo:" ",bankWilayaTo:"  ",bankCountryTo:" ",bankStreetTo:"  ",bankNameFrom:" ",bankWilayaFrom:"  ",bankCountryFrom:" ",bankStreetFrom:"  ",amountReceived:" ",amountSent:"  ",employmentContractType:"   ",employmentStartDate:"    ",employeeIdNumber:" ",professionalGrade:" ",nationalIdIssueDate:"    ",nationalIdExpiryDate:"  ",drivingLicenseExpiryDate:"  ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"   ",propertyAddress:"  ",attendingPhysicianName:"   ",disabilityType:"  ",disabilityPercentage:"  (%)",deceasedParentFullName:" -  ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"   ",survivingParentFullName:" -  ",survivingParentJobTitle:" -  ",hospitalName:"  ",motherFullName:"   ",motherAge:"  ",fatherFullName:"   ",fatherAge:"  ",spousePob:"   ",spouseAge:"  ",sonName:"  ",sonPob:"   ",sonAge:"  ",daughterName:"  ",daughterPob:"   ",daughterAge:"  ",paternalGrandfatherName:" (  )",paternalGrandfatherPob:" ",paternalGrandfatherAge:"",paternalGrandmotherName:" (  )",paternalGrandmotherPob:" ",paternalGrandmotherAge:"",maternalGrandfatherName:" (  )",maternalGrandfatherPob:" ",maternalGrandfatherAge:"",maternalGrandmotherName:" (  )",maternalGrandmotherPob:" ",maternalGrandmotherAge:""}},qo=t=>{switch(t){case"us":case"ca":case"gb":return"en";case"fr":return"fr";case"de":return"de";case"es":return"es";case"tr":return"tr";case"jp":return"ja";case"id":return"id";case"in":return"hi";default:return"ar"}},Cp=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"tr",name:"Trke"},{code:"id",name:"Bahasa Indonesia"},{code:"hi",name:""}],Kn={ar:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"sa",name:"",flag:"",phoneCode:"+966"},{code:"ae",name:"",flag:"",phoneCode:"+971"},{code:"eg",name:"",flag:"",phoneCode:"+20"},{code:"ma",name:"",flag:"",phoneCode:"+212"},{code:"tn",name:"",flag:"",phoneCode:"+216"},{code:"iq",name:"",flag:"",phoneCode:"+964"},{code:"jo",name:"",flag:"",phoneCode:"+962"},{code:"kw",name:"",flag:"",phoneCode:"+965"},{code:"lb",name:"",flag:"",phoneCode:"+961"},{code:"ly",name:"",flag:"",phoneCode:"+218"},{code:"om",name:"",flag:"",phoneCode:"+968"},{code:"qa",name:"",flag:"",phoneCode:"+974"},{code:"sd",name:"",flag:"",phoneCode:"+249"},{code:"sy",name:"",flag:"",phoneCode:"+963"},{code:"ye",name:"",flag:"",phoneCode:"+967"},{code:"bh",name:"",flag:"",phoneCode:"+973"},{code:"km",name:" ",flag:"",phoneCode:"+269"},{code:"dj",name:"",flag:"",phoneCode:"+253"},{code:"mr",name:"",flag:"",phoneCode:"+222"},{code:"ps",name:"",flag:"",phoneCode:"+970"},{code:"so",name:"",flag:"",phoneCode:"+252"},{code:"us",name:" ",flag:"",phoneCode:"+1"},{code:"fr",name:"",flag:"",phoneCode:"+33"},{code:"gb",name:" ",flag:"",phoneCode:"+44"},{code:"ca",name:"",flag:"",phoneCode:"+1"},{code:"de",name:"",flag:"",phoneCode:"+49"},{code:"es",name:"",flag:"",phoneCode:"+34"},{code:"tr",name:"",flag:"",phoneCode:"+90"},{code:"jp",name:"",flag:"",phoneCode:"+81"},{code:"id",name:"",flag:"",phoneCode:"+62"},{code:"in",name:"",flag:"",phoneCode:"+91"}],en:[{code:"dz",name:"Algeria",flag:"",phoneCode:"+213"},{code:"sa",name:"Saudi Arabia",flag:"",phoneCode:"+966"},{code:"ae",name:"United Arab Emirates",flag:"",phoneCode:"+971"},{code:"eg",name:"Egypt",flag:"",phoneCode:"+20"},{code:"ma",name:"Morocco",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisia",flag:"",phoneCode:"+216"},{code:"iq",name:"Iraq",flag:"",phoneCode:"+964"},{code:"jo",name:"Jordan",flag:"",phoneCode:"+962"},{code:"kw",name:"Kuwait",flag:"",phoneCode:"+965"},{code:"lb",name:"Lebanon",flag:"",phoneCode:"+961"},{code:"ly",name:"Libya",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Sudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Syria",flag:"",phoneCode:"+963"},{code:"ye",name:"Yemen",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahrain",flag:"",phoneCode:"+973"},{code:"km",name:"Comoros",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritania",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestine",flag:"",phoneCode:"+970"},{code:"so",name:"Somalia",flag:"",phoneCode:"+252"},{code:"us",name:"United States",flag:"",phoneCode:"+1"},{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"gb",name:"United Kingdom",flag:"",phoneCode:"+44"},{code:"ca",name:"Canada",flag:"",phoneCode:"+1"},{code:"de",name:"Germany",flag:"",phoneCode:"+49"},{code:"es",name:"Spain",flag:"",phoneCode:"+34"},{code:"tr",name:"Turkey",flag:"",phoneCode:"+90"},{code:"jp",name:"Japan",flag:"",phoneCode:"+81"},{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"},{code:"in",name:"India",flag:"",phoneCode:"+91"}],fr:[{code:"dz",name:"Algrie",flag:"",phoneCode:"+213"},{code:"sa",name:"Arabie Saoudite",flag:"",phoneCode:"+966"},{code:"ae",name:"mirats Arabes Unis",flag:"",phoneCode:"+971"},{code:"eg",name:"gypte",flag:"",phoneCode:"+20"},{code:"ma",name:"Maroc",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisie",flag:"",phoneCode:"+216"},{code:"iq",name:"Irak",flag:"",phoneCode:"+964"},{code:"jo",name:"Jordanie",flag:"",phoneCode:"+962"},{code:"kw",name:"Kowet",flag:"",phoneCode:"+965"},{code:"lb",name:"Liban",flag:"",phoneCode:"+961"},{code:"ly",name:"Libye",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Soudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Syrie",flag:"",phoneCode:"+963"},{code:"ye",name:"Ymen",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahren",flag:"",phoneCode:"+973"},{code:"km",name:"Comores",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritanie",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestine",flag:"",phoneCode:"+970"},{code:"so",name:"Somalie",flag:"",phoneCode:"+252"},{code:"us",name:"tats-Unis",flag:"",phoneCode:"+1"},{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"gb",name:"Royaume-Uni",flag:"",phoneCode:"+44"},{code:"ca",name:"Canada",flag:"",phoneCode:"+1"},{code:"de",name:"Allemagne",flag:"",phoneCode:"+49"},{code:"es",name:"Espagne",flag:"",phoneCode:"+34"},{code:"tr",name:"Turquie",flag:"",phoneCode:"+90"},{code:"jp",name:"Japon",flag:"",phoneCode:"+81"},{code:"id",name:"Indonsie",flag:"",phoneCode:"+62"},{code:"in",name:"Inde",flag:"",phoneCode:"+91"}],de:[{code:"dz",name:"Algerien",flag:"",phoneCode:"+213"},{code:"us",name:"Vereinigte Staaten",flag:"",phoneCode:"+1"},{code:"de",name:"Deutschland",flag:"",phoneCode:"+49"},{code:"es",name:"Spanien",flag:"",phoneCode:"+34"},{code:"tr",name:"Trkei",flag:"",phoneCode:"+90"},{code:"jp",name:"Japan",flag:"",phoneCode:"+81"},{code:"id",name:"Indonesien",flag:"",phoneCode:"+62"},{code:"in",name:"Indien",flag:"",phoneCode:"+91"}],es:[{code:"dz",name:"Argelia",flag:"",phoneCode:"+213"},{code:"us",name:"Estados Unidos",flag:"",phoneCode:"+1"},{code:"es",name:"Espaa",flag:"",phoneCode:"+34"},{code:"de",name:"Alemania",flag:"",phoneCode:"+49"},{code:"tr",name:"Turqua",flag:"",phoneCode:"+90"},{code:"jp",name:"Japn",flag:"",phoneCode:"+81"},{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"},{code:"in",name:"India",flag:"",phoneCode:"+91"}],tr:[{code:"dz",name:"Cezayir",flag:"",phoneCode:"+213"},{code:"tr",name:"Trkiye",flag:"",phoneCode:"+90"},{code:"us",name:"Amerika Birleik Devletleri",flag:"",phoneCode:"+1"},{code:"de",name:"Almanya",flag:"",phoneCode:"+49"},{code:"es",name:"spanya",flag:"",phoneCode:"+34"},{code:"jp",name:"Japonya",flag:"",phoneCode:"+81"},{code:"id",name:"Endonezya",flag:"",phoneCode:"+62"},{code:"in",name:"Hindistan",flag:"",phoneCode:"+91"}],ja:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"jp",name:"",flag:"",phoneCode:"+81"},{code:"us",name:"",flag:"",phoneCode:"+1"},{code:"de",name:"",flag:"",phoneCode:"+49"},{code:"es",name:"",flag:"",phoneCode:"+34"},{code:"tr",name:"",flag:"",phoneCode:"+90"},{code:"id",name:"",flag:"",phoneCode:"+62"},{code:"in",name:"",flag:"",phoneCode:"+91"}],id:[{code:"dz",name:"Aljazair",flag:"",phoneCode:"+213"},{code:"sa",name:"Arab Saudi",flag:"",phoneCode:"+966"},{code:"ae",name:"Uni Emirat Arab",flag:"",phoneCode:"+971"},{code:"eg",name:"Mesir",flag:"",phoneCode:"+20"},{code:"ma",name:"Maroko",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisia",flag:"",phoneCode:"+216"},{code:"iq",name:"Irak",flag:"",phoneCode:"+964"},{code:"jo",name:"Yordania",flag:"",phoneCode:"+962"},{code:"kw",name:"Kuwait",flag:"",phoneCode:"+965"},{code:"lb",name:"Lebanon",flag:"",phoneCode:"+961"},{code:"ly",name:"Libya",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Sudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Suriah",flag:"",phoneCode:"+963"},{code:"ye",name:"Yaman",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahrain",flag:"",phoneCode:"+973"},{code:"km",name:"Komoro",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritania",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestina",flag:"",phoneCode:"+970"},{code:"so",name:"Somalia",flag:"",phoneCode:"+252"},{code:"us",name:"Amerika Serikat",flag:"",phoneCode:"+1"},{code:"fr",name:"Perancis",flag:"",phoneCode:"+33"},{code:"gb",name:"Britania Raya",flag:"",phoneCode:"+44"},{code:"ca",name:"Kanada",flag:"",phoneCode:"+1"},{code:"de",name:"Jerman",flag:"",phoneCode:"+49"},{code:"es",name:"Spanyol",flag:"",phoneCode:"+34"},{code:"tr",name:"Turki",flag:"",phoneCode:"+90"},{code:"jp",name:"Jepang",flag:"",phoneCode:"+81"},{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"},{code:"in",name:"India",flag:"",phoneCode:"+91"}],hi:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"sa",name:" ",flag:"",phoneCode:"+966"},{code:"ae",name:"  ",flag:"",phoneCode:"+971"},{code:"eg",name:"",flag:"",phoneCode:"+20"},{code:"ma",name:"",flag:"",phoneCode:"+212"},{code:"tn",name:"",flag:"",phoneCode:"+216"},{code:"iq",name:"",flag:"",phoneCode:"+964"},{code:"jo",name:"",flag:"",phoneCode:"+962"},{code:"kw",name:"",flag:"",phoneCode:"+965"},{code:"lb",name:"",flag:"",phoneCode:"+961"},{code:"ly",name:"",flag:"",phoneCode:"+218"},{code:"om",name:"",flag:"",phoneCode:"+968"},{code:"qa",name:"",flag:"",phoneCode:"+974"},{code:"sd",name:"",flag:"",phoneCode:"+249"},{code:"sy",name:"",flag:"",phoneCode:"+963"},{code:"ye",name:"",flag:"",phoneCode:"+967"},{code:"bh",name:"",flag:"",phoneCode:"+973"},{code:"km",name:"",flag:"",phoneCode:"+269"},{code:"dj",name:"",flag:"",phoneCode:"+253"},{code:"mr",name:"",flag:"",phoneCode:"+222"},{code:"ps",name:"",flag:"",phoneCode:"+970"},{code:"so",name:"",flag:"",phoneCode:"+252"},{code:"us",name:"  ",flag:"",phoneCode:"+1"},{code:"fr",name:"",flag:"",phoneCode:"+33"},{code:"gb",name:" ",flag:"",phoneCode:"+44"},{code:"ca",name:"",flag:"",phoneCode:"+1"},{code:"de",name:"",flag:"",phoneCode:"+49"},{code:"es",name:"",flag:"",phoneCode:"+34"},{code:"tr",name:"",flag:"",phoneCode:"+90"},{code:"jp",name:"",flag:"",phoneCode:"+81"},{code:"id",name:"",flag:"",phoneCode:"+62"},{code:"in",name:"",flag:"",phoneCode:"+91"}]},$b={ar:Mme,en:Ome,fr:Ume,de:Lme,es:jme,tr:Bme,ja:Vme,id:Wme,hi:qme},D9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),ho=t=>e=>{const n=$b[t],r=$b.en;return D9(n,e)||D9(r,e)||e},bl="https://datas.gitut.com";async function of(t,e,n){try{const r=await fetch(t);if(!r.ok){if(n!==void 0)return console.warn(`[Optional] Failed to fetch ${e} (Status: ${r.status}). Using default value.`),n;throw new Error(`Failed to fetch ${e} from ${t}. Status: ${r.status} ${r.statusText}`)}const i=await r.text();try{return JSON.parse(i)}catch{if(n!==void 0)return console.warn(`[Optional] Failed to parse JSON for ${e}. Using default value.`),n;const a=i.length>100?i.substring(0,100)+"...":i;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${a}"`)}}catch(r){if(n!==void 0)return console.warn(`Error fetching ${e}:`,r),n;throw r}}const $me=async()=>{const t=`${bl}/data/json/all-services-public.json`;return of(t,"all-services-public.json",[])},nr={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5,items:[]},ai:{apiKey:"",useAdminKey:!0}},zme=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),Hme="https://gitut.com/api/",Gme="@@??YOUYOU@@??YOUYOU1936";function Kme(){return new Promise((t,e)=>{if(Wr.currentUser)return t(Wr.currentUser);const n=Wr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function Kt(t,e){try{const r=await(await Kme()).getIdToken(),i=await fetch(Hme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":Gme},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const Ms=async t=>Kt("uploadFilesToGitHub",t),wm=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await Kt("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},A9=async t=>{var y;const e=`${bl}/data/json/${t}-cafes-public.json`,n=`${bl}/data/json/${t}-all-services-public.json`,r=`${bl}/data/json/site-settings-public.json`,i=`${bl}/data/json/${t}-pages-public.json`,[s,a,o,l]=await Promise.all([of(n,`${t}-all-services-public.json`,[]),of(e,`${t}-cafes-public.json`,[]),of(r,"site-settings-public.json",{}),of(i,`${t}-pages-public.json`,[])]);let c=[];const u=s.filter(b=>b.serviceType==="doc"),f=s.filter(b=>b.serviceType==="static-doc"),h=s.filter(b=>b.serviceType==="site"),p=((y=o.ads)==null?void 0:y.items)||[],v={...nr,...o,payment:{...nr.payment,...o.payment||{}},pricing:{...nr.pricing,...o.pricing||{}},social:{...nr.social,...o.social||{}},ads:{...nr.ads,...o.ads||{}},ai:{...nr.ai,...o.ai||{}}},g=c.map(b=>({...b,createdAt:b.createdAt?Er.firestore.Timestamp.fromDate(new Date(b.createdAt)):Er.firestore.Timestamp.now(),publishedAt:b.publishedAt?Er.firestore.Timestamp.fromDate(new Date(b.publishedAt)):void 0}));return{documents:u,staticDocuments:f,cafes:a,siteSettings:v,pages:l,blogPosts:g,sites:h,ads:p,services:s}},N9=async t=>{const e=`${bl}/data/json/${t}-locations.json`;return of(e,`${t}-locations.json`,{wilayas:[],dairas:[],communes:[]})},XA=async()=>Kt("getCollection",{collection:"cafes"}),YA=async()=>Kt("getCollection",{collection:"users"}),lI=async t=>Kt("getDoc",{collection:"cafes",id:t}),Jme=async t=>(await Kt("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,kx=async t=>Kt("getDoc",{collection:"users",id:t}),k9=async()=>Kt("getMonthlyRevenue",{}),Xme=async(t,e)=>Kt("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),Yme=async(t,e)=>{await Kt("updateDoc",{collection:"cafes",id:t,data:e})},cI=async(t,e)=>Kt("deductCredits",{userId:t.id,amount:e}),Qme=async(t,e)=>Kt("syncOfflineDeductions",{userId:t,deductions:e}),Zme=async(t,e)=>{const n=bm.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},ege=async(t,e)=>{await bm.collection("jobs").doc(t).update(e)},tge=async t=>Kt("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),QA=async()=>Kt("getCollection",{collection:"payment_requests",orderBy:"date"}),nge=async t=>Kt("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),rge=async()=>Kt("getCollection",{collection:"invoices",orderBy:"date"}),I9=async(t,e,n,r,i)=>Kt("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),ige=async t=>Kt("approvePaymentRequest",{requestId:t.id}),P9=async()=>Kt("getDataVersion",{}),sge=async()=>Kt("incrementDataVersion",{}),zb=async()=>Kt("getDoc",{collection:"settings",id:"site"}),age=async t=>Kt("updateDoc",{collection:"settings",id:"site",data:t}),ZA=async()=>{const t=await Kt("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},oge=async t=>Kt("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),ah=t=>({getAll:()=>Kt("getCollection",{collection:t}),get:e=>Kt("getDoc",{collection:t,id:e}),create:async e=>await Kt("createDoc",{collection:t,data:e}),update:async(e,n)=>{await Kt("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await Kt("deleteDoc",{collection:t,id:e})}}),lf={getAll:()=>Kt("getCollection",{collection:"pages"}),create:async t=>{const e=await Kt("createDoc",{collection:"pages",data:t});return await yr("pages",e),e},update:async(t,e)=>{await Kt("updateDoc",{collection:"pages",id:t,data:e});const n=await sa("pages",t);n&&await yr("pages",{...n,...e,id:t})},delete:async t=>{await Kt("deleteDoc",{collection:"pages",id:t}),await jf("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await Kt("updateDoc",{collection:"pages",id:t,data:n});const r=await sa("pages",t);r&&await yr("pages",{...r,...n,id:t})}},Sp={...ah("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await Kt("updateDoc",{collection:"ads",id:t,data:n});const r=await sa("ads",t);r&&await yr("ads",{...r,...n,id:t})}},cl={...ah("blog"),create:async t=>{const e=await Kt("createDoc",{collection:"blog",data:t});return await yr("blogPosts",e),e},update:async(t,e)=>{await Kt("updateDoc",{collection:"blog",id:t,data:e});const n=await sa("blogPosts",t);n&&await yr("blogPosts",{...n,...e,id:t})},delete:async t=>{await Kt("deleteDoc",{collection:"blog",id:t}),await jf("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await Kt("updateDoc",{collection:"blog",id:t,data:n});const r=await sa("blogPosts",t);r&&await yr("blogPosts",{...r,...n,id:t})}},X0=ah("codes"),cf=ah("sites"),gf=ah("staticDocuments"),R9={getAll:()=>Kt("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await wm(t),n=await Kt("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await yr("voice_prompts",n),n},delete:async(t,e)=>{await Kt("deleteFile",{fileUrl:e}),await Kt("deleteDoc",{collection:"voice_prompts",id:t}),await jf("voice_prompts",t)}},bp={getAll:async()=>{const t=await Kt("getClients",{});return await Pi("clients",t),t},create:async t=>{const e=await Kt("createClient",{clientData:t});return await yr("clients",e),e},update:async(t,e)=>{await Kt("updateClient",{id:t,updates:e});const n=await sa("clients",t);n&&await yr("clients",{...n,...e,id:t})},delete:async t=>{await Kt("deleteClient",{id:t}),await jf("clients",t)}},gl={...ah("documents"),create:async t=>{const{id:e,...n}=t,r=await Kt("createDocWithId",{collection:"documents",id:e,data:n});return await yr("documents",r),await yr("fullDocuments",r),r}},uf=()=>Kt("getCollection",{collection:"documents"}),Tm=ah("baseTemplates"),F9=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",lge=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:zme(t.prompt),previewTemplateHtml:F9(e),finalTemplateHtml:F9(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await gl.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await gl.create(s)}},eN=async()=>{const t=await Kt("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},cge=async t=>Kt("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),Hb=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(Mr)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},Al=async(t,e,n=!1)=>{var r;switch(t){case"cafes":return i=await XA(),i.filter(h=>h.isProfilePublished&&(!e||e==="global"||h.countryCode===e)).map(({id:h,numericId:p,name:v,owner:g,countryCode:y,address:b,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:S,phone:F,socials:A,services:I})=>({id:h,numericId:p,name:v,owner:g,countryCode:y,address:b,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:S,phone:F,socials:A,services:I}));case"global-services":{const h=Kn.en.map(b=>b.code);let p=[];const v=h.map(b=>of(`${bl}/data/json/${b}-all-services-public.json`,`${b}-services`,[]).catch(()=>(console.warn(`Could not fetch services for country: ${b}, skipping.`),[])));return(await Promise.all(v)).forEach(b=>{Array.isArray(b)&&(p=p.concat(b))}),Array.from(new Map(p.map(b=>[b.id,b])).values())}case"services":{let[h,p,v]=await Promise.all([uf(),gf.getAll(),cf.getAll()]);const g=[];return{mainData:[...h.map(x=>({...x,serviceType:"doc"})),...p.map(x=>({...x,serviceType:"static-doc"})),...v.map(x=>({...x,serviceType:"site"}))].filter(x=>!x.countryCode||e==="global"||x.countryCode===e).map(x=>{if(x.serviceType==="doc"){const{id:w,name:C,description:S,countryCode:F,slug:A,tags:I,previewTemplateHtml:N,finalTemplateHtml:R,requiredFields:P}=x,D=N?N.replace(/\[.*?\]/g,"........"):"",M={id:w,name:C,description:S,previewTemplateHtml:D,finalTemplateHtml:R,requiredFields:P||[]};let O=`data/json/documents/${A||w}.json`;F&&F!=="global"&&(O=`data/json/documents/${F}/${A||w}.json`),g.push({path:O,data:M});const{previewTemplateHtml:H,finalTemplateHtml:X,requiredFields:G,complexFields:Z,spokenFields:W,visitorExamplePrompt:Y,cafeExamplePrompt:B,previewTemplateUrl:j,finalTemplateUrl:q,cafeId:J,fieldCustomizations:Q,questions:te,...ae}=x;return ae}else if(x.serviceType==="static-doc"){const{id:w,name:C,description:S,countryCode:F,fileUrl:A,slug:I,tags:N,serviceType:R}=x;return{id:w,name:C,description:S,countryCode:F,fileUrl:A,slug:I,tags:N,serviceType:R}}else if(x.serviceType==="site"){const{id:w,name:C,url:S,type:F,description:A,countryCode:I,tags:N,slug:R,serviceType:P,templateFields:D,jsonTemplate:M}=x;return{id:w,name:C,url:S,type:F,description:A,countryCode:I,tags:N,slug:R,serviceType:P}}return x}),extraFiles:g}}case"blog":{let h=await cl.getAll();const p=w=>{if(!w)return;if(w instanceof Er.firestore.Timestamp)return w.toDate().toISOString();if(typeof w=="object"&&w!==null&&typeof w.seconds=="number")return new Date(w.seconds*1e3).toISOString();const C=new Date(w);return isNaN(C.getTime())?String(w):C.toISOString()},v=h.filter(w=>w.enabled).map(w=>({...w,createdAt:p(w.createdAt),publishedAt:p(w.publishedAt)})),g=new Set;v.forEach(w=>{(w.tags?w.tags.split(",").map(S=>S.trim().toLowerCase()).filter(Boolean):[]).forEach(S=>g.add(S))});const y=new Map;Array.from(g).forEach((w,C)=>{y.set(w,C+1)});const x={"tags-map-public.json":[Object.fromEntries(y)]};for(const w of v){const C=w.tags?w.tags.split(",").map(F=>F.trim().toLowerCase()).filter(Boolean):[];if(C.length===0)continue;const S=Object.keys(w.content||{});for(const F of S){const{countryCode:A,...I}=w,N={...I,content:w.content[F]};for(const R of C){const P=y.get(R);if(P===void 0)continue;const D=`${F}-${P}-blog-posts-public.json`;x[D]||(x[D]=[]),x[D].push(N)}}}return x}case"pages":let i=await lf.getAll();return i.filter(h=>h.enabled);case"settings":if(i=await zb(),!i)return{};const a=(await Sp.getAll()).filter(h=>h.enabled),l=(await lf.getAll()).filter(h=>h.enabled).map(h=>({title:h.title,slug:h.slug,lang:h.lang||"ar"})),{payment:c,ai:u,...f}=i;return{...f,ads:{pdfInterstitialTimer:((r=f.ads)==null?void 0:r.pdfInterstitialTimer)||5,items:a},footerPages:l};case"documents":return i=await uf(),i;case"documents-json":{const h=await uf();let p=h;return e&&e!=="global"?p=h.filter(g=>g.countryCode===e):e==="global"&&(p=h.filter(g=>!g.countryCode||g.countryCode==="global")),p.map(g=>{const y=`${g.slug||g.id}.json`;let b=`data/json/documents/${y}`;g.countryCode&&g.countryCode!=="global"&&(b=`data/json/documents/${g.countryCode}/${y}`);const x=g.previewTemplateHtml?g.previewTemplateHtml.replace(/\[.*?\]/g,"........"):"",w={...g,previewTemplateHtml:x};return{path:b,content:JSON.stringify(w,null,2)}})}case"templates-paginated":{let h=await uf();const p=y=>{const{description:b,...x}=y;return x},v=20,g=Math.ceil(h.length/v);if(n){const y=[];for(let b=0;b<g;b++){const x=h.slice(b*v,(b+1)*v);y.push({fileName:`templates-part-${b+1}.json`,data:x.map(p)})}return y}for(let y=0;y<g;y++){const x=h.slice(y*v,(y+1)*v).map(p),w=new Blob([JSON.stringify(x)],{type:"application/json"}),C=URL.createObjectURL(w),S=document.createElement("a");S.href=C,S.download=`templates-part-${y+1}-of-${g}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(C),await new Promise(F=>setTimeout(F,300))}return{downloadInitiated:!0,chunks:g}}}};async function uge(t){const{saveAs:e}=await yte(async()=>{const{saveAs:u}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:u}},[]),n=new _m,r=n.folder("json"),i=n.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:t,fileName:`${t}-cafes-public.json`},{dataType:"services",countryCode:t,fileName:`${t}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:t,fileName:`${t}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const u of s){const f=await Al(u.dataType,u.countryCode);r.file(u.fileName,JSON.stringify(f))}const a=await Al("templates-paginated","global",!0);if(Array.isArray(a))for(const u of a)r.file(u.fileName,JSON.stringify(u.data));const l=(await gf.getAll()).filter(u=>!u.countryCode||u.countryCode===t);for(const u of l){const f=u.fileUrl.split("/").pop();if(f)try{const h=await fetch(`${bl}/data/pdf/${f}`);if(h.ok){const p=await h.blob();i.file(f,p)}else console.warn(`Could not fetch static PDF: ${bl}/data/pdf/${f}. Status: ${h.status}`)}catch(h){console.error(`Error fetching static PDF: ${bl}/data/pdf/${f}`,h)}}const c=await n.generateAsync({type:"blob"});e(c,`${t}-public-data.zip`)}const UH=V.createContext(void 0),dge=({children:t})=>{const[e,n]=V.useState(null),[r,i]=V.useState(!0),s=V.useCallback(async p=>{const v=await Pme();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await Qme(p,v),await Rme(),console.log("Sync successful.");const g=await kx(p);if(g&&Wr.currentUser){const y={...g,emailVerified:Wr.currentUser.emailVerified};n(y),await yr("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=V.useCallback(async()=>{const p=Wr.currentUser;if(p)try{const v=await kx(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await yr("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);V.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),V.useEffect(()=>{i(!0);const p=Wr.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await kx(v.uid);if(y){const b={...y,emailVerified:v.emailVerified},x=bm.collection("users").doc(v.uid);!(await x.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await x.set({cafeId:y.cafeId,email:v.email})),n(b),await yr("userProfile",{...b,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Wr.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const b=await sa("userProfile","currentUser");b&&b.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(b)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await Wr.signOut())}finally{i(!1)}else n(null),await jf("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await yr("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await Wr.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const b=await kx(y.uid);if(!b)throw await Wr.signOut(),new Error("User profile not found in database.");const x={...b,emailVerified:y.emailVerified};return n(x),await yr("userProfile",{...x,id:"currentUser"}),x}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await Wr.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const b=await Xme(y.user,g);return b&&b.cafeId?await bm.collection("users").doc(y.user.uid).set({cafeId:b.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Wr.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await Wr.signOut(),n(null),await jf("userProfile","currentUser")},f=async p=>{await Wr.sendPasswordResetEmail(p)},h=async()=>{if(Wr.currentUser)await Wr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(UH.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},kr=()=>{const t=V.useContext(UH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Y0={},k2={},tN=new Set,fge=()=>{tN.forEach(t=>t())},hge=async t=>{if(!k2[t]){k2[t]="fetching";try{const e=await fetch(`https://datas.gitut.com/data/json/translate/${t}.json?t=${Date.now()}`);if(e.ok){const n=await e.json();Y0[t]=n}else Y0[t]={}}catch(e){console.warn(`Failed to fetch remote translations for ${t}`,e),Y0[t]={}}finally{k2[t]="done",fge()}}},AC=(t,e)=>{if(t)return e.split(".").reduce((n,r)=>n&&n[r],t)},si=()=>{const t=Nr(),e=V.useMemo(()=>{const l=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return l?l[1]:null},[t.pathname]),n=e||"dz",r=V.useMemo(()=>qo(n),[n]),i=r==="ar"?"rtl":"ltr",[s,a]=V.useState(0);V.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=i},[r,i]),V.useEffect(()=>{k2[n]||hge(n);const l=()=>a(c=>c+1);return tN.add(l),()=>{tN.delete(l)}},[n]);const o=V.useCallback((l,c)=>{let u;if(Y0[n]&&(u=AC(Y0[n],l)),!u){const f=$b[r];u=AC(f,l)}if(!u){const f=$b.en;u=AC(f,l)}return u||(u=l),c&&Object.keys(c).forEach(f=>{u=u.replace(new RegExp(`\\{${f}\\}`,"g"),String(c[f]))}),u},[r,n,s]);return{language:r,t:o,dir:i,countryCode:e}};var LH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M9=Tl.createContext&&Tl.createContext(LH),pge=["attr","size","title"];function mge(t,e){if(t==null)return{};var n=gge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function O9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(n),!0).forEach(function(r){yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yge(t,e,n){return e=vge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vge(t){var e=xge(t,"string");return typeof e=="symbol"?e:e+""}function xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jH(t){return t&&t.map((e,n)=>Tl.createElement(e.tag,Kb({key:n},e.attr),jH(e.child)))}function At(t){return e=>Tl.createElement(bge,Gb({attr:Kb({},t.attr)},e),jH(t.child))}function bge(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=mge(t,pge),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Tl.createElement("svg",Gb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Kb(Kb({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Tl.createElement("title",null,s),t.children)};return M9!==void 0?Tl.createElement(M9.Consumer,null,n=>e(n)):e(LH)}function uI(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function _ge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(t)}function BH(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function wge(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Tge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Ege(t){return At({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function Cge(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function VH(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function dI(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Sge(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(t)}function WH(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function Ym(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function qH(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function U9(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Ec(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Aw(t){return At({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Nw(t){return At({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function nN(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Dge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function Bf(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function $H(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function zH(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Age(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(t)}function fI(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function hI(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function Nge(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function kge(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function lo(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function kw(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function HH(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(t)}function Iw(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Ige(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function Jb(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Xb(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Pge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function GH(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Kv(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function KH(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function Rge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function pI(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Fge(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function Hy(t){return At({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Mge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function JH(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Oge(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function XH(t){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function YH(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function Uge(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function QH(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function aa(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function Lge(t){return At({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function mI(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Cc(t){return At({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Q0(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function jge(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Bge(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function ZH(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function dc(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Pw(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function Rw(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function rN(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Vge(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function bt(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Wge(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function eG(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function tG(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function Yu(t){return At({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function oh(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function qge(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function Ml(t){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function $ge(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function zge(t){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Hge(t){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const Gge=()=>{const{user:t,logout:e}=kr(),n=Si(),{t:r,countryCode:i,language:s}=si(),[a,o]=V.useState("G"),[l,c]=V.useState(!1),[u,f]=V.useState(!1),[h,p]=V.useState(!1),v=V.useRef(null),g=i?`/${i}/`:"/",y=V.useMemo(()=>Kn[s]||Kn.en,[s]),b=V.useMemo(()=>{const A=new Set;return Object.values(Kn).forEach(I=>I.forEach(N=>A.add(N.code))),Array.from(A)},[]),x=V.useMemo(()=>b.map(A=>y.find(I=>I.code===A)||Kn.en.find(I=>I.code===A)||{name:A.toUpperCase(),code:A,phoneCode:"",flag:""}).sort((A,I)=>A.name.localeCompare(I.name,s)),[b,y,s]),w=V.useMemo(()=>i?x.find(A=>A.code===i):null,[i,x]);V.useEffect(()=>{let A,I;const N=setInterval(()=>{c(!0),I=setTimeout(()=>{o(R=>R==="G"?"@":"G")},250),A=setTimeout(()=>{c(!1)},500)},2500);return()=>{clearInterval(N),clearTimeout(A),clearTimeout(I)}},[]),V.useEffect(()=>{const A=I=>{v.current&&!v.current.contains(I.target)&&f(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const C=()=>{e(),n("/")},S=A=>{f(!1),n(A==="global"?"/":`/${A}/`)},F=A=>{i||(A.preventDefault(),p(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(sn,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${l?"swapping":""}`,children:a}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:v,children:[d.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[w?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:w.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(Hy,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:r("header.allCountries")})]}),d.jsx(Ec,{className:"text-gray-500 text-xs"})]}),u&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>S("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(Hy,{className:"text-gray-600"}),d.jsx("span",{children:r("header.allCountriesSearch")})]})}),x.map(A=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>S(A.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:A.flag}),d.jsx("span",{children:A.name})]})},A.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(sn,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:C,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(sn,{to:g,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(sn,{to:`/${i||"dz"}/login/`,onClick:F,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>p(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:A=>A.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:r("header.selectCafeCountry")}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:x.map(A=>d.jsx("li",{children:d.jsxs(sn,{to:`/${A.code}/login/`,onClick:()=>p(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:A.flag}),d.jsx("span",{className:"font-semibold",children:A.name})]})},A.code))})]})})]})},nG=V.createContext(void 0),Kge=({children:t})=>{const[e,n]=V.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(nG.Provider,{value:{admin:e,login:r,logout:i},children:t})},Jv=()=>{const t=V.useContext(nG);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},rG=V.createContext(void 0),Jge=({children:t})=>{const{user:e,loading:n}=kr(),{admin:r}=Jv(),i=Nr(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=V.useState([]),[c,u]=V.useState([]),[f,h]=V.useState([]),[p,v]=V.useState([]),[g,y]=V.useState([]),[b,x]=V.useState(null),[w,C]=V.useState([]),[S,F]=V.useState([]),[A,I]=V.useState([]),[N,R]=V.useState([]),[P,D]=V.useState([]),[M,O]=V.useState([]),[H,X]=V.useState([]),[G,Z]=V.useState([]),[W,Y]=V.useState([]),[B,j]=V.useState([]),[q,J]=V.useState(null),[Q,te]=V.useState(null),[ae,ce]=V.useState(!0),[ue,Se]=V.useState(!0),[Fe,fe]=V.useState(!1),[Le,z]=V.useState(null),me=Te=>Te?Te.map(Re=>{if(!Re)return Re;const Ee=ve=>{if(!ve)return;if(ve instanceof Er.firestore.Timestamp)return ve;if(typeof ve=="object"&&ve!==null&&typeof ve.seconds=="number"&&typeof ve.nanoseconds=="number")return new Er.firestore.Timestamp(ve.seconds,ve.nanoseconds);const Me=new Date(ve);if(!isNaN(Me.getTime()))return Er.firestore.Timestamp.fromDate(Me)};return{...Re,createdAt:Ee(Re.createdAt)||Er.firestore.Timestamp.now(),publishedAt:Ee(Re.publishedAt)}}):[],be=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[Te,Re,Ee,ve,Me,Oe,qe,st,it,Ct,Wt,$t]=await Promise.all([xi("cafes"),xi("fullDocuments"),xi("staticDocuments"),xi("sites"),xi("baseTemplates"),sa("siteSettings","main"),xi("codes"),xi("pages"),xi("blogPosts"),xi("ads"),xi("voice_prompts"),sa("offlineMetadata","syncStatus")]);if(Re.length>0||Te.length>0)return u(Re),l(Re),h(Ee),R(ve),v(Te),j(Me),x(Oe),Z(qe),C(st),F(me(it)),I(Ct),Y(Wt),console.log("Successfully loaded admin dashboard data from IndexedDB."),($t==null?void 0:$t.version)||0}catch(Te){console.error("Could not load admin dashboard data from IndexedDB:",Te)}return 0},le=V.useCallback(async Te=>{const[Re,Ee,ve,Me,Oe,qe,st,it,Ct,Wt,$t,_n,En]=await Promise.all([XA(),uf(),gf.getAll(),zb(),lf.getAll(),cl.getAll(),Sp.getAll(),cf.getAll(),X0.getAll(),R9.getAll(),Tm.getAll(),ZA(),eN()]),Ln=await fetch("https://datas.gitut.com/data/json/site-seo.json"),xn=Ln.ok?await Ln.json():{},Rt=me(qe);l(Ee),u(Ee),h(ve),v(Re),Z(Ct),Y(Wt),j($t),J(_n),te(En);const We={...nr,...Me||{},seo:{...(Me==null?void 0:Me.seo)||{},...xn},payment:{...nr.payment,...(Me==null?void 0:Me.payment)||{}},pricing:{...nr.pricing,...(Me==null?void 0:Me.pricing)||{}},social:{...nr.social,...(Me==null?void 0:Me.social)||{}},ads:{...nr.ads,...(Me==null?void 0:Me.ads)||{}},ai:{...nr.ai,...(Me==null?void 0:Me.ai)||{}}};x(We),C(Oe),F(Rt),I(st),R(it);const ie=[...Ee.map(de=>({...de,serviceType:"doc"})),...ve.map(de=>({...de,serviceType:"static-doc"})),...it.map(de=>({...de,serviceType:"site"}))];y(ie),await Promise.all([Pi("cafes",Re),Pi("fullDocuments",Ee),Pi("staticDocuments",ve),Pi("sites",it),Pi("baseTemplates",$t),Pi("codes",Ct),Pi("pages",Oe),Pi("blogPosts",Rt),Pi("ads",st),Pi("voice_prompts",Wt),yr("siteSettings",{...We,id:"main"}),yr("offlineMetadata",{id:"syncStatus",version:Te})])},[]),re=V.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");ce(!0);try{const{version:Te}=await P9();await le(Te)}finally{ce(!1)}},[r,le]),oe=V.useCallback(async()=>{try{console.log("Refetching all cafes...");const Te=await XA();v(Te),await Pi("cafes",Te),console.log("Cafes refetched and cache updated.")}catch(Te){console.error("Failed to refetch cafes:",Te)}},[]);V.useEffect(()=>{const Te=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Ee,ve,Me,Oe,qe,st,it]=await Promise.all([xi("cafes"),xi("fullDocuments"),xi("staticDocuments"),xi("sites"),xi("baseTemplates"),sa("siteSettings","main"),xi("codes")]);if(ve.length>0)return v(Ee),u(ve),h(Me),R(Oe),j(qe),x(st),Z(it),l(ve),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Ee){console.error("Could not load user dashboard data from IndexedDB:",Ee)}return!1};(async()=>{if(!n){if(s&&!r){ce(!1),Se(!1);return}if(ce(!0),z(null),s&&r){const Ee=await be();ce(!1);try{const{version:ve}=await P9();ve>Ee?(console.log(`New data version available. Local: ${Ee}, Remote: ${ve}. Syncing...`),await le(ve),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(ve){const Me=ve instanceof Error?ve.message:String(ve);console.error("Could not check for remote data updates. Running on cached data.",ve),Ee===0&&(Me.includes("no such table: data_versions")?z("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):z(Me))}}else if(!s){a&&e&&await Te()&&ce(!1);try{const Ee=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),ve=Ee?Ee[1]:null,Me=e?X0.getAll():Promise.resolve([]),Oe=e?R9.getAll():Promise.resolve([]),qe=e?ZA():Promise.resolve(null),st=e?eN():Promise.resolve(null),it=e?zb():Promise.resolve(null),Ct=e!=null&&e.cafeId?lI(e.cafeId):Promise.resolve(null);if(ve){const Ln=A9(ve),xn=N9(ve),[Rt,We,ie,de,Pe,$e,nt,xt]=await Promise.all([Ln,xn,Me,Oe,qe,st,it,Ct]);let Ut=Array.isArray(Rt.cafes)?Rt.cafes:[];if(xt){const Cn=Ut.findIndex(yn=>yn.id===xt.id);Cn>-1?Ut[Cn]=xt:Ut.push(xt)}l(Array.isArray(Rt.documents)?Rt.documents:[]),h(Array.isArray(Rt.staticDocuments)?Rt.staticDocuments:[]),v(Ut);const zt=nt?{...Rt.siteSettings,...nt,ads:Rt.siteSettings.ads}:Rt.siteSettings;x(zt),C(Array.isArray(Rt.pages)?Rt.pages:[]),F(Array.isArray(Rt.blogPosts)?Rt.blogPosts:[]),I(Array.isArray(Rt.ads)?Rt.ads:[]),R(Array.isArray(Rt.sites)?Rt.sites:[]),y(Array.isArray(Rt.services)?Rt.services:[]),D(Array.isArray(We==null?void 0:We.wilayas)?We.wilayas:[]),O(Array.isArray(We==null?void 0:We.dairas)?We.dairas:[]),X(Array.isArray(We==null?void 0:We.communes)?We.communes:[]),Se(!1)}else{Se(!0);const[Ln,xn,Rt]=await Promise.all([$me(),A9("dz"),N9("dz")]),We=Array.isArray(Ln)?Ln:[];y(We),v([]);const ie=We.filter($e=>$e.serviceType==="doc"),de=We.filter($e=>$e.serviceType==="static-doc"),Pe=We.filter($e=>$e.serviceType==="site");l(ie),h(de),R(Pe),x(xn.siteSettings),C(Array.isArray(xn.pages)?xn.pages:[]),F(Array.isArray(xn.blogPosts)?xn.blogPosts:[]),I(Array.isArray(xn.ads)?xn.ads:[]),D(Array.isArray(Rt==null?void 0:Rt.wilayas)?Rt.wilayas:[]),O(Array.isArray(Rt==null?void 0:Rt.dairas)?Rt.dairas:[]),X(Array.isArray(Rt==null?void 0:Rt.communes)?Rt.communes:[]),Se(!1)}const[Wt,$t,_n,En]=await Promise.all([Me,Oe,qe,st]);Z(Array.isArray(Wt)?Wt:[]),e&&Array.isArray(Wt)&&await Pi("codes",Wt),Y(Array.isArray($t)?$t:[]),J(_n),te(En)}catch(Ee){console.error("Failed to load application data:",Ee),z(Ee instanceof Error?Ee.message:"An unknown error occurred.")}finally{ce(!1)}}}})()},[i.pathname,s,a,e,r,n,le]);const Ie=V.useCallback(async()=>{if(c.length===0){fe(!0);try{const Te=await xi("fullDocuments");if(Te.length>0)u(Te);else{const Re=await uf(),Ee=Array.isArray(Re)?Re:[];u(Ee),await Pi("fullDocuments",Ee)}}catch(Te){console.error("Failed to load full documents:",Te)}finally{fe(!1)}}},[c.length]),ke=V.useCallback(Te=>{const Re=me([Te])[0];F(Ee=>[Re,...Ee].sort((ve,Me)=>{const Oe=(ve.publishedAt||ve.createdAt).toDate();return(Me.publishedAt||Me.createdAt).toDate().getTime()-Oe.getTime()}))},[]),he=V.useCallback((Te,Re)=>{F(Ee=>Ee.map(ve=>ve.id===Te?me([{...ve,...Re}])[0]:ve))},[]),ye=V.useCallback(Te=>{F(Re=>Re.filter(Ee=>Ee.id!==Te))},[]),_e={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:b,pages:w,blogPosts:S,ads:A,sites:N,wilayas:P,dairas:M,communes:H,codes:G,voicePrompts:W,baseTemplates:B,excelCommands:q,documentCommands:Q,loading:ae,locationsLoading:ue,loadingFullDocuments:Fe,error:Le,loadFullDocuments:Ie,refetchAdminData:re,refetchCafes:oe,addBlogPost:ke,updateBlogPost:he,deleteBlogPost:ye};return d.jsx(rG.Provider,{value:_e,children:t})},Yt=()=>{const t=V.useContext(rG);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},NC=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(uI,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(VH,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(BH,{...n})});default:return null}},Xge=()=>{const{siteSettings:t,blogPosts:e,loading:n}=Yt(),{t:r,language:i}=si(),a=Nr().pathname.match(/^\/([a-z]{2})(?:\/|$)/),o=a?a[1]:"dz",l=V.useMemo(()=>e.some(g=>g.enabled&&g.content&&g.content[i]),[e,i]),c=V.useMemo(()=>{const g=i==="ar"?"/blog/":`/blog/${i}/`,y=Cp.find(x=>x.code===i),b=i==="ar"?r("footer.blog"):`Blog (${(y==null?void 0:y.name)||i.toUpperCase()})`;return{path:g,linkText:b}},[i,r]);if(n||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const u=t.social&&t.social[o]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},f=t.seo&&t.seo[o]||t.seo&&t.seo.default||{siteName:"Gitut"},h=u.facebook||u.twitter||u.instagram,v=(t.footerPages||[]).filter(g=>g.lang===i||!g.lang&&i==="ar");return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(v.length>0||l)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[l&&d.jsx("a",{href:`https://gitut.com${c.path}`,className:"hover:text-green-600 hover:underline",children:c.linkText}),d.jsx("a",{href:`https://gitut.com/${o}/services/`,className:"hover:text-green-600 hover:underline",children:r("footer.services")}),v.map(g=>d.jsx("a",{href:`https://gitut.com/${o}/page/${g.slug}/`,className:"hover:text-green-600 hover:underline",children:g.title},g.slug))]}),h&&d.jsxs("div",{className:"flex justify-center gap-6",children:[u.facebook&&d.jsx(NC,{type:"facebook",url:u.facebook}),u.twitter&&d.jsx(NC,{type:"twitter",url:u.twitter}),u.instagram&&d.jsx(NC,{type:"instagram",url:u.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",f.siteName,". ",r("footer.rightsReserved")]})]})})})},L9=t=>t?t.replace(/[]/g,"").replace(//g,""):"",j9=()=>{const{services:t,loading:e}=Yt(),n=Si(),{countryCode:r}=ua(),{t:i,language:s}=si(),a=V.useMemo(()=>[{title:i("findPage.hero.title1"),subtitle:i("findPage.hero.subtitle1")},{title:i("findPage.hero.title2"),subtitle:i("findPage.hero.subtitle2")}],[i]),[o,l]=V.useState(0),c=V.useMemo(()=>r?t.filter(D=>!D.countryCode||D.countryCode===r):t,[t,r]);V.useEffect(()=>{if(e)return;const D=setInterval(()=>{l(M=>(M+1)%a.length)},7e3);return()=>clearInterval(D)},[a.length,e]);const[u,f]=V.useState(""),[h,p]=V.useState([]),[v,g]=V.useState(!1),[y,b]=V.useState([]),[x,w]=V.useState(!1),C=V.useRef(null),S=window.SpeechRecognition||window.webkitSpeechRecognition,F=!!S;V.useEffect(()=>{if(u.trim()){const D=L9(u.toLowerCase()),M=c.filter(O=>L9(O.name.toLowerCase()).includes(D));p(M)}else p([])},[u,c]),V.useEffect(()=>{if(!F)return;const D=new S;D.continuous=!1,D.interimResults=!1;let M="ar-SA";switch(s){case"en":M="en-US";break;case"fr":M="fr-FR";break;case"de":M="de-DE";break;case"es":M="es-ES";break;case"tr":M="tr-TR";break;case"ja":M="ja-JP";break}return D.lang=M,D.onresult=O=>f(O.results[0][0].transcript),D.onerror=O=>{console.error("Speech recognition error",O.error),alert(`Speech recognition error: ${O.error}`)},D.onend=()=>w(!1),C.current=D,()=>{var O;return(O=C.current)==null?void 0:O.abort()}},[F,s]);const A=()=>{var D,M;if(!F){alert("Your browser does not support voice search.");return}x?(D=C.current)==null||D.stop():((M=C.current)==null||M.start(),w(!0))},I=D=>{f(""),y.find(M=>M.id===D.id&&M.serviceType===D.serviceType)||b(M=>[...M,D])},N=(D,M)=>{b(O=>O.filter(H=>!(H.id===D&&H.serviceType===M)))},R=D=>{D.preventDefault();const M=y.filter(H=>H.serviceType==="doc"||H.serviceType==="site");if(M.length===0){alert(i("findPage.alert.selectFillable"));return}const O=M.map(H=>H.id);n(`/${r||"dz"}/find-cafe`,{state:{documentIds:O}})},P=y.filter(D=>D.serviceType==="doc"||D.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:e?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:a[o].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:a[o].subtitle})]},o)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i("findPage.step1.title")}),d.jsx("form",{onSubmit:D=>D.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:i("findPage.step1.placeholder"),value:u,onChange:D=>f(D.target.value),onFocus:()=>g(!0),onBlur:()=>setTimeout(()=>g(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),F&&d.jsx("button",{type:"button",onClick:A,title:i("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${x?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(Cc,{className:"h-5 w-5"})}),v&&h.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:h.map(D=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>I(D),children:[d.jsx("span",{children:D.name}),y.find(M=>M.id===D.id&&M.serviceType===D.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${D.serviceType}-${D.id}`))})]})})]}),d.jsx("section",{children:y.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[i("findPage.selectedDocs.title")," (",y.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:y.map(D=>{const M="description"in D?D.description:"url"in D?D.url:"",O=D.serviceType==="static-doc"?d.jsx(Kv,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):D.serviceType==="site"?d.jsx(Hy,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[O,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:D.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:M}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[D.serviceType==="static-doc"&&d.jsx("a",{href:`/${r||"dz"}/view/${D.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:i("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>N(D.id,D.serviceType),title:i("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(Yu,{})})]})]},`${D.serviceType}-${D.id}`)})}),d.jsx("form",{onSubmit:R,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:P===0,title:P===0?i("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:i("findPage.selectedDocs.nextStepButton",{count:P})}),d.jsx(dI,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:i("findPage.selectedDocs.emptyState")})})})]})},fc=({placement:t})=>{const{ads:e}=Yt(),n=V.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):t==="PDF_INTERSTITIAL"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 my-4",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-64 object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-center items-center p-6 text-center",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:n.title}),d.jsx("p",{className:"text-white text-lg",children:n.content}),d.jsx("span",{className:"mt-4 px-4 py-2 bg-green-600 text-white text-sm font-bold rounded hover:bg-green-700 transition-colors",children:" "})]})]})}):null:null},Yge="https://pub-f25b4129424647319985a15a082e6685.r2.dev",_i=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${Yge}/${t.startsWith("/")?t.substring(1):t}`:"";async function iG(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const iN=new URL("/api/gun",window.location.origin);iN.protocol=iN.protocol==="https:"?"wss:":"ws:";const sG=iN.toString();console.log(`[Gun.js] Attempting to connect to peer: ${sG}`);const Qge=[sG];let aG=null;typeof window<"u"&&window.Gun&&(aG=window.Gun({peers:Qge}));const Yn=aG,oG=V.createContext(void 0),Ix=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,Zge=({children:t})=>{const{user:e}=kr(),{cafes:n}=Yt(),[r,i]=V.useState(null);V.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),V.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Yn)return;const u=e.cafeId,f=Yn.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),V.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Yn)return;const u=e.cafeId,f=Yn.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await sa("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await yr("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=V.useState(null),p=V.useRef(null);return V.useEffect(()=>{if(!u||!Yn){h(!1);return}const v=Yn.get("presence").get(u),g=()=>{const x=p.current,w=x?Date.now()-x<15e3:!1;h(w)},y=v.on(x=>{p.current=x&&typeof x.lastSeen=="number"?x.lastSeen:null,g()}),b=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(b)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=V.useState([]),p=V.useMemo(()=>!Yn||!u?null:Yn.get("chats").get(u),[u]);V.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,b)=>{if(y){g.set(b,{...y,id:b});const x=Array.from(g.values()).sort((w,C)=>w.timestamp-C.timestamp);h(x)}}),()=>p.off()},[p]);const v=V.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},b=Ix();p.get(b).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=V.useState({unread:!1,messages:[]}),[h,p]=V.useState(new Map),v=e==null?void 0:e.cafeId;V.useEffect(()=>{if(!v||!Yn)return;const C=Yn.get("chats").get(`admin_${v}`),S=new Map;return C.map().on((F,A)=>{if(F){S.set(A,{...F,id:A});const I=Array.from(S.values()).sort((P,D)=>P.timestamp-D.timestamp),N=I[I.length-1],R=N&&N.senderId!==v&&N.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:I,lastMessage:N,unread:R})}}),()=>C.off()},[v]),V.useEffect(()=>{if(!v||!Yn)return;const C=Yn.get("chats").get(v),S=new Map;return C.map().on((F,A)=>{if(F){const I=new Map;Yn.get(F["#"]).map().on((N,R)=>{if(N){I.set(R,{...N,id:R});const P=Array.from(I.values()).sort((O,H)=>O.timestamp-H.timestamp),D=P[P.length-1],M=D&&D.senderId!==v&&D.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${A}`))||0);S.set(A,{messages:P,lastMessage:D,unread:M}),p(new Map(S))}})}}),()=>C.off()},[v]);const g=V.useCallback(C=>{var A;if(!v||!Yn)return;const S=Yn.get("chats").get(`admin_${v}`),F={text:C,senderId:v,senderName:((A=n.find(I=>I.id===v))==null?void 0:A.name)||"Cafe",timestamp:Date.now()};S.get(Ix()).put(F)},[v,n]),y=V.useCallback((C,S)=>{var I;if(!v||!Yn)return;const F=Yn.get("chats").get(v).get(C),A={text:S,senderId:v,senderName:((I=n.find(N=>N.id===v))==null?void 0:I.name)||"Cafe",timestamp:Date.now()};F.get(Ix()).put(A)},[v,n]),b=V.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(C=>({...C,unread:!1})))},[v]),x=V.useCallback(C=>{v&&(localStorage.setItem(`lastRead_${v}_${C}`,String(Date.now())),p(S=>{const F=new Map(S),A=F.get(C);return A&&F.set(C,{...A,unread:!1}),F}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(C=>C.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:b,markVisitorAsRead:x,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=V.useState(new Map),[h,p]=V.useState(null),[v,g]=V.useState([]);V.useEffect(()=>{if(!Yn)return;const w=Yn.get("chats"),C=new Map;return w.map().on((S,F)=>{if(F.startsWith("admin_")){const A=F.replace("admin_","");Yn.get(S["#"]).map().on((I,N)=>{var R;if(I){const P=((R=n.find(M=>M.id===A))==null?void 0:R.name)||`Cafe ${A.substring(0,4)}`,D=C.get(A);if(!D||I.timestamp>D.lastMessage.timestamp){const M=I.senderId!=="admin"&&I.timestamp>(Number(localStorage.getItem(`lastRead_admin_${A}`))||0);C.set(A,{lastMessage:{...I,id:N},unread:M,cafeName:P}),f(new Map(C))}}})}}),()=>w.off()},[n]),V.useEffect(()=>{if(!h||!Yn){g([]);return}const w=Yn.get("chats").get(`admin_${h}`),C=new Map;return w.map().on((S,F)=>{S&&(C.set(F,{...S,id:F}),g(Array.from(C.values()).sort((A,I)=>A.timestamp-I.timestamp)))}),()=>w.off()},[h]);const y=V.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(C=>{const S=new Map(C),F=S.get(w);return F&&S.set(w,{...F,unread:!1}),S})},[]),b=V.useCallback(w=>{if(!h||!Yn)return;const C=Yn.get("chats").get(`admin_${h}`),S={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};C.get(Ix()).put(S)},[h]),x=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:b,unreadConversationsCount:x}}};return d.jsx(oG.Provider,{value:c,children:t})},lh=()=>{const t=V.useContext(oG);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},gI=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=V.useState(""),c=V.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(bt,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(Q0,{})})]})})]})},lG=({url:t,title:e,description:n})=>{const{t:r}=si(),[i,s]=V.useState(!1),[a,o]=V.useState(!1),l=V.useMemo(()=>{let g=t;const y=g.indexOf("?"),b=g.indexOf("#");let x=g,w="";if(y!==-1||b!==-1){const C=Math.min(y===-1?1/0:y,b===-1?1/0:b);x=g.substring(0,C),w=g.substring(C)}return x.endsWith(".html")&&(x=x.slice(0,-5)),x+w},[t]),c=encodeURIComponent(l),u=encodeURIComponent(e),f=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${c}&title=${u}`,icon:d.jsx(wge,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${c}&description=${u}`,icon:d.jsx(Ege,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${c}&title=${u}`,icon:d.jsx(Cge,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${c}&quote=${u}`,icon:d.jsx(uI,{}),color:"bg-blue-600 hover:bg-blue-700"}],h=()=>{navigator.clipboard.writeText(l).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},p=g=>{navigator.clipboard.writeText(g).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},v=()=>{const g=(n||"").replace(/<[^>]*>/g,""),y=g.substring(0,155)+(g.length>155?"...":""),b=`${e}

${y}

${l}`,x=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${y}</p></div>
      <a href="${l}">${l}</a>
    `;try{if(typeof ClipboardItem>"u"){p(b);return}const w=new Blob([x],{type:"text/html"}),C=new Blob([b],{type:"text/plain"}),S=new ClipboardItem({"text/html":w,"text/plain":C});navigator.clipboard.write([S]).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(F=>{console.error("Async clipboard write failed, falling back to plain text: ",F),p(b)})}catch(w){console.error("Failed to use Clipboard API, falling back to writeText: ",w),p(b)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[f.map(g=>d.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${g.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${g.color}`,children:Tl.cloneElement(g.icon,{size:24})},g.name)),d.jsx("button",{onClick:h,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:i?d.jsx(U9,{size:22}):d.jsx(YH,{size:22})}),d.jsx("button",{onClick:v,"aria-label":r("share.copyDetails"),title:r("share.copyDetails"),className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:a?d.jsx(U9,{size:22}):d.jsx(Dge,{size:22})})]})},os=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Px=t=>t?t.replace(/[]/g,"").replace(//g,""):"",e0e=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},t0e=()=>{var B,j,q;const{countryCode:t,numericId:e}=ua(),n=Nr(),{documents:r,cafes:i,siteSettings:s,loading:a}=Yt(),{user:o}=kr(),{language:l}=si(),[c,u]=V.useState(void 0),[f,h]=V.useState(!0),[p,v]=V.useState(()=>{var J;return!!((J=n.state)!=null&&J.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:b}=lh(),{isOnline:x}=g(c==null?void 0:c.id),{messages:w,sendMessage:C}=y(c==null?void 0:c.id),[S,F]=V.useState([]),[A,I]=V.useState(""),[N,R]=V.useState(!1);V.useEffect(()=>{var J,Q;if(c&&s){const te=((J=s.seo)==null?void 0:J[t||"dz"])||((Q=s.seo)==null?void 0:Q.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},ae=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",ce=`${c.name} ${ae} ${te.titleSeparator} ${te.siteName}`,ue=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):te.metaDescription,Se=_i(c.coverImageUrl)||"https://datas.gitut.com/data/image/gitut-og-main.png";let Fe="en_US";switch(l){case"ar":Fe="ar_AR";break;case"fr":Fe="fr_FR";break;case"de":Fe="de_DE";break;case"es":Fe="es_ES";break;case"tr":Fe="tr_TR";break;case"ja":Fe="ja_JP";break}document.title=ce,os("description",ue,!1),os("og:title",ce),os("og:description",ue),os("og:image",Se),os("og:image:secure_url",Se),os("og:image:width","1200"),os("og:image:height","630"),os("og:url",window.location.href),os("og:type","profile"),os("og:site_name",te.siteName),os("og:locale",Fe),os("twitter:card","summary_large_image",!1),os("twitter:url",window.location.href,!1),os("twitter:title",ce,!1),os("twitter:description",ue,!1),os("twitter:image",Se,!1)}},[c,s,t,l]),V.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Q=parseInt(e,10),te=i.find(ae=>ae.numericId===Q);if(te)u(te),h(!1);else try{const ae=await Jme(Q);u(ae||void 0)}catch(ae){console.error("Failed to fetch cafe by numericId:",ae),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=V.useMemo(()=>{if(!c)return[];const J=[],Q=new Set([c.id]),te=i.filter(ce=>ce.id!==c.id&&ce.isProfilePublished);return te.filter(ce=>ce.address.commune===c.address.commune&&ce.address.wilaya===c.address.wilaya).forEach(ce=>{J.length<5&&!Q.has(ce.id)&&(J.push(ce),Q.add(ce.id))}),J.length<5&&c.address.daira&&te.filter(ue=>ue.address.daira===c.address.daira&&ue.address.wilaya===c.address.wilaya).forEach(ue=>{J.length<5&&!Q.has(ue.id)&&(J.push(ue),Q.add(ue.id))}),J.length<5&&te.filter(ue=>ue.address.wilaya===c.address.wilaya).forEach(ue=>{J.length<5&&!Q.has(ue.id)&&(J.push(ue),Q.add(ue.id))}),J},[c,i]),D=V.useMemo(()=>e0e(r),[r]),M=V.useMemo(()=>c?D.filter(J=>c.services.includes(J.groupId)):[],[c,D]),O=V.useMemo(()=>{if(!A)return M;const J=Px(A.toLowerCase());return M.filter(Q=>Px(Q.name.toLowerCase()).includes(J))},[M,A]),H=V.useMemo(()=>{if(!A||!N)return[];const J=Px(A.toLowerCase());return M.filter(Q=>Px(Q.name.toLowerCase()).includes(J))},[M,A,N]),X=J=>{F(Q=>Q.includes(J)?Q.filter(te=>te!==J):[...Q,J])},G=J=>{X(J),I("")},Z=V.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:J}=c;return c.countryCode==="dz"?`${J.street||""}, ${J.commune||""}, ${J.daira||""}, ${J.wilaya||""}`.replace(/^,|,$/g,"").trim():`${J.street||""}, ${J.city||""}, ${J.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(sn,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const W="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",Y="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:_i(c.coverImageUrl)||Y,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:J=>{J.currentTarget.src=Y}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(sn,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:_i(c.imageUrl)||W,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:J=>{J.currentTarget.src=W}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${x===null?"bg-gray-300 animate-pulse":x?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:x===null?" ...":x?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",Z]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(Bge,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Lge,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(uI,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(BH,{size:24})}),((q=c.socials)==null?void 0:q.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(VH,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:A,onChange:J=>I(J.target.value),onFocus:()=>R(!0),onBlur:()=>setTimeout(()=>R(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),H.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:H.map(J=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${S.includes(J.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Q=>{Q.preventDefault(),G(J.id)},children:[d.jsx("span",{children:J.name}),S.includes(J.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},J.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:O.length>0?O.map(J=>d.jsxs("button",{type:"button",onClick:()=>X(J.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${S.includes(J.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":S.includes(J.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:J.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:J.description}})]},J.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(sn,{to:S.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:S},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${S.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":S.length===0,onClick:J=>S.length===0&&J.preventDefault(),children:["   (",S.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(fc,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(J=>d.jsxs(sn,{to:`/${J.countryCode}/profile/${J.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:J.name}),d.jsx("p",{className:"text-sm text-gray-500",children:J.address.commune})]},J.id))})]})]})]})]}),d.jsx(lG,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(fI,{size:24})}),p&&c&&b&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(gI,{title:`  ${c.name}`,messages:w,onSendMessage:C,currentUserId:b,isOnline:x,onClose:()=>v(!1)})})]})},n0e=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState(null),[o,l]=V.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};V.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Xv=({value:t,onChange:e})=>{const n=V.useRef(null),[r,i]=V.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(oh,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Ml,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Ym,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(n0e,{onClose:()=>i(!1),onCapture:e})]})},cG="https://gitut.com/api/",uG="@@??YOUYOU@@??YOUYOU1936",dG="Could not initialize Firebase Admin SDK";function fG(){return new Promise((t,e)=>{if(Wr.currentUser)return t(Wr.currentUser);const n=Wr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function dd(t,e){var n;try{const i=await(await fG()).getIdToken(),s=await fetch(cG,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":uG},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(dG)?new Error("    .      ."):r}}async function*hG(t){const e="generateContentStream",n={modelRequest:t},i=await(await fG()).getIdToken(),s=await fetch(cG,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":uG},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(dG)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*r0e(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=hG({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const i0e=async t=>dd("extractJsonFromHtml",{html:t}),hc=async t=>dd("generateContent",{modelRequest:t}),s0e=async t=>dd("generateImages",{prompt:t}),yI=async(t,e,n,r)=>{const i=await dd("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},a0e=async(t,e,n,r)=>{const i=await dd("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},o0e=async(t,e,n)=>dd("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),l0e=async(t,e,n)=>dd("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),pG=async t=>dd("convertPdfToHtml",{pdfBase64:t}),c0e=({onClose:t,onScanSuccess:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState("initializing"),[o,l]=V.useState("  ..."),[c,u]=V.useState(null),f=V.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);V.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const b=g.toDataURL("image/jpeg",.9),[x,w]=b.split(","),C=((p=x.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",A=await yI(w,C,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(A&&(A.firstName||A.lastName)){const N={fullName:`${A.firstName||""} ${A.lastName||""}`.trim(),firstName:A.firstName||"",lastName:A.lastName||"",firstNameFr:A.firstNameFr||"",lastNameFr:A.lastNameFr||"",birthdaydate:A.birthdaydate||"",birthdayplace:A.birthdayplace||"",nationalId:A.nationalId||"",bloodType:A.bloodType||""};e(N)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(Yu,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(bt,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Ym,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},Rx={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},u0e=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(Rx[i])return Rx[i]}const r=e.split(/\s+/);for(const i of r)if(Rx[i])return Rx[i];return null},d0e=()=>{var fe;const t=Nr(),e=Si(),{countryCode:n}=ua(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=Yt(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=lh(),{isOnline:f}=u(l),{t:h,language:p}=si(),[v,g]=V.useState(),[y,b]=V.useState({}),[x,w]=V.useState(0),[C,S]=V.useState(""),[F,A]=V.useState(!1),[I,N]=V.useState(!1),[R,P]=V.useState("filling"),[D,M]=V.useState(!1),[O,H]=V.useState(!1),X=V.useRef(null),G=V.useRef(!1);V.useEffect(()=>{l&&s.length>0&&g(s.find(Le=>Le.id===l))},[l,s]);const Z=Le=>{b(z=>({...z,...Le})),H(!1)},W=V.useMemo(()=>r.filter(Le=>c.includes(Le.id)),[r,c]),Y=V.useMemo(()=>i.filter(Le=>Le.type==="template"&&c.includes(Le.id)),[i,c]),B=V.useMemo(()=>!c||c.length===0?!1:W.length>0||Y.length>0,[c,W,Y]),j=V.useMemo(()=>{const Le=[],z=new Set;return W.forEach(me=>{var le;((((le=me.spokenFields)==null?void 0:le.length)>0?me.spokenFields:me.requiredFields)||[]).forEach(re=>{var oe,Ie,ke;if(re!=="profilePicture"&&re!=="DateToday"&&!z.has(re)){const he=Object.prototype.hasOwnProperty.call(N2,re),ye=((oe=me.questions)==null?void 0:oe[re])||((ke=(Ie=me.fieldCustomizations)==null?void 0:Ie[re])==null?void 0:ke.customQuestion)||(he?N2[re]:re);Le.push({id:re,label:ye||re}),z.add(re)}})}),Y.forEach(me=>{var le;(((le=me.jsonTemplate)==null?void 0:le.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const oe=re.fieldId;z.has(oe)||(Le.push({id:oe,label:re.label}),z.add(oe))}})}),Le},[W,Y]),q=V.useMemo(()=>{const Le=new Set;return W.forEach(z=>(z.requiredFields||[]).forEach(me=>Le.add(me))),Le.has("profilePicture")},[W]),J=x===j.length-1,Q=V.useMemo(()=>{var ke,he,ye;const Le=(ke=j[x])==null?void 0:ke.id;if(!Le)return null;const me=Object.prototype.hasOwnProperty.call(Mr,Le)?Mr[Le]:null;let be=null;for(const _e of W)if((he=_e.fieldCustomizations)!=null&&he[Le]){be=_e.fieldCustomizations[Le];break}const le=((ye=j[x])==null?void 0:ye.label)||Le,re=(be==null?void 0:be.type)||(me==null?void 0:me.type)||"text",oe=me?h(me.placeholder||""):Le;let Ie;return be!=null&&be.options?Ie=be.options.map(_e=>({value:_e,label:_e})):me!=null&&me.options&&(Ie=me.options.map(_e=>({value:_e.value,label:h(_e.label)}))),{id:Le,question:le,type:re,placeholder:oe,options:Ie,customization:be}},[x,j,W,h]),te=V.useCallback(()=>{J?P("finished"):w(Le=>Le+1)},[J]),ae=V.useCallback(()=>{x>0&&w(Le=>Le+1)},[x]),ce=V.useRef({handleNext:te,handlePrevious:ae,setFormData:b,currentField:Q});V.useEffect(()=>{ce.current={handleNext:te,handlePrevious:ae,setFormData:b,currentField:Q}},[te,ae,Q]),V.useEffect(()=>{G.current=I},[I]),V.useEffect(()=>{const Le=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Le)return;const z=new Le;z.continuous=!0,z.interimResults=!1;let me="ar-SA";switch(p){case"en":me="en-US";break;case"fr":me="fr-FR";break;case"de":me="de-DE";break;case"es":me="es-ES";break;case"tr":me="tr-TR";break;case"ja":me="ja-JP";break}z.lang=me,z.onstart=()=>{N(!0),M(!1)},z.onend=()=>{if(G.current){console.log("Speech recognition service disconnected, attempting to restart.");try{z.start()}catch(be){console.error("Could not restart recognition:",be),G.current=!1,N(!1)}}else N(!1)},z.onresult=be=>{let le="";for(let Te=be.resultIndex;Te<be.results.length;++Te)be.results[Te].isFinal&&(le+=be.results[Te][0].transcript.trim());if(!le)return;const{handleNext:re,handlePrevious:oe,setFormData:Ie,currentField:ke}=ce.current,he=u0e(le);if(ke!=null&&ke.options&&he!==null){const Te=he-1;if(Te>=0&&Te<ke.options.length){const Re=ke.options[Te];Ie(Ee=>({...Ee,[ke.id]:Re.value})),re();return}}const ye=["",""," "," ","next","suivant"],_e=["","",""," "," "," ","previous","prcdent"];ye.some(Te=>le.toLowerCase().includes(Te))?re():_e.some(Te=>le.toLowerCase().includes(Te))?oe():ke&&Ie(Te=>({...Te,[ke.id]:(Te[ke.id]||"")+le+" "}))},z.onerror=be=>{console.error("Speech recognition error:",be.error),(be.error==="not-allowed"||be.error==="permission-denied")&&M(!0),G.current=!1,N(!1)},X.current=z,G.current=!0;try{X.current.start()}catch(be){console.error("Could not start recognition on mount:",be),G.current=!1,N(!1)}return()=>{X.current&&(G.current=!1,X.current.onend=null,X.current.stop())}},[p]),V.useEffect(()=>{var Le;if(X.current){const z=X.current,me=G.current;me&&(G.current=!1,z.stop());let be=((Le=Q==null?void 0:Q.customization)==null?void 0:Le.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";z.lang=be,console.log(`Switched speech recognition language to: ${be} for field ${Q==null?void 0:Q.id}`),me&&setTimeout(()=>{G.current=!0;try{z.start()}catch(le){console.error("Could not restart recognition after lang change:",le),G.current=!1,N(!1)}},250)}},[x,j,v,Q]);const ue=()=>{var Le,z;I?(G.current=!1,(Le=X.current)==null||Le.stop()):(G.current=!0,(z=X.current)==null||z.start())},Se=Le=>{const{name:z,value:me}=Le.target;b(be=>({...be,[z]:me}))},Fe=async()=>{if(q&&!C){alert("     .");return}A(!0);const Le={...y,profilePicture:C};try{if(f===!0&&Yn){console.log("Cafe is online. Sending job via P2P (GUN.js).");const z=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,me={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(Le),createdAt:Date.now(),status:"Pending"};Yn.get("jobs").get(l).get(z).put(me),e(`/${n}/confirmation/${z}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const me=await Zme({cafeId:l,documentIds:c,visitorData:Le});e(`/${n}/confirmation/${me.id}`)}}catch(z){console.error("Error submitting job:",z),alert("    .    .")}finally{A(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(sn,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[O&&d.jsx(c0e,{onClose:()=>H(!1),onScanSuccess:Z}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>H(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(Ym,{}),d.jsx("span",{children:" "})]})]}),D&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(Iw,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),R==="filling"&&Q&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",x+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Q.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Q.type==="select"&&Q.options?d.jsxs("select",{name:Q.id,value:y[Q.id]||"",onChange:Se,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Q.placeholder," --"]}),(fe=Q.options)==null?void 0:fe.map(Le=>d.jsx("option",{value:Le.value,children:Le.label},Le.value))]},Q.id):d.jsx("textarea",{name:Q.id,value:y[Q.id]||"",onChange:Se,placeholder:` ... : ${Q.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Q.id),d.jsx("button",{type:"button",onClick:ue,title:"/ ",disabled:D,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${I?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:I?d.jsx(Wge,{}):d.jsx(Cc,{})})]}),Q.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Q.options.map((Le,z)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[z+1,"."]})," ",Le.label]},Le.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:ae,disabled:x===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(Nw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:te,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:J?"":""})," ",d.jsx(Aw,{})]})]})]}),R==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(qH,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([Le,z])=>{if(!z)return null;const be=(Object.prototype.hasOwnProperty.call(Mr,Le)?N2[Le]:Le)||Le;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[be,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:z})]},Le)})}),q&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Xv,{value:C,onChange:S})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Fe,disabled:F||q&&!C,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[F?d.jsx(bt,{className:"animate-spin"}):d.jsx(Q0,{}),d.jsx("span",{children:F?" ...":"  "})]})]})]})]})]})},f0e=()=>{const{countryCode:t,jobId:e}=ua(),{t:n}=si();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n("confirmationPage.title")}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:n("confirmationPage.subtitle")}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:n("confirmationPage.orderCodeLabel")}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:n("confirmationPage.note")}),d.jsx(sn,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:n("confirmationPage.backToHome")})]})})},h0e=()=>{const{t,countryCode:e}=si(),[n,r]=V.useState(""),[i,s]=V.useState(""),[a,o]=V.useState(""),[l,c]=V.useState(!1),u=Si(),{login:f,logout:h,sendPasswordReset:p}=kr(),[v,g]=V.useState(!1),[y,b]=V.useState(""),[x,w]=V.useState(""),[C,S]=V.useState(""),F=async I=>{if(I.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const N=await f(n,i);N.emailVerified?u(`/${N.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},A=async I=>{if(I.preventDefault(),w(""),S(""),!y){S(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(N){S(N.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),x&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:x}),C&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:C}),d.jsxs("form",{onSubmit:A,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:I=>b(I.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:F,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:I=>r(I.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:I=>s(I.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(sn,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},p0e=["gmail.com","outlook.com","hotmail.com","live.com"],m0e=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=Yt(),{t:i,countryCode:s,language:a}=si(),o=Si(),l=Nr(),c=Kn[a],u=l.state||{},[f,h]=V.useState(u.email||""),[p,v]=V.useState(u.password||""),[g,y]=V.useState(u.confirmPassword||""),[b,x]=V.useState(u.cafeName||""),[w,C]=V.useState(u.ownerName||""),[S,F]=V.useState(u.street||""),[A,I]=V.useState(()=>c.find(z=>z.code===s)||c[0]),[N,R]=V.useState(u.selectedWilaya||""),[P,D]=V.useState(u.selectedDaira||""),[M,O]=V.useState(u.selectedCommune||""),[H,X]=V.useState(u.genericState||""),[G,Z]=V.useState(u.genericCity||""),[W,Y]=V.useState([]),[B,j]=V.useState([]),[q,J]=V.useState(""),[Q,te]=V.useState(!1),[ae,ce]=V.useState(!1),{signup:ue}=kr();V.useEffect(()=>{if(!l.state){const z=c.find(me=>me.code===s)||c[0];I(z)}},[s,c,l.state]);const Se=z=>{const me=z.target.value,be={email:f,password:p,confirmPassword:g,cafeName:b,ownerName:w,street:S,selectedWilaya:N,selectedDaira:P,selectedCommune:M,genericState:H,genericCity:G};o(`/${me}/signup`,{replace:!0,state:be})},Fe=z=>{const me=z.target.value;R(me),D(""),O(""),me?(Y(e.filter(be=>be.wilaya_code===me)),j([])):(Y([]),j([]))},fe=z=>{const me=z.target.value;D(me),O(""),j(me&&N?n.filter(be=>be.daira_name===me&&be.wilaya_code===N):[])},Le=async z=>{var ye;z.preventDefault(),J("");const me=f.split("@")[1];if(!p0e.includes(me)){J(i("signup.errors.allowedDomains"));return}const be=t.length>0;if(!f||!p||!g||!b||!w||!S||!(be&&N&&P&&M)&&!(!be&&H&&G)){J(i("signup.errors.fillAllFields"));return}if(p!==g){J(i("signup.errors.passwordsMismatch"));return}if(p.length<6){J(i("signup.errors.passwordLength"));return}te(!0);let oe;be?oe={wilaya:((ye=t.find(Te=>Te.code===N))==null?void 0:ye.name)||"",wilaya_code:N,daira:P,commune:M,street:S}:oe={state:H,city:G,street:S};const ke=A.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},he={name:b,owner:w,countryCode:A.code,countryPhoneCode:A.phoneCode,address:oe,initialCredits:ke};try{await ue(f,p,he)?ce(!0):J(i("signup.errors.signupFailed"))}catch(_e){_e.code==="auth/email-already-in-use"?J("    .        ."):J(i("signup.errors.signupFailed"))}finally{te(!1)}};return ae?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(sn,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),q&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:q}),d.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:z=>h(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:z=>v(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:z=>y(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:b,onChange:z=>x(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:z=>C(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:A.code,onChange:Se,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(z=>d.jsx("option",{value:z.code,children:z.name},z.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:N,onChange:Fe,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(z=>d.jsx("option",{value:z.code,children:z.name},z.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:fe,required:!0,disabled:!N,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),W.map(z=>d.jsx("option",{value:z.name,children:z.name},z.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:M,onChange:z=>O(z.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(z=>d.jsx("option",{value:z.name,children:z.name},z.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:H,onChange:z=>X(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:G,onChange:z=>Z(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:S,onChange:z=>F(z.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Q||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Q?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(sn,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},B9=()=>{const{user:t}=kr(),{cafes:e}=Yt(),{useCafeChatManager:n}=lh(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(Qn,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(Qn,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hI,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Qn,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(GH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(pI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(Qn,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(Qn,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},g0e=()=>{const{user:t,resendVerificationEmail:e}=kr(),[n,r]=V.useState(!1),[i,s]=V.useState(""),[a,o]=V.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Iw,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(qH,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},V9="1.0",y0e="document-templates-v1",mG=V.createContext(void 0),v0e=({children:t})=>{const[e,n]=V.useState(!0),[r,i]=V.useState(!1),[s,a]=V.useState(""),[o,l]=V.useState(null);V.useEffect(()=>{(async()=>{try{const f=await sa("offlineMetadata","syncStatus");f&&f.version===V9?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=V.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([uf(),gf.getAll(),cf.getAll(),Tm.getAll(),zb()]);a("     ..."),await Promise.all([Pi("fullDocuments",u),Pi("staticDocuments",f),Pi("sites",h),Pi("baseTemplates",p),yr("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(b=>b.finalTemplateUrl).filter(b=>!!b);await(await caches.open(y0e)).addAll(g),a("  ..."),await yr("offlineMetadata",{id:"syncStatus",version:V9,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(mG.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},x0e=()=>{const t=V.useContext(mG);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},b0e=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=x0e(),[s,a]=V.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(Yu,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(bt,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(Iw,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(lo,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},_0e=()=>{const[t,e]=V.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(lo,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(Yu,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},w0e=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(WH,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(sn,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(zH,{}),d.jsx("span",{children:"     "})]})]})}),T0e=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=Yt(),{user:r,refetchUser:i}=kr(),s=Nr(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=V.useState(!1),u=Tl.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);V.useEffect(()=>{t()},[t]),V.useEffect(()=>{i()},[i]),V.useEffect(()=>{let h=!1;const p=g=>{var y,b;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((b=g.data)==null?void 0:b.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(B9,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(b0e,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(B9,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(_0e,{}),d.jsx(g0e,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(w0e,{}):d.jsx(UN,{})})]})]})]})},kC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",E0e=()=>{const{documents:t,staticDocuments:e,sites:n}=Yt(),[r,i]=V.useState("");Si();const[s,a]=V.useState(!1),o=V.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=V.useState(!1),h=V.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=V.useMemo(()=>{if(!r.trim())return[];const g=kC(r);return h.filter(({item:y})=>kC(y.name).includes(g)||"description"in y&&y.description&&kC(y.description).includes(g))},[r,h]);V.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const b=y.results[0][0].transcript;i(b)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx(rN,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(Cc,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let b="",x={},w=Xb;const C="description"in g?g.description:g.url||"";return y==="doc"?(b="/app/generate",x={selectedDocId:g.id},w=Xb):y==="site"?(b=`/app/fill-site/${g.id}`,w=Hy):y==="staticDoc"&&(b=`/app/view-pdf/${g.id}`,w=Kv),d.jsx("li",{children:d.jsxs(sn,{to:b,state:x,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:C})]})]})},`${y}-${g.id}`)})})]})},C0e=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Pw,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},S0e=()=>{const{user:t}=kr(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=Yt(),[a,o]=V.useState([]),[l,c]=V.useState(null),[u,f]=V.useState(!0),[h,p]=V.useState(!1),v=V.useMemo(()=>t!=null&&t.cafeId?e.filter(x=>!x.cafeId||x.cafeId===t.cafeId):[],[e,t]);if(V.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(C=>C.id===t.cafeId)||null;if(!w)try{w=await lI(t.cafeId)}catch(C){console.error("Failed to fetch cafe details directly:",C)}c(w);try{const S=(await bm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(F=>({id:F.id,...F.data()}));o(S)}catch(C){console.error("Failed to fetch dashboard data from Firestore:",C)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(x=>x.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,b=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(C0e,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx(E0e,{}),d.jsx(fc,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(sn,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(sn,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${b.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${b.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${b.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(sn,{to:"billing",className:`${b.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Mge,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(x=>d.jsxs(sn,{to:"generate",state:{selectedDocId:x.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:x.description}})]},x.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",C=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:x.type==="static"?"  ":`  : ${x.url}`})]})]});return x.type==="template"?d.jsx(sn,{to:`fill-site/${x.id}`,className:w,children:C},x.id):d.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:w,children:C},x.id)})})]})]})]})},D0e='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',A0e=`data:image/svg+xml;base64,${btoa(D0e)}`,N0e=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=hG({model:"gemini-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},Gy=async(t,e,n,r)=>{try{let i;for(let h=t.length-1;h>=0;h--){const p=t[h];if(p.id===e||p.slug===e||p.name===e){i=p;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const h=await fetch(_i(i.finalTemplateUrl));if(!h.ok)throw new Error(`Could not fetch final template from ${_i(i.finalTemplateUrl)}`);s=await h.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const h=await fetch(_i(i.previewTemplateUrl));if(!h.ok)throw new Error(`Could not fetch preview template from ${_i(i.previewTemplateUrl)}`);s=await h.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await N0e(s,r.targetLang));const a=new Date,o=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),c=a.getFullYear(),u=`${o}/${l}/${c}`;if(s=s.replace(/\[DateToday\]/g,u),s.includes("[profilePicture]")){const p=`<img src="${n.profilePicture?_i(n.profilePicture):A0e}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,p)}if(Object.keys(n).forEach(h=>{if(h!=="profilePicture"){const p=new RegExp(`\\[${h}\\]`,"g");s=s.replace(p,n[h]||"")}}),Object.keys(Mr).forEach(h=>{const p=h;if(!n.hasOwnProperty(p)){const v=new RegExp(`\\[${p}\\]`,"g");s=s.replace(v,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const h=document.createElement("div");h.style.width="794px",h.style.padding="20px",h.style.position="absolute",h.style.left="-9999px",h.innerHTML=s,document.body.appendChild(h),await html2canvas(h,{scale:2}).then(p=>{const v=p.toDataURL("image/png"),{jsPDF:g}=jspdf,y=new g({orientation:"portrait",unit:"pt",format:"a4"}),b=y.internal.pageSize.getWidth(),x=y.internal.pageSize.getHeight(),w=p.width,C=p.height,S=w/C,F=b/x;let A,I;S>F?(A=b,I=b/S):(I=x,A=x*S),y.addImage(v,"PNG",0,0,A,I);const N=`${(i==null?void 0:i.slug)||e}.pdf`;y.save(N)}),document.body.removeChild(h);return}const f=window.open("","_blank");f?(f.document.write(s),f.document.close(),f.onload=function(){f.focus(),r.action==="print"&&f.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},k0e=()=>{const{user:t}=kr(),{fullDocuments:e,loadingFullDocuments:n}=Yt(),[r,i]=V.useState([]),[s,a]=V.useState(!0),[o,l]=V.useState(null),[c,u]=V.useState(!1),[f,h]=V.useState(!1),[p,v]=V.useState("");V.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let x=!0;const w=new Map,C=()=>{if(x){const N=Array.from(w.values()).sort((R,P)=>P.createdAt-R.createdAt);i(N)}};(async()=>{a(!0);try{(await xi("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),C()}catch(N){console.error("Failed to load jobs from IndexedDB",N)}finally{x&&a(!1)}})();const A=bm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(N=>{N.docs.forEach(R=>{const P={id:R.id,...R.data()};w.set(P.id,P)}),C()},N=>{console.error("Firestore listener error:",N)});let I;if(Yn){const N=Yn.get("jobs").get(t.cafeId),R=(P,D)=>{if(P&&typeof P=="object"&&!w.has(D)){console.log(`Optimistically adding P2P job from Gun: ${D}`);const M={...P,id:D,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(M.id,M),C()}};N.map().on(R),I=()=>N.off()}return()=>{x=!1,A(),I&&I()}},[t]);const g=async(x,w)=>{if(!(!x.audioRecordingUrl&&!x.transcribedText)){h(!0),v("");try{const C=new Set;x.documentIds.forEach(D=>{const M=e.find(O=>O.id===D);M==null||M.requiredFields.forEach(O=>C.add(O))});const S=Array.from(C).map(D=>{var M;return(M=Mr[D])==null?void 0:M.label}).filter(Boolean),F={};C.forEach(D=>{F[D]={type:"STRING",description:Mr[D].label}});const A={type:"OBJECT",properties:F};let I;if(x.transcribedText)I={transcribedText:x.transcribedText};else if(x.audioRecordingUrl){const M=await(await fetch(_i(x.audioRecordingUrl))).blob(),O=new FileReader;I={audioBase64:await new Promise(X=>{O.onloadend=()=>X(O.result.split(",")[1]),O.readAsDataURL(M)})}}else throw new Error("No data (audio or text) available to process.");const N=await o0e(I,A,S),R={...x.visitorData,...N},P={...x,visitorData:R};if(await yr("jobs",P),i(D=>D.map(M=>M.id===x.id?P:M)),l(P),w==="open"||w==="print"){u(!0);for(const D of P.documentIds)await Gy(e,D,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(x.id,P),u(!1)}}catch(C){console.error("Data processing failed:",C),C instanceof Error?v(C.message):v("   .")}finally{h(!1)}}},y=async(x,w)=>{const C=w||r.find(S=>S.id===x);if(C){u(!0);try{if(!w){alert(`  .    ${C.documentIds.length} () .`);for(const A of C.documentIds)await Gy(e,A,C.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:S,...F}=C;await ege(S,{...F,status:"Completed"}),await jf("jobs",x),i(A=>A.map(I=>I.id===x?{...I,status:"Completed"}:I)),l(A=>A&&A.id===x?{...A,status:"Completed"}:A)}catch(S){console.error("Failed to complete job:",S),alert("   .")}finally{u(!1)}}},b=x=>{switch(x){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(x=>d.jsxs("button",{onClick:()=>l(x),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===x.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[x.audioRecordingUrl&&d.jsx(ZH,{className:"text-blue-500"}),d.jsx("span",{children:x.visitorData.fullName||""})]}),b(x.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.createdAt).toLocaleString("ar-DZ")})]},x.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),b(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:_i(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(bt,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(kw,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Fge,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(Pw,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(x=>{const w=e.find(C=>C.id===x);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},x)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([x,w])=>{const C=Mr[x];return(C==null?void 0:C.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[C.label,": "]}),d.jsx("img",{src:_i(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},x):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(C==null?void 0:C.label)||x,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},x)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},I0e=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState(null);V.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},P0e=({onDataExtracted:t})=>{const[e,n]=V.useState(!1),[r,i]=V.useState(!1),[s,a]=V.useState(null),o=V.useRef(null),[l,c]=V.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const x=y.result.split(",")[1];h(x,v.type)},y.readAsDataURL(v)}},f=p=>{var b;const v=p.split(","),g=((b=v[0].match(/:(.*?);/))==null?void 0:b[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const b=await yI(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(b).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const x=`${b.firstName||""} ${b.lastName||""}`.trim();t({fullName:x||void 0,dob:b.dateOfBirth,pob:b.placeOfBirth,nationalId:b.nationalId,birthCertificateNumber:b.birthCertificateNumber,socialSecurityNumber:b.socialSecurityNumber,nationality:b.nationality,maritalStatus:b.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(I0e,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(JH,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(bt,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ml,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(bt,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ym,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},R0e=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},F0e=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=Yt(),i=Nr(),s=Si(),{user:a,updateUserCredits:o}=kr(),{t:l}=si(),[c,u]=V.useState(null),[f,h]=V.useState({}),[p,v]=V.useState(!1),[g,y]=V.useState(!0),[b,x]=V.useState(""),[w,C]=V.useState([]),[S,F]=V.useState(0),[A,I]=V.useState(!1),[N,R]=V.useState(!1),[P,D]=V.useState("idle"),[M,O]=V.useState(null);V.useRef(null),V.useRef("");const[H,X]=V.useState("");V.useRef(null),V.useRef([]);const[G,Z]=V.useState(""),[W,Y]=V.useState(1),B=V.useMemo(()=>{const Fe=e.filter(fe=>!fe.cafeId||fe.cafeId===(a==null?void 0:a.cafeId));return R0e(Fe)},[e,a]);V.useEffect(()=>{var fe;const Fe=(fe=i.state)==null?void 0:fe.selectedDocId;if(Fe&&!c&&e.length>0){const Le=e.find(z=>z.id===Fe);Le&&(q(Le),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=V.useMemo(()=>c?c.requiredFields.filter(Fe=>Fe!=="DateToday"):[],[c]);V.useMemo(()=>j.some(Fe=>Fe==="profilePicture"),[j]);const q=Fe=>{const fe=e.filter(z=>z.groupId===Fe.groupId).sort((z,me)=>z.id.localeCompare(me.id)),Le=fe.findIndex(z=>z.id===Fe.id);C(fe),F(Le>=0?Le:0),h({}),x(""),I(!1),R(!1)};V.useEffect(()=>{(async()=>{if(w.length>0){const fe=w[S];if(u(fe),x(""),fe.previewTemplateHtml)x(fe.previewTemplateHtml);else if(fe.previewTemplateUrl)try{const Le=await fetch(fe.previewTemplateUrl);Le.ok?x(await Le.text()):x('<p class="text-center p-8 text-gray-500">   .</p>')}catch{x('<p class="text-center p-8 text-red-500">  .</p>')}else x('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,S]);const J=()=>F(Fe=>(Fe+1)%w.length),Q=()=>F(Fe=>(Fe-1+w.length)%w.length),te=async Fe=>{if(!Fe){ae("profilePicture","");return}v(!0);try{const fe=await iG(Fe,"profile.jpg"),Le=await wm(fe);ae("profilePicture",Le)}catch{Z("  .")}finally{v(!1)}},ae=(Fe,fe)=>{h(Le=>({...Le,[Fe]:fe}))},ce=async Fe=>{if(!c||!a||!t)return;const fe=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,Le=a.credits.currency==="USD"?"$":"";if(a.credits.amount<fe){alert(`  .    ${fe} ${Le}   ${a.credits.amount} ${Le}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const z=a.credits.amount;try{await Gy(e,c.id,f,{action:Fe,targetLang:"ar",templateType:"final"})}catch(be){console.error("Document generation failed:",be),v(!1),alert("  .     .");return}const me=z-fe;o(me);try{await Ime({id:Date.now(),amount:fe,currency:a.credits.currency}),alert(`    ${fe} ${Le}  .  : ${me.toFixed(2)} ${Le}.`)}catch(be){if(console.error("Failed to queue credit deduction:",be),navigator.onLine)try{await cI(a,fe)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),C([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})});const ue=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,Se=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[ue," ",Se]})]})]}),d.jsx("button",{onClick:()=>{u(null),x(""),C([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Q,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(Nw,{})}),d.jsx("button",{onClick:J,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(Aw,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[S+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:b,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx(P0e,{onDataExtracted:Fe=>h(fe=>({...fe,...Fe}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Fe=>{var oe,Ie,ke;const Le=Object.prototype.hasOwnProperty.call(Mr,Fe)?Mr[Fe]:null,z=(oe=c==null?void 0:c.fieldCustomizations)==null?void 0:oe[Fe],me=((Ie=c==null?void 0:c.questions)==null?void 0:Ie[Fe])||(z==null?void 0:z.customQuestion)||(Le?l(Le.label):Fe),be=(z==null?void 0:z.type)||(Le==null?void 0:Le.type)||"text",le=Le?l(Le.placeholder):"",re=(z==null?void 0:z.options)||(Le==null?void 0:Le.options);if(be==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Fe,className:"block text-sm font-medium text-gray-700 mb-1",children:me}),d.jsxs("select",{id:Fe,name:Fe,value:f[Fe]||"",onChange:he=>ae(he.target.name,he.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),z!=null&&z.options?z.options.map(he=>d.jsx("option",{value:he,children:he},he)):(ke=Le==null?void 0:Le.options)==null?void 0:ke.map(he=>d.jsx("option",{value:he.value,children:l(he.label)},he.value))]})]},Fe);if(be==="multiselect"&&re){const he=f[Fe]?f[Fe].split(","):[],ye=(_e,Te)=>{const Re=Te?[...he,_e]:he.filter(Ee=>Ee!==_e);ae(Fe,Re.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(_e=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:_e,checked:he.includes(_e),onChange:Te=>ye(_e,Te.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:_e})]},_e))})]},Fe)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Fe,className:"block text-sm font-medium text-gray-700 mb-1",children:me}),be==="file"?d.jsx(Xv,{value:f[Fe]||"",onChange:he=>te(he)}):d.jsx("input",{type:be,id:Fe,name:Fe,value:f[Fe]||"",onChange:he=>ae(he.target.name,he.target.value),placeholder:le,className:"w-full p-2 border rounded-md",required:!0})]},Fe)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Fe=>y(Fe.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>ce("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(bt,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>ce("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(bt,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Fe=>d.jsxs("button",{onClick:()=>q(Fe),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Fe.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Fe.description}})]},Fe.id))})]})},M0e=({children:t})=>{const{user:e,loading:n}=kr(),{countryCode:r}=ua();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(Tp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="firebasestorage.googleapis.com",yG="storageBucket",O0e=120*1e3,U0e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends xs{constructor(e,n,r=0){super(IC(e),`Firebase Storage: ${n} (${IC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return IC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gr||(Gr={}));function IC(t){return"storage/"+t}function vI(){const t="An unknown error occurred, please check the error payload for server response.";return new Yr(Gr.UNKNOWN,t)}function L0e(t){return new Yr(Gr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function j0e(t){return new Yr(Gr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B0e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yr(Gr.UNAUTHENTICATED,t)}function V0e(){return new Yr(Gr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W0e(t){return new Yr(Gr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function q0e(){return new Yr(Gr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $0e(){return new Yr(Gr.CANCELED,"User canceled the upload/download.")}function z0e(t){return new Yr(Gr.INVALID_URL,"Invalid URL '"+t+"'.")}function H0e(t){return new Yr(Gr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function G0e(){return new Yr(Gr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yG+"' property when initializing the app?")}function K0e(){return new Yr(Gr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J0e(){return new Yr(Gr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X0e(t){return new Yr(Gr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sN(t){return new Yr(Gr.INVALID_ARGUMENT,t)}function vG(){return new Yr(Gr.APP_DELETED,"The Firebase app was deleted.")}function Y0e(t){return new Yr(Gr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Z0(t,e){return new Yr(Gr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function n0(t){throw new Yr(Gr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Aa.makeFromUrl(e,n)}catch{return new Aa(e,"")}if(r.path==="")return r;throw H0e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===gG?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const S=w[C],F=S.regex.exec(e);if(F){const A=F[S.indices.bucket];let I=F[S.indices.path];I||(I=""),r=new Aa(A,I),S.postModify(r);break}}if(r==null)throw z0e(e);return r}}class Q0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...b){if(c){h();return}if(y){h(),u.call(null,y,...b);return}if(l()||a){h(),u.call(null,y,...b);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function eye(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tye(t){return t!==void 0}function nye(t){return typeof t=="object"&&!Array.isArray(t)}function xI(t){return typeof t=="string"||t instanceof String}function W9(t){return bI()&&t instanceof Blob}function bI(){return typeof Blob<"u"}function q9(t,e,n,r){if(r<e)throw sN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sN(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function xG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yf||(yf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rye(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iye{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===yf.NO_ERROR,l=s.getStatus();if(!o||rye(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===yf.ABORT;r(!1,new Fx(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Fx(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());tye(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=vI();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?vG():$0e();a(l)}else{const l=q0e();a(l)}};this.canceled_?n(!1,new Fx(!1,null,!0)):this.backoffId_=Z0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function sye(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oye(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lye(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cye(t,e,n,r,i,s,a=!0,o=!1){const l=xG(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return oye(u,e),sye(u,n),aye(u,s),lye(u,r),new iye(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dye(...t){const e=uye();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bI())return new Blob(t);throw new Yr(Gr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fye(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hye(t){if(typeof atob>"u")throw X0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PC{constructor(e,n){this.data=e,this.contentType=n||null}}function pye(t,e){switch(t){case _l.RAW:return new PC(bG(e));case _l.BASE64:case _l.BASE64URL:return new PC(_G(t,e));case _l.DATA_URL:return new PC(gye(e),yye(e))}throw vI()}function bG(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function mye(t){let e;try{e=decodeURIComponent(t)}catch{throw Z0(_l.DATA_URL,"Malformed data URL.")}return bG(e)}function _G(t,e){switch(t){case _l.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Z0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _l.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Z0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hye(e)}catch(i){throw i.message.includes("polyfill")?i:Z0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wG{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Z0(_l.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=vye(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function gye(t){const e=new wG(t);return e.base64?_G(_l.BASE64,e.rest):mye(e.rest)}function yye(t){return new wG(t).contentType}function vye(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){let r=0,i="";W9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(W9(this.data_)){const r=this.data_,i=fye(r,e,n);return i===null?null:new yu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yu(r,!0)}}static getBlob(...e){if(bI()){const n=e.map(r=>r instanceof yu?r.data_:r);return new yu(dye.apply(null,n))}else{const n=e.map(a=>xI(a)?pye(_l.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new yu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t){let e;try{e=JSON.parse(t)}catch{return null}return nye(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xye(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bye(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ye(t,e){return e}class Is{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||_ye}}let Mx=null;function wye(t){return!xI(t)||t.length<2?t:EG(t)}function CG(){if(Mx)return Mx;const t=[];t.push(new Is("bucket")),t.push(new Is("generation")),t.push(new Is("metageneration")),t.push(new Is("name","fullPath",!0));function e(s,a){return wye(a)}const n=new Is("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Is("size");return i.xform=r,t.push(i),t.push(new Is("timeCreated")),t.push(new Is("updated")),t.push(new Is("md5Hash",null,!0)),t.push(new Is("cacheControl",null,!0)),t.push(new Is("contentDisposition",null,!0)),t.push(new Is("contentEncoding",null,!0)),t.push(new Is("contentLanguage",null,!0)),t.push(new Is("contentType",null,!0)),t.push(new Is("metadata","customMetadata",!0)),Mx=t,Mx}function Tye(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Aa(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Eye(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return Tye(r,t),r}function SG(t,e,n){const r=TG(e);return r===null?null:Eye(t,r,n)}function Cye(t,e,n,r){const i=TG(e);if(i===null||!xI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=_I(h,n,r),v=xG({alt:"media",token:c});return p+v})[0]}function Sye(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class DG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){if(!t)throw vI()}function Dye(t,e){function n(r,i){const s=SG(t,i,e);return AG(s!==null),s}return n}function Aye(t,e){function n(r,i){const s=SG(t,i,e);return AG(s!==null),Cye(s,i,t.host,t._protocol)}return n}function NG(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=V0e():i=B0e():n.getStatus()===402?i=j0e(t.bucket):n.getStatus()===403?i=W0e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Nye(t){const e=NG(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=L0e(t.path)),s.serverResponse=i.serverResponse,s}return n}function kye(t,e,n){const r=e.fullServerUrl(),i=_I(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new DG(i,s,Aye(t,n),a);return o.errorHandler=Nye(e),o}function Iye(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Pye(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Iye(null,e)),r}function Rye(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=Pye(e,r,i),u=Sye(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=yu.getBlob(f,r,h);if(p===null)throw K0e();const v={name:c.fullPath},g=_I(s,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,x=new DG(g,y,Dye(t,n),b);return x.urlParams=v,x.headers=a,x.body=p.uploadData(),x.errorHandler=NG(e),x}class Fye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw n0("cannot .send() more than once");if(Ol(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw n0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw n0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw n0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw n0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Mye extends Fye{initXhr(){this.xhr_.responseType="text"}}function kG(){return new Mye}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this._service=e,n instanceof Aa?this._location=n:this._location=Aa.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vf(e,n)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EG(this._location.path)}get storage(){return this._service}get parent(){const e=xye(this._location.path);if(e===null)return null;const n=new Aa(this._location.bucket,e);return new Vf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y0e(e)}}function Oye(t,e,n){t._throwIfRoot("uploadBytes");const r=Rye(t.storage,t._location,CG(),new yu(e,!0),n);return t.storage.makeRequestWithTokens(r,kG).then(i=>({metadata:i,ref:t}))}function Uye(t){t._throwIfRoot("getDownloadURL");const e=kye(t.storage,t._location,CG());return t.storage.makeRequestWithTokens(e,kG).then(n=>{if(n===null)throw J0e();return n})}function Lye(t,e){const n=bye(t._location.path,e),r=new Aa(t._location.bucket,n);return new Vf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jye(t){return/^[A-Za-z]+:\/\//.test(t)}function Bye(t,e){return new Vf(t,e)}function IG(t,e){if(t instanceof wI){const n=t;if(n._bucket==null)throw G0e();const r=new Vf(n,n._bucket);return e!=null?IG(r,e):r}else return e!==void 0?Lye(t,e):t}function Vye(t,e){if(e&&jye(e)){if(t instanceof wI)return Bye(t,e);throw sN("To use ref(service, url), the first argument must be a Storage instance.")}else return IG(t,e)}function $9(t,e){const n=e==null?void 0:e[yG];return n==null?null:Aa.makeFromBucketSpec(n,t)}function Wye(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ol(e);i&&(T_(`https://${t.host}/b`),E_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:qN(s,t.app.options.projectId))}class wI{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=gG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O0e,this._maxUploadRetryTime=U0e,this._requests=new Set,i!=null?this._bucket=Aa.makeFromBucketSpec(i,this._host):this._bucket=$9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=$9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Q0e(vG());{const a=cye(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const z9="@firebase/storage",H9="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="storage";function qye(t,e,n){return t=It(t),Oye(t,e,n)}function $ye(t){return t=It(t),Uye(t)}function zye(t,e){return t=It(t),Vye(t,e)}function Hye(t=vV(),e){t=It(t);const r=KN(t,PG).getImmediate({identifier:e}),i=Dte("storage");return i&&Gye(r,...i),r}function Gye(t,e,n,r={}){Wye(t,e,n,r)}function Kye(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wI(n,r,i,e,Ul)}function Jye(){Nl(new Bs(PG,Kye,"PUBLIC").setMultipleInstances(!0)),Us(z9,H9,""),Us(z9,H9,"esm2020")}Jye();const Xye=()=>{var N;const{user:t}=kr(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=Yt(),[s,a]=V.useState(void 0),[o,l]=V.useState(!0),[c,u]=V.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=V.useState(""),[p,v]=V.useState(!1),[g,y]=V.useState(!1),[b,x]=V.useState(!1),[w,C]=V.useState("");V.useEffect(()=>{(async()=>{var D,M,O;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(H=>H.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await lI(t.cafeId)||void 0}catch(H){console.error("Failed to fetch cafe details directly:",H),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((D=P.socials)==null?void 0:D.facebook)||"",instagram:((M=P.socials)==null?void 0:M.instagram)||"",twitter:((O=P.socials)==null?void 0:O.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const S=async R=>{if(!R){u(P=>({...P,imageUrl:""}));return}if(!s){C("       .");return}x(!0),C("");try{const P=Hye(),D=zye(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),M=await iG(R,"profile.jpg","image/jpeg"),O=await qye(D,M),H=await $ye(O.ref);u(X=>({...X,imageUrl:H}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),C("  .    .")}finally{x(!1)}},F=R=>{const{name:P,value:D,type:M}=R.target;if(M==="checkbox"){const{checked:O}=R.target;u(H=>({...H,[P]:O}))}else u(O=>({...O,[P]:D}))},A=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(R=>{const{latitude:P,longitude:D}=R.coords;u(M=>({...M,latitude:P,longitude:D,googleMapsUrl:`https://www.google.com/maps?q=${P},${D}`})),v(!1)},R=>{console.error("Geolocation error:",R.message||R),alert(`    : ${R.message}`),v(!1)})},I=async R=>{if(R.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await Yme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(bt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(WH,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:I,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:F,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(Xv,{value:_i(c.imageUrl),onChange:S})}),b&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(bt,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:F,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:A,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:F,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:F,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:R=>u(P=>({...P,formFillMode:R.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:R=>u(P=>({...P,formFillMode:R.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:R=>u(P=>({...P,speechToTextLanguage:R.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(N=n==null?void 0:n.ai)!=null&&N.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:F,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(sn,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},Yye=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),[i,s]=V.useState(null);V.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Qye=({onPeopleAdded:t})=>{const[e,n]=V.useState(!1),[r,i]=V.useState(!1),[s,a]=V.useState(null),[o,l]=V.useState([]),c=V.useRef(null),[u,f]=V.useState(!1),h=y=>{const b=y.target.files;b&&l(x=>[...x,...Array.from(b)])},p=y=>{l(b=>[...b,y])},v=y=>{l(b=>b.filter((x,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const C=new FileReader,S=await new Promise(I=>{C.onloadend=()=>I(C.result.split(",")[1]),C.readAsDataURL(w)}),F="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",A={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await yI(S,w.type,A,F)}catch(C){return console.error(`Error processing file ${w.name}:`,C),null}},x=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const C=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:C,formData:{fullName:C,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(x.length===0)throw new Error("         .      .");t(x),l([])}catch(y){console.error("Error processing ID cards:",y);const b=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${b}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(Yye,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(JH,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Ml,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Ym,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,b)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${b+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(b),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(oh,{})})]},b))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(bt,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Hge,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},G9=window.SpeechRecognition||window.webkitSpeechRecognition,K9=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=V.useState(!1),o=V.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;V.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(Cc,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},Zye=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=Yt(),[r,i]=V.useState([]),[s,a]=V.useState(!1),[o,l]=V.useState(""),[c,u]=V.useState(""),[f,h]=V.useState([]),[p,v]=V.useState(0),[g,y]=V.useState(!1),[b,x]=V.useState(!1),w=V.useRef(null),C=V.useRef(""),[S,F]=V.useState(!1),[A,I]=V.useState(!1),[N,R]=V.useState(""),P=V.useMemo(()=>[...t,...n],[t,n]),D=V.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),M=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},O=B=>{h(j=>j.filter(q=>q.id!==B))},H=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},X=r[p];V.useMemo(()=>{if(!X)return[];const B=new Set,j=[];return t.filter(q=>X.documentIds.includes(q.id)).forEach(q=>{q.requiredFields&&q.requiredFields.forEach(J=>{var Q,te,ae;if(J!=="fullName"&&!B.has(J)){B.add(J);const ue=Object.prototype.hasOwnProperty.call(Mr,J)?Mr[J]:null,Se=((Q=q.questions)==null?void 0:Q[J])||((ae=(te=q.fieldCustomizations)==null?void 0:te[J])==null?void 0:ae.customQuestion)||(ue==null?void 0:ue.label)||J;j.push({id:J,label:Se})}})}),j},[X,t]);const G=V.useCallback(B=>{i(j=>j.map((q,J)=>J===p?{...q,transcribedText:B}:q))},[p]);V.useEffect(()=>{if(!G9)return;w.current=new G9;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let q="",J="";for(let te=j.resultIndex;te<j.results.length;++te){const ae=j.results[te][0].transcript;j.results[te].isFinal?q+=ae+" ":J+=ae}const Q=(C.current?C.current+" ":"")+q+J;G(Q.trim())},B.onend=()=>x(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[G]);const Z=()=>{if(N.trim()===""){alert("   .");return}const B={id:Date.now(),name:N,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),R("")},W=B=>i(j=>j.filter(q=>q.id!==B)),Y=(B,j)=>{i(r.map(q=>{if(q.id===B){const J=q.documentIds.includes(j)?q.documentIds.filter(Q=>Q!==j):[...q.documentIds,j];return{...q,documentIds:J}}return q}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(Nw,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",X==null?void 0:X.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(Aw,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",X==null?void 0:X.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(q=>{var J;return(J=P.find(Q=>Q.id===q))==null?void 0:J.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(q=>q.filter(J=>J.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(oh,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(K9,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(K9,{value:c,onChange:u,placeholder:"    ...",suggestions:D,onSuggestionClick:M}),d.jsx("button",{onClick:()=>M(D[0]),disabled:!c||D.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-500",children:d.jsx(Yu,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:H,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(dc,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(Qye,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:N,onChange:B=>R(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:Z,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>W(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>Y(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},J9=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],eve=2e3,tve=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],nve=10,rve=()=>{const{user:t}=kr(),{siteSettings:e}=Yt(),[n,r]=V.useState([]),[i,s]=V.useState(null),[a,o]=V.useState(!0),[l,c]=V.useState(J9[0].amount),[u,f]=V.useState(""),[h,p]=V.useState(""),[v,g]=V.useState(null),[y,b]=V.useState(0),[x,w]=V.useState(null),[C,S]=V.useState(!1),F=(t==null?void 0:t.countryCode)==="dz",A=F?"DZD":"USD",I=F?"":"$",N=F?J9:tve,R=F?eve:nve,P=V.useMemo(()=>l||parseInt(u)||0,[l,u]);V.useEffect(()=>{(async()=>{if(t){o(!0);try{const[W,Y]=await Promise.all([nge(t.id),tge(t.id)]);r(W),s(Y.find(B=>B.status==="Pending")||null)}catch(W){console.error("Failed to fetch billing data:",W),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const D=Z=>{Z.target.files&&Z.target.files[0]&&w(Z.target.files[0])},M=async()=>{if(!t||!P||P<R){g({type:"error",message:`    ${R} ${I}.`});return}if(!x){g({type:"error",message:"      ."});return}S(!0),g(null);let Z;try{g({type:"success",message:"   ..."}),Z=await wm(x);const W=await I9(t.id,P,A,"CCP",Z);g({type:W.success?"success":"error",message:W.message}),W.success&&(c(null),f(""),w(null),b(Y=>Y+1))}catch(W){console.error("Error creating payment request:",W),g({type:"error",message:"    .    ."})}finally{S(!1)}setTimeout(()=>g(null),5e3)},O=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<R){g({type:"error",message:`The minimum amount is ${R} ${I}.`});return}const Z=await I9(t.id,P,A,"PayPal");if(!Z.success){g({type:"error",message:Z.message});return}const Y=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(Y,"_blank"),b(B=>B+1)},H=Z=>{c(Z),f(""),p("")},X=Z=>{const W=Z.target.value;f(W),c(null),W&&parseInt(W)<R?p(`    ${R} ${I}.`):p("")},G=Z=>{switch(Z){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:A==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",I]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:N.map(Z=>d.jsx("button",{onClick:()=>H(Z.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===Z.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:Z.label})},Z.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:X,placeholder:`  (  ${R} ${I})`,min:R,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=R&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:F?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:x?` : ${x.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden"})]}),x&&d.jsx("img",{src:URL.createObjectURL(x),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:M,disabled:C,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[C?d.jsx(bt,{className:"animate-spin"}):null,C?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(Tge,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(Z=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:Z.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof Z.date=="string"?new Date(Z.date):Z.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[Z.amount.toLocaleString()," ",Z.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:G(Z.status)})]},Z.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},ive=()=>{const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),a=Si(),{login:o}=Jv(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await Wr.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},sve=()=>{const{admin:t,logout:e}=Jv(),{useAdminChatManager:n}=lh(),{unreadConversationsCount:r}=n(),i=Si(),s=()=>{e(),Wr.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(Qn,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(Qn,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Qn,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(XH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(fI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(Pge,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(Qn,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Qn,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(Qn,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},ave=()=>{const{loadFullDocuments:t,loading:e}=Yt(),{admin:n}=Jv(),{user:r,loading:i}=kr(),a=Nr().pathname.includes("document-studio");return V.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(sve,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(UN,{})})})]})},ove=({children:t})=>{const{admin:e}=Jv();return e?t:d.jsx(Tp,{to:"/admin/login",replace:!0})},lve=()=>{const[t,e]=V.useState(0),[n,r]=V.useState(0),[i,s]=V.useState({DZD:0,USD:0}),[a,o]=V.useState(!0),[l,c]=V.useState(!1),[u,f]=V.useState(""),{refetchAdminData:h}=Yt();V.useEffect(()=>{(async()=>{o(!0);try{const[g,y,b]=await Promise.all([QA(),YA(),k9()]),x=g.filter(w=>w.status==="Pending").length;r(x),e(y.length),s(b)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([QA(),YA(),k9()]);r(v.filter(b=>b.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(eG,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(sn,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(sn,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},cve=()=>{const[t,e]=V.useState([]),{cafes:n,loading:r}=Yt(),[i,s]=V.useState(!0);V.useEffect(()=>{s(!0),YA().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},uve=()=>{const[t,e]=V.useState([]),[n,r]=V.useState([]),[i,s]=V.useState(!0),[a,o]=V.useState(0);V.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([QA(),rge()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await ige(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:_i(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},dve=()=>{const{siteSettings:t}=Yt(),[e,n]=V.useState(t||nr),[r,i]=V.useState(""),[s,a]=V.useState({current:"",new:"",confirm:""}),[o,l]=V.useState(!1);V.useEffect(()=>{if(t){const f={...nr,...t,payment:{...nr.payment,...t.payment||{}},pricing:{...nr.pricing,...t.pricing||{}},seo:{...nr.seo,...t.seo||{}},social:{...nr.social,...t.social||{}},ads:{...nr.ads,...t.ads||{}},ai:{...nr.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),b=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(x=>{if(!x)return nr;const w=JSON.parse(JSON.stringify(x));if(y.length===3){const[C,S,F]=y;w[C]||(w[C]={}),w[C][S]||(w[C][S]={}),w[C][S][F]=b}else if(y.length===2){const[C,S]=y;w[C]||(w[C]={}),w[C][S]=b}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await age(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},Mu="https://gitut.com",$r=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",X9=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",RC=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",r0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},fve=(t,e,n)=>{const r=ho("ar"),i=encodeURIComponent(t),s=encodeURIComponent(e),a=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">${r("share.title")}</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${r0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${i}&description=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${r0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${r0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${i}&quote=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${r0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title="${r("share.copyDetails")}" data-title="${$r(e)}" data-snippet="${$r(a)}" data-url="${$r(t)}">${r0.clipboard}</button>
        </div>
    `},hve=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=X9(e),a=X9(n.replace(/<[^>]*>/g,"").substring(0,155)),o={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${o.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${o.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${o.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${o.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${$r(s)}" data-snippet="${$r(a)}" data-url="${$r(t)}">${o.clipboard}</button>
        </div>
    `},pve=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`,mve=(t,e)=>{const n=t==="global"?"dz":t,r=`${Mu}/${t==="global"?"":n+"/"}`,i=`${Mu}/${n}/login/`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <script async src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff"><\/script>
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${r}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6">
                    <div class="gcse-search"></div>
                    <a href="${r}" class="text-gray-700 hover:text-green-600 font-semibold">${e("header.search")}</a>
                    <a href="${i}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a>
                </nav>
            </div>
        </header>
    `},gve=(t,e,n,r,i,s)=>{var p,v;const a=t==="global"?"dz":t,o=((p=s==null?void 0:s.seo)==null?void 0:p[a])||((v=s==null?void 0:s.seo)==null?void 0:v.default),c=r.filter(g=>g.enabled&&(g.lang===e||!g.lang&&e==="ar")).map(g=>`<a href="${Mu}/${a}/page/${g.slug}/" class="hover:text-green-600 hover:underline">${$r(g.title)}</a>`).join(""),u=i.some(g=>g.enabled&&g.content&&g.content[e]),f=`${Mu}/blog/`;return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${u?`<a href="${f}" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:""}<a href="${Mu}/${a}/services/" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${c}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${$r((o==null?void 0:o.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},TI=({title:t,description:e,mainContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u=""})=>{var C,S;const f=i==="ar"?"rtl":"ltr",h=ho(i),p=mve(r,h),v=gve(r,i,h,a,o,s),g=`
        <div class="flex flex-col min-h-screen">
            ${p}
            ${n}
            ${v}
        </div>
    `,y=((C=s==null?void 0:s.seo)==null?void 0:C[r])||((S=s==null?void 0:s.seo)==null?void 0:S.default),b=c||"https://file.gitut.com/data/image/icon.png",x=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,w=l?hve(l.url,l.title,l.description):"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="https://file.gitut.com/data/image/icon.png">
            <title>${$r(t)}</title>
            <meta name="description" content="${$r(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${$r(t)}">
            <meta property="og:description" content="${$r(e)}">
            <meta property="og:image" content="${b}">
            <meta property="og:image:secure_url" content="${b}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${$r((y==null?void 0:y.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${$r(t)}">
            <meta name="twitter:description" content="${$r(e)}">
            <meta name="twitter:image" content="${b}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${x}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${g}</div>
            ${w}
            ${pve}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},yve=(t,e,n,r,i,s)=>{var p,v;const a=qo(e),o=ho(a),l=t.filter(g=>g.serviceType==="doc"&&g.slug),c=t.filter(g=>g.serviceType==="static-doc"&&g.slug),u=t.filter(g=>g.serviceType==="site"&&g.slug);let f='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';f+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${$r(o("servicesListPage.title"))}</h1>`,f+='<div class="space-y-10">';const h=(g,y,b,x)=>{if(b.length===0)return"";let w=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${y}<span>${g}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return b.forEach(C=>{const S=`${Mu}/${e}/${x}/${C.slug}/`,F="description"in C&&C.description?C.description:"";w+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${S}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${$r(C.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${F}</div>
                    </a>
                </div>
                ${fve(S,C.name,F)}
            </div>`}),w+="</div></section>",w};return f+=h(o("servicesListPage.fillableDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',l,"doc"),f+=h(o("servicesListPage.staticDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',c,"static-doc"),f+=h(o("servicesListPage.siteServices"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>',u,"site"),f+="</div></div></main>",TI({title:`${o("servicesListPage.title")} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[e])==null?void 0:v.siteName)||"Gitut"}`,description:`        Gitut  ${e}.`,mainContent:f,countryCode:e,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},vve=(t,e,n,r,i)=>{var f,h;const s=qo(e),a=ho(s),o=r.filter(p=>p.enabled&&p.id!==t.id&&(p.lang===s||!p.lang&&s==="ar"));let l="";o.length>0&&(l=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${$r(a("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${o.map(p=>`<a href="${Mu}/${e}/page/${p.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${$r(p.title)}</p></a>`).join("")}
                </div>
            </div>
        </aside>`);const c=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${$r(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${l}
        </div>
    </main>`,u=`https://gitut.com/${e}/page/${t.slug}/`;return TI({title:`${t.title} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:c,countryCode:e,lang:s,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:u,title:t.title,description:t.content}})},xve=(t,e,n,r,i,s)=>{var v,g;const a=t.countryCode||"dz",o=qo(a),l=ho(o),c=e.filter(y=>y.id!==t.id&&y.tags===t.tags).slice(0,5);let u="";c.length>0&&(u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${c.map(y=>{const b=y.serviceType==="site"?"site":"doc";return`<a href="${`${Mu}/${a}/${b}/${y.slug}/`}" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${$r(y.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in y&&y.description?y.description:""}</div>
                    </a>`}).join("")}
                </div>
            </div>
            <div class="sticky top-24">${RC(s.find(y=>y.placement==="SITE_DETAIL_SIDEBAR"))}</div>
        </aside>`);const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${$r(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${"description"in t&&t.description?t.description:""}</div>
                    <div class="my-6">${RC(s.find(y=>y.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${RC(s.find(y=>y.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="/view/${t.id}/" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700"></a>
                        <a href="/go-to-site/internal-form/?redirect=%2Fpublic-form%2F${t.id}%2F&name=${encodeURIComponent(` : ${t.name}`)}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700">/</a>
                    </div>
                </div>
            </div>
            ${u}
        </div>
    </main>`,h=t.serviceType==="site"?"site":"doc",p=`https://gitut.com/${a}/${h}/${t.slug}/`;return TI({title:`${t.name} | ${((g=(v=n==null?void 0:n.seo)==null?void 0:v[a])==null?void 0:g.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:f,countryCode:a,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:p,title:t.name,description:"description"in t&&t.description?t.description:""}})},bve=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(null),[i,s]=V.useState(!1),[a,o]=V.useState(""),[l,c]=V.useState(""),[u,f]=V.useState(!1),{codes:h,refetchAdminData:p,siteSettings:v,services:g,blogPosts:y,cafes:b,pages:x,ads:w}=Yt(),[C,S]=V.useState(!1),[F,A]=V.useState(""),[I,N]=V.useState(!1),[R,P]=V.useState(""),[D,M]=V.useState(!1),[O,H]=V.useState(""),[X,G]=V.useState(!1),[Z,W]=V.useState(""),[Y,B]=V.useState(!1),[j,q]=V.useState(!1),[J,Q]=V.useState(""),[te,ae]=V.useState(!1),[ce,ue]=V.useState(!1),[Se,Fe]=V.useState(!1),[fe,Le]=V.useState(""),[z,me]=V.useState(!1),[be,le]=V.useState(""),[re,oe]=V.useState(!1),[Ie,ke]=V.useState(!1),[he,ye]=V.useState(""),[_e,Te]=V.useState(!1),[Re,Ee]=V.useState(!1),[ve,Me]=V.useState(!1),[Oe,qe]=V.useState(!1),[st,it]=V.useState(!1),[Ct,Wt]=V.useState(!1),$t=V.useRef(null),_n=V.useRef(null),En=V.useRef(null),Ln=V.useRef(null),xn=V.useRef(null),Rt=V.useRef(null);V.useEffect(()=>{const we=xe=>{$t.current&&!$t.current.contains(xe.target)&&Te(!1),_n.current&&!_n.current.contains(xe.target)&&Ee(!1),En.current&&!En.current.contains(xe.target)&&Me(!1),Ln.current&&!Ln.current.contains(xe.target)&&qe(!1),xn.current&&!xn.current.contains(xe.target)&&it(!1),Rt.current&&!Rt.current.contains(xe.target)&&Wt(!1)};return document.addEventListener("mousedown",we),()=>document.removeEventListener("mousedown",we)},[]);const[We,ie]=V.useState({isOpen:!1,mode:"create",code:null}),[de,Pe]=V.useState({key:"",description:"",questionText:""}),[$e,nt]=V.useState(!1),[xt,Ut]=V.useState("");useMemo(()=>{const we=Object.entries(fieldLabels).map(([De,Ve])=>({id:`const-${De}`,key:`[${De}]`,description:Ve,isReadOnly:!0})),xe=h.map(De=>({...De,isReadOnly:!1})),Ce=new Set(we.map(De=>De.key)),Ne=xe.filter(De=>!Ce.has(De.key));return[...we,...Ne].sort((De,Ve)=>De.key.localeCompare(Ve.key))},[h]);const zt=async(we,xe,Ce)=>{e(Ce),o(""),c("");try{c(`(1/2) Generating data for ${Ce}...`);const Ne=await Al(we,xe);if(we==="blog"){if(typeof Ne!="object"||Ne===null)throw new Error("Blog data generation returned an invalid format.");const De=Object.entries(Ne).map(([Ve,Qe])=>({path:`dist/data/json/${Ve}`,content:JSON.stringify(Qe)}));if(De.length===0){c("     ."),e(null),setTimeout(()=>c(""),5e3);return}c(`(2/2) Publishing ${De.length} files to GitHub...`),await Ms({files:De,commitMessage:"feat: Update public blog data"}),c(`  ${De.length}     GitHub!`)}else{const De=JSON.stringify(Ne),Ve=`dist/data/json/${Ce}`;c(`(2/2) Publishing ${Ce} to GitHub...`),await Ms({files:[{path:Ve,content:De}],commitMessage:`feat: Update ${Ce}`}),c(`  ${Ce}   GitHub!`)}}catch(Ne){console.error(Ne);const De=Ne instanceof Error?Ne.message:String(Ne);o(`   ${Ce}. ${De}`)}finally{e(null),setTimeout(()=>{c(""),o("")},5e3)}},Cn=async(we,xe,Ce)=>{r(Ce),o("");try{const Ne=await Al(we,xe);if(we==="blog"){const De=new JSZip;Object.entries(Ne).forEach(([Qe,Ge])=>De.file(Qe,JSON.stringify(Ge)));const Ve=await De.generateAsync({type:"blob"});saveAs(Ve,"gitut-blog-data.zip")}else{const De=new Blob([JSON.stringify(Ne)],{type:"application/json"});saveAs(De,Ce)}}catch(Ne){console.error(Ne);const De=Ne instanceof Error?Ne.message:String(Ne);o(`   ${Ce}. ${De}`)}finally{r(null)}},yn=async we=>{N(!0),P("   ...");try{const xe=[];let Ce=g.filter(De=>De.slug);we==="global"?Ce=Ce.filter(De=>!De.countryCode):we&&(Ce=Ce.filter(De=>De.countryCode===we));const Ne=Ce.reduce((De,Ve)=>{const Qe=Ve.countryCode||"global";return De[Qe]||(De[Qe]=[]),De[Qe].push(Ve),De},{});for(const De in Ne){const Ve=De==="global",Qe=Ne[De],Ge=yve(Qe,De,v,x,y,w),Je=Ve?"dist/services/index.html":`dist/${De}/services/index.html`;xe.push({path:Je,content:compressHtml(Ge)});for(const Xe of Qe){const ut=xve(Xe,g,v,x,y,w),vt=Xe.serviceType==="site"?"site":"doc",Dt=Ve?`dist/${vt}/${Xe.slug}/index.html`:`dist/${De}/${vt}/${Xe.slug}/index.html`;xe.push({path:Dt,content:compressHtml(ut)})}}xe.length===0?P("    ."):(P(` ${xe.length}   GitHub...`),await Ms({files:xe,commitMessage:"feat: Regenerate static service pages"}),P(`  ${xe.length}   !`))}catch(xe){console.error(xe);const Ce=xe instanceof Error?xe.message:String(xe);P(`: ${Ce}`)}finally{N(!1),setTimeout(()=>P(""),8e3)}},er=async we=>{G(!0),W(we?`    : ${we}`:"   ...");try{W("    !")}catch{}finally{G(!1),setTimeout(()=>W(""),8e3)}},On=async we=>{q(!0),Q(we?`     ${we}...`:"     ...");try{const xe=[],Ce={ar:["dz","sa","eg","ma","ae","tn","iq","jo","kw","lb","om","qa","sy","ye","bh","km","dj","mr","ps","so","sd","ly"],fr:["fr"],en:["us","ca","gb"],es:["es"],de:["de"],tr:["tr"],ja:["jp"]};for(const Ne of x)if(Ne.enabled&&Ne.slug){let De=Ce[Ne.lang||"ar"]||["dz"];we==="global"||we&&(De.includes(we)?De=[we]:De=[]);for(const Ve of De){const Qe=vve(Ne,Ve,v,x,y),Ge=`dist/${Ve}/page/${Ne.slug}/index.html`;xe.push({path:Ge,content:compressHtml(Qe)})}}xe.length===0?Q("       ."):(Q(` ${xe.length}   GitHub...`),await Ms({files:xe,commitMessage:"feat: Regenerate static site pages"}),Q(`  ${xe.length}  !`))}catch(xe){console.error(xe);const Ce=xe instanceof Error?xe.message:String(xe);Q(`: ${Ce}`)}finally{q(!1),setTimeout(()=>Q(""),8e3)}},ir=async()=>{},pe=async we=>{oe(!0),ye(we?`   JSON  : ${we}`:"   JSON ...");try{const xe=await Al("documents-json",we||"global");!xe||!Array.isArray(xe)||xe.length===0?ye("     ."):(ye(` ${xe.length}  JSON   GitHub...`),await Ms({files:xe,commitMessage:`feat: Update individual document JSON files${we?` for ${we}`:""}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),ye(`  ${xe.length}  !`))}catch(xe){console.error("Document JSON publishing failed:",xe);const Ce=xe instanceof Error?xe.message:String(xe);ye(`: ${Ce}`)}finally{oe(!1),setTimeout(()=>ye(""),8e3)}};return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsx("div",{className:"space-y-3",children:PUBLIC_FILES.map(we=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:we.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Cn(we.dataType,we.countryCode,we.fileName),disabled:!!t||n===we.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:n===we.fileName?d.jsx(bt,{className:"animate-spin"}):d.jsx(FaDownload,{})}),we.dataType==="documents-json"?d.jsxs("div",{className:"relative",ref:Rt,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>pe("global"),disabled:re||Ie,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[re?d.jsx(bt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>Wt(!Ct),disabled:re||Ie,className:"bg-blue-700 text-white font-bold px-2 rounded-l-md hover:bg-blue-800 disabled:bg-gray-500 border-r border-blue-500",children:d.jsx(FaChevronDown,{})})]}),Ct&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>pe("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Kn.en.map(xe=>d.jsxs("button",{onClick:()=>pe(xe.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:xe.flag})," ",xe.name]},xe.code))]})]}):d.jsxs("button",{onClick:()=>zt(we.dataType,we.countryCode,we.fileName),disabled:!!t||!!n,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t===we.fileName?d.jsx(bt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:""})]})]})]},we.fileName))}),l&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:l}),a&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:a})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:handleDownloadHomepages,disabled:ce||Se,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsx("button",{onClick:ir,disabled:ce||Se,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:ce?d.jsx(bt,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:()=>handleDownloadServicePages(),disabled:I||D,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsxs("div",{className:"relative",ref:Ln,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>yn("global"),disabled:I||D,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[I?d.jsx(bt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>qe(!Oe),disabled:I||D,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(FaChevronDown,{})})]}),Oe&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>yn("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Kn.en.map(we=>d.jsxs("button",{onClick:()=>yn(we.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:we.flag})," ",we.name]},we.code))]})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:""}),d.jsx("button",{onClick:handleDownloadBlogPages,disabled:X||Y,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsxs("div",{className:"relative",ref:En,children:[d.jsxs("div",{className:"flex",children:[d.jsx("button",{onClick:()=>er(),disabled:X||Y,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:X?d.jsx(bt,{className:"animate-spin"}):" "}),d.jsx("button",{onClick:()=>Me(!ve),disabled:X||Y,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(FaChevronDown,{})})]}),ve&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10",children:Cp.map(we=>d.jsx("button",{onClick:()=>er(we.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:we.name},we.code))})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:handleDownloadStaticPages,disabled:j||te,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsxs("div",{className:"relative",ref:xn,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>On("global"),disabled:j||te,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[j?d.jsx(bt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>it(!st),disabled:j||te,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(FaChevronDown,{})})]}),st&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>On("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Kn.en.map(we=>d.jsxs("button",{onClick:()=>On(we.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:we.flag})," ",we.name]},we.code))]})]})]})]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500",children:"     HTML    GitHub    ZIP."}),R&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:R}),fe&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:fe}),Z&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:Z}),J&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:J}),he&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:he})]})]})]})};var FC,Y9;function _ve(){if(Y9)return FC;Y9=1;function t(){this.__data__=[],this.size=0}return FC=t,FC}var MC,Q9;function RG(){if(Q9)return MC;Q9=1;function t(e,n){return e===n||e!==e&&n!==n}return MC=t,MC}var OC,Z9;function Fw(){if(Z9)return OC;Z9=1;var t=RG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return OC=e,OC}var UC,e7;function wve(){if(e7)return UC;e7=1;var t=Fw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return UC=r,UC}var LC,t7;function Tve(){if(t7)return LC;t7=1;var t=Fw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return LC=e,LC}var jC,n7;function Eve(){if(n7)return jC;n7=1;var t=Fw();function e(n){return t(this.__data__,n)>-1}return jC=e,jC}var BC,r7;function Cve(){if(r7)return BC;r7=1;var t=Fw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return BC=e,BC}var VC,i7;function Mw(){if(i7)return VC;i7=1;var t=_ve(),e=wve(),n=Tve(),r=Eve(),i=Cve();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,VC=s,VC}var WC,s7;function Sve(){if(s7)return WC;s7=1;var t=Mw();function e(){this.__data__=new t,this.size=0}return WC=e,WC}var qC,a7;function Dve(){if(a7)return qC;a7=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return qC=t,qC}var $C,o7;function Ave(){if(o7)return $C;o7=1;function t(e){return this.__data__.get(e)}return $C=t,$C}var zC,l7;function Nve(){if(l7)return zC;l7=1;function t(e){return this.__data__.has(e)}return zC=t,zC}var HC,c7;function FG(){if(c7)return HC;c7=1;var t=typeof ys=="object"&&ys&&ys.Object===Object&&ys;return HC=t,HC}var GC,u7;function Mc(){if(u7)return GC;u7=1;var t=FG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return GC=n,GC}var KC,d7;function EI(){if(d7)return KC;d7=1;var t=Mc(),e=t.Symbol;return KC=e,KC}var JC,f7;function kve(){if(f7)return JC;f7=1;var t=EI(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return JC=s,JC}var XC,h7;function Ive(){if(h7)return XC;h7=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return XC=n,XC}var YC,p7;function Ow(){if(p7)return YC;p7=1;var t=EI(),e=kve(),n=Ive(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return YC=a,YC}var QC,m7;function MG(){if(m7)return QC;m7=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return QC=t,QC}var ZC,g7;function OG(){if(g7)return ZC;g7=1;var t=Ow(),e=MG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return ZC=a,ZC}var eS,y7;function Pve(){if(y7)return eS;y7=1;var t=Mc(),e=t["__core-js_shared__"];return eS=e,eS}var tS,v7;function Rve(){if(v7)return tS;v7=1;var t=Pve(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return tS=n,tS}var nS,x7;function UG(){if(x7)return nS;x7=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return nS=n,nS}var rS,b7;function Fve(){if(b7)return rS;b7=1;var t=OG(),e=Rve(),n=MG(),r=UG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return rS=f,rS}var iS,_7;function Mve(){if(_7)return iS;_7=1;function t(e,n){return e==null?void 0:e[n]}return iS=t,iS}var sS,w7;function Qm(){if(w7)return sS;w7=1;var t=Fve(),e=Mve();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return sS=n,sS}var aS,T7;function CI(){if(T7)return aS;T7=1;var t=Qm(),e=Mc(),n=t(e,"Map");return aS=n,aS}var oS,E7;function Uw(){if(E7)return oS;E7=1;var t=Qm(),e=t(Object,"create");return oS=e,oS}var lS,C7;function Ove(){if(C7)return lS;C7=1;var t=Uw();function e(){this.__data__=t?t(null):{},this.size=0}return lS=e,lS}var cS,S7;function Uve(){if(S7)return cS;S7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return cS=t,cS}var uS,D7;function Lve(){if(D7)return uS;D7=1;var t=Uw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return uS=i,uS}var dS,A7;function jve(){if(A7)return dS;A7=1;var t=Uw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return dS=r,dS}var fS,N7;function Bve(){if(N7)return fS;N7=1;var t=Uw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return fS=n,fS}var hS,k7;function Vve(){if(k7)return hS;k7=1;var t=Ove(),e=Uve(),n=Lve(),r=jve(),i=Bve();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,hS=s,hS}var pS,I7;function Wve(){if(I7)return pS;I7=1;var t=Vve(),e=Mw(),n=CI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return pS=r,pS}var mS,P7;function qve(){if(P7)return mS;P7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return mS=t,mS}var gS,R7;function Lw(){if(R7)return gS;R7=1;var t=qve();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return gS=e,gS}var yS,F7;function $ve(){if(F7)return yS;F7=1;var t=Lw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return yS=e,yS}var vS,M7;function zve(){if(M7)return vS;M7=1;var t=Lw();function e(n){return t(this,n).get(n)}return vS=e,vS}var xS,O7;function Hve(){if(O7)return xS;O7=1;var t=Lw();function e(n){return t(this,n).has(n)}return xS=e,xS}var bS,U7;function Gve(){if(U7)return bS;U7=1;var t=Lw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return bS=e,bS}var _S,L7;function LG(){if(L7)return _S;L7=1;var t=Wve(),e=$ve(),n=zve(),r=Hve(),i=Gve();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,_S=s,_S}var wS,j7;function Kve(){if(j7)return wS;j7=1;var t=Mw(),e=CI(),n=LG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return wS=i,wS}var TS,B7;function Jve(){if(B7)return TS;B7=1;var t=Mw(),e=Sve(),n=Dve(),r=Ave(),i=Nve(),s=Kve();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,TS=a,TS}var ES,V7;function Xve(){if(V7)return ES;V7=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return ES=e,ES}var CS,W7;function Yve(){if(W7)return CS;W7=1;function t(e){return this.__data__.has(e)}return CS=t,CS}var SS,q7;function Qve(){if(q7)return SS;q7=1;var t=LG(),e=Xve(),n=Yve();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,SS=r,SS}var DS,$7;function Zve(){if($7)return DS;$7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return DS=t,DS}var AS,z7;function e1e(){if(z7)return AS;z7=1;function t(e,n){return e.has(n)}return AS=t,AS}var NS,H7;function jG(){if(H7)return NS;H7=1;var t=Qve(),e=Zve(),n=e1e(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var b=-1,x=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++b<p;){var C=a[b],S=o[b];if(c)var F=h?c(S,C,b,o,a,f):c(C,S,b,a,o,f);if(F!==void 0){if(F)continue;x=!1;break}if(w){if(!e(o,function(A,I){if(!n(w,I)&&(C===A||u(C,A,l,c,f)))return w.push(I)})){x=!1;break}}else if(!(C===S||u(C,S,l,c,f))){x=!1;break}}return f.delete(a),f.delete(o),x}return NS=s,NS}var kS,G7;function t1e(){if(G7)return kS;G7=1;var t=Mc(),e=t.Uint8Array;return kS=e,kS}var IS,K7;function n1e(){if(K7)return IS;K7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return IS=t,IS}var PS,J7;function r1e(){if(J7)return PS;J7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return PS=t,PS}var RS,X7;function i1e(){if(X7)return RS;X7=1;var t=EI(),e=t1e(),n=RG(),r=jG(),i=n1e(),s=r1e(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=t?t.prototype:void 0,C=w?w.valueOf:void 0;function S(F,A,I,N,R,P,D){switch(I){case x:if(F.byteLength!=A.byteLength||F.byteOffset!=A.byteOffset)return!1;F=F.buffer,A=A.buffer;case b:return!(F.byteLength!=A.byteLength||!P(new e(F),new e(A)));case l:case c:case h:return n(+F,+A);case u:return F.name==A.name&&F.message==A.message;case p:case g:return F==A+"";case f:var M=i;case v:var O=N&a;if(M||(M=s),F.size!=A.size&&!O)return!1;var H=D.get(F);if(H)return H==A;N|=o,D.set(F,A);var X=r(M(F),M(A),N,R,P,D);return D.delete(F),X;case y:if(C)return C.call(F)==C.call(A)}return!1}return RS=S,RS}var FS,Y7;function s1e(){if(Y7)return FS;Y7=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return FS=t,FS}var MS,Q7;function SI(){if(Q7)return MS;Q7=1;var t=Array.isArray;return MS=t,MS}var OS,Z7;function a1e(){if(Z7)return OS;Z7=1;var t=s1e(),e=SI();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return OS=n,OS}var US,eM;function o1e(){if(eM)return US;eM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return US=t,US}var LS,tM;function l1e(){if(tM)return LS;tM=1;function t(){return[]}return LS=t,LS}var jS,nM;function c1e(){if(nM)return jS;nM=1;var t=o1e(),e=l1e(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return jS=s,jS}var BS,rM;function u1e(){if(rM)return BS;rM=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return BS=t,BS}var VS,iM;function jw(){if(iM)return VS;iM=1;function t(e){return e!=null&&typeof e=="object"}return VS=t,VS}var WS,sM;function d1e(){if(sM)return WS;sM=1;var t=Ow(),e=jw(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return WS=r,WS}var qS,aM;function f1e(){if(aM)return qS;aM=1;var t=d1e(),e=jw(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return qS=s,qS}var S0={exports:{}},$S,oM;function h1e(){if(oM)return $S;oM=1;function t(){return!1}return $S=t,$S}S0.exports;var lM;function BG(){return lM||(lM=1,(function(t,e){var n=Mc(),r=h1e(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(S0,S0.exports)),S0.exports}var zS,cM;function p1e(){if(cM)return zS;cM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return zS=n,zS}var HS,uM;function VG(){if(uM)return HS;uM=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return HS=e,HS}var GS,dM;function m1e(){if(dM)return GS;dM=1;var t=Ow(),e=VG(),n=jw(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",F="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",R="[object Uint32Array]",P={};P[x]=P[w]=P[C]=P[S]=P[F]=P[A]=P[I]=P[N]=P[R]=!0,P[r]=P[i]=P[y]=P[s]=P[b]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function D(M){return n(M)&&e(M.length)&&!!P[t(M)]}return GS=D,GS}var KS,fM;function g1e(){if(fM)return KS;fM=1;function t(e){return function(n){return e(n)}}return KS=t,KS}var D0={exports:{}};D0.exports;var hM;function y1e(){return hM||(hM=1,(function(t,e){var n=FG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(D0,D0.exports)),D0.exports}var JS,pM;function WG(){if(pM)return JS;pM=1;var t=m1e(),e=g1e(),n=y1e(),r=n&&n.isTypedArray,i=r?e(r):t;return JS=i,JS}var XS,mM;function v1e(){if(mM)return XS;mM=1;var t=u1e(),e=f1e(),n=SI(),r=BG(),i=p1e(),s=WG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],b=y.length;for(var x in c)(u||o.call(c,x))&&!(g&&(x=="length"||p&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&y.push(x);return y}return XS=l,XS}var YS,gM;function x1e(){if(gM)return YS;gM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return YS=e,YS}var QS,yM;function b1e(){if(yM)return QS;yM=1;function t(e,n){return function(r){return e(n(r))}}return QS=t,QS}var ZS,vM;function _1e(){if(vM)return ZS;vM=1;var t=b1e(),e=t(Object.keys,Object);return ZS=e,ZS}var e4,xM;function w1e(){if(xM)return e4;xM=1;var t=x1e(),e=_1e(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return e4=i,e4}var t4,bM;function T1e(){if(bM)return t4;bM=1;var t=OG(),e=VG();function n(r){return r!=null&&e(r.length)&&!t(r)}return t4=n,t4}var n4,_M;function E1e(){if(_M)return n4;_M=1;var t=v1e(),e=w1e(),n=T1e();function r(i){return n(i)?t(i):e(i)}return n4=r,n4}var r4,wM;function C1e(){if(wM)return r4;wM=1;var t=a1e(),e=c1e(),n=E1e();function r(i){return t(i,n,e)}return r4=r,r4}var i4,TM;function S1e(){if(TM)return i4;TM=1;var t=C1e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var b=h[y];if(!(f?b in a:r.call(a,b)))return!1}var x=u.get(s),w=u.get(a);if(x&&w)return x==a&&w==s;var C=!0;u.set(s,a),u.set(a,s);for(var S=f;++y<p;){b=h[y];var F=s[b],A=a[b];if(l)var I=f?l(A,F,b,a,s,u):l(F,A,b,s,a,u);if(!(I===void 0?F===A||c(F,A,o,l,u):I)){C=!1;break}S||(S=b=="constructor")}if(C&&!S){var N=s.constructor,R=a.constructor;N!=R&&"constructor"in s&&"constructor"in a&&!(typeof N=="function"&&N instanceof N&&typeof R=="function"&&R instanceof R)&&(C=!1)}return u.delete(s),u.delete(a),C}return i4=i,i4}var s4,EM;function D1e(){if(EM)return s4;EM=1;var t=Qm(),e=Mc(),n=t(e,"DataView");return s4=n,s4}var a4,CM;function A1e(){if(CM)return a4;CM=1;var t=Qm(),e=Mc(),n=t(e,"Promise");return a4=n,a4}var o4,SM;function N1e(){if(SM)return o4;SM=1;var t=Qm(),e=Mc(),n=t(e,"Set");return o4=n,o4}var l4,DM;function k1e(){if(DM)return l4;DM=1;var t=Qm(),e=Mc(),n=t(e,"WeakMap");return l4=n,l4}var c4,AM;function I1e(){if(AM)return c4;AM=1;var t=D1e(),e=CI(),n=A1e(),r=N1e(),i=k1e(),s=Ow(),a=UG(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),b=a(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=h||e&&x(new e)!=o||n&&x(n.resolve())!=c||r&&x(new r)!=u||i&&x(new i)!=f)&&(x=function(w){var C=s(w),S=C==l?w.constructor:void 0,F=S?a(S):"";if(F)switch(F){case p:return h;case v:return o;case g:return c;case y:return u;case b:return f}return C}),c4=x,c4}var u4,NM;function P1e(){if(NM)return u4;NM=1;var t=Jve(),e=jG(),n=i1e(),r=S1e(),i=I1e(),s=SI(),a=BG(),o=WG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,b,x,w,C){var S=s(g),F=s(y),A=S?u:i(g),I=F?u:i(y);A=A==c?f:A,I=I==c?f:I;var N=A==f,R=I==f,P=A==I;if(P&&a(g)){if(!a(y))return!1;S=!0,N=!1}if(P&&!N)return C||(C=new t),S||o(g)?e(g,y,b,x,w,C):n(g,y,A,b,x,w,C);if(!(b&l)){var D=N&&p.call(g,"__wrapped__"),M=R&&p.call(y,"__wrapped__");if(D||M){var O=D?g.value():g,H=M?y.value():y;return C||(C=new t),w(O,H,b,x,C)}}return P?(C||(C=new t),r(g,y,b,x,w,C)):!1}return u4=v,u4}var d4,kM;function R1e(){if(kM)return d4;kM=1;var t=P1e(),e=jw();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return d4=n,d4}var f4,IM;function F1e(){if(IM)return f4;IM=1;var t=R1e();function e(n,r){return t(n,r)}return f4=e,f4}var I2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var M1e=I2.exports,PM;function O1e(){return PM||(PM=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:M1e,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),b=i(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=x}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var w in x)x.hasOwnProperty(w)&&(b[w]=x[w])};return function(b,x){y(b,x);function w(){this.constructor=b}b.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(b,y);function b(x){var w=this;return x="[Parchment] "+x,w=y.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return b})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,b){var x=v(y);if(x==null)throw new a("Unable to create "+y+" blot");var w=x,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(b);return new w(C,b)}r.create=h;function p(y,b){return b===void 0&&(b=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:b?p(y.parentNode,b):null}r.find=p;function v(y,b){b===void 0&&(b=f.ANY);var x;if(typeof y=="string")x=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?x=u.block:y&f.LEVEL&f.INLINE&&(x=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(x=l[w[C]],x)break;x=x||c[y.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}r.query=v;function g(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];if(y.length>1)return y.map(function(C){return g(C)});var x=y[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new a("Invalid definition");if(x.blotName==="abstract")throw new a("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")o[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(C){return C.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(C){(c[C]==null||x.className==null)&&(c[C]=x)})}return x}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var b=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(h.peekType()==="delete")b.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),w=h.next(x),C=p.next(x);if(typeof C.retain=="number"){var S={};typeof w.retain=="number"?S.retain=x:S.insert=w.insert;var F=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(F&&(S.attributes=F),b.push(S),!p.hasNext()&&a(b.ops[b.ops.length-1],S)){var A=new u(h.rest());return b.concat(A).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&b.push(C)}return b.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var C=x===f?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),b=l.iterator(f.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var C=0;switch(x[0]){case s.INSERT:C=Math.min(b.peekLength(),w),v.push(b.next(C));break;case s.DELETE:C=Math.min(w,y.peekLength()),y.next(C),v.delete(C);break;case s.EQUAL:C=Math.min(y.peekLength(),b.peekLength(),w);var S=y.next(C),F=b.next(C);a(S.insert,F.insert)?v.retain(C,l.attributes.diff(S.attributes,F.attributes)):v.push(F).delete(C);break}w-=C}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),b=l.length(y)-p.peekLength(),x=typeof y.insert=="string"?y.insert.indexOf(h,b)-b:-1;if(x<0)v.push(p.next());else if(x>0)v.push(p.next(x));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),b=p.next(y),x=v.next(y);if(b.delete)continue;x.delete?g.push(x):g.retain(y,l.attributes.transform(b.attributes,x.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,b,x,w=arguments[0],C=1,S=arguments.length,F=!1;for(typeof w=="boolean"&&(F=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(p=arguments[C],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(F&&y&&(c(y)||(b=l(y)))?(b?(b=!1,x=g&&l(g)?g:[]):x=g&&c(g)?g:{},u(w,{name:v,newValue:h(F,x,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(D,M){for(var O=0;O<M.length;O++){var H=M[O];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,H.key,H)}}return function(D,M,O){return M&&P(D.prototype,M),O&&P(D,O),D}})(),a=function P(D,M,O){D===null&&(D=Function.prototype);var H=Object.getOwnPropertyDescriptor(D,M);if(H===void 0){var X=Object.getPrototypeOf(D);return X===null?void 0:P(X,M,O)}else{if("value"in H)return H.value;var G=H.get;return G===void 0?void 0:G.call(O)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),b=i(7),x=w(b);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function S(P,D){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:P}function F(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(P,D):P.__proto__=D)}var A=1,I=(function(P){F(D,P);function D(){return C(this,D),S(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"attach",value:function(){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,H){var X=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,H)}},{key:"formatAt",value:function(O,H,X,G){this.format(X,G)}},{key:"insertAt",value:function(O,H,X){if(typeof H=="string"&&H.endsWith(`
`)){var G=h.default.create(N.blotName);this.parent.insertBefore(G,O===0?this:this.next),G.insertAt(0,H.slice(0,-1))}else a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,O,H,X)}}]),D})(h.default.Embed);I.scope=h.default.Scope.BLOCK_BLOT;var N=(function(P){F(D,P);function D(M){C(this,D);var O=S(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M));return O.cache={},O}return s(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,H){return H.length()===0?O:O.insert(H.value(),R(H))},new u.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(O,H){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,O,H),this.cache={}}},{key:"formatAt",value:function(O,H,X,G){H<=0||(h.default.query(X,h.default.Scope.BLOCK)?O+H===this.length()&&this.format(X,G):a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,O,Math.min(H,this.length()-O-1),X,G),this.cache={})}},{key:"insertAt",value:function(O,H,X){if(X!=null)return a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,O,H,X);if(H.length!==0){var G=H.split(`
`),Z=G.shift();Z.length>0&&(O<this.length()-1||this.children.tail==null?a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var W=this;G.reduce(function(Y,B){return W=W.split(Y,!0),W.insertAt(0,B),B.length},O+Z.length)}}},{key:"insertBefore",value:function(O,H){var X=this.children.head;a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,O,H),X instanceof v.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(O,H){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,O,H),this.cache={}}},{key:"optimize",value:function(O){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(O===0||O>=this.length()-A)){var X=this.clone();return O===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var G=a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,O,H);return this.cache={},G}}}]),D})(h.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[y.default,h.default.Embed,x.default];function R(P){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(D=(0,l.default)(D,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?D:R(P.parent,D)}r.bubbleFormats=R,r.BlockEmbed=I,r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},a=(function(){function W(Y,B){var j=[],q=!0,J=!1,Q=void 0;try{for(var te=Y[Symbol.iterator](),ae;!(q=(ae=te.next()).done)&&(j.push(ae.value),!(B&&j.length===B));q=!0);}catch(ce){J=!0,Q=ce}finally{try{!q&&te.return&&te.return()}finally{if(J)throw Q}}return j}return function(Y,B){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return W(Y,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function W(Y,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Y,q.key,q)}}return function(Y,B,j){return B&&W(Y.prototype,B),j&&W(Y,j),Y}})();i(50);var l=i(2),c=R(l),u=i(14),f=R(u),h=i(8),p=R(h),v=i(9),g=R(v),y=i(0),b=R(y),x=i(15),w=R(x),C=i(3),S=R(C),F=i(10),A=R(F),I=i(34),N=R(I);function R(W){return W&&W.__esModule?W:{default:W}}function P(W,Y,B){return Y in W?Object.defineProperty(W,Y,{value:B,enumerable:!0,configurable:!0,writable:!0}):W[Y]=B,W}function D(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}var M=(0,A.default)("quill"),O=(function(){o(W,null,[{key:"debug",value:function(B){B===!0&&(B="log"),A.default.level(B)}},{key:"find",value:function(B){return B.__quill||b.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&M.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Q=B.attrName||B.blotName;typeof Q=="string"?this.register("formats/"+Q,B,j):Object.keys(B).forEach(function(te){q.register(te,B[te],j)})}else this.imports[B]!=null&&!J&&M.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?b.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function W(Y){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,W),this.options=H(Y,j),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",Y);this.options.debug&&W.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,te){var ae=B.selection.lastRange,ce=ae&&ae.length===0?ae.index:void 0;X.call(B,function(){return B.editor.update(null,te,ce)},Q)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(W,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var q=B;B=document.createElement("div"),B.classList.add(q)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,q){var J=this,Q=G(B,j,q),te=a(Q,4);return B=te[0],j=te[1],q=te[3],X.call(this,function(){return J.editor.deleteText(B,j)},q,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return X.call(this,function(){var Q=q.getSelection(!0),te=new c.default;if(Q==null)return te;if(b.default.query(B,b.default.Scope.BLOCK))te=q.editor.formatLine(Q.index,Q.length,P({},B,j));else{if(Q.length===0)return q.selection.format(B,j),te;te=q.editor.formatText(Q.index,Q.length,P({},B,j))}return q.setSelection(Q,p.default.sources.SILENT),te},J)}},{key:"formatLine",value:function(B,j,q,J,Q){var te=this,ae=void 0,ce=G(B,j,q,J,Q),ue=a(ce,4);return B=ue[0],j=ue[1],ae=ue[2],Q=ue[3],X.call(this,function(){return te.editor.formatLine(B,j,ae)},Q,B,0)}},{key:"formatText",value:function(B,j,q,J,Q){var te=this,ae=void 0,ce=G(B,j,q,J,Q),ue=a(ce,4);return B=ue[0],j=ue[1],ae=ue[2],Q=ue[3],X.call(this,function(){return te.editor.formatText(B,j,ae)},Q,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof B=="number"?q=this.selection.getBounds(B,j):q=this.selection.getBounds(B.index,B.length);var J=this.container.getBoundingClientRect();return{bottom:q.bottom-J.top,height:q.height,left:q.left-J.left,right:q.right-J.left,top:q.top-J.top,width:q.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=G(B,j),J=a(q,2);return B=J[0],j=J[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=G(B,j),J=a(q,2);return B=J[0],j=J[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,q){var J=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return X.call(this,function(){return J.editor.insertEmbed(B,j,q)},Q,B)}},{key:"insertText",value:function(B,j,q,J,Q){var te=this,ae=void 0,ce=G(B,0,q,J,Q),ue=a(ce,4);return B=ue[0],ae=ue[2],Q=ue[3],X.call(this,function(){return te.editor.insertText(B,j,ae)},Q,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,q){this.clipboard.dangerouslyPasteHTML(B,j,q)}},{key:"removeFormat",value:function(B,j,q){var J=this,Q=G(B,j,q),te=a(Q,4);return B=te[0],j=te[1],q=te[3],X.call(this,function(){return J.editor.removeFormat(B,j)},q,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){B=new c.default(B);var J=j.getLength(),Q=j.editor.deleteText(0,J),te=j.editor.applyDelta(B),ae=te.ops[te.ops.length-1];ae!=null&&typeof ae.insert=="string"&&ae.insert[ae.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),te.delete(1));var ce=Q.compose(te);return ce},q)}},{key:"setSelection",value:function(B,j,q){if(B==null)this.selection.setRange(null,j||W.sources.API);else{var J=G(B,j,q),Q=a(J,4);B=Q[0],j=Q[1],q=Q[3],this.selection.setRange(new x.Range(B,j),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new c.default().insert(B);return this.setContents(q,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,q)},q,!0)}}]),W})();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:c.default,parchment:b.default,"core/module":g.default,"core/theme":N.default};function H(W,Y){if(Y=(0,S.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},Y),!Y.theme||Y.theme===O.DEFAULTS.theme)Y.theme=N.default;else if(Y.theme=O.import("themes/"+Y.theme),Y.theme==null)throw new Error("Invalid theme "+Y.theme+". Did you register it?");var B=(0,S.default)(!0,{},Y.theme.DEFAULTS);[B,Y].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(Q){J.modules[Q]===!0&&(J.modules[Q]={})})});var j=Object.keys(B.modules).concat(Object.keys(Y.modules)),q=j.reduce(function(J,Q){var te=O.import("modules/"+Q);return te==null?M.error("Cannot load "+Q+" module. Are you sure you registered it?"):J[Q]=te.DEFAULTS||{},J},{});return Y.modules!=null&&Y.modules.toolbar&&Y.modules.toolbar.constructor!==Object&&(Y.modules.toolbar={container:Y.modules.toolbar}),Y=(0,S.default)(!0,{},O.DEFAULTS,{modules:q},B,Y),["bounds","container","scrollingContainer"].forEach(function(J){typeof Y[J]=="string"&&(Y[J]=document.querySelector(Y[J]))}),Y.modules=Object.keys(Y.modules).reduce(function(J,Q){return Y.modules[Q]&&(J[Q]=Y.modules[Q]),J},{}),Y}function X(W,Y,B,j){if(this.options.strict&&!this.isEnabled()&&Y===p.default.sources.USER)return new c.default;var q=B==null?null:this.getSelection(),J=this.editor.delta,Q=W();if(q!=null&&(B===!0&&(B=q.index),j==null?q=Z(q,Q,Y):j!==0&&(q=Z(q,B,j,Y)),this.setSelection(q,p.default.sources.SILENT)),Q.length()>0){var te,ae=[p.default.events.TEXT_CHANGE,Q,J,Y];if((te=this.emitter).emit.apply(te,[p.default.events.EDITOR_CHANGE].concat(ae)),Y!==p.default.sources.SILENT){var ce;(ce=this.emitter).emit.apply(ce,ae)}}return Q}function G(W,Y,B,j,q){var J={};return typeof W.index=="number"&&typeof W.length=="number"?typeof Y!="number"?(q=j,j=B,B=Y,Y=W.length,W=W.index):(Y=W.length,W=W.index):typeof Y!="number"&&(q=j,j=B,B=Y,Y=0),(typeof B>"u"?"undefined":s(B))==="object"?(J=B,q=j):typeof B=="string"&&(j!=null?J[B]=j:q=B),q=q||p.default.sources.API,[W,Y,J,q]}function Z(W,Y,B,j){if(W==null)return null;var q=void 0,J=void 0;if(Y instanceof c.default){var Q=[W.index,W.index+W.length].map(function(ue){return Y.transformPosition(ue,j!==p.default.sources.USER)}),te=a(Q,2);q=te[0],J=te[1]}else{var ae=[W.index,W.index+W.length].map(function(ue){return ue<Y||ue===Y&&j===p.default.sources.USER?ue:B>=0?ue+B:Math.max(Y,ue+B)}),ce=a(ae,2);q=ce[0],J=ce[1]}return new x.Range(q,J-q)}r.expandConfig=H,r.overload=G,r.default=O}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function v(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=(function(y){v(b,y);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(w,C,S,F){if(b.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var A=this.isolate(w,C);F&&A.wrap(S,F)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,w,C,S,F)}},{key:"optimize",value:function(w){if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var S=b.order.indexOf(w),F=b.order.indexOf(C);return S>=0||F>=0?S-F:w===C?0:w<C?-1:1}}]),b})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function x(w,C){for(var S=0;S<C.length;S++){var F=C[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,C,S){return C&&x(w.prototype,C),S&&x(w,S),w}})(),a=function x(w,C,S){w===null&&(w=Function.prototype);var F=Object.getOwnPropertyDescriptor(w,C);if(F===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:x(A,C,S)}else{if("value"in F)return F.value;var I=F.get;return I===void 0?void 0:I.call(S)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function p(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function v(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,C=Array(w),S=0;S<w;S++)C[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var A;(A=F.__quill.emitter).handleDOM.apply(A,C)}})})});var b=(function(x){v(w,x);function w(){h(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",g.error),C}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var F=arguments.length,A=Array(F>1?F-1:0),I=1;I<F;I++)A[I-1]=arguments[I];(this.listeners[S.type]||[]).forEach(function(N){var R=N.node,P=N.handler;(S.target===R||R.contains(S.target))&&P.apply(void 0,[S].concat(A))})}},{key:"listenDOM",value:function(S,F,A){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:F,handler:A})}}]),w})(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var b=a(h),x=a(p)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),g=b.length-1;g>=0;g--)if(b[g]!=x[g])return!1;for(g=b.length-1;g>=0;g--)if(y=b[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function I(N,R){var P=[],D=!0,M=!1,O=void 0;try{for(var H=N[Symbol.iterator](),X;!(D=(X=H.next()).done)&&(P.push(X.value),!(R&&P.length===R));D=!0);}catch(G){M=!0,O=G}finally{try{!D&&H.return&&H.return()}finally{if(M)throw O}}return P}return function(N,R){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return I(N,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function I(N,R){for(var P=0;P<R.length;P++){var D=R[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,R,P){return R&&I(N.prototype,R),P&&I(N,P),N}})(),o=function I(N,R,P){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,R);if(D===void 0){var M=Object.getPrototypeOf(N);return M===null?void 0:I(M,R,P)}else{if("value"in D)return D.value;var O=D.get;return O===void 0?void 0:O.call(P)}},l=i(2),c=x(l),u=i(0),f=x(u),h=i(4),p=x(h),v=i(6),g=x(v),y=i(7),b=x(y);function x(I){return I&&I.__esModule?I:{default:I}}function w(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function C(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function S(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var F=(function(I){S(N,I);function N(){return w(this,N),C(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N})(g.default);F.blotName="code",F.tagName="CODE";var A=(function(I){S(N,I);function N(){return w(this,N),C(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"delta",value:function(){var P=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(M,O){return M.insert(O).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,D){if(!(P===this.statics.blotName&&D)){var M=this.descendant(b.default,this.length()-1),O=s(M,1),H=O[0];H!=null&&H.deleteAt(H.length()-1,1),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,P,D)}}},{key:"formatAt",value:function(P,D,M,O){if(D!==0&&!(f.default.query(M,f.default.Scope.BLOCK)==null||M===this.statics.blotName&&O===this.statics.formats(this.domNode))){var H=this.newlineIndex(P);if(!(H<0||H>=P+D)){var X=this.newlineIndex(P,!0)+1,G=H-X+1,Z=this.isolate(X,G),W=Z.next;Z.format(M,O),W instanceof N&&W.formatAt(0,P-X+D-G,M,O)}}}},{key:"insertAt",value:function(P,D,M){if(M==null){var O=this.descendant(b.default,P),H=s(O,2),X=H[0],G=H[1];X.insertAt(G,D)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var M=this.domNode.textContent.slice(P).indexOf(`
`);return M>-1?P+M:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,P);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(P),D.moveChildren(this),D.remove())}},{key:"replace",value:function(P){o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var M=f.default.find(D);M==null?D.parentNode.removeChild(D):M instanceof f.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(P){var D=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,P);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),N})(p.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=F,r.default=A}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},a=(function(){function W(Y,B){var j=[],q=!0,J=!1,Q=void 0;try{for(var te=Y[Symbol.iterator](),ae;!(q=(ae=te.next()).done)&&(j.push(ae.value),!(B&&j.length===B));q=!0);}catch(ce){J=!0,Q=ce}finally{try{!q&&te.return&&te.return()}finally{if(J)throw Q}}return j}return function(Y,B){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return W(Y,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function W(Y,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Y,q.key,q)}}return function(Y,B,j){return B&&W(Y.prototype,B),j&&W(Y,j),Y}})(),l=i(2),c=D(l),u=i(20),f=D(u),h=i(0),p=D(h),v=i(13),g=D(v),y=i(24),b=D(y),x=i(4),w=D(x),C=i(16),S=D(C),F=i(21),A=D(F),I=i(11),N=D(I),R=i(3),P=D(R);function D(W){return W&&W.__esModule?W:{default:W}}function M(W,Y,B){return Y in W?Object.defineProperty(W,Y,{value:B,enumerable:!0,configurable:!0,writable:!0}):W[Y]=B,W}function O(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,X=(function(){function W(Y){O(this,W),this.scroll=Y,this.delta=this.getDelta()}return o(W,[{key:"applyDelta",value:function(B){var j=this,q=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),B=Z(B),B.reduce(function(Q,te){var ae=te.retain||te.delete||te.insert.length||1,ce=te.attributes||{};if(te.insert!=null){if(typeof te.insert=="string"){var ue=te.insert;ue.endsWith(`
`)&&q&&(q=!1,ue=ue.slice(0,-1)),Q>=J&&!ue.endsWith(`
`)&&(q=!0),j.scroll.insertAt(Q,ue);var Se=j.scroll.line(Q),Fe=a(Se,2),fe=Fe[0],Le=Fe[1],z=(0,P.default)({},(0,x.bubbleFormats)(fe));if(fe instanceof w.default){var me=fe.descendant(p.default.Leaf,Le),be=a(me,1),le=be[0];z=(0,P.default)(z,(0,x.bubbleFormats)(le))}ce=f.default.attributes.diff(z,ce)||{}}else if(s(te.insert)==="object"){var re=Object.keys(te.insert)[0];if(re==null)return Q;j.scroll.insertAt(Q,re,te.insert[re])}J+=ae}return Object.keys(ce).forEach(function(oe){j.scroll.formatAt(Q,ae,oe,ce[oe])}),Q+ae},0),B.reduce(function(Q,te){return typeof te.delete=="number"?(j.scroll.deleteAt(Q,te.delete),Q):Q+(te.retain||te.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(Q){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[Q])){var te=q.scroll.lines(B,Math.max(j,1)),ae=j;te.forEach(function(ce){var ue=ce.length();if(!(ce instanceof g.default))ce.format(Q,J[Q]);else{var Se=B-ce.offset(q.scroll),Fe=ce.newlineIndex(Se+ae)-Se+1;ce.formatAt(Se,Fe,Q,J[Q])}ae-=ue})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,A.default)(J)))}},{key:"formatText",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(Q){q.scroll.formatAt(B,j,Q,J[Q])}),this.update(new c.default().retain(B).retain(j,(0,A.default)(J)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],J=[];j===0?this.scroll.path(B).forEach(function(te){var ae=a(te,1),ce=ae[0];ce instanceof w.default?q.push(ce):ce instanceof p.default.Leaf&&J.push(ce)}):(q=this.scroll.lines(B,j),J=this.scroll.descendants(p.default.Leaf,B,j));var Q=[q,J].map(function(te){if(te.length===0)return{};for(var ae=(0,x.bubbleFormats)(te.shift());Object.keys(ae).length>0;){var ce=te.shift();if(ce==null)return ae;ae=G((0,x.bubbleFormats)(ce),ae)}return ae});return P.default.apply(P.default,Q)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(B,j,q){return this.scroll.insertAt(B,j,q),this.update(new c.default().retain(B).insert(M({},j,q)))}},{key:"insertText",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(J).forEach(function(Q){q.scroll.formatAt(B,j.length,Q,J[Q])}),this.update(new c.default().retain(B).insert(j,(0,A.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof S.default}},{key:"removeFormat",value:function(B,j){var q=this.getText(B,j),J=this.scroll.line(B+j),Q=a(J,2),te=Q[0],ae=Q[1],ce=0,ue=new c.default;te!=null&&(te instanceof g.default?ce=te.newlineIndex(ae)-ae+1:ce=te.length()-ae,ue=te.delta().slice(ae,ae+ce-1).insert(`
`));var Se=this.getContents(B,j+ce),Fe=Se.diff(new c.default().insert(q).concat(ue)),fe=new c.default().retain(B).concat(Fe);return this.applyDelta(fe)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(H)&&p.default.find(j[0].target)){var Q=p.default.find(j[0].target),te=(0,x.bubbleFormats)(Q),ae=Q.offset(this.scroll),ce=j[0].oldValue.replace(b.default.CONTENTS,""),ue=new c.default().insert(ce),Se=new c.default().insert(Q.value()),Fe=new c.default().retain(ae).concat(ue.diff(Se,q));B=Fe.reduce(function(fe,Le){return Le.insert?fe.insert(Le.insert,te):fe.push(Le)},new c.default),this.delta=J.compose(B)}else this.delta=this.getDelta(),(!B||!(0,N.default)(J.compose(B),this.delta))&&(B=J.diff(this.delta,q));return B}}]),W})();function G(W,Y){return Object.keys(Y).reduce(function(B,j){return W[j]==null||(Y[j]===W[j]?B[j]=Y[j]:Array.isArray(Y[j])?Y[j].indexOf(W[j])<0&&(B[j]=Y[j].concat([W[j]])):B[j]=[Y[j],W[j]]),B},{})}function Z(W){return W.reduce(function(Y,B){if(B.insert===1){var j=(0,A.default)(B.attributes);return delete j.image,Y.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,A.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var q=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Y.insert(q,B.attributes)}return Y.push(B)},new c.default)}r.default=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function I(N,R){var P=[],D=!0,M=!1,O=void 0;try{for(var H=N[Symbol.iterator](),X;!(D=(X=H.next()).done)&&(P.push(X.value),!(R&&P.length===R));D=!0);}catch(G){M=!0,O=G}finally{try{!D&&H.return&&H.return()}finally{if(M)throw O}}return P}return function(N,R){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return I(N,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function I(N,R){for(var P=0;P<R.length;P++){var D=R[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,R,P){return R&&I(N.prototype,R),P&&I(N,P),N}})(),o=i(0),l=b(o),c=i(21),u=b(c),f=i(11),h=b(f),p=i(8),v=b(p),g=i(10),y=b(g);function b(I){return I&&I.__esModule?I:{default:I}}function x(I){if(Array.isArray(I)){for(var N=0,R=Array(I.length);N<I.length;N++)R[N]=I[N];return R}else return Array.from(I)}function w(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),S=function I(N){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,I),this.index=N,this.length=R},F=(function(){function I(N,R){var P=this;w(this,I),this.emitter=R,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(D,M){D===v.default.events.TEXT_CHANGE&&M.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var D=P.getNativeRange();D!=null&&D.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(D,M){if(M.range){var O=M.range,H=O.startNode,X=O.startOffset,G=O.endNode,Z=O.endOffset;P.setNativeRange(H,X,G,Z)}}),this.update(v.default.sources.SILENT)}return a(I,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var P=R.cursor.restore();if(!P)return;setTimeout(function(){R.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||l.default.query(R,l.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var M=l.default.find(D.start.node,!1);if(M==null)return;if(M instanceof l.default.Leaf){var O=M.split(D.start.offset);M.parent.insertBefore(this.cursor,O)}else M.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(R,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();R=Math.min(R,D-1),P=Math.min(R+P,D-1)-R;var M=void 0,O=this.scroll.leaf(R),H=s(O,2),X=H[0],G=H[1];if(X==null)return null;var Z=X.position(G,!0),W=s(Z,2);M=W[0],G=W[1];var Y=document.createRange();if(P>0){Y.setStart(M,G);var B=this.scroll.leaf(R+P),j=s(B,2);if(X=j[0],G=j[1],X==null)return null;var q=X.position(G,!0),J=s(q,2);return M=J[0],G=J[1],Y.setEnd(M,G),Y.getBoundingClientRect()}else{var Q="left",te=void 0;return M instanceof Text?(G<M.data.length?(Y.setStart(M,G),Y.setEnd(M,G+1)):(Y.setStart(M,G-1),Y.setEnd(M,G),Q="right"),te=Y.getBoundingClientRect()):(te=X.domNode.getBoundingClientRect(),G>0&&(Q="right")),{bottom:te.top+te.height,height:te.height,left:te[Q],right:te[Q],top:te.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var P=R.getRangeAt(0);if(P==null)return null;var D=this.normalizeNative(P);return C.info("getNativeRange",D),D}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var P=this.normalizedToRange(R);return[P,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var P=this,D=[[R.start.node,R.start.offset]];R.native.collapsed||D.push([R.end.node,R.end.offset]);var M=D.map(function(X){var G=s(X,2),Z=G[0],W=G[1],Y=l.default.find(Z,!0),B=Y.offset(P.scroll);return W===0?B:Y instanceof l.default.Container?B+Y.length():B+Y.index(Z,W)}),O=Math.min(Math.max.apply(Math,x(M)),this.scroll.length()-1),H=Math.min.apply(Math,[O].concat(x(M)));return new S(H,O-H)}},{key:"normalizeNative",value:function(R){if(!A(this.root,R.startContainer)||!R.collapsed&&!A(this.root,R.endContainer))return null;var P={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[P.start,P.end].forEach(function(D){for(var M=D.node,O=D.offset;!(M instanceof Text)&&M.childNodes.length>0;)if(M.childNodes.length>O)M=M.childNodes[O],O=0;else if(M.childNodes.length===O)M=M.lastChild,O=M instanceof Text?M.data.length:M.childNodes.length+1;else break;D.node=M,D.offset=O}),P}},{key:"rangeToNative",value:function(R){var P=this,D=R.collapsed?[R.index]:[R.index,R.index+R.length],M=[],O=this.scroll.length();return D.forEach(function(H,X){H=Math.min(O-1,H);var G=void 0,Z=P.scroll.leaf(H),W=s(Z,2),Y=W[0],B=W[1],j=Y.position(B,X!==0),q=s(j,2);G=q[0],B=q[1],M.push(G,B)}),M.length<2&&(M=M.concat(M)),M}},{key:"scrollIntoView",value:function(R){var P=this.lastRange;if(P!=null){var D=this.getBounds(P.index,P.length);if(D!=null){var M=this.scroll.length()-1,O=this.scroll.line(Math.min(P.index,M)),H=s(O,1),X=H[0],G=X;if(P.length>0){var Z=this.scroll.line(Math.min(P.index+P.length,M)),W=s(Z,1);G=W[0]}if(!(X==null||G==null)){var Y=R.getBoundingClientRect();D.top<Y.top?R.scrollTop-=Y.top-D.top:D.bottom>Y.bottom&&(R.scrollTop+=D.bottom-Y.bottom)}}}}},{key:"setNativeRange",value:function(R,P){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",R,P,D,M),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||D.parentNode==null))){var H=document.getSelection();if(H!=null)if(R!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||O||R!==X.startContainer||P!==X.startOffset||D!==X.endContainer||M!==X.endOffset){R.tagName=="BR"&&(P=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),D.tagName=="BR"&&(M=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var G=document.createRange();G.setStart(R,P),G.setEnd(D,M),H.removeAllRanges(),H.addRange(G)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(D=P,P=!1),C.info("setRange",R),R!=null){var M=this.rangeToNative(R);this.setNativeRange.apply(this,x(M).concat([P]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,D=this.getRange(),M=s(D,2),O=M[0],H=M[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var X;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var G=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),R];if((X=this.emitter).emit.apply(X,[v.default.events.EDITOR_CHANGE].concat(G)),R!==v.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,G)}}}}]),I})();function A(I,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),I.contains(N)}r.Range=S,r.default=F}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(b,x){b.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,b){g.deleteAt(y,b)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],b=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,b]:y instanceof h?y.descendant(p,b):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],b=g;return this.children.forEachAt(v,g,function(x,w,C){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&y.push(x),x instanceof h&&(y=y.concat(x.descendants(p,w,b))),b-=C}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(b,x,w){b.formatAt(x,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),b=y[0],x=y[1];if(b)b.insertAt(x,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],b=g[1],x=[[this,p]];return y instanceof h?x.concat(y.path(b,v)):(y!=null&&x.push([y,b]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,b,x){y=y.split(b,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],b=[];p.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(y.push.apply(y,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=l.find(x.nextSibling));var C=u(x);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(g),g.insertBefore(C,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,b,x,w){typeof y=="object"&&(b=y.depth,x=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],S=[],F=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof b>"u"&&(b=1/0);function A(I,N){if(I===null)return null;if(N===0)return I;var R,P;if(typeof I!="object")return I;if(s(I,a))R=new a;else if(s(I,o))R=new o;else if(s(I,l))R=new l(function(Y,B){I.then(function(j){Y(A(j,N-1))},function(j){B(A(j,N-1))})});else if(c.__isArray(I))R=[];else if(c.__isRegExp(I))R=new RegExp(I.source,v(I)),I.lastIndex&&(R.lastIndex=I.lastIndex);else if(c.__isDate(I))R=new Date(I.getTime());else{if(F&&Buffer.isBuffer(I))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(I.length):R=new Buffer(I.length),I.copy(R),R;s(I,Error)?R=Object.create(I):typeof x>"u"?(P=Object.getPrototypeOf(I),R=Object.create(P)):(R=Object.create(x),P=x)}if(y){var D=C.indexOf(I);if(D!=-1)return S[D];C.push(I),S.push(R)}s(I,a)&&I.forEach(function(Y,B){var j=A(B,N-1),q=A(Y,N-1);R.set(j,q)}),s(I,o)&&I.forEach(function(Y){var B=A(Y,N-1);R.add(B)});for(var M in I){var O;P&&(O=Object.getOwnPropertyDescriptor(P,M)),!(O&&O.set==null)&&(R[M]=A(I[M],N-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(I),M=0;M<H.length;M++){var X=H[M],G=Object.getOwnPropertyDescriptor(I,X);G&&!G.enumerable&&!w||(R[X]=A(I[X],N-1),G.enumerable||Object.defineProperty(R,X,{enumerable:!1}))}if(w)for(var Z=Object.getOwnPropertyNames(I),M=0;M<Z.length;M++){var W=Z[M],G=Object.getOwnPropertyDescriptor(I,W);G&&G.enumerable||(R[W]=A(I[W],N-1),Object.defineProperty(R,W,{enumerable:!1}))}return R}return A(g,b)}c.clonePrototype=function(y){if(y===null)return null;var b=function(){};return b.prototype=y,new b};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function R(P,D){var M=[],O=!0,H=!1,X=void 0;try{for(var G=P[Symbol.iterator](),Z;!(O=(Z=G.next()).done)&&(M.push(Z.value),!(D&&M.length===D));O=!0);}catch(W){H=!0,X=W}finally{try{!O&&G.return&&G.return()}finally{if(H)throw X}}return M}return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return R(P,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function R(P,D){for(var M=0;M<D.length;M++){var O=D[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,D,M){return D&&R(P.prototype,D),M&&R(P,M),P}})(),o=function R(P,D,M){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,D);if(O===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:R(H,D,M)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(M)}},l=i(0),c=C(l),u=i(8),f=C(u),h=i(4),p=C(h),v=i(16),g=C(v),y=i(13),b=C(y),x=i(25),w=C(x);function C(R){return R&&R.__esModule?R:{default:R}}function S(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function F(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function A(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}function I(R){return R instanceof p.default||R instanceof h.BlockEmbed}var N=(function(R){A(P,R);function P(D,M){S(this,P);var O=F(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,D));return O.emitter=M.emitter,Array.isArray(M.whitelist)&&(O.whitelist=M.whitelist.reduce(function(H,X){return H[X]=!0,H},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(M,O){var H=this.line(M),X=s(H,2),G=X[0],Z=X[1],W=this.line(M+O),Y=s(W,1),B=Y[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,M,O),B!=null&&G!==B&&Z>0){if(G instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(G instanceof b.default){var j=G.newlineIndex(G.length(),!0);if(j>-1&&(G=G.split(j+1),G===B)){this.optimize();return}}else if(B instanceof b.default){var q=B.newlineIndex(0);q>-1&&B.split(q+1)}var J=B.children.head instanceof g.default?null:B.children.head;G.moveChildren(B,J),G.remove()}this.optimize()}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",M)}},{key:"formatAt",value:function(M,O,H,X){this.whitelist!=null&&!this.whitelist[H]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,M,O,H,X),this.optimize())}},{key:"insertAt",value:function(M,O,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[O])){if(M>=this.length())if(H==null||c.default.query(O,c.default.Scope.BLOCK)==null){var X=c.default.create(this.statics.defaultChild);this.appendChild(X),H==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),X.insertAt(0,O,H)}else{var G=c.default.create(O,H);this.appendChild(G)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,M,O,H);this.optimize()}}},{key:"insertBefore",value:function(M,O){if(M.statics.scope===c.default.Scope.INLINE_BLOT){var H=c.default.create(this.statics.defaultChild);H.appendChild(M),M=H}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,M,O)}},{key:"leaf",value:function(M){return this.path(M).pop()||[null,-1]}},{key:"line",value:function(M){return M===this.length()?this.line(M-1):this.descendant(I,M)}},{key:"lines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function X(G,Z,W){var Y=[],B=W;return G.children.forEachAt(Z,W,function(j,q,J){I(j)?Y.push(j):j instanceof c.default.Container&&(Y=Y.concat(X(j,q,B))),B-=J}),Y};return H(this,M,O)}},{key:"optimize",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,M,O),M.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,M,O))}},{key:"path",value:function(M){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,M).slice(1)}},{key:"update",value:function(M){if(this.batch!==!0){var O=f.default.sources.USER;typeof M=="string"&&(O=M),Array.isArray(M)||(M=this.observer.takeRecords()),M.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,O,M),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,M.concat([])),M.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,O,M)}}}]),P})(c.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},a=(function(){function te(ae,ce){var ue=[],Se=!0,Fe=!1,fe=void 0;try{for(var Le=ae[Symbol.iterator](),z;!(Se=(z=Le.next()).done)&&(ue.push(z.value),!(ce&&ue.length===ce));Se=!0);}catch(me){Fe=!0,fe=me}finally{try{!Se&&Le.return&&Le.return()}finally{if(Fe)throw fe}}return ue}return function(ae,ce){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return te(ae,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function te(ae,ce){for(var ue=0;ue<ce.length;ue++){var Se=ce[ue];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(ae,Se.key,Se)}}return function(ae,ce,ue){return ce&&te(ae.prototype,ce),ue&&te(ae,ue),ae}})(),l=i(21),c=R(l),u=i(11),f=R(u),h=i(3),p=R(h),v=i(2),g=R(v),y=i(20),b=R(y),x=i(0),w=R(x),C=i(5),S=R(C),F=i(10),A=R(F),I=i(9),N=R(I);function R(te){return te&&te.__esModule?te:{default:te}}function P(te,ae,ce){return ae in te?Object.defineProperty(te,ae,{value:ce,enumerable:!0,configurable:!0,writable:!0}):te[ae]=ce,te}function D(te,ae){if(!(te instanceof ae))throw new TypeError("Cannot call a class as a function")}function M(te,ae){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:te}function O(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ae):te.__proto__=ae)}var H=(0,A.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",G=(function(te){O(ae,te),o(ae,null,[{key:"match",value:function(ue,Se){return Se=Q(Se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Fe){return!!Se[Fe]!==ue[Fe]&&Se[Fe]!==null})?!1:Se.key===(ue.which||ue.keyCode)}}]);function ae(ce,ue){D(this,ae);var Se=M(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,ce,ue));return Se.bindings={},Object.keys(Se.options.bindings).forEach(function(Fe){Fe==="list autofill"&&ce.scroll.whitelist!=null&&!ce.scroll.whitelist.list||Se.options.bindings[Fe]&&Se.addBinding(Se.options.bindings[Fe])}),Se.addBinding({key:ae.keys.ENTER,shiftKey:null},j),Se.addBinding({key:ae.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Se.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0},W),Se.addBinding({key:ae.keys.DELETE},{collapsed:!0},Y)):(Se.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),Se.addBinding({key:ae.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Y)),Se.addBinding({key:ae.keys.BACKSPACE},{collapsed:!1},B),Se.addBinding({key:ae.keys.DELETE},{collapsed:!1},B),Se.addBinding({key:ae.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),Se.listen(),Se}return o(ae,[{key:"addBinding",value:function(ue){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fe=Q(ue);if(fe==null||fe.key==null)return H.warn("Attempted to add invalid keyboard binding",fe);typeof Se=="function"&&(Se={handler:Se}),typeof Fe=="function"&&(Fe={handler:Fe}),fe=(0,p.default)(fe,Se,Fe),this.bindings[fe.key]=this.bindings[fe.key]||[],this.bindings[fe.key].push(fe)}},{key:"listen",value:function(){var ue=this;this.quill.root.addEventListener("keydown",function(Se){if(!Se.defaultPrevented){var Fe=Se.which||Se.keyCode,fe=(ue.bindings[Fe]||[]).filter(function(Oe){return ae.match(Se,Oe)});if(fe.length!==0){var Le=ue.quill.getSelection();if(!(Le==null||!ue.quill.hasFocus())){var z=ue.quill.getLine(Le.index),me=a(z,2),be=me[0],le=me[1],re=ue.quill.getLeaf(Le.index),oe=a(re,2),Ie=oe[0],ke=oe[1],he=Le.length===0?[Ie,ke]:ue.quill.getLeaf(Le.index+Le.length),ye=a(he,2),_e=ye[0],Te=ye[1],Re=Ie instanceof w.default.Text?Ie.value().slice(0,ke):"",Ee=_e instanceof w.default.Text?_e.value().slice(Te):"",ve={collapsed:Le.length===0,empty:Le.length===0&&be.length()<=1,format:ue.quill.getFormat(Le),offset:le,prefix:Re,suffix:Ee},Me=fe.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==ve.collapsed||Oe.empty!=null&&Oe.empty!==ve.empty||Oe.offset!=null&&Oe.offset!==ve.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(qe){return ve.format[qe]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(qe){return Oe.format[qe]===!0?ve.format[qe]!=null:Oe.format[qe]===!1?ve.format[qe]==null:(0,f.default)(Oe.format[qe],ve.format[qe])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(ve.prefix)||Oe.suffix!=null&&!Oe.suffix.test(ve.suffix)?!1:Oe.handler.call(ue,Le,ve)!==!0});Me&&Se.preventDefault()}}}})}}]),ae})(N.default);G.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},G.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:G.keys.TAB,format:["blockquote","indent","list"],handler:function(ae,ce){if(ce.collapsed&&ce.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:G.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ae,ce){if(ce.collapsed&&ce.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:G.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ae,ce){ce.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):ce.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:G.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ae){this.quill.deleteText(ae.index-1,1,S.default.sources.USER)}},tab:{key:G.keys.TAB,handler:function(ae){this.quill.history.cutoff();var ce=new g.default().retain(ae.index).delete(ae.length).insert("	");this.quill.updateContents(ce,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index+1,S.default.sources.SILENT)}},"list empty enter":{key:G.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ae,ce){this.quill.format("list",!1,S.default.sources.USER),ce.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:G.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ae){var ce=this.quill.getLine(ae.index),ue=a(ce,2),Se=ue[0],Fe=ue[1],fe=(0,p.default)({},Se.formats(),{list:"checked"}),Le=new g.default().retain(ae.index).insert(`
`,fe).retain(Se.length()-Fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Le,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:G.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ae,ce){var ue=this.quill.getLine(ae.index),Se=a(ue,2),Fe=Se[0],fe=Se[1],Le=new g.default().retain(ae.index).insert(`
`,ce.format).retain(Fe.length()-fe-1).retain(1,{header:null});this.quill.updateContents(Le,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ae,ce){var ue=ce.prefix.length,Se=this.quill.getLine(ae.index),Fe=a(Se,2),fe=Fe[0],Le=Fe[1];if(Le>ue)return!0;var z=void 0;switch(ce.prefix.trim()){case"[]":case"[ ]":z="unchecked";break;case"[x]":z="checked";break;case"-":case"*":z="bullet";break;default:z="ordered"}this.quill.insertText(ae.index," ",S.default.sources.USER),this.quill.history.cutoff();var me=new g.default().retain(ae.index-Le).delete(ue+1).retain(fe.length()-2-Le).retain(1,{list:z});this.quill.updateContents(me,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index-ue,S.default.sources.SILENT)}},"code exit":{key:G.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ae){var ce=this.quill.getLine(ae.index),ue=a(ce,2),Se=ue[0],Fe=ue[1],fe=new g.default().retain(ae.index+Se.length()-Fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(fe,S.default.sources.USER)}},"embed left":Z(G.keys.LEFT,!1),"embed left shift":Z(G.keys.LEFT,!0),"embed right":Z(G.keys.RIGHT,!1),"embed right shift":Z(G.keys.RIGHT,!0)}};function Z(te,ae){var ce,ue=te===G.keys.LEFT?"prefix":"suffix";return ce={key:te,shiftKey:ae,altKey:null},P(ce,ue,/^$/),P(ce,"handler",function(Fe){var fe=Fe.index;te===G.keys.RIGHT&&(fe+=Fe.length+1);var Le=this.quill.getLeaf(fe),z=a(Le,1),me=z[0];return me instanceof w.default.Embed?(te===G.keys.LEFT?ae?this.quill.setSelection(Fe.index-1,Fe.length+1,S.default.sources.USER):this.quill.setSelection(Fe.index-1,S.default.sources.USER):ae?this.quill.setSelection(Fe.index,Fe.length+1,S.default.sources.USER):this.quill.setSelection(Fe.index+Fe.length+1,S.default.sources.USER),!1):!0}),ce}function W(te,ae){if(!(te.index===0||this.quill.getLength()<=1)){var ce=this.quill.getLine(te.index),ue=a(ce,1),Se=ue[0],Fe={};if(ae.offset===0){var fe=this.quill.getLine(te.index-1),Le=a(fe,1),z=Le[0];if(z!=null&&z.length()>1){var me=Se.formats(),be=this.quill.getFormat(te.index-1,1);Fe=b.default.attributes.diff(me,be)||{}}}var le=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ae.prefix)?2:1;this.quill.deleteText(te.index-le,le,S.default.sources.USER),Object.keys(Fe).length>0&&this.quill.formatLine(te.index-le,le,Fe,S.default.sources.USER),this.quill.focus()}}function Y(te,ae){var ce=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ae.suffix)?2:1;if(!(te.index>=this.quill.getLength()-ce)){var ue={},Se=0,Fe=this.quill.getLine(te.index),fe=a(Fe,1),Le=fe[0];if(ae.offset>=Le.length()-1){var z=this.quill.getLine(te.index+1),me=a(z,1),be=me[0];if(be){var le=Le.formats(),re=this.quill.getFormat(te.index,1);ue=b.default.attributes.diff(le,re)||{},Se=be.length()}}this.quill.deleteText(te.index,ce,S.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(te.index+Se-1,ce,ue,S.default.sources.USER)}}function B(te){var ae=this.quill.getLines(te),ce={};if(ae.length>1){var ue=ae[0].formats(),Se=ae[ae.length-1].formats();ce=b.default.attributes.diff(Se,ue)||{}}this.quill.deleteText(te,S.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(te.index,1,ce,S.default.sources.USER),this.quill.setSelection(te.index,S.default.sources.SILENT),this.quill.focus()}function j(te,ae){var ce=this;te.length>0&&this.quill.scroll.deleteAt(te.index,te.length);var ue=Object.keys(ae.format).reduce(function(Se,Fe){return w.default.query(Fe,w.default.Scope.BLOCK)&&!Array.isArray(ae.format[Fe])&&(Se[Fe]=ae.format[Fe]),Se},{});this.quill.insertText(te.index,`
`,ue,S.default.sources.USER),this.quill.setSelection(te.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(ae.format).forEach(function(Se){ue[Se]==null&&(Array.isArray(ae.format[Se])||Se!=="link"&&ce.quill.format(Se,ae.format[Se],S.default.sources.USER))})}function q(te){return{key:G.keys.TAB,shiftKey:!te,format:{"code-block":!0},handler:function(ce){var ue=w.default.query("code-block"),Se=ce.index,Fe=ce.length,fe=this.quill.scroll.descendant(ue,Se),Le=a(fe,2),z=Le[0],me=Le[1];if(z!=null){var be=this.quill.getIndex(z),le=z.newlineIndex(me,!0)+1,re=z.newlineIndex(be+me+Fe),oe=z.domNode.textContent.slice(le,re).split(`
`);me=0,oe.forEach(function(Ie,ke){te?(z.insertAt(le+me,ue.TAB),me+=ue.TAB.length,ke===0?Se+=ue.TAB.length:Fe+=ue.TAB.length):Ie.startsWith(ue.TAB)&&(z.deleteAt(le+me,ue.TAB.length),me-=ue.TAB.length,ke===0?Se-=ue.TAB.length:Fe-=ue.TAB.length),me+=Ie.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Se,Fe,S.default.sources.SILENT)}}}}function J(te){return{key:te[0].toUpperCase(),shortKey:!0,handler:function(ce,ue){this.quill.format(te,!ue.format[te],S.default.sources.USER)}}}function Q(te){if(typeof te=="string"||typeof te=="number")return Q({key:te});if((typeof te>"u"?"undefined":s(te))==="object"&&(te=(0,c.default)(te,!1)),typeof te.key=="string")if(G.keys[te.key.toUpperCase()]!=null)te.key=G.keys[te.key.toUpperCase()];else if(te.key.length===1)te.key=te.key.toUpperCase().charCodeAt(0);else return null;return te.shortKey&&(te[X]=te.shortKey,delete te.shortKey),te}r.default=G,r.SHORTKEY=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(x,w){var C=[],S=!0,F=!1,A=void 0;try{for(var I=x[Symbol.iterator](),N;!(S=(N=I.next()).done)&&(C.push(N.value),!(w&&C.length===w));S=!0);}catch(R){F=!0,A=R}finally{try{!S&&I.return&&I.return()}finally{if(F)throw A}}return C}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function b(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var F=Object.getPrototypeOf(x);return F===null?void 0:b(F,w,C)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(C)}},o=(function(){function b(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&b(x.prototype,w),C&&b(x,C),x}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function v(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=(function(b){g(x,b),o(x,null,[{key:"value",value:function(){}}]);function x(w,C){p(this,x);var S=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return S.selection=C,S.textNode=document.createTextNode(x.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return o(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,S){if(this._length!==0)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,C,S);for(var F=this,A=0;F!=null&&F.statics.scope!==c.default.Scope.BLOCK_BLOT;)A+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=x.CONTENTS.length,F.optimize(),F.formatAt(A,x.CONTENTS.length,C,S),this._length=0)}},{key:"index",value:function(C,S){return C===this.textNode?0:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,S=this.selection.getNativeRange(),F=void 0,A=void 0,I=void 0;if(S!=null&&S.start.node===C&&S.end.node===C){var N=[C,S.start.offset,S.end.offset];F=N[0],A=N[1],I=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var R=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(F=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=x.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var P=[A,I].map(function(M){return Math.max(0,Math.min(F.data.length,M-1))}),D=s(P,2);return A=D[0],I=D[1],{startNode:F,startOffset:A,endNode:F,endOffset:I}}}}},{key:"update",value:function(C,S){var F=this;if(C.some(function(I){return I.type==="characterData"&&I.target===F.textNode})){var A=this.restore();A&&(S.range=A)}}},{key:"value",value:function(){return""}}]),x})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function f(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function h(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var p=(function(y){h(b,y);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(w){var C=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):C}}]),b})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}})(),a=function g(y,b,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,b,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return v(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var b=document.createElement("a");b.href=g;var x=b.href.slice(0,b.href.indexOf(":"));return y.indexOf(x)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(b,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,b){y.setAttribute(b,y.getAttribute(b)!=="true")}var g=(function(){function y(b){var x=this;h(this,y),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),x.hasAttribute("value")&&C.setAttribute("data-value",x.getAttribute("value")),x.textContent&&C.setAttribute("data-label",x.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var S=x.buildItem(C);w.appendChild(S),C.selected===!0&&x.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(x!==C&&(C!=null&&C.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=H(s),o=i(5),l=H(o),c=i(4),u=H(c),f=i(16),h=H(f),p=i(25),v=H(p),g=i(24),y=H(g),b=i(35),x=H(b),w=i(6),C=H(w),S=i(22),F=H(S),A=i(7),I=H(A),N=i(55),R=H(N),P=i(42),D=H(P),M=i(23),O=H(M);function H(X){return X&&X.__esModule?X:{default:X}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":x.default,"blots/inline":C.default,"blots/scroll":F.default,"blots/text":I.default,"modules/clipboard":R.default,"modules/history":D.default,"modules/keyboard":O.default}),a.default.register(u.default,h.default,y.default,C.default,F.default,I.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&b(x.prototype,w),C&&b(x,C),x}})(),a=function b(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var F=Object.getPrototypeOf(x);return F===null?void 0:b(F,w,C)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(C)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function p(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g="\uFEFF",y=(function(b){v(x,b);function x(w){h(this,x);var C=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(S){C.contentNode.appendChild(S)}),C.leftGuard=document.createTextNode(g),C.rightGuard=document.createTextNode(g),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return s(x,[{key:"index",value:function(C,S){return C===this.leftGuard?0:C===this.rightGuard?1:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,S)}},{key:"restore",value:function(C){var S=void 0,F=void 0,A=C.data.split(g).join("");if(C===this.leftGuard)if(this.prev instanceof u.default){var I=this.prev.length();this.prev.insertAt(I,A),S={startNode:this.prev.domNode,startOffset:I+A.length}}else F=document.createTextNode(A),this.parent.insertBefore(l.default.create(F),this),S={startNode:F,startOffset:A.length};else C===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,A),S={startNode:this.next.domNode,startOffset:A.length}):(F=document.createTextNode(A),this.parent.insertBefore(l.default.create(F),this.next),S={startNode:F,startOffset:A.length}));return C.data=g,S}},{key:"update",value:function(C,S){var F=this;C.forEach(function(A){if(A.type==="characterData"&&(A.target===F.leftGuard||A.target===F.rightGuard)){var I=F.restore(A.target);I&&(S.range=I)}})}}]),x})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function b(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&b(x.prototype,w),C&&b(x,C),x}})(),a=function b(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var F=Object.getPrototypeOf(x);return F===null?void 0:b(F,w,C)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(C)}},o=i(0),l=c(o);function c(b){return b&&b.__esModule?b:{default:b}}function u(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function h(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(b){h(x,b);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(C){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),x})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(C,S){for(var F=0;F<S.length;F++){var A=S[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,S,F){return S&&w(C.prototype,S),F&&w(C,F),C}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function g(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=(function(w){g(C,w);function C(S,F){p(this,C);var A=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S,F));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(c.default.events.EDITOR_CHANGE,function(I,N,R,P){I!==c.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||P===c.default.sources.USER?A.record(N,R):A.transform(N))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return s(C,[{key:"change",value:function(F,A){if(this.stack[F].length!==0){var I=this.stack[F].pop();this.stack[A].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[F],c.default.sources.USER),this.ignoreChange=!1;var N=x(I[F]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,A){if(F.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(A),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var R=this.stack.undo.pop();I=I.compose(R.undo),F=R.redo.compose(F)}else this.lastRecorded=N;this.stack.undo.push({redo:F,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(A){A.undo=F.transform(A.undo,!0),A.redo=F.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=F.transform(A.undo,!0),A.redo=F.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(S){return o.default.query(S,o.default.Scope.BLOCK)!=null}):!1}function x(w){var C=w.reduce(function(F,A){return F+=A.delete||0,F},0),S=w.length()-C;return b(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(q,J){for(var Q=0;Q<J.length;Q++){var te=J[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,te.key,te)}}return function(q,J,Q){return J&&j(q.prototype,J),Q&&j(q,Q),q}})(),a=function j(q,J,Q){q===null&&(q=Function.prototype);var te=Object.getOwnPropertyDescriptor(q,J);if(te===void 0){var ae=Object.getPrototypeOf(q);return ae===null?void 0:j(ae,J,Q)}else{if("value"in te)return te.value;var ce=te.get;return ce===void 0?void 0:ce.call(Q)}},o=i(3),l=N(o),c=i(2),u=N(c),f=i(8),h=N(f),p=i(23),v=N(p),g=i(34),y=N(g),b=i(59),x=N(b),w=i(60),C=N(w),S=i(28),F=N(S),A=i(61),I=N(A);function N(j){return j&&j.__esModule?j:{default:j}}function R(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}function P(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function D(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}var M=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],X=["1","2","3",!1],G=["small",!1,"large","huge"],Z=(function(j){D(q,j);function q(J,Q){R(this,q);var te=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,Q)),ae=function ce(ue){if(!document.body.contains(J.root))return document.body.removeEventListener("click",ce);te.tooltip!=null&&!te.tooltip.root.contains(ue.target)&&document.activeElement!==te.tooltip.textbox&&!te.quill.hasFocus()&&te.tooltip.hide(),te.pickers!=null&&te.pickers.forEach(function(Se){Se.container.contains(ue.target)||Se.close()})};return J.emitter.listenDOM("click",document.body,ae),te}return s(q,[{key:"addModule",value:function(Q){var te=a(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(te),te}},{key:"buildButtons",value:function(Q,te){Q.forEach(function(ae){var ce=ae.getAttribute("class")||"";ce.split(/\s+/).forEach(function(ue){if(ue.startsWith("ql-")&&(ue=ue.slice(3),te[ue]!=null))if(ue==="direction")ae.innerHTML=te[ue][""]+te[ue].rtl;else if(typeof te[ue]=="string")ae.innerHTML=te[ue];else{var Se=ae.value||"";Se!=null&&te[ue][Se]&&(ae.innerHTML=te[ue][Se])}})})}},{key:"buildPickers",value:function(Q,te){var ae=this;this.pickers=Q.map(function(ue){if(ue.classList.contains("ql-align"))return ue.querySelector("option")==null&&B(ue,M),new C.default(ue,te.align);if(ue.classList.contains("ql-background")||ue.classList.contains("ql-color")){var Se=ue.classList.contains("ql-background")?"background":"color";return ue.querySelector("option")==null&&B(ue,O,Se==="background"?"#ffffff":"#000000"),new x.default(ue,te[Se])}else return ue.querySelector("option")==null&&(ue.classList.contains("ql-font")?B(ue,H):ue.classList.contains("ql-header")?B(ue,X):ue.classList.contains("ql-size")&&B(ue,G)),new F.default(ue)});var ce=function(){ae.pickers.forEach(function(Se){Se.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,ce)}}]),q})(y.default);Z.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var Q=new FileReader;Q.onload=function(te){var ae=q.quill.getSelection(!0);q.quill.updateContents(new u.default().retain(ae.index).delete(ae.length).insert({image:te.target.result}),h.default.sources.USER),q.quill.setSelection(ae.index+1,h.default.sources.SILENT),J.value=""},Q.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=(function(j){D(q,j);function q(J,Q){R(this,q);var te=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,Q));return te.textbox=te.root.querySelector('input[type="text"]'),te.listen(),te}return s(q,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(te){v.default.match(te,"enter")?(Q.save(),te.preventDefault()):v.default.match(te,"escape")&&(Q.cancel(),te.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),te!=null?this.textbox.value=te:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var te=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=te;break}case"video":Q=Y(Q);case"formula":{if(!Q)break;var ae=this.quill.getSelection(!0);if(ae!=null){var ce=ae.index+ae.length;this.quill.insertEmbed(ce,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ce+1," ",h.default.sources.USER),this.quill.setSelection(ce+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(I.default);function Y(j){var q=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":j}function B(j,q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(Q){var te=document.createElement("option");Q===J?te.setAttribute("selected","selected"):te.setAttribute("value",Q),j.appendChild(te)})}r.BaseTooltip=W,r.default=Z}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var b=function(S,F){F===void 0&&(F=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[o.DATA_KEY].mutations==null&&(S.domNode[o.DATA_KEY].mutations=[]),F&&b(S.parent))},x=function(S){S.domNode[o.DATA_KEY]==null||S.domNode[o.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(x),S.optimize(v))},w=p,C=0;w.length>0;C+=1){if(C>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var F=o.find(S.target,!0);F!=null&&(F.domNode===S.target&&(S.type==="childList"?(b(o.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(A){var I=o.find(A,!1);b(I,!1),I instanceof a.default&&I.children.forEach(function(N){b(N,!1)})})):S.type==="attributes"&&b(F.prev)),b(F))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var b=o.find(y.target,!0);return b==null?null:b.domNode[o.DATA_KEY].mutations==null?(b.domNode[o.DATA_KEY].mutations=[y],b):(b.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(C,S,F){if(C==S)return C?[[a,C]]:[];(F<0||C.length<F)&&(F=null);var A=f(C,S),I=C.substring(0,A);C=C.substring(A),S=S.substring(A),A=h(C,S);var N=C.substring(C.length-A);C=C.substring(0,C.length-A),S=S.substring(0,S.length-A);var R=l(C,S);return I&&R.unshift([a,I]),N&&R.push([a,N]),v(R),F!=null&&(R=b(R,F)),R=x(R),R}function l(C,S){var F;if(!C)return[[s,S]];if(!S)return[[i,C]];var A=C.length>S.length?C:S,I=C.length>S.length?S:C,N=A.indexOf(I);if(N!=-1)return F=[[s,A.substring(0,N)],[a,I],[s,A.substring(N+I.length)]],C.length>S.length&&(F[0][0]=F[2][0]=i),F;if(I.length==1)return[[i,C],[s,S]];var R=p(C,S);if(R){var P=R[0],D=R[1],M=R[2],O=R[3],H=R[4],X=o(P,M),G=o(D,O);return X.concat([[a,H]],G)}return c(C,S)}function c(C,S){for(var F=C.length,A=S.length,I=Math.ceil((F+A)/2),N=I,R=2*I,P=new Array(R),D=new Array(R),M=0;M<R;M++)P[M]=-1,D[M]=-1;P[N+1]=0,D[N+1]=0;for(var O=F-A,H=O%2!=0,X=0,G=0,Z=0,W=0,Y=0;Y<I;Y++){for(var B=-Y+X;B<=Y-G;B+=2){var j=N+B,q;B==-Y||B!=Y&&P[j-1]<P[j+1]?q=P[j+1]:q=P[j-1]+1;for(var J=q-B;q<F&&J<A&&C.charAt(q)==S.charAt(J);)q++,J++;if(P[j]=q,q>F)G+=2;else if(J>A)X+=2;else if(H){var Q=N+O-B;if(Q>=0&&Q<R&&D[Q]!=-1){var te=F-D[Q];if(q>=te)return u(C,S,q,J)}}}for(var ae=-Y+Z;ae<=Y-W;ae+=2){var Q=N+ae,te;ae==-Y||ae!=Y&&D[Q-1]<D[Q+1]?te=D[Q+1]:te=D[Q-1]+1;for(var ce=te-ae;te<F&&ce<A&&C.charAt(F-te-1)==S.charAt(A-ce-1);)te++,ce++;if(D[Q]=te,te>F)W+=2;else if(ce>A)Z+=2;else if(!H){var j=N+O-ae;if(j>=0&&j<R&&P[j]!=-1){var q=P[j],J=N+q-j;if(te=F-te,q>=te)return u(C,S,q,J)}}}}return[[i,C],[s,S]]}function u(C,S,F,A){var I=C.substring(0,F),N=S.substring(0,A),R=C.substring(F),P=S.substring(A),D=o(I,N),M=o(R,P);return D.concat(M)}function f(C,S){if(!C||!S||C.charAt(0)!=S.charAt(0))return 0;for(var F=0,A=Math.min(C.length,S.length),I=A,N=0;F<I;)C.substring(N,I)==S.substring(N,I)?(F=I,N=F):A=I,I=Math.floor((A-F)/2+F);return I}function h(C,S){if(!C||!S||C.charAt(C.length-1)!=S.charAt(S.length-1))return 0;for(var F=0,A=Math.min(C.length,S.length),I=A,N=0;F<I;)C.substring(C.length-I,C.length-N)==S.substring(S.length-I,S.length-N)?(F=I,N=F):A=I,I=Math.floor((A-F)/2+F);return I}function p(C,S){var F=C.length>S.length?C:S,A=C.length>S.length?S:C;if(F.length<4||A.length*2<F.length)return null;function I(G,Z,W){for(var Y=G.substring(W,W+Math.floor(G.length/4)),B=-1,j="",q,J,Q,te;(B=Z.indexOf(Y,B+1))!=-1;){var ae=f(G.substring(W),Z.substring(B)),ce=h(G.substring(0,W),Z.substring(0,B));j.length<ce+ae&&(j=Z.substring(B-ce,B)+Z.substring(B,B+ae),q=G.substring(0,W-ce),J=G.substring(W+ae),Q=Z.substring(0,B-ce),te=Z.substring(B+ae))}return j.length*2>=G.length?[q,J,Q,te,j]:null}var N=I(F,A,Math.ceil(F.length/4)),R=I(F,A,Math.ceil(F.length/2)),P;if(!N&&!R)return null;R?N?P=N[4].length>R[4].length?N:R:P=R:P=N;var D,M,O,H;C.length>S.length?(D=P[0],M=P[1],O=P[2],H=P[3]):(O=P[0],H=P[1],D=P[2],M=P[3]);var X=P[4];return[D,M,O,H,X]}function v(C){C.push([a,""]);for(var S=0,F=0,A=0,I="",N="",R;S<C.length;)switch(C[S][0]){case s:A++,N+=C[S][1],S++;break;case i:F++,I+=C[S][1],S++;break;case a:F+A>1?(F!==0&&A!==0&&(R=f(N,I),R!==0&&(S-F-A>0&&C[S-F-A-1][0]==a?C[S-F-A-1][1]+=N.substring(0,R):(C.splice(0,0,[a,N.substring(0,R)]),S++),N=N.substring(R),I=I.substring(R)),R=h(N,I),R!==0&&(C[S][1]=N.substring(N.length-R)+C[S][1],N=N.substring(0,N.length-R),I=I.substring(0,I.length-R))),F===0?C.splice(S-A,F+A,[s,N]):A===0?C.splice(S-F,F+A,[i,I]):C.splice(S-F-A,F+A,[i,I],[s,N]),S=S-F-A+(F?1:0)+(A?1:0)+1):S!==0&&C[S-1][0]==a?(C[S-1][1]+=C[S][1],C.splice(S,1)):S++,A=0,F=0,I="",N="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(S=1;S<C.length-1;)C[S-1][0]==a&&C[S+1][0]==a&&(C[S][1].substring(C[S][1].length-C[S-1][1].length)==C[S-1][1]?(C[S][1]=C[S-1][1]+C[S][1].substring(0,C[S][1].length-C[S-1][1].length),C[S+1][1]=C[S-1][1]+C[S+1][1],C.splice(S-1,1),P=!0):C[S][1].substring(0,C[S+1][1].length)==C[S+1][1]&&(C[S-1][1]+=C[S+1][1],C[S][1]=C[S][1].substring(C[S+1][1].length)+C[S+1][1],C.splice(S+1,1),P=!0)),S++;P&&v(C)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(C,S){if(S===0)return[a,C];for(var F=0,A=0;A<C.length;A++){var I=C[A];if(I[0]===i||I[0]===a){var N=F+I[1].length;if(S===N)return[A+1,C];if(S<N){C=C.slice();var R=S-F,P=[I[0],I[1].slice(0,R)],D=[I[0],I[1].slice(R)];return C.splice(A,1,P,D),[A+1,C]}else F=N}}throw new Error("cursor_pos is out of bounds!")}function b(C,S){var F=y(C,S),A=F[1],I=F[0],N=A[I],R=A[I+1];if(N==null)return C;if(N[0]!==a)return C;if(R!=null&&N[1]+R[1]===R[1]+N[1])return A.splice(I,2,R,N),w(A,I,2);if(R!=null&&R[1].indexOf(N[1])===0){A.splice(I,2,[R[0],N[1]],[0,N[1]]);var P=R[1].slice(N[1].length);return P.length>0&&A.splice(I+2,0,[R[0],P]),w(A,I,3)}else return C}function x(C){for(var S=!1,F=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},A=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},I=2;I<C.length;I+=1)C[I-2][0]===a&&A(C[I-2][1])&&C[I-1][0]===i&&F(C[I-1][1])&&C[I][0]===s&&F(C[I][1])&&(S=!0,C[I-1][1]=C[I-2][1].slice(-1)+C[I-1][1],C[I][1]=C[I-2][1].slice(-1)+C[I][1],C[I-2][1]=C[I-2][1].slice(0,-1));if(!S)return C;for(var N=[],I=0;I<C.length;I+=1)C[I][1].length>0&&N.push(C[I]);return N}function w(C,S,F){for(var A=S+F-1;A>=0&&A>=S-1;A--)if(A+1<C.length){var I=C[A],N=C[A+1];I[0]===N[1]&&C.splice(A,2,[I[0],I[1]+N[1]])}return C}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,v),!0;case 6:return b.fn.call(b.context,f,h,p,v,g),!0}for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];b.fn.apply(b.context,w)}else{var S=b.length,F;for(C=0;C<S;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),x){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,f);break;case 3:b[C].fn.call(b[C].context,f,h);break;case 4:b[C].fn.call(b[C].context,f,h,p);break;default:if(!w)for(F=1,w=new Array(x-1);F<x;F++)w[F-1]=arguments[F];b[C].fn.apply(b[C].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,b=[],x=g.length;y<x;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&b.push(g[y]);b.length?this._events[v]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(oe,Ie){var ke=[],he=!0,ye=!1,_e=void 0;try{for(var Te=oe[Symbol.iterator](),Re;!(he=(Re=Te.next()).done)&&(ke.push(Re.value),!(Ie&&ke.length===Ie));he=!0);}catch(Ee){ye=!0,_e=Ee}finally{try{!he&&Te.return&&Te.return()}finally{if(ye)throw _e}}return ke}return function(oe,Ie){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return re(oe,Ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(oe,Ie){for(var ke=0;ke<Ie.length;ke++){var he=Ie[ke];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(oe,he.key,he)}}return function(oe,Ie,ke){return Ie&&re(oe.prototype,Ie),ke&&re(oe,ke),oe}})(),l=i(3),c=D(l),u=i(2),f=D(u),h=i(0),p=D(h),v=i(5),g=D(v),y=i(10),b=D(y),x=i(9),w=D(x),C=i(36),S=i(37),F=i(13),A=D(F),I=i(26),N=i(38),R=i(39),P=i(40);function D(re){return re&&re.__esModule?re:{default:re}}function M(re,oe,Ie){return oe in re?Object.defineProperty(re,oe,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):re[oe]=Ie,re}function O(re,oe){if(!(re instanceof oe))throw new TypeError("Cannot call a class as a function")}function H(re,oe){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:re}function X(re,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);re.prototype=Object.create(oe&&oe.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(re,oe):re.__proto__=oe)}var G=(0,b.default)("quill:clipboard"),Z="__ql-matcher",W=[[Node.TEXT_NODE,le],[Node.TEXT_NODE,z],["br",Fe],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,be],["li",Le],["b",ce.bind(ce,"bold")],["i",ce.bind(ce,"italic")],["style",fe]],Y=[C.AlignAttribute,N.DirectionAttribute].reduce(function(re,oe){return re[oe.keyName]=oe,re},{}),B=[C.AlignStyle,S.BackgroundStyle,I.ColorStyle,N.DirectionStyle,R.FontStyle,P.SizeStyle].reduce(function(re,oe){return re[oe.keyName]=oe,re},{}),j=(function(re){X(oe,re);function oe(Ie,ke){O(this,oe);var he=H(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,Ie,ke));return he.quill.root.addEventListener("paste",he.onPaste.bind(he)),he.container=he.quill.addContainer("ql-clipboard"),he.container.setAttribute("contenteditable",!0),he.container.setAttribute("tabindex",-1),he.matchers=[],W.concat(he.options.matchers).forEach(function(ye){var _e=a(ye,2),Te=_e[0],Re=_e[1];!ke.matchVisual&&Re===me||he.addMatcher(Te,Re)}),he}return o(oe,[{key:"addMatcher",value:function(ke,he){this.matchers.push([ke,he])}},{key:"convert",value:function(ke){if(typeof ke=="string")return this.container.innerHTML=ke.replace(/\>\r?\n +\</g,"><"),this.convert();var he=this.quill.getFormat(this.quill.selection.savedRange.index);if(he[A.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ye,M({},A.default.blotName,he[A.default.blotName]))}var _e=this.prepareMatching(),Te=a(_e,2),Re=Te[0],Ee=Te[1],ve=ae(this.container,Re,Ee);return Q(ve,`
`)&&ve.ops[ve.ops.length-1].attributes==null&&(ve=ve.compose(new f.default().retain(ve.length()-1).delete(1))),G.log("convert",this.container.innerHTML,ve),this.container.innerHTML="",ve}},{key:"dangerouslyPasteHTML",value:function(ke,he){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof ke=="string")this.quill.setContents(this.convert(ke),he),this.quill.setSelection(0,g.default.sources.SILENT);else{var _e=this.convert(he);this.quill.updateContents(new f.default().retain(ke).concat(_e),ye),this.quill.setSelection(ke+_e.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(ke){var he=this;if(!(ke.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),_e=new f.default().retain(ye.index),Te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){_e=_e.concat(he.convert()).delete(ye.length),he.quill.updateContents(_e,g.default.sources.USER),he.quill.setSelection(_e.length()-ye.length,g.default.sources.SILENT),he.quill.scrollingContainer.scrollTop=Te,he.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ke=this,he=[],ye=[];return this.matchers.forEach(function(_e){var Te=a(_e,2),Re=Te[0],Ee=Te[1];switch(Re){case Node.TEXT_NODE:ye.push(Ee);break;case Node.ELEMENT_NODE:he.push(Ee);break;default:[].forEach.call(ke.container.querySelectorAll(Re),function(ve){ve[Z]=ve[Z]||[],ve[Z].push(Ee)});break}}),[he,ye]}}]),oe})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function q(re,oe,Ie){return(typeof oe>"u"?"undefined":s(oe))==="object"?Object.keys(oe).reduce(function(ke,he){return q(ke,he,oe[he])},re):re.reduce(function(ke,he){return he.attributes&&he.attributes[oe]?ke.push(he):ke.insert(he.insert,(0,c.default)({},M({},oe,Ie),he.attributes))},new f.default)}function J(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var oe="__ql-computed-style";return re[oe]||(re[oe]=window.getComputedStyle(re))}function Q(re,oe){for(var Ie="",ke=re.ops.length-1;ke>=0&&Ie.length<oe.length;--ke){var he=re.ops[ke];if(typeof he.insert!="string")break;Ie=he.insert+Ie}return Ie.slice(-1*oe.length)===oe}function te(re){if(re.childNodes.length===0)return!1;var oe=J(re);return["block","list-item"].indexOf(oe.display)>-1}function ae(re,oe,Ie){return re.nodeType===re.TEXT_NODE?Ie.reduce(function(ke,he){return he(re,ke)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(ke,he){var ye=ae(he,oe,Ie);return he.nodeType===re.ELEMENT_NODE&&(ye=oe.reduce(function(_e,Te){return Te(he,_e)},ye),ye=(he[Z]||[]).reduce(function(_e,Te){return Te(he,_e)},ye)),ke.concat(ye)},new f.default):new f.default}function ce(re,oe,Ie){return q(Ie,re,!0)}function ue(re,oe){var Ie=p.default.Attributor.Attribute.keys(re),ke=p.default.Attributor.Class.keys(re),he=p.default.Attributor.Style.keys(re),ye={};return Ie.concat(ke).concat(he).forEach(function(_e){var Te=p.default.query(_e,p.default.Scope.ATTRIBUTE);Te!=null&&(ye[Te.attrName]=Te.value(re),ye[Te.attrName])||(Te=Y[_e],Te!=null&&(Te.attrName===_e||Te.keyName===_e)&&(ye[Te.attrName]=Te.value(re)||void 0),Te=B[_e],Te!=null&&(Te.attrName===_e||Te.keyName===_e)&&(Te=B[_e],ye[Te.attrName]=Te.value(re)||void 0))}),Object.keys(ye).length>0&&(oe=q(oe,ye)),oe}function Se(re,oe){var Ie=p.default.query(re);if(Ie==null)return oe;if(Ie.prototype instanceof p.default.Embed){var ke={},he=Ie.value(re);he!=null&&(ke[Ie.blotName]=he,oe=new f.default().insert(ke,Ie.formats(re)))}else typeof Ie.formats=="function"&&(oe=q(oe,Ie.blotName,Ie.formats(re)));return oe}function Fe(re,oe){return Q(oe,`
`)||oe.insert(`
`),oe}function fe(){return new f.default}function Le(re,oe){var Ie=p.default.query(re);if(Ie==null||Ie.blotName!=="list-item"||!Q(oe,`
`))return oe;for(var ke=-1,he=re.parentNode;!he.classList.contains("ql-clipboard");)(p.default.query(he)||{}).blotName==="list"&&(ke+=1),he=he.parentNode;return ke<=0?oe:oe.compose(new f.default().retain(oe.length()-1).retain(1,{indent:ke}))}function z(re,oe){return Q(oe,`
`)||(te(re)||oe.length()>0&&re.nextSibling&&te(re.nextSibling))&&oe.insert(`
`),oe}function me(re,oe){if(te(re)&&re.nextElementSibling!=null&&!Q(oe,`

`)){var Ie=re.offsetHeight+parseFloat(J(re).marginTop)+parseFloat(J(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+Ie*1.5&&oe.insert(`
`)}return oe}function be(re,oe){var Ie={},ke=re.style||{};return ke.fontStyle&&J(re).fontStyle==="italic"&&(Ie.italic=!0),ke.fontWeight&&(J(re).fontWeight.startsWith("bold")||parseInt(J(re).fontWeight)>=700)&&(Ie.bold=!0),Object.keys(Ie).length>0&&(oe=q(oe,Ie)),parseFloat(ke.textIndent||0)>0&&(oe=new f.default().insert("	").concat(oe)),oe}function le(re,oe){var Ie=re.data;if(re.parentNode.tagName==="O:P")return oe.insert(Ie.trim());if(Ie.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return oe;if(!J(re.parentNode).whiteSpace.startsWith("pre")){var ke=function(ye,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&ye?" ":_e};Ie=Ie.replace(/\r\n/g," ").replace(/\n/g," "),Ie=Ie.replace(/\s\s+/g,ke.bind(ke,!0)),(re.previousSibling==null&&te(re.parentNode)||re.previousSibling!=null&&te(re.previousSibling))&&(Ie=Ie.replace(/^\s+/,ke.bind(ke,!1))),(re.nextSibling==null&&te(re.parentNode)||re.nextSibling!=null&&te(re.nextSibling))&&(Ie=Ie.replace(/\s+$/,ke.bind(ke,!1)))}return oe.insert(Ie)}r.default=j,r.matchAttributor=ue,r.matchBlot=Se,r.matchNewline=z,r.matchSpacing=me,r.matchText=le}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(b){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(D,M){var O=[],H=!0,X=!1,G=void 0;try{for(var Z=D[Symbol.iterator](),W;!(H=(W=Z.next()).done)&&(O.push(W.value),!(M&&O.length===M));H=!0);}catch(Y){X=!0,G=Y}finally{try{!H&&Z.return&&Z.return()}finally{if(X)throw G}}return O}return function(D,M){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return P(D,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(D,M){for(var O=0;O<M.length;O++){var H=M[O];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,H.key,H)}}return function(D,M,O){return M&&P(D.prototype,M),O&&P(D,O),D}})(),o=i(2),l=b(o),c=i(0),u=b(c),f=i(5),h=b(f),p=i(10),v=b(p),g=i(9),y=b(g);function b(P){return P&&P.__esModule?P:{default:P}}function x(P,D,M){return D in P?Object.defineProperty(P,D,{value:M,enumerable:!0,configurable:!0,writable:!0}):P[D]=M,P}function w(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function C(P,D){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:P}function S(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(P,D):P.__proto__=D)}var F=(0,v.default)("quill:toolbar"),A=(function(P){S(D,P);function D(M,O){w(this,D);var H=C(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M,O));if(Array.isArray(H.options.container)){var X=document.createElement("div");N(X,H.options.container),M.container.parentNode.insertBefore(X,M.container),H.container=X}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var G;return G=F.error("Container required for toolbar",H.options),C(H,G)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(Z){H.addHandler(Z,H.options.handlers[Z])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(Z){H.attach(Z)}),H.quill.on(h.default.events.EDITOR_CHANGE,function(Z,W){Z===h.default.events.SELECTION_CHANGE&&H.update(W)}),H.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var Z=H.quill.selection.getRange(),W=s(Z,1),Y=W[0];H.update(Y)}),H}return a(D,[{key:"addHandler",value:function(O,H){this.handlers[O]=H}},{key:"attach",value:function(O){var H=this,X=[].find.call(O.classList,function(Z){return Z.indexOf("ql-")===0});if(X){if(X=X.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){F.warn("ignoring attaching to disabled format",X,O);return}if(u.default.query(X)==null){F.warn("ignoring attaching to nonexistent format",X,O);return}}var G=O.tagName==="SELECT"?"change":"click";O.addEventListener(G,function(Z){var W=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var Y=O.options[O.selectedIndex];Y.hasAttribute("selected")?W=!1:W=Y.value||!1}else O.classList.contains("ql-active")?W=!1:W=O.value||!O.hasAttribute("value"),Z.preventDefault();H.quill.focus();var B=H.quill.selection.getRange(),j=s(B,1),q=j[0];if(H.handlers[X]!=null)H.handlers[X].call(H,W);else if(u.default.query(X).prototype instanceof u.default.Embed){if(W=prompt("Enter "+X),!W)return;H.quill.updateContents(new l.default().retain(q.index).delete(q.length).insert(x({},X,W)),h.default.sources.USER)}else H.quill.format(X,W,h.default.sources.USER);H.update(q)}),this.controls.push([X,O])}}},{key:"update",value:function(O){var H=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(X){var G=s(X,2),Z=G[0],W=G[1];if(W.tagName==="SELECT"){var Y=void 0;if(O==null)Y=null;else if(H[Z]==null)Y=W.querySelector("option[selected]");else if(!Array.isArray(H[Z])){var B=H[Z];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),Y=W.querySelector('option[value="'+B+'"]')}Y==null?(W.value="",W.selectedIndex=-1):Y.selected=!0}else if(O==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var j=H[Z]===W.getAttribute("value")||H[Z]!=null&&H[Z].toString()===W.getAttribute("value")||H[Z]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",j)}else W.classList.toggle("ql-active",H[Z]!=null)})}}]),D})(y.default);A.DEFAULTS={};function I(P,D,M){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+D),M!=null&&(O.value=M),P.appendChild(O)}function N(P,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(M){var O=document.createElement("span");O.classList.add("ql-formats"),M.forEach(function(H){if(typeof H=="string")I(O,H);else{var X=Object.keys(H)[0],G=H[X];Array.isArray(G)?R(O,X,G):I(O,X,G)}}),P.appendChild(O)})}function R(P,D,M){var O=document.createElement("select");O.classList.add("ql-"+D),M.forEach(function(H){var X=document.createElement("option");H!==!1?X.setAttribute("value",H):X.setAttribute("selected","selected"),O.appendChild(X)}),P.appendChild(O)}A.DEFAULTS={container:null,handlers:{clean:function(){var D=this,M=this.quill.getSelection();if(M!=null)if(M.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(H){u.default.query(H,u.default.Scope.INLINE)!=null&&D.quill.format(H,!1)})}else this.quill.removeFormat(M,h.default.sources.USER)},direction:function(D){var M=this.quill.getFormat().align;D==="rtl"&&M==null?this.quill.format("align","right",h.default.sources.USER):!D&&M==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",D,h.default.sources.USER)},indent:function(D){var M=this.quill.getSelection(),O=this.quill.getFormat(M),H=parseInt(O.indent||0);if(D==="+1"||D==="-1"){var X=D==="+1"?1:-1;O.direction==="rtl"&&(X*=-1),this.quill.format("indent",H+X,h.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,h.default.sources.USER)},list:function(D){var M=this.quill.getSelection(),O=this.quill.getFormat(M);D==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",D,h.default.sources.USER)}}},r.default=A,r.addControls=N}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(b){var x=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x);var w=this.label.querySelector(".ql-color-label"),C=b&&b.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=b[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(b,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,b=u.bottom-u.top+y;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function R(P,D){var M=[],O=!0,H=!1,X=void 0;try{for(var G=P[Symbol.iterator](),Z;!(O=(Z=G.next()).done)&&(M.push(Z.value),!(D&&M.length===D));O=!0);}catch(W){H=!0,X=W}finally{try{!O&&G.return&&G.return()}finally{if(H)throw X}}return M}return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return R(P,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function R(P,D,M){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,D);if(O===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:R(H,D,M)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(M)}},o=(function(){function R(P,D){for(var M=0;M<D.length;M++){var O=D[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,D,M){return D&&R(P.prototype,D),M&&R(P,M),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),b=i(41),x=w(b);function w(R){return R&&R.__esModule?R:{default:R}}function C(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function S(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function F(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=(function(R){F(P,R);function P(D,M){C(this,P),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=A);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,D,M));return O.quill.container.classList.add("ql-snow"),O}return o(P,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),x.default),this.tooltip=new N(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,H){M.handlers.link.call(M,!H.format.link)})}}]),P})(p.default);I.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var D=this.quill.getSelection();if(D==null||D.length==0)return;var M=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M);var O=this.quill.theme.tooltip;O.edit("link",M)}else this.quill.format("link",!1)}}}}});var N=(function(R){F(P,R);function P(D,M){C(this,P);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,D,M));return O.preview=O.root.querySelector("a.ql-preview"),O}return o(P,[{key:"listen",value:function(){var M=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(M.linkRange!=null){var H=M.linkRange;M.restoreFocus(),M.quill.formatText(H,"link",!1,f.default.sources.USER),delete M.linkRange}O.preventDefault(),M.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(O,H,X){if(O!=null){if(O.length===0&&X===f.default.sources.USER){var G=M.quill.scroll.descendant(g.default,O.index),Z=s(G,2),W=Z[0],Y=Z[1];if(W!=null){M.linkRange=new y.Range(O.index-Y,W.length());var B=g.default.formats(W.domNode);M.preview.textContent=B,M.preview.setAttribute("href",B),M.show(),M.position(M.quill.getBounds(M.linkRange));return}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=he(s),o=i(36),l=i(38),c=i(64),u=i(65),f=he(u),h=i(66),p=he(h),v=i(67),g=he(v),y=i(37),b=i(26),x=i(39),w=i(40),C=i(56),S=he(C),F=i(68),A=he(F),I=i(27),N=he(I),R=i(69),P=he(R),D=i(70),M=he(D),O=i(71),H=he(O),X=i(72),G=he(X),Z=i(73),W=he(Z),Y=i(13),B=he(Y),j=i(74),q=he(j),J=i(75),Q=he(J),te=i(57),ae=he(te),ce=i(41),ue=he(ce),Se=i(28),Fe=he(Se),fe=i(59),Le=he(fe),z=i(60),me=he(z),be=i(61),le=he(be),re=i(108),oe=he(re),Ie=i(62),ke=he(Ie);function he(ye){return ye&&ye.__esModule?ye:{default:ye}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":Y.Code,"formats/italic":A.default,"formats/link":N.default,"formats/script":P.default,"formats/strike":M.default,"formats/underline":H.default,"formats/image":G.default,"formats/video":W.default,"formats/list/item":v.ListItem,"modules/formula":q.default,"modules/syntax":Q.default,"modules/toolbar":ae.default,"themes/bubble":oe.default,"themes/snow":ke.default,"ui/icons":ue.default,"ui/picker":Fe.default,"ui/icon-picker":me.default,"ui/color-picker":Le.default,"ui/tooltip":le.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}})(),a=function g(y,b,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,b,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var C=this.value(x)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(x),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,x))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function C(S,F){for(var A=0;A<F.length;A++){var I=F[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,F,A){return F&&C(S.prototype,F),A&&C(S,A),S}})(),a=function C(S,F,A){S===null&&(S=Function.prototype);var I=Object.getOwnPropertyDescriptor(S,F);if(I===void 0){var N=Object.getPrototypeOf(S);return N===null?void 0:C(N,F,A)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(A)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,S,F){return S in C?Object.defineProperty(C,S,{value:F,enumerable:!0,configurable:!0,writable:!0}):C[S]=F,C}function g(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function y(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function b(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var x=(function(C){b(S,C);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(A,I){A===w.blotName&&!I?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,A,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,I){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,I),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,A,I))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,A)}}]),S})(u.default);x.blotName="list-item",x.tagName="LI";var w=(function(C){b(S,C),s(S,null,[{key:"create",value:function(A){var I=A==="ordered"?"OL":"UL",N=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,I);return(A==="checked"||A==="unchecked")&&N.setAttribute("data-checked",A==="checked"),N}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(F){g(this,S);var A=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,F)),I=function(R){if(R.target.parentNode===F){var P=A.statics.formats(F),D=l.default.find(R.target);P==="checked"?D.format("list","unchecked"):P==="unchecked"&&D.format("list","checked")}};return F.addEventListener("touchstart",I),F.addEventListener("mousedown",I),A}return s(S,[{key:"format",value:function(A,I){this.children.length>0&&this.children.tail.format(A,I)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,I){if(A instanceof x)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,A,I);else{var N=I==null?this.length():I.offset(this),R=this.split(N);R.parent.insertBefore(A,R)}}},{key:"optimize",value:function(A){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,A);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var I=l.default.create(this.statics.defaultChild);A.moveChildren(I),this.appendChild(I)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,A)}}]),S})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],r.ListItem=x,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["alt","height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(C,S){for(var F=0;F<S.length;F++){var A=S[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,S,F){return S&&w(C.prototype,S),F&&w(C,F),C}})(),a=function w(C,S,F){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,S);if(A===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:w(I,S,F)}else{if("value"in A)return A.value;var N=A.get;return N===void 0?void 0:N.call(F)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var b=(function(w){y(C,w);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,null,[{key:"create",value:function(F){var A=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",F)),A}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),C})(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=(function(w){y(C,w),s(C,null,[{key:"register",value:function(){u.default.register(b,!0)}}]);function C(){v(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return C})(h.default);r.FormulaBlot=b,r.default=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function F(A,I){for(var N=0;N<I.length;N++){var R=I[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,I,N){return I&&F(A.prototype,I),N&&F(A,N),A}})(),a=function F(A,I,N){A===null&&(A=Function.prototype);var R=Object.getOwnPropertyDescriptor(A,I);if(R===void 0){var P=Object.getPrototypeOf(A);return P===null?void 0:F(P,I,N)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(N)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(F){return F&&F.__esModule?F:{default:F}}function y(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}function b(F,A){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:F}function x(F,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);F.prototype=Object.create(A&&A.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(F,A):F.__proto__=A)}var w=(function(F){x(A,F);function A(){return y(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),A})(v.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=(function(F){x(A,F),s(A,null,[{key:"register",value:function(){u.default.register(C,!0),u.default.register(w,!0)}}]);function A(I,N){y(this,A);var R=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,N));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return R.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){R.highlight(),P=null},R.options.interval)}),R.highlight(),R}return s(A,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(N.options.highlight)}),this.quill.update(u.default.sources.SILENT),R!=null&&this.quill.setSelection(R,u.default.sources.SILENT)}}}]),A})(h.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(F){var A=window.hljs.highlightAuto(F);return A.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=S}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function A(I,N,R){I===null&&(I=Function.prototype);var P=Object.getOwnPropertyDescriptor(I,N);if(P===void 0){var D=Object.getPrototypeOf(I);return D===null?void 0:A(D,N,R)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(R)}},a=(function(){function A(I,N){for(var R=0;R<N.length;R++){var P=N[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}return function(I,N,R){return N&&A(I.prototype,N),R&&A(I,R),I}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(A){return A&&A.__esModule?A:{default:A}}function b(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function x(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:A}function w(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);A.prototype=Object.create(I&&I.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(A,I):A.__proto__=I)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(A){w(I,A);function I(N,R){b(this,I),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=C);var P=x(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,R));return P.quill.container.classList.add("ql-bubble"),P}return a(I,[{key:"extendToolbar",value:function(R){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),g.default)}}]),I})(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=(function(A){w(I,A);function I(N,R){b(this,I);var P=x(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,R));return P.quill.on(u.default.events.EDITOR_CHANGE,function(D,M,O,H){if(D===u.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&H===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var X=P.quill.getLines(M.index,M.length);if(X.length===1)P.position(P.quill.getBounds(M));else{var G=X[X.length-1],Z=P.quill.getIndex(G),W=Math.min(G.length()-1,M.index+M.length-Z),Y=P.quill.getBounds(new p.Range(Z,W));P.position(Y)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(I,[{key:"listen",value:function(){var R=this;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var P=R.quill.getSelection();P!=null&&R.position(R.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var P=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,R),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",P===0)return P;D.style.marginLeft=-1*P-D.offsetWidth/2+"px"}}]),I})(f.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=F,r.default=S}),(function(n,r,i){n.exports=i(63)})]).default})})(I2)),I2.exports}var Ao,RM;function U1e(){if(RM)return Ao;RM=1;var t=Ao&&Ao.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=Ao&&Ao.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=Ao&&Ao.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,b=g.length;y<b;y++,v++)p[v]=g[y];return p},r=Ao&&Ao.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(x_()),s=r(VB()),a=r(F1e()),o=r(O1e()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,b,x){var w,C,S,F;g==="text-change"?(C=(w=p).onEditorChangeText)===null||C===void 0||C.call(w,p.editor.root.innerHTML,y,x,p.unprivilegedEditor):g==="selection-change"&&((F=(S=p).onEditorChangeSelection)===null||F===void 0||F.call(S,y,x,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),b=(g=h.value,g??"");this.isEqualValue(b,y)||this.setEditorContents(this.editor,b)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!a.default(h[x],v.props[x])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,g=b.delta,x=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,b={key:y,ref:function(x){h.editingArea=x}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),b):g?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,b;if(this.editor){var x=this.isDelta(this.value)?g.getContents():g.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=x,(b=(y=this.props).onChange)===null||b===void 0||b.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,b,x,w,C;if(this.editor){var S=this.getEditorSelection(),F=!S&&h,A=S&&!h;a.default(h,S)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),F?(x=(b=this.props).onFocus)===null||x===void 0||x.call(b,h,p,v):A&&((C=(w=this.props).onBlur)===null||C===void 0||C.call(w,S,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return Ao=l,Ao}var L1e=U1e();const vr=v_(L1e);if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const j1e=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),B1e=()=>{const{pages:t,refetchAdminData:e}=Yt(),[n,r]=V.useState({isOpen:!1,mode:"create",page:null}),[i,s]=V.useState({title:"",content:"",targetCountry:"global"}),[a,o]=V.useState(!1),l=()=>{s({title:"",content:"",targetCountry:"global"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,targetCountry:g.targetCountry||g.lang||"global"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(b=>({...b,content:""}));const y=await hc({model:"gemini-2.5-flash",contents:g});s(b=>({...b,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=j1e(i.title);let b="ar";i.targetCountry!=="global"&&(Kn.en.find(w=>w.code===i.targetCountry),["us","gb","ca"].includes(i.targetCountry)?b="en":["fr"].includes(i.targetCountry)?b="fr":["jp"].includes(i.targetCountry)&&(b="ja"));const x={...i,slug:y,lang:b};n.mode==="create"?await lf.create({...x,enabled:!1}):n.page&&await lf.update(n.page.id,{...x,slug:y}),await e(),u()},p=async g=>{const y=t.find(b=>b.id===g);y&&(await lf.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await lf.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:g.targetCountry==="global"?" (Global)":((y=Kn.en.find(b=>b.code===g.targetCountry))==null?void 0:y.name)||g.targetCountry||""}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(sn,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"targetCountry",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"targetCountry",value:i.targetCountry,onChange:g=>s(y=>({...y,targetCountry:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"global",children:" (Global)"}),Kn.en.map(g=>d.jsxs("option",{value:g.code,children:[g.flag," ",g.name]},g.code))]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:['"":       (dist/page/...).',d.jsx("br",{})," :        (: dist/jp/page/...)."]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(vr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},ls=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},V1e=()=>{const{countryCode:t}=ua(),{siteSettings:e}=Yt(),{language:n,t:r}=si(),i=window.staticPageData||null,[s,a]=V.useState([]);return V.useEffect(()=>{(async()=>{if(!(!t||!i))try{const l=await fetch(`https://datas.gitut.com/data/json/${t}-pages-public.json`);if(!l.ok)return;const u=(await l.json()).filter(f=>f.enabled&&f.id!==i.id&&(f.lang===n||!f.lang&&n==="ar"));a(u)}catch(l){console.error("Error fetching related pages list:",l)}})()},[t,n,i]),V.useEffect(()=>{var o,l;if(i&&e){const c=((o=e.seo)==null?void 0:o[t||"dz"])||((l=e.seo)==null?void 0:l.default);if(c){const u=`${i.title} ${c.titleSeparator} ${c.siteName}`,f=i.content.replace(/<[^>]*>/g,"").substring(0,160)+(i.content.length>160?"...":""),h="https://datas.gitut.com/data/image/gitut-og-main.png",p=n==="ar"?"ar_AR":n==="fr"?"fr_FR":"en_US";document.title=u,ls("description",f,!1),ls("og:title",u),ls("og:description",f),ls("og:image",h),ls("og:image:secure_url",h),ls("og:image:width","1200"),ls("og:image:height","630"),ls("og:url",window.location.href),ls("og:type","article"),ls("og:site_name",c.siteName),ls("og:locale",p),ls("twitter:card","summary_large_image",!1),ls("twitter:url",window.location.href,!1),ls("twitter:title",u,!1),ls("twitter:description",f,!1),ls("twitter:image",h,!1)}}},[i,e,t,n]),i?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:i.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:i.content}})]}),s.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:r("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:s.map(o=>d.jsx(sn,{to:`/${t}/page/${o.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:o.title})},o.id))})]})})]}),d.jsx(lG,{url:window.location.href,title:i.title,description:i.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(sn,{to:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},FM={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},W1e=()=>{const{ads:t}=Yt(),[e,n]=V.useState(t),[r,i]=V.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=V.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),[o,l]=V.useState(!1);V.useEffect(()=>{n(t)},[t]);const c=async()=>{l(!0);try{const y=await Al("settings","global"),b=JSON.stringify(y);await Ms({files:[{path:"data/json/site-settings-public.json",content:b}],commitMessage:"feat: Auto-update ads in settings",repoConfig:{owner:"gitut-cms",repo:"files"}}),console.log("Ads successfully published to GitHub.")}catch(y){console.error("Failed to auto-publish ads to GitHub:",y),alert("            GitHub.")}finally{l(!1)}},u=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},f=y=>{a({...y}),i({isOpen:!0,mode:"edit",ad:y})},h=()=>{i({isOpen:!1,mode:"create",ad:null})},p=async y=>{y.preventDefault();try{r.mode==="create"?await Sp.create(s):r.ad&&await Sp.update(r.ad.id,s),h(),await c(),alert("   !")}catch(b){console.error("Failed to save ad:",b),alert("  .")}},v=async y=>{try{const b=e.find(x=>x.id===y);b&&(await Sp.toggleStatus(y,b.enabled),n(x=>x.map(w=>w.id===y?{...w,enabled:!w.enabled}:w)),await c())}catch(b){console.error("Failed to toggle status:",b),alert("  .")}},g=async y=>{if(window.confirm("        "))try{await Sp.delete(y),n(b=>b.filter(x=>x.id!==y)),await c()}catch(b){console.error("Failed to delete ad:",b),alert("  .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o&&d.jsxs("span",{className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[d.jsx(bt,{className:"animate-spin"}),"  ..."]})]}),d.jsx("button",{onClick:u,disabled:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:y.title}),d.jsx("td",{className:"p-3 text-gray-600",children:FM[y.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>v(y.id),disabled:o,className:`px-3 py-1 text-xs font-semibold rounded-full disabled:opacity-50 ${y.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:y.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>f(y),disabled:o,className:"text-green-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>g(y.id),disabled:o,className:"text-red-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""})]})]},y.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:p,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:y=>a(b=>({...b,title:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:y=>a(b=>({...b,content:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:y=>a(b=>({...b,imageUrl:y.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:y=>a(b=>({...b,link:y.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:y=>a(b=>({...b,placement:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(FM).map(([y,b])=>d.jsx("option",{value:y,children:b},y))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:h,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let q1e,$1e;function z1e(){return{geminiUrl:q1e,vertexUrl:$1e}}function H1e(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=z1e();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ch{}function Ft(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),n[c])}else for(const c of l)E(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function K1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&E(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&E(e,["config"],i),e}function J1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function X1e(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],DI(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function Y1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],X1e(n)),e}function Q1e(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Y1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Z1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],Q1e(a)),e}function exe(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],DI(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function txe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],exe(n)),e}function nxe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>txe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function rxe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],nxe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var MM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(MM||(MM={}));var OM;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(OM||(OM={}));var Tu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Tu||(Tu={}));var UM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(UM||(UM={}));var LM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(LM||(LM={}));var jM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(jM||(jM={}));var BM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(BM||(BM={}));var VM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(VM||(VM={}));var WM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(WM||(WM={}));var qM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qM||(qM={}));var $M;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})($M||($M={}));var zM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zM||(zM={}));var HM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HM||(HM={}));var GM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(GM||(GM={}));var KM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(KM||(KM={}));var Yb;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Yb||(Yb={}));var JM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(JM||(JM={}));var aN;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(aN||(aN={}));var XM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(XM||(XM={}));var YM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(YM||(YM={}));var QM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(QM||(QM={}));var ZM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ZM||(ZM={}));var eO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(eO||(eO={}));var tO;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tO||(tO={}));var nO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(nO||(nO={}));var rO;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(rO||(rO={}));var iO;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(iO||(iO={}));var sO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(sO||(sO={}));var aO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(aO||(aO={}));var oO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oO||(oO={}));var lO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lO||(lO={}));var cO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cO||(cO={}));var uO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(uO||(uO={}));var dO;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(dO||(dO={}));var fO;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fO||(fO={}));var hO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hO||(hO={}));var pO;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pO||(pO={}));var mO;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mO||(mO={}));var gO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gO||(gO={}));var yO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yO||(yO={}));var vO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vO||(vO={}));var xO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xO||(xO={}));var bO;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bO||(bO={}));var _O;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_O||(_O={}));var wO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wO||(wO={}));var Dp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Dp||(Dp={}));class oN{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class i0{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class TO{}class EO{}class ixe{}class sxe{}class axe{}class oxe{}class CO{}class SO{}class DO{}class lxe{}class Qb{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Qb;let i;const s=e;return n?i=rxe(s):i=Z1e(s),Object.assign(r,i),r}}class AO{}class NO{}class kO{}class cxe{}class uxe{}class dxe{}class IO{}class fxe{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class hxe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qG(t,e){const n=Mn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $G(t){return Array.isArray(t)?t.map(e=>Zb(e)):[Zb(t)]}function Zb(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zG(t){const e=Zb(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function HG(t){const e=Zb(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function GG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>PO(e)):[PO(t)]}function lN(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function RO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function FO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vs(t){if(t==null)throw new Error("ContentUnion is required");return lN(t)?t:{role:"user",parts:GG(t)}}function AI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vs(n)):[vs(e)]}function ro(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(RO(t)||FO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vs(t)]}const e=[],n=[],r=lN(t[0]);for(const i of t){const s=lN(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(RO(i)||FO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:GG(n)}),e}function pxe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Tu).includes(n[0].toUpperCase())?n[0].toUpperCase():Tu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Tu).includes(r.toUpperCase())?r.toUpperCase():Tu.TYPE_UNSPECIFIED})}}function Up(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&pxe(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Tu).includes(o.toUpperCase())?o.toUpperCase():Tu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Up(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(Up(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=Up(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function NI(t){return Up(t)}function kI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function II(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Zm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Up(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Up(e.response));return t}function eg(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function mxe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Oc(t,e){if(typeof e!="string")throw new Error("name must be a string");return mxe(t,e,"cachedContents")}function KG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function uh(t){return DI(t)}function gxe(t){return t!=null&&typeof t=="object"&&"name"in t}function yxe(t){return t!=null&&typeof t=="object"&&"video"in t}function vxe(t){return t!=null&&typeof t=="object"&&"uri"in t}function JG(t){var e;let n;if(gxe(t)&&(n=t.name),!(vxe(t)&&(n=t.uri,n===void 0))&&!(yxe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function XG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function YG(t){for(const e of["models","tunedModels","publisherModels"])if(xxe(t,e))return t[e];return[]}function xxe(t,e){return t!==null&&typeof t=="object"&&e in t}function bxe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _xe(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=bxe(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function QG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function wxe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ZG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function tg(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function eK(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Txe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Exe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Cxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Sxe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Dxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Txe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Exe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Cxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Sxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function tK(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Dxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Axe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const F=T(t,["title"]);F!=null&&E(e,["title"],F);const A=T(t,["type"]);return A!=null&&E(e,["type"],A),e}function Nxe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function kxe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Ixe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Pxe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Ixe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Rxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function Fxe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Rxe(n)),e}function Mxe(){return{}}function Oxe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Uxe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>kxe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],Pxe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],Fxe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],Mxe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Oxe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Lxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function jxe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Bxe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],jxe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Vxe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Lxe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Bxe(r)),e}function Wxe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function nK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],Wxe(n)),e}function qxe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],nK(r)),e}function $xe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qxe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function zxe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],nK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],$xe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Hxe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function Gxe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],tK(vs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],Axe(NI(b)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(D=>Nxe(D))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=eg(C);Array.isArray(P)&&(P=P.map(D=>Uxe(Zm(D)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],Vxe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=T(e,["cachedContent"]);n!==void 0&&F!=null&&E(n,["cachedContent"],Oc(t,F));const A=T(e,["responseModalities"]);A!=null&&E(r,["responseModalities"],A);const I=T(e,["mediaResolution"]);I!=null&&E(r,["mediaResolution"],I);const N=T(e,["speechConfig"]);if(N!=null&&E(r,["speechConfig"],zxe(kI(N))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=T(e,["thinkingConfig"]);return R!=null&&E(r,["thinkingConfig"],Hxe(R)),r}function Kxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["request","model"],Mn(t,r));const i=T(e,["contents"]);if(i!=null){let a=ro(i);Array.isArray(a)&&(a=a.map(o=>tK(o))),E(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["request","generationConfig"],Gxe(t,s,n)),n}function Jxe(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Kxe(t,a))),E(n,["requests","requests"],s)}return n}function Xxe(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function h4(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],Jxe(t,QG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],Xxe(s,n)),n}function Yxe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qxe(t,e){const n={},r=T(e,["contents"]);r!=null&&E(n,["requests[]","request","content"],AI(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Yxe(i,n)),n}function Zxe(t,e){const n={},r=T(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],Qxe(t,i)),n}function e2e(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function p4(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],Zxe(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],e2e(s,n)),n}function t2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],tg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function n2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],tg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function r2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function i2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],r2e(n,e)),e}function s2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],tg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function a2e(t){const e={},n=T(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o2e(t){const e={},n=T(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function l2e(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],o2e(wxe(i))),n}function c2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],Mn(t,r));const i=T(e,["src"]);i!=null&&E(n,["inputConfig"],a2e(QG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],l2e(s,n)),n}function u2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],tg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function d2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],tg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function f2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function h2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],f2e(n,e)),e}function p2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],tg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function m2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function g2e(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function y2e(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function v2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function x2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],m2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],g2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],y2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],v2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function b2e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>x2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function _2e(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function w2e(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function T2e(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>w2e(i))),E(e,["urlMetadata"],r)}return e}function E2e(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],b2e(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],_2e(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],T2e(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function C2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>E2e(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function PI(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function S2e(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],C2e(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],PI(r)),e}function D2e(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function A2e(t){const e={},n=T(t,["embedding"]);n!=null&&E(e,["embedding"],D2e(n));const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function N2e(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],A2e(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],PI(r)),e}function k2e(t){const e={},n=T(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>S2e(a))),E(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>N2e(a))),E(e,["inlinedEmbedContentResponses"],s)}return e}function _p(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&E(e,["state"],eK(i));const s=T(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&E(e,["dest"],k2e(ZG(c))),e}function I2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>_p(a))),E(e,["batchJobs"],s)}return e}function P2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],PI(s)),e}function rK(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function R2e(t){const e={},n=T(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function F2e(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function cN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],eK(i));const s=T(t,["error"]);s!=null&&E(e,["error"],rK(s));const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&E(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&E(e,["src"],R2e(f));const h=T(t,["outputConfig"]);return h!=null&&E(e,["dest"],F2e(ZG(h))),e}function M2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>cN(a))),E(e,["batchJobs"],s)}return e}function O2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],rK(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Wf||(Wf={}));class Yv{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U2e extends ch{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=h4(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>_p(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=p4(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>_p(h))},this.list=async(n={})=>new Yv(Wf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=h4(this.apiClient,e),r=n._url,i=Ft("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=p4(this.apiClient,e),r=n._url,i=Ft("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=c2e(this.apiClient,e);return o=Ft("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>cN(u))}else{const c=h4(this.apiClient,e);return o=Ft("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>_p(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=p4(this.apiClient,e);return s=Ft("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>_p(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=u2e(this.apiClient,e);return o=Ft("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>cN(u))}else{const c=t2e(this.apiClient,e);return o=Ft("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>_p(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=d2e(this.apiClient,e);a=Ft("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=n2e(this.apiClient,e);a=Ft("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=h2e(e);return o=Ft("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=M2e(u),h=new IO;return Object.assign(h,f),h})}else{const c=i2e(e);return o=Ft("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=I2e(u),h=new IO;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=p2e(this.apiClient,e);return o=Ft("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>O2e(u))}else{const c=s2e(this.apiClient,e);return o=Ft("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>P2e(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function j2e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function B2e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function V2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function W2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],L2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],j2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],B2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],V2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function MO(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>W2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function q2e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function $2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function z2e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],$2e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function H2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function G2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],H2e(n)),e}function K2e(){return{}}function J2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function X2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>q2e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],z2e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],G2e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],K2e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],J2e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Y2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Q2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Z2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Q2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function ebe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Y2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Z2e(r)),e}function tbe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=ro(a);Array.isArray(u)&&(u=u.map(f=>MO(f))),E(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],MO(vs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>X2e(f))),E(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],ebe(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function nbe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],qG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],tbe(i,n)),n}function rbe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Oc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function ibe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Oc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function sbe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function abe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Oc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],sbe(i,n)),n}function obe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function lbe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],obe(n,e)),e}function cbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function ube(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function dbe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function fbe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function hbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],cbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],ube(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],dbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],fbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function OO(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function pbe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function mbe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function gbe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],mbe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function ybe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function vbe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],ybe(n)),e}function xbe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function bbe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function _be(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],bbe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function wbe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],_be(n)),e}function Tbe(){return{}}function Ebe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Cbe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>pbe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],gbe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],vbe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],xbe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],wbe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],Tbe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],Ebe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function Sbe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Dbe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Abe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Dbe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Nbe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Sbe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Abe(r)),e}function kbe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=ro(a);Array.isArray(f)&&(f=f.map(h=>OO(h))),E(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],OO(vs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Cbe(h))),E(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],Nbe(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),n}function Ibe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],qG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],kbe(i,n)),n}function Pbe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Oc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Rbe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Oc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Fbe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function Mbe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Oc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Fbe(i,n)),n}function Obe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function Ube(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Obe(n,e)),e}function P2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function Lbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function jbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>P2(a))),E(e,["cachedContents"],s)}return e}function R2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function Bbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function Vbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>R2(a))),E(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wbe extends ch{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Yv(Wf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Ibe(this.apiClient,e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>R2(u))}else{const c=nbe(this.apiClient,e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>P2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Pbe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>R2(u))}else{const c=rbe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>P2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Rbe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Bbe(u),h=new NO;return Object.assign(h,f),h})}else{const c=ibe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Lbe(u),h=new NO;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Mbe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>R2(u))}else{const c=abe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>P2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Ube(e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Vbe(u),h=new kO;return Object.assign(h,f),h})}else{const c=lbe(e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=jbe(u),h=new kO;return Object.assign(h,f),h})}}}function UO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(t){return this instanceof pr?(this.v=t,this):new pr(t)}function Lp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,b){s.push([p,g,y,b])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof pr?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ey(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UO=="function"?UO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qbe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:iK(n)}function iK(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $be(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function LO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!iK(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class zbe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Hbe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Hbe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),$be(s)}async sendMessage(e){var n;await this.sendPromise;const r=vs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?LO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Lp(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=ey(e),p;p=yield pr(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(qbe(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield pr(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield pr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...LO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gbe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function Kbe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Gbe(n,e)),e}function Jbe(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function Xbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],Jbe(g)),e}function Ybe(t){const e={},n=T(t,["file"]);n!=null&&E(e,["file"],Xbe(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function Qbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],JG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function Zbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],JG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function e_e(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function uN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],e_e(g)),e}function t_e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>uN(a))),E(e,["files"],s)}return e}function n_e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function r_e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i_e extends ch{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Yv(Wf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>uN(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Kbe(e);return s=Ft("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=t_e(l),u=new cxe;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ybe(e);return s=Ft("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=n_e(l),u=new uxe;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qbe(e);return s=Ft("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>uN(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Zbe(e);return s=Ft("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=r_e(l),u=new dxe;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function sK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],s_e(n)),e}function a_e(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],sK(r)),e}function o_e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>a_e(i))),E(e,["speakerVoiceConfigs"],r)}return e}function l_e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],sK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],o_e(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function c_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function u_e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function d_e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function f_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function h_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],c_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],u_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],d_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],f_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function p_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>h_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function m_e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function g_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function y_e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],g_e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function v_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function x_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],v_e(n)),e}function b_e(){return{}}function __e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function w_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>m_e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],y_e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],x_e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],b_e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],__e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function T_e(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jO(){return{}}function E_e(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function C_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],E_e(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function S_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function D_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],S_e(r)),e}function A_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function N_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],l_e(II(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],p_e(vs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=eg(v);Array.isArray(S)&&(S=S.map(F=>w_e(Zm(F)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],T_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],jO());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],jO());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],C_e(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],D_e(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],A_e(C)),n}function k_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],N_e(i,n)),n}function I_e(){return{}}function P_e(){return{}}function R_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],$G(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],HG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],zG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],I_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],P_e()),e}function aK(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function F_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aK(i))),E(e,["weightedPrompts"],r)}return e}function oK(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function M_e(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],oK(n)),e}function lK(t){const e={},n=T(t,["model"]);return n!=null&&E(e,["model"],n),e}function cK(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aK(i))),E(e,["weightedPrompts"],r)}return e}function dN(t){const e={},n=T(t,["setup"]);n!=null&&E(e,["setup"],lK(n));const r=T(t,["clientContent"]);r!=null&&E(e,["clientContent"],cK(r));const i=T(t,["musicGenerationConfig"]);i!=null&&E(e,["musicGenerationConfig"],oK(i));const s=T(t,["playbackControl"]);return s!=null&&E(e,["playbackControl"],s),e}function O_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function U_e(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],O_e(n)),e}function L_e(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],U_e(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function j_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function B_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function V_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function W_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function q_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],j_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],B_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],V_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],W_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function $_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>q_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function z_e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function H_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function G_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],H_e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function K_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function J_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],K_e(n)),e}function X_e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function Y_e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function Q_e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],Y_e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function Z_e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],Q_e(n)),e}function ewe(){return{}}function twe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function nwe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>z_e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],G_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],J_e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],X_e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],Z_e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],ewe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],twe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function rwe(t){const e={},n=T(t,["handle"]);n!=null&&E(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&E(e,["transparent"],r),e}function BO(){return{}}function iwe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function swe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],iwe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function awe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function owe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],awe(r)),e}function lwe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function cwe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],L_e(II(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],$_e(vs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=eg(v);Array.isArray(S)&&(S=S.map(F=>nwe(Zm(F)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],rwe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],BO());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],BO());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],swe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],owe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],lwe(C)),n}function uwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],cwe(i,n)),n}function dwe(){return{}}function fwe(){return{}}function hwe(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],$G(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],HG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],zG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],dwe()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],fwe()),e}function pwe(){return{}}function mwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function gwe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function ywe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function uK(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function vwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],mwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],gwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],ywe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],uK(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function xwe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function VO(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function bwe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function _we(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bwe(i))),E(e,["urlMetadata"],r)}return e}function wwe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],xwe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],VO(o));const l=T(t,["outputTranscription"]);l!=null&&E(e,["outputTranscription"],VO(l));const c=T(t,["urlContextMetadata"]);return c!=null&&E(e,["urlContextMetadata"],_we(c)),e}function Twe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uK(i))),E(e,["functionCalls"],r)}return e}function Ewe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Ox(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Cwe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["toolUsePromptTokensDetails"],h)}return e}function Swe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function Dwe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function Awe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],pwe());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],wwe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],Twe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],Ewe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],Cwe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],Swe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],Dwe(l)),e}function Nwe(){return{}}function kwe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function Iwe(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kwe(i))),E(e,["weightedPrompts"],r)}return e}function Pwe(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function Rwe(t){const e={},n=T(t,["clientContent"]);n!=null&&E(e,["clientContent"],Iwe(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],Pwe(r)),e}function Fwe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&E(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&E(e,["sourceMetadata"],Rwe(i)),e}function Mwe(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Fwe(i))),E(e,["audioChunks"],r)}return e}function Owe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&E(e,["filteredReason"],r),e}function Uwe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],Nwe());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],Mwe(r));const i=T(t,["filteredPrompt"]);return i!=null&&E(e,["filteredPrompt"],Owe(i)),e}function Lwe(t){const e={},n=T(t,["sessionId"]);return n!=null&&E(e,["sessionId"],n),e}function jwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Bwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Vwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function dK(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Wwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],jwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Bwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Vwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],dK(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function qwe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Wwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function WO(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function $we(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],qwe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],WO(o));const l=T(t,["outputTranscription"]);return l!=null&&E(e,["outputTranscription"],WO(l)),e}function zwe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dK(i))),E(e,["functionCalls"],r)}return e}function Hwe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Ux(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Gwe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Ux(v))),E(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}function Kwe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function Jwe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function Xwe(t){const e={},n=T(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],Lwe(n));const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],$we(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],zwe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],Hwe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],Gwe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],Kwe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],Jwe(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ywe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Qwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Zwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function eTe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function tTe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Ywe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Qwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Zwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],eTe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Vw(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>tTe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function nTe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const F=T(t,["title"]);F!=null&&E(e,["title"],F);const A=T(t,["type"]);return A!=null&&E(e,["type"],A),e}function rTe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function iTe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function sTe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function aTe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],sTe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function oTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function lTe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],oTe(n)),e}function cTe(){return{}}function uTe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function dTe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>iTe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],aTe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],lTe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],cTe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],uTe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function fTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function hTe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function pTe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],hTe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function mTe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],fTe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],pTe(r)),e}function gTe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function fK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],gTe(n)),e}function yTe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],fK(r)),e}function vTe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yTe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function xTe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],fK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],vTe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function bTe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function _Te(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Vw(vs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],nTe(NI(b)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(D=>rTe(D))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=eg(C);Array.isArray(P)&&(P=P.map(D=>dTe(Zm(D)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],mTe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=T(e,["cachedContent"]);n!==void 0&&F!=null&&E(n,["cachedContent"],Oc(t,F));const A=T(e,["responseModalities"]);A!=null&&E(r,["responseModalities"],A);const I=T(e,["mediaResolution"]);I!=null&&E(r,["mediaResolution"],I);const N=T(e,["speechConfig"]);if(N!=null&&E(r,["speechConfig"],xTe(kI(N))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=T(e,["thinkingConfig"]);return R!=null&&E(r,["thinkingConfig"],bTe(R)),r}function qO(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);if(i!=null){let a=ro(i);Array.isArray(a)&&(a=a.map(o=>Vw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],_Te(t,s,n)),n}function wTe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function TTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["requests[]","content"],AI(t,i));const s=T(e,["config"]);s!=null&&E(n,["config"],wTe(s,n));const a=T(e,["model"]);return a!==void 0&&E(n,["requests[]","model"],Mn(t,a)),n}function ETe(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&E(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function CTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],ETe(s,n)),n}function STe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function DTe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],XG(t,o)),r}function ATe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],DTe(t,r,n)),n}function NTe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function kTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],NTe(i,n)),n}function ITe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function PTe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function RTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);if(i!=null){let a=ro(i);Array.isArray(a)&&(a=a.map(o=>Vw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],PTe(s)),n}function hK(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],uh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function FTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&E(e,["instances[0]","image"],hK(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function MTe(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function OTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&E(n,["instances[0]","image"],hK(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&E(n,["config"],FTe(a,n));const o=T(e,["config"]);return o!=null&&E(n,["config"],MTe(o,n)),n}function UTe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function LTe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function jTe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function BTe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function VTe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],UTe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],LTe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],jTe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],BTe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function ng(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>VTe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function WTe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const F=T(t,["title"]);F!=null&&E(e,["title"],F);const A=T(t,["type"]);return A!=null&&E(e,["type"],A),e}function qTe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&E(e,["featureSelectionPreference"],n),e}function $Te(t){const e={},n=T(t,["method"]);n!=null&&E(e,["method"],n);const r=T(t,["category"]);r!=null&&E(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&E(e,["threshold"],i),e}function zTe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function HTe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function GTe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],HTe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function KTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function JTe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],KTe(n)),e}function XTe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function YTe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function QTe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],YTe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function ZTe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],QTe(n)),e}function eEe(){return{}}function tEe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function pK(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>zTe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],GTe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],JTe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],XTe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],ZTe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],eEe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],tEe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function nEe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function rEe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function iEe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],rEe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function sEe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],nEe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],iEe(r)),e}function aEe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function oEe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],aEe(n)),e}function lEe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],oEe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function cEe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function uEe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],ng(vs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],WTe(NI(b)));const x=T(e,["responseJsonSchema"]);x!=null&&E(r,["responseJsonSchema"],x);const w=T(e,["routingConfig"]);w!=null&&E(r,["routingConfig"],w);const C=T(e,["modelSelectionConfig"]);C!=null&&E(r,["modelConfig"],qTe(C));const S=T(e,["safetySettings"]);if(n!==void 0&&S!=null){let H=S;Array.isArray(H)&&(H=H.map(X=>$Te(X))),E(n,["safetySettings"],H)}const F=T(e,["tools"]);if(n!==void 0&&F!=null){let H=eg(F);Array.isArray(H)&&(H=H.map(X=>pK(Zm(X)))),E(n,["tools"],H)}const A=T(e,["toolConfig"]);n!==void 0&&A!=null&&E(n,["toolConfig"],sEe(A));const I=T(e,["labels"]);n!==void 0&&I!=null&&E(n,["labels"],I);const N=T(e,["cachedContent"]);n!==void 0&&N!=null&&E(n,["cachedContent"],Oc(t,N));const R=T(e,["responseModalities"]);R!=null&&E(r,["responseModalities"],R);const P=T(e,["mediaResolution"]);P!=null&&E(r,["mediaResolution"],P);const D=T(e,["speechConfig"]);D!=null&&E(r,["speechConfig"],lEe(kI(D)));const M=T(e,["audioTimestamp"]);M!=null&&E(r,["audioTimestamp"],M);const O=T(e,["thinkingConfig"]);return O!=null&&E(r,["thinkingConfig"],cEe(O)),r}function $O(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);if(i!=null){let a=ro(i);Array.isArray(a)&&(a=a.map(o=>ng(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],uEe(t,s,n)),n}function dEe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),n}function fEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["instances[]","content"],AI(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],dEe(s,n)),n}function hEe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const b=T(t,["imageSize"]);e!==void 0&&b!=null&&E(e,["parameters","sampleImageSize"],b);const x=T(t,["enhancePrompt"]);return e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x),n}function pEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],hEe(s,n)),n}function Go(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],uh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function mEe(t){const e={},n=T(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function gEe(t){const e={},n=T(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function yEe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&E(e,["styleDescription"],n),e}function vEe(t){const e={},n=T(t,["subjectType"]);n!=null&&E(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&E(e,["subjectDescription"],r),e}function xEe(t){const e={},n=T(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],Go(n));const r=T(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],mEe(s));const a=T(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],gEe(a));const o=T(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],yEe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],vEe(l)),e}function bEe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const b=T(t,["editMode"]);e!==void 0&&b!=null&&E(e,["parameters","editMode"],b);const x=T(t,["baseSteps"]);return e!==void 0&&x!=null&&E(e,["parameters","editConfig","baseSteps"],x),n}function _Ee(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>xEe(l))),E(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&E(n,["config"],bEe(a,n)),n}function wEe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&E(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&E(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&E(e,["parameters","mode"],u),n}function TEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["image"]);i!=null&&E(n,["instances[0]","image"],Go(i));const s=T(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&E(n,["config"],wEe(a,n)),n}function EEe(t){const e={},n=T(t,["productImage"]);return n!=null&&E(e,["image"],Go(n)),e}function CEe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],Go(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>EEe(o))),E(e,["instances[0]","productImages"],a)}return n}function SEe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h),n}function DEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],CEe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],SEe(s,n)),n}function AEe(t){const e={},n=T(t,["image"]);return n!=null&&E(e,["image"],Go(n)),e}function NEe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Go(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],AEe(s)),n}function kEe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o),n}function IEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],NEe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],kEe(s,n)),n}function PEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function REe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],XG(t,o)),r}function FEe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],REe(t,r,n)),n}function MEe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function OEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],MEe(i,n)),n}function UEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function LEe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],ng(vs(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>pK(o))),E(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],s),n}function jEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);if(i!=null){let a=ro(i);Array.isArray(a)&&(a=a.map(o=>ng(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],LEe(s,n)),n}function BEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["contents"]);if(i!=null){let a=ro(i);Array.isArray(a)&&(a=a.map(o=>ng(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],s),n}function mK(t){const e={},n=T(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],uh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function VEe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Go(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],mK(s)),n}function WEe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["image"],Go(n));const r=T(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function qEe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["_self"],Go(n));const r=T(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function $Ee(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&E(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&E(e,["instances[0]","lastFrame"],Go(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>WEe(C))),E(e,["instances[0]","referenceImages"],w)}const b=T(t,["mask"]);e!==void 0&&b!=null&&E(e,["instances[0]","mask"],qEe(b));const x=T(t,["compressionQuality"]);return e!==void 0&&x!=null&&E(e,["parameters","compressionQuality"],x),n}function zEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Mn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&E(n,["instances[0]","image"],Go(s));const a=T(e,["video"]);a!=null&&E(n,["instances[0]","video"],mK(a));const o=T(e,["source"]);o!=null&&E(n,["config"],VEe(o,n));const l=T(e,["config"]);return l!=null&&E(n,["config"],$Ee(l,n)),n}function HEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function GEe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function KEe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function JEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function XEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],HEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],GEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],KEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],JEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function YEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>XEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function QEe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function ZEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function eCe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ZEe(i))),E(e,["urlMetadata"],r)}return e}function tCe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],YEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],QEe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],eCe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function zO(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>tCe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function nCe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function rCe(){return{}}function iCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>nCe(a))),E(e,["embeddings"],s)}return T(t,["metadata"])!=null&&E(e,["metadata"],rCe()),e}function sCe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],uh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function gK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function aCe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],sCe(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],gK(i)),e}function oCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>aCe(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],gK(i)),e}function lCe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function fN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["version"]);s!=null&&E(e,["version"],s);const a=T(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],lCe(a));const o=T(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function cCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=YG(i);Array.isArray(s)&&(s=s.map(a=>fN(a))),E(e,["models"],s)}return e}function uCe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function dCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function fCe(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],uh(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function hCe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],fCe(n)),e}function pCe(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>hCe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function mCe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],pCe(a)),e}function gCe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function yCe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function vCe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function xCe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function bCe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],gCe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],yCe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],vCe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],xCe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function _Ce(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>bCe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function wCe(t){const e={},n=T(t,["citations"]);return n!=null&&E(e,["citations"],n),e}function TCe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function ECe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>TCe(i))),E(e,["urlMetadata"],r)}return e}function CCe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],_Ce(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],wCe(r));const i=T(t,["finishMessage"]);i!=null&&E(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],ECe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function HO(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>CCe(u))),E(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function SCe(t){const e={},n=T(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function DCe(t){const e={},n=T(t,["values"]);n!=null&&E(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&E(e,["statistics"],SCe(r)),e}function ACe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&E(e,["billableCharacterCount"],n),e}function NCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>DCe(a))),E(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&E(e,["metadata"],ACe(i)),e}function yK(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],uh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function vK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function Ww(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],yK(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&E(e,["safetyAttributes"],vK(i));const s=T(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function kCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ww(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],vK(i)),e}function ICe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ww(s))),E(e,["generatedImages"],i)}return e}function PCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ww(s))),E(e,["generatedImages"],i)}return e}function RCe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ww(i))),E(e,["generatedImages"],r)}return e}function FCe(t){const e={},n=T(t,["label"]);n!=null&&E(e,["label"],n);const r=T(t,["score"]);return r!=null&&E(e,["score"],r),e}function MCe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["mask"],yK(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>FCe(s))),E(e,["labels"],i)}return e}function OCe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>MCe(i))),E(e,["generatedMasks"],r)}return e}function UCe(t){const e={},n=T(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function LCe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function jCe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&E(e,["step"],i),e}function hN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["versionId"]);s!=null&&E(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>UCe(h))),E(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&E(e,["labels"],o);const l=T(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],LCe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>jCe(h))),E(e,["checkpoints"],f)}return e}function BCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=YG(i);Array.isArray(s)&&(s=s.map(a=>hN(a))),E(e,["models"],s)}return e}function VCe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function WCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function qCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&E(e,["tokensInfo"],r),e}function $Ce(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],uh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function zCe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],$Ce(n)),e}function HCe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zCe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function GCe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],HCe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KCe="Content-Type",JCe="X-Server-Timeout",XCe="User-Agent",pN="x-goog-api-client",YCe="1.19.0",QCe=`google-genai-sdk/${YCe}`,ZCe="v1beta1",eSe="v1beta",GO=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tSe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ZCe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:eSe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&nSe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KO(i),new oN(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Lp(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield pr(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Bw({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(GO);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pr(new oN(h)),a=a.slice(u[0].length),u=a.match(GO)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=QCe+" "+this.clientOptions.userAgentExtra;return e[XCe]=n,e[pN]=n,e[KCe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(JCe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Ft("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function KO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Bw({message:i,status:n}):new Error(i)}}function nSe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rSe="mcp_used/unknown";let iSe=!1;function xK(t){for(const e of t)if(sSe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return iSe}function bK(t){var e;const n=(e=t[pN])!==null&&e!==void 0?e:"";t[pN]=(n+` ${rSe}`).trimStart()}function sSe(t){return t!==null&&typeof t=="object"&&t instanceof RI}function aSe(t,e=100){return Lp(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield pr(t.listTools({cursor:r}));for(const a of s.tools)yield yield pr(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class RI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new RI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,ey(aSe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),_xe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oSe(t,e,n){const r=new hxe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=Uwe(i);Object.assign(r,s),e(r)}class lSe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=dSe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{oSe(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,uSe(a),v);g.connect(),await u;const y=Mn(this.apiClient,e.model),b=lK({model:y}),x=dN({setup:b});return g.send(JSON.stringify(x)),new cSe(g,this.apiClient)}}class cSe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=F_e(e),r=cK(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=M_e(e),r=dN(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=dN({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Dp.PLAY)}pause(){this.sendPlaybackControl(Dp.PAUSE)}stop(){this.sendPlaybackControl(Dp.STOP)}resetContext(){this.sendPlaybackControl(Dp.RESET_CONTEXT)}close(){this.conn.close()}}function uSe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dSe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fSe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hSe(t,e,n){const r=new fxe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=Xwe(s);Object.assign(r,a)}else{const a=Awe(s);Object.assign(r,a)}e(r)}class pSe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new lSe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&xK(e.config.tools)&&bK(f);const h=vSe(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const N=this.apiClient.getApiKey();let R="BidiGenerateContent",P="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${R}?${P}=${N}`}let p=()=>{};const v=new Promise(N=>{p=N}),g=e.callbacks,y=function(){var N;(N=g==null?void 0:g.onopen)===null||N===void 0||N.call(g),p({})},b=this.apiClient,x={onopen:y,onmessage:N=>{hSe(b,g.onmessage,N)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(N){}},w=this.webSocketFactory.create(u,ySe(h),x);w.connect(),await v;let C=Mn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const N=this.apiClient.getProject(),R=this.apiClient.getLocation();C=`projects/${N}/locations/${R}/`+C}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yb.AUDIO]}:e.config.responseModalities=[Yb.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],A=[];for(const N of F)if(this.isCallableTool(N)){const R=N;A.push(await R.tool())}else A.push(N);A.length>0&&(e.config.tools=A);const I={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=uwe(this.apiClient,I):S=k_e(this.apiClient,I),delete S.config,w.send(JSON.stringify(S)),new gSe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mSe={turnComplete:!0};class gSe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ro(n.turns),e.isVertexAI()?r=r.map(i=>ng(i)):r=r.map(i=>Vw(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(fSe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},mSe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:hwe(e)}:n={realtimeInput:R_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ySe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function vSe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JO=10;function XO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(jp(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function jp(t){return"callTool"in t&&typeof t.callTool=="function"}function xSe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>jp(i)))!==null&&r!==void 0?r:!1}function bSe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!jp(i)))!==null&&r!==void 0?r:!1}function YO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _Se extends ch{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xSe(n)||XO(n.config))return await this.generateContentInternal(l);if(bSe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=ro(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:JO;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(jp(y)){const x=await y.callTool(c.functionCalls);g.push(...x)}p++,u={role:"user",parts:g},l.contents=ro(l.contents),l.contents.push(v),l.contents.push(u),YO(l.config)&&(f.push(v),f.push(u))}return YO(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),XO(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Yv(Wf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>jp(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&xK(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),bK(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(jp(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:JO;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return Lp(this,arguments,function*(){for(var v,g,y,b;o<s;){a&&(o++,a=!1);const S=yield pr(c.processParamsMaybeAddMcpUsage(f)),F=yield pr(c.generateContentStreamInternal(S)),A=[],I=[];try{for(var x=!0,w=(g=void 0,ey(F)),C;C=yield pr(w.next()),v=C.done,!v;x=!0){b=C.value,x=!1;const N=b;if(yield yield pr(N),N.candidates&&(!((h=N.candidates[0])===null||h===void 0)&&h.content)){I.push(N.candidates[0].content);for(const R of(p=N.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(R.functionCall.name)){const P=yield pr(u.get(R.functionCall.name).callTool([R.functionCall]));A.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(N){g={error:N}}finally{try{!x&&!v&&(y=w.return)&&(yield pr(y.call(w)))}finally{if(g)throw g.error}}if(A.length>0){a=!0;const N=new i0;N.candidates=[{content:{role:"user",parts:A}}],yield yield pr(N);const R=[];R.push(...I),R.push({role:"user",parts:A});const P=ro(f.contents).concat(R);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$O(this.apiClient,e);return o=Ft("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=HO(u),h=new i0;return Object.assign(h,f),h})}else{const c=qO(this.apiClient,e);return o=Ft("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=zO(u),h=new i0;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$O(this.apiClient,e);return o=Ft("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Lp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=ey(f),x;x=yield pr(b.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=HO(yield pr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new i0;Object.assign(S,C),yield yield pr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield pr(v.call(b)))}finally{if(p)throw p.error}}})})}else{const c=qO(this.apiClient,e);return o=Ft("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Lp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=ey(f),x;x=yield pr(b.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=zO(yield pr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new i0;Object.assign(S,C),yield yield pr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield pr(v.call(b)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=fEe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=NCe(u),h=new TO;return Object.assign(h,f),h})}else{const c=TTe(this.apiClient,e);return o=Ft("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=iCe(u),h=new TO;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=pEe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=kCe(u),h=new EO;return Object.assign(h,f),h})}else{const c=CTe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=oCe(u),h=new EO;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=_Ee(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=ICe(l),u=new ixe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=TEe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=PCe(l),u=new sxe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=DEe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=RCe(l),u=new axe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=IEe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=OCe(l),u=new oxe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=PEe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>hN(u))}else{const c=STe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>fN(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=FEe(this.apiClient,e);return o=Ft("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=BCe(u),h=new CO;return Object.assign(h,f),h})}else{const c=ATe(this.apiClient,e);return o=Ft("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=cCe(u),h=new CO;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=OEe(this.apiClient,e);return o=Ft("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>hN(u))}else{const c=kTe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>fN(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=UEe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=VCe(u),h=new SO;return Object.assign(h,f),h})}else{const c=ITe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=uCe(u),h=new SO;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=jEe(this.apiClient,e);return o=Ft("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=WCe(u),h=new DO;return Object.assign(h,f),h})}else{const c=RTe(this.apiClient,e);return o=Ft("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=dCe(u),h=new DO;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=BEe(this.apiClient,e);return s=Ft("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=qCe(l),u=new lxe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=zEe(this.apiClient,e);return o=Ft("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=GCe(u),h=new Qb;return Object.assign(h,f),h})}else{const c=OTe(this.apiClient,e);return o=Ft("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=mCe(u),h=new Qb;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wSe extends ch{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=J1e(e);return o=Ft("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=G1e(e);return o=Ft("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=K1e(e);return s=Ft("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TSe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function _K(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],TSe(n)),e}function ESe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],_K(r)),e}function CSe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ESe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function SSe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],_K(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],CSe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function DSe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function ASe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function NSe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function kSe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function ISe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],DSe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],ASe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],NSe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],kSe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function PSe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ISe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function RSe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function FSe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function MSe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],FSe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function OSe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function USe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],OSe(n)),e}function LSe(){return{}}function jSe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function BSe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>RSe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],MSe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],USe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],LSe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],jSe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function VSe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QO(){return{}}function WSe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function qSe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],WSe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function $Se(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function zSe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],$Se(r)),e}function HSe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function GSe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],SSe(II(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],PSe(vs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=eg(v);Array.isArray(S)&&(S=S.map(F=>BSe(Zm(F)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],VSe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],QO());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],QO());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],qSe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],zSe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],HSe(C)),n}function KSe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Mn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],GSe(i,n)),n}function JSe(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&E(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&E(n,["bidiGenerateContentSetup"],KSe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&E(n,["fieldMask"],l),r}function XSe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],JSe(t,r,n)),n}function YSe(t){const e={},n=T(t,["name"]);return n!=null&&E(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QSe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function ZSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=QSe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class e4e extends ch{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=XSe(this.apiClient,e);s=Ft("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=ZSe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>YSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t4e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function n4e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function r4e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],n4e(n,e)),e}function i4e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function s4e(t){const e={},n=T(t,["textInput"]);n!=null&&E(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&E(e,["output"],r),e}function a4e(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>s4e(i))),E(e,["examples","examples"],r)}return e}function o4e(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&E(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&E(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function l4e(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["tuningTask","trainingData"],a4e(i));const s=T(t,["config"]);return s!=null&&E(e,["config"],o4e(s,e)),e}function c4e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function u4e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function d4e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],u4e(n,e)),e}function f4e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function h4e(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function p4e(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function m4e(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec"],p4e(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&E(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&E(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function g4e(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],h4e(i,e));const s=T(t,["config"]);return s!=null&&E(e,["config"],m4e(s,e)),e}function y4e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["model"],n);const r=T(t,["name"]);return r!=null&&E(e,["endpoint"],r),e}function wK(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],KG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&E(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&E(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&E(e,["tunedModel"],y4e(f));const h=T(t,["customBaseModel"]);h!=null&&E(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&E(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&E(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&E(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&E(e,["pipelineJob"],y);const b=T(t,["serviceAccount"]);b!=null&&E(e,["serviceAccount"],b);const x=T(t,["tunedModelDisplayName"]);return x!=null&&E(e,["tunedModelDisplayName"],x),e}function v4e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>wK(a))),E(e,["tuningJobs"],s)}return e}function x4e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["metadata"]);i!=null&&E(e,["metadata"],i);const s=T(t,["done"]);s!=null&&E(e,["done"],s);const a=T(t,["error"]);return a!=null&&E(e,["error"],a),e}function b4e(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);i!=null&&E(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&E(e,["endpoint"],s),e}function _4e(t){const e={},n=T(t,["model"]);n!=null&&E(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&E(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>b4e(a))),E(e,["checkpoints"],s)}return e}function mN(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],KG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&E(e,["error"],c);const u=T(t,["description"]);u!=null&&E(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&E(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&E(e,["tunedModel"],_4e(h));const p=T(t,["preTunedModel"]);p!=null&&E(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&E(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&E(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&E(e,["encryptionSpec"],y);const b=T(t,["partnerModelTuningSpec"]);b!=null&&E(e,["partnerModelTuningSpec"],b);const x=T(t,["customBaseModel"]);x!=null&&E(e,["customBaseModel"],x);const w=T(t,["experiment"]);w!=null&&E(e,["experiment"],w);const C=T(t,["labels"]);C!=null&&E(e,["labels"],C);const S=T(t,["outputUri"]);S!=null&&E(e,["outputUri"],S);const F=T(t,["pipelineJob"]);F!=null&&E(e,["pipelineJob"],F);const A=T(t,["serviceAccount"]);A!=null&&E(e,["serviceAccount"],A);const I=T(t,["tunedModelDisplayName"]);return I!=null&&E(e,["tunedModelDisplayName"],I),e}function w4e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mN(a))),E(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T4e extends ch{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Yv(Wf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:aN.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=c4e(e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>mN(u))}else{const c=t4e(e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>wK(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=d4e(e);return o=Ft("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=w4e(u),h=new AO;return Object.assign(h,f),h})}else{const c=r4e(e);return o=Ft("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=v4e(u),h=new AO;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=f4e(e);a=Ft("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=i4e(e);a=Ft("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=g4e(e);return s=Ft("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>mN(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=l4e(e);return s=Ft("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>x4e(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E4e{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const C4e=1024*1024*8,S4e=3,D4e=1e3,A4e=2,m4="x-goog-upload-status";async function N4e(t,e,n){var r,i,s;let a=0,o=0,l=new oN(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(C4e,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=D4e;for(;p<S4e&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[m4]));)p++,await I4e(v),v=v*A4e;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[m4])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[m4])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function k4e(t){return{size:t.size,type:t.type}}function I4e(t){return new Promise(e=>setTimeout(e,t))}class P4e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N4e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await k4e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R4e{create(e,n,r){return new F4e(e,n,r)}}class F4e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZO="x-goog-api-key";class M4e{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ZO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ZO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O4e="gl-node/";class eU{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=H1e(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new M4e(this.apiKey);this.apiClient=new tSe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:O4e+"web",uploader:new P4e,downloader:new E4e}),this.models=new _Se(this.apiClient),this.live=new pSe(this.apiClient,i,new R4e),this.batches=new U2e(this.apiClient),this.chats=new zbe(this.models,this.apiClient),this.caches=new Wbe(this.apiClient),this.files=new i_e(this.apiClient),this.operations=new wSe(this.apiClient),this.authTokens=new e4e(this.apiClient),this.tunings=new T4e(this.apiClient)}}if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const tU=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),U4e=()=>{var Rt;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=Yt(),[i,s]=V.useState([]),[a,o]=V.useState({isOpen:!1,mode:"create",post:null}),[l,c]=V.useState({title:"",content:{},publishedAt:"",tags:[],countryCode:""}),[u,f]=V.useState(!1),[h,p]=V.useState("ar"),[v,g]=V.useState(""),[y,b]=V.useState([]),[x,w]=V.useState(!1),[C,S]=V.useState(!1),[F,A]=V.useState(null),[I,N]=V.useState(""),[R,P]=V.useState(""),[D,M]=V.useState(!1),[O,H]=V.useState(!1),[X,G]=V.useState([]),[Z,W]=V.useState(!1),[Y,B]=V.useState(!1),[j,q]=V.useState(""),[J,Q]=V.useState(!1),[te,ae]=V.useState(""),[ce,ue]=V.useState(!1),[Se,Fe]=V.useState(new Set),[fe,Le]=V.useState(!1);V.useEffect(()=>{const We=[...t].sort((ie,de)=>{const Pe=ie.publishedAt?ie.publishedAt.toDate():ie.createdAt.toDate();return(de.publishedAt?de.publishedAt.toDate():de.createdAt.toDate()).getTime()-Pe.getTime()});s(We)},[t]),V.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const We=new Set;t.forEach(ie=>{ie.content&&ie.content[h]&&ie.tags&&ie.tags.split(",").forEach(Pe=>{Pe.trim()&&We.add(Pe.trim())})}),b(Array.from(We).sort())}},[a.isOpen,a.mode,h,t]);const z=()=>{const We=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:We,tags:[],countryCode:""}),p("ar"),o({isOpen:!0,mode:"create",post:null})},me=We=>{const ie=We.publishedAt?We.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:We.title,content:We.content||{},publishedAt:ie,tags:We.tags?We.tags.split(",").map(Pe=>Pe.trim()).filter(Boolean):[],countryCode:We.countryCode||""});const de=Object.keys(We.content||{});de.includes("ar")?p("ar"):de.length>0?p(de[0]):p("ar"),o({isOpen:!0,mode:"edit",post:We})},be=()=>{o({isOpen:!1,mode:"create",post:null})},le=async We=>{var de;const ie=await sa("tagTitleLists",We);N(((de=ie==null?void 0:ie.titles)==null?void 0:de.join(`
`))||""),A(We),P(We),S(!0)},re=()=>{S(!1),A(null),N(""),P("")},oe=async()=>{if(F){const We=I.split(`
`).map(ie=>ie.trim()).filter(Boolean);await yr("tagTitleLists",{tag:F,titles:We}),re()}},Ie=async()=>{if(R){M(!0);try{const de=(await new eU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${R}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";N(Pe=>(Pe?Pe+`
`:"")+de.trim())}catch(We){console.error("AI Title Generation Error:",We),alert("  .")}finally{M(!1)}}},ke=async We=>{if(We&&!l.tags.includes(We)){const ie=l.title;if(c(de=>({...de,tags:[...de.tags,We]})),!ie.trim()){const de=await sa("tagTitleLists",We);if(de&&de.titles&&de.titles.length>0){const Pe=de.titles,$e=Math.floor(Math.random()*Pe.length),nt=Pe[$e];c(xt=>({...xt,title:nt}))}}}g("")},he=We=>{c(ie=>({...ie,tags:ie.tags.filter(de=>de!==We)}))},ye=We=>{if(We.key==="Enter"||We.key===","){We.preventDefault();const ie=v.trim();ke(ie)}},_e=We=>{ke(We)},Te=async()=>{const We=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,ie=l.title.trim().match(We);if(ie){f(!0);try{const nt=ie[0],xt=Cp.find(ir=>ir.code===h),Ut=xt?xt.name:"Arabic",zt=`Based on the content of this YouTube video: ${nt}, write a detailed and well-formatted blog post in ${Ut}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(ir=>({...ir,content:{...ir.content,[h]:""}}));const er=(await hc({model:"gemini-2.5-flash",contents:zt,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),On=JSON.parse(er);if(On.title&&On.content)c(ir=>({...ir,title:On.title,content:{...ir.content,[h]:On.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(nt){console.error("AI content generation from YouTube failed:",nt),alert("     .          .")}finally{f(!1)}return}const de=l.content[h]||"",Pe=l.title.trim()!=="",$e=de.replace(/<[^>]*>?/gm,"").trim()!=="";if(!Pe&&!$e){alert("          .");return}f(!0);try{if($e){const nt=Cp.find(On=>On.code===h),xt=nt?nt.name:h,Ut=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${xt}.
                2. Expand the draft into a full, well-formatted blog post in ${xt}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${de.replace(/<[^>]*>?/gm," ")}"`,yn=(await hc({model:"gemini-2.5-flash",contents:Ut,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),er=JSON.parse(yn);c(On=>({...On,title:er.title,content:{...On.content,[h]:er.content}}))}else{const xt={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(Cn=>({...Cn,content:{...Cn.content,[h]:""}}));const zt=(await hc({model:"gemini-2.5-flash",contents:xt})).text||"";c(Cn=>({...Cn,content:{...Cn.content,[h]:zt}}))}}catch(nt){console.error("AI content generation failed:",nt),alert("  .       JSON  .        .")}finally{f(!1)}},Re=async()=>{var Pe;const We=(Pe=l.content[h])==null?void 0:Pe.replace(/<[^>]*>?/gm," ").trim(),ie=l.tags.join(", "),de=We||ie;if(!de){alert("       .");return}H(!0),W(!0),G([]);try{const xt=(await new eU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${de}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ut=JSON.parse(xt);G(Ut)}catch($e){console.error("AI Title Suggestion Error:",$e),alert("  ."),H(!1)}finally{W(!1)}},Ee=We=>{c(ie=>({...ie,title:We})),H(!1)},ve=async We=>{We.preventDefault();const ie=l.publishedAt?new Date(l.publishedAt):null,de=tU(l.title),{content:Pe,...$e}=l,nt=Object.fromEntries(Object.entries(Pe).filter(([,Ut])=>Ut&&String(Ut).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(nt).length===0){alert("          .");return}const xt=l.tags.join(",");if(a.mode==="create"){const Ut={...$e,tags:xt,content:nt,publishedAt:ie?Er.firestore.Timestamp.fromDate(ie):void 0,slug:de,author:"Admin",createdAt:Er.firestore.Timestamp.now(),enabled:!1},zt=await cl.create(Ut);e(zt)}else if(a.post){const Ut={...$e,tags:xt,content:nt,publishedAt:ie?Er.firestore.Timestamp.fromDate(ie):void 0,slug:de};await cl.update(a.post.id,Ut),n(a.post.id,{...a.post,...Ut})}be()},Me=async We=>{const ie=i.find(de=>de.id===We);ie&&(await cl.toggleStatus(We,ie.enabled),n(We,{enabled:!ie.enabled}))},Oe=async We=>{window.confirm("        ")&&(await cl.delete(We),r(We))},qe=()=>{q(""),ae(""),ue(!1),B(!0)},st=()=>{const We=[{title:"  ",language:"ar",content:"<p> ...</p>",tags:"1, 2",publishedAt:"2023-10-27",countryCode:"dz"},{title:"English Article Title",language:"en",content:"<p>Article content...</p>",tags:"tag1, tag2",publishedAt:"2023-10-28",countryCode:"us"}];navigator.clipboard.writeText(JSON.stringify(We,null,2)),ue(!0),setTimeout(()=>ue(!1),2e3)},it=()=>{q("")},Ct=async()=>{if(ae(""),!!j.trim()){Q(!0);try{const We=JSON.parse(j);if(!Array.isArray(We))throw new Error("JSON must be an array of objects.");let ie=0;for(const de of We){if(!de.title||!de.language||!de.content){console.warn("Skipping invalid item:",de);continue}const Pe=tU(de.title);let $e=Pe;const nt=de.publishedAt?new Date(de.publishedAt):new Date,xt={title:de.title,slug:$e,content:{[de.language]:de.content},tags:de.tags||"",author:de.author||"Admin",createdAt:Er.firestore.Timestamp.now(),publishedAt:Er.firestore.Timestamp.fromDate(nt),enabled:!0,countryCode:de.countryCode||""};try{const Ut=await cl.create(xt);e(Ut),ie++}catch(Ut){if(Ut.message&&(Ut.message.includes("UNIQUE constraint failed")||Ut.message.includes("blog.slug"))){console.warn(`Slug collision for "${Pe}". Retrying with a unique slug...`),xt.slug=`${Pe}-${Date.now().toString().slice(-4)}-${Math.floor(Math.random()*1e3)}`;try{const zt=await cl.create(xt);e(zt),ie++}catch(zt){console.error(`Failed to import item "${de.title}" after retry:`,zt)}}else throw console.error(`Failed to import item "${de.title}":`,Ut),Ut}}B(!1),q(""),alert(`  ${ie}  !`)}catch(We){console.error("Bulk import error:",We),ae(`  : ${We.message}`)}finally{Q(!1)}}},Wt=()=>{Se.size===i.length?Fe(new Set):Fe(new Set(i.map(We=>We.id)))},$t=We=>{const ie=new Set(Se);ie.has(We)?ie.delete(We):ie.add(We),Fe(ie)},_n=async()=>{if(window.confirm(`     ${Se.size} `)){Le(!0);try{const We=Array.from(Se).map(async ie=>{await cl.delete(ie),r(ie)});await Promise.all(We),Fe(new Set)}catch(We){console.error("Bulk delete error:",We),alert("    .")}finally{Le(!1)}}},En=async()=>{const We=prompt("      (: dz, sa)     :","");if(We!==null){Le(!0);try{const ie=Array.from(Se).map(async de=>{await cl.update(de,{countryCode:We.trim()}),n(de,{countryCode:We.trim()})});await Promise.all(ie),alert(`  ${Se.size}  .`),Fe(new Set)}catch(ie){console.error("Bulk country update error:",ie),alert("    .")}finally{Le(!1)}}},Ln=We=>{const ie=Object.keys(We.content||{});return ie.includes("ar")?`/blog/${We.slug}`:ie.length>0?`/blog/${ie[0]}/${We.slug}`:`/blog/${We.slug}`},xn={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:qe,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx($H,{}),d.jsx("span",{children:"  (JSON)"})]}),d.jsx("button",{onClick:z,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),Se.size>0&&d.jsxs("div",{className:"sticky top-0 z-10 bg-white shadow-md border-b p-3 mb-4 flex items-center justify-between animate-fadeIn rounded-md border border-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded-full",children:[Se.size," "]}),d.jsx("button",{onClick:()=>Fe(new Set),className:"text-gray-500 hover:text-gray-700 text-sm",children:" "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:En,disabled:fe,className:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 px-3 py-1 rounded-md text-sm flex items-center gap-2 transition-colors",children:[fe?d.jsx(bt,{className:"animate-spin"}):d.jsx(Hy,{})," "]}),d.jsxs("button",{onClick:_n,disabled:fe,className:"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200 px-3 py-1 rounded-md text-sm flex items-center gap-2 transition-colors",children:[fe?d.jsx(bt,{className:"animate-spin"}):d.jsx(oh,{})," "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 w-10",children:d.jsx("input",{type:"checkbox",onChange:Wt,checked:i.length>0&&Se.size===i.length,className:"w-4 h-4 rounded border-gray-300 text-green-600 focus:ring-green-500"})}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(We=>{const ie=We.publishedAt?We.publishedAt.toDate():We.createdAt.toDate(),de=Object.keys(We.content||{}),Pe=de.length>0?de.join(", ").toUpperCase():"AR";return d.jsxs("tr",{className:`border-b hover:bg-gray-50 ${Se.has(We.id)?"bg-blue-50":""}`,children:[d.jsx("td",{className:"p-3",children:d.jsx("input",{type:"checkbox",checked:Se.has(We.id),onChange:()=>$t(We.id),className:"w-4 h-4 rounded border-gray-300 text-green-600 focus:ring-green-500"})}),d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:We.title}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:d.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:Pe})}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:We.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600",children:ie.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>Me(We.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${We.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:We.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(sn,{to:Ln(We),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>me(We),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>Oe(We.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},We.id)})})]})})}),Y&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"   (JSON)"}),d.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-800",children:d.jsx(Yu,{size:20})})]}),d.jsxs("div",{className:"p-6 flex-grow flex flex-col space-y-4 overflow-hidden",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md text-sm text-blue-800 relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("p",{className:"font-bold",children:" :"}),d.jsxs("button",{onClick:st,className:"flex items-center gap-2 bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-md transition-colors text-xs font-bold",children:[d.jsx(Nge,{}),d.jsx("span",{children:ce?" !":" "})]})]}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsx("li",{children:"     (Array)  ."}),d.jsxs("li",{children:["    ",d.jsx("strong",{children:"  "}),"."]}),d.jsxs("li",{children:[" : ",d.jsx("code",{children:"title"}),", ",d.jsx("code",{children:"language"})," ( 'ar', 'en'), ",d.jsx("code",{children:"content"})," (HTML)."]}),d.jsxs("li",{children:[" : ",d.jsx("code",{children:"tags"}),", ",d.jsx("code",{children:"publishedAt"}),", ",d.jsx("code",{children:"author"}),", ",d.jsx("code",{children:"countryCode"}),"."]})]})]}),d.jsxs("div",{className:"flex-grow relative",children:[d.jsx("button",{onClick:it,className:"absolute top-2 left-2 bg-red-50 text-red-600 hover:bg-red-100 p-2 rounded-full z-10 transition-colors",title:" ",children:d.jsx(HH,{})}),d.jsx("textarea",{className:"w-full h-full p-4 border rounded-md font-mono text-sm bg-gray-900 text-green-100 focus:ring-2 focus:ring-blue-500",placeholder:"[ ...   JSON  ... ]",dir:"ltr",value:j,onChange:We=>q(We.target.value)})]}),te&&d.jsx("p",{className:"text-red-600 text-sm font-bold",children:te})]}),d.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>B(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsxs("button",{onClick:Ct,disabled:J||!j.trim(),className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2",children:[J?d.jsx(bt,{className:"animate-spin"}):null,d.jsx("span",{children:J?" ...":" "})]})]})]})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:ve,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:We=>c(ie=>({...ie,title:We.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:Re,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(aa,{})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:We=>c(ie=>({...ie,publishedAt:We.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Code)"}),d.jsx("input",{type:"text",id:"countryCode",value:l.countryCode,onChange:We=>c(ie=>({...ie,countryCode:We.target.value})),placeholder:": dz, sa, us",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     ."})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(We=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:We}),d.jsx("button",{type:"button",onClick:()=>le(We),className:"text-green-600 hover:text-green-800",title:`    "${We}"`,children:d.jsx(Uge,{size:12})}),d.jsx("button",{type:"button",onClick:()=>he(We),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},We)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:We=>g(We.target.value),onKeyDown:ye,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),x&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(We=>!l.tags.includes(We)&&We.toLowerCase().includes(v.toLowerCase())).map(We=>d.jsx("div",{onMouseDown:()=>_e(We),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:We},We))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:We=>p(We.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:Cp.map(We=>d.jsx("option",{value:We.code,children:We.name},We.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((Rt=Cp.find(We=>We.code===h))==null?void 0:Rt.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(vr,{theme:"snow",value:l.content[h]||"",onChange:We=>{c(ie=>({...ie,content:{...ie.content,[h]:We}}))},modules:xn})}),d.jsx("button",{type:"button",onClick:Te,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:be,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),C&&F&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',F,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:R,onChange:We=>P(We.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:Ie,disabled:D,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[D?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:I,onChange:We=>N(We.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:re,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:oe,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:Z?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(bt,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:X.map((We,ie)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>Ee(We),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:We})},ie))})})]})})]})};var F2={exports:{}},L4e=F2.exports,nU;function j4e(){return nU||(nU=1,(function(t,e){(function(n,r){r()})(L4e,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ys=="object"&&ys.global===ys?ys:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var b=a.URL||a.webkitURL,x=b.createObjectURL(c);h?h.location=x:location.href=x,h=null,setTimeout(function(){b.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(F2)),F2.exports}var Em=j4e();const B4e=[{dataType:"cafes",countryCode:"dz",fileName:"dz-cafes-public.json",label:"   (dz)"},{dataType:"services",countryCode:"dz",fileName:"dz-all-services-public.json",label:"   (dz)"},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json",label:"  ()"},{dataType:"pages",countryCode:"dz",fileName:"dz-pages-public.json",label:"   (dz)"},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json",label:"  "},{dataType:"ads",countryCode:"global",fileName:"ads-public.json",label:"  "},{dataType:"documents",countryCode:"global",fileName:"documents.json",label:"  (documents.json)"}],TK=()=>{const{refetchAdminData:t}=Yt(),[e,n]=V.useState(null),[r,i]=V.useState(null),[s,a]=V.useState(!1),[o,l]=V.useState(""),[c,u]=V.useState(""),[f,h]=V.useState(!1),[p,v]=V.useState(!1),[g,y]=V.useState(""),[b,x]=V.useState(!1),[w,C]=V.useState(!1),[S,F]=V.useState(""),[A,I]=V.useState(!1),[N,R]=V.useState(""),[P,D]=V.useState(!1),M=async(W,Y,B)=>{n(B),l(""),u("");try{u(`(1/2) Generating data for ${B}...`);const j=await Al(W,Y);if(W==="blog"){if(typeof j!="object"||j===null)throw new Error("Blog data generation returned an invalid format.");const q=Object.entries(j).map(([J,Q])=>({path:`dist/data/json/${J}`,content:JSON.stringify(Q)}));if(q.length===0){u("     ."),n(null),setTimeout(()=>u(""),5e3);return}u(`(2/2) Publishing ${q.length} files to GitHub...`),await Ms({files:q,commitMessage:"feat: Update public blog data"}),u(`  ${q.length}     GitHub!`)}else{const q=JSON.stringify(j),J=`dist/data/json/${B}`;u(`(2/2) Publishing ${B} to GitHub...`),await Ms({files:[{path:J,content:q}],commitMessage:`feat: Update ${B}`}),u(`  ${B}   GitHub!`)}}catch(j){console.error(j);const q=j instanceof Error?j.message:String(j);l(`   ${B}. ${q}`)}finally{n(null),setTimeout(()=>{u(""),l("")},5e3)}},O=async(W,Y,B)=>{i(B),l("");try{const j=await Al(W,Y);if(W==="blog"){const q=new _m;Object.entries(j).forEach(([Q,te])=>{q.file(Q,JSON.stringify(te))});const J=await q.generateAsync({type:"blob"});Em.saveAs(J,"gitut-blog-data.zip")}else{const q=new Blob([JSON.stringify(j)],{type:"application/json"});Em.saveAs(q,B)}}catch(j){console.error(j);const q=j instanceof Error?j.message:String(j);l(`   ${B}. ${q}`)}finally{i(null)}},H=async W=>{a(!0),l("");try{await uge(W)}catch(Y){console.error(Y),l(`Failed to generate zip file for ${W}.`)}finally{a(!1)}},X=async W=>{h(!0),y(W?`   JSON  : ${W}`:"   JSON ...");try{const Y=await Al("documents-json",W||"global");!Y||!Array.isArray(Y)||Y.length===0?y("     ."):(y(` ${Y.length}  JSON   GitHub...`),await Ms({files:Y,commitMessage:`feat: Update individual document JSON files${W?` for ${W}`:""}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),y(`  ${Y.length}  !`))}catch(Y){console.error("Document JSON publishing failed:",Y);const B=Y instanceof Error?Y.message:String(Y);y(`: ${B}`)}finally{h(!1),setTimeout(()=>y(""),8e3)}},G=async()=>{C(!0),F("");try{const{newVersion:W}=await sge();F(`      ${W}.      .`)}catch(W){const Y=W instanceof Error?W.message:"An unknown error occurred.";F(`: ${Y}`)}finally{C(!1)}},Z=async()=>{I(!0),R("     ...");try{await t(),R("   !")}catch(W){console.error("Manual data refresh failed:",W),R("  .")}finally{I(!1),setTimeout(()=>R(""),5e3)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"   (JSON)"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsx("div",{className:"space-y-3",children:B4e.map(W=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:W.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>O(W.dataType,W.countryCode,W.fileName),disabled:!!e||r===W.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:r===W.fileName?d.jsx(bt,{className:"animate-spin"}):d.jsx(lo,{})}),W.dataType==="documents"?d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>X("global"),disabled:f||p,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[f?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>x(!b),disabled:f||p,className:"bg-blue-700 text-white font-bold px-2 rounded-l-md hover:bg-blue-800 disabled:bg-gray-500 border-r border-blue-500",children:d.jsx(Ec,{})})]}),b&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>X("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Kn.en.map(Y=>d.jsxs("button",{onClick:()=>X(Y.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:Y.flag})," ",Y.name]},Y.code))]})]}):d.jsxs("button",{onClick:()=>M(W.dataType,W.countryCode,W.fileName),disabled:!!e||!!r,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[e===W.fileName?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:""})]})]})]},W.fileName))}),c&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:c}),o&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:o}),g&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:g})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"   (ZIP)"}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>D(W=>!W),className:"w-full bg-gray-700 text-white font-bold py-3 px-5 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",disabled:s,children:[s?d.jsx(bt,{className:"animate-spin"}):d.jsx(lo,{}),d.jsx("span",{children:s?" ...":"  "}),d.jsx(Ec,{})]}),P&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsx("ul",{className:"py-1 max-h-60 overflow-y-auto",children:Kn.en.map(W=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>H(W.code),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:W.flag}),d.jsx("span",{children:W.name})]})},W.code))})})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("button",{onClick:G,disabled:w,className:"bg-yellow-500 text-white font-bold p-4 rounded-lg hover:bg-yellow-600 disabled:bg-gray-400",children:w?d.jsx(bt,{className:"animate-spin"}):"  "}),d.jsx("button",{onClick:Z,disabled:A,className:"bg-indigo-500 text-white font-bold p-4 rounded-lg hover:bg-indigo-600 disabled:bg-gray-400",children:A?d.jsx(bt,{className:"animate-spin"}):"  "})]}),S&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-700",children:S}),N&&d.jsx("p",{className:"text-center mt-2 text-sm text-indigo-700",children:N})]})]})},EK=()=>{const{cafes:t,services:e,blogPosts:n}=Yt(),[r,i]=V.useState(!1),[s,a]=V.useState(""),[o,l]=V.useState(""),[c,u]=V.useState(!1),f=V.useRef(null);V.useEffect(()=>{const p=v=>{f.current&&!f.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const h=async p=>{i(!0),l(""),a("");try{const v="https://gitut.com",g=[],y=x=>{let w=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;return x.forEach(C=>{w+=`  <url><loc>${C}</loc></url>
`}),w+="</urlset>",w},b=p==="global"?Kn.en.map(x=>x.code):[p];for(const x of b){a(`Generating sitemaps for ${x}...`);const w=new Set;w.add(`${v}/${x}/services/`),e.filter(P=>P.slug&&P.countryCode===x).forEach(P=>{const D=P.serviceType==="site"?"site":"doc";w.add(`${v}/${x}/${D}/${P.slug}/`)}),w.size>0&&g.push({path:`sitemap/${x}/services.xml`,content:y(w)});const S=new Set;S.add(`${v}/${x}/find-cafe/`),t.filter(P=>P.isProfilePublished&&P.numericId&&P.countryCode===x).forEach(P=>{S.add(`${v}/${x}/profile/${P.numericId}`)}),S.size>0&&g.push({path:`sitemap/${x}/profiles.xml`,content:y(S)});const A=new Set,I=qo(x),N=I==="ar"?"":`/${I}`;A.add(`${v}/blog${N}/`),n.filter(P=>P.enabled&&P.slug&&P.content&&(P.content[I]||I==="ar"&&Object.keys(P.content).length>0)).forEach(P=>{A.add(`${v}/blog${N}/${P.slug}/`)}),A.size>0&&g.push({path:`sitemap/${x}/blog.xml`,content:y(A)})}if(p==="global"){a("Generating global sitemaps...");const x=new Set;x.add(`${v}/services/`),e.filter(C=>C.slug&&(!C.countryCode||C.countryCode==="global")).forEach(C=>{const S=C.serviceType==="site"?"site":"doc";x.add(`${v}/${S}/${C.slug}/`)}),x.size>0&&g.push({path:"sitemap/services.xml",content:y(x)});const w=new Set;w.add(`${v}/blog/`),n.filter(C=>C.enabled&&C.slug).forEach(C=>{w.add(`${v}/blog/${C.slug}/`)}),w.size>0&&g.push({path:"sitemap/blog.xml",content:y(w)})}if(g.length===0){a("    .");return}a(`Uploading ${g.length} sitemap files to 'files' repo...`),await Ms({files:g,commitMessage:`feat: Update sitemaps for ${p} (services, profiles, blog)`,repoConfig:{owner:"gitut-cms",repo:"files"}}),a(`Successfully published ${g.length} sitemap files!`)}catch(v){console.error("Sitemap publishing failed:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";l(`    Sitemap: ${g}`)}finally{i(!1),setTimeout(()=>{a(""),l("")},8e3)}};return d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"   (Sitemaps)"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["      (Google, Bing)    .    ",d.jsx("code",{children:"services.xml"}),", ",d.jsx("code",{children:"profiles.xml"}),",  ",d.jsx("code",{children:"blog.xml"}),"     ",d.jsx("code",{children:"sitemap/countryCode/"}),"."]}),d.jsxs("div",{className:"relative",ref:f,children:[d.jsxs("div",{className:"flex w-full",children:[d.jsxs("button",{onClick:()=>h("global"),disabled:r,className:"bg-blue-500 text-white font-bold p-4 rounded-r-lg hover:bg-blue-600 disabled:bg-gray-400 flex-grow flex items-center justify-center gap-2",children:[r?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:"  ( )"})]}),d.jsx("button",{onClick:()=>u(!c),disabled:r,className:"bg-blue-600 text-white font-bold px-4 rounded-l-lg hover:bg-blue-700 disabled:bg-gray-500 border-r border-blue-400",children:d.jsx(Ec,{})})]}),c&&d.jsxs("div",{className:"absolute left-0 mt-1 w-full bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>{u(!1),h("global")},className:"block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ( +  )"}),Kn.en.map(p=>d.jsxs("button",{onClick:()=>{u(!1),h(p.code)},className:"block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:p.flag})," ",p.name]},p.code))]})]}),s&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-600",children:s}),o&&d.jsx("p",{className:"text-center mt-2 text-sm text-red-600",children:o})]})},Fr="https://gitut.com",rU={ar:" !",en:"Copied!",fr:"Copi !",de:"Kopiert!",es:"Copiado!",tr:"Kopyaland!",ja:"",it:"Copiato!",pt:"Copiado!",ru:"!"},ac=t=>t.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+</g,"><").replace(/\n/g,"").replace(/\s{2,}/g," "),Dn=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",iU=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",gN=(t,e)=>{if(!t)return"";const n=t.toDate&&typeof t.toDate=="function"?t.toDate():new Date(t);if(isNaN(n.getTime()))return"";try{if(e==="ar"){const r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),s=n.getFullYear();return`${r}/${i}/${s}`}return new Intl.DateTimeFormat(e,{year:"numeric",month:"numeric",day:"numeric"}).format(n)}catch{return n.toISOString().split("T")[0]}},M2=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",s0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},CK=(t,e,n,r="ar")=>{const i=ho(r),s=encodeURIComponent(t),a=encodeURIComponent(e),o=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">${i("share.title")}</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${s}&title=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${s0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${s}&description=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${s0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${s}&title=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${s0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${s}&quote=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${s0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title="${i("share.copyDetails")}" data-title="${Dn(e)}" data-snippet="${Dn(o)}" data-url="${Dn(t)}">${s0.clipboard}</button>
        </div>
    `},V4e=(t,e,n,r="ar")=>{const i=encodeURIComponent(t),s=encodeURIComponent(e),a=iU(e),o=iU(n.replace(/<[^>]*>/g,"").substring(0,155)),l={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${l.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${i}&description=${s}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${l.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${l.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${i}&quote=${s}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${l.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${Dn(a)}" data-snippet="${Dn(o)}" data-url="${Dn(t)}">${l.clipboard}</button>
        </div>
    `},W4e=t=>{const e=rU[t]||rU.en;return`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs">${e}</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs">${e}</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`},q4e=(t,e)=>{const n=t==="global"?`${Fr}/`:`${Fr}/${t}/`,r=t==="global"?`${Fr}/dz/login/`:`${Fr}/${t}/login/`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${n}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6">
                    <div class="gcse-search"></div>
                    <a href="${n}" class="text-gray-700 hover:text-green-600 font-semibold">${e("header.search")}</a>
                    <a href="${r}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a>
                </nav>
            </div>
        </header>
    `},$4e=(t,e,n,r,i,s)=>{var v,g;const a=t==="global"?"dz":t,o=((v=s==null?void 0:s.seo)==null?void 0:v[a])||((g=s==null?void 0:s.seo)==null?void 0:g.default),c=r.filter(y=>y.enabled&&(y.lang===e||!y.lang&&e==="ar")).map(y=>`<a href="${t==="global"?`${Fr}/page/${y.slug}/`:`${Fr}/${t}/page/${y.slug}/`}" class="hover:text-green-600 hover:underline">${Dn(y.title)}</a>`).join(""),u=i.some(y=>y.enabled&&y.content&&y.content[e]),f=t==="global"?`${Fr}/blog/`:`${Fr}/${t}/blog/`,h=u?`<a href="${f}" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:"",p=t==="global"?`${Fr}/services/`:`${Fr}/${t}/services/`;return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${h}<a href="${p}" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${c}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${Dn((o==null?void 0:o.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},rg=({title:t,description:e,mainContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u=""})=>{var S,F;const f=i==="ar"?"rtl":"ltr",h=ho(i),p=q4e(r,h),v=$4e(r,i,h,a,o,s),g=`
        <div class="flex flex-col min-h-screen">
            ${p}
            ${n}
            ${v}
        </div>
    `,y=((S=s==null?void 0:s.seo)==null?void 0:S[r])||((F=s==null?void 0:s.seo)==null?void 0:F.default),b=c||"https://file.gitut.com/data/image/icon.png",x=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,w=l?V4e(l.url,l.title,l.description,i):"",C=W4e(i);return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" href="https://blogger.googleusercontent.com/img/a/AVvXsEjkGCrmp8eAGwzm3xT-8tifWeZwI6pwDti7gvpVxpW7aIMFfrxutIq8MaQVwWSonlisheakMWk_thkwsaiHUTGbGLsCkyIsER605MilN4jS184MEpAE_XOIl-L6qyNyVp9DKFv5mpOh8miC5A70cZeriTb45X94VYrmW1QhspDSXtSo2MJMuDECpGPTYpI">
            <title>${Dn(t)}</title>
            <meta name="description" content="${Dn(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${Dn(t)}">
            <meta property="og:description" content="${Dn(e)}">
            <meta property="og:image" content="${b}">
            <meta property="og:image:secure_url" content="${b}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${Dn((y==null?void 0:y.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${Dn(t)}">
            <meta name="twitter:description" content="${Dn(e)}">
            <meta name="twitter:image" content="${b}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${x}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${g}</div>
            ${w}
            ${C}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},SK=t=>{const e=`
    <div style="background-color: #f0fdf4; border-right: 5px solid #22c55e; padding: 15px; margin: 20px 0; border-radius: 5px; font-family: 'Cairo', sans-serif;">
        <h4 style="color: #166534; font-weight: bold; margin-bottom: 5px; font-size: 1.1em;"> </h4>
        <p style="color: #14532d; font-size: 1.2em; line-height: 1.6; margin-bottom: 10px;">
                  : <strong>"        "</strong>.
        </p>
        <p style="color: #15803d; font-size: 0.9em; margin: 0;">
                  -:  -       
        </p>
    </div>`,n=t.lastIndexOf("<p");return n!==-1?t.slice(0,n)+e+t.slice(n):t+e},Lx=(t,e,n,r,i,s)=>{var p,v;const a=qo(e==="global"?"dz":e),o=ho(a),l=t.filter(g=>g.serviceType==="doc"&&g.slug),c=t.filter(g=>g.serviceType==="static-doc"&&g.slug),u=t.filter(g=>g.serviceType==="site"&&g.slug);let f='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';f+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${Dn(o("footer.services"))}</h1>`,f+='<div class="space-y-10">';const h=(g,y,b,x)=>{if(b.length===0)return"";let w=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${y}<span>${g}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return b.forEach(C=>{const S=`../${x}/${C.slug}/`,F="description"in C&&C.description?C.description:"";w+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${S}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${Dn(C.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${F}</div>
                    </a>
                </div>
                ${CK(`https://gitut.com/${e}/${x}/${C.slug}/`,C.name,F,a)}
            </div>`}),w+="</div></section>",w};return f+=h(o("servicesListPage.fillableDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',l,"doc"),f+=h(o("servicesListPage.staticDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',c,"static-doc"),f+=h(o("servicesListPage.siteServices"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>',u,"site"),f+="</div></div></main>",rg({title:`${o("footer.services")} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[e==="global"?"dz":e])==null?void 0:v.siteName)||"Gitut"}`,description:`        Gitut  ${e}.`,mainContent:f,countryCode:e,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},jx=(t,e,n,r,i)=>{var f,h;const s=qo(e==="global"?"dz":e),a=ho(s),o=r.filter(p=>p.enabled&&p.id!==t.id&&(p.lang===s||!p.lang&&s==="ar"));let l="";o.length>0&&(l=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Dn(a("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${o.map(p=>`<a href="../page/${p.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${Dn(p.title)}</p></a>`).join("")}
                </div>
            </div>
        </aside>`);const c=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Dn(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${l}
        </div>
    </main>`,u=e==="global"?`${Fr}/page/${t.slug}/`:`${Fr}/${e}/page/${t.slug}/`;return rg({title:`${t.title} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e==="global"?"dz":e])==null?void 0:h.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:c,countryCode:e,lang:s,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:u,title:t.title,description:t.content}})},Bx=(t,e,n,r,i,s,a="global")=>{var P,D;const o=qo(a==="global"?"dz":a),l=ho(o),c=l("serviceDetailPage.preview")||"",u=l("adPage.fillDownload")||"/",f=a==="global",h=f?"":`/${a}`,p=t.slug||t.id,v=`${Fr}${h}/view/${p}/`,g=`${Fr}${h}/public-form/${p}/`,y=e.filter(M=>M.id!==t.id&&M.tags===t.tags&&(f?!M.countryCode||M.countryCode==="global":M.countryCode===a)).slice(0,5);let b="";y.length>0&&(b=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${y.map(M=>{const O=M.serviceType==="site"?"site":"doc",H=M.slug||M.id;return`<a href="${`${Fr}${h}/${O}/${H}/`}" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${Dn(M.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in M&&M.description?M.description:""}</div>
                    </a>`}).join("")}
                </div>
            </div>
            <div class="sticky top-24">${M2(s.find(M=>M.placement==="SITE_DETAIL_SIDEBAR"))}</div>
        </aside>`);let x="description"in t&&t.description?t.description:"";o==="ar"&&(x=SK(x));const w=l("formPage.importantNote"),C=l("formPage.noteContent"),S=`<div class="my-6 p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-md" role="alert">
        <p class="font-bold">${Dn(w)}</p>
        <p>${Dn(C)}</p>
    </div>`;let F=x;if(F){const M=F.indexOf("</p>");M!==-1?F=F.slice(0,M+4)+S+F.slice(M+4):F=S+F}else F=S;let A="";if(t.serviceType==="site"){const M=`${Fr}${h}/go-to-site/${p}/`,O=l("cafeCard.chooseThisCafe")!=="Choose this Cafe"?l("cafeCard.chooseThisCafe"):o==="ar"?" ":"Visit Site";A=`<div class="flex justify-center">
            <a href="${M}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 text-center flex items-center justify-center gap-2 min-w-[200px]">
                <span>${O}</span>
            </a>
        </div>`}else A=`<div class="flex flex-col sm:flex-row gap-4">
            <a href="${v}" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700 text-center">${c}</a>
            <a href="${g}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 text-center">${u}</a>
        </div>`;const I=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${Dn(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${F}</div>
                    <div class="my-6">${M2(s.find(M=>M.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${M2(s.find(M=>M.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    ${A}
                </div>
            </div>
            ${b}
        </div>
    </main>`,N=t.serviceType==="site"?"site":"doc",R=`${Fr}${h}/${N}/${p}/`;return rg({title:`${t.name} | ${((D=(P=n==null?void 0:n.seo)==null?void 0:P[f?"dz":a])==null?void 0:D.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:I,countryCode:a,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:R,title:t.name,description:"description"in t&&t.description?t.description:""}})},sU=(t,e,n,r,i,s="")=>{var c,u;const a=ho(n),o=s||"global",l=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-5xl mx-auto">
            <section class="text-center py-10 bg-white rounded-lg shadow-lg mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">${Dn(a("blog.title"))}</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">${Dn(a("blog.subtitle"))}</p>
            </section>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            ${t.map(f=>{const h=s?`${Fr}/${s}/blog/${f.slug}/`:`${Fr}/blog/${f.slug}/`,p=gN(f.publishedAt||f.createdAt,n),v=(f.content[n]||Object.values(f.content)[0]||"").replace(/<[^>]*>/g,"").substring(0,100)+"...";return`<article class="bg-white rounded-lg shadow-md overflow-hidden transition-shadow hover:shadow-xl flex flex-col group">
                    <div class="p-6 flex flex-col flex-grow">
                        <p class="text-sm text-gray-500 mb-2">${p}</p>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600"><a href="${h}">${Dn(f.title)}</a></h3>
                        <p class="text-gray-600 mb-4 flex-grow">${Dn(v)}</p>
                        <a href="${h}" class="font-semibold text-green-600 hover:underline mb-4">${a("blogPostCard.readMore")} &rarr;</a>
                        ${CK(h,f.title,v,n)}
                    </div>
                </article>`}).join("")}
            </div>
        </div>
    </main>`;return rg({title:`${a("footer.blog")} | ${((u=(c=e==null?void 0:e.seo)==null?void 0:c[o==="global"?"dz":o])==null?void 0:u.siteName)||"Gitut"}`,description:"           .",mainContent:l,countryCode:o,lang:n,siteSettings:e,pages:r,allBlogPosts:i})},aU=(t,e,n,r,i,s,a,o="")=>{var y,b;const l=ho(r),c=o||"global",u=t.tags?t.tags.split(",").map(x=>x.trim().toLowerCase()):[],f=e.filter(x=>x.id!==t.id&&x.tags&&x.tags.split(",").some(w=>u.includes(w.trim().toLowerCase()))).slice(0,5);let h="";f.length>0&&(h=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Dn(l("blogPost.relatedPostsSidebar"))}</h3>
                <div class="space-y-3">
                    ${f.map(x=>{const w=gN(x.publishedAt||x.createdAt,r);return`<a href="${o?`${Fr}/${o}/blog/${x.slug}/`:`${Fr}/blog/${x.slug}/`}" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                            <p class="font-semibold text-gray-900 line-clamp-2">${Dn(x.title)}</p>
                            <p class="text-xs text-gray-500 mt-1">${w}</p>
                        </a>`}).join("")}
                </div>
                <div class="mt-4 pt-4 border-t">${M2(i.find(x=>x.placement==="BLOG_POST_SIDEBAR"))}</div>
            </div>
        </aside>`);let p=t.content[r]||Object.values(t.content)[0]||"";r==="ar"&&(p=SK(p));const v=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                    <header class="mb-8 border-b pb-6">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Dn(t.title)}</h1>
                        <div class="mt-4 text-sm text-gray-500"><span>${l("blogPost.publishedOn")} ${gN(t.publishedAt||t.createdAt,r)}</span><span class="mx-2">|</span><span>${l("blogPost.by")} ${t.author}</span></div>
                    </header>
                    <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${p}</div>
                </article>
                ${h}
            </div>
        </div>
    </main>`,g=o?`${Fr}/${o}/blog/${t.slug}/`:`${Fr}/blog/${t.slug}/`;return rg({title:`${t.title} | ${((b=(y=n==null?void 0:n.seo)==null?void 0:y[c==="global"?"dz":c])==null?void 0:b.siteName)||"GITUT"}`,description:(t.content[r]||"").replace(/<[^>]*>/g,"").substring(0,160),mainContent:v,countryCode:c,lang:r,siteSettings:n,pages:s,allBlogPosts:a,socialShare:{url:g,title:t.title,description:t.content[r]||""}})},oU=(t,e,n,r)=>{var l,c;const i=t||"dz",s=qo(i),a=((l=e==null?void 0:e.seo)==null?void 0:l[i])||((c=e==null?void 0:e.seo)==null?void 0:c.default);let o=`<main class="flex-grow container mx-auto px-4 py-8">
        <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Dn((a==null?void 0:a.mainPageTitle)||"")}</h1>
          <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Dn((a==null?void 0:a.mainPageSubtitle)||"")}</p>
        </section>
        <div id="root-find-page" class="mt-8">
          <p class="text-center text-gray-500">   ...</p>
        </div>
      </main>`;return rg({title:`${a==null?void 0:a.siteName} | ${a==null?void 0:a.tagline}`,description:(a==null?void 0:a.metaDescription)||"",mainContent:o,countryCode:i,lang:s,siteSettings:e,pages:n,allBlogPosts:r,scripts:'<script type="module">import("/index.tsx");<\/script>'})},DK=({forcePublishAll:t})=>{const{services:e,siteSettings:n,pages:r,blogPosts:i,ads:s}=Yt(),[a,o]=V.useState(!1),[l,c]=V.useState(""),[u,f]=V.useState(!1),[h,p]=V.useState(""),[v,g]=V.useState(!1),[y,b]=V.useState(""),[x,w]=V.useState(!1),C=V.useRef(null);V.useEffect(()=>{const N=R=>{C.current&&!C.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const S=async()=>{var N,R;try{const P=await fetch("https://datas.gitut.com/data/json/site-settings-public.json?t="+Date.now());if(!P.ok)throw new Error("Failed to fetch public settings");const D=await P.json(),M={...nr,...n,...D,ads:{...nr.ads,...D.ads||{},items:((N=D.ads)==null?void 0:N.items)||[]}},O=((R=D.ads)==null?void 0:R.items)||[];return{settings:M,ads:O}}catch(P){return console.warn("Could not fetch public settings, falling back to context.",P),{settings:n,ads:s}}},F=async N=>{o(!0),c("   ...");try{const{settings:R,ads:P}=await S(),D=[];if(!N||N==="global"){c("Generating Global Services...");const O=e.filter(H=>H.slug&&(!H.countryCode||H.countryCode==="global"));if(O.length>0){const H=Lx(O,"global",R,r,i,P);D.push({path:"dist/services/index.html",content:ac(H)});for(const X of O){const G=Bx(X,e,R,r,i,P,"global"),Z=X.serviceType==="site"?"site":"doc";D.push({path:`dist/${Z}/${X.slug}/index.html`,content:ac(G)})}}}const M=N&&N!=="global"?[N]:Kn.en.map(O=>O.code);for(const O of M){const H=e.filter(X=>X.slug&&X.countryCode===O);if(H.length>0){c(`Generating Services for ${O.toUpperCase()}...`);const X=Lx(H,O,R,r,i,P);D.push({path:`dist/${O}/services/index.html`,content:ac(X)});for(const G of H){const Z=Bx(G,e,R,r,i,P,O),W=G.serviceType==="site"?"site":"doc";D.push({path:`dist/${O}/${W}/${G.slug}/index.html`,content:ac(Z)})}}}D.length===0?c("    ."):(c(` ${D.length}   GitHub...`),await Ms({files:D,commitMessage:"feat: Regenerate static service pages (Separated)"}),c(`  ${D.length}   !`))}catch(R){console.error(R);const P=R instanceof Error?R.message:String(R);c(`: ${P}`)}finally{o(!1),setTimeout(()=>c(""),8e3)}},A=async N=>{var R,P,D,M;f(!0),p("");try{const O=new _m,{settings:H,ads:X}=await S();if(!N||N==="global"){const Y=e.filter(B=>B.slug&&(!B.countryCode||B.countryCode==="global"));if(Y.length>0){const B=Lx(Y,"global",H,r,i,X);(R=O.folder("services"))==null||R.file("index.html",B);for(const j of Y){const q=Bx(j,e,H,r,i,X,"global"),J=O.folder(j.serviceType==="site"?"site":"doc");(P=J==null?void 0:J.folder(j.slug))==null||P.file("index.html",q)}}}const G=N&&N!=="global"?[N]:Kn.en.map(Y=>Y.code);for(const Y of G){const B=e.filter(j=>j.slug&&j.countryCode===Y);if(B.length>0){const j=O.folder(Y);if(j){const q=Lx(B,Y,H,r,i,X);(D=j.folder("services"))==null||D.file("index.html",q);for(const J of B){const Q=Bx(J,e,H,r,i,X,Y),te=j.folder(J.serviceType==="site"?"site":"doc");(M=te==null?void 0:te.folder(J.slug))==null||M.file("index.html",Q)}}}}const Z=await O.generateAsync({type:"blob"}),W=N?`gitut-service-pages-${N}.zip`:"gitut-service-pages-separated.zip";Em.saveAs(Z,W)}catch(O){console.error(O),p("    ZIP.")}finally{f(!1)}},I=async()=>{g(!0),b("Generating template files...");try{const N=await Al("templates-paginated","global",!0);if(N.length===0)b("No templates to publish.");else{const R=N.map(P=>({path:`dist/data/json/templates/${P.fileName}`,content:JSON.stringify(P.data)}));b(`Uploading ${R.length} template files...`),await Ms({files:R,commitMessage:"feat: Update paginated templates"}),b(`Successfully published ${R.length} template files.`)}}catch(N){console.error("Template publishing failed:",N),b(`: ${N.message}`)}finally{g(!1),setTimeout(()=>b(""),8e3)}};return d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"   "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:"  (HTML)"}),d.jsx("button",{onClick:()=>A(),disabled:a||u,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(lo,{})}),d.jsxs("div",{className:"relative",ref:C,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>F("global"),disabled:a||u,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:"Global Only"})]}),d.jsx("button",{onClick:()=>w(!x),disabled:a||u,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(Ec,{})})]}),x&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>F(void 0),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"All ( )"}),d.jsx("button",{onClick:()=>F("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b",children:"Global Only"}),Kn.en.map(N=>d.jsxs("button",{onClick:()=>F(N.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:N.flag})," ",N.name," Only"]},N.code))]})]})]}),l&&d.jsx("p",{className:"text-blue-600 text-sm mt-1 text-center",children:l}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:"  (JSON)"}),d.jsxs("button",{onClick:I,disabled:v,className:"bg-blue-600 text-white font-bold p-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2",children:[v?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:" "})]})]}),y&&d.jsx("p",{className:"text-blue-600 text-sm mt-1 text-center",children:y})]})]})},AK=()=>{const{blogPosts:t,siteSettings:e,pages:n,ads:r}=Yt(),[i,s]=V.useState(!1),[a,o]=V.useState(""),[l,c]=V.useState(!1),[u,f]=V.useState(!1),h=V.useRef(null);V.useEffect(()=>{const y=b=>{h.current&&!h.current.contains(b.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=async()=>{var y,b;try{const x=await fetch("https://datas.gitut.com/data/json/site-settings-public.json?t="+Date.now());if(!x.ok)throw new Error("Failed to fetch public settings");const w=await x.json(),C={...nr,...e,...w,ads:{...nr.ads,...w.ads||{},items:((y=w.ads)==null?void 0:y.items)||[]}},S=((b=w.ads)==null?void 0:b.items)||[];return{settings:C,ads:S}}catch(x){return console.warn("Could not fetch public settings, falling back to context.",x),{settings:e,ads:r}}},v=async y=>{s(!0),o(y?`    : ${y}`:"    ...");try{const{settings:b,ads:x}=await p(),w=[],C=[];y?C.push(y):(C.push("global"),Kn.en.forEach(S=>C.push(S.code)));for(const S of C){const F=t.filter(N=>N.enabled&&N.slug&&(S==="global"?!N.countryCode||N.countryCode==="global":N.countryCode===S));if(F.length===0)continue;const A=S==="global"?"ar":qo(S),I=S==="global"?"":S;for(const N of F)if(N.content&&(N.content[A]||A==="ar"&&Object.values(N.content).length>0)){const R=aU(N,t,b,A,x,n,t,I),P=S==="global"?`dist/blog/${N.slug}/index.html`:`dist/${S}/blog/${N.slug}/index.html`;w.push({path:P,content:ac(R)})}if(F.length>0){const N=sU(F,b,A,n,t,I),R=S==="global"?"dist/blog/index.html":`dist/${S}/blog/index.html`;w.push({path:R,content:ac(N)})}}w.length===0?o("       ."):(o(` ${w.length}   GitHub...`),await Ms({files:w,commitMessage:`feat: Regenerate static blog pages${y?` for ${y}`:""}`}),o(`  ${w.length}   !`))}catch(b){console.error(b);const x=b instanceof Error?b.message:String(b);o(`: ${x}`)}finally{s(!1),setTimeout(()=>o(""),8e3)}},g=async()=>{var y,b,x;c(!0);try{const w=new _m,C=w.folder("blog");if(!C)throw new Error("Could not create zip folder");const S=["global",...Kn.en.map(A=>A.code)];for(const A of S){const I=t.filter(M=>M.enabled&&M.slug&&(A==="global"?!M.countryCode||M.countryCode==="global":M.countryCode===A));if(I.length===0)continue;const N=A==="global"?"ar":qo(A),R=A==="global"?"":A;let P=A==="global"?C:(y=w.folder(A))==null?void 0:y.folder("blog");if(!P&&A!=="global"&&(P=(b=w.folder(A))==null?void 0:b.folder("blog")),!P)continue;for(const M of I)if(M.content&&(M.content[N]||N==="ar"&&Object.values(M.content).length>0)){const O=aU(M,t,e,N,r,n,t,R);(x=P.folder(M.slug))==null||x.file("index.html",O)}const D=sU(I,e,N,n,t,R);P.file("index.html",D)}const F=await w.generateAsync({type:"blob"});Em.saveAs(F,"gitut-blog-pages.zip")}catch(w){console.error(w)}finally{c(!1)}};return d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"   (Static)"}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:g,disabled:i||l,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(lo,{})}),d.jsxs("div",{className:"relative",ref:h,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>v(),disabled:i||l,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[i?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:" "})]}),d.jsx("button",{onClick:()=>f(!u),disabled:i||l,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(Ec,{})})]}),u&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>v("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Kn.en.map(y=>d.jsxs("button",{onClick:()=>v(y.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:y.flag})," ",y.name]},y.code))]})]})]}),a&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:a})]})},NK=()=>{const{pages:t,siteSettings:e,blogPosts:n,ads:r}=Yt(),[i,s]=V.useState(!1),[a,o]=V.useState(""),[l,c]=V.useState(!1),[u,f]=V.useState(!1),[h,p]=V.useState(!1),[v,g]=V.useState(""),[y,b]=V.useState(!1),x=V.useRef(null);V.useEffect(()=>{const I=N=>{x.current&&!x.current.contains(N.target)&&b(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const w=async()=>{var I,N;try{const R=await fetch("https://datas.gitut.com/data/json/site-settings-public.json?t="+Date.now());if(!R.ok)throw new Error("Failed to fetch public settings");const P=await R.json(),D={...nr,...e,...P,ads:{...nr.ads,...P.ads||{},items:((I=P.ads)==null?void 0:I.items)||[]}},M=((N=P.ads)==null?void 0:N.items)||[];return{settings:D,ads:M}}catch(R){return console.warn("Could not fetch public settings for generation, falling back to context data.",R),{settings:e,ads:r}}},C=async I=>{s(!0),o(I?`    : ${I}`:"    ...");try{const{settings:N,ads:R}=await w(),P=[];for(const D of t)if(D.enabled&&D.slug){const M=D.targetCountry||D.lang||"global";if(I==="global"&&M==="global"){const O=jx(D,"dz",N,t,n,R),H=`dist/page/${D.slug}/index.html`;P.push({path:H,content:ac(O)})}else if(I&&I!=="global"&&M===I){const O=jx(D,I,N,t,n,R),H=`dist/${I}/page/${D.slug}/index.html`;P.push({path:H,content:ac(O)})}}P.length===0?o("       ."):(o(` ${P.length}   GitHub...`),await Ms({files:P,commitMessage:`feat: Regenerate static site pages${I?` for ${I}`:""}`}),o(`  ${P.length}  !`))}catch(N){console.error(N);const R=N instanceof Error?N.message:String(N);o(`: ${R}`)}finally{s(!1),setTimeout(()=>o(""),8e3)}},S=async()=>{var I,N,R,P,D;c(!0);try{const M=new _m;for(const H of t)if(H.enabled&&H.slug){const X=H.targetCountry||"global";if(X==="global"){const G=jx(H,"dz",e,t,n,r);(N=(I=M.folder("page"))==null?void 0:I.folder(H.slug))==null||N.file("index.html",G)}else{const G=jx(H,X,e,t,n,r);(D=(P=(R=M.folder(X))==null?void 0:R.folder("page"))==null?void 0:P.folder(H.slug))==null||D.file("index.html",G)}}const O=await M.generateAsync({type:"blob"});Em.saveAs(O,"gitut-static-pages.zip")}catch(M){console.error(M)}finally{c(!1)}},F=async()=>{f(!0),g("Generating homepage files...");try{const{settings:I}=await w(),N=[],P=[null,...Kn.en.map(D=>D.code)];for(const D of P){const M=oU(D,I,t,n),O=D?`dist/${D}/index.html`:"dist/index.html";N.push({path:O,content:ac(M)})}g(`Uploading ${N.length} files to GitHub...`),await Ms({files:N,commitMessage:"feat: Regenerate static homepages"}),g(`Successfully published ${N.length} homepages!`)}catch(I){console.error("Homepage publishing failed:",I),g(`: ${I.message}`)}finally{f(!1),setTimeout(()=>g(""),8e3)}},A=async()=>{p(!0),g("");try{const I=new _m,R=[null,...Kn.en.map(D=>D.code)];for(const D of R){const M=oU(D,e,t,n),O=D?`${D}/index.html`:"index.html";I.file(O,M)}const P=await I.generateAsync({type:"blob"});Em.saveAs(P,"gitut-homepages.zip")}catch(I){console.error("Homepage download failed:",I),g(`: ${I.message}`)}finally{p(!1)}};return d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"    "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:A,disabled:u||h,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(lo,{})}),d.jsx("button",{onClick:F,disabled:u||h,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:u?d.jsx(bt,{className:"animate-spin"}):""})]}),v&&d.jsx("p",{className:"text-blue-600 text-sm mt-1 text-center",children:v}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:"  (:  )"}),d.jsx("button",{onClick:S,disabled:i||l,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(lo,{})}),d.jsxs("div",{className:"relative",ref:x,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>C("global"),disabled:i||l,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[i?d.jsx(bt,{className:"animate-spin"}):d.jsx(Bf,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>b(!y),disabled:i||l,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(Ec,{})})]}),y&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>C("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Kn.en.map(I=>d.jsxs("button",{onClick:()=>C(I.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:I.flag})," ",I.name]},I.code))]})]})]}),a&&d.jsx("p",{className:"text-blue-600 text-sm mt-1 text-center",children:a})]})]})},kK=()=>{const{codes:t,refetchAdminData:e}=Yt(),[n,r]=V.useState({isOpen:!1,mode:"create",code:null}),[i,s]=V.useState({key:"",description:"",questionText:""}),a=V.useMemo(()=>{const u=Object.entries(N2).map(([v,g])=>({id:`const-${v}`,key:`[${v}]`,description:g,isReadOnly:!0})),f=t.map(v=>({...v,isReadOnly:!1})),h=new Set(u.map(v=>v.key)),p=f.filter(v=>!h.has(v.key));return[...u,...p].sort((v,g)=>v.key.localeCompare(g.key))},[t]),o=u=>{u?(s({key:u.key,description:u.description,questionText:u.questionText||""}),r({isOpen:!0,mode:"edit",code:u})):(s({key:"",description:"",questionText:""}),r({isOpen:!0,mode:"create",code:null}))},l=async u=>{u.preventDefault();const f={...i,key:`[${i.key.replace(/\[|\]/g,"")}]`};try{n.mode==="create"?await X0.create(f):n.code&&await X0.update(n.code.id,f),await e(),r({isOpen:!1,mode:"create",code:null})}catch(h){console.error(h),alert("  .")}},c=async u=>{window.confirm("  ")&&(await X0.delete(u),await e())};return d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"  (Placeholders)"}),d.jsxs("button",{onClick:()=>o(null),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(dc,{}),"  "]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"        ."}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""})]})}),d.jsx("tbody",{children:a.map(u=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 border-b font-mono text-gray-700",children:u.key}),d.jsx("td",{className:"p-2 border-b text-gray-600",children:u.description}),d.jsx("td",{className:"p-2 border-b",children:u.isReadOnly?d.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[d.jsx(QH,{}),""]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>o(u),className:"text-blue-600 hover:underline",children:d.jsx(kw,{})}),d.jsx("button",{onClick:()=>c(u.id),className:"text-red-600 hover:underline",children:d.jsx(oh,{})})]})})]},u.id))})]})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:l,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",value:i.key.replace(/\[|\]/g,""),onChange:u=>s(f=>({...f,key:u.target.value})),required:!0,className:"w-full p-2 border rounded-md",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:i.description,onChange:u=>s(f=>({...f,description:u.target.value})),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),d.jsx("input",{type:"text",value:i.questionText||"",onChange:u=>s(f=>({...f,questionText:u.target.value})),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>r({isOpen:!1,mode:"create",code:null}),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})})]})},z4e=()=>{const[t,e]=V.useState(!1),[n,r]=V.useState("json"),i=[{id:"json",label:"  (JSON)",icon:d.jsx(kge,{})},{id:"sitemaps",label:" ",icon:d.jsx(Vge,{})},{id:"services",label:" ",icon:d.jsx(Age,{})},{id:"blog",label:"",icon:d.jsx(Sge,{})},{id:"content",label:" ",icon:d.jsx(Xb,{})},{id:"codes",label:"",icon:d.jsx($H,{})}];return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"forcePublishAll",type:"checkbox",checked:t,onChange:s=>e(s.target.checked),className:"h-5 w-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"forcePublishAll",className:"mr-3 text-gray-700 font-semibold cursor-pointer select-none",children:"   (  )"})]}),d.jsx("p",{className:"text-xs text-gray-500 border-r pr-4 mr-2",children:"             ."})]}),d.jsx("div",{className:"flex flex-wrap gap-2 border-b pb-2",children:i.map(s=>d.jsxs("button",{onClick:()=>r(s.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg font-medium transition-colors ${n===s.id?"bg-white text-green-600 border-b-2 border-green-600 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[s.icon,d.jsx("span",{children:s.label})]},s.id))}),d.jsxs("div",{className:"min-h-[400px]",children:[n==="json"&&d.jsx(TK,{}),n==="sitemaps"&&d.jsx(EK,{}),n==="services"&&d.jsx(DK,{forcePublishAll:t}),n==="blog"&&d.jsx(AK,{}),n==="content"&&d.jsx(NK,{}),n==="codes"&&d.jsx(kK,{})]})]})};if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const a0={siteId:"",siteName:"",siteUrl:"",fields:[]},lU=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),H4e=()=>{var G;const{sites:t}=Yt(),[e,n]=V.useState(t),[r,i]=V.useState({isOpen:!1,mode:"create",site:null}),[s,a]=V.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:a0}),[o,l]=V.useState(!1),[c,u]=V.useState(`[
  
]`),[f,h]=V.useState(""),[p,v]=V.useState(!1),[g,y]=V.useState("builder"),[b,x]=V.useState(""),[w,C]=V.useState("");V.useEffect(()=>{n(t)},[t]),V.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{x(JSON.stringify(s.jsonTemplate||a0,null,2)),C("")}catch{x("{}"),C("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const S=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:a0}),i({isOpen:!0,mode:"create",site:null})},F=Z=>{y("builder");const W=Z.jsonTemplate||{...a0,siteName:Z.name,siteUrl:Z.url,siteId:Z.id};a({...Z,countryCode:Z.countryCode||"",description:Z.description||"",tags:Z.tags||"",slug:Z.slug||"",jsonTemplate:W}),x(JSON.stringify(W,null,2)),i({isOpen:!0,mode:"edit",site:Z})},A=()=>{i({isOpen:!1,mode:"create",site:null})},I=(Z,W,Y)=>{a(B=>{var q;const j=[...((q=B.jsonTemplate)==null?void 0:q.fields)||[]];return j[Z]={...j[Z],[W]:Y},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},N=()=>{a(Z=>{var W;return{...Z,jsonTemplate:{...Z.jsonTemplate,fields:[...((W=Z.jsonTemplate)==null?void 0:W.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},R=Z=>{a(W=>{var Y;return{...W,jsonTemplate:{...W.jsonTemplate,fields:(((Y=W.jsonTemplate)==null?void 0:Y.fields)||[]).filter((B,j)=>j!==Z)}}})},P=Z=>{const W=Z.target.value;x(W);try{const Y=JSON.parse(W);if(typeof Y!="object"||Y===null){C("Input must be a valid JSON object.");return}let B,j=!1;Y.jsonTemplate&&typeof Y.jsonTemplate=="object"&&Array.isArray(Y.jsonTemplate.fields)?(B=Y.jsonTemplate,j=!0):Array.isArray(Y.fields)&&(B=Y),B?(a(j?q=>({...q,name:Y.name||q.name,url:Y.url||q.url,countryCode:Y.countryCode||q.countryCode,type:Y.type==="template"?"template":q.type,description:Y.description||q.description,tags:Y.tags||q.tags,jsonTemplate:B}):q=>({...q,jsonTemplate:B})),C("")):C('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{C("Invalid JSON format.")}},D=async Z=>{var B,j,q;if(Z.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let W=lU(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Q=>Q.slug===W)){if(!window.confirm("     (    ).        "))return;W=`${W}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Q=>Q.url===s.url)&&!window.confirm("    .      "))return;const Y={...s,slug:W,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||a0,siteName:s.name,siteUrl:s.url,siteId:((q=r.site)==null?void 0:q.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};Y.type==="static"&&(Y.jsonTemplate=void 0),r.mode==="create"?(await cf.create(Y),n(J=>[...J,{...Y,id:Y.name}])):r.site&&(await cf.update(r.site.id,Y),n(J=>J.map(Q=>Q.id===r.site.id?{...Y,id:r.site.id}:Q))),alert(" .       ."),A()},M=Z=>{window.confirm("        ")&&(cf.delete(Z),n(W=>W.filter(Y=>Y.id!==Z)))},O=async()=>{h(""),v(!0);let Z=0;try{const W=JSON.parse(c);if(!Array.isArray(W))throw new Error("The provided input must be a valid JSON array.");for(const Y of W){if(!Y.name||!Y.url||!Y.type){console.warn("Skipping invalid site object in bulk add:",Y);continue}const B={...Y,slug:lU(Y.name)};await cf.create(B),n(j=>[...j,{...B,id:B.name}]),Z++}alert(`  ${Z}  .`),l(!1),u(`[
  
]`)}catch(W){h(`: ${W.message}`)}finally{v(!1)}},H=Object.keys(Mr);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:S,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(Z=>{var W,Y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:Z.name}),d.jsx("td",{className:"p-3 text-gray-600",children:Z.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:Z.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:Z.type==="template"?`${((Y=(W=Z.jsonTemplate)==null?void 0:W.fields)==null?void 0:Y.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[Z.slug&&d.jsx("a",{href:`/${Z.countryCode||"dz"}/site/${Z.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>F(Z),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>M(Z.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},Z.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:Z=>u(Z.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:O,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(bt,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:D,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:Z=>a(W=>({...W,type:Z.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:Z=>a(W=>({...W,countryCode:Z.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:Z=>a(W=>({...W,name:Z.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:Z=>a(W=>({...W,url:Z.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(vr,{theme:"snow",value:s.description||"",onChange:Z=>a(W=>({...W,description:Z})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:Z=>a(W=>({...W,tags:Z.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((G=s.jsonTemplate)==null?void 0:G.fields)||[]).map((Z,W)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>R(W),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:Z.label,onChange:Y=>I(W,"label",Y.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:Z.fieldId,onChange:Y=>I(W,"fieldId",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:H.map(Y=>d.jsx("option",{value:Y,children:Mr[Y].label},Y))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:Z.cssSelector,onChange:Y=>I(W,"cssSelector",Y.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:Z.action,onChange:Y=>I(W,"action",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:Z.type,onChange:Y=>I(W,"type",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},W)),d.jsxs("button",{type:"button",onClick:N,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(dc,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:b,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:A,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},IK=window.SpeechRecognition||window.webkitSpeechRecognition,g4=!!IK,PK=({formFields:t,onFieldUpdate:e})=>{const[n,r]=V.useState("idle"),[i,s]=V.useState(""),[a,o]=V.useState(!1),[l,c]=V.useState(null),[u,f]=V.useState("ar-SA"),[h,p]=V.useState("voice"),[v,g]=V.useState(""),y=V.useRef(null),b=V.useRef(""),x=V.useRef(n);V.useEffect(()=>{x.current=n},[n]);const w=V.useRef(e);w.current=e;const C=async P=>{if(P.trim()){o(!0),c(null);try{const D=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,O=await a0e(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},D);Array.isArray(O)&&O.length>0?w.current(O):console.log("AI did not find any fields to update from transcript:",P)}catch(D){console.error("Error processing transcript with AI:",D);const M=D instanceof Error?D.message:"An unknown error occurred.";c(`  : ${M}`)}finally{o(!1)}}};V.useEffect(()=>{if(!g4)return;const P=new IK;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=D=>{let M="";for(let O=D.resultIndex;O<D.results.length;++O)D.results[O].isFinal?b.current+=D.results[O][0].transcript+" ":M+=D.results[O][0].transcript;s(b.current+M)},P.onerror=D=>{console.error("Speech recognition error:",D.error),c(`  : ${D.error}`),r("idle")},P.onend=()=>{x.current==="recording"&&r("paused")},()=>{P.abort()}},[g4]);const S=()=>{y.current&&(b.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},F=()=>{y.current&&(r("paused"),y.current.stop())},A=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},I=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await C(i),s(""),b.current="")},N=async()=>{v.trim()&&(await C(v),g(""))},R=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:F,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(jge,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:I,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(Q0,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:A,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx(ZH,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:I,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(Q0,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:S,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Cc,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(Cc,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(XH,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:g4?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:R()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:N,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(Q0,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},G4e=()=>{const{siteId:t}=ua(),e=Si(),{user:n}=kr(),{sites:r,cafes:i,siteSettings:s,loading:a}=Yt(),o=V.useMemo(()=>r.find(R=>R.id===t),[t,r]),l=V.useMemo(()=>i.find(R=>R.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=V.useState({}),[h,p]=V.useState(null),[v,g]=V.useState(""),[y,b]=V.useState(!0);V.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const x=(R,P)=>{f(D=>({...D,[R]:P}))},w=R=>{const P={...u};R.forEach(({fieldId:D,value:M})=>{P[D]=M}),f(P)},C=R=>{var M;const P=(M=R.target.files)==null?void 0:M[0];if(!P)return;g("");const D=new FileReader;D.onload=O=>{var H;try{const X=(H=O.target)==null?void 0:H.result,G=JSON.parse(X);if(G&&G.siteId&&Array.isArray(G.fields))p(G);else throw new Error("Invalid JSON structure.")}catch(X){g("   .     JSON   ."),console.error(X)}},D.onerror=()=>{g("    .")},D.readAsText(P)},S=async R=>{if(R.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,D=await cI(n,P);if(!D.success){alert(D.message),e(`/${n.countryCode}/app/billing`);return}if(y){const H={},X=c==="json"?h==null?void 0:h.fields.map(G=>({id:G.fieldId,label:G.label})):o==null?void 0:o.templateFields;X&&(X.forEach(G=>{const Z=G.id;Object.keys(Mr).includes(Z)&&(H[Z]=u[Z])}),Object.keys(H).length>0&&bp.create(H))}const M={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(M,"*"),window.open(o.url,"_blank");const O=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${O}  .       .    .`),f({})},F=V.useMemo(()=>c==="json"&&h?h.fields.map(R=>({id:R.fieldId,label:R.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(R=>({id:R.id,label:R.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(sn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const A=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,I=(n==null?void 0:n.credits.currency)==="USD"?"$":"",N=()=>{var R;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:D=>x(D.target.name,D.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(R=o.templateFields)==null?void 0:R.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:D=>x(D.target.name,D.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[A," ",I]})]})]}),d.jsx(sn,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(Rge,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:C,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(PK,{formFields:F,onFieldUpdate:w}),N(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:R=>b(R.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const Vx=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),K4e={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},J4e=()=>{var Re;const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=Yt(),[i,s]=V.useState([]);Si();const{t:a}=si(),[o,l]=V.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=V.useState({}),[f,h]=V.useState(!1),[p,v]=V.useState(""),[g,y]=V.useState(""),[b,x]=V.useState({preview:"",final:""}),[w,C]=V.useState({isOpen:!1,doc:null}),[S,F]=V.useState({}),[A,I]=V.useState({preview:"upload",final:"upload"}),[N,R]=V.useState({preview:"",final:""}),[P,D]=V.useState(!1),M=V.useRef(null),O=V.useRef(null),[H,X]=V.useState(!1),[G,Z]=V.useState(""),[W,Y]=V.useState("");V.useEffect(()=>{const ve=[...t].sort((Me,Oe)=>Me.name.localeCompare(Oe.name)).filter(Me=>Me.name.toLowerCase().includes(g.toLowerCase())||Me.description.toLowerCase().includes(g.toLowerCase())||Me.id.toLowerCase().includes(g.toLowerCase()));s(ve)},[t,g]);const B=async()=>{await r()},j=async Ee=>{if(window.confirm("              ."))try{await gl.delete(Ee),await B(),alert("   .")}catch(ve){console.error("Failed to delete document:",ve),alert("  .")}},q=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),I({preview:"upload",final:"upload"}),R({preview:"",final:""}),x({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},J=async Ee=>{u({...Ee});const ve={preview:"upload",final:"upload"},Me={preview:Ee.previewTemplateHtml||"",final:Ee.finalTemplateHtml||""};Ee.previewTemplateHtml&&(ve.preview="code"),Ee.finalTemplateHtml&&(ve.final="code"),R(Me),I(ve),x({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:Ee}),v("")},Q=()=>{l({isOpen:!1,mode:"create",doc:null})},te=Ee=>{const{name:ve,value:Me}=Ee.target;u(Oe=>({...Oe,[ve]:Me}))},ae=async(Ee,ve)=>{var qe;const Me=(qe=Ee.target.files)==null?void 0:qe[0];if(!Me)return;const Oe=new FileReader;Oe.onload=st=>{var Ct;const it=(Ct=st.target)==null?void 0:Ct.result;x(Wt=>({...Wt,[ve]:it})),R(Wt=>({...Wt,[ve]:it}))},Oe.readAsText(Me)},ce=Ee=>{var Me;const ve=Ee.target.value;ve&&!((Me=c.requiredFields)!=null&&Me.includes(ve))&&u(Oe=>({...Oe,requiredFields:[...Oe.requiredFields||[],ve]})),Ee.target.value=""},ue=Ee=>{u(ve=>({...ve,requiredFields:(ve.requiredFields||[]).filter(Me=>Me!==Ee)}))},Se=()=>{let Ee="";if(A.final==="code"?Ee=N.final:b.final?Ee=b.final:Ee=c.finalTemplateHtml||"",!Ee){alert("       .");return}const ve=Hb(Ee),Me=Array.from(new Set([...c.requiredFields||[],...ve]));u(Oe=>({...Oe,requiredFields:Me})),alert(`  .   : ${Me.length}`)},Fe=()=>{const Ee=N.preview.replace(/\[.*?\]/g,"........");R(ve=>({...ve,preview:Ee}))},fe=async Ee=>{var ve,Me,Oe;Ee.preventDefault(),h(!0);try{const qe={...c},st=Wt=>Wt.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let it="";A.preview==="code"?it=N.preview:b.preview&&(it=b.preview),it&&(qe.previewTemplateHtml=st(it),qe.previewTemplateUrl="");let Ct="";if(A.final==="code"?Ct=N.final:b.final&&(Ct=b.final),Ct&&(qe.finalTemplateHtml=st(Ct),qe.finalTemplateUrl=""),qe.slug=(ve=c.slug)!=null&&ve.trim()?Vx(c.slug):Vx(c.name||""),o.mode==="create"){const Wt=((Me=c.id)==null?void 0:Me.trim())||((Oe=c.groupId)==null?void 0:Oe.trim())||qe.slug;qe.id=Wt,qe.groupId||(qe.groupId=Wt),await gl.create(qe)}else o.doc&&await gl.update(o.doc.id,qe);await B(),alert("   !"),Q()}catch(qe){console.error("Failed to save document:",qe),alert("  .")}finally{h(!1)}},Le=async()=>{var Ee;if(!((Ee=c.name)!=null&&Ee.trim())){alert("      .");return}D(!0);try{const ve=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,Oe=(await hc({model:"gemini-2.5-flash",contents:ve})).text||"";u(qe=>({...qe,description:Oe}))}catch(ve){console.error("AI description generation failed:",ve),alert("    .")}finally{D(!1)}},z=Ee=>{F(Ee.fieldCustomizations||{}),C({isOpen:!0,doc:Ee})},me=()=>{C({isOpen:!1,doc:null}),F({})},be=(Ee,ve,Me)=>{F(Oe=>({...Oe,[Ee]:{...Oe[Ee]||{type:"text"},[ve]:Me}}))},le=(Ee,ve,Me)=>{F(Oe=>{var st;const qe=[...((st=Oe[Ee])==null?void 0:st.options)||[]];return qe[ve]=Me,{...Oe,[Ee]:{...Oe[Ee]||{type:"text"},options:qe}}})},re=Ee=>{F(ve=>{var Oe;const Me=[...((Oe=ve[Ee])==null?void 0:Oe.options)||[],""];return{...ve,[Ee]:{...ve[Ee]||{type:"text"},type:"select",options:Me}}})},oe=(Ee,ve)=>{F(Me=>{var qe;const Oe=(((qe=Me[Ee])==null?void 0:qe.options)||[]).filter((st,it)=>it!==ve);return{...Me,[Ee]:{...Me[Ee]||{type:"text"},options:Oe}}})},Ie=async()=>{if(w.doc){h(!0);try{const Ee={...w.doc,fieldCustomizations:S};await gl.update(w.doc.id,Ee),await B(),alert("  !"),me()}catch(Ee){console.error("Failed to save customizations:",Ee),alert("  .")}finally{h(!1)}}},ke=(Ee,ve)=>{I(Me=>({...Me,[Ee]:ve}))},he=(Ee,ve)=>{if(!ve)return;const Oe=(Ee==="preview"?M:O).current;if(Oe){const qe=Oe.selectionStart,st=Oe.selectionEnd,it=Oe.value,Ct=it.substring(0,qe)+ve+it.substring(st);R(Wt=>({...Wt,[Ee]:Ct})),setTimeout(()=>{Oe&&(Oe.focus(),Oe.selectionStart=Oe.selectionEnd=qe+ve.length)},0)}},ye=()=>{Z(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<h1> </h1><p>   <strong>  </strong> (Rich Text).</p><ul><li> 1</li><li> 2</li></ul>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),Y(""),X(!0)},_e=()=>{X(!1)},Te=async Ee=>{Ee.preventDefault(),Y(""),h(!0);try{const ve=JSON.parse(G),Me=Array.isArray(ve)?ve:[ve];let Oe=0,qe=0;for(const[st,it]of Me.entries()){const{name:Ct,groupId:Wt,previewTemplateHtml:$t,finalTemplateHtml:_n}=it;if(typeof Ct!="string"||!Ct.trim()||typeof Wt!="string"||!Wt.trim()||typeof $t!="string"||!$t.trim()||typeof _n!="string"||!_n.trim()){const nt=[];(typeof Ct!="string"||!Ct.trim())&&nt.push("name"),(typeof Wt!="string"||!Wt.trim())&&nt.push("groupId"),(typeof $t!="string"||!$t.trim())&&nt.push("previewTemplateHtml"),(typeof _n!="string"||!_n.trim())&&nt.push("finalTemplateHtml");const xt=it.name||it.id||`  ${st+1}`;throw new Error(`    : ${nt.join(", ")}   "${xt}"`)}const{description:En,countryCode:Ln,tags:xn,id:Rt}=it,We=nt=>nt.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),ie=We(_n),de=We($t),Pe={name:Ct,groupId:Wt,description:En||"",countryCode:Ln||"",tags:xn||"",slug:Vx(Ct),previewTemplateHtml:de,finalTemplateHtml:ie,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:Hb(ie)},$e=Rt||Wt||Vx(Ct);Pe.id=$e;try{await gl.create(Pe),Oe++}catch(nt){if(nt.message&&(nt.message.includes("UNIQUE constraint failed")||nt.message.includes("SQLITE_CONSTRAINT")))console.warn(`Skipping duplicate document: ${Pe.name}`),qe++;else throw nt}}await B(),alert(` !
 : ${Oe}
  (): ${qe}`),_e()}catch(ve){const Me=ve instanceof Error?ve.message:" JSON     .";Y(Me)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:ye,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(dc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:q,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(dc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:Ee=>y(Ee.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(Ee=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:Ee.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[Ee.id,d.jsx("br",{}),Ee.groupId!==Ee.id&&`(${Ee.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:Ee.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:Ee.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[Ee.slug&&d.jsx("a",{href:`/${Ee.countryCode||"dz"}/doc/${Ee.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>J(Ee),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>z(Ee),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(Ee.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},Ee.id))})]})})}),H&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:Te,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[":  ",d.jsx("code",{children:"description"}),"   HTML    (   ...)."]}),d.jsx("textarea",{id:"jsonInput",value:G,onChange:Ee=>Z(Ee.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),W&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:W})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:_e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:fe,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:te,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:te,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:te,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:te,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:Le,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(vr,{theme:"snow",value:c.description||"",onChange:Ee=>u(ve=>({...ve,description:Ee})),modules:K4e})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:te,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:te,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Placeholders)"}),d.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-gray-50 mb-2",children:[(Re=c.requiredFields)==null?void 0:Re.map(Ee=>d.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs flex items-center gap-1",children:[Ee,d.jsx("button",{type:"button",onClick:()=>ue(Ee),className:"text-red-500 hover:text-red-700",children:""})]},Ee)),(!c.requiredFields||c.requiredFields.length===0)&&d.jsx("span",{className:"text-gray-400 text-xs",children:"   "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("select",{onChange:ce,className:"flex-grow p-2 border rounded-md text-sm",children:[d.jsx("option",{value:"",children:"   ..."}),Object.keys(Mr).map(Ee=>d.jsxs("option",{value:Ee,children:[Mr[Ee].label," (",Ee,")"]},Ee))]}),d.jsxs("button",{type:"button",onClick:Se,className:"bg-gray-200 text-gray-700 px-3 py-2 rounded-md text-sm hover:bg-gray-300 whitespace-nowrap",children:[d.jsx(eG,{className:"inline-block ml-1"}),"   "]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>ke("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${A.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>ke("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${A.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),A.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:Ee=>ae(Ee,"preview"),accept:".html",className:"w-full text-sm"}),b.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-xs text-gray-500",children:"  (HTML)"}),d.jsxs("button",{type:"button",onClick:Fe,className:"text-xs bg-red-100 text-red-600 font-semibold py-1 px-2 rounded-md hover:bg-red-200 flex items-center gap-1",title:"  [...]  ........",children:[d.jsx(HH,{}),"  [...]  ...."]})]}),d.jsx("textarea",{ref:M,value:N.preview,onChange:Ee=>R(ve=>({...ve,preview:Ee.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:Ee=>{he("preview",Ee.target.value),Ee.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(Ee=>d.jsxs("option",{value:Ee.key,children:[Ee.description," (",Ee.key,")"]},Ee.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>ke("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${A.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>ke("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${A.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),A.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:Ee=>ae(Ee,"final"),accept:".html",className:"w-full text-sm"}),b.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:N.final,onChange:Ee=>R(ve=>({...ve,final:Ee.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:Ee=>{he("final",Ee.target.value),Ee.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(Ee=>d.jsxs("option",{value:Ee.key,children:[Ee.description," (",Ee.key,")"]},Ee.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Q,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:Ee=>{Ee.preventDefault(),Ie()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(Mr).map(Ee=>{var Me,Oe,qe,st,it,Ct,Wt;const ve=(Me=w.doc)==null?void 0:Me.requiredFields.includes(Ee);return d.jsxs("div",{className:`p-4 border rounded-md ${ve?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(Mr[Ee].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((Oe=S[Ee])==null?void 0:Oe.type)||"text",onChange:$t=>be(Ee,"type",$t.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((qe=S[Ee])==null?void 0:qe.customQuestion)||"",onChange:$t=>be(Ee,"customQuestion",$t.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((st=S[Ee])==null?void 0:st.speechLang)||"",onChange:$t=>be(Ee,"speechLang",$t.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((it=S[Ee])==null?void 0:it.type)==="select"||((Ct=S[Ee])==null?void 0:Ct.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Wt=S[Ee])==null?void 0:Wt.options)||[]).map(($t,_n)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:$t,onChange:En=>le(Ee,_n,En.target.value),placeholder:` ${_n+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>oe(Ee,_n),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(oh,{})})]},_n))}),d.jsxs("button",{type:"button",onClick:()=>re(Ee),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(dc,{}),"  "]})]})]},Ee)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:me,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(bt,{className:"animate-spin"}):" "})]})]})})})]})},X4e=()=>{const[t,e]=V.useState([]),[n,r]=V.useState({isOpen:!1,mode:"create",client:null}),[i,s]=V.useState({}),{t:a}=si();V.useEffect(()=>{bp.getAll().then(e)},[]);const o=()=>{bp.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,b)=>{s(x=>({...x,[y]:b}))},h=V.useMemo(()=>Object.values(Mr).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:b,value:x})=>{f(b,x)})},v=y=>{y.preventDefault(),n.mode==="create"?bp.create(i):n.client&&bp.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(bp.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:_i(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(PK,{formFields:h,onFieldUpdate:p}),Object.values(Mr).map(y=>{var x;if(!y)return null;const b=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(Xv,{value:i[b]||"",onChange:w=>f(b,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(x=y.options)==null?void 0:x.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},Y4e=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=Yt(),{t:s}=si(),[a,o]=V.useState(""),[l,c]=V.useState(""),[u,f]=V.useState(""),[h,p]=V.useState(""),[v,g]=V.useState([]),[y,b]=V.useState([]),x=F=>{const A=F.target.value;o(A),c(""),f(""),A?(g(n.filter(I=>I.wilaya_code===A)),b([])):(g([]),b([]))},w=F=>{const A=F.target.value;c(A),f(""),b(A&&a?r.filter(I=>I.daira_name===A&&I.wilaya_code===a):[])},C=F=>{f(F.target.value)},S=F=>{var I;F.preventDefault();const A=((I=e.find(N=>N.code===a))==null?void 0:I.name)||"";t({wilaya:A,daira:l,commune:u,name:h})};return d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:a,onChange:x,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:s(i?"signup.loading":"signup.selectWilaya")}),e.map(F=>d.jsx("option",{value:F.code,children:F.name},F.id))]}),d.jsxs("select",{value:l,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!a||v.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:s("signup.selectDaira")}),v.map(F=>d.jsx("option",{value:F.name,children:F.name},F.id))]}),d.jsxs("select",{value:u,onChange:C,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!l||y.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:s("signup.selectCommune")}),y.map(F=>d.jsx("option",{value:F.name,children:F.name},F.id))]}),d.jsx("input",{type:"text",placeholder:s("searchForm.searchByName"),value:h,onChange:F=>p(F.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:s("searchForm.search")})]})};function Q4e(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const Z4e=()=>{const{countryCode:t,type:e,id:n}=ua(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=Yt(),[l,c]=V.useState(null),[u,f]=V.useState([]),[h,p]=V.useState(!1),[v,g]=V.useState(!1),[y,b]=V.useState(!1),[x,w]=V.useState(""),[C,S]=V.useState(!1),[F,A]=V.useState([]),[I,N]=V.useState(0),R=V.useMemo(()=>{if(!l)return"";let G="";if("description"in l&&l.description?G=l.description:"url"in l&&(G=`<p>${l.url}</p>`),!G)return"<p>     .</p>";const Z=`<div class="my-6 p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-md" role="alert">
            <p class="font-bold"> </p>
            <p>         <strong>  </strong>.</p>
        </div>`,W=G.indexOf("</p>");return W!==-1?G.slice(0,W+4)+Z+G.slice(W+4):Z+G},[l]);V.useEffect(()=>{c(null),w(""),(()=>{let Z=null;if(e==="doc"&&n){const W=r.find(Y=>Y.id===n||Y.slug===n);if(W){Z={...W,type:"doc"};const B=r.filter(q=>q.groupId===W.groupId).sort((q,J)=>q.name.localeCompare(J.name,"ar"));A(B);const j=B.findIndex(q=>q.id===W.id);N(j>=0?j:0)}}else if(e==="site"&&n){const W=s.find(Y=>Y.id===n||Y.slug===n);W&&(Z={...W,type:"site"},A([]))}else if(e==="static-doc"&&n){const W=i.find(Y=>Y.id===n||Y.slug===n);W&&(Z={...W,type:"static-doc"},A([]))}Z&&Z.countryCode&&Z.countryCode!==t?c(null):c(Z)})()},[e,n,r,s,i,t]),V.useEffect(()=>{const G=async()=>{if(F.length>0&&I<F.length){const W=F[I].previewTemplateUrl;if(!W){w(""),S(!1);return}S(!0);try{const Y=await fetch(W);Y.ok?w(await Y.text()):w("")}catch(Y){console.error("Error fetching preview:",Y),w("")}finally{S(!1)}}};(l==null?void 0:l.type)==="doc"&&F.length>0&&G()},[F,I,l]);const P=()=>{N(G=>(G+1)%F.length)},D=()=>{N(G=>(G-1+F.length)%F.length)},M=G=>{if(!l)return;let W=a;const Y=G.name.trim().toLowerCase();G.wilaya&&(W=W.filter(B=>B.address.wilaya===G.wilaya)),G.daira&&(W=W.filter(B=>B.address.daira===G.daira)),G.commune&&(W=W.filter(B=>B.address.commune===G.commune)),Y&&(W=W.filter(B=>B.name.toLowerCase().includes(Y))),f(W),b(!0),p(!1)},O=G=>{const Z=G.target.checked;if(p(Z),Z){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),b(!1),navigator.geolocation.getCurrentPosition(W=>{const Y={latitude:W.coords.latitude,longitude:W.coords.longitude},j=a.filter(q=>q.address.latitude&&q.address.longitude).map(q=>({...q,distance:Q4e(Y,q.address)})).sort((q,J)=>q.distance-J.distance);f(j),g(!1),b(!0)},W=>{console.error("Geolocation error:",W),alert(`    : ${W.message}`),g(!1),p(!1)})}else f([]),b(!1)},H=V.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&F.length>0){const G=F[I];return G?{...G,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,F,I]),X=V.useMemo(()=>{if((H==null?void 0:H.type)!=="doc")return[];const G=H;return(G.spokenFields&&G.spokenFields.length>0?G.spokenFields:G.requiredFields).filter(W=>W!=="profilePicture").map(W=>Mr[W]).filter(W=>!!W)},[H]);return H?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:H.name}),d.jsx("div",{className:"text-lg text-gray-600 prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:R}})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[F.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:D,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(Nw,{className:"h-6 w-6"})}),d.jsx("button",{onClick:P,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(Aw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[I+1," / ",F.length]})]}),C?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):x?d.jsx("iframe",{srcDoc:x,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),H.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),H.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',H.visitorExamplePrompt,'"']})]}),X.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:X.map(G=>d.jsx("li",{children:G.label},G.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx(Y4e,{onSearch:M}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:O,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(G=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:G.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[G.address.commune,", ",G.address.wilaya]}),G.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",G.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(sn,{to:`/${t}/profile/${G.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},G.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(sn,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const eDe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),tDe=()=>{const{staticDocuments:t}=Yt(),[e,n]=V.useState(t),[r,i]=V.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=V.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=V.useState(null),[c,u]=V.useState(!1);V.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=x=>{a({name:x.name,description:x.description,fileUrl:x.fileUrl,countryCode:x.countryCode||"",tags:x.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:x})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=x=>{x.target.files&&x.target.files[0]&&(l(x.target.files[0]),g(x.target.files[0]))},g=async x=>{if(!x){alert("   .");return}u(!0);try{const w=await wm(x);a(C=>({...C,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async x=>{if(x.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:eDe(s.name)};try{r.mode==="create"?(await gf.create(w),n(C=>[...C,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await gf.update(r.doc.id,w),n(C=>C.map(S=>S.id===r.doc.id?{...w,id:r.doc.id}:S))),alert("  !"),p()}catch(C){console.error("Failed to save static doc:",C),alert(" .")}},b=async x=>{if(window.confirm("        "))try{await gf.delete(x),n(w=>w.filter(C=>C.id!==x)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(x=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:x.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:x.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:x.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:x.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[x.slug&&d.jsx("a",{href:`/${x.countryCode||"dz"}/doc/${x.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(x),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>b(x.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},x.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:x=>a(w=>({...w,name:x.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(vr,{theme:"snow",value:s.description,onChange:x=>a(w=>({...w,description:x})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:x=>a(w=>({...w,tags:x.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:x=>a(w=>({...w,countryCode:x.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(bt,{className:"animate-spin"}):d.jsx(Ml,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},nDe=()=>{const{docId:t}=ua(),{staticDocuments:e,loading:n,siteSettings:r}=Yt(),{user:i}=kr(),s=Si(),a=V.useRef(null),[o,l]=V.useState(!1),[c,u]=V.useState(""),f=V.useMemo(()=>e.find(x=>x.id===t),[e,t]),h=V.useMemo(()=>_i(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const x=a.current;x&&x.contentWindow&&(x.contentWindow.focus(),x.contentWindow.print())},y=()=>{if(f){const x=document.createElement("a");x.href=h,x.setAttribute("download",f.name),document.body.appendChild(x),x.click(),document.body.removeChild(x)}},b=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const x=await cI(i,p);x.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(x.message),x.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(Pw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(lo,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(QH,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:b,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(sn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},rDe=()=>{const{countryCode:t,docId:e}=ua(),n=Si(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=Yt(),{t:l}=si(),[c,u]=V.useState(null),[f,h]=V.useState(!0);V.useEffect(()=>{(async()=>{if(!e)return;if(r.some(X=>X.id===e||X.slug===e)){h(!1);return}h(!0);try{const X=i.find(B=>B.id===e||B.slug===e)||s.find(B=>B.id===e||B.slug===e),G=(X==null?void 0:X.slug)||e,Z=(X==null?void 0:X.countryCode)||t;let W=`https://datas.gitut.com/data/json/documents/${G}.json`;Z&&Z!=="global"&&(W=`https://datas.gitut.com/data/json/documents/${Z}/${G}.json`);const Y=await fetch(W);if(Y.ok){const B=await Y.json();u(B)}else console.warn(`Failed to fetch document JSON from ${W}: ${Y.status}`)}catch(X){console.error("Error fetching document details:",X)}finally{h(!1)}})()},[e,r,i,s,t]);const p=V.useMemo(()=>{const O=decodeURIComponent(e||"");if(c)return{...c,serviceType:"doc"};const H=r.find(Z=>Z.id===O||Z.slug===O);if(H)return{...H,serviceType:"static-doc"};const X=s.find(Z=>Z.id===O||Z.slug===O);if(X)return{...X,serviceType:"doc"};const G=i.find(Z=>Z.id===O||Z.slug===O);return G?{...G,serviceType:"doc"}:null},[r,i,s,e,c]),v=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[g,y]=V.useState(v),[b,x]=V.useState(!1),w=V.useRef(null),[C,S]=V.useState(!1),[F,A]=V.useState({active:!1,format:null}),[I,N]=V.useState(!1),R=V.useMemo(()=>p?p.serviceType==="static-doc"&&p.fileUrl?_i(p.fileUrl):p.serviceType==="doc"&&"previewTemplateUrl"in p&&p.previewTemplateUrl?_i(p.previewTemplateUrl):"#":"#",[p]);V.useEffect(()=>{!o&&!f&&p&&y(v)},[o,f,p,v]),V.useEffect(()=>{const O=H=>{w.current&&!w.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const P=async O=>{if(!(I||!p||p.serviceType!=="doc"||!O)){N(!0);try{const H=c||p,X=[H];if(O==="pdf")await Gy(X,p.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(O==="word"){let G="previewTemplateHtml"in H?H.previewTemplateHtml:"";if(!G&&"previewTemplateUrl"in H&&H.previewTemplateUrl){const Y=await fetch(_i(H.previewTemplateUrl));Y.ok&&(G=await Y.text())}if(!G)throw new Error("Could not load Word template content.");const Z=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${p.name}</title></head>
                    <body>${G}</body>
                    </html>
                `],{type:"application/msword"}),W=document.createElement("a");W.href=URL.createObjectURL(Z),W.download=`${p.slug||"document"}.doc`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(W.href)}}catch(H){console.error("Failed to download document:",H),alert("   .")}finally{N(!1),A({active:!1,format:null})}}};V.useEffect(()=>{if(!(o||f||!p)){if(F.active)if(g>0){const O=setTimeout(()=>y(H=>H-1),1e3);return()=>clearTimeout(O)}else P(F.format);else if(!b)if(g>0){const O=setTimeout(()=>y(H=>H-1),1e3);return()=>clearTimeout(O)}else x(!0)}},[g,o,f,p,b,F]);const D=O=>{S(!1),A({active:!0,format:O}),y(v)},M=()=>{if(!p)return;const O=!p.countryCode||p.countryCode==="global",H=O?"/go-to-site/internal-form":`/${t}/go-to-site/internal-form`,X=O?`/public-form/${p.slug||p.id}`:`/${t}/public-form/${p.slug||p.id}`;n(H,{state:{targetUrl:X,siteName:` : ${p.name}`}})};if(o||f)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(bt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!p)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(sn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(b){const O=()=>p.serviceType==="doc"&&"previewTemplateHtml"in p&&p.previewTemplateHtml?d.jsx("iframe",{srcDoc:p.previewTemplateHtml,title:p.name,className:"w-full h-full border-0"}):R!=="#"?d.jsx("iframe",{src:R,title:p.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:l("serviceDetailPage.noPreview")})});return d.jsxs(d.Fragment,{children:[F.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l("adPage.preparing")}),d.jsx("p",{className:"text-gray-600",children:l("adPage.autoDisplay")}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:I?d.jsx(bt,{className:"animate-spin"}):g}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l("adPage.adLabel")}),d.jsx(fc,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:l("adPage.optionsTitle")}),p.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(KH,{}),d.jsx("span",{children:l("adPage.fillDownload")})]}),d.jsxs("div",{ref:w,className:"relative",children:[d.jsxs("button",{onClick:()=>S(H=>!H),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(lo,{}),d.jsx("span",{children:l("adPage.downloadBlank")})]}),C&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(Kv,{className:"text-red-500"}),d.jsx("span",{children:l("adPage.downloadPdf")})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(pI,{className:"text-blue-500"}),d.jsx("span",{children:l("adPage.downloadWord")})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(fc,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:O()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l("adPage.preparing")}),d.jsx("p",{className:"text-gray-600",children:l("adPage.autoDisplay")}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:g}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l("adPage.adLabel")}),d.jsx(fc,{placement:"PDF_INTERSTITIAL"})]})]})})},iDe=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const{t:i}=si(),s="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",a=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),o=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:_i(t.imageUrl)||s,alt:t.name,className:"w-full h-48 object-cover",onError:l=>{l.currentTarget.src=s}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:i(r===null?"cafeCard.checkingStatus":r?"cafeCard.online":"cafeCard.offline")})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.owner")})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.address")})," ",a]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," ",i("cafeCard.distanceUnit")]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(sn,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:i("cafeCard.chooseThisCafe")}):d.jsx(sn,{to:o,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:i("cafeCard.viewDetails")}),d.jsx(sn,{to:o,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:i("cafeCard.startChat"),children:d.jsx(fI,{})})]})]})]})},qa=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",sDe=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=lh(),{isOnline:i}=r(t.id);return d.jsx(iDe,{cafe:t,linkTo:e,linkState:n,isOnline:i})},aDe=()=>{const t=Nr(),e=Si(),{countryCode:n}=ua(),{documents:r,sites:i,communes:s,cafes:a}=Yt(),{documentIds:o}=t.state||{documentIds:[]},[l,c]=V.useState(!1),[u,f]=V.useState([]),[h,p]=V.useState(!1),v=V.useMemo(()=>{const O=r.filter(X=>o.includes(X.id)).map(X=>({...X,serviceType:"doc"})),H=i.filter(X=>o.includes(X.id)).map(X=>({...X,serviceType:"site"}));return[...O,...H]},[o,r,i]),[g,y]=V.useState([]),[b,x]=V.useState(!1),[w,C]=V.useState(""),[S,F]=V.useState([]),[A,I]=V.useState(!1);V.useEffect(()=>{n?(f(a),y(a),x(!0)):o.length>0&&c(!0)},[n,a,o]);const N=async O=>{c(!1),p(!0),x(!1),y([]);try{const H=await fetch(`https://datas.gitut.com/data/json/${O}-cafes-public.json`);if(!H.ok)throw new Error("Failed to load cafes for selected country.");const X=await H.json();f(X),y(X),x(!0)}catch(H){console.error(H),alert("       ."),e("/")}finally{p(!1)}},R=V.useMemo(()=>o&&o.length>0?u:[],[o,u]);V.useEffect(()=>{if(!w.trim()){F([]);return}const O=[],H=[],X=new Set,G=qa(w);if(/^\d+$/.test(w)){const W=parseInt(w,10),Y=R.find(B=>B.numericId===W);Y&&O.push({type:"cafe",data:Y})}R.forEach(W=>{!O.some(Y=>Y.data.id===W.id)&&(qa(W.name).includes(G)||qa(W.owner).includes(G))&&O.push({type:"cafe",data:W})}),s.forEach(W=>{const Y=`${W.wilaya_name}, ${W.daira_name}, ${W.name}`;X.has(Y)||(qa(W.name).includes(G)||qa(W.daira_name).includes(G)||qa(W.wilaya_name).includes(G))&&(H.push({type:"commune",data:W}),X.add(Y))}),F([...O,...H].slice(0,15))},[w,R,s]);const P=O=>{if(O.preventDefault(),I(!1),!w.trim()){y(R),x(!0);return}const H=qa(w),G=/^\d+$/.test(w.trim())?parseInt(w.trim(),10):null,Z=R.filter(W=>G!==null&&W.numericId===G||qa(W.name).includes(H)||qa(W.owner).includes(H)||W.address.wilaya&&qa(W.address.wilaya).includes(H)||W.address.daira&&qa(W.address.daira).includes(H)||W.address.commune&&qa(W.address.commune).includes(H));y(Z),x(!0)},D=O=>{C(""),I(!1),x(!0);const H=O.type==="cafe"?O.data.countryCode:n||"dz";if(O.type==="cafe")e(`/${H}/form`,{state:{cafeId:O.data.id,selectedDocIds:o}});else if(O.type==="commune"){const X=R.filter(G=>G.address.commune===O.data.name&&G.address.daira===O.data.daira_name&&G.address.wilaya===O.data.wilaya_name);y(X)}},M=O=>{switch(O.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:O.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[O.data.address.commune," -  /"]})]});case"commune":return`${O.data.wilaya_name}, ${O.data.daira_name}, ${O.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(sn,{to:`/${n||""}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):l?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"     "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:Kn.ar.map(O=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>N(O.code),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:O.flag}),d.jsx("span",{className:"font-semibold",children:O.name})]})},O.code))})]})}):h?d.jsx("div",{className:"flex justify-center items-center p-20",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(sn,{to:`/${n||""}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:v.map(O=>O.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:P,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(rN,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:w,onChange:O=>C(O.target.value),onFocus:()=>I(!0),onBlur:()=>setTimeout(()=>I(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),A&&S.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:S.map((O,H)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>D(O),children:M(O)},`${O.type}-${O.data.id}-${H}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx(rN,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:b?` (${g.length})`:`      (${R.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(b?g:R).map(O=>d.jsx(sDe,{cafe:O,linkTo:`/${O.countryCode}/form`,linkState:{cafeId:O.id,selectedDocIds:o}},O.id))}),b&&g.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var e_={};e_.version="0.18.5";var RK=1252,oDe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],FI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},MI=function(t){oDe.indexOf(t)!=-1&&(RK=FI[0]=t)};function lDe(){MI(1252)}var Mo=function(t){MI(t)};function OI(){Mo(1200),lDe()}function cU(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function cDe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function FK(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var A0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?cDe(t.slice(2)):e==254&&n==255?FK(t.slice(2)):e==65279?t.slice(1):t},Wx=function(e){return String.fromCharCode(e)},uU=function(e){return String.fromCharCode(e)},Ky,Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Jy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=Eu.charAt(s)+Eu.charAt(a)+Eu.charAt(o)+Eu.charAt(l);return e}function Ra(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=Eu.indexOf(t.charAt(c++)),a=Eu.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=Eu.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=Eu.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var dn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Uc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Qu(t){return dn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function dU(t){return dn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ca=function(e){return dn?Uc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function qw(t){if(typeof ArrayBuffer>"u")return Ca(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function fd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function uDe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function UI(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return UI(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Bi=dn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Uc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function dDe(t){for(var e=[],n=0,r=t.length+250,i=Qu(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Qu(65535),r=65530)}return e.push(i.slice(0,n)),Bi(e)}var js=/\u0000/g,N0=/[\u0001-\u0006]/g;function Bp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Oo(t,e){var n=""+t;return n.length>=e?n:qr("0",e-n.length)+n}function LI(t,e){var n=""+t;return n.length>=e?n:qr(" ",e-n.length)+n}function t_(t,e){var n=""+t;return n.length>=e?n:n+qr(" ",e-n.length)}function fDe(t,e){var n=""+Math.round(t);return n.length>=e?n:qr("0",e-n.length)+n}function hDe(t,e){var n=""+t;return n.length>=e?n:qr("0",e-n.length)+n}var fU=Math.pow(2,32);function lp(t,e){if(t>fU||t<-fU)return fDe(t,e);var n=Math.round(t);return hDe(n,e)}function n_(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var hU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],y4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pDe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},pU={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mDe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function r_(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function df(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=_De(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var MK=new Date(1899,11,31,0,0,0),gDe=MK.getTime(),yDe=new Date(1900,2,1,0,0,0);function OK(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=yDe&&(n+=1440*60*1e3),(n-(gDe+(t.getTimezoneOffset()-MK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function jI(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vDe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xDe(t){var e=t<0?12:11,n=jI(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function bDe(t){var e=jI(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Xy(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=xDe(t):e===10?n=t.toFixed(10).substr(0,12):n=bDe(t),jI(vDe(n.toUpperCase()))}function qf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Xy(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return co(14,OK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function _De(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function wDe(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return y4[n.m-1][1];case 5:return y4[n.m-1][0];default:return y4[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return hU[n.q][0];default:return hU[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Oo(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Oo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Oo(l,c):"";return u}function Cu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var UK=/%/g;function TDe(t,e,n){var r=e.replace(UK,""),i=e.length-r.length;return pc(t,r,n*Math.pow(10,2*i))+qr("%",i)}function EDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return pc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function LK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+LK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var jK=/# (\?+)( ?)\/( ?)(\d+)/;function CDe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?qr(" ",t[1].length+1+t[4].length):LI(a,t[1].length)+t[2]+"/"+t[3]+Oo(o,t[4].length))}function SDe(t,e,n){return n+(e===0?"":""+e)+qr(" ",t[1].length+2+t[4].length)}var BK=/^#*0*\.([0#]+)/,VK=/\).*[0#]/,WK=/\(###\) ###\\?-####/;function Rs(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function mU(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function gU(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function DDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function ADe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ga(t,e,n){if(t.charCodeAt(0)===40&&!e.match(VK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ga("n",r,n):"("+Ga("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return EDe(t,e,n);if(e.indexOf("%")!==-1)return TDe(t,e,n);if(e.indexOf("E")!==-1)return LK(e,n);if(e.charCodeAt(0)===36)return"$"+Ga(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+lp(l,e.length);if(e.match(/^[#?]+$/))return i=lp(n,0),i==="0"&&(i=""),i.length>e.length?i:Rs(e.substr(0,e.length-i.length))+i;if(s=e.match(jK))return CDe(s,l,c);if(e.match(/^#+0+$/))return c+lp(l,e.length-e.indexOf("0"));if(s=e.match(BK))return i=mU(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Rs(s[1])).replace(/\.$/,"."+Rs(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+qr("0",Rs(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+mU(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Cu(lp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ga(t,e,-n):Cu(""+(Math.floor(n)+DDe(n,s[1].length)))+"."+Oo(gU(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ga(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bp(Ga(t,e.replace(/[\\-]/g,""),n)),a=0,Bp(Bp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(WK))return i=Ga(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=r_(l,Math.pow(10,a)-1,!1),i=""+c,u=pc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=t_(o[2],a),u.length<s[4].length&&(u=Rs(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=r_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?LI(o[1],a)+s[2]+"/"+s[3]+t_(o[2],a):qr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=lp(n,0),e.length<=i.length?i:Rs(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Rs(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=gU(n,s[1].length),n<0?"-"+Ga(t,e,-n):Cu(ADe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Oo(0,3-v.length):"")+v})+"."+Oo(a,s[1].length);switch(e){case"###,##0.00":return Ga(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Cu(lp(l,0));return p!=="0"?c+p:"";case"###,###.00":return Ga(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ga(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function NDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return pc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function kDe(t,e,n){var r=e.replace(UK,""),i=e.length-r.length;return pc(t,r,n*Math.pow(10,2*i))+qr("%",i)}function qK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ol(t,e,n){if(t.charCodeAt(0)===40&&!e.match(VK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ol("n",r,n):"("+ol("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return NDe(t,e,n);if(e.indexOf("%")!==-1)return kDe(t,e,n);if(e.indexOf("E")!==-1)return qK(e,n);if(e.charCodeAt(0)===36)return"$"+ol(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Oo(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Rs(e.substr(0,e.length-i.length))+i;if(s=e.match(jK))return SDe(s,l,c);if(e.match(/^#+0+$/))return c+Oo(l,e.length-e.indexOf("0"));if(s=e.match(BK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Rs(s[1])).replace(/\.$/,"."+Rs(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+qr("0",Rs(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Cu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ol(t,e,-n):Cu(""+n)+"."+qr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ol(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bp(ol(t,e.replace(/[\\-]/g,""),n)),a=0,Bp(Bp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(WK))return i=ol(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=r_(l,Math.pow(10,a)-1,!1),i=""+c,u=pc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=t_(o[2],a),u.length<s[4].length&&(u=Rs(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=r_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?LI(o[1],a)+s[2]+"/"+s[3]+t_(o[2],a):qr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Rs(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Rs(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ol(t,e,-n):Cu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Oo(0,3-v.length):"")+v})+"."+Oo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Cu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return ol(t,e.slice(0,e.lastIndexOf(".")),n)+Rs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pc(t,e,n){return(n|0)===n?ol(t,e,n):Ga(t,e,n)}function IDe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var $K=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ig(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":n_(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match($K))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function PDe(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!n_(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=df(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=df(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=df(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match($K)){if(c==null&&(c=df(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ig(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,b=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(b=Math.max(b,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=wDe(i[a].t.charCodeAt(0),i[a].v,c,b),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;w+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=qf(e,n);break}var S="",F,A;if(w.length>0){w.charCodeAt(0)==40?(F=e<0&&w.charCodeAt(0)===45?-e:e,A=pc("n",w,F)):(F=e<0&&r>1?-e:e,A=pc("n",w,F),F<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),C=A.length-1;var I=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){I=a;break}var N=i.length;if(I===i.length&&A.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=A.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=A.substr(0,C+1),C=-1),i[a].t="t",N=a);C>=0&&N<i.length&&(i[N].v=A.substr(0,C+1)+i[N].v)}else if(I!==i.length&&A.indexOf("E")===-1){for(C=A.indexOf(".")-1,a=I;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=A.charAt(C--)+S);i[a].v=S,i[a].t="t",N=a}for(C>=0&&N<i.length&&(i[N].v=A.substr(0,C+1)+i[N].v),C=A.indexOf(".")+1,a=I;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==I)){for(u=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)C<A.length&&(S+=A.charAt(C++));i[a].v=S,i[a].t="t",N=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(F=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=pc(i[a].t,i[a].v,F),i[a].t="t");var R="";for(a=0;a!==i.length;++a)i[a]!=null&&(R+=i[a].v);return R}var yU=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vU(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function RDe(t,e){var n=IDe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(yU),o=n[1].match(yU);return vU(e,a)?[r,n[0]]:vU(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function co(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Jt)[t],r==null&&(r=n.table&&n.table[pU[t]]||Jt[pU[t]]),r==null&&(r=mDe[t]||"General");break}if(n_(r,0))return qf(e,n);e instanceof Date&&(e=OK(e,n.date1904));var i=RDe(r,e);if(n_(i[1]))return qf(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return PDe(i[1],e,n,i[0])}function mc(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Jt[n]==null){e<0&&(e=n);continue}if(Jt[n]==t){e=n;break}}e<0&&(e=391)}return Jt[e]=t,e}function $w(t){for(var e=0;e!=392;++e)t[e]!==void 0&&mc(t[e],e)}function sg(){Jt=pDe()}var FDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},zK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function MDe(t){var e=typeof t=="number"?Jt[t]:t;return e=e.replace(zK,"(\\d+)"),new RegExp("^"+e+"$")}function ODe(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(zK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var UDe=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,I=new Array(256),N=0;N!=256;++N)A=N,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,I[N]=A;return typeof Int32Array<"u"?new Int32Array(I):I}var n=e();function r(A){var I=0,N=0,R=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)P[R]=A[R];for(R=0;R!=256;++R)for(N=A[R],I=256+R;I<4096;I+=256)N=P[I]=N>>>8^A[N&255];var D=[];for(R=1;R!=16;++R)D[R-1]=typeof Int32Array<"u"?P.subarray(R*256,R*256+256):P.slice(R*256,R*256+256);return D}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],b=i[12],x=i[13],w=i[14];function C(A,I){for(var N=I^-1,R=0,P=A.length;R<P;)N=N>>>8^n[(N^A.charCodeAt(R++))&255];return~N}function S(A,I){for(var N=I^-1,R=A.length-15,P=0;P<R;)N=w[A[P++]^N&255]^x[A[P++]^N>>8&255]^b[A[P++]^N>>16&255]^y[A[P++]^N>>>24]^g[A[P++]]^v[A[P++]]^p[A[P++]]^h[A[P++]]^f[A[P++]]^u[A[P++]]^c[A[P++]]^l[A[P++]]^o[A[P++]]^a[A[P++]]^s[A[P++]]^n[A[P++]];for(R+=15;P<R;)N=N>>>8^n[(N^A[P++])&255];return~N}function F(A,I){for(var N=I^-1,R=0,P=A.length,D=0,M=0;R<P;)D=A.charCodeAt(R++),D<128?N=N>>>8^n[(N^D)&255]:D<2048?(N=N>>>8^n[(N^(192|D>>6&31))&255],N=N>>>8^n[(N^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,M=A.charCodeAt(R++)&1023,N=N>>>8^n[(N^(240|D>>8&7))&255],N=N>>>8^n[(N^(128|D>>2&63))&255],N=N>>>8^n[(N^(128|M>>6&15|(D&3)<<4))&255],N=N>>>8^n[(N^(128|M&63))&255]):(N=N>>>8^n[(N^(224|D>>12&15))&255],N=N>>>8^n[(N^(128|D>>6&63))&255],N=N>>>8^n[(N^(128|D&63))&255]);return~N}return t.table=n,t.bstr=C,t.buf=S,t.str=F,t})(),qt=(function(){var e={};e.version="1.2.1";function n(pe,we){for(var xe=pe.split("/"),Ce=we.split("/"),Ne=0,De=0,Ve=Math.min(xe.length,Ce.length);Ne<Ve;++Ne){if(De=xe[Ne].length-Ce[Ne].length)return De;if(xe[Ne]!=Ce[Ne])return xe[Ne]<Ce[Ne]?-1:1}return xe.length-Ce.length}function r(pe){if(pe.charAt(pe.length-1)=="/")return pe.slice(0,-1).indexOf("/")===-1?pe:r(pe.slice(0,-1));var we=pe.lastIndexOf("/");return we===-1?pe:pe.slice(0,we+1)}function i(pe){if(pe.charAt(pe.length-1)=="/")return i(pe.slice(0,-1));var we=pe.lastIndexOf("/");return we===-1?pe:pe.slice(we+1)}function s(pe,we){typeof we=="string"&&(we=new Date(we));var xe=we.getHours();xe=xe<<6|we.getMinutes(),xe=xe<<5|we.getSeconds()>>>1,pe.write_shift(2,xe);var Ce=we.getFullYear()-1980;Ce=Ce<<4|we.getMonth()+1,Ce=Ce<<5|we.getDate(),pe.write_shift(2,Ce)}function a(pe){var we=pe.read_shift(2)&65535,xe=pe.read_shift(2)&65535,Ce=new Date,Ne=xe&31;xe>>>=5;var De=xe&15;xe>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(xe+1980),Ce.setMonth(De-1),Ce.setDate(Ne);var Ve=we&31;we>>>=5;var Qe=we&63;return we>>>=6,Ce.setHours(we),Ce.setMinutes(Qe),Ce.setSeconds(Ve<<1),Ce}function o(pe){Yi(pe,0);for(var we={},xe=0;pe.l<=pe.length-4;){var Ce=pe.read_shift(2),Ne=pe.read_shift(2),De=pe.l+Ne,Ve={};switch(Ce){case 21589:xe=pe.read_shift(1),xe&1&&(Ve.mtime=pe.read_shift(4)),Ne>5&&(xe&2&&(Ve.atime=pe.read_shift(4)),xe&4&&(Ve.ctime=pe.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}pe.l=De,we[Ce]=Ve}return we}var l;function c(){return l||(l={})}function u(pe,we){if(pe[0]==80&&pe[1]==75)return xn(pe,we);if((pe[0]|32)==109&&(pe[1]|32)==105)return Ut(pe,we);if(pe.length<512)throw new Error("CFB file size "+pe.length+" < 512");var xe=3,Ce=512,Ne=0,De=0,Ve=0,Qe=0,Ge=0,Je=[],Xe=pe.slice(0,512);Yi(Xe,0);var ut=f(Xe);switch(xe=ut[0],xe){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(ut[1]==0)return xn(pe,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}Ce!==512&&(Xe=pe.slice(0,Ce),Yi(Xe,28));var vt=pe.slice(0,Ce);h(Xe,xe);var Dt=Xe.read_shift(4,"i");if(xe===3&&Dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Dt);Xe.l+=4,Ve=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),Qe=Xe.read_shift(4,"i"),Ne=Xe.read_shift(4,"i"),Ge=Xe.read_shift(4,"i"),De=Xe.read_shift(4,"i");for(var mt=-1,ft=0;ft<109&&(mt=Xe.read_shift(4,"i"),!(mt<0));++ft)Je[ft]=mt;var en=p(pe,Ce);y(Ge,De,en,Ce,Je);var Un=x(en,Ve,Je,Ce);Un[Ve].name="!Directory",Ne>0&&Qe!==M&&(Un[Qe].name="!MiniFAT"),Un[Je[0]].name="!FAT",Un.fat_addrs=Je,Un.ssz=Ce;var kn={},Wn=[],mo=[],Ko=[];w(Ve,Un,en,Wn,Ne,kn,mo,Qe),v(mo,Ko,Wn),Wn.shift();var pa={FileIndex:mo,FullPaths:Ko};return we&&we.raw&&(pa.raw={header:vt,sectors:en}),pa}function f(pe){if(pe[pe.l]==80&&pe[pe.l+1]==75)return[0,0];pe.chk(O,"Header Signature: "),pe.l+=16;var we=pe.read_shift(2,"u");return[pe.read_shift(2,"u"),we]}function h(pe,we){var xe=9;switch(pe.l+=2,xe=pe.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}pe.chk("0600","Mini Sector Shift: "),pe.chk("000000000000","Reserved: ")}function p(pe,we){for(var xe=Math.ceil(pe.length/we)-1,Ce=[],Ne=1;Ne<xe;++Ne)Ce[Ne-1]=pe.slice(Ne*we,(Ne+1)*we);return Ce[xe-1]=pe.slice(xe*we),Ce}function v(pe,we,xe){for(var Ce=0,Ne=0,De=0,Ve=0,Qe=0,Ge=xe.length,Je=[],Xe=[];Ce<Ge;++Ce)Je[Ce]=Xe[Ce]=Ce,we[Ce]=xe[Ce];for(;Qe<Xe.length;++Qe)Ce=Xe[Qe],Ne=pe[Ce].L,De=pe[Ce].R,Ve=pe[Ce].C,Je[Ce]===Ce&&(Ne!==-1&&Je[Ne]!==Ne&&(Je[Ce]=Je[Ne]),De!==-1&&Je[De]!==De&&(Je[Ce]=Je[De])),Ve!==-1&&(Je[Ve]=Ce),Ne!==-1&&Ce!=Je[Ce]&&(Je[Ne]=Je[Ce],Xe.lastIndexOf(Ne)<Qe&&Xe.push(Ne)),De!==-1&&Ce!=Je[Ce]&&(Je[De]=Je[Ce],Xe.lastIndexOf(De)<Qe&&Xe.push(De));for(Ce=1;Ce<Ge;++Ce)Je[Ce]===Ce&&(De!==-1&&Je[De]!==De?Je[Ce]=Je[De]:Ne!==-1&&Je[Ne]!==Ne&&(Je[Ce]=Je[Ne]));for(Ce=1;Ce<Ge;++Ce)if(pe[Ce].type!==0){if(Qe=Ce,Qe!=Je[Qe])do Qe=Je[Qe],we[Ce]=we[Qe]+"/"+we[Ce];while(Qe!==0&&Je[Qe]!==-1&&Qe!=Je[Qe]);Je[Ce]=-1}for(we[0]+="/",Ce=1;Ce<Ge;++Ce)pe[Ce].type!==2&&(we[Ce]+="/")}function g(pe,we,xe){for(var Ce=pe.start,Ne=pe.size,De=[],Ve=Ce;xe&&Ne>0&&Ve>=0;)De.push(we.slice(Ve*D,Ve*D+D)),Ne-=D,Ve=Zd(xe,Ve*4);return De.length===0?rt(0):Bi(De).slice(0,pe.size)}function y(pe,we,xe,Ce,Ne){var De=M;if(pe===M){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(pe!==-1){var Ve=xe[pe],Qe=(Ce>>>2)-1;if(!Ve)return;for(var Ge=0;Ge<Qe&&(De=Zd(Ve,Ge*4))!==M;++Ge)Ne.push(De);y(Zd(Ve,Ce-4),we-1,xe,Ce,Ne)}}function b(pe,we,xe,Ce,Ne){var De=[],Ve=[];Ne||(Ne=[]);var Qe=Ce-1,Ge=0,Je=0;for(Ge=we;Ge>=0;){Ne[Ge]=!0,De[De.length]=Ge,Ve.push(pe[Ge]);var Xe=xe[Math.floor(Ge*4/Ce)];if(Je=Ge*4&Qe,Ce<4+Je)throw new Error("FAT boundary crossed: "+Ge+" 4 "+Ce);if(!pe[Xe])break;Ge=Zd(pe[Xe],Je)}return{nodes:De,data:kU([Ve])}}function x(pe,we,xe,Ce){var Ne=pe.length,De=[],Ve=[],Qe=[],Ge=[],Je=Ce-1,Xe=0,ut=0,vt=0,Dt=0;for(Xe=0;Xe<Ne;++Xe)if(Qe=[],vt=Xe+we,vt>=Ne&&(vt-=Ne),!Ve[vt]){Ge=[];var mt=[];for(ut=vt;ut>=0;){mt[ut]=!0,Ve[ut]=!0,Qe[Qe.length]=ut,Ge.push(pe[ut]);var ft=xe[Math.floor(ut*4/Ce)];if(Dt=ut*4&Je,Ce<4+Dt)throw new Error("FAT boundary crossed: "+ut+" 4 "+Ce);if(!pe[ft]||(ut=Zd(pe[ft],Dt),mt[ut]))break}De[vt]={nodes:Qe,data:kU([Ge])}}return De}function w(pe,we,xe,Ce,Ne,De,Ve,Qe){for(var Ge=0,Je=Ce.length?2:0,Xe=we[pe].data,ut=0,vt=0,Dt;ut<Xe.length;ut+=128){var mt=Xe.slice(ut,ut+128);Yi(mt,64),vt=mt.read_shift(2),Dt=HI(mt,0,vt-Je),Ce.push(Dt);var ft={name:Dt,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},en=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);en!==0&&(ft.ct=C(mt,mt.l-8));var Un=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Un!==0&&(ft.mt=C(mt,mt.l-8)),ft.start=mt.read_shift(4,"i"),ft.size=mt.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=M,ft.name=""),ft.type===5?(Ge=ft.start,Ne>0&&Ge!==M&&(we[Ge].name="!StreamData")):ft.size>=4096?(ft.storage="fat",we[ft.start]===void 0&&(we[ft.start]=b(xe,ft.start,we.fat_addrs,we.ssz)),we[ft.start].name=ft.name,ft.content=we[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:Ge!==M&&ft.start!==M&&we[Ge]&&(ft.content=g(ft,we[Ge].data,(we[Qe]||{}).data))),ft.content&&Yi(ft.content,0),De[Dt]=ft,Ve.push(ft)}}function C(pe,we){return new Date((Ea(pe,we+4)/1e7*Math.pow(2,32)+Ea(pe,we)/1e7-11644473600)*1e3)}function S(pe,we){return c(),u(l.readFileSync(pe),we)}function F(pe,we){var xe=we&&we.type;switch(xe||dn&&Buffer.isBuffer(pe)&&(xe="buffer"),xe||"base64"){case"file":return S(pe,we);case"base64":return u(Ca(Ra(pe)),we);case"binary":return u(Ca(pe),we)}return u(pe,we)}function A(pe,we){var xe=we||{},Ce=xe.root||"Root Entry";if(pe.FullPaths||(pe.FullPaths=[]),pe.FileIndex||(pe.FileIndex=[]),pe.FullPaths.length!==pe.FileIndex.length)throw new Error("inconsistent CFB structure");pe.FullPaths.length===0&&(pe.FullPaths[0]=Ce+"/",pe.FileIndex[0]={name:Ce,type:5}),xe.CLSID&&(pe.FileIndex[0].clsid=xe.CLSID),I(pe)}function I(pe){var we="Sh33tJ5";if(!qt.find(pe,"/"+we)){var xe=rt(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,pe.FileIndex.push({name:we,type:2,content:xe,size:4,L:69,R:69,C:69}),pe.FullPaths.push(pe.FullPaths[0]+we),N(pe)}}function N(pe,we){A(pe);for(var xe=!1,Ce=!1,Ne=pe.FullPaths.length-1;Ne>=0;--Ne){var De=pe.FileIndex[Ne];switch(De.type){case 0:Ce?xe=!0:(pe.FileIndex.pop(),pe.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(De.R*De.L*De.C)&&(xe=!0),De.R>-1&&De.L>-1&&De.R==De.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!we)){var Ve=new Date(1987,1,19),Qe=0,Ge=Object.create?Object.create(null):{},Je=[];for(Ne=0;Ne<pe.FullPaths.length;++Ne)Ge[pe.FullPaths[Ne]]=!0,pe.FileIndex[Ne].type!==0&&Je.push([pe.FullPaths[Ne],pe.FileIndex[Ne]]);for(Ne=0;Ne<Je.length;++Ne){var Xe=r(Je[Ne][0]);Ce=Ge[Xe],Ce||(Je.push([Xe,{name:i(Xe).replace("/",""),type:1,clsid:X,ct:Ve,mt:Ve,content:null}]),Ge[Xe]=!0)}for(Je.sort(function(Dt,mt){return n(Dt[0],mt[0])}),pe.FullPaths=[],pe.FileIndex=[],Ne=0;Ne<Je.length;++Ne)pe.FullPaths[Ne]=Je[Ne][0],pe.FileIndex[Ne]=Je[Ne][1];for(Ne=0;Ne<Je.length;++Ne){var ut=pe.FileIndex[Ne],vt=pe.FullPaths[Ne];if(ut.name=i(vt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||X,Ne===0)ut.C=Je.length>1?1:-1,ut.size=0,ut.type=5;else if(vt.slice(-1)=="/"){for(Qe=Ne+1;Qe<Je.length&&r(pe.FullPaths[Qe])!=vt;++Qe);for(ut.C=Qe>=Je.length?-1:Qe,Qe=Ne+1;Qe<Je.length&&r(pe.FullPaths[Qe])!=r(vt);++Qe);ut.R=Qe>=Je.length?-1:Qe,ut.type=1}else r(pe.FullPaths[Ne+1]||"")==r(vt)&&(ut.R=Ne+1),ut.type=2}}}function R(pe,we){var xe=we||{};if(xe.fileType=="mad")return zt(pe,xe);switch(N(pe),xe.fileType){case"zip":return We(pe,xe)}var Ce=(function(Dt){for(var mt=0,ft=0,en=0;en<Dt.FileIndex.length;++en){var Un=Dt.FileIndex[en];if(Un.content){var kn=Un.content.length;kn>0&&(kn<4096?mt+=kn+63>>6:ft+=kn+511>>9)}}for(var Wn=Dt.FullPaths.length+3>>2,mo=mt+7>>3,Ko=mt+127>>7,pa=mo+ft+Wn+Ko,Qr=pa+127>>7,Bc=Qr<=109?0:Math.ceil((Qr-109)/127);pa+Qr+Bc+127>>7>Qr;)Bc=++Qr<=109?0:Math.ceil((Qr-109)/127);var dr=[1,Bc,Qr,Ko,Wn,ft,mt,0];return Dt.FileIndex[0].size=mt<<6,dr[7]=(Dt.FileIndex[0].start=dr[0]+dr[1]+dr[2]+dr[3]+dr[4]+dr[5])+(dr[6]+7>>3),dr})(pe),Ne=rt(Ce[7]<<9),De=0,Ve=0;{for(De=0;De<8;++De)Ne.write_shift(1,H[De]);for(De=0;De<8;++De)Ne.write_shift(2,0);for(Ne.write_shift(2,62),Ne.write_shift(2,3),Ne.write_shift(2,65534),Ne.write_shift(2,9),Ne.write_shift(2,6),De=0;De<3;++De)Ne.write_shift(2,0);for(Ne.write_shift(4,0),Ne.write_shift(4,Ce[2]),Ne.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Ne.write_shift(4,0),Ne.write_shift(4,4096),Ne.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:M),Ne.write_shift(4,Ce[3]),Ne.write_shift(-4,Ce[1]?Ce[0]-1:M),Ne.write_shift(4,Ce[1]),De=0;De<109;++De)Ne.write_shift(-4,De<Ce[2]?Ce[1]+De:-1)}if(Ce[1])for(Ve=0;Ve<Ce[1];++Ve){for(;De<236+Ve*127;++De)Ne.write_shift(-4,De<Ce[2]?Ce[1]+De:-1);Ne.write_shift(-4,Ve===Ce[1]-1?M:Ve+1)}var Qe=function(Dt){for(Ve+=Dt;De<Ve-1;++De)Ne.write_shift(-4,De+1);Dt&&(++De,Ne.write_shift(-4,M))};for(Ve=De=0,Ve+=Ce[1];De<Ve;++De)Ne.write_shift(-4,G.DIFSECT);for(Ve+=Ce[2];De<Ve;++De)Ne.write_shift(-4,G.FATSECT);Qe(Ce[3]),Qe(Ce[4]);for(var Ge=0,Je=0,Xe=pe.FileIndex[0];Ge<pe.FileIndex.length;++Ge)Xe=pe.FileIndex[Ge],Xe.content&&(Je=Xe.content.length,!(Je<4096)&&(Xe.start=Ve,Qe(Je+511>>9)));for(Qe(Ce[6]+7>>3);Ne.l&511;)Ne.write_shift(-4,G.ENDOFCHAIN);for(Ve=De=0,Ge=0;Ge<pe.FileIndex.length;++Ge)Xe=pe.FileIndex[Ge],Xe.content&&(Je=Xe.content.length,!(!Je||Je>=4096)&&(Xe.start=Ve,Qe(Je+63>>6)));for(;Ne.l&511;)Ne.write_shift(-4,G.ENDOFCHAIN);for(De=0;De<Ce[4]<<2;++De){var ut=pe.FullPaths[De];if(!ut||ut.length===0){for(Ge=0;Ge<17;++Ge)Ne.write_shift(4,0);for(Ge=0;Ge<3;++Ge)Ne.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)Ne.write_shift(4,0);continue}Xe=pe.FileIndex[De],De===0&&(Xe.start=Xe.size?Xe.start-1:M);var vt=De===0&&xe.root||Xe.name;if(Je=2*(vt.length+1),Ne.write_shift(64,vt,"utf16le"),Ne.write_shift(2,Je),Ne.write_shift(1,Xe.type),Ne.write_shift(1,Xe.color),Ne.write_shift(-4,Xe.L),Ne.write_shift(-4,Xe.R),Ne.write_shift(-4,Xe.C),Xe.clsid)Ne.write_shift(16,Xe.clsid,"hex");else for(Ge=0;Ge<4;++Ge)Ne.write_shift(4,0);Ne.write_shift(4,Xe.state||0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,Xe.start),Ne.write_shift(4,Xe.size),Ne.write_shift(4,0)}for(De=1;De<pe.FileIndex.length;++De)if(Xe=pe.FileIndex[De],Xe.size>=4096)if(Ne.l=Xe.start+1<<9,dn&&Buffer.isBuffer(Xe.content))Xe.content.copy(Ne,Ne.l,0,Xe.size),Ne.l+=Xe.size+511&-512;else{for(Ge=0;Ge<Xe.size;++Ge)Ne.write_shift(1,Xe.content[Ge]);for(;Ge&511;++Ge)Ne.write_shift(1,0)}for(De=1;De<pe.FileIndex.length;++De)if(Xe=pe.FileIndex[De],Xe.size>0&&Xe.size<4096)if(dn&&Buffer.isBuffer(Xe.content))Xe.content.copy(Ne,Ne.l,0,Xe.size),Ne.l+=Xe.size+63&-64;else{for(Ge=0;Ge<Xe.size;++Ge)Ne.write_shift(1,Xe.content[Ge]);for(;Ge&63;++Ge)Ne.write_shift(1,0)}if(dn)Ne.l=Ne.length;else for(;Ne.l<Ne.length;)Ne.write_shift(1,0);return Ne}function P(pe,we){var xe=pe.FullPaths.map(function(Ge){return Ge.toUpperCase()}),Ce=xe.map(function(Ge){var Je=Ge.split("/");return Je[Je.length-(Ge.slice(-1)=="/"?2:1)]}),Ne=!1;we.charCodeAt(0)===47?(Ne=!0,we=xe[0].slice(0,-1)+we):Ne=we.indexOf("/")!==-1;var De=we.toUpperCase(),Ve=Ne===!0?xe.indexOf(De):Ce.indexOf(De);if(Ve!==-1)return pe.FileIndex[Ve];var Qe=!De.match(N0);for(De=De.replace(js,""),Qe&&(De=De.replace(N0,"!")),Ve=0;Ve<xe.length;++Ve)if((Qe?xe[Ve].replace(N0,"!"):xe[Ve]).replace(js,"")==De||(Qe?Ce[Ve].replace(N0,"!"):Ce[Ve]).replace(js,"")==De)return pe.FileIndex[Ve];return null}var D=64,M=-2,O="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(pe,we,xe){c();var Ce=R(pe,xe);l.writeFileSync(we,Ce)}function W(pe){for(var we=new Array(pe.length),xe=0;xe<pe.length;++xe)we[xe]=String.fromCharCode(pe[xe]);return we.join("")}function Y(pe,we){var xe=R(pe,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,xe),xe;case"binary":return typeof xe=="string"?xe:W(xe);case"base64":return Jy(typeof xe=="string"?xe:W(xe));case"buffer":if(dn)return Buffer.isBuffer(xe)?xe:Uc(xe);case"array":return typeof xe=="string"?Ca(xe):xe}return xe}var B;function j(pe){try{var we=pe.InflateRaw,xe=new we;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)B=pe;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function q(pe,we){if(!B)return En(pe,we);var xe=B.InflateRaw,Ce=new xe,Ne=Ce._processChunk(pe.slice(pe.l),Ce._finishFlushFlag);return pe.l+=Ce.bytesRead,Ne}function J(pe){return B?B.deflateRawSync(pe):Oe(pe)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(pe){var we=(pe<<1|pe<<11)&139536|(pe<<5|pe<<15)&558144;return(we>>16|we>>8|we)&255}for(var ue=typeof Uint8Array<"u",Se=ue?new Uint8Array(256):[],Fe=0;Fe<256;++Fe)Se[Fe]=ce(Fe);function fe(pe,we){var xe=Se[pe&255];return we<=8?xe>>>8-we:(xe=xe<<8|Se[pe>>8&255],we<=16?xe>>>16-we:(xe=xe<<8|Se[pe>>16&255],xe>>>24-we))}function Le(pe,we){var xe=we&7,Ce=we>>>3;return(pe[Ce]|(xe<=6?0:pe[Ce+1]<<8))>>>xe&3}function z(pe,we){var xe=we&7,Ce=we>>>3;return(pe[Ce]|(xe<=5?0:pe[Ce+1]<<8))>>>xe&7}function me(pe,we){var xe=we&7,Ce=we>>>3;return(pe[Ce]|(xe<=4?0:pe[Ce+1]<<8))>>>xe&15}function be(pe,we){var xe=we&7,Ce=we>>>3;return(pe[Ce]|(xe<=3?0:pe[Ce+1]<<8))>>>xe&31}function le(pe,we){var xe=we&7,Ce=we>>>3;return(pe[Ce]|(xe<=1?0:pe[Ce+1]<<8))>>>xe&127}function re(pe,we,xe){var Ce=we&7,Ne=we>>>3,De=(1<<xe)-1,Ve=pe[Ne]>>>Ce;return xe<8-Ce||(Ve|=pe[Ne+1]<<8-Ce,xe<16-Ce)||(Ve|=pe[Ne+2]<<16-Ce,xe<24-Ce)||(Ve|=pe[Ne+3]<<24-Ce),Ve&De}function oe(pe,we,xe){var Ce=we&7,Ne=we>>>3;return Ce<=5?pe[Ne]|=(xe&7)<<Ce:(pe[Ne]|=xe<<Ce&255,pe[Ne+1]=(xe&7)>>8-Ce),we+3}function Ie(pe,we,xe){var Ce=we&7,Ne=we>>>3;return xe=(xe&1)<<Ce,pe[Ne]|=xe,we+1}function ke(pe,we,xe){var Ce=we&7,Ne=we>>>3;return xe<<=Ce,pe[Ne]|=xe&255,xe>>>=8,pe[Ne+1]=xe,we+8}function he(pe,we,xe){var Ce=we&7,Ne=we>>>3;return xe<<=Ce,pe[Ne]|=xe&255,xe>>>=8,pe[Ne+1]=xe&255,pe[Ne+2]=xe>>>8,we+16}function ye(pe,we){var xe=pe.length,Ce=2*xe>we?2*xe:we+5,Ne=0;if(xe>=we)return pe;if(dn){var De=dU(Ce);if(pe.copy)pe.copy(De);else for(;Ne<pe.length;++Ne)De[Ne]=pe[Ne];return De}else if(ue){var Ve=new Uint8Array(Ce);if(Ve.set)Ve.set(pe);else for(;Ne<xe;++Ne)Ve[Ne]=pe[Ne];return Ve}return pe.length=Ce,pe}function _e(pe){for(var we=new Array(pe),xe=0;xe<pe;++xe)we[xe]=0;return we}function Te(pe,we,xe){var Ce=1,Ne=0,De=0,Ve=0,Qe=0,Ge=pe.length,Je=ue?new Uint16Array(32):_e(32);for(De=0;De<32;++De)Je[De]=0;for(De=Ge;De<xe;++De)pe[De]=0;Ge=pe.length;var Xe=ue?new Uint16Array(Ge):_e(Ge);for(De=0;De<Ge;++De)Je[Ne=pe[De]]++,Ce<Ne&&(Ce=Ne),Xe[De]=0;for(Je[0]=0,De=1;De<=Ce;++De)Je[De+16]=Qe=Qe+Je[De-1]<<1;for(De=0;De<Ge;++De)Qe=pe[De],Qe!=0&&(Xe[De]=Je[Qe+16]++);var ut=0;for(De=0;De<Ge;++De)if(ut=pe[De],ut!=0)for(Qe=fe(Xe[De],Ce)>>Ce-ut,Ve=(1<<Ce+4-ut)-1;Ve>=0;--Ve)we[Qe|Ve<<ut]=ut&15|De<<4;return Ce}var Re=ue?new Uint16Array(512):_e(512),Ee=ue?new Uint16Array(32):_e(32);if(!ue){for(var ve=0;ve<512;++ve)Re[ve]=0;for(ve=0;ve<32;++ve)Ee[ve]=0}(function(){for(var pe=[],we=0;we<32;we++)pe.push(5);Te(pe,Ee,32);var xe=[];for(we=0;we<=143;we++)xe.push(8);for(;we<=255;we++)xe.push(9);for(;we<=279;we++)xe.push(7);for(;we<=287;we++)xe.push(8);Te(xe,Re,288)})();var Me=(function(){for(var we=ue?new Uint8Array(32768):[],xe=0,Ce=0;xe<ae.length-1;++xe)for(;Ce<ae[xe+1];++Ce)we[Ce]=xe;for(;Ce<32768;++Ce)we[Ce]=29;var Ne=ue?new Uint8Array(259):[];for(xe=0,Ce=0;xe<te.length-1;++xe)for(;Ce<te[xe+1];++Ce)Ne[Ce]=xe;function De(Qe,Ge){for(var Je=0;Je<Qe.length;){var Xe=Math.min(65535,Qe.length-Je),ut=Je+Xe==Qe.length;for(Ge.write_shift(1,+ut),Ge.write_shift(2,Xe),Ge.write_shift(2,~Xe&65535);Xe-- >0;)Ge[Ge.l++]=Qe[Je++]}return Ge.l}function Ve(Qe,Ge){for(var Je=0,Xe=0,ut=ue?new Uint16Array(32768):[];Xe<Qe.length;){var vt=Math.min(65535,Qe.length-Xe);if(vt<10){for(Je=oe(Ge,Je,+(Xe+vt==Qe.length)),Je&7&&(Je+=8-(Je&7)),Ge.l=Je/8|0,Ge.write_shift(2,vt),Ge.write_shift(2,~vt&65535);vt-- >0;)Ge[Ge.l++]=Qe[Xe++];Je=Ge.l*8;continue}Je=oe(Ge,Je,+(Xe+vt==Qe.length)+2);for(var Dt=0;vt-- >0;){var mt=Qe[Xe];Dt=(Dt<<5^mt)&32767;var ft=-1,en=0;if((ft=ut[Dt])&&(ft|=Xe&-32768,ft>Xe&&(ft-=32768),ft<Xe))for(;Qe[ft+en]==Qe[Xe+en]&&en<250;)++en;if(en>2){mt=Ne[en],mt<=22?Je=ke(Ge,Je,Se[mt+1]>>1)-1:(ke(Ge,Je,3),Je+=5,ke(Ge,Je,Se[mt-23]>>5),Je+=3);var Un=mt<8?0:mt-4>>2;Un>0&&(he(Ge,Je,en-te[mt]),Je+=Un),mt=we[Xe-ft],Je=ke(Ge,Je,Se[mt]>>3),Je-=3;var kn=mt<4?0:mt-2>>1;kn>0&&(he(Ge,Je,Xe-ft-ae[mt]),Je+=kn);for(var Wn=0;Wn<en;++Wn)ut[Dt]=Xe&32767,Dt=(Dt<<5^Qe[Xe])&32767,++Xe;vt-=en-1}else mt<=143?mt=mt+48:Je=Ie(Ge,Je,1),Je=ke(Ge,Je,Se[mt]),ut[Dt]=Xe&32767,++Xe}Je=ke(Ge,Je,0)-1}return Ge.l=(Je+7)/8|0,Ge.l}return function(Ge,Je){return Ge.length<8?De(Ge,Je):Ve(Ge,Je)}})();function Oe(pe){var we=rt(50+Math.floor(pe.length*1.1)),xe=Me(pe,we);return we.slice(0,xe)}var qe=ue?new Uint16Array(32768):_e(32768),st=ue?new Uint16Array(32768):_e(32768),it=ue?new Uint16Array(128):_e(128),Ct=1,Wt=1;function $t(pe,we){var xe=be(pe,we)+257;we+=5;var Ce=be(pe,we)+1;we+=5;var Ne=me(pe,we)+4;we+=4;for(var De=0,Ve=ue?new Uint8Array(19):_e(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Je=ue?new Uint8Array(8):_e(8),Xe=ue?new Uint8Array(8):_e(8),ut=Ve.length,vt=0;vt<Ne;++vt)Ve[Q[vt]]=De=z(pe,we),Ge<De&&(Ge=De),Je[De]++,we+=3;var Dt=0;for(Je[0]=0,vt=1;vt<=Ge;++vt)Xe[vt]=Dt=Dt+Je[vt-1]<<1;for(vt=0;vt<ut;++vt)(Dt=Ve[vt])!=0&&(Qe[vt]=Xe[Dt]++);var mt=0;for(vt=0;vt<ut;++vt)if(mt=Ve[vt],mt!=0){Dt=Se[Qe[vt]]>>8-mt;for(var ft=(1<<7-mt)-1;ft>=0;--ft)it[Dt|ft<<mt]=mt&7|vt<<3}var en=[];for(Ge=1;en.length<xe+Ce;)switch(Dt=it[le(pe,we)],we+=Dt&7,Dt>>>=3){case 16:for(De=3+Le(pe,we),we+=2,Dt=en[en.length-1];De-- >0;)en.push(Dt);break;case 17:for(De=3+z(pe,we),we+=3;De-- >0;)en.push(0);break;case 18:for(De=11+le(pe,we),we+=7;De-- >0;)en.push(0);break;default:en.push(Dt),Ge<Dt&&(Ge=Dt);break}var Un=en.slice(0,xe),kn=en.slice(xe);for(vt=xe;vt<286;++vt)Un[vt]=0;for(vt=Ce;vt<30;++vt)kn[vt]=0;return Ct=Te(Un,qe,286),Wt=Te(kn,st,30),we}function _n(pe,we){if(pe[0]==3&&!(pe[1]&3))return[Qu(we),2];for(var xe=0,Ce=0,Ne=dU(we||1<<18),De=0,Ve=Ne.length>>>0,Qe=0,Ge=0;(Ce&1)==0;){if(Ce=z(pe,xe),xe+=3,Ce>>>1)Ce>>1==1?(Qe=9,Ge=5):(xe=$t(pe,xe),Qe=Ct,Ge=Wt);else{xe&7&&(xe+=8-(xe&7));var Je=pe[xe>>>3]|pe[(xe>>>3)+1]<<8;if(xe+=32,Je>0)for(!we&&Ve<De+Je&&(Ne=ye(Ne,De+Je),Ve=Ne.length);Je-- >0;)Ne[De++]=pe[xe>>>3],xe+=8;continue}for(;;){!we&&Ve<De+32767&&(Ne=ye(Ne,De+32767),Ve=Ne.length);var Xe=re(pe,xe,Qe),ut=Ce>>>1==1?Re[Xe]:qe[Xe];if(xe+=ut&15,ut>>>=4,(ut>>>8&255)===0)Ne[De++]=ut;else{if(ut==256)break;ut-=257;var vt=ut<8?0:ut-4>>2;vt>5&&(vt=0);var Dt=De+te[ut];vt>0&&(Dt+=re(pe,xe,vt),xe+=vt),Xe=re(pe,xe,Ge),ut=Ce>>>1==1?Ee[Xe]:st[Xe],xe+=ut&15,ut>>>=4;var mt=ut<4?0:ut-2>>1,ft=ae[ut];for(mt>0&&(ft+=re(pe,xe,mt),xe+=mt),!we&&Ve<Dt&&(Ne=ye(Ne,Dt+100),Ve=Ne.length);De<Dt;)Ne[De]=Ne[De-ft],++De}}}return we?[Ne,xe+7>>>3]:[Ne.slice(0,De),xe+7>>>3]}function En(pe,we){var xe=pe.slice(pe.l||0),Ce=_n(xe,we);return pe.l+=Ce[1],Ce[0]}function Ln(pe,we){if(pe)typeof console<"u"&&console.error(we);else throw new Error(we)}function xn(pe,we){var xe=pe;Yi(xe,0);var Ce=[],Ne=[],De={FileIndex:Ce,FullPaths:Ne};A(De,{root:we.root});for(var Ve=xe.length-4;(xe[Ve]!=80||xe[Ve+1]!=75||xe[Ve+2]!=5||xe[Ve+3]!=6)&&Ve>=0;)--Ve;xe.l=Ve+4,xe.l+=4;var Qe=xe.read_shift(2);xe.l+=6;var Ge=xe.read_shift(4);for(xe.l=Ge,Ve=0;Ve<Qe;++Ve){xe.l+=20;var Je=xe.read_shift(4),Xe=xe.read_shift(4),ut=xe.read_shift(2),vt=xe.read_shift(2),Dt=xe.read_shift(2);xe.l+=8;var mt=xe.read_shift(4),ft=o(xe.slice(xe.l+ut,xe.l+ut+vt));xe.l+=ut+vt+Dt;var en=xe.l;xe.l=mt+4,Rt(xe,Je,Xe,De,ft),xe.l=en}return De}function Rt(pe,we,xe,Ce,Ne){pe.l+=2;var De=pe.read_shift(2),Ve=pe.read_shift(2),Qe=a(pe);if(De&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=pe.read_shift(4),Je=pe.read_shift(4),Xe=pe.read_shift(4),ut=pe.read_shift(2),vt=pe.read_shift(2),Dt="",mt=0;mt<ut;++mt)Dt+=String.fromCharCode(pe[pe.l++]);if(vt){var ft=o(pe.slice(pe.l,pe.l+vt));(ft[21589]||{}).mt&&(Qe=ft[21589].mt),((Ne||{})[21589]||{}).mt&&(Qe=Ne[21589].mt)}pe.l+=vt;var en=pe.slice(pe.l,pe.l+Je);switch(Ve){case 8:en=q(pe,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var Un=!1;De&8&&(Ge=pe.read_shift(4),Ge==134695760&&(Ge=pe.read_shift(4),Un=!0),Je=pe.read_shift(4),Xe=pe.read_shift(4)),Je!=we&&Ln(Un,"Bad compressed size: "+we+" != "+Je),Xe!=xe&&Ln(Un,"Bad uncompressed size: "+xe+" != "+Xe),yn(Ce,Dt,en,{unsafe:!0,mt:Qe})}function We(pe,we){var xe=we||{},Ce=[],Ne=[],De=rt(1),Ve=xe.compression?8:0,Qe=0,Ge=0,Je=0,Xe=0,ut=0,vt=pe.FullPaths[0],Dt=vt,mt=pe.FileIndex[0],ft=[],en=0;for(Ge=1;Ge<pe.FullPaths.length;++Ge)if(Dt=pe.FullPaths[Ge].slice(vt.length),mt=pe.FileIndex[Ge],!(!mt.size||!mt.content||Dt=="Sh33tJ5")){var Un=Xe,kn=rt(Dt.length);for(Je=0;Je<Dt.length;++Je)kn.write_shift(1,Dt.charCodeAt(Je)&127);kn=kn.slice(0,kn.l),ft[ut]=UDe.buf(mt.content,0);var Wn=mt.content;Ve==8&&(Wn=J(Wn)),De=rt(30),De.write_shift(4,67324752),De.write_shift(2,20),De.write_shift(2,Qe),De.write_shift(2,Ve),mt.mt?s(De,mt.mt):De.write_shift(4,0),De.write_shift(-4,ft[ut]),De.write_shift(4,Wn.length),De.write_shift(4,mt.content.length),De.write_shift(2,kn.length),De.write_shift(2,0),Xe+=De.length,Ce.push(De),Xe+=kn.length,Ce.push(kn),Xe+=Wn.length,Ce.push(Wn),De=rt(46),De.write_shift(4,33639248),De.write_shift(2,0),De.write_shift(2,20),De.write_shift(2,Qe),De.write_shift(2,Ve),De.write_shift(4,0),De.write_shift(-4,ft[ut]),De.write_shift(4,Wn.length),De.write_shift(4,mt.content.length),De.write_shift(2,kn.length),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(4,0),De.write_shift(4,Un),en+=De.l,Ne.push(De),en+=kn.length,Ne.push(kn),++ut}return De=rt(22),De.write_shift(4,101010256),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,ut),De.write_shift(2,ut),De.write_shift(4,en),De.write_shift(4,Xe),De.write_shift(2,0),Bi([Bi(Ce),Bi(Ne),De])}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function de(pe,we){if(pe.ctype)return pe.ctype;var xe=pe.name||"",Ce=xe.match(/\.([^\.]+)$/);return Ce&&ie[Ce[1]]||we&&(Ce=(xe=we).match(/[\.\\]([^\.\\])+$/),Ce&&ie[Ce[1]])?ie[Ce[1]]:"application/octet-stream"}function Pe(pe){for(var we=Jy(pe),xe=[],Ce=0;Ce<we.length;Ce+=76)xe.push(we.slice(Ce,Ce+76));return xe.join(`\r
`)+`\r
`}function $e(pe){var we=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var Xe=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],Ce=we.split(`\r
`),Ne=0;Ne<Ce.length;++Ne){var De=Ce[Ne];if(De.length==0){xe.push("");continue}for(var Ve=0;Ve<De.length;){var Qe=76,Ge=De.slice(Ve,Ve+Qe);Ge.charAt(Qe-1)=="="?Qe--:Ge.charAt(Qe-2)=="="?Qe-=2:Ge.charAt(Qe-3)=="="&&(Qe-=3),Ge=De.slice(Ve,Ve+Qe),Ve+=Qe,Ve<De.length&&(Ge+="="),xe.push(Ge)}}return xe.join(`\r
`)}function nt(pe){for(var we=[],xe=0;xe<pe.length;++xe){for(var Ce=pe[xe];xe<=pe.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+pe[++xe];we.push(Ce)}for(var Ne=0;Ne<we.length;++Ne)we[Ne]=we[Ne].replace(/[=][0-9A-Fa-f]{2}/g,function(De){return String.fromCharCode(parseInt(De.slice(1),16))});return Ca(we.join(`\r
`))}function xt(pe,we,xe){for(var Ce="",Ne="",De="",Ve,Qe=0;Qe<10;++Qe){var Ge=we[Qe];if(!Ge||Ge.match(/^\s*$/))break;var Je=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":Ce=Je[2].trim();break;case"content-type":De=Je[2].trim();break;case"content-transfer-encoding":Ne=Je[2].trim();break}}switch(++Qe,Ne.toLowerCase()){case"base64":Ve=Ca(Ra(we.slice(Qe).join("")));break;case"quoted-printable":Ve=nt(we.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ne)}var Xe=yn(pe,Ce.slice(xe.length),Ve,{unsafe:!0});De&&(Xe.ctype=De)}function Ut(pe,we){if(W(pe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=we&&we.root||"",Ce=(dn&&Buffer.isBuffer(pe)?pe.toString("binary"):W(pe)).split(`\r
`),Ne=0,De="";for(Ne=0;Ne<Ce.length;++Ne)if(De=Ce[Ne],!!/^Content-Location:/i.test(De)&&(De=De.slice(De.indexOf("file")),xe||(xe=De.slice(0,De.lastIndexOf("/")+1)),De.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),De.slice(0,xe.length)!=xe););var Ve=(Ce[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var Qe="--"+(Ve[1]||""),Ge=[],Je=[],Xe={FileIndex:Ge,FullPaths:Je};A(Xe);var ut,vt=0;for(Ne=0;Ne<Ce.length;++Ne){var Dt=Ce[Ne];Dt!==Qe&&Dt!==Qe+"--"||(vt++&&xt(Xe,Ce.slice(ut,Ne),xe),ut=Ne)}return Xe}function zt(pe,we){var xe=we||{},Ce=xe.boundary||"SheetJS";Ce="------="+Ce;for(var Ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],De=pe.FullPaths[0],Ve=De,Qe=pe.FileIndex[0],Ge=1;Ge<pe.FullPaths.length;++Ge)if(Ve=pe.FullPaths[Ge].slice(De.length),Qe=pe.FileIndex[Ge],!(!Qe.size||!Qe.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(en){return"_x"+en.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(en){return"_u"+en.charCodeAt(0).toString(16)+"_"});for(var Je=Qe.content,Xe=dn&&Buffer.isBuffer(Je)?Je.toString("binary"):W(Je),ut=0,vt=Math.min(1024,Xe.length),Dt=0,mt=0;mt<=vt;++mt)(Dt=Xe.charCodeAt(mt))>=32&&Dt<128&&++ut;var ft=ut>=vt*4/5;Ne.push(Ce),Ne.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+Ve),Ne.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),Ne.push("Content-Type: "+de(Qe,Ve)),Ne.push(""),Ne.push(ft?$e(Xe):Pe(Xe))}return Ne.push(Ce+`--\r
`),Ne.join(`\r
`)}function Cn(pe){var we={};return A(we,pe),we}function yn(pe,we,xe,Ce){var Ne=Ce&&Ce.unsafe;Ne||A(pe);var De=!Ne&&qt.find(pe,we);if(!De){var Ve=pe.FullPaths[0];we.slice(0,Ve.length)==Ve?Ve=we:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+we).replace("//","/")),De={name:i(we),type:2},pe.FileIndex.push(De),pe.FullPaths.push(Ve),Ne||qt.utils.cfb_gc(pe)}return De.content=xe,De.size=xe?xe.length:0,Ce&&(Ce.CLSID&&(De.clsid=Ce.CLSID),Ce.mt&&(De.mt=Ce.mt),Ce.ct&&(De.ct=Ce.ct)),De}function er(pe,we){A(pe);var xe=qt.find(pe,we);if(xe){for(var Ce=0;Ce<pe.FileIndex.length;++Ce)if(pe.FileIndex[Ce]==xe)return pe.FileIndex.splice(Ce,1),pe.FullPaths.splice(Ce,1),!0}return!1}function On(pe,we,xe){A(pe);var Ce=qt.find(pe,we);if(Ce){for(var Ne=0;Ne<pe.FileIndex.length;++Ne)if(pe.FileIndex[Ne]==Ce)return pe.FileIndex[Ne].name=i(xe),pe.FullPaths[Ne]=xe,!0}return!1}function ir(pe){N(pe,!0)}return e.find=P,e.read=F,e.parse=u,e.write=Y,e.writeFile=Z,e.utils={cfb_new:Cn,cfb_add:yn,cfb_del:er,cfb_mov:On,cfb_gc:ir,ReadShift:ty,CheckField:hJ,prep_blob:Yi,bconcat:Bi,use_zlib:j,_deflateRaw:Oe,_inflateRaw:En,consts:G},e})();function LDe(t){return typeof t=="string"?qw(t):Array.isArray(t)?uDe(t):t}function Qv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=qw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?wl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([LDe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=fd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function jDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Kr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function xU(t,e){for(var n=[],r=Kr(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function zw(t){for(var e=[],n=Kr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Hw(t){for(var e=[],n=Kr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function BDe(t){for(var e=[],n=Kr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var i_=new Date(1899,11,30,0,0,0);function Ei(t,e){var n=t.getTime(),r=i_.getTime()+(t.getTimezoneOffset()-i_.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var HK=new Date,VDe=i_.getTime()+(HK.getTimezoneOffset()-i_.getTimezoneOffset())*6e4,bU=HK.getTimezoneOffset();function Gw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+VDe),e.getTimezoneOffset()!==bU&&e.setTime(e.getTime()+(e.getTimezoneOffset()-bU)*6e4),e}function WDe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var _U=new Date("2017-02-19T19:06:09.000Z"),GK=isNaN(_U.getFullYear())?new Date("2/19/17"):_U,qDe=GK.getFullYear()==2017;function xr(t,e){var n=new Date(t);if(qDe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(GK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function $f(t,e){if(dn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return wl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return wl(FK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return wl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return wl(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function br(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=br(t[n]));return e}function qr(t,e){for(var n="";n.length<e;)n+=t;return n}function Bo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var $De=["january","february","march","april","may","june","july","august","september","october","november","december"];function Cm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&$De.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var zDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function KK(t){return t?t.content&&t.type?$f(t.content,!0):t.data?A0(t.data):t.asNodeBuffer&&dn?A0(t.asNodeBuffer().toString("binary")):t.asBinary?A0(t.asBinary()):t._data&&t._data.getContent?A0($f(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function JK(t){if(!t)return null;if(t.data)return cU(t.data);if(t.asNodeBuffer&&dn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?cU(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function HDe(t){return t&&t.name.slice(-4)===".bin"?JK(t):KK(t)}function Xa(t,e){for(var n=t.FullPaths||Kr(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function BI(t,e){var n=Xa(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function fi(t,e,n){if(!n)return HDe(BI(t,e));if(!e)return null;try{return fi(t,e)}catch{return null}}function Sa(t,e,n){if(!n)return KK(BI(t,e));if(!e)return null;try{return Sa(t,e)}catch{return null}}function GDe(t,e,n){return JK(BI(t,e))}function wU(t){for(var e=t.FullPaths||Kr(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function ln(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return dn?r=Uc(n):r=dDe(n),qt.utils.cfb_add(t,e,r)}qt.utils.cfb_add(t,e,n)}else t.file(e,n)}function VI(){return qt.utils.cfb_new()}function XK(t,e){switch(e.type){case"base64":return qt.read(t,{type:"base64"});case"binary":return qt.read(t,{type:"binary"});case"buffer":case"array":return qt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function k0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var ai=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,KDe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,TU=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,JDe=/<[^>]*>/g,Ss=ai.match(TU)?TU:JDe,XDe=/<\w*:/,YDe=/<(\/?)\w+:/;function tn(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(KDe),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Ll(t){return t.replace(YDe,"<$1")}var YK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},WI=zw(YK),An=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return YK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),qI=/[&<>'"]/g,QDe=/[\u0000-\u0008\u000b-\u001f]/g;function Jn(t){var e=t+"";return e.replace(qI,function(n){return WI[n]}).replace(QDe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function EU(t){return Jn(t).replace(/ /g,"_x0020_")}var QK=/[\u0000-\u001f]/g;function $I(t){var e=t+"";return e.replace(qI,function(n){return WI[n]}).replace(/\n/g,"<br/>").replace(QK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function ZDe(t){var e=t+"";return e.replace(qI,function(n){return WI[n]}).replace(QK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var CU=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function eAe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function mr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function v4(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function SU(t){var e=Qu(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function DU(t){return Uc(t,"binary").toString("utf8")}var qx="foo bar baz",Zn=dn&&(DU(qx)==v4(qx)&&DU||SU(qx)==v4(qx)&&SU)||v4,wl=dn?function(t){return Uc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Yy=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),ZK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),tAe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),nAe=/<\/?(?:vt:)?variant>/g,rAe=/<(?:vt:)([^>]*)>([\s\S]*)</;function AU(t,e){var n=tn(t),r=t.match(tAe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(nAe,"").match(rAe);a&&i.push({v:Zn(a[2]),t:a[1]})}),i}var eJ=/(^\s|\s$|\n)/;function Zi(t,e){return"<"+t+(e.match(eJ)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Qy(t){return Kr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function _t(t,e,n){return"<"+t+(n!=null?Qy(n):"")+(e!=null?(e.match(eJ)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function yN(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function iAe(t,e){switch(typeof t){case"string":var n=_t("vt:lpwstr",Jn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return _t((t|0)==t?"vt:i4":"vt:r8",Jn(String(t)));case"boolean":return _t("vt:bool",t?"true":"false")}if(t instanceof Date)return _t("vt:filetime",yN(t));throw new Error("Unable to serialize "+t)}function zI(t){if(dn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Zn(fd(UI(t)));throw new Error("Bad input format: expected Buffer or string")}var Zy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},dh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ta={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function sAe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function aAe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var NU=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},kU=dn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Uc(e)})):NU(t)}:NU,IU=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(oc(t,i)));return r.join("").replace(js,"")},HI=dn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(js,""):IU(t,e,n)}:IU,PU=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},tJ=dn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):PU(t,e,n)}:PU,RU=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(wp(t,i)));return r.join("")},Zv=dn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):RU(e,n,r)}:RU,nJ=function(t,e){var n=Ea(t,e);return n>0?Zv(t,e+4,e+4+n-1):""},rJ=nJ,iJ=function(t,e){var n=Ea(t,e);return n>0?Zv(t,e+4,e+4+n-1):""},sJ=iJ,aJ=function(t,e){var n=2*Ea(t,e);return n>0?Zv(t,e+4,e+4+n-1):""},oJ=aJ,lJ=function(e,n){var r=Ea(e,n);return r>0?HI(e,n+4,n+4+r):""},cJ=lJ,uJ=function(t,e){var n=Ea(t,e);return n>0?Zv(t,e+4,e+4+n):""},dJ=uJ,fJ=function(t,e){return sAe(t,e)},s_=fJ,GI=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};dn&&(rJ=function(e,n){if(!Buffer.isBuffer(e))return nJ(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},sJ=function(e,n){if(!Buffer.isBuffer(e))return iJ(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},oJ=function(e,n){if(!Buffer.isBuffer(e))return aJ(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},cJ=function(e,n){if(!Buffer.isBuffer(e))return lJ(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},dJ=function(e,n){if(!Buffer.isBuffer(e))return uJ(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},s_=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):fJ(e,n)},GI=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var wp=function(t,e){return t[e]},oc=function(t,e){return t[e+1]*256+t[e]},oAe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ea=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Zd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},lAe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ty(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,dn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(oc(this,c)),c+=2;t*=2;break;case"utf8":n=Zv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=HI(this,this.l,this.l+t);break;case"wstr":return ty.call(this,t,"dbcs");case"lpstr-ansi":n=rJ(this,this.l),t=4+Ea(this,this.l);break;case"lpstr-cp":n=sJ(this,this.l),t=4+Ea(this,this.l);break;case"lpwstr":n=oJ(this,this.l),t=4+2*Ea(this,this.l);break;case"lpp4":t=4+Ea(this,this.l),n=cJ(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ea(this,this.l),n=dJ(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=wp(this,this.l+t++))!==0;)s.push(Wx(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=oc(this,this.l+t))!==0;)s.push(Wx(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=wp(this,c),this.l=c+1,o=ty.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wx(oc(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=wp(this,c),this.l=c+1,o=ty.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wx(wp(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=wp(this,this.l),this.l++,r;case 2:return r=(e==="i"?oAe:oc)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Zd:lAe)(this,this.l),this.l+=4,r):(i=Ea(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=s_(this,this.l):i=s_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=tJ(this,this.l,t);break}}return this.l+=t,n}var cAe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},uAe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},dAe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function fAe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)dAe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,cAe(this,e,this.l);break;case 8:if(r=8,n==="f"){aAe(this,e,this.l);break}case 16:break;case-4:r=4,uAe(this,e,this.l);break}return this.l+=r,this}function hJ(t,e){var n=tJ(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Yi(t,e){t.l=e,t.read_shift=ty,t.chk=hJ,t.write_shift=fAe}function Ts(t,e){t.l+=e}function rt(t){var e=Qu(t);return Yi(e,0),e}function Lc(t,e,n){if(t){var r,i,s;Yi(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=sv[o]||sv[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function oa(){var t=[],e=dn?256:2048,n=function(c){var u=rt(c);return Yi(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Bi(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function ot(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=sv[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&GI(n)&&t.push(n)}}function ny(t,e,n){var r=br(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function FU(t,e,n){var r=br(t);return r.s=ny(r.s,e.s,n),r.e=ny(r.e,e.s,n),r}function ry(t,e){if(t.cRel&&t.c<0)for(t=br(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=br(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Zt(t);return!t.cRel&&t.cRel!=null&&(n=mAe(n)),!t.rRel&&t.rRel!=null&&(n=hAe(n)),n}function x4(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Or(t.s.c)+":"+(t.e.cRel?"":"$")+Or(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ri(t.s.r)+":"+(t.e.rRel?"":"$")+ri(t.e.r):ry(t.s,e.biff)+":"+ry(t.e,e.biff)}function KI(t){return parseInt(pAe(t),10)-1}function ri(t){return""+(t+1)}function hAe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pAe(t){return t.replace(/\$(\d+)$/,"$1")}function JI(t){for(var e=gAe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Or(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function mAe(t){return t.replace(/^([A-Z])/,"$$$1")}function gAe(t){return t.replace(/^\$([A-Z])/,"$1")}function yAe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ur(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Zt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function la(t){var e=t.indexOf(":");return e==-1?{s:Ur(t),e:Ur(t)}:{s:Ur(t.slice(0,e)),e:Ur(t.slice(e+1))}}function on(t,e){return typeof e>"u"||typeof e=="number"?on(t.s,t.e):(typeof t!="string"&&(t=Zt(t)),typeof e!="string"&&(e=Zt(e)),t==e?t:t+":"+e)}function Nn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function MU(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=co(t.z,n?Ei(e):e)}catch{}try{return t.w=co((t.XF||{}).numFmtId||(n?14:0),n?Ei(e):e)}catch{return""+e}}function Sc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?jc[t.v]||t.v:e==null?MU(t,t.v):MU(t,e))}function hd(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function pJ(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Ur(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Nn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Jt[14],r.cellDates?(p.t="d",p.w=co(p.z,Ei(p.v))):(p.t="n",p.v=Ei(p.v),p.w=co(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=Zt({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=on(c)),s}function ag(t,e){return pJ(null,t,e)}function vAe(t){return t.read_shift(4,"i")}function Vo(t,e){return e||(e=rt(4)),e.write_shift(4,t),e}function ws(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Vi(t,e){var n=!1;return e==null&&(n=!0,e=rt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function xAe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function bAe(t,e){return e||(e=rt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function XI(t,e){var n=t.l,r=t.read_shift(1),i=ws(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(xAe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function _Ae(t,e){var n=!1;return e==null&&(n=!0,e=rt(15+4*t.t.length)),e.write_shift(1,0),Vi(t.t,e),n?e.slice(0,e.l):e}var wAe=XI;function TAe(t,e){var n=!1;return e==null&&(n=!0,e=rt(23+4*t.t.length)),e.write_shift(1,1),Vi(t.t,e),e.write_shift(4,1),bAe({},e),n?e.slice(0,e.l):e}function po(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function fh(t,e){return e==null&&(e=rt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function hh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ph(t,e){return e==null&&(e=rt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var EAe=ws,mJ=Vi;function YI(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function a_(t,e){var n=!1;return e==null&&(n=!0,e=rt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var CAe=ws,vN=YI,QI=a_;function ZI(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?s_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Zd(e,0)>>2;return n?i/100:i}function gJ(t,e){e==null&&(e=rt(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function yJ(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function SAe(t,e){return e||(e=rt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var mh=yJ,og=SAe;function gs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function zf(t,e){return(e||rt(8)).write_shift(8,t,"f")}function DAe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=vf[i];c&&(e.rgb=tv(c));break;case 2:e.rgb=tv([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function o_(t,e){if(e||(e=rt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function AAe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function NAe(t,e){e||(e=rt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function vJ(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function kAe(t){return vJ(t,1)}function IAe(t){return vJ(t,2)}var e6=2,Ys=3,$x=11,OU=12,l_=19,zx=64,PAe=65,RAe=71,FAe=4108,MAe=4126,Mi=80,xJ=81,OAe=[Mi,xJ],xN={1:{n:"CodePage",t:e6},2:{n:"Category",t:Mi},3:{n:"PresentationFormat",t:Mi},4:{n:"ByteCount",t:Ys},5:{n:"LineCount",t:Ys},6:{n:"ParagraphCount",t:Ys},7:{n:"SlideCount",t:Ys},8:{n:"NoteCount",t:Ys},9:{n:"HiddenCount",t:Ys},10:{n:"MultimediaClipCount",t:Ys},11:{n:"ScaleCrop",t:$x},12:{n:"HeadingPairs",t:FAe},13:{n:"TitlesOfParts",t:MAe},14:{n:"Manager",t:Mi},15:{n:"Company",t:Mi},16:{n:"LinksUpToDate",t:$x},17:{n:"CharacterCount",t:Ys},19:{n:"SharedDoc",t:$x},22:{n:"HyperlinksChanged",t:$x},23:{n:"AppVersion",t:Ys,p:"version"},24:{n:"DigSig",t:PAe},26:{n:"ContentType",t:Mi},27:{n:"ContentStatus",t:Mi},28:{n:"Language",t:Mi},29:{n:"Version",t:Mi},255:{},2147483648:{n:"Locale",t:l_},2147483651:{n:"Behavior",t:l_},1919054434:{}},bN={1:{n:"CodePage",t:e6},2:{n:"Title",t:Mi},3:{n:"Subject",t:Mi},4:{n:"Author",t:Mi},5:{n:"Keywords",t:Mi},6:{n:"Comments",t:Mi},7:{n:"Template",t:Mi},8:{n:"LastAuthor",t:Mi},9:{n:"RevNumber",t:Mi},10:{n:"EditTime",t:zx},11:{n:"LastPrinted",t:zx},12:{n:"CreatedDate",t:zx},13:{n:"ModifiedDate",t:zx},14:{n:"PageCount",t:Ys},15:{n:"WordCount",t:Ys},16:{n:"CharCount",t:Ys},17:{n:"Thumbnail",t:RAe},18:{n:"Application",t:Mi},19:{n:"DocSecurity",t:Ys},255:{},2147483648:{n:"Locale",t:l_},2147483651:{n:"Behavior",t:l_},1919054434:{}},UU={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},UAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function LAe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var jAe=LAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),vf=br(jAe),jc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bJ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_N={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function t6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function BAe(t){var e=t6();if(!t||!t.match)return e;var n={};if((t.match(Ss)||[]).forEach(function(r){var i=tn(r);switch(i[0].replace(XDe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[_N[i.ContentType]]!==void 0&&e[_N[i.ContentType]].push(i.PartName);break}}),e.xmlns!==wi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function _J(t,e){var n=BDe(_N),r=[],i;r[r.length]=ai,r[r.length]=_t("Types",null,{xmlns:wi.CT,"xmlns:xsd":wi.xsd,"xmlns:xsi":wi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return _t("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=_t("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Hx[l][e.bookType]||Hx[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=_t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Hx[l][e.bookType]||Hx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=_t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var hn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ev(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function iy(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ss)||[]).forEach(function(i){var s=tn(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:k0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Vp(t){var e=[ai,_t("Relationships",null,{xmlns:wi.RELS})];return Kr(t["!id"]).forEach(function(n){e[e.length]=_t("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Hn(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[hn.HLINK,hn.XPATH,hn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var VAe="application/vnd.oasis.opendocument.spreadsheet";function WAe(t,e){for(var n=zI(t),r,i;r=Zy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=tn(r[0],!1),i.path=="/"&&i.type!==VAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function qAe(t){var e=[ai];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function LU(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function $Ae(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function zAe(t){var e=[ai];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(LU(t[n][0],t[n][1])),e.push($Ae("",t[n][0]));return e.push(LU("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function wJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+e_.version+"</meta:generator></office:meta></office:document-meta>"}var io=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],HAe=(function(){for(var t=new Array(io.length),e=0;e<io.length;++e){var n=io[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function TJ(t){var e={};t=Zn(t);for(var n=0;n<io.length;++n){var r=io[n],i=t.match(HAe[n]);i!=null&&i.length>0&&(e[r[1]]=An(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=xr(e[r[1]]))}return e}function b4(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Jn(e),r[r.length]=n?_t(t,e,n):Zi(t,e))}function EJ(t,e){var n=e||{},r=[ai,_t("cp:coreProperties",null,{"xmlns:cp":wi.CORE_PROPS,"xmlns:dc":wi.dc,"xmlns:dcterms":wi.dcterms,"xmlns:dcmitype":wi.dcmitype,"xmlns:xsi":wi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&b4("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:yN(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&b4("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:yN(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=io.length;++s){var a=io[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&b4(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var xf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],CJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SJ(t,e,n,r){var i=[];if(typeof t=="string")i=AU(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?AU(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function GAe(t,e,n){var r={};return e||(e={}),t=Zn(t),xf.forEach(function(i){var s=(t.match(Yy(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=An(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&SJ(r.HeadingPairs,r.TitlesOfParts,e,n),e}function DJ(t){var e=[],n=_t;return t||(t={}),t.Application="SheetJS",e[e.length]=ai,e[e.length]=_t("Properties",null,{xmlns:wi.EXT_PROPS,"xmlns:vt":wi.vt}),xf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Jn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Jn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var KAe=/<[^>]+>[^<]*/g;function JAe(t,e){var n={},r="",i=t.match(KAe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=tn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=An(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=An(u);break;case"bool":n[r]=mr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=xr(u);break;case"cy":case"error":n[r]=An(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function AJ(t){var e=[ai,_t("Properties",null,{xmlns:wi.CUST_PROPS,"xmlns:vt":wi.vt})];if(!t)return e.join("");var n=1;return Kr(t).forEach(function(i){++n,e[e.length]=_t("property",iAe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Jn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var wN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_4;function XAe(t,e,n){_4||(_4=zw(wN)),e=_4[e]||e,t[e]=n}function YAe(t,e){var n=[];return Kr(wN).map(function(r){for(var i=0;i<io.length;++i)if(io[i][1]==r)return io[i];for(i=0;i<xf.length;++i)if(xf[i][1]==r)return xf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Zi(wN[r[1]]||r[1],i))}}),_t("DocumentProperties",n.join(""),{xmlns:Ta.o})}function QAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Kr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<io.length;++a)if(s==io[a][1])return;for(a=0;a<xf.length;++a)if(s==xf[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(_t(EU(s),o,{"dt:dt":l}))}}),e&&Kr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(_t(EU(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Ta.o+'">'+i.join("")+"</"+r+">"}function n6(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function ZAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=rt(8);return a.write_shift(4,r),a.write_shift(4,i),a}function NJ(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function kJ(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function IJ(t,e,n){return e===31?kJ(t):NJ(t,e,n)}function TN(t,e,n){return IJ(t,e,n===!1?0:4)}function eNe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return IJ(t,e,0)}function tNe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(js,""),t.l-i&2&&(t.l+=2)}return n}function nNe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(js,"");return n}function rNe(t){var e=t.l,n=c_(t,xJ);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=c_(t,Ys);return[n,r]}function iNe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(rNe(t));return n}function jU(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(js,"").replace(N0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function PJ(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function sNe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function c_(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==OU&&r!==e&&OAe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===OU?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return NJ(t,r,4).replace(js,"");case 31:return kJ(t);case 64:return n6(t);case 65:return PJ(t);case 71:return sNe(t);case 80:return TN(t,r,!s.raw).replace(js,"");case 81:return eNe(t,r).replace(js,"");case 4108:return iNe(t);case 4126:case 4127:return r==4127?tNe(t):nNe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function BU(t,e){var n=rt(4),r=rt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=rt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=ZAe(e);break;case 31:case 80:for(r=rt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Bi([n,r])}function VU(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(x,w){return x[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=c_(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Mo(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=c_(t,e6),Mo(o),l!==-1){var g=t.l;t.l=s[l][1],c=jU(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=jU(t,o)}else{var y=c[s[a][0]],b;switch(t[t.l]){case 65:t.l+=4,b=PJ(t);break;case 30:t.l+=4,b=TN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=TN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=ei(t,4);break;case 64:t.l+=4,b=xr(n6(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=b}}return t.l=n+r,h}var RJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aNe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function WU(t,e,n){var r=rt(8),i=[],s=[],a=8,o=0,l=rt(8),c=rt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=rt(8),c.write_shift(4,0),i.unshift(c);var u=[rt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=rt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Bi(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(RJ.indexOf(t[o][0])>-1||CJ.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=BU(v.t,h)}else{var y=aNe(h);y==-1&&(y=31,h=String(h)),l=BU(y,h)}s.push(l),c=rt(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var b=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,b),b+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Bi([r].concat(i).concat(s))}function qU(t,e,n){var r=t.content;if(!r)return{};Yi(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==qt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=VU(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=VU(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function $U(t,e,n,r,i,s){var a=rt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,qt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=WU(t,n,r);if(o.push(l),i){var c=WU(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Bi(o)}function pu(t,e){return t.read_shift(e),null}function oNe(t,e){e||(e=rt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function lNe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function ei(t,e){return t.read_shift(e)===1}function Fs(t,e){return e||(e=rt(2)),e.write_shift(2,+!!t),e}function hi(t){return t.read_shift(2,"u")}function Ya(t,e){return e||(e=rt(2)),e.write_shift(2,t),e}function FJ(t,e){return lNe(t,e,hi)}function cNe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function MJ(t,e,n){return n||(n=rt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function e1(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function uNe(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function dNe(t){var e=t.t||"",n=rt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=rt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Bi(i)}function Hf(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function t1(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Hf(t,r,n)}function gh(t,e,n){if(n.biff>5)return t1(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function OJ(t,e,n){return n||(n=rt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function fNe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function hNe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(js,"");return r&&(t.l+=24),i}function pNe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(js,"");return n+a}function mNe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return hNe(t);case"0303000000000000c000000000000046":return pNe(t);default:throw new Error("Unsupported Moniker "+n)}}function Gx(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(js,""):"";return n}function zU(t,e){e||(e=rt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function gNe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=Gx(t,n-t.l)),i&128&&(a=Gx(t,n-t.l)),(i&257)===257&&(o=Gx(t,n-t.l)),(i&257)===1&&(l=mNe(t,n-t.l)),i&8&&(c=Gx(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=n6(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function yNe(t){var e=rt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),zU(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&zU(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function UJ(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function LJ(t,e){var n=UJ(t);return n[3]=0,n}function jl(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Gf(t,e,n,r){return r||(r=rt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function vNe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function xNe(t,e,n){return e===0?"":gh(t,e,n)}function bNe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function jJ(t){var e=t.read_shift(2),n=ZI(t);return[e,n]}function _Ne(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=e1(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Kw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function BJ(t,e){return e||(e=rt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function VJ(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var wNe=VJ;function WJ(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function TNe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function ENe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function cs(t){t.l+=2,t.l+=t.read_shift(2)}var CNe={0:cs,4:cs,5:cs,6:cs,7:ENe,8:cs,9:cs,10:cs,11:cs,12:cs,13:TNe,14:cs,15:cs,16:cs,17:cs,18:cs,19:cs,20:cs,21:WJ};function SNe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(CNe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Kx(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function r6(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=rt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function DNe(t,e){return e===0||t.read_shift(2),1200}function ANe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=gh(t,0,n);return t.read_shift(e+r-t.l),i}function NNe(t,e){var n=!e||e.biff==8,r=rt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function kNe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function INe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=e1(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function PNe(t,e){var n=!e||e.biff>=8?2:1,r=rt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function RNe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(uNe(t));return s.Count=r,s.Unique=i,s}function FNe(t,e){var n=rt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=dNe(t[i]);var s=Bi([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function MNe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function ONe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function UNe(t){var e=vNe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function LNe(t){return t.read_shift(2),t.read_shift(4)}function HU(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function jNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function BNe(){var t=rt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function VNe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function WNe(t){var e=rt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function qNe(){}function $Ne(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=e1(t,0,n),r}function zNe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=rt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function HNe(t){var e=jl(t);return e.isst=t.read_shift(4),e}function GNe(t,e,n,r){var i=rt(10);return Gf(t,e,r,i),i.write_shift(4,n),i}function KNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=jl(t);n.biff==2&&t.l++;var s=t1(t,r-t.l,n);return i.val=s,i}function JNe(t,e,n,r,i){var s=!i||i.biff==8,a=rt(8+ +s+(1+s)*n.length);return Gf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function XNe(t,e,n){var r=t.read_shift(2),i=gh(t,0,n);return[r,i]}function YNe(t,e,n,r){var i=n&&n.biff==5;r||(r=rt(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var QNe=gh;function GU(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function ZNe(t,e){var n=e.biff==8||!e.biff?4:2,r=rt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function eke(t){var e=t.read_shift(2),n=t.read_shift(2),r=jJ(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function tke(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(jJ(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function nke(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function rke(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=UAe[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function ike(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=rke(t,e,r.fStyle,n),r}function KU(t,e,n,r){var i=n&&n.biff==5;r||(r=rt(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function ske(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function ake(t){var e=rt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function JU(t,e,n){var r=jl(t);(n.biff==2||e==9)&&++t.l;var i=cNe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function oke(t,e,n,r,i,s){var a=rt(8);return Gf(t,e,r,a),MJ(n,s,a),a}function lke(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=jl(t),i=gs(t);return r.val=i,r}function cke(t,e,n,r){var i=rt(14);return Gf(t,e,r,i),zf(n,i),i}var XU=xNe;function uke(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Hf(t,s),o=[];r>t.l;)o.push(t1(t));return[s,i,a,o]}function YU(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=_Ne(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var dke=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function QU(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Hf(t,a,n);i&32&&(c=dke[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:S5e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function qJ(t,e,n){if(n.biff<8)return fke(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(bNe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function fke(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=e1(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function hke(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Hf(t,r,n),a=Hf(t,i,n);return[s,a]}function pke(t,e,n){var r=VJ(t);t.l++;var i=t.read_shift(1);return e-=8,[D5e(t,e,n),i,r]}function ZU(t,e,n){var r=wNe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,E5e(t,e,n)]}function mke(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function gke(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=gh(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function yke(t,e,n){return gke(t,e,n)}function vke(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Kw(t));return n}function xke(t){var e=rt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)BJ(t[n],e);return e}function bke(t,e,n){if(n&&n.biff<8)return wke(t,e,n);var r=WJ(t),i=SNe(t,e-22,r[1]);return{cmo:r,ft:i}}var _ke={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function wke(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((_ke[r]||Ts)(t,e,n)),{cmo:[i,r,s],ft:a}}function Tke(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=fNe(t,6,n);var o=t.read_shift(2);t.read_shift(2),hi(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Hf(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function Eke(t,e){var n=Kw(t);t.l+=16;var r=gNe(t,e-24);return[n,r]}function Cke(t){var e=rt(24),n=Ur(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Bi([e,yNe(t[1])])}function Ske(t,e){t.read_shift(2);var n=Kw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(js,""),[n,r]}function Dke(t){var e=t[1].Tooltip,n=rt(10+2*(e.length+1));n.write_shift(2,2048);var r=Ur(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function Ake(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=UU[n]||n,n=t.read_shift(2),e[1]=UU[n]||n,e}function Nke(t){return t||(t=rt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function kke(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(LJ(t));return n}function Ike(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(LJ(t));return n}function Pke(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function $J(t,e,n){if(!n.cellStyles)return Ts(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function Rke(t,e){var n=rt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Fke(t,e){var n={};return e<32||(t.l+=16,n.header=gs(t),n.footer=gs(t),t.l+=2),n}function Mke(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function Oke(t){for(var e=rt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var Uke=jl,Lke=FJ,jke=t1;function Bke(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function Vke(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=jl(t);++t.l;var i=gh(t,e-7,n);return r.t="str",r.val=i,r}function Wke(t){var e=jl(t);++t.l;var n=gs(t);return e.t="n",e.val=n,e}function qke(t,e,n){var r=rt(15);return s1(r,t,e),r.write_shift(8,n,"f"),r}function $ke(t){var e=jl(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function zke(t,e,n){var r=rt(9);return s1(r,t,e),r.write_shift(2,n),r}function Hke(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Gke(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Kke(t,e,n){var r=t.l+e,i=jl(t),s=t.read_shift(2),a=Hf(t,s,n);return t.l=r,i.t="str",i.val=a,i}var Jke=[2,3,48,49,131,139,140,245],EN=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=zw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=Qu(1);switch(l.type){case"base64":u=Ca(Ra(o));break;case"binary":u=Ca(o);break;case"buffer":case"array":u=o;break}Yi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var b=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],C={},S=Math.min(u.length,f==2?521:y-10-(p?264:0)),F=v?32:11;u.l<S&&u[u.l]!=13;)switch(C={},C.name=Ky.utils.decode(x,u.slice(u.l,u.l+F)).replace(/[\u0000\r\n].*$/g,""),u.l+=F,C.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),f==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&w.push(C),f!=2&&(u.l+=v?13:14),C.type){case"B":(!p||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var A=0,I=0;for(c[0]=[],I=0;I!=w.length;++I)c[0][I]=w[I].name;for(;g-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++A]=[],I=0,I=0;I!=w.length;++I){var N=u.slice(u.l,u.l+w[I].len);u.l+=w[I].len,Yi(N,0);var R=Ky.utils.decode(x,N);switch(w[I].type){case"C":R.trim().length&&(c[A][I]=R.replace(/\s+$/,""));break;case"D":R.length===8?c[A][I]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):c[A][I]=R;break;case"F":c[A][I]=parseFloat(R.trim());break;case"+":case"I":c[A][I]=v?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":c[A][I]=!0;break;case"N":case"F":c[A][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[A][I]="##MEMO##"+(v?parseInt(R.trim(),10):N.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(c[A][I]=+R||0);break;case"@":c[A][I]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":c[A][I]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":c[A][I]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[A][I]=-N.read_shift(-8,"f");break;case"B":if(p&&w[I].len==8){c[A][I]=N.read_shift(8,"f");break}case"G":case"P":N.l+=w[I].len;break;case"0":if(w[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[I].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=ag(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return hd(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Mo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=oa(),f=f_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,b=0,x=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++b;continue}if(h[g]!=null){if(++b,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=Nn(o["!ref"]),C=[],S=[],F=[];for(g=0;g<=w.e.c-w.s.c;++g){var A="",I="",N=0,R=[];for(y=0;y<p.length;++y)p[y][g]!=null&&R.push(p[y][g]);if(R.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<R.length;++y){switch(typeof R[y]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=R[y]instanceof Date?"D":"C";break;default:I="C"}N=Math.max(N,String(R[y]).length),A=A&&A!=I?"C":I}N>250&&(N=250),I=((v[g]||{}).DBF||{}).type,I=="C"&&v[g].DBF.len>N&&(N=v[g].DBF.len),A=="B"&&I=="N"&&(A="N",F[g]=v[g].DBF.dec,N=v[g].DBF.len),S[g]=A=="C"||I=="N"?N:s[A]||0,x+=S[g],C[g]=A}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*b),P.write_shift(2,x),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[RK]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var D=u.next(32),M=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,M,"sbcs"),D.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),D.write_shift(4,y),D.write_shift(1,S[g]||s[C[g]]||0),D.write_shift(1,F[g]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),y+=S[g]||s[C[g]]||0}var O=u.next(264);for(O.write_shift(4,13),g=0;g<65;++g)O.write_shift(4,0);for(g=0;g<p.length;++g){var H=u.next(x);for(H.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":H.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":H.write_shift(8,p[g][y]||0,"f");break;case"N":var X="0";for(typeof p[g][y]=="number"&&(X=p[g][y].toFixed(F[y]||0)),b=0;b<S[y]-X.length;++b)H.write_shift(1,32);H.write_shift(1,X,"sbcs");break;case"D":p[g][y]?(H.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(H.write_shift(1,G,"sbcs"),b=0;b<S[y]-G.length;++b)H.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),zJ=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Kr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?uU(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:uU(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Ra(h),p);case"binary":return s(h,p);case"buffer":return s(dn&&Buffer.isBuffer(h)?h.toString("binary"):fd(h),p);case"array":return s($f(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,b=0,x=0,w=[],C=[],S=null,F={},A=[],I=[],N=[],R=0,P;for(+p.codepage>=0&&Mo(+p.codepage);b!==v.length;++b){R=0;var D=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),M=D.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),O=M[0],H;if(D.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&C.push(D.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,G=!1,Z=!1,W=!1,Y=-1,B=-1;for(x=1;x<M.length;++x)switch(M[x].charAt(0)){case"A":break;case"X":y=parseInt(M[x].slice(1))-1,G=!0;break;case"Y":for(g=parseInt(M[x].slice(1))-1,G||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":H=M[x].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Bo(H))?isNaN(Cm(H).getDate())||(H=xr(H)):(H=Bo(H),S!==null&&ig(S)&&(H=Gw(H))),X=!0;break;case"E":W=!0;var j=Wp(M[x].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":Z=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":Y=parseInt(M[x].slice(1))-1;break;case"C":B=parseInt(M[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}if(X&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=H:w[g][y]=H,S=null),Z){if(W)throw new Error("SYLK shared formula cannot have own formula");var q=Y>-1&&w[Y][B];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=cX(q[1],{r:g-Y,c:y-B})}break;case"F":var J=0;for(x=1;x<M.length;++x)switch(M[x].charAt(0)){case"X":y=parseInt(M[x].slice(1))-1,++J;break;case"Y":for(g=parseInt(M[x].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":R=parseInt(M[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(M[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=M[x].slice(1).split(" "),P=parseInt(N[0],10);P<=parseInt(N[1],10);++P)R=parseInt(N[2],10),I[P-1]=R===0?{hidden:!0}:{wch:R},Zu(I[P-1]);break;case"C":y=parseInt(M[x].slice(1))-1,I[y]||(I[y]={});break;case"R":g=parseInt(M[x].slice(1))-1,A[g]||(A[g]={}),R>0?(A[g].hpt=R,A[g].hpx=Dm(R)):R===0&&(A[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}J<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}}return A.length>0&&(F["!rows"]=A),I.length>0&&(F["!cols"]=I),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,F]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],b=ag(g,p);return Kr(y).forEach(function(x){b[x]=y[x]}),b}function o(h,p){return hd(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+c6(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=nv(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=rv(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*iv(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=Nn(h["!ref"]),b,x=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var S=y.s.c;S<=y.e.c;++S){var F=Zt({r:C,c:S});b=x?(h[C]||[])[S]:h[F],!(!b||b.v==null&&(!b.f||b.F))&&g.push(l(b,h,C,S))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),HJ=(function(){function t(s,a){switch(a.type){case"base64":return e(Ra(s),a);case"binary":return e(s,a);case"buffer":return e(dn&&Buffer.isBuffer(s)?s.toString("binary"):fd(s),a);case"array":return e($f(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Bo(v))?isNaN(Cm(v).getDate())?f[l][c]=v:f[l][c]=xr(v):f[l][c]=Bo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return ag(t(s,a),a)}function r(s,a){return hd(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Nn(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Zt({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=co(f.z||Jt[14],Ei(xr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var b=`\r
`,x=c.join(b);return x}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),GJ=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,b=[];y!==p.length;++y){var x=p[y].trim().split(":");if(x[0]==="cell"){var w=Ur(x[1]);if(b.length<=w.r)for(v=b.length;v<=w.r;++v)b[v]||(b[v]=[]);switch(v=w.r,g=w.c,x[2]){case"t":b[v][g]=t(x[3]);break;case"v":b[v][g]=+x[3];break;case"vtf":var C=x[x.length-1];case"vtc":switch(x[3]){case"nl":b[v][g]=!!+x[4];break;default:b[v][g]=+x[4];break}x[2]=="vtf"&&(b[v][g]=[b[v][g],C])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function r(f,h){return ag(n(f,h),h)}function i(f,h){return hd(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=la(f["!ref"]),b=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var w=y.s.c;w<=y.e.c;++w)if(g=Zt({r:x,c:w}),v=b?(f[x]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var C=Ei(xr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=v.w||co(v.z||Jt[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),Sm=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Bo(u))?isNaN(Cm(u).getDate())?f[h][p]=u:f[h][p]=xr(u):f[h][p]=Bo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,b=0,x=0;x<=g;++x)b=v[x].indexOf(" "),b==-1?b=v[x].length:b++,y=Math.max(y,b);for(x=0;x<=g;++x){p[x]=[];var w=0;for(t(v[x].slice(0,y).trim(),p,x,w,h),w=1;w<=(v[x].length-y)/10+1;++w)t(v[x].slice(y+(w-1)*10,y+w*10).trim(),p,x,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,b=0,x=0,w=0,C=0,S=p.charCodeAt(0),F=!1,A=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?MDe(h.dateNF):null;function R(){var P=u.slice(w,C),D={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)D.t="z";else if(h.raw)D.t="s",D.v=P;else if(P.trim().length===0)D.t="s",D.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(D.t="s",D.v=P.slice(2,-1).replace(/""/g,'"')):u6e(P)?(D.t="n",D.f=P.slice(1)):(D.t="s",D.v=P);else if(P=="TRUE")D.t="b",D.v=!0;else if(P=="FALSE")D.t="b",D.v=!1;else if(!isNaN(x=Bo(P)))D.t="n",h.cellText!==!1&&(D.w=P),D.v=x;else if(!isNaN(Cm(P).getDate())||N&&P.match(N)){D.z=h.dateNF||Jt[14];var M=0;N&&P.match(N)&&(P=ODe(P,h.dateNF,P.match(N)||[]),M=1),h.cellDates?(D.t="d",D.v=xr(P,M)):(D.t="n",D.v=Ei(xr(P,M))),h.cellText!==!1&&(D.w=co(D.z,D.v instanceof Date?Ei(D.v):D.v)),h.cellNF||delete D.z}else D.t="s",D.v=P;if(D.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][b]=D):v[Zt({c:b,r:y})]=D),w=C+1,I=u.charCodeAt(w),g.e.c<b&&(g.e.c=b),g.e.r<y&&(g.e.r=y),A==S)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<u.length;++C)switch(A=u.charCodeAt(C)){case 34:I===34&&(F=!F);break;case S:case 10:case 13:if(!F&&R())break e;break}return C-w>0&&R(),v["!ref"]=on(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):ag(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:y6(u,f);switch(f.type){case"base64":h=Ra(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ky<"u"||(h=dn&&Buffer.isBuffer(u)?u.toString("binary"):fd(u));break;case"array":h=$f(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Zn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Zn(h):f.type=="binary"&&typeof Ky<"u",h.slice(0,19)=="socialcalc:version:"?GJ.to_sheet(f.type=="string"?h:Zn(h),f):a(h,f)}function l(u,f){return hd(o(u,f),f)}function c(u){for(var f=[],h=Nn(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],b=h.s.c;b<=h.e.c;++b){var x=Zt({r:g,c:b});if(p=v?(u[g]||[])[b]:u[x],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(Sc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(b===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function Xke(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=zJ.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Sm.to_workbook(t,e)}}var bf=(function(){function t(j,q,J){if(j){Yi(j,j.l||0);for(var Q=J.Enum||Y;j.l<j.length;){var te=j.read_shift(2),ae=Q[te]||Q[65535],ce=j.read_shift(2),ue=j.l+ce,Se=ae.f&&ae.f(j,ce,J);if(j.l=ue,q(Se,ae,te))return}}}function e(j,q){switch(q.type){case"base64":return n(Ca(Ra(j)),q);case"binary":return n(Ca(j),q);case"buffer":case"array":return n(j,q)}throw"Unsupported type "+q.type}function n(j,q){if(!j)return j;var J=q||{},Q=J.dense?[]:{},te="Sheet1",ae="",ce=0,ue={},Se=[],Fe=[],fe={s:{r:0,c:0},e:{r:0,c:0}},Le=J.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)J.Enum=Y,t(j,function(le,re,oe){switch(oe){case 0:J.vers=le,le>=4096&&(J.qpro=!0);break;case 6:fe=le;break;case 204:le&&(ae=le);break;case 222:ae=le;break;case 15:case 51:J.qpro||(le[1].v=le[1].v.slice(1));case 13:case 14:case 16:oe==14&&(le[2]&112)==112&&(le[2]&15)>1&&(le[2]&15)<15&&(le[1].z=J.dateNF||Jt[14],J.cellDates&&(le[1].t="d",le[1].v=Gw(le[1].v))),J.qpro&&le[3]>ce&&(Q["!ref"]=on(fe),ue[te]=Q,Se.push(te),Q=J.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},ce=le[3],te=ae||"Sheet"+(ce+1),ae="");var Ie=J.dense?(Q[le[0].r]||[])[le[0].c]:Q[Zt(le[0])];if(Ie){Ie.t=le[1].t,Ie.v=le[1].v,le[1].z!=null&&(Ie.z=le[1].z),le[1].f!=null&&(Ie.f=le[1].f);break}J.dense?(Q[le[0].r]||(Q[le[0].r]=[]),Q[le[0].r][le[0].c]=le[1]):Q[Zt(le[0])]=le[1];break}},J);else if(j[2]==26||j[2]==14)J.Enum=B,j[2]==14&&(J.qpro=!0,j.l=0),t(j,function(le,re,oe){switch(oe){case 204:te=le;break;case 22:le[1].v=le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(le[3]>ce&&(Q["!ref"]=on(fe),ue[te]=Q,Se.push(te),Q=J.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},ce=le[3],te="Sheet"+(ce+1)),Le>0&&le[0].r>=Le)break;J.dense?(Q[le[0].r]||(Q[le[0].r]=[]),Q[le[0].r][le[0].c]=le[1]):Q[Zt(le[0])]=le[1],fe.e.c<le[0].c&&(fe.e.c=le[0].c),fe.e.r<le[0].r&&(fe.e.r=le[0].r);break;case 27:le[14e3]&&(Fe[le[14e3][0]]=le[14e3][1]);break;case 1537:Fe[le[0]]=le[1],le[0]==ce&&(te=le[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Q["!ref"]=on(fe),ue[ae||te]=Q,Se.push(ae||te),!Fe.length)return{SheetNames:Se,Sheets:ue};for(var z={},me=[],be=0;be<Fe.length;++be)ue[Se[be]]?(me.push(Fe[be]||Se[be]),z[Fe[be]]=ue[Fe[be]]||ue[Se[be]]):(me.push(Fe[be]),z[Fe[be]]={"!ref":"A1"});return{SheetNames:me,Sheets:z}}function r(j,q){var J=q||{};if(+J.codepage>=0&&Mo(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=oa(),te=Nn(j["!ref"]),ae=Array.isArray(j),ce=[];wt(Q,0,s(1030)),wt(Q,6,l(te));for(var ue=Math.min(te.e.r,8191),Se=te.s.r;Se<=ue;++Se)for(var Fe=ri(Se),fe=te.s.c;fe<=te.e.c;++fe){Se===te.s.r&&(ce[fe]=Or(fe));var Le=ce[fe]+Fe,z=ae?(j[Se]||[])[fe]:j[Le];if(!(!z||z.t=="z"))if(z.t=="n")(z.v|0)==z.v&&z.v>=-32768&&z.v<=32767?wt(Q,13,p(Se,fe,z.v)):wt(Q,14,g(Se,fe,z.v));else{var me=Sc(z);wt(Q,15,f(Se,fe,me.slice(0,239)))}}return wt(Q,1),Q.end()}function i(j,q){var J=q||{};if(+J.codepage>=0&&Mo(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=oa();wt(Q,0,a(j));for(var te=0,ae=0;te<j.SheetNames.length;++te)(j.Sheets[j.SheetNames[te]]||{})["!ref"]&&wt(Q,27,W(j.SheetNames[te],ae++));var ce=0;for(te=0;te<j.SheetNames.length;++te){var ue=j.Sheets[j.SheetNames[te]];if(!(!ue||!ue["!ref"])){for(var Se=Nn(ue["!ref"]),Fe=Array.isArray(ue),fe=[],Le=Math.min(Se.e.r,8191),z=Se.s.r;z<=Le;++z)for(var me=ri(z),be=Se.s.c;be<=Se.e.c;++be){z===Se.s.r&&(fe[be]=Or(be));var le=fe[be]+me,re=Fe?(ue[z]||[])[be]:ue[le];if(!(!re||re.t=="z"))if(re.t=="n")wt(Q,23,R(z,be,ce,re.v));else{var oe=Sc(re);wt(Q,22,A(z,be,ce,oe.slice(0,239)))}}++ce}}return wt(Q,1),Q.end()}function s(j){var q=rt(2);return q.write_shift(2,j),q}function a(j){var q=rt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var J=0,Q=0,te=0,ae=0;ae<j.SheetNames.length;++ae){var ce=j.SheetNames[ae],ue=j.Sheets[ce];if(!(!ue||!ue["!ref"])){++te;var Se=la(ue["!ref"]);J<Se.e.r&&(J=Se.e.r),Q<Se.e.c&&(Q=Se.e.c)}}return J>8191&&(J=8191),q.write_shift(2,J),q.write_shift(1,te),q.write_shift(1,Q),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(j,q,J){var Q={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&J.qpro?(Q.s.c=j.read_shift(1),j.l++,Q.s.r=j.read_shift(2),Q.e.c=j.read_shift(1),j.l++,Q.e.r=j.read_shift(2),Q):(Q.s.c=j.read_shift(2),Q.s.r=j.read_shift(2),q==12&&J.qpro&&(j.l+=2),Q.e.c=j.read_shift(2),Q.e.r=j.read_shift(2),q==12&&J.qpro&&(j.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(j){var q=rt(8);return q.write_shift(2,j.s.c),q.write_shift(2,j.s.r),q.write_shift(2,j.e.c),q.write_shift(2,j.e.r),q}function c(j,q,J){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(Q[0].c=j.read_shift(1),Q[3]=j.read_shift(1),Q[0].r=j.read_shift(2),j.l+=2):(Q[2]=j.read_shift(1),Q[0].c=j.read_shift(2),Q[0].r=j.read_shift(2)),Q}function u(j,q,J){var Q=j.l+q,te=c(j,q,J);if(te[1].t="s",J.vers==20768){j.l++;var ae=j.read_shift(1);return te[1].v=j.read_shift(ae,"utf8"),te}return J.qpro&&j.l++,te[1].v=j.read_shift(Q-j.l,"cstr"),te}function f(j,q,J){var Q=rt(7+J.length);Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(1,39);for(var te=0;te<Q.length;++te){var ae=J.charCodeAt(te);Q.write_shift(1,ae>=128?95:ae)}return Q.write_shift(1,0),Q}function h(j,q,J){var Q=c(j,q,J);return Q[1].v=j.read_shift(2,"i"),Q}function p(j,q,J){var Q=rt(7);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(2,J,"i"),Q}function v(j,q,J){var Q=c(j,q,J);return Q[1].v=j.read_shift(8,"f"),Q}function g(j,q,J){var Q=rt(13);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(8,J,"f"),Q}function y(j,q,J){var Q=j.l+q,te=c(j,q,J);if(te[1].v=j.read_shift(8,"f"),J.qpro)j.l=Q;else{var ae=j.read_shift(2);C(j.slice(j.l,j.l+ae),te),j.l+=ae}return te}function b(j,q,J){var Q=q&32768;return q&=-32769,q=(Q?j:0)+(q>=8192?q-16384:q),(Q?"":"$")+(J?Or(q):ri(q))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(j,q){Yi(j,0);for(var J=[],Q=0,te="",ae="",ce="",ue="";j.l<j.length;){var Se=j[j.l++];switch(Se){case 0:J.push(j.read_shift(8,"f"));break;case 1:ae=b(q[0].c,j.read_shift(2),!0),te=b(q[0].r,j.read_shift(2),!1),J.push(ae+te);break;case 2:{var Fe=b(q[0].c,j.read_shift(2),!0),fe=b(q[0].r,j.read_shift(2),!1);ae=b(q[0].c,j.read_shift(2),!0),te=b(q[0].r,j.read_shift(2),!1),J.push(Fe+fe+":"+ae+te)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(j.read_shift(2));break;case 6:{for(var Le="";Se=j[j.l++];)Le+=String.fromCharCode(Se);J.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:ue=J.pop(),ce=J.pop(),J.push(["AND","OR"][Se-20]+"("+ce+","+ue+")");break;default:if(Se<32&&w[Se])ue=J.pop(),ce=J.pop(),J.push(ce+w[Se]+ue);else if(x[Se]){if(Q=x[Se][1],Q==69&&(Q=j[j.l++]),Q>J.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+J.join("|")+"|");return}var z=J.slice(-Q);J.length-=Q,J.push(x[Se][0]+"("+z.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}J.length==1?q[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function S(j){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=j.read_shift(2),q[3]=j[j.l++],q[0].c=j[j.l++],q}function F(j,q){var J=S(j);return J[1].t="s",J[1].v=j.read_shift(q-4,"cstr"),J}function A(j,q,J,Q){var te=rt(6+Q.length);te.write_shift(2,j),te.write_shift(1,J),te.write_shift(1,q),te.write_shift(1,39);for(var ae=0;ae<Q.length;++ae){var ce=Q.charCodeAt(ae);te.write_shift(1,ce>=128?95:ce)}return te.write_shift(1,0),te}function I(j,q){var J=S(j);J[1].v=j.read_shift(2);var Q=J[1].v>>1;if(J[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return J[1].v=Q,J}function N(j,q){var J=S(j),Q=j.read_shift(4),te=j.read_shift(4),ae=j.read_shift(2);if(ae==65535)return Q===0&&te===3221225472?(J[1].t="e",J[1].v=15):Q===0&&te===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var ce=ae&32768;return ae=(ae&32767)-16446,J[1].v=(1-ce*2)*(te*Math.pow(2,ae+32)+Q*Math.pow(2,ae)),J}function R(j,q,J,Q){var te=rt(14);if(te.write_shift(2,j),te.write_shift(1,J),te.write_shift(1,q),Q==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ae=0,ce=0,ue=0,Se=0;return Q<0&&(ae=1,Q=-Q),ce=Math.log2(Q)|0,Q/=Math.pow(2,ce-31),Se=Q>>>0,(Se&2147483648)==0&&(Q/=2,++ce,Se=Q>>>0),Q-=Se,Se|=2147483648,Se>>>=0,Q*=Math.pow(2,32),ue=Q>>>0,te.write_shift(4,ue),te.write_shift(4,Se),ce+=16383+(ae?32768:0),te.write_shift(2,ce),te}function P(j,q){var J=N(j);return j.l+=q-14,J}function D(j,q){var J=S(j),Q=j.read_shift(4);return J[1].v=Q>>6,J}function M(j,q){var J=S(j),Q=j.read_shift(8,"f");return J[1].v=Q,J}function O(j,q){var J=M(j);return j.l+=q-10,J}function H(j,q){return j[j.l+q-1]==0?j.read_shift(q,"cstr"):""}function X(j,q){var J=j[j.l++];J>q-1&&(J=q-1);for(var Q="";Q.length<J;)Q+=String.fromCharCode(j[j.l++]);return Q}function G(j,q,J){if(!(!J.qpro||q<21)){var Q=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var te=j.read_shift(q-21,"cstr");return[Q,te]}}function Z(j,q){for(var J={},Q=j.l+q;j.l<Q;){var te=j.read_shift(2);if(te==14e3){for(J[te]=[0,""],J[te][0]=j.read_shift(2);j[j.l];)J[te][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return J}function W(j,q){var J=rt(5+j.length);J.write_shift(2,14e3),J.write_shift(2,q);for(var Q=0;Q<j.length;++Q){var te=j.charCodeAt(Q);J[J.l++]=te>127?95:te}return J[J.l++]=0,J}var Y={0:{n:"BOF",f:hi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function Yke(t){var e={},n=t.match(Ss),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=tn(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=FI[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Qke=(function(){var t=Yy("t"),e=Yy("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:An(a[1])},l=s.match(e);return l&&(o.s=Yke(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),Zke=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),e3e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,t3e=/<(?:\w+:)?r>/,n3e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function i6(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=An(Zn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Zn(t),n&&(r.h=$I(r.t))):t.match(t3e)&&(r.r=Zn(t),r.t=An(Zn((t.replace(n3e,"").match(e3e)||[]).join("").replace(Ss,""))),n&&(r.h=Zke(Qke(r.r)))),r):{t:""}}var r3e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,i3e=/<(?:\w+:)?(?:si|sstItem)>/g,s3e=/<\/(?:\w+:)?(?:si|sstItem)>/;function a3e(t,e){var n=[],r="";if(!t)return n;var i=t.match(r3e);if(i){r=i[2].replace(i3e,"").split(s3e);for(var s=0;s!=r.length;++s){var a=i6(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=tn(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var o3e=/^\s|\s$|[\t\n\r]/;function KJ(t,e){if(!e.bookSST)return"";var n=[ai];n[n.length]=_t("sst",null,{xmlns:dh[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(o3e)&&(s+=' xml:space="preserve"'),s+=">"+Jn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function l3e(t){return[t.read_shift(4),t.read_shift(4)]}function c3e(t,e){var n=[],r=!1;return Lc(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function u3e(t,e){return e||(e=rt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var d3e=_Ae;function f3e(t){var e=oa();ot(e,159,u3e(t));for(var n=0;n<t.length;++n)ot(e,19,d3e(t[n]));return ot(e,160),e.end()}function JJ(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function gc(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function h3e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=gc(t,4),e.U=gc(t,4),e.W=gc(t,4),e}function p3e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function m3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(p3e(t));return e}function g3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function y3e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=gc(t,4),e.U=gc(t,4),e.W=gc(t,4),e}function v3e(t){var e=y3e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function XJ(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function YJ(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function x3e(t){var e=gc(t);switch(e.Minor){case 2:return[e.Minor,b3e(t)];case 3:return[e.Minor,_3e()];case 4:return[e.Minor,w3e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function b3e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=XJ(t,n),i=YJ(t,t.length-t.l);return{t:"Std",h:r,v:i}}function _3e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function w3e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ss,function(s){var a=tn(s);switch(Ll(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function T3e(t,e){var n={},r=n.EncryptionVersionInfo=gc(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=XJ(t,i),e-=i,n.EncryptionVerifier=YJ(t,e),n}function E3e(t){var e={},n=e.EncryptionVersionInfo=gc(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function s6(t){var e=0,n,r=JJ(t),i=r.length+1,s,a,o,l,c;for(n=Qu(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var QJ=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=JJ(a),l=s(o),c=o.length,u=Qu(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),C3e=function(t,e,n,r,i){i||(i=e),r||(r=QJ(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},S3e=function(t){var e=0,n=QJ(t);return function(r){var i=C3e("",r,e,n);return e=i[1],i[0]}};function D3e(t,e,n,r){var i={key:hi(t),verificationBytes:hi(t)};return n.password&&(i.verifier=s6(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=S3e(n.password)),i}function A3e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=E3e(t):r.Data=T3e(t,e),r}function N3e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?A3e(t,e-2,r):D3e(t,n.biff>=8?e:e-2,n,r),r}var ZJ=(function(){function t(i,s){switch(s.type){case"base64":return e(Ra(i),s);case"binary":return e(i,s);case"buffer":return e(dn&&Buffer.isBuffer(i)?i.toString("binary"):fd(i),s);case"array":return e($f(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var b={v:y,t:"s"};Array.isArray(o)?o[f][g]=b:o[Zt({r:f,c:g})]=b}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=on(c),o}function n(i,s){return hd(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Nn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=Zt({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Sc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function k3e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function tv(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function I3e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function P3e(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function u_(t,e){if(e===0)return t;var n=I3e(k3e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),tv(P3e(n))}var eX=6,R3e=15,F3e=1,ps=eX;function nv(t){return Math.floor((t+Math.round(128/ps)/256)*ps)}function rv(t){return Math.floor((t-5)/ps*100+.5)/100}function d_(t){return Math.round((t*ps+5)/ps*256)/256}function w4(t){return d_(rv(nv(t)))}function a6(t){var e=Math.abs(t-w4(t)),n=ps;if(e>.005)for(ps=F3e;ps<R3e;++ps)Math.abs(t-w4(t))<=e&&(e=Math.abs(t-w4(t)),n=ps);ps=n}function Zu(t){t.width?(t.wpx=nv(t.width),t.wch=rv(t.wpx),t.MDW=ps):t.wpx?(t.wch=rv(t.wpx),t.width=d_(t.wch),t.MDW=ps):typeof t.wch=="number"&&(t.width=d_(t.wch),t.wpx=nv(t.width),t.MDW=ps),t.customWidth&&delete t.customWidth}var M3e=96,tX=M3e;function iv(t){return t*96/tX}function Dm(t){return t*tX/96}var O3e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function U3e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ss)||[]).forEach(function(a){var o=tn(a);switch(Ll(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=mr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=mr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function L3e(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ss)||[]).forEach(function(a){var o=tn(a);switch(Ll(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function j3e(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ss)||[]).forEach(function(a){var o=tn(a);switch(Ll(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Zn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?mr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?mr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?mr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?mr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?mr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?mr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?mr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=FI[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=mr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=vf[i.color.index];i.color.index==81&&(l=vf[1]),l||(l=vf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=u_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function B3e(t,e,n){e.NumberFmt=[];for(var r=Kr(Jt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Jt[r[i]];var s=t[0].match(Ss);if(s)for(i=0;i<s.length;++i){var a=tn(s[i]);switch(Ll(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=An(Zn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}mc(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function V3e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=_t("numFmt",null,{numFmtId:r,formatCode:Jn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=_t("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Jx=["numFmtId","fillId","fontId","borderId","xfId"],Xx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function W3e(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ss)||[]).forEach(function(s){var a=tn(s),o=0;switch(Ll(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<Jx.length;++o)r[Jx[o]]&&(r[Jx[o]]=parseInt(r[Jx[o]],10));for(o=0;o<Xx.length;++o)r[Xx[o]]&&(r[Xx[o]]=mr(r[Xx[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=mr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function q3e(t){var e=[];return e[e.length]=_t("cellXfs",null),t.forEach(function(n){e[e.length]=_t("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=_t("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var $3e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&B3e(f,u,c),(f=o.match(i))&&j3e(f,u,l,c),(f=o.match(r))&&L3e(f,u,l,c),(f=o.match(s))&&U3e(f,u,l,c),(f=o.match(n))&&W3e(f,u,c),u}})();function nX(t,e){var n=[ai,_t("styleSheet",null,{xmlns:dh[0],"xmlns:vt":wi.vt})],r;return t.SSF&&(r=V3e(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=q3e(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function z3e(t,e){var n=t.read_shift(2),r=ws(t);return[n,r]}function H3e(t,e,n){n||(n=rt(6+4*e.length)),n.write_shift(2,t),Vi(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function G3e(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=AAe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=DAe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ws(t),r}function K3e(t,e){e||(e=rt(153)),e.write_shift(2,t.sz*20),NAe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),o_(t.color,e);var r=0;return r=2,e.write_shift(1,r),Vi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var J3e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],T4,X3e=Ts;function eL(t,e){e||(e=rt(84)),T4||(T4=zw(J3e));var n=T4[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(o_({auto:1},e),o_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Y3e(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function rX(t,e,n){n||(n=rt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function o0(t,e){return e||(e=rt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Q3e=Ts;function Z3e(t,e){return e||(e=rt(51)),e.write_shift(1,0),o0(null,e),o0(null,e),o0(null,e),o0(null,e),o0(null,e),e.length>e.l?e.slice(0,e.l):e}function eIe(t,e){return e||(e=rt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),a_(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function tIe(t,e,n){var r=rt(2052);return r.write_shift(4,t),a_(e,r),a_(n,r),r.length>r.l?r.slice(0,r.l):r}function nIe(t,e,n){var r={};r.NumberFmt=[];for(var i in Jt)r.NumberFmt[i]=Jt[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Lc(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],mc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=u_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function rIe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(ot(t,615,Vo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ot(t,44,H3e(i,e[i]))}),ot(t,616))}}function iIe(t){var e=1;ot(t,611,Vo(e)),ot(t,43,K3e({sz:12,color:{theme:1},name:"Calibri",family:2})),ot(t,612)}function sIe(t){var e=2;ot(t,603,Vo(e)),ot(t,45,eL({patternType:"none"})),ot(t,45,eL({patternType:"gray125"})),ot(t,604)}function aIe(t){var e=1;ot(t,613,Vo(e)),ot(t,46,Z3e()),ot(t,614)}function oIe(t){var e=1;ot(t,626,Vo(e)),ot(t,47,rX({numFmtId:0},65535)),ot(t,627)}function lIe(t,e){ot(t,617,Vo(e.length)),e.forEach(function(n){ot(t,47,rX(n,0))}),ot(t,618)}function cIe(t){var e=1;ot(t,619,Vo(e)),ot(t,48,eIe({xfId:0,name:"Normal"})),ot(t,620)}function uIe(t){var e=0;ot(t,505,Vo(e)),ot(t,506)}function dIe(t){var e=0;ot(t,508,tIe(e,"TableStyleMedium9","PivotStyleMedium4")),ot(t,509)}function fIe(t,e){var n=oa();return ot(n,278),rIe(n,t.SSF),iIe(n),sIe(n),aIe(n),oIe(n),lIe(n,e.cellXfs),cIe(n),uIe(n),dIe(n),ot(n,279),n.end()}var hIe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function pIe(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ss)||[]).forEach(function(i){var s=tn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[hIe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function mIe(){}function gIe(){}var yIe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,vIe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,xIe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function bIe(t,e,n){e.themeElements={};var r;[["clrScheme",yIe,pIe],["fontScheme",vIe,mIe],["fmtScheme",xIe,gIe]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var _Ie=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function iX(t,e){(!t||t.length===0)&&(t=o6());var n,r={};if(!(n=t.match(_Ie)))throw new Error("themeElements not found in theme");return bIe(n[0],r,e),r.raw=t,r}function o6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ai];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function wIe(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=XK(s,{type:"array"})}catch{return}var o=Sa(a,"theme/theme/theme1.xml",!0);if(o)return iX(o,n)}}function TIe(t){return t.read_shift(4)}function EIe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=CIe(t,4);break;case 2:e.xclrValue=UJ(t);break;case 3:e.xclrValue=TIe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function CIe(t,e){return Ts(t,e)}function SIe(t,e){return Ts(t,e)}function DIe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=EIe(t);break;case 6:r[1]=SIe(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function AIe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(DIe(t,n-t.l));return{ixfe:r,ext:s}}function NIe(t,e){e.forEach(function(n){n[0]})}function kIe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ws(t)}}function IIe(t){var e=rt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Vi(t.name,e),e.slice(0,e.l)}function PIe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function RIe(t){var e=rt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function FIe(t,e){var n=rt(8+2*e.length);return n.write_shift(4,t),Vi(e,n),n.slice(0,n.l)}function MIe(t){return t.l+=4,t.read_shift(4)!=0}function OIe(t,e){var n=rt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function UIe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Lc(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function LIe(){var t=oa();return ot(t,332),ot(t,334,Vo(1)),ot(t,335,IIe({name:"XLDAPR",version:12e4,flags:3496657072})),ot(t,336),ot(t,339,FIe(1,"XLDAPR")),ot(t,52),ot(t,35,Vo(514)),ot(t,4096,Vo(0)),ot(t,4097,Ya(1)),ot(t,36),ot(t,53),ot(t,340),ot(t,337,OIe(1)),ot(t,51,RIe([[1,0]])),ot(t,338),ot(t,333),t.end()}function jIe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(Ss,function(o){var l=tn(o);switch(Ll(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function sX(){var t=[ai];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function BIe(t){var e=[];if(!t)return e;var n=1;return(t.match(Ss)||[]).forEach(function(r){var i=tn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function VIe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Zt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function WIe(t,e,n){var r=[];return Lc(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function qIe(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Lc(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function $Ie(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var Ap=1024;function aX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[_t("xml",null,{"xmlns:v":Ta.v,"xmlns:o":Ta.o,"xmlns:x":Ta.x,"xmlns:mv":Ta.mv}).replace(/\/>/,">"),_t("o:shapelayout",_t("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),_t("v:shapetype",[_t("v:stroke",null,{joinstyle:"miter"}),_t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Ap<t*1e3;)Ap+=1e3;return e.forEach(function(s){var a=Ur(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?_t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=_t("v:fill",l,o),u={on:"t",obscured:"t"};++Ap,i=i.concat(["<v:shape"+Qy({id:"_x0000_s"+Ap,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,_t("v:shadow",null,u),_t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zi("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Zi("x:AutoFill","False"),Zi("x:Row",String(a.r)),Zi("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function tL(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Ur(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Nn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=on(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function zIe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=tn(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ur(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&i6(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function oX(t){var e=[ai,_t("comments",null,{xmlns:dh[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=Jn(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Jn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Zi("t",Jn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Zi("t",Jn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function HIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ss,function(o,l){var c=tn(o);switch(Ll(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function GIe(t,e,n){var r=[ai,_t("ThreadedComments",null,{xmlns:wi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(_t("threadedComment",Zi("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function KIe(t,e){var n=[],r=!1;return t.replace(Ss,function(s){var a=tn(s);switch(Ll(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function JIe(t){var e=[ai,_t("personList",null,{xmlns:wi.TCMNT,"xmlns:x":dh[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(_t("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function XIe(t){var e={};e.iauthor=t.read_shift(4);var n=mh(t);return e.rfx=n.s,e.ref=Zt(n.s),t.l+=16,e}function YIe(t,e){return e==null&&(e=rt(36)),e.write_shift(4,t[1].iauthor),og(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var QIe=ws;function ZIe(t){return Vi(t.slice(0,54))}function e6e(t,e){var n=[],r=[],i={},s=!1;return Lc(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function t6e(t){var e=oa(),n=[];return ot(e,628),ot(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),ot(e,632,ZIe(i.a)))})}),ot(e,631),ot(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Ur(r[0]),e:Ur(r[0])};ot(e,635,YIe([s,i])),i.t&&i.t.length>0&&ot(e,637,TAe(i)),ot(e,636),delete i.iauthor})}),ot(e,634),ot(e,629),e.end()}var n6e="application/vnd.ms-office.vbaProject";function r6e(t){var e=qt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");qt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),qt.write(e)}function i6e(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&qt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var lX=["xlsb","xlsm","xlam","biff8","xla"];function s6e(){return{"!type":"dialog"}}function a6e(){return{"!type":"dialog"}}function o6e(){return{"!type":"macro"}}function l6e(){return{"!type":"macro"}}var Wp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Or(u)+(l?"":"$")+ri(c)}return function(i,s){return e=s,i.replace(t,n)}})(),l6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,c6=(function(){return function(e,n){return e.replace(l6,function(r,i,s,a,o,l){var c=JI(a)-(s?0:n.c),u=KI(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function cX(t,e){return t.replace(l6,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Or(JI(s)+e.c))+(a=="$"?a+o:ri(KI(o)+e.r))})}function c6e(t,e,n){var r=la(e),i=r.s,s=Ur(n),a={r:s.r-i.r,c:s.c-i.c};return cX(t,a)}function u6e(t){return t.length!=1}function nL(t){return t.replace(/_xlfn\./g,"")}function ui(t){t.l+=1}function ed(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function uX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return dX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=ed(t),o=ed(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function dX(t){var e=ed(t),n=ed(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function d6e(t,e,n){if(n.biff<8)return dX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=ed(t),a=ed(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function fX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return f6e(t);var r=t.read_shift(n&&n.biff==12?4:2),i=ed(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function f6e(t){var e=ed(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function h6e(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function p6e(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return m6e(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function m6e(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function g6e(t,e,n){var r=(t[t.l++]&96)>>5,i=uX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function y6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=uX(t,s,n);return[r,i,a]}function v6e(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function x6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function b6e(t,e,n){var r=(t[t.l++]&96)>>5,i=d6e(t,e-1,n);return[r,i]}function _6e(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function rL(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function w6e(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function T6e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function E6e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function C6e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function S6e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function hX(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function D6e(t){return t.read_shift(2),hX(t)}function A6e(t){return t.read_shift(2),hX(t)}function N6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=fX(t,0,n);return[r,i]}function k6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=p6e(t,0,n);return[r,i]}function I6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=fX(t,0,n);return[r,i,s]}function P6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[M5e[i],gX[i],r]}function R6e(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:F6e(t);return[i,(s[0]===0?gX:F5e)[s[1]]]}function F6e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function M6e(t,e,n){t.l+=n&&n.biff==2?3:4}function O6e(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function U6e(t){return t.l++,jc[t.read_shift(1)]}function L6e(t){return t.l++,t.read_shift(2)}function j6e(t){return t.l++,t.read_shift(1)!==0}function B6e(t){return t.l++,gs(t)}function V6e(t,e,n){return t.l++,e1(t,e-1,n)}function W6e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=ei(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=jc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=gs(t);break;case 2:n[1]=gh(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function q6e(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?mh:Kw)(t));return i}function $6e(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=W6e(t,n.biff);return a}function z6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function H6e(t,e,n){if(n.biff==5)return G6e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function G6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function K6e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function J6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function X6e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function Y6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var Q6e=Ts,Z6e=Ts,e5e=Ts;function n1(t,e,n){return t.l+=2,[h6e(t)]}function u6(t){return t.l+=6,[]}var t5e=n1,n5e=u6,r5e=u6,i5e=n1;function pX(t){return t.l+=2,[hi(t),t.read_shift(2)&1]}var s5e=n1,a5e=pX,o5e=u6,l5e=n1,c5e=n1,u5e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function d5e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=u5e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function f5e(t){return t.l+=2,[t.read_shift(4)]}function h5e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function p5e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function m5e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function g5e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function y5e(t){return t.l+=4,[0,0]}var iL={1:{n:"PtgExp",f:O6e},2:{n:"PtgTbl",f:e5e},3:{n:"PtgAdd",f:ui},4:{n:"PtgSub",f:ui},5:{n:"PtgMul",f:ui},6:{n:"PtgDiv",f:ui},7:{n:"PtgPower",f:ui},8:{n:"PtgConcat",f:ui},9:{n:"PtgLt",f:ui},10:{n:"PtgLe",f:ui},11:{n:"PtgEq",f:ui},12:{n:"PtgGe",f:ui},13:{n:"PtgGt",f:ui},14:{n:"PtgNe",f:ui},15:{n:"PtgIsect",f:ui},16:{n:"PtgUnion",f:ui},17:{n:"PtgRange",f:ui},18:{n:"PtgUplus",f:ui},19:{n:"PtgUminus",f:ui},20:{n:"PtgPercent",f:ui},21:{n:"PtgParen",f:ui},22:{n:"PtgMissArg",f:ui},23:{n:"PtgStr",f:V6e},26:{n:"PtgSheet",f:h5e},27:{n:"PtgEndSheet",f:p5e},28:{n:"PtgErr",f:U6e},29:{n:"PtgBool",f:j6e},30:{n:"PtgInt",f:L6e},31:{n:"PtgNum",f:B6e},32:{n:"PtgArray",f:_6e},33:{n:"PtgFunc",f:P6e},34:{n:"PtgFuncVar",f:R6e},35:{n:"PtgName",f:z6e},36:{n:"PtgRef",f:N6e},37:{n:"PtgArea",f:g6e},38:{n:"PtgMemArea",f:K6e},39:{n:"PtgMemErr",f:Q6e},40:{n:"PtgMemNoMem",f:Z6e},41:{n:"PtgMemFunc",f:J6e},42:{n:"PtgRefErr",f:X6e},43:{n:"PtgAreaErr",f:v6e},44:{n:"PtgRefN",f:k6e},45:{n:"PtgAreaN",f:b6e},46:{n:"PtgMemAreaN",f:m5e},47:{n:"PtgMemNoMemN",f:g5e},57:{n:"PtgNameX",f:H6e},58:{n:"PtgRef3d",f:I6e},59:{n:"PtgArea3d",f:y6e},60:{n:"PtgRefErr3d",f:Y6e},61:{n:"PtgAreaErr3d",f:x6e},255:{}},v5e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},x5e={1:{n:"PtgElfLel",f:pX},2:{n:"PtgElfRw",f:l5e},3:{n:"PtgElfCol",f:t5e},6:{n:"PtgElfRwV",f:c5e},7:{n:"PtgElfColV",f:i5e},10:{n:"PtgElfRadical",f:s5e},11:{n:"PtgElfRadicalS",f:o5e},13:{n:"PtgElfColS",f:n5e},15:{n:"PtgElfColSV",f:r5e},16:{n:"PtgElfRadicalLel",f:a5e},25:{n:"PtgList",f:d5e},29:{n:"PtgSxName",f:f5e},255:{}},b5e={0:{n:"PtgAttrNoop",f:y5e},1:{n:"PtgAttrSemi",f:S6e},2:{n:"PtgAttrIf",f:E6e},4:{n:"PtgAttrChoose",f:w6e},8:{n:"PtgAttrGoto",f:T6e},16:{n:"PtgAttrSum",f:M6e},32:{n:"PtgAttrBaxcel",f:rL},33:{n:"PtgAttrBaxcel",f:rL},64:{n:"PtgAttrSpace",f:D6e},65:{n:"PtgAttrSpaceSemi",f:A6e},128:{n:"PtgAttrIfError",f:C6e},255:{}};function r1(t,e,n,r){if(r.biff<8)return Ts(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=$6e(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=q6e(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(Ts(t,e)),s}function i1(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=iL[s]||iL[v5e[s]],(s===24||s===25)&&(i=(s===24?x5e:b5e)[t[t.l+1]]),!i||!i.f?Ts(t,e):a.push([i.n,i.f(t,e,n)]);return a}function _5e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var w5e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function T5e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function mX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function sL(t,e,n){var r=mX(t,e,n);return r=="#REF"?r:T5e(r,n)}function hs(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",b=0,x=t[0].length;b<x;++b){var w=t[0][b];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=qr(" ",t[0][g][1][1]);break;case 1:y=qr("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+w5e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ny(w[1][1],a,i),o.push(ry(u,s));break;case"PtgRefN":u=n?ny(w[1][1],n,i):w[1][1],o.push(ry(u,s));break;case"PtgRef3d":f=w[1][1],u=ny(w[1][2],a,i),v=sL(r,f,i),o.push(v+"!"+ry(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=w[1][0],S=w[1][1];C||(C=0),C&=127;var F=C==0?[]:o.slice(-C);o.length-=C,S==="User"&&(S=F.shift()),o.push(S+"("+F.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=FU(w[1][1],n?{s:n}:a,i),o.push(x4(p,i));break;case"PtgArea":p=FU(w[1][1],a,i),o.push(x4(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=sL(r,f,i),o.push(v+"!"+x4(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var A=(r.names||[])[h-1]||(r[0]||[])[h],I=A?A.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var N=w[1][1];h=w[1][2];var R;if(i.biff<=5)N<0&&(N=-N),r[N]&&(R=r[N][h]);else{var P="";if(((r[N]||[])[0]||[])[0]==14849||(((r[N]||[])[0]||[])[0]==1025?r[N][h]&&r[N][h].itab>0&&(P=r.SheetNames[r[N][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[N]&&r[N][h])P+=r[N][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var D=(mX(r,N,i)||"").split(";;");D[h-1]?P=D[h-1]:P+="SH33TJSERRX"}o.push(P);break}R||(R={Name:"SH33TJSERRY"}),o.push(R.Name);break;case"PtgParen":var M="(",O=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:M=qr(" ",t[0][g][1][1])+M;break;case 3:M=qr("\r",t[0][g][1][1])+M;break;case 4:O=qr(" ",t[0][g][1][1])+O;break;case 5:O=qr("\r",t[0][g][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(M+o.pop()+O);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var H={c:n.c,r:n.r};if(r.sharedf[Zt(u)]){var X=r.sharedf[Zt(u)];o.push(hs(X,a,H,r,i))}else{var G=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(hs(c[1],a,H,r,i)),G=!0;break}G||o.push(w[1])}break;case"PtgArray":o.push("{"+_5e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&Z.indexOf(t[0][b][0])==-1){w=t[0][g];var W=!0;switch(w[1][0]){case 4:W=!1;case 0:y=qr(" ",w[1][1]);break;case 5:W=!1;case 1:y=qr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((W?y:"")+o.pop()+(W?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function E5e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ts(t,e-2)];var o=i1(t,a,n);return e!==a+i&&(s=r1(t,e-a-i,o,n)),t.l=r,[o,s]}function C5e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ts(t,e-2)];var o=i1(t,a,n);return e!==a+i&&(s=r1(t,e-a-i,o,n)),t.l=r,[o,s]}function S5e(t,e,n,r){var i=t.l+e,s=i1(t,r,n),a;return i!==t.l&&(a=r1(t,i-t.l,s,n)),[s,a]}function D5e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=i1(t,s,n);return s==65535?[[],Ts(t,e-2)]:(e!==s+2&&(i=r1(t,r-s-2,a,n)),[a,i])}function A5e(t){var e;if(oc(t,t.l+6)!==65535)return[gs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function N5e(t){if(t==null){var e=rt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return zf(t);return zf(0)}function E4(t,e,n){var r=t.l+e,i=jl(t);n.biff==2&&++t.l;var s=A5e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=C5e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function k5e(t,e,n,r,i){var s=Gf(e,n,i),a=N5e(t.v),o=rt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=rt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Bi([s,a,o,c]);return f}function Jw(t,e,n){var r=t.read_shift(4),i=i1(t,r,n),s=t.read_shift(4),a=s>0?r1(t,s,i,n):null;return[i,a]}var I5e=Jw,Xw=Jw,P5e=Jw,R5e=Jw,F5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},gX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},M5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aL(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function O5e(t){var e="of:="+t.replace(l6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function C4(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function U5e(t){return t.replace(/\./,"!")}var sy={},qp={},ay=typeof Map<"u";function d6(t,e,n){var r=0,i=t.length;if(n){if(ay?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=ay?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(ay?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Yw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ps=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=rv(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=d_(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function _f(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function pd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){mc(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function yX(t,e,n,r,i,s){try{r.cellNF&&(t.z=Jt[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=xr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Jt[e]==null&&mc(FDe[e]||"General",e),t.t==="e")t.w=t.w||jc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Xy(t.v);else if(t.t==="d"){var a=Ei(t.v);(a|0)===a?t.w=a.toString(10):t.w=Xy(a)}else{if(t.v===void 0)return"";t.w=qf(t.v,qp)}else t.t==="d"?t.w=co(e,Ei(t.v),qp):t.w=co(e,t.v,qp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=u_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=u_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function L5e(t,e,n){if(t&&t["!ref"]){var r=Nn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function j5e(t,e){var n=Nn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=on(n))}var B5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,V5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,W5e=/<(?:\w:)?hyperlink [^>]*>/mg,q5e=/"(\w*:\w*)"/,$5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,z5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,H5e=/<(?:\w:)?pageMargins[^>]*\/>/g,vX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,G5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,K5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function J5e(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(V5e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(vX);h?f6(h[0],o,i,n):(h=c.match(G5e))&&Y5e(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(q5e);v&&j5e(o,v[1])}var g=c.match(K5e);g&&g[1]&&uPe(g[1],i);var y=[];if(e.cellStyles){var b=c.match($5e);b&&sPe(y,b)}f&&hPe(f[1],o,e,l,s,a);var x=u.match(z5e);x&&(o["!autofilter"]=oPe(x[0]));var w=[],C=u.match(B5e);if(C)for(p=0;p!=C.length;++p)w[p]=Nn(C[p].slice(C[p].indexOf('"')+1));var S=u.match(W5e);S&&nPe(o,S,r);var F=u.match(H5e);if(F&&(o["!margins"]=rPe(tn(F[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=on(l)),e.sheetRows>0&&o["!ref"]){var A=Nn(o["!ref"]);e.sheetRows<=+A.e.r&&(A.e.r=e.sheetRows-1,A.e.r>l.e.r&&(A.e.r=l.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>l.e.c&&(A.e.c=l.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),o["!fullref"]=o["!ref"],o["!ref"]=on(A))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function X5e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+on(t[n])+'"/>';return e+"</mergeCells>"}function f6(t,e,n,r){var i=tn(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=An(Zn(i.codeName)))}function Y5e(t,e,n,r,i){f6(t.slice(0,t.indexOf(">")),n,r,i)}function Q5e(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=wl(Jn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+_t("outlinePr",null,c)}!s&&!o||(i[i.length]=_t("sheetPr",o,a))}var Z5e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ePe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tPe(t){var e={sheet:1};return Z5e.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),ePe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=s6(t.password).toString(16).toUpperCase()),_t("sheetProtection",null,e)}function nPe(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=tn(Zn(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+An(s.location))):(s.Target="#"+An(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Nn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Zt({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function rPe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function iPe(t){return _f(t),_t("pageMargins",null,t)}function sPe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=tn(e[r],!0);i.hidden&&(i.hidden=mr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,a6(i.width)),Zu(i);s<=a;)t[s++]=br(i)}}function aPe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=_t("col",null,Yw(i,r)));return n[n.length]="</cols>",n.join("")}function oPe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function lPe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:on(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=la(i);a.s.r==a.e.r&&(a.e.r=la(e["!ref"]).e.r,i=on(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),_t("autoFilter",null,{ref:i})}var cPe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function uPe(t,e){e.Views||(e.Views=[{}]),(t.match(cPe)||[]).forEach(function(n,r){var i=tn(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),mr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function dPe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),_t("sheetViews",_t("sheetView",null,i),{})}function fPe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=jc[t.v];break;case"d":r&&r.cellDates?i=xr(t.v,-1).toISOString():(t=br(t),t.t="n",i=""+(t.v=Ei(xr(t.v)))),typeof t.z>"u"&&(t.z=Jt[14]);break;default:i=t.v;break}var o=Zi("v",Jn(i)),l={r:e},c=pd(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Zi("v",""+d6(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=_t("f",Jn(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),_t("c",o,l)}var hPe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Yy("v"),a=Yy("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],b=[],x=0,w=0,C=0,S="",F,A,I=0,N=0,R,P,D=0,M=0,O=Array.isArray(p.CellXf),H,X=[],G=[],Z=Array.isArray(c),W=[],Y={},B=!1,j=!!u.sheetStubs,q=l.split(e),J=0,Q=q.length;J!=Q;++J){g=q[J].trim();var te=g.length;if(te!==0){var ae=0;e:for(v=0;v<te;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(A=tn(g.slice(ae,v),!0),I=A.r!=null?parseInt(A.r,10):I+1,N=-1,u.sheetRows&&u.sheetRows<I)continue;Y={},B=!1,A.ht&&(B=!0,Y.hpt=parseFloat(A.ht),Y.hpx=Dm(Y.hpt)),A.hidden=="1"&&(B=!0,Y.hidden=!0),A.outlineLevel!=null&&(B=!0,Y.level=+A.outlineLevel),B&&(W[I-1]=Y)}break;case"<":ae=v;break}if(ae>=v)break;if(A=tn(g.slice(ae,v),!0),I=A.r!=null?parseInt(A.r,10):I+1,N=-1,!(u.sheetRows&&u.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),u&&u.cellStyles&&(Y={},B=!1,A.ht&&(B=!0,Y.hpt=parseFloat(A.ht),Y.hpx=Dm(Y.hpt)),A.hidden=="1"&&(B=!0,Y.hidden=!0),A.outlineLevel!=null&&(B=!0,Y.level=+A.outlineLevel),B&&(W[I-1]=Y)),y=g.slice(v).split(t);for(var ce=0;ce!=y.length&&y[ce].trim().charAt(0)=="<";++ce);for(y=y.slice(ce),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(b=g.match(n),x=v,w=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(x=0,S=b[1],w=0;w!=S.length&&!((C=S.charCodeAt(w)-64)<1||C>26);++w)x=26*x+C;--x,N=x}else++N;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,A=tn(g.slice(0,w),!0),A.r||(A.r=Zt({r:I-1,c:N})),S=g.slice(w),F={t:""},(b=S.match(s))!=null&&b[1]!==""&&(F.v=An(b[1])),u.cellFormula){if((b=S.match(a))!=null&&b[1]!==""){if(F.f=An(Zn(b[1])).replace(/\r\n/g,`
`),u.xlfn||(F.f=nL(F.f)),b[0].indexOf('t="array"')>-1)F.F=(S.match(i)||[])[1],F.F.indexOf(":")>-1&&X.push([Nn(F.F),F.F]);else if(b[0].indexOf('t="shared"')>-1){P=tn(b[0]);var ue=An(Zn(b[1]));u.xlfn||(ue=nL(ue)),G[parseInt(P.si,10)]=[P,ue,A.r]}}else(b=S.match(/<f[^>]*\/>/))&&(P=tn(b[0]),G[P.si]&&(F.f=c6e(G[P.si][1],G[P.si][2],A.r)));var Se=Ur(A.r);for(w=0;w<X.length;++w)Se.r>=X[w][0].s.r&&Se.r<=X[w][0].e.r&&Se.c>=X[w][0].s.c&&Se.c<=X[w][0].e.c&&(F.F=X[w][1])}if(A.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(j)F.t="z";else continue;else F.t=A.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),F.t){case"n":if(F.v==""||F.v==null){if(!j)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!j)continue;F.t="z"}else R=sy[parseInt(F.v,10)],F.v=R.t,F.r=R.r,u.cellHTML&&(F.h=R.h);break;case"str":F.t="s",F.v=F.v!=null?Zn(F.v):"",u.cellHTML&&(F.h=$I(F.v));break;case"inlineStr":b=S.match(r),F.t="s",b!=null&&(R=i6(b[1]))?(F.v=R.t,u.cellHTML&&(F.h=R.h)):F.v="";break;case"b":F.v=mr(F.v);break;case"d":u.cellDates?F.v=xr(F.v,1):(F.v=Ei(xr(F.v,1)),F.t="n");break;case"e":(!u||u.cellText!==!1)&&(F.w=F.v),F.v=bJ[F.v];break}if(D=M=0,H=null,O&&A.s!==void 0&&(H=p.CellXf[A.s],H!=null&&(H.numFmtId!=null&&(D=H.numFmtId),u.cellStyles&&H.fillId!=null&&(M=H.fillId))),yX(F,D,M,u,h,p),u.cellDates&&O&&F.t=="n"&&ig(Jt[D])&&(F.t="d",F.v=Gw(F.v)),A.cm&&u.xlmeta){var Fe=(u.xlmeta.Cell||[])[+A.cm-1];Fe&&Fe.type=="XLDAPR"&&(F.D=!0)}if(Z){var fe=Ur(A.r);c[fe.r]||(c[fe.r]=[]),c[fe.r][fe.c]=F}else c[A.r]=F}}}}W.length>0&&(c["!rows"]=W)}})();function pPe(t,e,n,r){var i=[],s=[],a=Nn(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,b=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=Or(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=ri(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var x=v?(t[f]||[])[h]:t[l];x!==void 0&&(o=fPe(x,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=iv(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=_t("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=iv(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=_t("row","",g));return i.join("")}function xX(t,e,n,r){var i=[ai,_t("worksheet",null,{xmlns:dh[0],"xmlns:r":wi.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Nn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=on(u)}r||(r={}),l["!comments"]=[];var f=[];Q5e(l,n,t,e,i),i[i.length]=_t("dimension",null,{ref:c}),i[i.length]=dPe(l,e,t,n),e.sheetFormat&&(i[i.length]=_t("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=aPe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=pPe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=tPe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=lPe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=X5e(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Hn(r,-1,Jn(g[1].Target).replace(/#.*$/,""),hn.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Jn(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Jn(g[1].Tooltip)),i[i.length]=_t("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=iPe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Zi("ignoredErrors",_t("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=Hn(r,-1,"../drawings/drawing"+(t+1)+".xml",hn.DRAW),i[i.length]=_t("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=Hn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",hn.VML),i[i.length]=_t("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function mPe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function gPe(t,e,n){var r=rt(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=iv(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Zt(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function yPe(t,e,n,r){var i=gPe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&ot(t,0,i)}var vPe=mh,xPe=og;function bPe(){}function _Pe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=EAe(t),n}function wPe(t,e,n){n==null&&(n=rt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return o_({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),mJ(t,n),n.slice(0,n.l)}function TPe(t){var e=po(t);return[e]}function EPe(t,e,n){return n==null&&(n=rt(8)),fh(e,n)}function CPe(t){var e=hh(t);return[e]}function SPe(t,e,n){return n==null&&(n=rt(4)),ph(e,n)}function DPe(t){var e=po(t),n=t.read_shift(1);return[e,n,"b"]}function APe(t,e,n){return n==null&&(n=rt(9)),fh(e,n),n.write_shift(1,t.v?1:0),n}function NPe(t){var e=hh(t),n=t.read_shift(1);return[e,n,"b"]}function kPe(t,e,n){return n==null&&(n=rt(5)),ph(e,n),n.write_shift(1,t.v?1:0),n}function IPe(t){var e=po(t),n=t.read_shift(1);return[e,n,"e"]}function PPe(t,e,n){return n==null&&(n=rt(9)),fh(e,n),n.write_shift(1,t.v),n}function RPe(t){var e=hh(t),n=t.read_shift(1);return[e,n,"e"]}function FPe(t,e,n){return n==null&&(n=rt(8)),ph(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function MPe(t){var e=po(t),n=t.read_shift(4);return[e,n,"s"]}function OPe(t,e,n){return n==null&&(n=rt(12)),fh(e,n),n.write_shift(4,e.v),n}function UPe(t){var e=hh(t),n=t.read_shift(4);return[e,n,"s"]}function LPe(t,e,n){return n==null&&(n=rt(8)),ph(e,n),n.write_shift(4,e.v),n}function jPe(t){var e=po(t),n=gs(t);return[e,n,"n"]}function BPe(t,e,n){return n==null&&(n=rt(16)),fh(e,n),zf(t.v,n),n}function bX(t){var e=hh(t),n=gs(t);return[e,n,"n"]}function VPe(t,e,n){return n==null&&(n=rt(12)),ph(e,n),zf(t.v,n),n}function WPe(t){var e=po(t),n=ZI(t);return[e,n,"n"]}function qPe(t,e,n){return n==null&&(n=rt(12)),fh(e,n),gJ(t.v,n),n}function $Pe(t){var e=hh(t),n=ZI(t);return[e,n,"n"]}function zPe(t,e,n){return n==null&&(n=rt(8)),ph(e,n),gJ(t.v,n),n}function HPe(t){var e=po(t),n=XI(t);return[e,n,"is"]}function GPe(t){var e=po(t),n=ws(t);return[e,n,"str"]}function KPe(t,e,n){return n==null&&(n=rt(12+4*t.v.length)),fh(e,n),Vi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function JPe(t){var e=hh(t),n=ws(t);return[e,n,"str"]}function XPe(t,e,n){return n==null&&(n=rt(8+4*t.v.length)),ph(e,n),Vi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function YPe(t,e,n){var r=t.l+e,i=po(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=Xw(t,r-t.l,n);a[3]=hs(o,null,i,n.supbooks,n)}else t.l=r;return a}function QPe(t,e,n){var r=t.l+e,i=po(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=Xw(t,r-t.l,n);a[3]=hs(o,null,i,n.supbooks,n)}else t.l=r;return a}function ZPe(t,e,n){var r=t.l+e,i=po(t);i.r=n["!row"];var s=gs(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=Xw(t,r-t.l,n);a[3]=hs(o,null,i,n.supbooks,n)}else t.l=r;return a}function eRe(t,e,n){var r=t.l+e,i=po(t);i.r=n["!row"];var s=ws(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=Xw(t,r-t.l,n);a[3]=hs(o,null,i,n.supbooks,n)}else t.l=r;return a}var tRe=mh,nRe=og;function rRe(t,e){return e==null&&(e=rt(4)),e.write_shift(4,t),e}function iRe(t,e){var n=t.l+e,r=mh(t),i=YI(t),s=ws(t),a=ws(t),o=ws(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function sRe(t,e){var n=rt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));og({s:Ur(t[0]),e:Ur(t[0])},n),QI("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Vi(i||"",n),Vi(t[1].Tooltip||"",n),Vi("",n),n.slice(0,n.l)}function aRe(){}function oRe(t,e,n){var r=t.l+e,i=yJ(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=I5e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function lRe(t,e,n){var r=t.l+e,i=mh(t),s=[i];if(n.cellFormula){var a=R5e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function cRe(t,e,n){n==null&&(n=rt(18));var r=Yw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var _X=["left","right","top","bottom","header","footer"];function uRe(t){var e={};return _X.forEach(function(n){e[n]=gs(t)}),e}function dRe(t,e){return e==null&&(e=rt(48)),_f(t),_X.forEach(function(n){zf(t[n],e)}),e}function fRe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function hRe(t,e,n){n==null&&(n=rt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function pRe(t){var e=rt(24);return e.write_shift(4,4),e.write_shift(4,1),og(t,e),e}function mRe(t,e){return e==null&&(e=rt(66)),e.write_shift(2,t.password?s6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function gRe(){}function yRe(){}function vRe(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,b,x,w,C,S,F=[];o.biff=12,o["!row"]=0;var A=0,I=!1,N=[],R={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=R,P.arrayf=N,P.SheetNames=i.SheetNames||i.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var D=0;D<i.Names.length;++D)P[0][D+1]=i.Names[D];var M=[],O=[],H=!1;sv[16]={n:"BrtShortReal",f:bX};var X;if(Lc(t,function(W,Y,B){if(!h)switch(B){case 148:c=W;break;case 0:p=W,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=ri(y=p.r),o["!row"]=p.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=Dm(W.hpt)),O[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:W[2]},W[2]){case"n":v.v=W[1];break;case"s":w=sy[W[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!W[1];break;case"e":v.v=W[1],o.cellText!==!1&&(v.w=jc[v.v]);break;case"str":v.t="s",v.v=W[1];break;case"is":v.t="s",v.v=W[1].t;break}if((g=a.CellXf[W[0].iStyleRef])&&yX(v,g.numFmtId,null,o,s,a),b=W[0].c==-1?b+1:W[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Or(b)+C]=v,o.cellFormula){for(I=!1,A=0;A<N.length;++A){var j=N[A];p.r>=j[0].s.r&&p.r<=j[0].e.r&&b>=j[0].s.c&&b<=j[0].e.c&&(v.F=on(j[0]),I=!0)}!I&&W.length>3&&(v.f=W[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),o.cellDates&&g&&v.t=="n"&&ig(Jt[g.numFmtId])){var q=df(v.v);q&&(v.t="d",v.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}X&&(X.type=="XLDAPR"&&(v.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},b=W[0].c==-1?b+1:W[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Or(b)+C]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),X&&(X.type=="XLDAPR"&&(v.D=!0),X=void 0);break;case 176:F.push(W);break;case 49:X=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var J=r["!id"][W.relId];for(J?(W.Target=J.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=J):W.relId==""&&(W.Target="#"+W.loc),y=W.rfx.s.r;y<=W.rfx.e.r;++y)for(b=W.rfx.s.c;b<=W.rfx.e.c;++b)o.dense?(l[y]||(l[y]=[]),l[y][b]||(l[y][b]={t:"z",v:void 0}),l[y][b].l=W):(x=Zt({c:b,r:y}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=W);break;case 426:if(!o.cellFormula)break;N.push(W),S=o.dense?l[y][b]:l[Or(b)+C],S.f=hs(W[1],u,{r:p.r,c:b},P,o),S.F=on(W[0]);break;case 427:if(!o.cellFormula)break;R[Zt(W[0].s)]=W[1],S=o.dense?l[y][b]:l[Or(b)+C],S.f=hs(W[1],u,{r:p.r,c:b},P,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)M[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},H||(H=!0,a6(W.w/256)),Zu(M[W.e+1]);break;case 161:l["!autofilter"]={ref:on(W)};break;case 476:l["!margins"]=W;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),W.name&&(i.Sheets[n].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),W.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=on(c||u)),o.sheetRows&&l["!ref"]){var G=Nn(l["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>u.e.r&&(G.e.r=u.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>u.e.c&&(G.e.c=u.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),l["!fullref"]=l["!ref"],l["!ref"]=on(G))}return F.length>0&&(l["!merges"]=F),M.length>0&&(l["!cols"]=M),O.length>0&&(l["!rows"]=O),l}function xRe(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=br(e),e.z=e.z||Jt[14],e.v=Ei(xr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=pd(i.cellXfs,e,i),e.l&&s["!links"].push([Zt(l),e.l]),e.c&&s["!comments"].push([Zt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=d6(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?ot(t,18,LPe(e,l)):ot(t,7,OPe(e,l))):(l.t="str",a?ot(t,17,XPe(e,l)):ot(t,6,KPe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ot(t,13,zPe(e,l)):ot(t,2,qPe(e,l)):a?ot(t,16,VPe(e,l)):ot(t,5,BPe(e,l)),!0;case"b":return l.t="b",a?ot(t,15,kPe(e,l)):ot(t,4,APe(e,l)),!0;case"e":return l.t="e",a?ot(t,14,FPe(e,l)):ot(t,3,PPe(e,l)),!0}return a?ot(t,12,SPe(e,l)):ot(t,1,EPe(e,l)),!0}function bRe(t,e,n,r){var i=Nn(e["!ref"]||"A1"),s,a="",o=[];ot(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=ri(u),yPe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=Or(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=xRe(t,p,u,h,r,e,f)}}ot(t,146)}function _Re(t,e){!e||!e["!merges"]||(ot(t,177,rRe(e["!merges"].length)),e["!merges"].forEach(function(n){ot(t,176,nRe(n))}),ot(t,178))}function wRe(t,e){!e||!e["!cols"]||(ot(t,390),e["!cols"].forEach(function(n,r){n&&ot(t,60,cRe(r,n))}),ot(t,391))}function TRe(t,e){!e||!e["!ref"]||(ot(t,648),ot(t,649,pRe(Nn(e["!ref"]))),ot(t,650))}function ERe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=Hn(n,-1,r[1].Target.replace(/#.*$/,""),hn.HLINK);ot(t,494,sRe(r,i))}}),delete e["!links"]}function CRe(t,e,n,r){if(e["!comments"].length>0){var i=Hn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",hn.VML);ot(t,551,QI("rId"+i)),e["!legacy"]=i}}function SRe(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:on(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=la(s);o.s.r==o.e.r&&(o.e.r=la(e["!ref"]).e.r,s=on(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),ot(t,161,og(Nn(s))),ot(t,162)}}function DRe(t,e,n){ot(t,133),ot(t,137,hRe(e,n)),ot(t,138),ot(t,134)}function ARe(t,e){e["!protect"]&&ot(t,535,mRe(e["!protect"]))}function NRe(t,e,n,r){var i=oa(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=Nn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ot(i,129),(n.vbaraw||a["!outline"])&&ot(i,147,wPe(o,a["!outline"])),ot(i,148,xPe(l)),DRe(i,a,n.Workbook),wRe(i,a),bRe(i,a,t,e),ARe(i,a),SRe(i,a,n,t),_Re(i,a),ERe(i,a,r),a["!margins"]&&ot(i,476,dRe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&TRe(i,a),CRe(i,a,t,r),ot(i,130),i.end()}function kRe(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=An((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function IRe(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=kRe(f);u.s.r=u.s.c=0,u.e.c=o,c=Or(o),h[0].forEach(function(p,v){a[c+ri(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=on(u)),a}function PRe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(vX);return o&&f6(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function RRe(t,e){t.l+=10;var n=ws(t);return{name:n}}function FRe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Lc(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var h6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],MRe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ORe=[],URe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function oL(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=mr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function lL(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=mr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function wX(t){lL(t.WBProps,h6),lL(t.CalcPr,URe),oL(t.WBView,MRe),oL(t.Sheets,ORe),qp.date1904=mr(t.WBProps.date1904)}function LRe(t){return!t.Workbook||!t.Workbook.WBProps?"false":mr(t.Workbook.WBProps.date1904)?"true":"false"}var jRe="][*?/\\".split("");function TX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return jRe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function BRe(t,e,n){t.forEach(function(r,i){TX(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function VRe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];BRe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)L5e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var WRe=/<\w+:workbook/;function qRe(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(Ss,function(l,c){var u=tn(l);switch(Ll(u[0])){case"<?xml":break;case"<workbook":l.match(WRe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":h6.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=mr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Zn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=An(Zn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Zn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),mr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=An(Zn(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),dh.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return wX(n),n}function EX(t){var e=[ai];e[e.length]=_t("workbook",null,{xmlns:dh[0],"xmlns:r":wi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(h6.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=_t("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Jn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=_t("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=_t("definedName",Jn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function $Re(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=vN(t),n.name=ws(t),n}function zRe(t,e){return e||(e=rt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),QI(t.strRelID,e),Vi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function HRe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?ws(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function GRe(t,e){e||(e=rt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),mJ(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function KRe(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function JRe(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=CAe(t),a=P5e(t,0,n),o=YI(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function XRe(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],sv[16]={n:"BrtFRTArchID$",f:KRe},Lc(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=hs(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),wX(n),n.Names=s,n.supbooks=a,n}function YRe(t,e){ot(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};ot(t,156,zRe(i))}ot(t,144)}function QRe(t,e){e||(e=rt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Vi("SheetJS",e),Vi(e_.version,e),Vi(e_.version,e),Vi("7262",e),e.length>e.l?e.slice(0,e.l):e}function ZRe(t,e){e||(e=rt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function e8e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(ot(t,135),ot(t,158,ZRe(i)),ot(t,136))}}function t8e(t,e){var n=oa();return ot(n,131),ot(n,128,QRe()),ot(n,153,GRe(t.Workbook&&t.Workbook.WBProps||null)),e8e(n,t),YRe(n,t),ot(n,132),n.end()}function n8e(t,e,n){return e.slice(-4)===".bin"?XRe(t,n):qRe(t,n)}function r8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?vRe(t,r,n,i,s,a,o):J5e(t,r,n,i,s,a,o)}function i8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?FRe(t,r,n,i,s):PRe(t,r,n,i,s)}function s8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?o6e():l6e()}function a8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?s6e():a6e()}function o8e(t,e,n,r){return e.slice(-4)===".bin"?nIe(t,n,r):$3e(t,n,r)}function l8e(t,e,n){return iX(t,n)}function c8e(t,e,n){return e.slice(-4)===".bin"?c3e(t,n):a3e(t,n)}function u8e(t,e,n){return e.slice(-4)===".bin"?e6e(t,n):zIe(t,n)}function d8e(t,e,n){return e.slice(-4)===".bin"?WIe(t):BIe(t)}function f8e(t,e,n,r){return n.slice(-4)===".bin"?qIe(t,e,n,r):void 0}function h8e(t,e,n){return e.slice(-4)===".bin"?UIe(t,e,n):jIe(t,e,n)}function p8e(t,e,n){return(e.slice(-4)===".bin"?t8e:EX)(t)}function m8e(t,e,n,r,i){return(e.slice(-4)===".bin"?NRe:xX)(t,n,r,i)}function g8e(t,e,n){return(e.slice(-4)===".bin"?fIe:nX)(t,n)}function y8e(t,e,n){return(e.slice(-4)===".bin"?f3e:KJ)(t,n)}function v8e(t,e,n){return(e.slice(-4)===".bin"?t6e:oX)(t)}function x8e(t){return(t.slice(-4)===".bin"?LIe:sX)()}var CX=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,SX=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function No(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(CX),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(SX),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function b8e(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(CX),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(SX),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var oy;function _8e(t,e){var n=oy[t]||An(t);return n==="General"?qf(e):co(n,e)}function w8e(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=mr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=xr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[An(e)]=i}function T8e(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||jc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Xy(t.v):t.w=qf(t.v):t.w=_8e(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=oy[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&ig(r)){var i=df(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function E8e(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=O3e[r.Pattern]||r.Pattern)}t[e.ID]=e}function C8e(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=mr(t);break;case"String":r.t="s",r.r=CU(An(t)),r.v=t.indexOf("<")>-1?An(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(xr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=An(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=bJ[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=CU(e||t));break}if(T8e(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=An(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Wp(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Wp("RC:RC",i):r.ArrayRange&&(r.F=Wp(r.ArrayRange,i),l.push([Nn(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function S8e(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function S4(t,e){var n=e||{};sg();var r=A0(zI(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Zn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=br(n);return a.type="string",Sm.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return dFe(r,n);oy={"General Number":"General","General Date":Jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Jt[15],"Short Date":Jt[14],"Long Time":Jt[19],"Medium Time":Jt[18],"Short Time":Jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Jt[2],Standard:Jt[4],Percent:Jt[10],Scientific:Jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=No('<Data ss:Type="String">'),b=0,x=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},F={},A="",I=0,N=[],R={},P={},D=0,M=[],O=[],H={},X=[],G,Z=!1,W=[],Y=[],B={},j=0,q=0,J={Sheets:[],WBProps:{date1904:!1}},Q={};Zy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=Zy.exec(r);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?C8e(r.slice(b,o.index),A,y,l[l.length-1][0]=="comment"?H:v,{c:x,r:w},S,X[x],g,W,n):(A="",y=No(o[0]),b=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(O.length>0&&(v.c=O),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][x]=v):h[Or(x)+ri(w)]=v),v.HRef&&(v.l={Target:An(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=x+(parseInt(v.MergeAcross,10)|0),q=w+(parseInt(v.MergeDown,10)|0),N.push({s:{c:x,r:w},e:{c:j,r:q}})),!n.sheetStubs)v.MergeAcross?x=j+1:++x;else if(v.MergeAcross||v.MergeDown){for(var ae=x;ae<=j;++ae)for(var ce=w;ce<=q;++ce)(ae>x||ce>w)&&(n.dense?(h[ce]||(h[ce]=[]),h[ce][ae]={t:"z"}):h[Or(ae)+ri(ce)]={t:"z"});x=j+1}else++x;else v=b8e(o[0]),v.Index&&(x=+v.Index-1),x<C.s.c&&(C.s.c=x),x>C.e.c&&(C.e.c=x),o[0].slice(-2)==="/>"&&++x,O=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),o[0].slice(-2)==="/>"&&(g=No(o[0]),g.Index&&(w=+g.Index-1)),x=0,++w):(g=No(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=iv(B.hpx),Y[w]=B),g.Hidden=="1"&&(B.hidden=!0,Y[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=on(C),n.sheetRows&&n.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=n.sheetRows-1,h["!ref"]=on(C))),N.length&&(h["!merges"]=N),X.length>0&&(h["!cols"]=X),Y.length>0&&(h["!rows"]=Y),u[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=x=0,l.push([o[3],!1]),c=No(o[0]),p=An(c.Name),h=n.dense?[]:{},N=[],W=[],Y=[],Q={name:p,Hidden:0},J.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),X=[],Z=!1}break;case"style":o[1]==="/"?E8e(S,F,n):F=No(o[0]);break;case"numberformat":F.nf=An(No(o[0]).Format||"General"),oy[F.nf]&&(F.nf=oy[F.nf]);for(var ue=0;ue!=392&&Jt[ue]!=F.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Jt[ue]==null){mc(F.nf,ue);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(G=No(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!Z&&G.wpx>10){Z=!0,ps=eX;for(var Se=0;Se<X.length;++Se)X[Se]&&Zu(X[Se])}Z&&Zu(G),X[G.Index-1||X.length]=G;for(var Fe=0;Fe<+G.Span;++Fe)X[X.length]=br(G);break;case"namedrange":if(o[1]==="/")break;J.Names||(J.Names=[]);var fe=tn(o[0]),Le={Name:fe.Name,Ref:Wp(fe.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(Le.Sheet=J.Sheets.length-1),J.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?A+=r.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;F.Interior=No(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?XAe(R,te,r.slice(D,o.index)):D=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));S8e(H),O.push(H)}else l.push([o[3],!1]),c=No(o[0]),H={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var z=No(o[0]);h["!autofilter"]={ref:Wp(z.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return hL(r,n);var me=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:me=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:me=!1}break;case"excelworkbook":switch(o[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:me=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:me=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(D,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else D=o.index+o[0].length;break;case"header":h["!margins"]||_f(h["!margins"]={},"xlml"),isNaN(+tn(o[0]).Margin)||(h["!margins"].header=+tn(o[0]).Margin);break;case"footer":h["!margins"]||_f(h["!margins"]={},"xlml"),isNaN(+tn(o[0]).Margin)||(h["!margins"].footer=+tn(o[0]).Margin);break;case"pagemargins":var be=tn(o[0]);h["!margins"]||_f(h["!margins"]={},"xlml"),isNaN(+be.Top)||(h["!margins"].top=+be.Top),isNaN(+be.Left)||(h["!margins"].left=+be.Left),isNaN(+be.Right)||(h["!margins"].right=+be.Right),isNaN(+be.Bottom)||(h["!margins"].bottom=+be.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:me=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:me=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:me=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:me=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:me=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:me=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:me=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:me=!1}break;case"smarttags":break;default:me=!1;break}if(me||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?w8e(P,te,M,r.slice(D,o.index)):(M=o,D=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var le={};return!n.bookSheets&&!n.bookProps&&(le.Sheets=u),le.SheetNames=f,le.Workbook=J,le.SSF=br(Jt),le.Props=R,le.Custprops=P,le}function CN(t,e){switch(m6(e=e||{}),e.type||"base64"){case"base64":return S4(Ra(t),e);case"binary":case"buffer":case"file":return S4(t,e);case"array":return S4(fd(t),e)}}function D8e(t,e){var n=[];return t.Props&&n.push(YAe(t.Props,e)),t.Custprops&&n.push(QAe(t.Props,t.Custprops)),n.join("")}function A8e(){return""}function N8e(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(_t("NumberFormat",null,{"ss:Format":Jn(Jt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(_t("Style",s.join(""),a))}),_t("Styles",n.join(""))}function DX(t){return _t("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+c6(t.Ref,{r:0,c:0})})}function k8e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(DX(i)))}return _t("Names",n.join(""))}function I8e(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(DX(o)))}return s.join("")}function P8e(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(_t("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(_t("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(_t("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(_t("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Zi("ProtectContents","True")),t["!protect"].objects&&i.push(Zi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Zi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Zi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":_t("WorksheetOptions",i.join(""),{xmlns:Ta.x})}function R8e(t){return t.map(function(e){var n=eAe(e.t||""),r=_t("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return _t("Comment",r,{"ss:Author":e.a})}).join("")}function F8e(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Jn(c6(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Ur(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Jn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Jn(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=jc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Jt[14]);break;case"s":f="String",h=ZDe(t.v||"");break}var p=pd(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=R8e(t.c)),_t("Cell",g,o)}function M8e(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Dm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function O8e(t,e,n,r){if(!t["!ref"])return"";var i=Nn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,b){Zu(y);var x=!!y.width,w=Yw(b,y),C={"ss:Index":b+1};x&&(C["ss:Width"]=nv(w.width)),y.hidden&&(C["ss:Hidden"]="1"),o.push(_t("Column",null,C))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[M8e(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=Zt(p),g=l?(t[c]||[])[f]:t[v];u.push(F8e(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function U8e(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?I8e(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?O8e(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(P8e(s,e,t,n)),r.join("")}function L8e(t,e){e||(e={}),t.SSF||(t.SSF=br(Jt)),t.SSF&&(sg(),$w(t.SSF),e.revssf=Hw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],pd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(D8e(t,e)),n.push(A8e()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(_t("Worksheet",U8e(r,e,t),{"ss:Name":Jn(t.SheetNames[r])}));return n[2]=N8e(t,e),n[3]=k8e(t),ai+_t("Workbook",n.join(""),{xmlns:Ta.ss,"xmlns:o":Ta.o,"xmlns:x":Ta.x,"xmlns:ss":Ta.ss,"xmlns:dt":Ta.dt,"xmlns:html":Ta.html})}function j8e(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=kAe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=IAe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var B8e=[60,1084,2066,2165,2175];function V8e(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=oc(n,n.l),c=SN[l],u=0;c!=null&&B8e.indexOf(l)>-1;)s=oc(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=SN[l=oc(n,n.l)];var f=Bi(a);Yi(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function il(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Jt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||jc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Xy(t.v):t.w=qf(t.v):t.w=co(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&ig(Jt[r]||String(r))){var i=df(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Yx(t,e,n){return{v:t,ixfe:e,t:n}}function W8e(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,b={},x=[],w,C,S=[],F=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},N=function(Oe){return Oe<8?vf[Oe]:Oe<64&&F[Oe-8]||vf[Oe]},R=function(Oe,qe,st){var it=qe.XF.data;if(!(!it||!it.patternType||!st||!st.cellStyles)){qe.s={},qe.s.patternType=it.patternType;var Ct;(Ct=tv(N(it.icvFore)))&&(qe.s.fgColor={rgb:Ct}),(Ct=tv(N(it.icvBack)))&&(qe.s.bgColor={rgb:Ct})}},P=function(Oe,qe,st){if(!(B>1)&&!(st.sheetRows&&Oe.r>=st.sheetRows)){if(st.cellStyles&&qe.XF&&qe.XF.data&&R(Oe,qe,st),delete qe.ixfe,delete qe.XF,f=Oe,h=Zt(Oe),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Oe.r<a.s.r&&(a.s.r=Oe.r),Oe.c<a.s.c&&(a.s.c=Oe.c),Oe.r+1>a.e.r&&(a.e.r=Oe.r+1),Oe.c+1>a.e.c&&(a.e.c=Oe.c+1),st.cellFormula&&qe.f){for(var it=0;it<x.length;++it)if(!(x[it][0].s.c>Oe.c||x[it][0].s.r>Oe.r)&&!(x[it][0].e.c<Oe.c||x[it][0].e.r<Oe.r)){qe.F=on(x[it][0]),(x[it][0].s.c!=Oe.c||x[it][0].s.r!=Oe.r)&&delete qe.f,qe.f&&(qe.f=""+hs(x[it][1],a,Oe,W,D));break}}st.dense?(i[Oe.r]||(i[Oe.r]=[]),i[Oe.r][Oe.c]=qe):i[h]=qe}},D={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(D.password=e.password);var M,O=[],H=[],X=[],G=[],Z=!1,W=[];W.SheetNames=D.snames,W.sharedf=D.sharedf,W.arrayf=D.arrayf,W.names=[],W.XTI=[];var Y=0,B=0,j=0,q=[],J=[],Q;D.codepage=1200,Mo(1200);for(var te=!1;t.l<t.length-1;){var ae=t.l,ce=t.read_shift(2);if(ce===0&&Y===10)break;var ue=t.l===t.length?0:t.read_shift(2),Se=SN[ce];if(Se&&Se.f){if(e.bookSheets&&Y===133&&ce!==133)break;if(Y=ce,Se.r===2||Se.r==12){var Fe=t.read_shift(2);if(ue-=2,!D.enc&&Fe!==ce&&((Fe&255)<<8|Fe>>8)!==ce)throw new Error("rt mismatch: "+Fe+"!="+ce);Se.r==12&&(t.l+=10,ue-=10)}var fe={};if(ce===10?fe=Se.f(t,ue,D):fe=V8e(ce,Se,t,ue,D),B==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(ce){case 34:n.opts.Date1904=A.WBProps.date1904=fe;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(D.enc||(t.l=0),D.enc=fe,!e.password)throw new Error("File is password-protected");if(fe.valid==null)throw new Error("Encryption scheme unsupported");if(!fe.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=fe;break;case 66:var Le=Number(fe);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}Mo(D.codepage=Le),te=!0;break;case 317:D.rrtabid=fe;break;case 25:D.winlocked=fe;break;case 439:n.opts.RefreshAll=fe;break;case 12:n.opts.CalcCount=fe;break;case 16:n.opts.CalcDelta=fe;break;case 17:n.opts.CalcIter=fe;break;case 13:n.opts.CalcMode=fe;break;case 14:n.opts.CalcPrecision=fe;break;case 95:n.opts.CalcSaveRecalc=fe;break;case 15:D.CalcRefMode=fe;break;case 2211:n.opts.FullCalc=fe;break;case 129:fe.fDialog&&(i["!type"]="dialog"),fe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),fe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(fe);break;case 430:W.push([fe]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(fe);break;case 24:case 536:Q={Name:fe.Name,Ref:hs(fe.rgce,a,null,W,D)},fe.itab>0&&(Q.Sheet=fe.itab-1),W.names.push(Q),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(fe),fe.Name=="_xlnm._FilterDatabase"&&fe.itab>0&&fe.rgce&&fe.rgce[0]&&fe.rgce[0][0]&&fe.rgce[0][0][0]=="PtgArea3d"&&(J[fe.itab-1]={ref:on(fe.rgce[0][0][1][2])});break;case 22:D.ExternCount=fe;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(fe),W.XTI=W.XTI.concat(fe);break;case 2196:if(D.biff<8)break;Q!=null&&(Q.Comment=fe[1]);break;case 18:i["!protect"]=fe;break;case 19:fe!==0&&D.WTF&&console.error("Password verifier: "+fe);break;case 133:s[fe.pos]=fe,D.snames.push(fe.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=on(a),e.sheetRows&&e.sheetRows<=a.e.r){var z=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=on(a),a.e.r=z}a.e.r++,a.e.c++}O.length>0&&(i["!merges"]=O),H.length>0&&(i["!objects"]=H),X.length>0&&(i["!cols"]=X),G.length>0&&(i["!rows"]=G),A.Sheets.push(I)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[fe.BIFFVer]||8),D.biffguess=fe.BIFFVer==0,fe.BIFFVer==0&&fe.dt==4096&&(D.biff=5,te=!0,Mo(D.codepage=28591)),D.biff==8&&fe.BIFFVer==0&&fe.dt==16&&(D.biff=2),B++)break;if(i=e.dense?[]:{},D.biff<8&&!te&&(te=!0,Mo(D.codepage=e.codepage||1252)),D.biff<5||fe.BIFFVer==0&&fe.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var me={pos:t.l-ue,name:c};s[me.pos]=me,D.snames.push(c)}else c=(s[ae]||{name:""}).name;fe.dt==32&&(i["!type"]="chart"),fe.dt==64&&(i["!type"]="macro"),O=[],H=[],D.arrayf=x=[],X=[],G=[],Z=!1,I={Hidden:(s[ae]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[fe.r]||[])[fe.c]:i[Zt({c:fe.c,r:fe.r})])&&++fe.c,w={ixfe:fe.ixfe,XF:S[fe.ixfe]||{},v:fe.val,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 5:case 517:w={ixfe:fe.ixfe,XF:S[fe.ixfe],v:fe.val,t:fe.t},j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 638:w={ixfe:fe.ixfe,XF:S[fe.ixfe],v:fe.rknum,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 189:for(var be=fe.c;be<=fe.C;++be){var le=fe.rkrec[be-fe.c][0];w={ixfe:le,XF:S[le],v:fe.rkrec[be-fe.c][1],t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:be,r:fe.r},w,e)}break;case 6:case 518:case 1030:{if(fe.val=="String"){o=fe;break}if(w=Yx(fe.val,fe.cell.ixfe,fe.tt),w.XF=S[w.ixfe],e.cellFormula){var re=fe.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var oe=re[0][0][1][0],Ie=re[0][0][1][1],ke=Zt({r:oe,c:Ie});b[ke]?w.f=""+hs(fe.formula,a,fe.cell,W,D):w.F=((e.dense?(i[oe]||[])[Ie]:i[ke])||{}).F}else w.f=""+hs(fe.formula,a,fe.cell,W,D)}j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P(fe.cell,w,e),o=fe}break;case 7:case 519:if(o)o.val=fe,w=Yx(fe,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+hs(o.formula,a,o.cell,W,D)),j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(fe);var he=Zt(fe[0].s);if(p=e.dense?(i[fe[0].s.r]||[])[fe[0].s.c]:i[he],e.cellFormula&&p){if(!o||!he||!p)break;p.f=""+hs(fe[1],a,fe[0],W,D),p.F=on(fe[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;b[Zt(o.cell)]=fe[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Zt(o.cell)],(p||{}).f=""+hs(fe[0],a,f,W,D)}}break;case 253:w=Yx(l[fe.isst].t,fe.ixfe,"s"),l[fe.isst].h&&(w.h=l[fe.isst].h),w.XF=S[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:fe.ixfe,XF:S[fe.ixfe],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e));break;case 190:if(e.sheetStubs)for(var ye=fe.c;ye<=fe.C;++ye){var _e=fe.ixfe[ye-fe.c];w={ixfe:_e,XF:S[_e],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:ye,r:fe.r},w,e)}break;case 214:case 516:case 4:w=Yx(fe.val,fe.ixfe,"s"),w.XF=S[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),il(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 0:case 512:B===1&&(a=fe);break;case 252:l=fe;break;case 1054:if(D.biff==4){q[j++]=fe[1];for(var Te=0;Te<j+163&&Jt[Te]!=fe[1];++Te);Te>=163&&mc(fe[1],j+163)}else mc(fe[1],fe[0]);break;case 30:{q[j++]=fe;for(var Re=0;Re<j+163&&Jt[Re]!=fe;++Re);Re>=163&&mc(fe,j+163)}break;case 229:O=O.concat(fe);break;case 93:H[fe.cmo[0]]=D.lastobj=fe;break;case 438:D.lastobj.TxO=fe;break;case 127:D.lastobj.ImData=fe;break;case 440:for(y=fe[0].s.r;y<=fe[0].e.r;++y)for(g=fe[0].s.c;g<=fe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Zt({c:g,r:y})],p&&(p.l=fe[1]);break;case 2048:for(y=fe[0].s.r;y<=fe[0].e.r;++y)for(g=fe[0].s.c;g<=fe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Zt({c:g,r:y})],p&&p.l&&(p.l.Tooltip=fe[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;p=e.dense?(i[fe[0].r]||[])[fe[0].c]:i[Zt(fe[0])];var Ee=H[fe[2]];p||(e.dense?(i[fe[0].r]||(i[fe[0].r]=[]),p=i[fe[0].r][fe[0].c]={t:"z"}):p=i[Zt(fe[0])]={t:"z"},a.e.r=Math.max(a.e.r,fe[0].r),a.s.r=Math.min(a.s.r,fe[0].r),a.e.c=Math.max(a.e.c,fe[0].c),a.s.c=Math.min(a.s.c,fe[0].c)),p.c||(p.c=[]),v={a:fe[1],t:Ee.TxO.t},p.c.push(v)}break;case 2173:NIe(S[fe.ixfe],fe.ext);break;case 125:{if(!D.cellStyles)break;for(;fe.e>=fe.s;)X[fe.e--]={width:fe.w/256,level:fe.level||0,hidden:!!(fe.flags&1)},Z||(Z=!0,a6(fe.w/256)),Zu(X[fe.e+1])}break;case 520:{var ve={};fe.level!=null&&(G[fe.r]=ve,ve.level=fe.level),fe.hidden&&(G[fe.r]=ve,ve.hidden=!0),fe.hpt&&(G[fe.r]=ve,ve.hpt=fe.hpt,ve.hpx=Dm(fe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||_f(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=fe;break;case 161:i["!margins"]||_f(i["!margins"]={}),i["!margins"].header=fe.header,i["!margins"].footer=fe.footer;break;case 574:fe.RTL&&(A.Views[0].RTL=!0);break;case 146:F=fe;break;case 2198:M=fe;break;case 140:C=fe;break;case 442:c?I.CodeName=fe||I.name:A.WBProps.CodeName=fe||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),t.l+=ue}return n.SheetNames=Kr(s).sort(function(Me,Oe){return Number(Me)-Number(Oe)}).map(function(Me){return s[Me].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&J.forEach(function(Me,Oe){n.Sheets[n.SheetNames[Oe]]["!autofilter"]=Me}),n.Strings=l,n.SSF=br(Jt),D.enc&&(n.Encryption=D.enc),M&&(n.Themes=M),n.Metadata={},C!==void 0&&(n.Metadata.Country=C),W.names.length>0&&(A.Names=W.names),n.Workbook=A,n}var ly={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function q8e(t,e,n){var r=qt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=qU(r,xN,ly.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=qt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=qU(a,bN,ly.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(SJ(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function $8e(t,e){var n=[],r=[],i=[],s=0,a,o=xU(xN,"n"),l=xU(bN,"n");if(t.Props)for(a=Kr(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Kr(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)RJ.indexOf(i[s][0])>-1||CJ.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&qt.utils.cfb_add(e,"/SummaryInformation",$U(r,ly.SI,l,bN)),(n.length||c.length)&&qt.utils.cfb_add(e,"/DocumentSummaryInformation",$U(n,ly.DSI,o,xN,c.length?c:null,ly.UDI))}function AX(t,e){e||(e={}),m6(e),OI(),e.codepage&&MI(e.codepage);var n,r;if(t.FullPaths){if(qt.find(t,"/encryption"))throw new Error("File is password-protected");n=qt.find(t,"!CompObj"),r=qt.find(t,"/Workbook")||qt.find(t,"/Book")}else{switch(e.type){case"base64":t=Ca(Ra(t));break;case"binary":t=Ca(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Yi(t,0),r={content:t}}var i,s;if(n&&j8e(n),e.bookProps&&!e.bookSheets)i={};else{var a=dn?"buffer":"array";if(r&&r.content)i=W8e(r.content,e);else if((s=qt.find(t,"PerfectOffice_MAIN"))&&s.content)i=bf.to_workbook(s.content,(e.type=a,e));else if((s=qt.find(t,"NativeContent_MAIN"))&&s.content)i=bf.to_workbook(s.content,(e.type=a,e));else throw(s=qt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&qt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=r6e(t))}var o={};return t.FullPaths&&q8e(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function z8e(t,e){var n=e||{},r=qt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return qt.utils.cfb_add(r,i,NX(t,n)),n.biff==8&&(t.Props||t.Custprops)&&$8e(t,r),n.biff==8&&t.vbaraw&&i6e(r,qt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var sv={0:{f:mPe},1:{f:TPe},2:{f:WPe},3:{f:IPe},4:{f:DPe},5:{f:jPe},6:{f:GPe},7:{f:MPe},8:{f:eRe},9:{f:ZPe},10:{f:YPe},11:{f:QPe},12:{f:CPe},13:{f:$Pe},14:{f:RPe},15:{f:NPe},16:{f:bX},17:{f:JPe},18:{f:UPe},19:{f:XI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:JRe},40:{},42:{},43:{f:G3e},44:{f:z3e},45:{f:X3e},46:{f:Q3e},47:{f:Y3e},48:{},49:{f:vAe},50:{},51:{f:PIe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$J},62:{f:HPe},63:{f:VIe},64:{f:gRe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ts,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:fRe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_Pe},148:{f:vPe,p:16},151:{f:aRe},152:{},153:{f:HRe},154:{},155:{},156:{f:$Re},157:{},158:{},159:{T:1,f:l3e},160:{T:-1},161:{T:1,f:mh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tRe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kIe},336:{T:-1},337:{f:MIe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:vN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:qJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:oRe},427:{f:lRe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:uRe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:bPe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:iRe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:vN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:QIe},633:{T:1},634:{T:-1},635:{T:1,f:XIe},636:{T:-1},637:{f:wAe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:RRe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:yRe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},SN={6:{f:E4},10:{f:pu},12:{f:hi},13:{f:hi},14:{f:ei},15:{f:ei},16:{f:gs},17:{f:ei},18:{f:ei},19:{f:hi},20:{f:XU},21:{f:XU},23:{f:qJ},24:{f:QU},25:{f:ei},26:{},27:{},28:{f:yke},29:{},34:{f:ei},35:{f:YU},38:{f:gs},39:{f:gs},40:{f:gs},41:{f:gs},42:{f:ei},43:{f:ei},47:{f:N3e},49:{f:$Ne},51:{f:hi},60:{},61:{f:jNe},64:{f:ei},65:{f:qNe},66:{f:hi},77:{},80:{},81:{},82:{},85:{f:hi},89:{},90:{},91:{},92:{f:ANe},93:{f:bke},94:{},95:{f:ei},96:{},97:{},99:{f:ei},125:{f:$J},128:{f:ske},129:{f:kNe},130:{f:hi},131:{f:ei},132:{f:ei},133:{f:INe},134:{},140:{f:Ake},141:{f:hi},144:{},146:{f:Ike},151:{},152:{},153:{},154:{},155:{},156:{f:hi},157:{},158:{},160:{f:Lke},161:{f:Fke},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:tke},190:{f:nke},193:{f:pu},197:{},198:{},199:{},200:{},201:{},202:{f:ei},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:hi},220:{},221:{f:ei},222:{},224:{f:ike},225:{f:DNe},226:{f:pu},227:{},229:{f:vke},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:RNe},253:{f:HNe},255:{f:MNe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:FJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ei},353:{f:pu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:uke},431:{f:ei},432:{},433:{},434:{},437:{},438:{f:Tke},439:{f:ei},440:{f:Eke},441:{},442:{f:t1},443:{},444:{f:hi},445:{},446:{},448:{f:pu},449:{f:LNe,r:2},450:{f:pu},512:{f:GU},513:{f:Uke},515:{f:lke},516:{f:KNe},517:{f:JU},519:{f:jke},520:{f:ONe},523:{},545:{f:ZU},549:{f:HU},566:{},574:{f:VNe},638:{f:eke},659:{},1048:{},1054:{f:XNe},1084:{},1212:{f:pke},2048:{f:Ske},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Kx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:pu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Pke,r:12},2173:{f:AIe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ei,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:hke,r:12},2197:{},2198:{f:wIe,r:12},2199:{},2200:{},2201:{},2202:{f:mke,r:12},2203:{f:pu},2204:{},2205:{},2206:{},2207:{},2211:{f:UNe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:hi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Mke},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:kke},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:GU},1:{},2:{f:$ke},3:{f:Wke},4:{f:Vke},5:{f:JU},7:{f:Hke},8:{},9:{f:Kx},11:{},22:{f:hi},30:{f:QNe},31:{},32:{},33:{f:ZU},36:{},37:{f:HU},50:{f:Gke},62:{},52:{},67:{},68:{f:hi},69:{},86:{},126:{},127:{f:Bke},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Kke},223:{},234:{},354:{},421:{},518:{f:E4},521:{f:Kx},536:{f:QU},547:{f:YU},561:{},579:{},1030:{f:E4},1033:{f:Kx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function wt(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&GI(n)&&t.push(n)}}function H8e(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return wt(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function s1(t,e,n){return t||(t=rt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function G8e(t,e,n,r){var i=rt(9);return s1(i,t,e),MJ(n,r||"b",i),i}function K8e(t,e,n){var r=rt(8+2*n.length);return s1(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function J8e(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ei(xr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?wt(t,2,zke(n,r,i)):wt(t,3,qke(n,r,i));return;case"b":case"e":wt(t,5,G8e(n,r,e.v,e.t));return;case"s":case"str":wt(t,4,K8e(n,r,(e.v||"").slice(0,255)));return}wt(t,1,s1(null,n,r))}function X8e(t,e,n,r){var i=Array.isArray(e),s=Nn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=on(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ri(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Or(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&J8e(t,f,c,u)}}}function Y8e(t,e){for(var n=e||{},r=oa(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return wt(r,n.biff==4?1033:n.biff==3?521:9,r6(t,16,n)),X8e(r,t.Sheets[t.SheetNames[i]],i,n),wt(r,10),r.end()}function Q8e(t,e,n){wt(t,49,zNe({sz:12,name:"Arial"},n))}function Z8e(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&wt(t,1054,YNe(i,e[i],n))})}function eFe(t,e){var n=rt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),wt(t,2151,n),n=rt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),BJ(Nn(e["!ref"]||"A1"),n),n.write_shift(4,4),wt(t,2152,n)}function tFe(t,e){for(var n=0;n<16;++n)wt(t,224,KU({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){wt(t,224,KU(r,0,e))})}function nFe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];wt(t,440,Cke(r)),r[1].Tooltip&&wt(t,2048,Dke(r))}delete e["!links"]}function rFe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&wt(t,125,Rke(Yw(i,r),i))})}}function iFe(t,e,n,r,i){var s=16+pd(i.cellXfs,e,i);if(e.v==null&&!e.bf){wt(t,513,Gf(n,r,s));return}if(e.bf)wt(t,6,k5e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Ei(xr(e.v)):e.v;wt(t,515,cke(n,r,a,s));break;case"b":case"e":wt(t,517,oke(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=d6(i.Strings,e.v,i.revStrings);wt(t,253,GNe(n,r,o,s))}else wt(t,516,JNe(n,r,(e.v||"").slice(0,255),s,i));break;default:wt(t,513,Gf(n,r,s))}}function sFe(t,e,n){var r=oa(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=Nn(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}wt(r,2057,r6(n,16,e)),wt(r,13,Ya(1)),wt(r,12,Ya(100)),wt(r,15,Fs(!0)),wt(r,17,Fs(!1)),wt(r,16,zf(.001)),wt(r,95,Fs(!0)),wt(r,42,Fs(!1)),wt(r,43,Fs(!1)),wt(r,130,Ya(1)),wt(r,128,ake()),wt(r,131,Fs(!1)),wt(r,132,Fs(!1)),c&&rFe(r,s["!cols"]),wt(r,512,ZNe(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=ri(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Or(y)),u=h[y]+f;var b=l?(s[g]||[])[y]:s[u];b&&(iFe(r,b,g,y,e),c&&b.l&&s["!links"].push([u,b.l]))}}var x=o.CodeName||o.name||i;return c&&wt(r,574,WNe((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&wt(r,229,xke(s["!merges"])),c&&nFe(r,s),wt(r,442,OJ(x)),c&&eFe(r,s),wt(r,10),r.end()}function aFe(t,e,n){var r=oa(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(wt(r,2057,r6(t,5,n)),n.bookType=="xla"&&wt(r,135),wt(r,225,o?Ya(1200):null),wt(r,193,oNe(2)),l&&wt(r,191),l&&wt(r,192),wt(r,226),wt(r,92,NNe("SheetJS",n)),wt(r,66,Ya(o?1200:1252)),o&&wt(r,353,Ya(0)),o&&wt(r,448),wt(r,317,Oke(t.SheetNames.length)),o&&t.vbaraw&&wt(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";wt(r,442,OJ(c))}wt(r,156,Ya(17)),wt(r,25,Fs(!1)),wt(r,18,Fs(!1)),wt(r,19,Ya(0)),o&&wt(r,431,Fs(!1)),o&&wt(r,444,Ya(0)),wt(r,61,BNe()),wt(r,64,Fs(!1)),wt(r,141,Ya(0)),wt(r,34,Fs(LRe(t)=="true")),wt(r,14,Fs(!0)),o&&wt(r,439,Fs(!1)),wt(r,218,Ya(0)),Q8e(r,t,n),Z8e(r,t.SSF,n),tFe(r,n),o&&wt(r,352,Fs(!1));var u=r.end(),f=oa();o&&wt(f,140,Nke()),o&&n.Strings&&H8e(f,252,FNe(n.Strings)),wt(f,10);var h=f.end(),p=oa(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var b=s[g]||{};wt(p,133,PNe({pos:y,hs:b.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var x=p.end();if(v!=x.length)throw new Error("BS8 "+v+" != "+x.length);var w=[];return u.length&&w.push(u),x.length&&w.push(x),h.length&&w.push(h),Bi(w)}function oFe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=br(Jt)),t&&t.SSF&&(sg(),$w(t.SSF),n.revssf=Hw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,g6(n),n.cellXfs=[],pd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=sFe(i,n,t);return r.unshift(aFe(t,r,n)),Bi(r)}function NX(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=la(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return oFe(t,e);case 4:case 3:case 2:return Y8e(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function cL(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=zDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var b=g.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var x=b[o].trim();if(x.match(/<t[dh]/i)){for(var w=x,C=0;w.charAt(0)=="<"&&(C=w.indexOf(">"))>-1;)w=w.slice(C+1);for(var S=0;S<v.length;++S){var F=v[S];F.s.c==u&&F.s.r<c&&c<=F.e.r&&(u=F.e.c+1,S=-1)}var A=tn(x.slice(0,x.indexOf(">")));h=A.colspan?+A.colspan:1,((f=+A.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var I=A.t||A["data-t"]||"";if(!w.length){u+=h;continue}if(w=ZK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var N={t:"s",v:w};n.raw||!w.trim().length||I=="s"||(w==="TRUE"?N={t:"b",v:!0}:w==="FALSE"?N={t:"b",v:!1}:isNaN(Bo(w))?isNaN(Cm(w).getDate())||(N={t:"d",v:xr(w)},n.cellDates||(N={t:"n",v:Ei(N.v)}),N.z=n.dateNF||Jt[14]):N={t:"n",v:Bo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=N):r[Zt({r:c,c:u})]=N,u+=h}}}}return r["!ref"]=on(p),v.length&&(r["!merges"]=v),r}function lFe(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Zt({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||$I(f.w||(Sc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(_t("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var cFe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uFe="</body></html>";function dFe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return hd(cL(n[0],e),e);var r=x6();return n.forEach(function(i,s){b6(r,cL(i,e),"Sheet"+(s+1))}),r}function fFe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function kX(t,e){var n=e||{},r=n.header!=null?n.header:cFe,i=n.footer!=null?n.footer:uFe,s=[r],a=la(t["!ref"]);n.dense=Array.isArray(t),s.push(fFe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(lFe(t,a,o,n));return s.push("</table>"+i),s.join("")}function IX(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Ur(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=la(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,b=0,x=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var C=o[v];if(uL(C)){if(r.display)continue;p[g]={hidden:!0}}var S=C.children;for(y=b=0;y<S.length;++y){var F=S[y];if(!(r.display&&uL(F))){var A=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):ZK(F.innerHTML),I=F.getAttribute("data-z")||F.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==b+s&&N.s.r<g+i&&g+i<=N.e.r&&(b=N.e.c+1-s,h=-1)}w=+F.getAttribute("colspan")||1,((x=+F.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:b+s},e:{r:g+i+(x||1)-1,c:b+s+(w||1)-1}});var R={t:"s",v:A},P=F.getAttribute("data-t")||F.getAttribute("t")||"";A!=null&&(A.length==0?R.t=P||"z":r.raw||A.trim().length==0||P=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Bo(A))?isNaN(Cm(A).getDate())||(R={t:"d",v:xr(A)},r.cellDates||(R={t:"n",v:Ei(R.v)}),R.z=r.dateNF||Jt[14]):R={t:"n",v:Bo(A)})),R.z===void 0&&I!=null&&(R.z=I);var D="",M=F.getElementsByTagName("A");if(M&&M.length)for(var O=0;O<M.length&&!(M[O].hasAttribute("href")&&(D=M[O].getAttribute("href"),D.charAt(0)!="#"));++O);D&&D.charAt(0)!="#"&&(R.l={Target:D}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][b+s]=R):t[Zt({c:b+s,r:g+i})]=R,c.e.c<b+s&&(c.e.c=b+s),b+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=on(c),g>=l&&(t["!fullref"]=on((c.e.r=o.length-v+g-1+i,c))),t}function PX(t,e){var n=e||{},r=n.dense?[]:{};return IX(r,t,e)}function hFe(t,e){return hd(PX(t,e),e)}function uL(t){var e="",n=pFe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function pFe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mFe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=An(e.replace(/<[^>]*>/g,""));return[n]}var dL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function RX(t,e){var n=e||{},r=zI(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,b={value:""},x="",w=0,C=[],S=-1,F=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,N={},R=[],P={},D=0,M=0,O=[],H=1,X=1,G=[],Z={Names:[]},W={},Y=["",""],B=[],j={},q="",J=0,Q=!1,te=!1,ae=0;for(Zy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Zy.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?v["!ref"]=on(A):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=A.e.r&&(v["!fullref"]=v["!ref"],A.e.r=n.sheetRows-1,v["!ref"]=on(A)),R.length&&(v["!merges"]=R),O.length&&(v["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,te=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=tn(g[0],!1),S=F=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,v=n.dense?[]:{},R=[],O=[],te=!0);break;case"table-row-group":g[1]==="/"?--I:++I;break;case"table-row":case"":if(g[1]==="/"){S+=H,H=1;break}if(f=tn(g[0],!1),f.?S=f.-1:S==-1&&(S=0),H=+f["number-rows-repeated"]||1,H<10)for(ae=0;ae<H;++ae)I>0&&(O[S+ae]={level:I});F=-1;break;case"covered-table-cell":g[1]!=="/"&&++F,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][F]={t:"z"}):v[Zt({r:S,c:F})]={t:"z"}),x="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++F,b=tn(g[0],!1),X=parseInt(b["number-columns-repeated"]||"1",10),y={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(y.f=aL(An(b.formula))),(b.||b["value-type"])=="string"&&(y.t="s",y.v=An(b["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][F]=y):v[Zt({r:S,c:F})]=y),F+=X-1;else if(g[1]!=="/"){++F,x="",w=0,C=[],X=1;var ce=H?S+H-1:S;if(F>A.e.c&&(A.e.c=F),F<A.s.c&&(A.s.c=F),S<A.s.r&&(A.s.r=S),ce>A.e.r&&(A.e.r=ce),b=tn(g[0],!1),B=[],j={},y={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=An(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(D=parseInt(b["number-matrix-rows-spanned"],10)||0,M=parseInt(b["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:F},e:{r:S+D-1,c:F+M-1}},y.F=on(P),G.push([P,y.F])),b.formula)y.f=aL(b.formula);else for(ae=0;ae<G.length;++ae)S>=G[ae][0].s.r&&S<=G[ae][0].e.r&&F>=G[ae][0].s.c&&F<=G[ae][0].e.c&&(y.F=G[ae][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(D=parseInt(b["number-rows-spanned"],10)||0,M=parseInt(b["number-columns-spanned"],10)||0,P={s:{r:S,c:F},e:{r:S+D-1,c:F+M-1}},R.push(P)),b["number-columns-repeated"]&&(X=parseInt(b["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=mr(b["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(b.value);break;case"percentage":y.t="n",y.v=parseFloat(b.value);break;case"currency":y.t="n",y.v=parseFloat(b.value);break;case"date":y.t="d",y.v=xr(b["date-value"]),n.cellDates||(y.t="n",y.v=Ei(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=WDe(b["time-value"])/86400,n.cellDates&&(y.t="d",y.v=Gw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(b.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",b["string-value"]!=null&&(x=An(b["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Q=!1,y.t==="s"&&(y.v=x||"",C.length&&(y.R=C),Q=w==0),W.Target&&(y.l=W),B.length>0&&(y.c=B,B=[]),x&&n.cellText!==!1&&(y.w=x),Q&&(y.t="z",delete y.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var ue=0;ue<H;++ue){if(X=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[S+ue]||(v[S+ue]=[]),v[S+ue][F]=ue==0?y:br(y);--X>0;)v[S+ue][F+X]=br(y);else for(v[Zt({r:S+ue,c:F})]=y;--X>0;)v[Zt({r:S+ue,c:F+X})]=br(y);A.e.c<=F&&(A.e.c=F)}X=parseInt(b["number-columns-repeated"]||"1",10),F+=X-1,X=0,y={},x="",C=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=x,C.length&&(j.R=C),j.a=q,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);q="",J=0,x="",w=0,C=[];break;case"creator":g[1]==="/"?q=r.slice(J,g.index):J=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);x="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(N[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=tn(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=tn(g[0],!1),l+=dL[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=tn(g[0],!1),l+=dL[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=tn(g[0],!1),Y=C4(a["cell-range-address"]);var Se={Name:a.name,Ref:Y[0]+"!"+Y[1]};te&&(Se.Sheet=p.length),Z.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var Fe=mFe(r.slice(w,g.index));x=(x.length>0?x+`
`:"")+Fe[0]}else tn(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=C4(tn(g[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(W=tn(g[0],!1),!W.href)break;W.Target=An(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(Y=C4(W.Target.slice(1)),W.Target="#"+Y[0]+"!"+Y[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var fe={Sheets:h,SheetNames:p,Workbook:Z};return n.bookSheets&&delete fe.Sheets,fe}function fL(t,e){e=e||{},Xa(t,"META-INF/manifest.xml")&&WAe(fi(t,"META-INF/manifest.xml"),e);var n=Sa(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=RX(Zn(n),e);return Xa(t,"meta.xml")&&(r.Props=TJ(fi(t,"meta.xml"))),r}function hL(t,e){return RX(t,e)}var gFe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ai+e}})(),pL=(function(){var t=function(s){return Jn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Jn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=la(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var b=!1,x={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(b=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(n);continue}var C=Zt({r:c,c:u}),S=v?(s[c]||[])[u]:s[C];if(S&&S.f&&(x["table:formula"]=Jn(O5e(S.f)),S.F&&S.F.slice(0,C.length)==C)){var F=la(S.F);x["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,x["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),x["office:value-type"]="float",x["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,x["office:value-type"]="string";break;case"d":w=S.w||xr(S.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=xr(S.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var A=t(w);if(S.l&&S.l.Target){var I=S.l.Target;I=I.charAt(0)=="#"?"#"+U5e(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),A=_t("text:a",A,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+_t("table:table-cell",_t("text:p",A,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Zu(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ai],c=Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Qy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(wJ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function FX(t,e){if(e.bookType=="fods")return pL(t,e);var n=VI(),r="",i=[],s=[];return r="mimetype",ln(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ln(n,r,pL(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",ln(n,r,gFe(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",ln(n,r,ai+wJ()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",ln(n,r,zAe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ln(n,r,qAe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function DN(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Zn(fd(t))}function yFe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ca(wl(t))}function vFe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function td(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function mL(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function xFe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function bFe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function av(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function zn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function zr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Pn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=av(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=av(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Ji(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(zn(r*8+i.type)),i.type==2&&e.push(zn(i.data.length)),e.push(i.data))})}),td(e)}function p6(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function Ka(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=av(t,r),s=Pn(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:zr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Pn(o.data),c=zr(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=zr(s[3][0].data)>>>0>0),n.push(a)}return n}function cp(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:zn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:zn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:zn(a.data.length)}],r[2].push({data:Ji(a.meta),type:2})});var s=Ji(r);e.push(zn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),td(e)}function _Fe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=av(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[td(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=td(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Ja(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(_Fe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return td(e)}function up(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=zn(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return td(e)}function wFe(t,e,n,r){var i=Kf(t),s=i.getUint32(4,!0),a=(r>1?12:8)+mL(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=mL(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function TFe(t,e,n){var r=Kf(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=xFe(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function D4(t,e){var n=new Uint8Array(32),r=Kf(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,bFe(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function A4(t,e){var n=new Uint8Array(32),r=Kf(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function EFe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return wFe(t,e,n,t[0]);case 5:return TFe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function fs(t){var e=Pn(t);return av(e[1][0].data)}function gL(t,e){var n=Pn(e.data),r=zr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Pn(a.data),l=zr(o[1][0].data)>>>0;switch(r){case 1:s[l]=DN(o[3][0].data);break;case 8:{var c=t[fs(o[9][0].data)][0],u=Pn(c.data),f=t[fs(u[1][0].data)][0],h=zr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Pn(f.data);s[l]=p[3].map(function(v){return DN(v.data)}).join("")}break}}),s}function CFe(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=Pn(t),b=zr(y[1][0].data)>>>0,x=zr(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&zr(y[8][0].data)>0||!1,C,S;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)C=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)C=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var F=w?4:1,A=Kf(C),I=[],N=0;N<C.length/2;++N){var R=A.getUint16(N*2,!0);R<65535&&I.push([N,R])}if(I.length!=x)throw"Expected ".concat(x," cells, found ").concat(I.length);var P=[];for(N=0;N<I.length-1;++N)P[I[N][0]]=S.subarray(I[N][1]*F,I[N+1][1]*F);return I.length>=1&&(P[I[I.length-1][0]]=S.subarray(I[I.length-1][1]*F)),{R:b,cells:P}}function SFe(t,e){var n,r=Pn(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?zr(r[7][0].data)>>>0>0?1:0:-1,s=p6(r[5],function(a){return CFe(a,i)});return{nrows:zr(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function DFe(t,e,n){var r,i=Pn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(zr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(zr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=on(s);var a=Pn(i[4][0].data),o=gL(t,t[fs(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?gL(t,t[fs(a[17][0].data)][0]):[],c=Pn(a[3][0].data),u=0;c[1].forEach(function(f){var h=Pn(f.data),p=t[fs(h[2][0].data)][0],v=zr(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=SFe(t,p);g.data.forEach(function(y,b){y.forEach(function(x,w){var C=Zt({r:u+b,c:w}),S=EFe(x,o,l);S&&(n[C]=S)})}),u+=g.nrows})}function AFe(t,e){var n=Pn(e.data),r={"!ref":"A1"},i=t[fs(n[2][0].data)],s=zr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return DFe(t,i[0],r),r}function NFe(t,e){var n,r=Pn(e.data),i={name:(n=r[1])!=null&&n[0]?DN(r[1][0].data):"",sheets:[]},s=p6(r[2],fs);return s.forEach(function(a){t[a].forEach(function(o){var l=zr(o.meta[1][0].data);l==6e3&&i.sheets.push(AFe(t,o))})}),i}function kFe(t,e){var n=x6(),r=Pn(e.data),i=p6(r[1],fs);if(i.forEach(function(s){t[s].forEach(function(a){var o=zr(a.meta[1][0].data);if(o==2){var l=NFe(t,a);l.sheets.forEach(function(c,u){b6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function N4(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ja(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Ka(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&zr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=zr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return kFe(s,o)}function IFe(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&zr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Kf(t[7][0].data),u=0,f=[],h=Kf(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,b;switch(typeof e[g]){case"string":y=D4({t:"s",v:e[g]},n),b=A4({t:"s",v:e[g]},n);break;case"number":y=D4({t:"n",v:e[g]},n),b=A4({t:"n",v:e[g]},n);break;case"boolean":y=D4({t:"b",v:e[g]},n),b=A4({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(b),p+=b.length,++l}for(t[2][0].data=zn(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=td(f),t[3][0].data=td(v),l}function PFe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=la(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(on(r)));var s=f_(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(J){typeof J=="string"&&a.push(J)})});var o={},l=[],c=qt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,J){return[q,c.FullPaths[J]]}).forEach(function(q){var J=q[0],Q=q[1];if(J.type==2&&J.name.match(/\.iwa/)){var te=J.content,ae=Ja(te),ce=Ka(ae);ce.forEach(function(ue){l.push(ue.id),o[ue.id]={deps:[],location:Q,type:zr(ue.messages[0].meta[1][0].data)}})}}),l.sort(function(q,J){return q-J});var u=l.filter(function(q){return q>1}).map(function(q){return[q,zn(q)]});c.FileIndex.map(function(q,J){return[q,c.FullPaths[J]]}).forEach(function(q){var J=q[0];if(q[1],!!J.name.match(/\.iwa/)){var Q=Ka(Ja(J.content));Q.forEach(function(te){te.messages.forEach(function(ae){u.forEach(function(ce){te.messages.some(function(ue){return zr(ue.meta[1][0].data)!=11006&&vFe(ue.data,ce[1])})&&o[ce[0]].deps.push(te.id)})})})}});for(var f=qt.find(c,o[1].location),h=Ka(Ja(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=fs(Pn(p.messages[0].data)[1][0].data);for(f=qt.find(c,o[y].location),h=Ka(Ja(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=fs(Pn(p.messages[0].data)[2][0].data),f=qt.find(c,o[y].location),h=Ka(Ja(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=fs(Pn(p.messages[0].data)[2][0].data),f=qt.find(c,o[y].location),h=Ka(Ja(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var b=Pn(p.messages[0].data);{b[6][0].data=zn(r.e.r+1),b[7][0].data=zn(r.e.c+1);var x=fs(b[46][0].data),w=qt.find(c,o[x].location),C=Ka(Ja(w.content));{for(var S=0;S<C.length&&C[S].id!=x;++S);if(C[S].id!=x)throw"Bad ColumnRowUIDMapArchive";var F=Pn(C[S].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var A=0;A<=r.e.c;++A){var I=[];I[1]=I[2]=[{type:0,data:zn(A+420690)}],F[1].push({type:2,data:Ji(I)}),F[2].push({type:0,data:zn(A)}),F[3].push({type:0,data:zn(A)})}F[4]=[],F[5]=[],F[6]=[];for(var N=0;N<=r.e.r;++N)I=[],I[1]=I[2]=[{type:0,data:zn(N+726270)}],F[4].push({type:2,data:Ji(I)}),F[5].push({type:0,data:zn(N)}),F[6].push({type:0,data:zn(N)});C[S].messages[0].data=Ji(F)}w.content=up(cp(C)),w.size=w.content.length,delete b[46];var R=Pn(b[4][0].data);{R[7][0].data=zn(r.e.r+1);var P=Pn(R[1][0].data),D=fs(P[2][0].data);w=qt.find(c,o[D].location),C=Ka(Ja(w.content));{if(C[0].id!=D)throw"Bad HeaderStorageBucket";var M=Pn(C[0].messages[0].data);for(N=0;N<s.length;++N){var O=Pn(M[2][0].data);O[1][0].data=zn(N),O[4][0].data=zn(s[N].length),M[2][N]={type:M[2][0].type,data:Ji(O)}}C[0].messages[0].data=Ji(M)}w.content=up(cp(C)),w.size=w.content.length;var H=fs(R[2][0].data);w=qt.find(c,o[H].location),C=Ka(Ja(w.content));{if(C[0].id!=H)throw"Bad HeaderStorageBucket";for(M=Pn(C[0].messages[0].data),A=0;A<=r.e.c;++A)O=Pn(M[2][0].data),O[1][0].data=zn(A),O[4][0].data=zn(r.e.r+1),M[2][A]={type:M[2][0].type,data:Ji(O)};C[0].messages[0].data=Ji(M)}w.content=up(cp(C)),w.size=w.content.length;var X=fs(R[4][0].data);(function(){for(var q=qt.find(c,o[X].location),J=Ka(Ja(q.content)),Q,te=0;te<J.length;++te){var ae=J[te];ae.id==X&&(Q=ae)}var ce=Pn(Q.messages[0].data);{ce[3]=[];var ue=[];a.forEach(function(fe,Le){ue[1]=[{type:0,data:zn(Le)}],ue[2]=[{type:0,data:zn(1)}],ue[3]=[{type:2,data:yFe(fe)}],ce[3].push({type:2,data:Ji(ue)})})}Q.messages[0].data=Ji(ce);var Se=cp(J),Fe=up(Se);q.content=Fe,q.size=q.content.length})();var G=Pn(R[3][0].data);{var Z=G[1][0];delete G[2];var W=Pn(Z.data);{var Y=fs(W[2][0].data);(function(){for(var q=qt.find(c,o[Y].location),J=Ka(Ja(q.content)),Q,te=0;te<J.length;++te){var ae=J[te];ae.id==Y&&(Q=ae)}var ce=Pn(Q.messages[0].data);{delete ce[6],delete G[7];var ue=new Uint8Array(ce[5][0].data);ce[5]=[];for(var Se=0,Fe=0;Fe<=r.e.r;++Fe){var fe=Pn(ue);Se+=IFe(fe,s[Fe],a),fe[1][0].data=zn(Fe),ce[5].push({data:Ji(fe),type:2})}ce[1]=[{type:0,data:zn(r.e.c+1)}],ce[2]=[{type:0,data:zn(r.e.r+1)}],ce[3]=[{type:0,data:zn(Se)}],ce[4]=[{type:0,data:zn(r.e.r+1)}]}Q.messages[0].data=Ji(ce);var Le=cp(J),z=up(Le);q.content=z,q.size=q.content.length})()}Z.data=Ji(W)}R[3][0].data=Ji(G)}b[4][0].data=Ji(R)}p.messages[0].data=Ji(b);var B=cp(h),j=up(B);return f.content=j,f.size=f.content.length,c}function MX(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function m6(t){MX([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function g6(t){MX([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function RFe(t){return hn.WS.indexOf(t)>-1?"sheet":t==hn.CS?"chart":t==hn.DS?"dialog":t==hn.MS?"macro":t&&t.length?t:"sheet"}function FFe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,RFe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function MFe(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=iy(Sa(t,n,!0),e);var h=fi(t,e),p;switch(o){case"sheet":p=r8e(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=i8e(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=k0(p["!drawel"].Target,e),g=ev(v),y=$Ie(Sa(t,v,!0),iy(Sa(t,g,!0),v)),b=k0(y,v),x=ev(b);p=IRe(Sa(t,b,!0),b,l,iy(Sa(t,x,!0),b),c,p);break;case"macro":p=s8e(h,e,i,l,s[r],c,u,f);break;case"dialog":p=a8e(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&Kr(s[r]).forEach(function(C){var S="";if(s[r][C].Type==hn.CMNT){S=k0(s[r][C].Target,e);var F=u8e(fi(t,S,!0),S,l);if(!F||!F.length)return;tL(p,F,!1)}s[r][C].Type==hn.TCMNT&&(S=k0(s[r][C].Target,e),w=w.concat(HIe(fi(t,S,!0),l)))}),w&&w.length&&tL(p,w,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function $a(t){return t.charAt(0)=="/"?t.slice(1):t}function OFe(t,e){if(sg(),e=e||{},m6(e),Xa(t,"META-INF/manifest.xml")||Xa(t,"objectdata.xml"))return fL(t,e);if(Xa(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof N4<"u"){if(t.FileIndex)return N4(t);var n=qt.utils.cfb_new();return wU(t).forEach(function(O){ln(n,O,GDe(t,O))}),N4(n)}throw new Error("Unsupported NUMBERS file")}if(!Xa(t,"[Content_Types].xml"))throw Xa(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Xa(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=wU(t),i=BAe(Sa(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",fi(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!fi(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(sy=[],i.sst)try{sy=c8e(fi(t,$a(i.sst)),i.sst,e)}catch(O){if(e.WTF)throw O}e.cellStyles&&i.themes.length&&(l=l8e(Sa(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=o8e(fi(t,$a(i.style)),i.style,l,e))}i.links.map(function(O){try{var H=iy(Sa(t,ev($a(O))),O);return f8e(fi(t,$a(O)),H,O,e)}catch{}});var u=n8e(fi(t,$a(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=fi(t,$a(i.coreprops[0]),!0),h&&(f=TJ(h)),i.extprops.length!==0&&(h=fi(t,$a(i.extprops[0]),!0),h&&GAe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Sa(t,$a(i.custprops[0]),!0),h&&(p=JAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=d8e(fi(t,$a(i.calcchain)),i.calcchain));var y=0,b={},x,w;{var C=u.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var F=s?"bin":"xml",A=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,A+1)+"_rels/"+i.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");Xa(t,I)||(I="xl/_rels/workbook."+F+".rels");var N=iy(Sa(t,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=h8e(fi(t,$a(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=KIe(fi(t,$a(i.people[0])),e)),N&&(N=FFe(N,u.Sheets));var R=fi(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(N&&N[y]?(x="xl/"+N[y][1].replace(/[\/]?xl\//,""),Xa(t,x)||(x=N[y][1]),Xa(t,x)||(x=I.replace(/_rels\/.*$/,"")+N[y][1]),P=N[y][2]):(x="xl/worksheets/sheet"+(y+1-R)+"."+F,x=x.replace(/sheet0\./,"sheet.")),w=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var D=!1,M=0;M!=e.sheets.length;++M)typeof e.sheets[M]=="number"&&e.sheets[M]==y&&(D=1),typeof e.sheets[M]=="string"&&e.sheets[M].toLowerCase()==f.SheetNames[y].toLowerCase()&&(D=1);if(!D)continue e}}MFe(t,x,w,f.SheetNames[y],y,b,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:sy,Styles:c,Themes:l,SSF:br(Jt)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(O,H){O=O.replace(/^Root Entry[\/]/,""),v.keys.push(O),v.files[O]=t.FileIndex[H]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=fi(t,$a(i.vba[0]),!0):i.defaults&&i.defaults.bin===n6e&&(v.vbaraw=fi(t,"xl/vbaProject.bin",!0))),v}function UFe(t,e){var n=e||{},r="Workbook",i=qt.find(t,r);try{if(r="/!DataSpaces/Version",i=qt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(h3e(i.content),r="/!DataSpaces/DataSpaceMap",i=qt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=m3e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=qt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=g3e(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=qt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);v3e(i.content)}catch{}if(r="/EncryptionInfo",i=qt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=x3e(i.content);if(r="/EncryptedPackage",i=qt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function LFe(t,e){return e.bookType=="ods"?FX(t,e):e.bookType=="numbers"?PFe(t,e):e.bookType=="xlsb"?jFe(t,e):BFe(t,e)}function jFe(t,e){Ap=1024,t&&!t.SSF&&(t.SSF=br(Jt)),t&&t.SSF&&(sg(),$w(t.SSF),e.revssf=Hw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ay?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=lX.indexOf(e.bookType)>-1,i=t6();g6(e=e||{});var s=VI(),a="",o=0;if(e.cellXfs=[],pd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ln(s,a,EJ(t.Props,e)),i.coreprops.push(a),Hn(e.rels,2,a,hn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,ln(s,a,DJ(t.Props)),i.extprops.push(a),Hn(e.rels,3,a,hn.EXT_PROPS),t.Custprops!==t.Props&&Kr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ln(s,a,AJ(t.Custprops)),i.custprops.push(a),Hn(e.rels,4,a,hn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,ln(s,a,m8e(o-1,a,e,t,u)),i.sheets.push(a),Hn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,hn.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,ln(s,g,v8e(p,g)),i.comments.push(g),Hn(u,-1,"../comments"+o+"."+n,hn.CMNT),v=!0),f["!legacy"]&&v&&ln(s,"xl/drawings/vmlDrawing"+o+".vml",aX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&ln(s,ev(a),Vp(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,ln(s,a,y8e(e.Strings,a,e)),i.strs.push(a),Hn(e.wbrels,-1,"sharedStrings."+n,hn.SST)),a="xl/workbook."+n,ln(s,a,p8e(t,a)),i.workbooks.push(a),Hn(e.rels,1,a,hn.WB),a="xl/theme/theme1.xml",ln(s,a,o6(t.Themes,e)),i.themes.push(a),Hn(e.wbrels,-1,"theme/theme1.xml",hn.THEME),a="xl/styles."+n,ln(s,a,g8e(t,a,e)),i.styles.push(a),Hn(e.wbrels,-1,"styles."+n,hn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",ln(s,a,t.vbaraw),i.vba.push(a),Hn(e.wbrels,-1,"vbaProject.bin",hn.VBA)),a="xl/metadata."+n,ln(s,a,x8e(a)),i.metadata.push(a),Hn(e.wbrels,-1,"metadata."+n,hn.XLMETA),ln(s,"[Content_Types].xml",_J(i,e)),ln(s,"_rels/.rels",Vp(e.rels)),ln(s,"xl/_rels/workbook."+n+".rels",Vp(e.wbrels)),delete e.revssf,delete e.ssf,s}function BFe(t,e){Ap=1024,t&&!t.SSF&&(t.SSF=br(Jt)),t&&t.SSF&&(sg(),$w(t.SSF),e.revssf=Hw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ay?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=lX.indexOf(e.bookType)>-1,i=t6();g6(e=e||{});var s=VI(),a="",o=0;if(e.cellXfs=[],pd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ln(s,a,EJ(t.Props,e)),i.coreprops.push(a),Hn(e.rels,2,a,hn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,ln(s,a,DJ(t.Props)),i.extprops.push(a),Hn(e.rels,3,a,hn.EXT_PROPS),t.Custprops!==t.Props&&Kr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ln(s,a,AJ(t.Custprops)),i.custprops.push(a),Hn(e.rels,4,a,hn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,ln(s,a,xX(o-1,e,t,f)),i.sheets.push(a),Hn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,hn.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var b=!1;v.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+o+"."+n,ln(s,y,GIe(v,u,e)),i.threadedcomments.push(y),Hn(f,-1,"../threadedComments/threadedComment"+o+"."+n,hn.TCMNT)),y="xl/comments"+o+"."+n,ln(s,y,oX(v)),i.comments.push(y),Hn(f,-1,"../comments"+o+"."+n,hn.CMNT),g=!0}h["!legacy"]&&g&&ln(s,"xl/drawings/vmlDrawing"+o+".vml",aX(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&ln(s,ev(a),Vp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,ln(s,a,KJ(e.Strings,e)),i.strs.push(a),Hn(e.wbrels,-1,"sharedStrings."+n,hn.SST)),a="xl/workbook."+n,ln(s,a,EX(t)),i.workbooks.push(a),Hn(e.rels,1,a,hn.WB),a="xl/theme/theme1.xml",ln(s,a,o6(t.Themes,e)),i.themes.push(a),Hn(e.wbrels,-1,"theme/theme1.xml",hn.THEME),a="xl/styles."+n,ln(s,a,nX(t,e)),i.styles.push(a),Hn(e.wbrels,-1,"styles."+n,hn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",ln(s,a,t.vbaraw),i.vba.push(a),Hn(e.wbrels,-1,"vbaProject.bin",hn.VBA)),a="xl/metadata."+n,ln(s,a,sX()),i.metadata.push(a),Hn(e.wbrels,-1,"metadata."+n,hn.XLMETA),u.length>1&&(a="xl/persons/person.xml",ln(s,a,JIe(u)),i.people.push(a),Hn(e.wbrels,-1,"persons/person.xml",hn.PEOPLE)),ln(s,"[Content_Types].xml",_J(i,e)),ln(s,"_rels/.rels",Vp(e.rels)),ln(s,"xl/_rels/workbook."+n+".rels",Vp(e.wbrels)),delete e.revssf,delete e.ssf,s}function y6(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ra(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function VFe(t,e){return qt.find(t,"EncryptedPackage")?UFe(t,e):AX(t,e)}function WFe(t,e){var n,r=t,i=e||{};return i.type||(i.type=dn&&Buffer.isBuffer(t)?"buffer":"base64"),n=XK(r,i),OFe(n,i)}function OX(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return CN(t.slice(n),e);default:break e}return Sm.to_workbook(t,e)}function qFe(t,e){var n="",r=y6(t,e);switch(e.type){case"base64":n=Ra(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=$f(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Zn(n)),e.type="binary",OX(n,e)}function $Fe(t,e){var n=t;return e.type=="base64"&&(n=Ra(n)),n=Ky.utils.decode(1200,n.slice(2),"str"),e.type="binary",OX(n,e)}function zFe(t){return t.match(/[^\x00-\x7F]/)?wl(t):t}function k4(t,e,n,r){return r?(n.type="string",Sm.to_workbook(t,n)):Sm.to_workbook(e,n)}function AN(t,e){OI();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return AN(new Uint8Array(t),(n=br(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),qp={},n.dateNF&&(qp.dateNF=n.dateNF),n.type||(n.type=dn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=dn?"buffer":"binary",r=jDe(t),typeof Uint8Array<"u"&&!dn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=zFe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=br(n),n.type="array",AN(UI(r),n)}switch((i=y6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return VFe(qt.read(r,n),n);break;case 9:if(i[1]<=8)return AX(r,n);break;case 60:return CN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Xke(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return HJ.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?WFe(r,n):k4(t,r,n,s);case 239:return i[3]===60?CN(r,n):k4(t,r,n,s);case 255:if(i[1]===254)return $Fe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return bf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return bf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return EN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return ZJ.to_workbook(r,n);break;case 10:case 13:case 32:return qFe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Jke.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?EN.to_workbook(r,n):k4(t,r,n,s)}function UX(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Qv(e.file,qt.write(t,{type:dn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return qt.write(t,e)}function HFe(t,e){var n=br(e||{}),r=LFe(t,n);return GFe(r,n)}function GFe(t,e){var n={},r=dn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?qt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(qw(i))}return e.password&&typeof encrypt_agile<"u"?UX(encrypt_agile(i,e.password),e):e.type==="file"?Qv(e.file,i):e.type=="string"?Zn(i):i}function KFe(t,e){var n=e||{},r=z8e(t,n);return UX(r,n)}function ll(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Jy(wl(r));case"binary":return wl(r);case"string":return t;case"file":return Qv(e.file,r,"utf8");case"buffer":return dn?Uc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ll(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function JFe(t,e){switch(e.type){case"base64":return Jy(t);case"binary":return t;case"string":return t;case"file":return Qv(e.file,t,"binary");case"buffer":return dn?Uc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Qx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Jy(n):e.type=="string"?Zn(n):n;case"file":return Qv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function LX(t,e){OI(),VRe(t);var n=br(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=LX(t,n);return n.type="array",qw(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return ll(L8e(t,n),n);case"slk":case"sylk":return ll(zJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return ll(kX(t.Sheets[t.SheetNames[i]],n),n);case"txt":return JFe(jX(t.Sheets[t.SheetNames[i]],n),n);case"csv":return ll(v6(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return ll(HJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Qx(EN.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return ll(Sm.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return ll(ZJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return ll(GJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return ll(FX(t,n),n);case"wk1":return Qx(bf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Qx(bf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Qx(NX(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),KFe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return HFe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function XFe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function YFe(t,e,n){var r={};return r.type="file",r.file=e,XFe(r),LX(t,r)}function QFe(t,e,n,r,i,s,a,o){var l=ri(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:Sc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function f_(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Nn(u);break;case"number":l=Nn(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=ri(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),b=l.s.r,x=0,w={};y&&!t[b]&&(t[b]=[]);var C=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(C[x]||{}).hidden)switch(h[x]=Or(x),n=y?t[b][x]:t[h[x]+f],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=Sc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[x]=o}for(b=l.s.r+i;b<=l.e.r;++b)if(!(S[b]||{}).hidden){var F=QFe(t,l,b,h,r,s,y,c);(F.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=F.row)}return p.length=v,p}var yL=/"/g;function ZFe(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=ri(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Sc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(yL,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(yL,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function v6(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Nn(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Or(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=ZFe(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function jX(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=v6(t,e);return n}function e9e(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Nn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Or(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=ri(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function BX(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Ur(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=Nn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){Kr(g).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var x=g[b],w="z",C="",S=Zt({c:o+p,r:a+y+i});c=ov(s,S),x&&typeof x=="object"&&!(x instanceof Date)?s[S]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",r.cellDates||(w="n",x=Ei(x)),C=r.dateNF||Jt[14]):x===null&&r.nullError&&(w="e",x=0),c?(c.t=w,c.v=x,delete c.w,delete c.R,C&&(c.z=C)):s[S]=c={t:w,v:x},C&&(c.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=ri(a);if(i)for(p=0;p<h.length;++p)s[Or(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=on(u),s}function t9e(t,e){return BX(null,t,e)}function ov(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Ur(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ov(t,Zt(e)):ov(t,Zt({r:e,c:n||0}))}function n9e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function x6(){return{SheetNames:[],Sheets:{}}}function b6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(TX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function r9e(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=n9e(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function i9e(t,e){return t.z=e,t}function VX(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function s9e(t,e,n){return VX(t,"#"+e,n)}function a9e(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function o9e(t,e,n,r){for(var i=typeof e!="string"?e:Nn(e),s=typeof e=="string"?e:on(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=ov(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var Zx={encode_col:Or,encode_row:ri,encode_cell:Zt,encode_range:on,decode_col:JI,decode_row:KI,split_cell:yAe,decode_cell:Ur,decode_range:la,format_cell:Sc,sheet_add_aoa:pJ,sheet_add_json:BX,sheet_add_dom:IX,aoa_to_sheet:ag,json_to_sheet:t9e,table_to_sheet:PX,table_to_book:hFe,sheet_to_csv:v6,sheet_to_txt:jX,sheet_to_json:f_,sheet_to_html:kX,sheet_to_formulae:e9e,sheet_to_row_object_array:f_,sheet_get_cell:ov,book_new:x6,book_append_sheet:b6,book_set_sheet_visibility:r9e,cell_set_number_format:i9e,cell_set_hyperlink:VX,cell_set_internal_link:s9e,cell_add_comment:a9e,sheet_set_array_formula:o9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function _6(t,e){return t.indexOf(e)!==-1}function dp(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(_6(t,String(a)))return i}return null}function l9e(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(_6(t,String(o))){i.push(s);break}}return i}function c9e(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function u9e(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function d9e(t,e,n={}){const r=t;let i=c9e(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(_6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=dp(i,"intents",e),s.target=dp(i,"targets",e),s.position=dp(i,"positions",e),s.color=dp(i,"colors",e),s.movement=dp(i,"movements",e);const a=l9e(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(dp(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:b}=u9e(g[1].trim());s.conditions.push({type:u,value:y,valueType:b,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function f9e(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function h9e(t,e){const n=t.trim(),r=f9e(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=d9e(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const p9e=({onClose:t,onCreate:e})=>{const[n,r]=V.useState(20),[i,s]=V.useState(10),[a,o]=V.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},m9e=()=>{const{excelCommands:t}=Yt(),[e,n]=V.useState([]),[r,i]=V.useState([]),[s,a]=V.useState([]),[o,l]=V.useState(""),[c,u]=V.useState(new Set),[f,h]=V.useState(new Set),[p,v]=V.useState(new Set),[g,y]=V.useState(null),[b,x]=V.useState({}),[w,C]=V.useState(""),[S,F]=V.useState(!1),[A,I]=V.useState(""),[N,R]=V.useState(!1),[P,D]=V.useState(!1),M=V.useRef(null),O=V.useRef(!1),H=V.useRef(s),X=V.useRef(r),G=V.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),Z=V.useRef({setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});V.useEffect(()=>{H.current=s,X.current=r,G.current={selectedRows:c,selectedCols:f,selectedCells:p},Z.current={setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const W=window.SpeechRecognition||window.webkitSpeechRecognition,Y=!!W,B=V.useCallback(re=>{if(!re.length)return!1;let oe=!1,Ie=[...X.current],ke=H.current.map(ye=>[...ye]);({...Z.current.setCellStyles});const he=G.current.selectedRows.size>0?"rows":G.current.selectedCols.size>0?"columns":G.current.selectedCells.size>0?"cells":"none";for(const ye of re)switch(ye.intent){case"color":if(ye.color){const Te={backgroundColor:ye.color};["white","yellow","pink"].includes(ye.color)&&(Te.color="#333"),["black","blue","purple","green","red"].includes(ye.color)&&(Te.color="#fff"),Z.current.setCellStyles(Re=>{const Ee={...Re},ve=(Me,Oe)=>{Ee[`${Me}:${Oe}`]={...Ee[`${Me}:${Oe}`]||{},...Te}};return he==="cells"?G.current.selectedCells.forEach(Me=>{const[Oe,qe]=Me.split(":").map(Number);ve(Oe,qe)}):he==="rows"?G.current.selectedRows.forEach(Me=>X.current.forEach((Oe,qe)=>ve(Number(Me),qe))):he==="columns"&&G.current.selectedCols.forEach(Me=>H.current.forEach((Oe,qe)=>ve(qe,Number(Me)))),Ee}),oe=!0}break;case"move":if(ye.movement&&he==="columns"&&G.current.selectedCols.size===1){const Te=Number(Array.from(G.current.selectedCols)[0]),Re=ye.movement==="right"?Te+1:Te-1;Re>=0&&Re<Ie.length&&([Ie[Te],Ie[Re]]=[Ie[Re],Ie[Te]],ke.forEach(Ee=>{[Ee[Te],Ee[Re]]=[Ee[Re],Ee[Te]]}),Z.current.setSelectedCols(new Set([Re])),oe=!0)}break;case"delete":case"clear":const _e=ye.intent==="delete";if(he==="rows")Array.from(G.current.selectedRows).sort((Re,Ee)=>Number(Ee)-Number(Re)).forEach(Re=>ke.splice(Number(Re),1)),Z.current.setSelectedRows(new Set),oe=!0;else if(he==="columns"){const Te=Array.from(G.current.selectedCols).sort((Re,Ee)=>Number(Ee)-Number(Re));_e&&Te.forEach(Re=>Ie.splice(Number(Re),1)),ke.forEach(Re=>{Te.forEach(Ee=>_e?Re.splice(Number(Ee),1):Re[Number(Ee)]="")}),Z.current.setSelectedCols(new Set),oe=!0}else he==="cells"&&(G.current.selectedCells.forEach(Te=>{const[Re,Ee]=Te.split(":").map(Number);ke[Re][Ee]=""}),oe=!0);break;case"sum":if(he==="columns"&&G.current.selectedCols.size===1){const Te=Number(Array.from(G.current.selectedCols)[0]),Re=ke.reduce((Me,Oe)=>Me+(Number(Oe[Te])||0),0),Ee=ke.findIndex(Me=>!Me[Te]),ve=Ee!==-1?Ee:ke.length;ve===ke.length&&ke.push(Array(Ie.length).fill("")),ke[ve][Te]=Re,oe=!0}break}return oe&&(Z.current.setHeaders(Ie),Z.current.setCurrentData(ke),Z.current.setSelectedRows(new Set),Z.current.setSelectedCols(new Set),Z.current.setSelectedCells(new Set)),oe},[]);V.useEffect(()=>{if(!Y)return;M.current=new W;const re=M.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>R(!0),re.onend=()=>{if(O.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(oe){console.error("Excel Studio: Could not restart recognition",oe),O.current=!1,R(!1)}}else R(!1)},re.onerror=oe=>{I(`   : ${oe.error}`),O.current=!1,R(!1)},re.onresult=oe=>{let Ie="";for(let he=oe.resultIndex;he<oe.results.length;++he)oe.results[he].isFinal&&(Ie+=oe.results[he][0].transcript);const ke=Ie.trim();if(ke&&t){const{actions:he}=h9e(ke,t);B(he)||C(_e=>(_e?_e+" ":"")+ke)}else ke&&C(he=>(he?he+" ":"")+ke)},()=>{M.current&&(O.current=!1,M.current.abort())}},[Y,t,B]);const j=()=>{const re=M.current;re&&(N?(O.current=!1,re.stop()):(I(""),O.current=!0,re.start()))},q=V.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),J=V.useMemo(()=>{const re=new Map;return q==="cells"&&Array.from(p).forEach((oe,Ie)=>{re.set(oe,Ie+1)}),re},[p,q]),Q=re=>{var ke;const oe=(ke=re.target.files)==null?void 0:ke[0];if(!oe)return;l(oe.name);const Ie=new FileReader;Ie.onload=he=>{var ye;try{const _e=new Uint8Array((ye=he.target)==null?void 0:ye.result),Te=AN(_e,{type:"array"}),Re=Te.SheetNames[0],Ee=Te.Sheets[Re],ve=Zx.sheet_to_json(Ee,{header:1});if(ve.length>0){const Me=ve[0].map(qe=>String(qe)),Oe=ve.slice(1).map(qe=>{const st=Array(Me.length).fill("");return qe.forEach((it,Ct)=>{Ct<st.length&&(st[Ct]=it)}),st});i(Me),n(JSON.parse(JSON.stringify(Oe))),a(Oe),ce()}else I("    .")}catch(_e){console.error(_e),_e instanceof Error?I(`    Excel: ${_e.message}`):I("    Excel.      .")}},Ie.readAsArrayBuffer(oe)},te=(re,oe,Ie)=>{const ke=Array.from({length:oe},(ye,_e)=>String.fromCharCode(65+_e)),he=Array.from({length:re},()=>Array(oe).fill(""));i(ke),a(he),n(JSON.parse(JSON.stringify(he))),l(Ie),ce(),D(!1)},ae=()=>{a(JSON.parse(JSON.stringify(e))),x({}),ce()},ce=()=>{u(new Set),h(new Set),v(new Set),y(null),C(""),I("")},ue=re=>{h(new Set),v(new Set),y(null),u(oe=>{const Ie=new Set(oe);return Ie.has(re)?Ie.delete(re):Ie.add(re),Ie})},Se=re=>{u(new Set),v(new Set),y(null),h(oe=>{const Ie=new Set(oe);return Ie.has(re)?Ie.delete(re):Ie.add(re),Ie})},Fe=(re,oe,Ie)=>{u(new Set),h(new Set),y(null);const ke=`${re}:${oe}`;v(he=>{const ye=Ie?new Set(he):new Set;return ye.has(ke)&&Ie?ye.delete(ke):ye.add(ke),ye})},fe=(re,oe)=>{y({rowIndex:re,colIndex:oe}),u(new Set),h(new Set),v(new Set)},Le=(re,oe,Ie)=>{const ke=JSON.parse(JSON.stringify(s));ke[oe][Ie]=re.target.value,a(ke)},z=()=>{y(null)},me=re=>{if(!g)return;const{rowIndex:oe,colIndex:Ie}=g;if(re.key==="Enter")re.preventDefault(),oe<s.length-1?y({rowIndex:oe+1,colIndex:Ie}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const ke=re.shiftKey?Ie-1:Ie+1;ke>=0&&ke<r.length?y({rowIndex:oe,colIndex:ke}):!re.shiftKey&&oe<s.length-1?y({rowIndex:oe+1,colIndex:0}):y(null)}},be=async()=>{if(q==="none"){I("         .");return}if(!w.trim()){I("    .");return}I(""),F(!0);try{const re=[];q==="cells"?Array.from(p).forEach((_e,Te)=>{const[Re,Ee]=_e.split(":").map(Number);re.push({value:String(s[Re][Ee]),rowIndex:Re,colIndex:Ee,header:r[Ee],cellNumber:Te+1})}):q==="rows"?Array.from(c).forEach(_e=>r.forEach((Te,Re)=>re.push({value:String(s[Number(_e)][Re]),rowIndex:Number(_e),colIndex:Re,header:Te}))):q==="columns"&&Array.from(f).forEach(_e=>s.forEach((Te,Re)=>re.push({value:String(Te[Number(_e)]),rowIndex:Re,colIndex:Number(_e),header:r[Number(_e)]})));const ke=(await l0e(w,re,q==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(ke))throw new Error("AI response format is incorrect.");let he=JSON.parse(JSON.stringify(s)),ye=JSON.parse(JSON.stringify(b));ke.forEach(_e=>{const{rowIndex:Te,colIndex:Re,newValue:Ee,backgroundColor:ve}=_e;typeof Te=="number"&&typeof Re=="number"&&(Ee!==void 0&&(he[Number(Te)][Number(Re)]=Ee),ve&&(ye[`${Te}:${Re}`]={...ye[`${Te}:${Re}`],backgroundColor:ve}))}),a(he),x(ye),ce()}catch(re){re instanceof Error?I(re.message):I("     .")}finally{F(!1)}},le=()=>{const re=Zx.aoa_to_sheet([r,...s]),oe=Zx.book_new();Zx.book_append_sheet(oe,re,"Sheet1"),YFe(oe,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(p9e,{onClose:()=>D(!1),onCreate:te}),d.jsx(GH,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx(Ml,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Q,className:"hidden"})]}),d.jsxs("button",{onClick:()=>D(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(dc,{}),d.jsx("span",{children:"   "})]})]}),A&&d.jsx("p",{className:"text-red-500 mt-4",children:A})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!Y,className:`p-3 rounded-full transition-colors ${Y?N?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:N?d.jsx(Cc,{}):d.jsx(mI,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:ae,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx(qge,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:le,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(lo,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(Oge,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,oe)=>d.jsx("th",{onClick:()=>Se(oe),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(oe)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+oe)},oe))]})}),d.jsx("tbody",{children:s.map((re,oe)=>d.jsxs("tr",{className:`${c.has(oe)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>ue(oe),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:oe+1}),re.map((Ie,ke)=>{const he=(g==null?void 0:g.rowIndex)===oe&&(g==null?void 0:g.colIndex)===ke,ye=`${oe}:${ke}`,_e=b[ye]||{},Te=p.has(ye);let Re="border-b border-l border-gray-300 text-black relative";return he?Re+=" p-0":(Re+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",Te?Re+=" bg-green-200":(c.has(oe)||f.has(ke))&&(Re+=" bg-green-100")),d.jsx("td",{style:_e,className:Re,title:he?void 0:Ie,onClick:Ee=>!he&&Fe(oe,ke,Ee.ctrlKey||Ee.metaKey),onDoubleClick:()=>fe(oe,ke),children:he?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:Ie||"",onChange:Ee=>Le(Ee,oe,ke),onBlur:z,onKeyDown:me,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[Te&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:J.get(ye)}),Ie]})},ke)})]},oe))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>C(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:S})}),d.jsxs("button",{onClick:be,disabled:S||q==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[S?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:S?" ...":"  "})]})]}),A&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:A})]})})]})};var za={},w6="1.13.7",vL=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Qw=Array.prototype,T6=Object.prototype,xL=typeof Symbol<"u"?Symbol.prototype:null,g9e=Qw.push,a1=Qw.slice,lv=T6.toString,y9e=T6.hasOwnProperty,WX=typeof ArrayBuffer<"u",v9e=typeof DataView<"u",x9e=Array.isArray,bL=Object.keys,_L=Object.create,wL=WX&&ArrayBuffer.isView,b9e=isNaN,_9e=isFinite,qX=!{toString:null}.propertyIsEnumerable("toString"),TL=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w9e=Math.pow(2,53)-1;function Ws(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function md(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function $X(t){return t===null}function E6(t){return t===void 0}function C6(t){return t===!0||t===!1||lv.call(t)==="[object Boolean]"}function zX(t){return!!(t&&t.nodeType===1)}function Ds(t){var e="[object "+t+"]";return function(n){return lv.call(n)===e}}const Zw=Ds("String"),S6=Ds("Number"),HX=Ds("Date"),GX=Ds("RegExp"),KX=Ds("Error"),D6=Ds("Symbol"),A6=Ds("ArrayBuffer");var JX=Ds("Function"),T9e=vL.document&&vL.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof T9e!="function"&&(JX=function(t){return typeof t=="function"||!1});const Es=JX,XX=Ds("Object");var YX=v9e&&(!/\[native code\]/.test(String(DataView))||XX(new DataView(new ArrayBuffer(8)))),N6=typeof Map<"u"&&XX(new Map),E9e=Ds("DataView");function C9e(t){return t!=null&&Es(t.getInt8)&&A6(t.buffer)}const cv=YX?C9e:E9e,gd=x9e||Ds("Array");function yd(t,e){return t!=null&&y9e.call(t,e)}var NN=Ds("Arguments");(function(){NN(arguments)||(NN=function(t){return yd(t,"callee")})})();const eT=NN;function QX(t){return!D6(t)&&_9e(t)&&!isNaN(parseFloat(t))}function k6(t){return S6(t)&&b9e(t)}function I6(t){return function(){return t}}function ZX(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=w9e}}function eY(t){return function(e){return e==null?void 0:e[t]}}const h_=eY("byteLength"),S9e=ZX(h_);var D9e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function A9e(t){return wL?wL(t)&&!cv(t):S9e(t)&&D9e.test(lv.call(t))}const P6=WX?A9e:I6(!1),ca=eY("length");function N9e(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function tY(t,e){e=N9e(e);var n=TL.length,r=t.constructor,i=Es(r)&&r.prototype||T6,s="constructor";for(yd(t,s)&&!e.contains(s)&&e.push(s);n--;)s=TL[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Ci(t){if(!md(t))return[];if(bL)return bL(t);var e=[];for(var n in t)yd(t,n)&&e.push(n);return qX&&tY(t,e),e}function nY(t){if(t==null)return!0;var e=ca(t);return typeof e=="number"&&(gd(t)||Zw(t)||eT(t))?e===0:ca(Ci(t))===0}function R6(t,e){var n=Ci(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Bn(t){if(t instanceof Bn)return t;if(!(this instanceof Bn))return new Bn(t);this._wrapped=t}Bn.VERSION=w6;Bn.prototype.value=function(){return this._wrapped};Bn.prototype.valueOf=Bn.prototype.toJSON=Bn.prototype.value;Bn.prototype.toString=function(){return String(this._wrapped)};function EL(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,h_(t))}var CL="[object DataView]";function kN(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:rY(t,e,n,r)}function rY(t,e,n,r){t instanceof Bn&&(t=t._wrapped),e instanceof Bn&&(e=e._wrapped);var i=lv.call(t);if(i!==lv.call(e))return!1;if(YX&&i=="[object Object]"&&cv(t)){if(!cv(e))return!1;i=CL}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return xL.valueOf.call(t)===xL.valueOf.call(e);case"[object ArrayBuffer]":case CL:return rY(EL(t),EL(e),n,r)}var s=i==="[object Array]";if(!s&&P6(t)){var a=h_(t);if(a!==h_(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(Es(o)&&o instanceof o&&Es(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!kN(t[c],e[c],n,r))return!1}else{var u=Ci(t),f;if(c=u.length,Ci(e).length!==c)return!1;for(;c--;)if(f=u[c],!(yd(e,f)&&kN(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function iY(t,e){return kN(t,e)}function lg(t){if(!md(t))return[];var e=[];for(var n in t)e.push(n);return qX&&tY(t,e),e}function F6(t){var e=ca(t);return function(n){if(n==null)return!1;var r=lg(n);if(ca(r))return!1;for(var i=0;i<e;i++)if(!Es(n[t[i]]))return!1;return t!==oY||!Es(n[M6])}}var M6="forEach",sY="has",O6=["clear","delete"],aY=["get",sY,"set"],k9e=O6.concat(M6,aY),oY=O6.concat(aY),I9e=["add"].concat(O6,M6,sY);const lY=N6?F6(k9e):Ds("Map"),cY=N6?F6(oY):Ds("WeakMap"),uY=N6?F6(I9e):Ds("Set"),dY=Ds("WeakSet");function yh(t){for(var e=Ci(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function fY(t){for(var e=Ci(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function U6(t){for(var e={},n=Ci(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function uv(t){var e=[];for(var n in t)Es(t[n])&&e.push(n);return e.sort()}function L6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const j6=L6(lg),Am=L6(Ci),B6=L6(lg,!0);function P9e(){return function(){}}function hY(t){if(!md(t))return{};if(_L)return _L(t);var e=P9e();e.prototype=t;var n=new e;return e.prototype=null,n}function pY(t,e){var n=hY(t);return e&&Am(n,e),n}function mY(t){return md(t)?gd(t)?t.slice():j6({},t):t}function gY(t,e){return e(t),t}function V6(t){return gd(t)?t:[t]}Bn.toPath=V6;function o1(t){return Bn.toPath(t)}function W6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function q6(t,e,n){var r=W6(t,o1(e));return E6(r)?n:r}function yY(t,e){e=o1(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!yd(t,i))return!1;t=t[i]}return!!n}function tT(t){return t}function Jf(t){return t=Am({},t),function(e){return R6(e,t)}}function nT(t){return t=o1(t),function(e){return W6(e,t)}}function l1(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function vY(t,e,n){return t==null?tT:Es(t)?l1(t,e,n):md(t)&&!gd(t)?Jf(t):nT(t)}function rT(t,e){return vY(t,e,1/0)}Bn.iteratee=rT;function fa(t,e,n){return Bn.iteratee!==rT?Bn.iteratee(t,e):vY(t,e,n)}function xY(t,e,n){e=fa(e,n);for(var r=Ci(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function $6(){}function bY(t){return t==null?$6:function(e){return q6(t,e)}}function _Y(t,e,n){var r=Array(Math.max(0,t));e=l1(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function p_(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Nm=Date.now||function(){return new Date().getTime()};function wY(t){var e=function(s){return t[s]},n="(?:"+Ci(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const TY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},EY=wY(TY),R9e=U6(TY),CY=wY(R9e),SY=Bn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I4=/(.)^/,F9e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M9e=/\\|'|\r|\n|\u2028|\u2029/g;function O9e(t){return"\\"+F9e[t]}var U9e=/^\s*(\w|\$)+\s*$/;function DY(t,e,n){!e&&n&&(e=n),e=B6({},e,Bn.templateSettings);var r=RegExp([(e.escape||I4).source,(e.interpolate||I4).source,(e.evaluate||I4).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(M9e,O9e),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!U9e.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Bn)};return l.source="function("+a+`){
`+s+"}",l}function AY(t,e,n){e=o1(e);var r=e.length;if(!r)return Es(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=Es(s)?s.call(t):s}return t}var L9e=0;function NY(t){var e=++L9e+"";return t?t+e:e}function kY(t){var e=Bn(t);return e._chain=!0,e}function IY(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=hY(t.prototype),a=t.apply(s,i);return md(a)?a:s}var vh=Ws(function(t,e){var n=vh.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return IY(t,r,this,this,a)};return r});vh.placeholder=Bn;const z6=Ws(function(t,e,n){if(!Es(t))throw new TypeError("Bind must be called on a function");var r=Ws(function(i){return IY(t,r,e,this,n.concat(i))});return r}),Fa=ZX(ca);function xh(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=ca(t);s<a;s++){var o=t[s];if(Fa(o)&&(gd(o)||eT(o)))if(e>1)xh(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const PY=Ws(function(t,e){e=xh(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=z6(t[r],t)}return t});function RY(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return yd(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const H6=Ws(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),FY=vh(H6,Bn,1);function MY(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Nm(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=Nm();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function OY(t,e,n){var r,i,s,a,o,l=function(){var u=Nm()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=Ws(function(u){return o=this,s=u,i=Nm(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function UY(t,e){return vh(e,t)}function iT(t){return function(){return!t.apply(this,arguments)}}function LY(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function jY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function G6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const BY=vh(G6,2);function K6(t,e,n){e=fa(e,n);for(var r=Ci(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function VY(t){return function(e,n,r){n=fa(n,r);for(var i=ca(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const sT=VY(1),J6=VY(-1);function X6(t,e,n,r){n=fa(n,r,1);for(var i=n(e),s=0,a=ca(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function WY(t,e,n){return function(r,i,s){var a=0,o=ca(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(a1.call(r,a,o),k6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const Y6=WY(1,sT,X6),qY=WY(-1,J6);function dv(t,e,n){var r=Fa(t)?sT:K6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function $Y(t,e){return dv(t,Jf(e))}function $o(t,e,n){e=l1(e,n);var r,i;if(Fa(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=Ci(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function Dc(t,e,n){e=fa(e,n);for(var r=!Fa(t)&&Ci(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function zY(t){var e=function(n,r,i,s){var a=!Fa(n)&&Ci(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,l1(r,s,4),i,a)}}const $p=zY(1),m_=zY(-1);function nd(t,e,n){var r=[];return e=fa(e,n),$o(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function HY(t,e,n){return nd(t,iT(fa(e)),n)}function g_(t,e,n){e=fa(e,n);for(var r=!Fa(t)&&Ci(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function y_(t,e,n){e=fa(e,n);for(var r=!Fa(t)&&Ci(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function so(t,e,n,r){return Fa(t)||(t=yh(t)),(typeof n!="number"||r)&&(n=0),Y6(t,e,n)>=0}const GY=Ws(function(t,e,n){var r,i;return Es(e)?i=e:(e=o1(e),r=e.slice(0,-1),e=e[e.length-1]),Dc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=W6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function aT(t,e){return Dc(t,nT(e))}function KY(t,e){return nd(t,Jf(e))}function Q6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Fa(t)?t:yh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=fa(e,n),$o(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function JY(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Fa(t)?t:yh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=fa(e,n),$o(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var j9e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Z6(t){return t?gd(t)?a1.call(t):Zw(t)?t.match(j9e):Fa(t)?Dc(t,tT):yh(t):[]}function e5(t,e,n){if(e==null||n)return Fa(t)||(t=yh(t)),t[p_(t.length-1)];var r=Z6(t),i=ca(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=p_(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function XY(t){return e5(t,1/0)}function YY(t,e,n){var r=0;return e=fa(e,n),aT(Dc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function oT(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=fa(r,i),$o(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const QY=oT(function(t,e,n){yd(t,n)?t[n].push(e):t[n]=[e]}),ZY=oT(function(t,e,n){t[n]=e}),eQ=oT(function(t,e,n){yd(t,n)?t[n]++:t[n]=1}),tQ=oT(function(t,e,n){t[n?0:1].push(e)},!0);function nQ(t){return t==null?0:Fa(t)?t.length:Ci(t).length}function B9e(t,e,n){return e in n}const t5=Ws(function(t,e){var n={},r=e[0];if(t==null)return n;Es(r)?(e.length>1&&(r=l1(r,e[1])),e=lg(t)):(r=B9e,e=xh(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),rQ=Ws(function(t,e){var n=e[0],r;return Es(n)?(n=iT(n),e.length>1&&(r=e[1])):(e=Dc(xh(e,!1,!1),String),n=function(i,s){return!so(e,s)}),t5(t,n,r)});function n5(t,e,n){return a1.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function zp(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:n5(t,t.length-e)}function wf(t,e,n){return a1.call(t,e==null||n?1:e)}function iQ(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:wf(t,Math.max(0,t.length-e))}function sQ(t){return nd(t,Boolean)}function aQ(t,e){return xh(t,e,!1)}const r5=Ws(function(t,e){return e=xh(e,!0,!0),nd(t,function(n){return!so(e,n)})}),oQ=Ws(function(t,e){return r5(t,e)});function fv(t,e,n,r){C6(e)||(r=n,n=e,e=!1),n!=null&&(n=fa(n,r));for(var i=[],s=[],a=0,o=ca(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?so(s,c)||(s.push(c),i.push(l)):so(i,l)||i.push(l)}return i}const lQ=Ws(function(t){return fv(xh(t,!0,!0))});function cQ(t){for(var e=[],n=arguments.length,r=0,i=ca(t);r<i;r++){var s=t[r];if(!so(e,s)){var a;for(a=1;a<n&&so(arguments[a],s);a++);a===n&&e.push(s)}}return e}function hv(t){for(var e=t&&Q6(t,ca).length||0,n=Array(e),r=0;r<e;r++)n[r]=aT(t,r);return n}const uQ=Ws(hv);function dQ(t,e){for(var n={},r=0,i=ca(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function fQ(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function hQ(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(a1.call(t,r,r+=e));return n}function i5(t,e){return t._chain?Bn(e).chain():e}function s5(t){return $o(uv(t),function(e){var n=Bn[e]=t[e];Bn.prototype[e]=function(){var r=[this._wrapped];return g9e.apply(r,arguments),i5(this,n.apply(Bn,r))}}),Bn}$o(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Qw[t];Bn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),i5(this,n)}});$o(["concat","join","slice"],function(t){var e=Qw[t];Bn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),i5(this,n)}});const V9e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:w6,after:jY,all:g_,allKeys:lg,any:y_,assign:Am,before:G6,bind:z6,bindAll:PY,chain:kY,chunk:hQ,clone:mY,collect:Dc,compact:sQ,compose:LY,constant:I6,contains:so,countBy:eQ,create:pY,debounce:OY,default:Bn,defaults:B6,defer:FY,delay:H6,detect:dv,difference:r5,drop:wf,each:$o,escape:EY,every:g_,extend:j6,extendOwn:Am,filter:nd,find:dv,findIndex:sT,findKey:K6,findLastIndex:J6,findWhere:$Y,first:zp,flatten:aQ,foldl:$p,foldr:m_,forEach:$o,functions:uv,get:q6,groupBy:QY,has:yY,head:zp,identity:tT,include:so,includes:so,indexBy:ZY,indexOf:Y6,initial:n5,inject:$p,intersection:cQ,invert:U6,invoke:GY,isArguments:eT,isArray:gd,isArrayBuffer:A6,isBoolean:C6,isDataView:cv,isDate:HX,isElement:zX,isEmpty:nY,isEqual:iY,isError:KX,isFinite:QX,isFunction:Es,isMap:lY,isMatch:R6,isNaN:k6,isNull:$X,isNumber:S6,isObject:md,isRegExp:GX,isSet:uY,isString:Zw,isSymbol:D6,isTypedArray:P6,isUndefined:E6,isWeakMap:cY,isWeakSet:dY,iteratee:rT,keys:Ci,last:iQ,lastIndexOf:qY,map:Dc,mapObject:xY,matcher:Jf,matches:Jf,max:Q6,memoize:RY,methods:uv,min:JY,mixin:s5,negate:iT,noop:$6,now:Nm,object:dQ,omit:rQ,once:BY,pairs:fY,partial:vh,partition:tQ,pick:t5,pluck:aT,property:nT,propertyOf:bY,random:p_,range:fQ,reduce:$p,reduceRight:m_,reject:HY,rest:wf,restArguments:Ws,result:AY,sample:e5,select:nd,shuffle:XY,size:nQ,some:y_,sortBy:YY,sortedIndex:X6,tail:wf,take:zp,tap:gY,template:DY,templateSettings:SY,throttle:MY,times:_Y,toArray:Z6,toPath:V6,transpose:hv,unescape:CY,union:lQ,uniq:fv,unique:fv,uniqueId:NY,unzip:hv,values:yh,where:KY,without:oQ,wrap:UY,zip:uQ},Symbol.toStringTag,{value:"Module"}));var IN=s5(V9e);IN._=IN;const W9e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:w6,after:jY,all:g_,allKeys:lg,any:y_,assign:Am,before:G6,bind:z6,bindAll:PY,chain:kY,chunk:hQ,clone:mY,collect:Dc,compact:sQ,compose:LY,constant:I6,contains:so,countBy:eQ,create:pY,debounce:OY,default:IN,defaults:B6,defer:FY,delay:H6,detect:dv,difference:r5,drop:wf,each:$o,escape:EY,every:g_,extend:j6,extendOwn:Am,filter:nd,find:dv,findIndex:sT,findKey:K6,findLastIndex:J6,findWhere:$Y,first:zp,flatten:aQ,foldl:$p,foldr:m_,forEach:$o,functions:uv,get:q6,groupBy:QY,has:yY,head:zp,identity:tT,include:so,includes:so,indexBy:ZY,indexOf:Y6,initial:n5,inject:$p,intersection:cQ,invert:U6,invoke:GY,isArguments:eT,isArray:gd,isArrayBuffer:A6,isBoolean:C6,isDataView:cv,isDate:HX,isElement:zX,isEmpty:nY,isEqual:iY,isError:KX,isFinite:QX,isFunction:Es,isMap:lY,isMatch:R6,isNaN:k6,isNull:$X,isNumber:S6,isObject:md,isRegExp:GX,isSet:uY,isString:Zw,isSymbol:D6,isTypedArray:P6,isUndefined:E6,isWeakMap:cY,isWeakSet:dY,iteratee:rT,keys:Ci,last:iQ,lastIndexOf:qY,map:Dc,mapObject:xY,matcher:Jf,matches:Jf,max:Q6,memoize:RY,methods:uv,min:JY,mixin:s5,negate:iT,noop:$6,now:Nm,object:dQ,omit:rQ,once:BY,pairs:fY,partial:vh,partition:tQ,pick:t5,pluck:aT,property:nT,propertyOf:bY,random:p_,range:fQ,reduce:$p,reduceRight:m_,reject:HY,rest:wf,restArguments:Ws,result:AY,sample:e5,select:nd,shuffle:XY,size:nQ,some:y_,sortBy:YY,sortedIndex:X6,tail:wf,take:zp,tap:gY,template:DY,templateSettings:SY,throttle:MY,times:_Y,toArray:Z6,toPath:V6,transpose:hv,unescape:CY,union:lQ,uniq:fv,unique:fv,uniqueId:NY,unzip:hv,values:yh,where:KY,without:oQ,wrap:UY,zip:uQ},Symbol.toStringTag,{value:"Module"})),oi=FZ(W9e);var e2={},Ha={},P4={exports:{}},t2={exports:{}},SL;function cg(){if(SL)return t2.exports;SL=1;var t=(function(){return this===void 0})();if(t)t2.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};t2.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return t2.exports}var l0,DL;function ur(){if(DL)return l0;DL=1;var t={},e=cg(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof ys<"u"?ys:l0!==void 0?l0:null;function a(){try{var q=i;return i=null,q.apply(this,arguments)}catch(J){return r.e=J,r}}function o(q){return i=q,a}var l=function(q,J){var Q={}.hasOwnProperty;function te(){this.constructor=q,this.constructor$=J;for(var ae in J.prototype)Q.call(J.prototype,ae)&&ae.charAt(ae.length-1)!=="$"&&(this[ae+"$"]=J.prototype[ae])}return te.prototype=J.prototype,q.prototype=new te,q.prototype};function c(q){return q==null||q===!0||q===!1||typeof q=="string"||typeof q=="number"}function u(q){return typeof q=="function"||typeof q=="object"&&q!==null}function f(q){return c(q)?new Error(A(q)):q}function h(q,J){var Q=q.length,te=new Array(Q+1),ae;for(ae=0;ae<Q;++ae)te[ae]=q[ae];return te[ae]=J,te}function p(q,J,Q){if(e.isES5){var te=Object.getOwnPropertyDescriptor(q,J);if(te!=null)return te.get==null&&te.set==null?te.value:Q}else return{}.hasOwnProperty.call(q,J)?q[J]:void 0}function v(q,J,Q){if(c(q))return q;var te={value:Q,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(q,J,te),q}function g(q){throw q}var y=(function(){var q=[Array.prototype,Object.prototype,Function.prototype],J=function(ae){for(var ce=0;ce<q.length;++ce)if(q[ce]===ae)return!0;return!1};if(e.isES5){var Q=Object.getOwnPropertyNames;return function(ae){for(var ce=[],ue=Object.create(null);ae!=null&&!J(ae);){var Se;try{Se=Q(ae)}catch{return ce}for(var Fe=0;Fe<Se.length;++Fe){var fe=Se[Fe];if(!ue[fe]){ue[fe]=!0;var Le=Object.getOwnPropertyDescriptor(ae,fe);Le!=null&&Le.get==null&&Le.set==null&&ce.push(fe)}}ae=e.getPrototypeOf(ae)}return ce}}else{var te={}.hasOwnProperty;return function(ae){if(J(ae))return[];var ce=[];e:for(var ue in ae)if(te.call(ae,ue))ce.push(ue);else{for(var Se=0;Se<q.length;++Se)if(te.call(q[Se],ue))continue e;ce.push(ue)}return ce}}})(),b=/this\s*\.\s*\S+\s*=/;function x(q){try{if(typeof q=="function"){var J=e.names(q.prototype),Q=e.isES5&&J.length>1,te=J.length>0&&!(J.length===1&&J[0]==="constructor"),ae=b.test(q+"")&&e.names(q).length>0;if(Q||te||ae)return!0}return!1}catch{return!1}}function w(q){return q}var C=/^[a-z$_][a-z$_0-9]*$/i;function S(q){return C.test(q)}function F(q,J,Q){for(var te=new Array(q),ae=0;ae<q;++ae)te[ae]=J+ae+Q;return te}function A(q){try{return q+""}catch{return"[no string representation]"}}function I(q){return q!==null&&typeof q=="object"&&typeof q.message=="string"&&typeof q.name=="string"}function N(q){try{v(q,"isOperational",!0)}catch{}}function R(q){return q==null?!1:q instanceof Error.__BluebirdErrorTypes__.OperationalError||q.isOperational===!0}function P(q){return I(q)&&e.propertyIsWritable(q,"stack")}var D=(function(){return"stack"in new Error?function(q){return P(q)?q:new Error(A(q))}:function(q){if(P(q))return q;try{throw new Error(A(q))}catch(J){return J}}})();function M(q){return{}.toString.call(q)}function O(q,J,Q){for(var te=e.names(q),ae=0;ae<te.length;++ae){var ce=te[ae];if(Q(ce))try{e.defineProperty(J,ce,e.getDescriptor(q,ce))}catch{}}}var H=function(q){return e.isArray(q)?q:null};if(typeof Symbol<"u"&&Symbol.iterator){var X=typeof Array.from=="function"?function(q){return Array.from(q)}:function(q){for(var J=[],Q=q[Symbol.iterator](),te;!(te=Q.next()).done;)J.push(te.value);return J};H=function(q){return e.isArray(q)?q:q!=null&&typeof q[Symbol.iterator]=="function"?X(q):null}}var G=typeof process<"u"&&M(process).toLowerCase()==="[object process]",Z=typeof process<"u"&&typeof t<"u";function W(q){return Z?t[q]:void 0}function Y(){if(typeof Promise=="function")try{var q=new Promise(function(){});if({}.toString.call(q)==="[object Promise]")return Promise}catch{}}function B(q,J){return q.bind(J)}var j={isClass:x,isIdentifier:S,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:H,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:I,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:F,toString:A,canAttachTrace:P,ensureErrorObject:D,originatesFromRejection:R,markAsOriginatingFromRejection:N,classString:M,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:G,hasEnvVariables:Z,env:W,global:s,getNativePromise:Y,domainBind:B};j.isRecentNode=j.isNode&&(function(){var q=process.versions.node.split(".").map(Number);return q[0]===0&&q[1]>10||q[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(q){j.lastLineError=q}return l0=j,l0}var n2={exports:{}},R4,AL;function q9e(){if(AL)return R4;AL=1;var t=ur(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=ys.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(ys,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return R4=e,R4}var F4,NL;function $9e(){if(NL)return F4;NL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},F4=e,F4}var kL;function z9e(){if(kL)return n2.exports;kL=1;var t;try{throw new Error}catch(l){t=l}var e=q9e(),n=$9e(),r=ur();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n2.exports=i,n2.exports.firstLineError=t,n2.exports}var M4,IL;function rd(){if(IL)return M4;IL=1;var t=cg(),e=t.freeze,n=ur(),r=n.inherits,i=n.notEnumerableProp;function s(b,x){function w(C){if(!(this instanceof w))return new w(C);i(this,"message",typeof C=="string"?C:x),i(this,"name",b),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var b=Array(v*4+1).join(" "),x=`
`+b+`AggregateError of:
`;v++,b=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var C=this[w]===this?"[Circular AggregateError]":this[w]+"",S=C.split(`
`),F=0;F<S.length;++F)S[F]=b+S[F];C=S.join(`
`),x+=C+`
`}return v--,x};function g(b){if(!(this instanceof g))return new g(b);i(this,"name","OperationalError"),i(this,"message",b),this.cause=b,this.isOperational=!0,b instanceof Error?(i(this,"message",b.message),i(this,"stack",b.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),M4={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},M4}var O4,PL;function H9e(){return PL||(PL=1,O4=function(t,e){var n=ur(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,b=n.tryCatch(h).call(f,x,w);y=!1,v&&b===r&&(v._rejectCallback(b.e,!0,!0),v=null);function x(C){v&&(v._resolveCallback(C),v=null)}function w(C){v&&(v._rejectCallback(C,y,!0),v=null)}return g}return s}),O4}var U4,RL;function G9e(){return RL||(RL=1,U4=function(t,e,n,r,i){var s=ur();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),U4}var L4,FL;function K9e(){return FL||(FL=1,L4=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),L4}var j4,ML;function J9e(){return ML||(ML=1,j4=function(t,e){var n=t._getDomain,r=t._async,i=rd().Warning,s=ur(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),b=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),x=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ye=this._target();ye._bitField=ye._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){fe("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ye=this._settledValue();this._setUnhandledRejectionIsNotified(),fe("unhandledRejection",l,ye,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ye,_e,Te){return J(ye,_e,Te||this)},t.onPossiblyUnhandledRejection=function(ye){var _e=n();l=typeof ye=="function"?_e===null?ye:s.domainBind(_e,ye):void 0},t.onUnhandledRejectionHandled=function(ye){var _e=n();o=typeof ye=="function"?_e===null?ye:s.domainBind(_e,ye):void 0};var C=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!he.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!he.longStackTraces&&me()){var ye=t.prototype._captureStackTrace,_e=t.prototype._attachExtraTrace;he.longStackTraces=!0,C=function(){if(r.haveItemsQueued()&&!he.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ye,t.prototype._attachExtraTrace=_e,e.deactivateLongStackTraces(),r.enableTrampoline(),he.longStackTraces=!1},t.prototype._captureStackTrace=Y,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return he.longStackTraces&&me()};var S=(function(){try{if(typeof CustomEvent=="function"){var ye=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ye),function(_e,Te){var Re=new CustomEvent(_e.toLowerCase(),{detail:Te,cancelable:!0});return!s.global.dispatchEvent(Re)}}else if(typeof Event=="function"){var ye=new Event("CustomEvent");return s.global.dispatchEvent(ye),function(Te,Re){var Ee=new Event(Te.toLowerCase(),{cancelable:!0});return Ee.detail=Re,!s.global.dispatchEvent(Ee)}}else{var ye=document.createEvent("CustomEvent");return ye.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ye),function(Te,Re){var Ee=document.createEvent("CustomEvent");return Ee.initCustomEvent(Te.toLowerCase(),!1,!0,Re),!s.global.dispatchEvent(Ee)}}}catch{}return function(){return!1}})(),F=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ye){var _e="on"+ye.toLowerCase(),Te=s.global[_e];return Te?(Te.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function A(ye,_e){return{promise:_e}}var I={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(ye,_e,Te){return{promise:_e,child:Te}},warning:function(ye,_e){return{warning:_e}},unhandledRejection:function(ye,_e,Te){return{reason:_e,promise:Te}},rejectionHandled:A},N=function(ye){var _e=!1;try{_e=F.apply(null,arguments)}catch(Re){r.throwLater(Re),_e=!0}var Te=!1;try{Te=S(ye,I[ye].apply(null,arguments))}catch(Re){r.throwLater(Re),Te=!0}return Te||_e};t.config=function(ye){if(ye=Object(ye),"longStackTraces"in ye&&(ye.longStackTraces?t.longStackTraces():!ye.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in ye){var _e=ye.warnings;he.warnings=!!_e,w=he.warnings,s.isObject(_e)&&"wForgottenReturn"in _e&&(w=!!_e.wForgottenReturn)}if("cancellation"in ye&&ye.cancellation&&!he.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=H,t.prototype._propagateFrom=X,t.prototype._onCancel=M,t.prototype._setOnCancel=O,t.prototype._attachCancellationCallback=D,t.prototype._execute=P,Z=X,he.cancellation=!0}return"monitoring"in ye&&(ye.monitoring&&!he.monitoring?(he.monitoring=!0,t.prototype._fireEvent=N):!ye.monitoring&&he.monitoring&&(he.monitoring=!1,t.prototype._fireEvent=R)),t};function R(){return!1}t.prototype._fireEvent=R,t.prototype._execute=function(ye,_e,Te){try{ye(_e,Te)}catch(Re){return Re}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ye){},t.prototype._attachCancellationCallback=function(ye){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ye,_e){};function P(ye,_e,Te){var Re=this;try{ye(_e,Te,function(Ee){if(typeof Ee!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ee));Re._attachCancellationCallback(Ee)})}catch(Ee){return Ee}}function D(ye){if(!this._isCancellable())return this;var _e=this._onCancel();_e!==void 0?s.isArray(_e)?_e.push(ye):this._setOnCancel([_e,ye]):this._setOnCancel(ye)}function M(){return this._onCancelField}function O(ye){this._onCancelField=ye}function H(){this._cancellationParent=void 0,this._onCancelField=void 0}function X(ye,_e){if((_e&1)!==0){this._cancellationParent=ye;var Te=ye._branchesRemainingToCancel;Te===void 0&&(Te=0),ye._branchesRemainingToCancel=Te+1}(_e&2)!==0&&ye._isBound()&&this._setBoundTo(ye._boundTo)}function G(ye,_e){(_e&2)!==0&&ye._isBound()&&this._setBoundTo(ye._boundTo)}var Z=G;function W(){var ye=this._boundTo;return ye!==void 0&&ye instanceof t?ye.isFulfilled()?ye.value():void 0:ye}function Y(){this._trace=new Ie(this._peekContext())}function B(ye,_e){if(a(ye)){var Te=this._trace;if(Te!==void 0&&_e&&(Te=Te._parent),Te!==void 0)Te.attachExtraTrace(ye);else if(!ye.__stackCleaned__){var Re=Se(ye);s.notEnumerableProp(ye,"stack",Re.message+`
`+Re.stack.join(`
`)),s.notEnumerableProp(ye,"__stackCleaned__",!0)}}}function j(ye,_e,Te,Re,Ee){if(ye===void 0&&_e!==null&&w){if(Ee!==void 0&&Ee._returnedNonUndefined()||(Re._bitField&65535)===0)return;Te&&(Te=Te+" ");var ve="",Me="";if(_e._trace){for(var Oe=_e._trace.stack.split(`
`),qe=ce(Oe),st=qe.length-1;st>=0;--st){var it=qe[st];if(!u.test(it)){var Ct=it.match(f);Ct&&(ve="at "+Ct[1]+":"+Ct[2]+":"+Ct[3]+" ");break}}if(qe.length>0){for(var Wt=qe[0],st=0;st<Oe.length;++st)if(Oe[st]===Wt){st>0&&(Me=`
`+Oe[st-1]);break}}}var $t="a promise was created in a "+Te+"handler "+ve+"but was not returned from it, see http://goo.gl/rRqMUw"+Me;Re._warn($t,!0,_e)}}function q(ye,_e){var Te=ye+" is deprecated and will be removed in a future version.";return _e&&(Te+=" Use "+_e+" instead."),J(Te)}function J(ye,_e,Te){if(he.warnings){var Re=new i(ye),Ee;if(_e)Te._attachExtraTrace(Re);else if(he.longStackTraces&&(Ee=t._peekContext()))Ee.attachExtraTrace(Re);else{var ve=Se(Re);Re.stack=ve.message+`
`+ve.stack.join(`
`)}N("warning",Re)||Fe(Re,"",!0)}}function Q(ye,_e){for(var Te=0;Te<_e.length-1;++Te)_e[Te].push("From previous event:"),_e[Te]=_e[Te].join(`
`);return Te<_e.length&&(_e[Te]=_e[Te].join(`
`)),ye+`
`+_e.join(`
`)}function te(ye){for(var _e=0;_e<ye.length;++_e)(ye[_e].length===0||_e+1<ye.length&&ye[_e][0]===ye[_e+1][0])&&(ye.splice(_e,1),_e--)}function ae(ye){for(var _e=ye[0],Te=1;Te<ye.length;++Te){for(var Re=ye[Te],Ee=_e.length-1,ve=_e[Ee],Me=-1,Oe=Re.length-1;Oe>=0;--Oe)if(Re[Oe]===ve){Me=Oe;break}for(var Oe=Me;Oe>=0;--Oe){var qe=Re[Oe];if(_e[Ee]===qe)_e.pop(),Ee--;else break}_e=Re}}function ce(ye){for(var _e=[],Te=0;Te<ye.length;++Te){var Re=ye[Te],Ee=Re==="    (No stack trace)"||h.test(Re),ve=Ee&&be(Re);Ee&&!ve&&(v&&Re.charAt(0)!==" "&&(Re="    "+Re),_e.push(Re))}return _e}function ue(ye){for(var _e=ye.stack.replace(/\s+$/g,"").split(`
`),Te=0;Te<_e.length;++Te){var Re=_e[Te];if(Re==="    (No stack trace)"||h.test(Re))break}return Te>0&&ye.name!="SyntaxError"&&(_e=_e.slice(Te)),_e}function Se(ye){var _e=ye.stack,Te=ye.toString();return _e=typeof _e=="string"&&_e.length>0?ue(ye):["    (No stack trace)"],{message:Te,stack:ye.name=="SyntaxError"?_e:ce(_e)}}function Fe(ye,_e,Te){if(typeof console<"u"){var Re;if(s.isObject(ye)){var Ee=ye.stack;Re=_e+p(Ee,ye)}else Re=_e+String(ye);typeof g=="function"?g(Re,Te):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Re)}}function fe(ye,_e,Te,Re){var Ee=!1;try{typeof _e=="function"&&(Ee=!0,ye==="rejectionHandled"?_e(Re):_e(Te,Re))}catch(ve){r.throwLater(ve)}ye==="unhandledRejection"?!N(ye,Te,Re)&&!Ee&&Fe(Te,"Unhandled rejection "):N(ye,Re)}function Le(ye){var _e;if(typeof ye=="function")_e="[function "+(ye.name||"anonymous")+"]";else{_e=ye&&typeof ye.toString=="function"?ye.toString():s.toString(ye);var Te=/\[object [a-zA-Z0-9$_]+\]/;if(Te.test(_e))try{var Re=JSON.stringify(ye);_e=Re}catch{}_e.length===0&&(_e="(empty array)")}return"(<"+z(_e)+">, no stack trace)"}function z(ye){var _e=41;return ye.length<_e?ye:ye.substr(0,_e-3)+"..."}function me(){return typeof ke=="function"}var be=function(){return!1},le=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(ye){var _e=ye.match(le);if(_e)return{fileName:_e[1],line:parseInt(_e[2],10)}}function oe(ye,_e){if(me()){for(var Te=ye.stack.split(`
`),Re=_e.stack.split(`
`),Ee=-1,ve=-1,Me,Oe,qe=0;qe<Te.length;++qe){var st=re(Te[qe]);if(st){Me=st.fileName,Ee=st.line;break}}for(var qe=0;qe<Re.length;++qe){var st=re(Re[qe]);if(st){Oe=st.fileName,ve=st.line;break}}Ee<0||ve<0||!Me||!Oe||Me!==Oe||Ee>=ve||(be=function(it){if(c.test(it))return!0;var Ct=re(it);return!!(Ct&&Ct.fileName===Me&&Ee<=Ct.line&&Ct.line<=ve)})}}function Ie(ye){this._parent=ye,this._promisesCreated=0;var _e=this._length=1+(ye===void 0?0:ye._length);ke(this,Ie),_e>32&&this.uncycle()}s.inherits(Ie,Error),e.CapturedTrace=Ie,Ie.prototype.uncycle=function(){var ye=this._length;if(!(ye<2)){for(var _e=[],Te={},Re=0,Ee=this;Ee!==void 0;++Re)_e.push(Ee),Ee=Ee._parent;ye=this._length=Re;for(var Re=ye-1;Re>=0;--Re){var ve=_e[Re].stack;Te[ve]===void 0&&(Te[ve]=Re)}for(var Re=0;Re<ye;++Re){var Me=_e[Re].stack,Oe=Te[Me];if(Oe!==void 0&&Oe!==Re){Oe>0&&(_e[Oe-1]._parent=void 0,_e[Oe-1]._length=1),_e[Re]._parent=void 0,_e[Re]._length=1;var qe=Re>0?_e[Re-1]:this;Oe<ye-1?(qe._parent=_e[Oe+1],qe._parent.uncycle(),qe._length=qe._parent._length+1):(qe._parent=void 0,qe._length=1);for(var st=qe._length+1,it=Re-2;it>=0;--it)_e[it]._length=st,st++;return}}}},Ie.prototype.attachExtraTrace=function(ye){if(!ye.__stackCleaned__){this.uncycle();for(var _e=Se(ye),Te=_e.message,Re=[_e.stack],Ee=this;Ee!==void 0;)Re.push(ce(Ee.stack.split(`
`))),Ee=Ee._parent;ae(Re),te(Re),s.notEnumerableProp(ye,"stack",Q(Te,Re)),s.notEnumerableProp(ye,"__stackCleaned__",!0)}};var ke=(function(){var _e=/^\s*at\s*/,Te=function(Me,Oe){return typeof Me=="string"?Me:Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=_e,p=Te;var Re=Error.captureStackTrace;return be=function(Me){return c.test(Me)},function(Me,Oe){Error.stackTraceLimit+=6,Re(Me,Oe),Error.stackTraceLimit-=6}}var Ee=new Error;if(typeof Ee.stack=="string"&&Ee.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=Te,v=!0,function(Oe){Oe.stack=new Error().stack};var ve;try{throw new Error}catch(Me){ve="stack"in Me}return!("stack"in Ee)&&ve&&typeof Error.stackTraceLimit=="number"?(h=_e,p=Te,function(Oe){Error.stackTraceLimit+=6;try{throw new Error}catch(qe){Oe.stack=qe.stack}Error.stackTraceLimit-=6}):(p=function(Me,Oe){return typeof Me=="string"?Me:(typeof Oe=="object"||typeof Oe=="function")&&Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ye){console.warn(ye)},s.isNode&&process.stderr.isTTY?g=function(ye,_e){var Te=_e?"\x1B[33m":"\x1B[31m";console.warn(Te+ye+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(ye,_e){console.warn("%c"+ye,_e?"color: darkorange":"color: red")}));var he={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&t.longStackTraces(),{longStackTraces:function(){return he.longStackTraces},warnings:function(){return he.warnings},cancellation:function(){return he.cancellation},monitoring:function(){return he.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return W},checkForgottenReturns:j,setBounds:oe,warn:J,deprecated:q,CapturedTrace:Ie,fireDomEvent:S,fireGlobalEvent:F}}),j4}var B4,OL;function X9e(){return OL||(OL=1,B4=function(t,e){var n=ur(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),B4}var V4,UL;function Y9e(){return UL||(UL=1,V4=function(t){var e=ur(),n=cg().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),V4}var W4,LL;function pQ(){if(LL)return W4;LL=1;var t=ur(),e=t.maybeWrapAsError,n=rd(),r=n.OperationalError,i=cg();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return W4=l,W4}var q4,jL;function Q9e(){return jL||(jL=1,q4=function(t,e,n,r,i){var s=ur(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),q4}var $4,BL;function Z9e(){return BL||(BL=1,$4=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),$4}var z4,VL;function e7e(){return VL||(VL=1,z4=function(t,e,n,r){var i=ur(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),z4}var H4,WL;function t7e(){return WL||(WL=1,H4=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),H4}var G4,qL;function n7e(){return qL||(qL=1,G4=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),G4}var K4,$L;function r7e(){return $L||($L=1,K4=function(t,e,n,r,i,s){var a=ur(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var w=new Array(x),C=0;C<w.length;++C)w[C]="this.p"+(C+1);var S=w.join(" = ")+" = null;",F=`var promise;
`+w.map(function(R){return`                                                         
	                promise = `+R+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),A=w.join(", "),I="Holder$"+x,N=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return N=N.replace(/\[TheName\]/g,I).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,A).replace(/\[TheProperties\]/g,S).replace(/\[CancellationCode\]/g,F),new Function("tryCatch","errorObj","Promise","async",N)(l,c,t,i)},v=[],g=[],y=[],b=0;b<8;++b)v.push(p(b+1)),g.push(f(b+1)),y.push(h(b+1));u=function(x){this._reject(x)}}t.join=function(){var x=arguments.length-1,w;if(x>0&&typeof arguments[x]=="function"&&(w=arguments[x],x<=8&&o)){var O=new t(r);O._captureStackTrace();for(var C=v[x-1],S=new C(w),F=g,A=0;A<x;++A){var I=n(arguments[A],O);if(I instanceof t){I=I._target();var N=I._bitField;(N&50397184)===0?(I._then(F[A],u,void 0,O,S),y[A](I,S),S.asyncNeeded=!1):(N&33554432)!==0?F[A].call(O,I._value(),S):(N&16777216)!==0?O._reject(I._reason()):O._cancel()}else F[A].call(O,I,S)}if(!O._isFateSealed()){if(S.asyncNeeded){var R=s();R!==null&&(S.fn=a.domainBind(R,S.fn))}O._setAsyncGuaranteed(),O._setOnCancel(S)}return O}for(var P=arguments.length,D=new Array(P),M=0;M<P;++M)D[M]=arguments[M];w&&D.pop();var O=new e(D).promise();return w!==void 0?O.spread(w):O}}),K4}var J4,zL;function i7e(){return zL||(zL=1,J4=function(t,e,n,r,i,s){var a=t._getDomain,o=ur(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var b=a();this._callback=b===null?v:o.domainBind(b,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),b=this._preservedValues,x=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return g[v]=p,this._queue.push(v),!1;b!==null&&(b[v]=p);var w=this._promise,C=this._callback,S=w._boundValue();w._pushContext();var F=l(C).call(S,p,v,y),A=w._popContext();if(s.checkForgottenReturns(F,A,b!==null?"Promise.filter":"Promise.map",w),F===c)return this._reject(F.e),!0;var I=r(F,this._promise);if(I instanceof t){I=I._target();var N=I._bitField;if((N&50397184)===0)return x>=1&&this._inFlight++,g[v]=I,I._proxy(this,(v+1)*-1),!1;if((N&33554432)!==0)F=I._value();else return(N&16777216)!==0?(this._reject(I._reason()),!0):(this._cancel(),!0)}g[v]=F}var R=++this._totalResolved;return R>=y?(b!==null?this._filter(g,b):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),b=0,x=0;x<g;++x)p[x]&&(y[b++]=v[x]);y.length=b,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var b=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));b=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new f(p,v,b,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),J4}var X4,HL;function s7e(){if(HL)return X4;HL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return X4=function(r){var i=ur(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,b,x){var w=x[y];if(typeof w!="function"){if(!a(y))return null;if(w=b(y),x[y]=w,x[" size"]++,x[" size"]>512){for(var C=Object.keys(x),S=0;S<256;++S)delete x[C[S]];x[" size"]=C.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,b){var x;if(y!=null&&(x=y[b]),typeof x!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(b)+"'";throw new r.TypeError(w)}return x}function p(y){var b=this.pop(),x=h(y,b);return x.apply(y,this)}r.prototype.call=function(y){for(var b=arguments.length,x=new Array(Math.max(b-1,0)),w=1;w<b;++w)x[w-1]=arguments[w];if(s){var C=o(y);if(C!==null)return this._then(C,void 0,void 0,x,void 0)}return x.push(y),this._then(p,void 0,void 0,x,void 0)};function v(y){return y[this]}function g(y){var b=+this;return b<0&&(b=Math.max(0,b+y.length)),y[b]}r.prototype.get=function(y){var b=typeof y=="number",x;if(b)x=g;else if(s){var w=l(y);x=w!==null?w:v}else x=v;return this._then(x,void 0,void 0,y,void 0)}},X4}var Y4,GL;function a7e(){return GL||(GL=1,Y4=function(t,e,n,r,i,s){var a=ur(),o=rd().TypeError,l=ur().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var C=n(w);return C!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&C._setDisposable(w._getDisposer()),C}function v(w,C){var S=0,F=w.length,A=new t(i);function I(){if(S>=F)return A._fulfill();var N=p(w[S++]);if(N instanceof t&&N._isDisposable()){try{N=n(N._getDisposer().tryDispose(C),w.promise)}catch(R){return h(R)}if(N instanceof t)return N._then(I,h,null,null,null)}I()}return I(),A}function g(w,C,S){this._data=w,this._promise=C,this._context=S}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var C=this.resource(),S=this._context;S!==void 0&&S._pushContext();var F=C!==f?this.doDispose(C,w):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,F},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,C,S){this.constructor$(w,C,S)}l(y,g),y.prototype.doDispose=function(w,C){var S=this.data();return S.call(w,w,C)};function b(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function x(w){this.length=w,this.promise=null,this[w-1]=null}x.prototype._resultCancelled=function(){for(var w=this.length,C=0;C<w;++C){var S=this[C];S instanceof t&&S.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[w-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var S,F=!0;w===2&&Array.isArray(arguments[0])?(S=arguments[0],w=S.length,F=!1):(S=arguments,w--);for(var A=new x(w),I=0;I<w;++I){var N=S[I];if(g.isDisposer(N)){var R=N;N=N.promise(),N._setDisposable(R)}else{var P=n(N);P instanceof t&&(N=P._then(b,null,null,{resources:A,index:I},void 0))}A[I]=N}for(var D=new Array(A.length),I=0;I<D.length;++I)D[I]=t.resolve(A[I]).reflect();var M=t.all(D).then(function(H){for(var X=0;X<H.length;++X){var G=H[X];if(G.isRejected())return c.e=G.error(),c;if(!G.isFulfilled()){M.cancel();return}H[X]=G.value()}O._pushContext(),C=u(C);var Z=F?C.apply(void 0,H):C(H),W=O._popContext();return s.checkForgottenReturns(Z,W,"Promise.using",O),Z}),O=M.lastly(function(){var H=new t.PromiseInspection(M);return v(A,H)});return A.promise=O,O._setOnCancel(A),O},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),Y4}var Q4,KL;function o7e(){return KL||(KL=1,Q4=function(t,e,n){var r=ur(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),Q4}var Z4,JL;function l7e(){return JL||(JL=1,Z4=function(t,e,n,r,i,s){var a=rd(),o=a.TypeError,l=ur(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var b=0;b<g.length;++b){y._pushContext();var x=u(g[b])(v);if(y._popContext(),x===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var C=r(x,y);if(C instanceof t)return C}return null}function p(v,g,y,b){if(s.cancellation()){var x=new t(n),w=this._finallyPromise=new t(n);this._promise=x.lastly(function(){return w}),x._captureStackTrace(),x._setOnCancel(this)}else{var C=this._promise=new t(n);C._captureStackTrace()}this._stack=b,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var b=r(y,this._promise);if(!(b instanceof t)&&(b=h(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var x=b._bitField;(x&50397184)===0?(this._yieldedPromise=b,b._proxy(this,null)):(x&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,b._value()):(x&16777216)!==0?t._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,b=p,x=new Error().stack;return function(){var w=v.apply(this,arguments),C=new b(void 0,void 0,y,x),S=C.promise();return C._generator=w,C._promiseFulfilled(void 0),S}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),Z4}var eD,XL;function c7e(){return XL||(XL=1,eD=function(t){var e=ur(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),eD}var tD,YL;function u7e(){return YL||(YL=1,tD=function(t,e){var n={},r=ur(),i=pQ(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=rd().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(M){return r.isIdentifier(M)&&M.charAt(0)!=="_"&&M!=="constructor"};function v(M){return!h.test(M)}function g(M){try{return M.__isPromisified__===!0}catch{return!1}}function y(M,O,H){var X=r.getDataPropertyOrDefault(M,O+H,u);return X?g(X):!1}function b(M,O,H){for(var X=0;X<M.length;X+=2){var G=M[X];if(H.test(G)){for(var Z=G.replace(H,""),W=0;W<M.length;W+=2)if(M[W]===Z)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}function x(M,O,H,X){for(var G=r.inheritedDataKeys(M),Z=[],W=0;W<G.length;++W){var Y=G[W],B=M[Y],j=X===p?!0:p(Y);typeof B=="function"&&!g(B)&&!y(M,Y,O)&&X(Y,B,M,j)&&Z.push(Y,B)}return b(Z,O,H),Z}var w=function(M){return M.replace(/([$])/,"\\$")},C;{var S=function(M){for(var O=[M],H=Math.max(0,M-1-3),X=M-1;X>=H;--X)O.push(X);for(var X=M+1;X<=3;++X)O.push(X);return O},F=function(M){return r.filledRange(M,"_arg","")},A=function(M){return r.filledRange(Math.max(M,3),"_arg","")},I=function(M){return typeof M.length=="number"?Math.max(Math.min(M.length,1024),0):0};C=function(M,O,H,X,G,Z){var W=Math.max(0,I(X)-1),Y=S(W),B=typeof M=="string"||O===n;function j(te){var ae=F(te).join(", "),ce=te>0?", ":"",ue;return B?ue=`ret = callback.call(this, {{args}}, nodeback); break;
`:ue=O===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ue.replace("{{args}}",ae).replace(", ",ce)}function q(){for(var te="",ae=0;ae<Y.length;++ae)te+="case "+Y[ae]+":"+j(Y[ae]);return te+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),te}var J=typeof M=="string"?"this != null ? this['"+M+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+Z+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",q()).replace("[GetFunctionCode]",J);return Q=Q.replace("Parameters",A(W)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(t,X,O,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function N(M,O,H,X,G,Z){var W=(function(){return this})(),Y=M;typeof Y=="string"&&(M=X);function B(){var j=O;O===n&&(j=this);var q=new t(e);q._captureStackTrace();var J=typeof Y=="string"&&this!==W?this[Y]:M,Q=i(q,Z);try{J.apply(j,s(arguments,Q))}catch(te){q._rejectCallback(a(te),!0,!0)}return q._isFateSealed()||q._setAsyncGuaranteed(),q}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var R=o?C:N;function P(M,O,H,X,G){for(var Z=new RegExp(w(O)+"$"),W=x(M,O,Z,H),Y=0,B=W.length;Y<B;Y+=2){var j=W[Y],q=W[Y+1],J=j+O;if(X===R)M[J]=R(j,n,j,q,O,G);else{var Q=X(q,function(){return R(j,n,j,q,O,G)});r.notEnumerableProp(Q,"__isPromisified__",!0),M[J]=Q}}return r.toFastProperties(M),M}function D(M,O,H){return R(M,O,void 0,M,null,H)}t.promisify=function(M,O){if(typeof M!="function")throw new l("expecting a function but got "+r.classString(M));if(g(M))return M;O=Object(O);var H=O.context===void 0?n:O.context,X=!!O.multiArgs,G=D(M,H,X);return r.copyDescriptors(M,G,v),G},t.promisifyAll=function(M,O){if(typeof M!="function"&&typeof M!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);O=Object(O);var H=!!O.multiArgs,X=O.suffix;typeof X!="string"&&(X=c);var G=O.filter;typeof G!="function"&&(G=p);var Z=O.promisifier;if(typeof Z!="function"&&(Z=R),!r.isIdentifier(X))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var W=r.inheritedDataKeys(M),Y=0;Y<W.length;++Y){var B=M[W[Y]];W[Y]!=="constructor"&&r.isClass(B)&&(P(B.prototype,X,G,Z,H),P(B,X,G,Z,H))}return P(M,X,G,Z,H)}}),tD}var nD,QL;function d7e(){return QL||(QL=1,nD=function(t,e,n,r){var i=ur(),s=i.isObject,a=cg(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var b=new Array(y.size*2);return y.forEach(v,b),b}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],b=h[g];p.set(y,b)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var b=0;b<y;++b){var x=g[b];v[b]=h[x],v[b+y]=x}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),b=0,x=this.length();b<x;++b)g[this._values[b+y]]=this._values[b]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),nD}var rD,ZL;function f7e(){return ZL||(ZL=1,rD=function(t,e,n,r){var i=ur(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),rD}var iD,ej;function h7e(){return ej||(ej=1,iD=function(t,e,n,r,i,s){var a=t._getDomain,o=ur(),l=o.tryCatch;function c(v,g,y,b){this.constructor$(v);var x=a();this._fn=x===null?g:o.domainBind(x,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,b===i?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,b=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<b;++y){var x={accum:null,value:v[y],index:y,length:b,array:this};g=g._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,b){return f(v,g,y,b)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,b){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var x=new c(v,g,y,b);return x.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,b=l(g._fn);y._pushContext();var x;g._eachValues!==void 0?x=b.call(y._boundValue(),v,this.index,this.length):x=b.call(y._boundValue(),this.accum,v,this.index,this.length),x instanceof t&&(g._currentCancellable=x);var w=y._popContext();return s.checkForgottenReturns(x,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),x}}),iD}var sD,tj;function p7e(){return tj||(tj=1,sD=function(t,e,n){var r=t.PromiseInspection,i=ur();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),sD}var aD,nj;function m7e(){return nj||(nj=1,aD=function(t,e,n){var r=ur(),i=rd().RangeError,s=rd().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),aD}var oD,rj;function g7e(){return rj||(rj=1,oD=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),oD}var lD,ij;function y7e(){return ij||(ij=1,lD=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),lD}var cD,sj;function v7e(){return sj||(sj=1,cD=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),cD}var aj;function x7e(){return aj||(aj=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new D.PromiseInspection(this._target())},r=function(X){return D.reject(new h(X))};function i(){}var s={},a=ur(),o;a.isNode?o=function(){var X=process.domain;return X===void 0&&(X=null),X}:o=function(){return null},a.notEnumerableProp(D,"_getDomain",o);var l=cg(),c=z9e(),u=new c;l.defineProperty(D,"_async",{value:u});var f=rd(),h=D.TypeError=f.TypeError;D.RangeError=f.RangeError;var p=D.CancellationError=f.CancellationError;D.TimeoutError=f.TimeoutError,D.OperationalError=f.OperationalError,D.RejectionError=f.OperationalError,D.AggregateError=f.AggregateError;var v=function(){},g={},y={},b=H9e()(D,v),x=G9e()(D,v,b,r,i),w=K9e()(D),C=w.create,S=J9e()(D,w);S.CapturedTrace;var F=X9e()(D,b),A=Y9e()(y),I=pQ(),N=a.errorObj,R=a.tryCatch;function P(X,G){if(typeof G!="function")throw new h("expecting a function but got "+a.classString(G));if(X.constructor!==D)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function D(X){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,X!==v&&(P(this,X),this._resolveFromExecutor(X)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype.catch=function(X){var G=arguments.length;if(G>1){var Z=new Array(G-1),W=0,Y;for(Y=0;Y<G-1;++Y){var B=arguments[Y];if(a.isObject(B))Z[W++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return Z.length=W,X=arguments[Y],this.then(void 0,A(Z,X,this))}return this.then(void 0,X)},D.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},D.prototype.then=function(X,G){if(S.warnings()&&arguments.length>0&&typeof X!="function"&&typeof G!="function"){var Z=".then() only accepts functions but was passed: "+a.classString(X);arguments.length>1&&(Z+=", "+a.classString(G)),this._warn(Z)}return this._then(X,G,void 0,void 0,void 0)},D.prototype.done=function(X,G){var Z=this._then(X,G,void 0,void 0,void 0);Z._setIsFinal()},D.prototype.spread=function(X){return typeof X!="function"?r("expecting a function but got "+a.classString(X)):this.all()._then(X,void 0,void 0,g,void 0)},D.prototype.toJSON=function(){var X={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(X.fulfillmentValue=this.value(),X.isFulfilled=!0):this.isRejected()&&(X.rejectionReason=this.reason(),X.isRejected=!0),X},D.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},D.prototype.error=function(X){return this.caught(a.originatesFromRejection,X)},D.getNewLibraryCopy=t.exports,D.is=function(X){return X instanceof D},D.fromNode=D.fromCallback=function(X){var G=new D(v);G._captureStackTrace();var Z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,W=R(X)(I(G,Z));return W===N&&G._rejectCallback(W.e,!0),G._isFateSealed()||G._setAsyncGuaranteed(),G},D.all=function(X){return new x(X).promise()},D.cast=function(X){var G=b(X);return G instanceof D||(G=new D(v),G._captureStackTrace(),G._setFulfilled(),G._rejectionHandler0=X),G},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(X){var G=new D(v);return G._captureStackTrace(),G._rejectCallback(X,!0),G},D.setScheduler=function(X){if(typeof X!="function")throw new h("expecting a function but got "+a.classString(X));return u.setScheduler(X)},D.prototype._then=function(X,G,Z,W,Y){var B=Y!==void 0,j=B?Y:new D(v),q=this._target(),J=q._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),W===void 0&&(this._bitField&2097152)!==0&&((J&50397184)!==0?W=this._boundValue():W=q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Q=o();if((J&50397184)!==0){var te,ae,ce=q._settlePromiseCtx;(J&33554432)!==0?(ae=q._rejectionHandler0,te=X):(J&16777216)!==0?(ae=q._fulfillmentHandler0,te=G,q._unsetRejectionIsUnhandled()):(ce=q._settlePromiseLateCancellationObserver,ae=new p("late cancellation observer"),q._attachExtraTrace(ae),te=G),u.invoke(ce,q,{handler:Q===null?te:typeof te=="function"&&a.domainBind(Q,te),promise:j,receiver:W,value:ae})}else q._addCallbacks(X,G,j,W,Q);return j},D.prototype._length=function(){return this._bitField&65535},D.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},D.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},D.prototype._setLength=function(X){this._bitField=this._bitField&-65536|X&65535},D.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},D.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},D.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},D.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},D.prototype._isFinal=function(){return(this._bitField&4194304)>0},D.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},D.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},D.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},D.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},D.prototype._receiverAt=function(X){var G=X===0?this._receiver0:this[X*4-4+3];if(G!==s)return G===void 0&&this._isBound()?this._boundValue():G},D.prototype._promiseAt=function(X){return this[X*4-4+2]},D.prototype._fulfillmentHandlerAt=function(X){return this[X*4-4+0]},D.prototype._rejectionHandlerAt=function(X){return this[X*4-4+1]},D.prototype._boundValue=function(){},D.prototype._migrateCallback0=function(X){X._bitField;var G=X._fulfillmentHandler0,Z=X._rejectionHandler0,W=X._promise0,Y=X._receiverAt(0);Y===void 0&&(Y=s),this._addCallbacks(G,Z,W,Y,null)},D.prototype._migrateCallbackAt=function(X,G){var Z=X._fulfillmentHandlerAt(G),W=X._rejectionHandlerAt(G),Y=X._promiseAt(G),B=X._receiverAt(G);B===void 0&&(B=s),this._addCallbacks(Z,W,Y,B,null)},D.prototype._addCallbacks=function(X,G,Z,W,Y){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=Z,this._receiver0=W,typeof X=="function"&&(this._fulfillmentHandler0=Y===null?X:a.domainBind(Y,X)),typeof G=="function"&&(this._rejectionHandler0=Y===null?G:a.domainBind(Y,G));else{var j=B*4-4;this[j+2]=Z,this[j+3]=W,typeof X=="function"&&(this[j+0]=Y===null?X:a.domainBind(Y,X)),typeof G=="function"&&(this[j+1]=Y===null?G:a.domainBind(Y,G))}return this._setLength(B+1),B},D.prototype._proxy=function(X,G){this._addCallbacks(void 0,void 0,G,X,null)},D.prototype._resolveCallback=function(X,G){if((this._bitField&117506048)===0){if(X===this)return this._rejectCallback(e(),!1);var Z=b(X,this);if(!(Z instanceof D))return this._fulfill(X);G&&this._propagateFrom(Z,2);var W=Z._target();if(W===this){this._reject(e());return}var Y=W._bitField;if((Y&50397184)===0){var B=this._length();B>0&&W._migrateCallback0(this);for(var j=1;j<B;++j)W._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(W)}else if((Y&33554432)!==0)this._fulfill(W._value());else if((Y&16777216)!==0)this._reject(W._reason());else{var q=new p("late cancellation observer");W._attachExtraTrace(q),this._reject(q)}}},D.prototype._rejectCallback=function(X,G,Z){var W=a.ensureErrorObject(X),Y=W===X;if(!Y&&!Z&&S.warnings()){var B="a promise was rejected with a non-error: "+a.classString(X);this._warn(B,!0)}this._attachExtraTrace(W,G?Y:!1),this._reject(X)},D.prototype._resolveFromExecutor=function(X){var G=this;this._captureStackTrace(),this._pushContext();var Z=!0,W=this._execute(X,function(Y){G._resolveCallback(Y)},function(Y){G._rejectCallback(Y,Z)});Z=!1,this._popContext(),W!==void 0&&G._rejectCallback(W,!0)},D.prototype._settlePromiseFromHandler=function(X,G,Z,W){var Y=W._bitField;if((Y&65536)===0){W._pushContext();var B;G===g?!Z||typeof Z.length!="number"?(B=N,B.e=new h("cannot .spread() a non-array: "+a.classString(Z))):B=R(X).apply(this._boundValue(),Z):B=R(X).call(G,Z);var j=W._popContext();Y=W._bitField,(Y&65536)===0&&(B===y?W._reject(Z):B===N?W._rejectCallback(B.e,!1):(S.checkForgottenReturns(B,j,"",W,this),W._resolveCallback(B)))}},D.prototype._target=function(){for(var X=this;X._isFollowing();)X=X._followee();return X},D.prototype._followee=function(){return this._rejectionHandler0},D.prototype._setFollowee=function(X){this._rejectionHandler0=X},D.prototype._settlePromise=function(X,G,Z,W){var Y=X instanceof D,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(Y&&X._invokeInternalOnCancel(),Z instanceof F&&Z.isFinallyHandler()?(Z.cancelPromise=X,R(G).call(Z,W)===N&&X._reject(N.e)):G===n?X._fulfill(n.call(Z)):Z instanceof i?Z._promiseCancelled(X):Y||X instanceof x?X._cancel():Z.cancel()):typeof G=="function"?Y?(j&&X._setAsyncGuaranteed(),this._settlePromiseFromHandler(G,Z,W,X)):G.call(Z,W,X):Z instanceof i?Z._isResolved()||((B&33554432)!==0?Z._promiseFulfilled(W,X):Z._promiseRejected(W,X)):Y&&(j&&X._setAsyncGuaranteed(),(B&33554432)!==0?X._fulfill(W):X._reject(W))},D.prototype._settlePromiseLateCancellationObserver=function(X){var G=X.handler,Z=X.promise,W=X.receiver,Y=X.value;typeof G=="function"?Z instanceof D?this._settlePromiseFromHandler(G,W,Y,Z):G.call(W,Y,Z):Z instanceof D&&Z._reject(Y)},D.prototype._settlePromiseCtx=function(X){this._settlePromise(X.promise,X.handler,X.receiver,X.value)},D.prototype._settlePromise0=function(X,G,Z){var W=this._promise0,Y=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(W,X,Y,G)},D.prototype._clearCallbackDataAtIndex=function(X){var G=X*4-4;this[G+2]=this[G+3]=this[G+0]=this[G+1]=void 0},D.prototype._fulfill=function(X){var G=this._bitField;if(!((G&117506048)>>>16)){if(X===this){var Z=e();return this._attachExtraTrace(Z),this._reject(Z)}this._setFulfilled(),this._rejectionHandler0=X,(G&65535)>0&&((G&134217728)!==0?this._settlePromises():u.settlePromises(this))}},D.prototype._reject=function(X){var G=this._bitField;if(!((G&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=X,this._isFinal())return u.fatalError(X,a.isNode);(G&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},D.prototype._fulfillPromises=function(X,G){for(var Z=1;Z<X;Z++){var W=this._fulfillmentHandlerAt(Z),Y=this._promiseAt(Z),B=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(Y,W,B,G)}},D.prototype._rejectPromises=function(X,G){for(var Z=1;Z<X;Z++){var W=this._rejectionHandlerAt(Z),Y=this._promiseAt(Z),B=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(Y,W,B,G)}},D.prototype._settlePromises=function(){var X=this._bitField,G=X&65535;if(G>0){if((X&16842752)!==0){var Z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Z,X),this._rejectPromises(G,Z)}else{var W=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,W,X),this._fulfillPromises(G,W)}this._setLength(0)}this._clearCancellationData()},D.prototype._settledValue=function(){var X=this._bitField;if((X&33554432)!==0)return this._rejectionHandler0;if((X&16777216)!==0)return this._fulfillmentHandler0};function M(X){this.promise._resolveCallback(X)}function O(X){this.promise._rejectCallback(X,!1)}D.defer=D.pending=function(){S.deprecated("Promise.defer","new Promise");var X=new D(v);return{promise:X,resolve:M,reject:O}},a.notEnumerableProp(D,"_makeSelfResolutionError",e),Q9e()(D,v,b,r,S),Z9e()(D,v,b,S),e7e()(D,x,r,S),t7e()(D),n7e()(D),r7e()(D,x,b,v,u,o),D.Promise=D,D.version="3.4.7",i7e()(D,x,r,b,v,S),s7e()(D),a7e()(D,r,b,C,v,S),o7e()(D,v,S),l7e()(D,r,v,b,i,S),c7e()(D),u7e()(D,v),d7e()(D,x,b,r),f7e()(D,v,b,r),h7e()(D,x,r,b,v,S),p7e()(D,x,S),m7e()(D,x,r),g7e()(D,v),y7e()(D,v),v7e()(D),a.toFastProperties(D),a.toFastProperties(D.prototype);function H(X){var G=new D(v);G._fulfillmentHandler0=X,G._rejectionHandler0=X,G._promise0=X,G._receiver0=X}return H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new D(v)),S.setBounds(c.firstLineError,a.lastLineError),D}})(P4)),P4.exports}var oj;function vd(){if(oj)return Ha;oj=1;var t=oi,e=x7e()();Ha.defer=n,Ha.when=e.resolve,Ha.resolve=e.resolve,Ha.all=e.all,Ha.props=e.props,Ha.reject=e.reject,Ha.promisify=e.promisify,Ha.mapSeries=e.mapSeries,Ha.attempt=e.attempt,Ha.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return Ha}var $n={},lj;function bh(){if(lj)return $n;lj=1;var t=oi,e=$n.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,F){return F=F||{},{type:e.document,children:S,notes:F.notes||new u({}),comments:F.comments||[]}}function r(S,F){F=F||{};var A=F.indent||{};return{type:e.paragraph,children:S,styleId:F.styleId||null,styleName:F.styleName||null,numbering:F.numbering||null,alignment:F.alignment||null,indent:{start:A.start||null,end:A.end||null,firstLine:A.firstLine||null,hanging:A.hanging||null}}}function i(S,F){return F=F||{},{type:e.run,children:S,styleId:F.styleId||null,styleName:F.styleName||null,isBold:!!F.isBold,isUnderline:!!F.isUnderline,isItalic:!!F.isItalic,isStrikethrough:!!F.isStrikethrough,isAllCaps:!!F.isAllCaps,isSmallCaps:!!F.isSmallCaps,verticalAlignment:F.verticalAlignment||s.baseline,font:F.font||null,fontSize:F.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S,F){return{type:e.hyperlink,children:S,href:F.href,anchor:F.anchor,targetFrame:F.targetFrame}}function c(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function u(S){this._notes=t.indexBy(S,function(F){return v(F.noteType,F.noteId)})}u.prototype.resolve=function(S){return this.findNoteByKey(v(S.noteType,S.noteId))},u.prototype.findNoteByKey=function(S){return this._notes[S]||null};function f(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function h(S){return{type:e.commentReference,commentId:S.commentId}}function p(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function v(S,F){return S+"-"+F}function g(S){return{type:e.image,read:function(F){return F?S.readImage(F):S.readImage().then(function(A){return Buffer.from(A)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(F){return Buffer.from(F)})},altText:S.altText,contentType:S.contentType}}function y(S,F){return F=F||{},{type:e.table,children:S,styleId:F.styleId||null,styleName:F.styleName||null}}function b(S,F){return F=F||{},{type:e.tableRow,children:S,isHeader:F.isHeader||!1}}function x(S,F){return F=F||{},{type:e.tableCell,children:S,colSpan:F.colSpan==null?1:F.colSpan,rowSpan:F.rowSpan==null?1:F.rowSpan}}function w(S){return{type:e.break,breakType:S}}function C(S){return{type:e.bookmarkStart,name:S.name}}return $n.document=$n.Document=n,$n.paragraph=$n.Paragraph=r,$n.run=$n.Run=i,$n.text=$n.Text=a,$n.tab=$n.Tab=o,$n.Hyperlink=l,$n.noteReference=$n.NoteReference=c,$n.Notes=u,$n.Note=f,$n.commentReference=h,$n.comment=p,$n.Image=g,$n.Table=y,$n.TableRow=b,$n.TableCell=x,$n.lineBreak=w("line"),$n.pageBreak=w("page"),$n.columnBreak=w("column"),$n.BookmarkStart=C,$n.verticalAlignment=s,$n}var fp={},cj;function Ac(){if(cj)return fp;cj=1;var t=oi;fp.Result=e,fp.success=n,fp.warning=r,fp.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return fp}var c0={},u0={},uj;function b7e(){if(uj)return u0;uj=1,u0.byteLength=o,u0.toByteArray=c,u0.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],b=g[1],x=new n(l(p,y,b)),w=0,C=b>0?y-4:y,S;for(S=0;S<C;S+=4)v=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],x[w++]=v>>16&255,x[w++]=v>>8&255,x[w++]=v&255;return b===2&&(v=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,x[w++]=v&255),b===1&&(v=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,x[w++]=v>>8&255,x[w++]=v&255),x}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,b=[],x=v;x<g;x+=3)y=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),b.push(u(y));return b.join("")}function h(p){for(var v,g=p.length,y=g%3,b=[],x=16383,w=0,C=g-y;w<C;w+=x)b.push(f(p,w,w+x>C?C:w+x));return y===1?(v=p[g-1],b.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return u0}var dj;function mQ(){if(dj)return c0;dj=1;var t=b7e(),e=OH();c0.openArrayBuffer=n,c0.splitPath=r,c0.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return c0}var r2={},jd={},d0={},fj;function gQ(){if(fj)return d0;fj=1;var t=oi;d0.Element=n,d0.element=function(s,a,o){return new n(s,a,o)},d0.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return d0}var uD={},i2={},f0={},Zl={},Bd={},hj;function lT(){if(hj)return Bd;hj=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Bd.assign=n,Bd.find=t,Bd.freeze=e,Bd.MIME_TYPE=r,Bd.NAMESPACE=i,Bd}var pj;function a5(){if(pj)return Zl;pj=1;var t=lT(),e=t.find,n=t.NAMESPACE;function r(ie){return ie!==""}function i(ie){return ie?ie.split(/[\t\n\f\r ]+/).filter(r):[]}function s(ie,de){return ie.hasOwnProperty(de)||(ie[de]=!0),ie}function a(ie){if(!ie)return[];var de=i(ie);return Object.keys(de.reduce(s,{}))}function o(ie){return function(de){return ie&&ie.indexOf(de)!==-1}}function l(ie,de){for(var Pe in ie)Object.prototype.hasOwnProperty.call(ie,Pe)&&(de[Pe]=ie[Pe])}function c(ie,de){var Pe=ie.prototype;if(!(Pe instanceof de)){let nt=function(){};var $e=nt;nt.prototype=de.prototype,nt=new nt,l(Pe,nt),ie.prototype=Pe=nt}Pe.constructor!=ie&&(typeof ie!="function"&&console.error("unknown Class:"+ie),Pe.constructor=ie)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,b=u.PROCESSING_INSTRUCTION_NODE=7,x=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,S=u.DOCUMENT_FRAGMENT_NODE=11,F=u.NOTATION_NODE=12,A={},I={};A.INDEX_SIZE_ERR=(I[1]="Index size error",1),A.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2);var N=A.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3);A.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),A.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),A.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),A.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7);var R=A.NOT_FOUND_ERR=(I[8]="Not found",8);A.NOT_SUPPORTED_ERR=(I[9]="Not supported",9);var P=A.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10);A.INVALID_STATE_ERR=(I[11]="Invalid state",11),A.SYNTAX_ERR=(I[12]="Syntax error",12),A.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),A.NAMESPACE_ERR=(I[14]="Invalid namespace",14),A.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function D(ie,de){if(de instanceof Error)var Pe=de;else Pe=this,Error.call(this,I[ie]),this.message=I[ie],Error.captureStackTrace&&Error.captureStackTrace(this,D);return Pe.code=ie,de&&(this.message=this.message+": "+de),Pe}D.prototype=Error.prototype,l(A,D);function M(){}M.prototype={length:0,item:function(ie){return ie>=0&&ie<this.length?this[ie]:null},toString:function(ie,de){for(var Pe=[],$e=0;$e<this.length;$e++)En(this[$e],Pe,ie,de);return Pe.join("")},filter:function(ie){return Array.prototype.filter.call(this,ie)},indexOf:function(ie){return Array.prototype.indexOf.call(this,ie)}};function O(ie,de){this._node=ie,this._refresh=de,H(this)}function H(ie){var de=ie._node._inc||ie._node.ownerDocument._inc;if(ie._inc!==de){var Pe=ie._refresh(ie._node);if(Rt(ie,"length",Pe.length),!ie.$$length||Pe.length<ie.$$length)for(var $e=Pe.length;$e in ie;$e++)Object.prototype.hasOwnProperty.call(ie,$e)&&delete ie[$e];l(Pe,ie),ie._inc=de}}O.prototype.item=function(ie){return H(this),this[ie]||null},c(O,M);function X(){}function G(ie,de){for(var Pe=ie.length;Pe--;)if(ie[Pe]===de)return Pe}function Z(ie,de,Pe,$e){if($e?de[G(de,$e)]=Pe:de[de.length++]=Pe,ie){Pe.ownerElement=ie;var nt=ie.ownerDocument;nt&&($e&&te(nt,ie,$e),Q(nt,ie,Pe))}}function W(ie,de,Pe){var $e=G(de,Pe);if($e>=0){for(var nt=de.length-1;$e<nt;)de[$e]=de[++$e];if(de.length=nt,ie){var xt=ie.ownerDocument;xt&&(te(xt,ie,Pe),Pe.ownerElement=null)}}else throw new D(R,new Error(ie.tagName+"@"+Pe))}X.prototype={length:0,item:M.prototype.item,getNamedItem:function(ie){for(var de=this.length;de--;){var Pe=this[de];if(Pe.nodeName==ie)return Pe}},setNamedItem:function(ie){var de=ie.ownerElement;if(de&&de!=this._ownerElement)throw new D(P);var Pe=this.getNamedItem(ie.nodeName);return Z(this._ownerElement,this,ie,Pe),Pe},setNamedItemNS:function(ie){var de=ie.ownerElement,Pe;if(de&&de!=this._ownerElement)throw new D(P);return Pe=this.getNamedItemNS(ie.namespaceURI,ie.localName),Z(this._ownerElement,this,ie,Pe),Pe},removeNamedItem:function(ie){var de=this.getNamedItem(ie);return W(this._ownerElement,this,de),de},removeNamedItemNS:function(ie,de){var Pe=this.getNamedItemNS(ie,de);return W(this._ownerElement,this,Pe),Pe},getNamedItemNS:function(ie,de){for(var Pe=this.length;Pe--;){var $e=this[Pe];if($e.localName==de&&$e.namespaceURI==ie)return $e}return null}};function Y(){}Y.prototype={hasFeature:function(ie,de){return!0},createDocument:function(ie,de,Pe){var $e=new J;if($e.implementation=this,$e.childNodes=new M,$e.doctype=Pe||null,Pe&&$e.appendChild(Pe),de){var nt=$e.createElementNS(ie,de);$e.appendChild(nt)}return $e},createDocumentType:function(ie,de,Pe){var $e=new ve;return $e.name=ie,$e.nodeName=ie,$e.publicId=de||"",$e.systemId=Pe||"",$e}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(ie,de){return oe(this,ie,de)},replaceChild:function(ie,de){oe(this,ie,de,re),de&&this.removeChild(de)},removeChild:function(ie){return ce(this,ie)},appendChild:function(ie){return this.insertBefore(ie,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(ie){return xn(this.ownerDocument||this,this,ie)},normalize:function(){for(var ie=this.firstChild;ie;){var de=ie.nextSibling;de&&de.nodeType==p&&ie.nodeType==p?(this.removeChild(de),ie.appendData(de.data)):(ie.normalize(),ie=de)}},isSupported:function(ie,de){return this.ownerDocument.implementation.hasFeature(ie,de)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(ie){for(var de=this;de;){var Pe=de._nsMap;if(Pe){for(var $e in Pe)if(Object.prototype.hasOwnProperty.call(Pe,$e)&&Pe[$e]===ie)return $e}de=de.nodeType==h?de.ownerDocument:de.parentNode}return null},lookupNamespaceURI:function(ie){for(var de=this;de;){var Pe=de._nsMap;if(Pe&&Object.prototype.hasOwnProperty.call(Pe,ie))return Pe[ie];de=de.nodeType==h?de.ownerDocument:de.parentNode}return null},isDefaultNamespace:function(ie){var de=this.lookupPrefix(ie);return de==null}};function j(ie){return ie=="<"&&"&lt;"||ie==">"&&"&gt;"||ie=="&"&&"&amp;"||ie=='"'&&"&quot;"||"&#"+ie.charCodeAt()+";"}l(u,B),l(u,B.prototype);function q(ie,de){if(de(ie))return!0;if(ie=ie.firstChild)do if(q(ie,de))return!0;while(ie=ie.nextSibling)}function J(){this.ownerDocument=this}function Q(ie,de,Pe){ie&&ie._inc++;var $e=Pe.namespaceURI;$e===n.XMLNS&&(de._nsMap[Pe.prefix?Pe.localName:""]=Pe.value)}function te(ie,de,Pe,$e){ie&&ie._inc++;var nt=Pe.namespaceURI;nt===n.XMLNS&&delete de._nsMap[Pe.prefix?Pe.localName:""]}function ae(ie,de,Pe){if(ie&&ie._inc){ie._inc++;var $e=de.childNodes;if(Pe)$e[$e.length++]=Pe;else{for(var nt=de.firstChild,xt=0;nt;)$e[xt++]=nt,nt=nt.nextSibling;$e.length=xt,delete $e[$e.length]}}}function ce(ie,de){var Pe=de.previousSibling,$e=de.nextSibling;return Pe?Pe.nextSibling=$e:ie.firstChild=$e,$e?$e.previousSibling=Pe:ie.lastChild=Pe,de.parentNode=null,de.previousSibling=null,de.nextSibling=null,ae(ie.ownerDocument,ie),de}function ue(ie){return ie&&(ie.nodeType===B.DOCUMENT_NODE||ie.nodeType===B.DOCUMENT_FRAGMENT_NODE||ie.nodeType===B.ELEMENT_NODE)}function Se(ie){return ie&&(fe(ie)||Le(ie)||Fe(ie)||ie.nodeType===B.DOCUMENT_FRAGMENT_NODE||ie.nodeType===B.COMMENT_NODE||ie.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Fe(ie){return ie&&ie.nodeType===B.DOCUMENT_TYPE_NODE}function fe(ie){return ie&&ie.nodeType===B.ELEMENT_NODE}function Le(ie){return ie&&ie.nodeType===B.TEXT_NODE}function z(ie,de){var Pe=ie.childNodes||[];if(e(Pe,fe)||Fe(de))return!1;var $e=e(Pe,Fe);return!(de&&$e&&Pe.indexOf($e)>Pe.indexOf(de))}function me(ie,de){var Pe=ie.childNodes||[];function $e(xt){return fe(xt)&&xt!==de}if(e(Pe,$e))return!1;var nt=e(Pe,Fe);return!(de&&nt&&Pe.indexOf(nt)>Pe.indexOf(de))}function be(ie,de,Pe){if(!ue(ie))throw new D(N,"Unexpected parent node type "+ie.nodeType);if(Pe&&Pe.parentNode!==ie)throw new D(R,"child not in parent");if(!Se(de)||Fe(de)&&ie.nodeType!==B.DOCUMENT_NODE)throw new D(N,"Unexpected node type "+de.nodeType+" for parent node type "+ie.nodeType)}function le(ie,de,Pe){var $e=ie.childNodes||[],nt=de.childNodes||[];if(de.nodeType===B.DOCUMENT_FRAGMENT_NODE){var xt=nt.filter(fe);if(xt.length>1||e(nt,Le))throw new D(N,"More than one element or text in fragment");if(xt.length===1&&!z(ie,Pe))throw new D(N,"Element in fragment can not be inserted before doctype")}if(fe(de)&&!z(ie,Pe))throw new D(N,"Only one element can be added and only after doctype");if(Fe(de)){if(e($e,Fe))throw new D(N,"Only one doctype is allowed");var Ut=e($e,fe);if(Pe&&$e.indexOf(Ut)<$e.indexOf(Pe))throw new D(N,"Doctype can only be inserted before an element");if(!Pe&&Ut)throw new D(N,"Doctype can not be appended since element is present")}}function re(ie,de,Pe){var $e=ie.childNodes||[],nt=de.childNodes||[];if(de.nodeType===B.DOCUMENT_FRAGMENT_NODE){var xt=nt.filter(fe);if(xt.length>1||e(nt,Le))throw new D(N,"More than one element or text in fragment");if(xt.length===1&&!me(ie,Pe))throw new D(N,"Element in fragment can not be inserted before doctype")}if(fe(de)&&!me(ie,Pe))throw new D(N,"Only one element can be added and only after doctype");if(Fe(de)){let Cn=function(yn){return Fe(yn)&&yn!==Pe};var zt=Cn;if(e($e,Cn))throw new D(N,"Only one doctype is allowed");var Ut=e($e,fe);if(Pe&&$e.indexOf(Ut)<$e.indexOf(Pe))throw new D(N,"Doctype can only be inserted before an element")}}function oe(ie,de,Pe,$e){be(ie,de,Pe),ie.nodeType===B.DOCUMENT_NODE&&($e||le)(ie,de,Pe);var nt=de.parentNode;if(nt&&nt.removeChild(de),de.nodeType===S){var xt=de.firstChild;if(xt==null)return de;var Ut=de.lastChild}else xt=Ut=de;var zt=Pe?Pe.previousSibling:ie.lastChild;xt.previousSibling=zt,Ut.nextSibling=Pe,zt?zt.nextSibling=xt:ie.firstChild=xt,Pe==null?ie.lastChild=Ut:Pe.previousSibling=Ut;do{xt.parentNode=ie;var Cn=ie.ownerDocument||ie;Ie(xt,Cn)}while(xt!==Ut&&(xt=xt.nextSibling));return ae(ie.ownerDocument||ie,ie),de.nodeType==S&&(de.firstChild=de.lastChild=null),de}function Ie(ie,de){if(ie.ownerDocument!==de){if(ie.ownerDocument=de,ie.nodeType===f&&ie.attributes)for(var Pe=0;Pe<ie.attributes.length;Pe++){var $e=ie.attributes.item(Pe);$e&&($e.ownerDocument=de)}for(var nt=ie.firstChild;nt;)Ie(nt,de),nt=nt.nextSibling}}function ke(ie,de){de.parentNode&&de.parentNode.removeChild(de),de.parentNode=ie,de.previousSibling=ie.lastChild,de.nextSibling=null,de.previousSibling?de.previousSibling.nextSibling=de:ie.firstChild=de,ie.lastChild=de,ae(ie.ownerDocument,ie,de);var Pe=ie.ownerDocument||ie;return Ie(de,Pe),de}J.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(ie,de){if(ie.nodeType==S){for(var Pe=ie.firstChild;Pe;){var $e=Pe.nextSibling;this.insertBefore(Pe,de),Pe=$e}return ie}return oe(this,ie,de),Ie(ie,this),this.documentElement===null&&ie.nodeType===f&&(this.documentElement=ie),ie},removeChild:function(ie){return this.documentElement==ie&&(this.documentElement=null),ce(this,ie)},replaceChild:function(ie,de){oe(this,ie,de,re),Ie(ie,this),de&&this.removeChild(de),fe(ie)&&(this.documentElement=ie)},importNode:function(ie,de){return Ln(this,ie,de)},getElementById:function(ie){var de=null;return q(this.documentElement,function(Pe){if(Pe.nodeType==f&&Pe.getAttribute("id")==ie)return de=Pe,!0}),de},getElementsByClassName:function(ie){var de=a(ie);return new O(this,function(Pe){var $e=[];return de.length>0&&q(Pe.documentElement,function(nt){if(nt!==Pe&&nt.nodeType===f){var xt=nt.getAttribute("class");if(xt){var Ut=ie===xt;if(!Ut){var zt=a(xt);Ut=de.every(o(zt))}Ut&&$e.push(nt)}}}),$e})},createElement:function(ie){var de=new he;de.ownerDocument=this,de.nodeName=ie,de.tagName=ie,de.localName=ie,de.childNodes=new M;var Pe=de.attributes=new X;return Pe._ownerElement=de,de},createDocumentFragment:function(){var ie=new st;return ie.ownerDocument=this,ie.childNodes=new M,ie},createTextNode:function(ie){var de=new Te;return de.ownerDocument=this,de.appendData(ie),de},createComment:function(ie){var de=new Re;return de.ownerDocument=this,de.appendData(ie),de},createCDATASection:function(ie){var de=new Ee;return de.ownerDocument=this,de.appendData(ie),de},createProcessingInstruction:function(ie,de){var Pe=new it;return Pe.ownerDocument=this,Pe.tagName=Pe.nodeName=Pe.target=ie,Pe.nodeValue=Pe.data=de,Pe},createAttribute:function(ie){var de=new ye;return de.ownerDocument=this,de.name=ie,de.nodeName=ie,de.localName=ie,de.specified=!0,de},createEntityReference:function(ie){var de=new qe;return de.ownerDocument=this,de.nodeName=ie,de},createElementNS:function(ie,de){var Pe=new he,$e=de.split(":"),nt=Pe.attributes=new X;return Pe.childNodes=new M,Pe.ownerDocument=this,Pe.nodeName=de,Pe.tagName=de,Pe.namespaceURI=ie,$e.length==2?(Pe.prefix=$e[0],Pe.localName=$e[1]):Pe.localName=de,nt._ownerElement=Pe,Pe},createAttributeNS:function(ie,de){var Pe=new ye,$e=de.split(":");return Pe.ownerDocument=this,Pe.nodeName=de,Pe.name=de,Pe.namespaceURI=ie,Pe.specified=!0,$e.length==2?(Pe.prefix=$e[0],Pe.localName=$e[1]):Pe.localName=de,Pe}},c(J,B);function he(){this._nsMap={}}he.prototype={nodeType:f,hasAttribute:function(ie){return this.getAttributeNode(ie)!=null},getAttribute:function(ie){var de=this.getAttributeNode(ie);return de&&de.value||""},getAttributeNode:function(ie){return this.attributes.getNamedItem(ie)},setAttribute:function(ie,de){var Pe=this.ownerDocument.createAttribute(ie);Pe.value=Pe.nodeValue=""+de,this.setAttributeNode(Pe)},removeAttribute:function(ie){var de=this.getAttributeNode(ie);de&&this.removeAttributeNode(de)},appendChild:function(ie){return ie.nodeType===S?this.insertBefore(ie,null):ke(this,ie)},setAttributeNode:function(ie){return this.attributes.setNamedItem(ie)},setAttributeNodeNS:function(ie){return this.attributes.setNamedItemNS(ie)},removeAttributeNode:function(ie){return this.attributes.removeNamedItem(ie.nodeName)},removeAttributeNS:function(ie,de){var Pe=this.getAttributeNodeNS(ie,de);Pe&&this.removeAttributeNode(Pe)},hasAttributeNS:function(ie,de){return this.getAttributeNodeNS(ie,de)!=null},getAttributeNS:function(ie,de){var Pe=this.getAttributeNodeNS(ie,de);return Pe&&Pe.value||""},setAttributeNS:function(ie,de,Pe){var $e=this.ownerDocument.createAttributeNS(ie,de);$e.value=$e.nodeValue=""+Pe,this.setAttributeNode($e)},getAttributeNodeNS:function(ie,de){return this.attributes.getNamedItemNS(ie,de)},getElementsByTagName:function(ie){return new O(this,function(de){var Pe=[];return q(de,function($e){$e!==de&&$e.nodeType==f&&(ie==="*"||$e.tagName==ie)&&Pe.push($e)}),Pe})},getElementsByTagNameNS:function(ie,de){return new O(this,function(Pe){var $e=[];return q(Pe,function(nt){nt!==Pe&&nt.nodeType===f&&(ie==="*"||nt.namespaceURI===ie)&&(de==="*"||nt.localName==de)&&$e.push(nt)}),$e})}},J.prototype.getElementsByTagName=he.prototype.getElementsByTagName,J.prototype.getElementsByTagNameNS=he.prototype.getElementsByTagNameNS,c(he,B);function ye(){}ye.prototype.nodeType=h,c(ye,B);function _e(){}_e.prototype={data:"",substringData:function(ie,de){return this.data.substring(ie,ie+de)},appendData:function(ie){ie=this.data+ie,this.nodeValue=this.data=ie,this.length=ie.length},insertData:function(ie,de){this.replaceData(ie,0,de)},appendChild:function(ie){throw new Error(I[N])},deleteData:function(ie,de){this.replaceData(ie,de,"")},replaceData:function(ie,de,Pe){var $e=this.data.substring(0,ie),nt=this.data.substring(ie+de);Pe=$e+Pe+nt,this.nodeValue=this.data=Pe,this.length=Pe.length}},c(_e,B);function Te(){}Te.prototype={nodeName:"#text",nodeType:p,splitText:function(ie){var de=this.data,Pe=de.substring(ie);de=de.substring(0,ie),this.data=this.nodeValue=de,this.length=de.length;var $e=this.ownerDocument.createTextNode(Pe);return this.parentNode&&this.parentNode.insertBefore($e,this.nextSibling),$e}},c(Te,_e);function Re(){}Re.prototype={nodeName:"#comment",nodeType:x},c(Re,_e);function Ee(){}Ee.prototype={nodeName:"#cdata-section",nodeType:v},c(Ee,_e);function ve(){}ve.prototype.nodeType=C,c(ve,B);function Me(){}Me.prototype.nodeType=F,c(Me,B);function Oe(){}Oe.prototype.nodeType=y,c(Oe,B);function qe(){}qe.prototype.nodeType=g,c(qe,B);function st(){}st.prototype.nodeName="#document-fragment",st.prototype.nodeType=S,c(st,B);function it(){}it.prototype.nodeType=b,c(it,B);function Ct(){}Ct.prototype.serializeToString=function(ie,de,Pe){return Wt.call(ie,de,Pe)},B.prototype.toString=Wt;function Wt(ie,de){var Pe=[],$e=this.nodeType==9&&this.documentElement||this,nt=$e.prefix,xt=$e.namespaceURI;if(xt&&nt==null){var nt=$e.lookupPrefix(xt);if(nt==null)var Ut=[{namespace:xt,prefix:null}]}return En(this,Pe,ie,de,Ut),Pe.join("")}function $t(ie,de,Pe){var $e=ie.prefix||"",nt=ie.namespaceURI;if(!nt||$e==="xml"&&nt===n.XML||nt===n.XMLNS)return!1;for(var xt=Pe.length;xt--;){var Ut=Pe[xt];if(Ut.prefix===$e)return Ut.namespace!==nt}return!0}function _n(ie,de,Pe){ie.push(" ",de,'="',Pe.replace(/[<>&"\t\n\r]/g,j),'"')}function En(ie,de,Pe,$e,nt){if(nt||(nt=[]),$e)if(ie=$e(ie),ie){if(typeof ie=="string"){de.push(ie);return}}else return;switch(ie.nodeType){case f:var xt=ie.attributes,Ut=xt.length,Ne=ie.firstChild,zt=ie.tagName;Pe=n.isHTML(ie.namespaceURI)||Pe;var Cn=zt;if(!Pe&&!ie.prefix&&ie.namespaceURI){for(var yn,er=0;er<xt.length;er++)if(xt.item(er).name==="xmlns"){yn=xt.item(er).value;break}if(!yn)for(var On=nt.length-1;On>=0;On--){var ir=nt[On];if(ir.prefix===""&&ir.namespace===ie.namespaceURI){yn=ir.namespace;break}}if(yn!==ie.namespaceURI)for(var On=nt.length-1;On>=0;On--){var ir=nt[On];if(ir.namespace===ie.namespaceURI){ir.prefix&&(Cn=ir.prefix+":"+zt);break}}}de.push("<",Cn);for(var pe=0;pe<Ut;pe++){var we=xt.item(pe);we.prefix=="xmlns"?nt.push({prefix:we.localName,namespace:we.value}):we.nodeName=="xmlns"&&nt.push({prefix:"",namespace:we.value})}for(var pe=0;pe<Ut;pe++){var we=xt.item(pe);if($t(we,Pe,nt)){var xe=we.prefix||"",Ce=we.namespaceURI;_n(de,xe?"xmlns:"+xe:"xmlns",Ce),nt.push({prefix:xe,namespace:Ce})}En(we,de,Pe,$e,nt)}if(zt===Cn&&$t(ie,Pe,nt)){var xe=ie.prefix||"",Ce=ie.namespaceURI;_n(de,xe?"xmlns:"+xe:"xmlns",Ce),nt.push({prefix:xe,namespace:Ce})}if(Ne||Pe&&!/^(?:meta|link|img|br|hr|input)$/i.test(zt)){if(de.push(">"),Pe&&/^script$/i.test(zt))for(;Ne;)Ne.data?de.push(Ne.data):En(Ne,de,Pe,$e,nt.slice()),Ne=Ne.nextSibling;else for(;Ne;)En(Ne,de,Pe,$e,nt.slice()),Ne=Ne.nextSibling;de.push("</",Cn,">")}else de.push("/>");return;case w:case S:for(var Ne=ie.firstChild;Ne;)En(Ne,de,Pe,$e,nt.slice()),Ne=Ne.nextSibling;return;case h:return _n(de,ie.name,ie.value);case p:return de.push(ie.data.replace(/[<&>]/g,j));case v:return de.push("<![CDATA[",ie.data,"]]>");case x:return de.push("<!--",ie.data,"-->");case C:var De=ie.publicId,Ve=ie.systemId;if(de.push("<!DOCTYPE ",ie.name),De)de.push(" PUBLIC ",De),Ve&&Ve!="."&&de.push(" ",Ve),de.push(">");else if(Ve&&Ve!=".")de.push(" SYSTEM ",Ve,">");else{var Qe=ie.internalSubset;Qe&&de.push(" [",Qe,"]"),de.push(">")}return;case b:return de.push("<?",ie.target," ",ie.data,"?>");case g:return de.push("&",ie.nodeName,";");default:de.push("??",ie.nodeName)}}function Ln(ie,de,Pe){var $e;switch(de.nodeType){case f:$e=de.cloneNode(!1),$e.ownerDocument=ie;case S:break;case h:Pe=!0;break}if($e||($e=de.cloneNode(!1)),$e.ownerDocument=ie,$e.parentNode=null,Pe)for(var nt=de.firstChild;nt;)$e.appendChild(Ln(ie,nt,Pe)),nt=nt.nextSibling;return $e}function xn(ie,de,Pe){var $e=new de.constructor;for(var nt in de)if(Object.prototype.hasOwnProperty.call(de,nt)){var xt=de[nt];typeof xt!="object"&&xt!=$e[nt]&&($e[nt]=xt)}switch(de.childNodes&&($e.childNodes=new M),$e.ownerDocument=ie,$e.nodeType){case f:var Ut=de.attributes,zt=$e.attributes=new X,Cn=Ut.length;zt._ownerElement=$e;for(var yn=0;yn<Cn;yn++)$e.setAttributeNode(xn(ie,Ut.item(yn),!0));break;case h:Pe=!0}if(Pe)for(var er=de.firstChild;er;)$e.appendChild(xn(ie,er,Pe)),er=er.nextSibling;return $e}function Rt(ie,de,Pe){ie[de]=Pe}try{if(Object.defineProperty){let ie=function(de){switch(de.nodeType){case f:case S:var Pe=[];for(de=de.firstChild;de;)de.nodeType!==7&&de.nodeType!==8&&Pe.push(ie(de)),de=de.nextSibling;return Pe.join("");default:return de.nodeValue}};var We=ie;Object.defineProperty(O.prototype,"length",{get:function(){return H(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return ie(this)},set:function(de){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(de||String(de))&&this.appendChild(this.ownerDocument.createTextNode(de));break;default:this.data=de,this.value=de,this.nodeValue=de}}}),Rt=function(de,Pe,$e){de["$$"+Pe]=$e}}}catch{}return Zl.DocumentType=ve,Zl.DOMException=D,Zl.DOMImplementation=Y,Zl.Element=he,Zl.Node=B,Zl.NodeList=M,Zl.XMLSerializer=Ct,Zl}var h0={},dD={},mj;function _7e(){return mj||(mj=1,(function(t){var e=lT().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(dD)),dD}var s2={},gj;function w7e(){if(gj)return s2;gj=1;var t=lT().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(N,R){this.message=N,this.locator=R,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(N,R,P){var D=this.domBuilder;D.startDocument(),C(R,R={}),v(N,R,P,D,this.errorHandler),D.endDocument()}};function v(N,R,P,D,M){function O(ke){if(ke>65535){ke-=65536;var he=55296+(ke>>10),ye=56320+(ke&1023);return String.fromCharCode(he,ye)}else return String.fromCharCode(ke)}function H(ke){var he=ke.slice(1,-1);return Object.hasOwnProperty.call(P,he)?P[he]:he.charAt(0)==="#"?O(parseInt(he.substr(1).replace("x","0x"))):(M.error("entity not found:"+ke),ke)}function X(ke){if(ke>J){var he=N.substring(J,ke).replace(/&#?\w+;/g,H);B&&G(J),D.characters(he,0,ke-J),J=ke}}function G(ke,he){for(;ke>=W&&(he=Y.exec(N));)Z=he.index,W=Z+he[0].length,B.lineNumber++;B.columnNumber=ke-Z+1}for(var Z=0,W=0,Y=/.*(?:\r\n?|\n)|.*$/g,B=D.locator,j=[{currentNSMap:R}],q={},J=0;;){try{var Q=N.indexOf("<",J);if(Q<0){if(!N.substr(J).match(/^\s*$/)){var te=D.doc,ae=te.createTextNode(N.substr(J));te.appendChild(ae),D.currentElement=ae}return}switch(Q>J&&X(Q),N.charAt(Q+1)){case"/":var be=N.indexOf(">",Q+3),ce=N.substring(Q+2,be).replace(/[ \t\n\r]+$/g,""),ue=j.pop();be<0?(ce=N.substring(Q+2).replace(/[\s<].*/,""),M.error("end tag name: "+ce+" is not complete:"+ue.tagName),be=Q+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),M.error("end tag name: "+ce+" maybe not complete"),be=Q+1+ce.length);var Se=ue.localNSMap,Fe=ue.tagName==ce,fe=Fe||ue.tagName&&ue.tagName.toLowerCase()==ce.toLowerCase();if(fe){if(D.endElement(ue.uri,ue.localName,ce),Se)for(var Le in Se)Object.prototype.hasOwnProperty.call(Se,Le)&&D.endPrefixMapping(Le);Fe||M.fatalError("end tag name: "+ce+" is not match the current start tagName:"+ue.tagName)}else j.push(ue);be++;break;case"?":B&&G(Q),be=F(N,Q,D);break;case"!":B&&G(Q),be=S(N,Q,D,M);break;default:B&&G(Q);var z=new A,me=j[j.length-1].currentNSMap,be=y(N,Q,z,me,H,M),le=z.length;if(!z.closed&&w(N,be,z.tagName,q)&&(z.closed=!0,P.nbsp||M.warning("unclosed xml attribute")),B&&le){for(var re=g(B,{}),oe=0;oe<le;oe++){var Ie=z[oe];G(Ie.offset),Ie.locator=g(B,{})}D.locator=re,b(z,D,me)&&j.push(z),D.locator=B}else b(z,D,me)&&j.push(z);t.isHTML(z.uri)&&!z.closed?be=x(N,be,z.tagName,H,D):be++}}catch(ke){if(ke instanceof h)throw ke;M.error("element parse error: "+ke),be=-1}be>J?J=be:X(Math.max(Q,J)+1)}}function g(N,R){return R.lineNumber=N.lineNumber,R.columnNumber=N.columnNumber,R}function y(N,R,P,D,M,O){function H(B,j,q){P.attributeNames.hasOwnProperty(B)&&O.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,M),q)}for(var X,G,Z=++R,W=i;;){var Y=N.charAt(Z);switch(Y){case"=":if(W===s)X=N.slice(R,Z),W=o;else if(W===a)W=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(W===o||W===s)if(W===s&&(O.warning('attribute value must after "="'),X=N.slice(R,Z)),R=Z+1,Z=N.indexOf(Y,R),Z>0)G=N.slice(R,Z),H(X,G,R-1),W=c;else throw new Error("attribute value no end '"+Y+"' match");else if(W==l)G=N.slice(R,Z),H(X,G,R),O.warning('attribute "'+X+'" missed start quot('+Y+")!!"),R=Z+1,W=c;else throw new Error('attribute value must after "="');break;case"/":switch(W){case i:P.setTagName(N.slice(R,Z));case c:case u:case f:W=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),W==i&&P.setTagName(N.slice(R,Z)),Z;case">":switch(W){case i:P.setTagName(N.slice(R,Z));case c:case u:case f:break;case l:case s:G=N.slice(R,Z),G.slice(-1)==="/"&&(P.closed=!0,G=G.slice(0,-1));case a:W===a&&(G=X),W==l?(O.warning('attribute "'+G+'" missed quot(")!'),H(X,G,R)):((!t.isHTML(D[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+G+'" missed value!! "'+G+'" instead!!'),H(G,G,R));break;case o:throw new Error("attribute value missed!!")}return Z;case"":Y=" ";default:if(Y<=" ")switch(W){case i:P.setTagName(N.slice(R,Z)),W=u;break;case s:X=N.slice(R,Z),W=a;break;case l:var G=N.slice(R,Z);O.warning('attribute "'+G+'" missed quot(")!!'),H(X,G,R);case c:W=u;break}else switch(W){case a:P.tagName,(!t.isHTML(D[""])||!X.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+X+'" missed value!! "'+X+'" instead2!!'),H(X,X,R),R=Z,W=s;break;case c:O.warning('attribute space is required"'+X+'"!!');case u:W=s,R=Z;break;case o:W=l,R=Z;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}Z++}}function b(N,R,P){for(var D=N.tagName,M=null,Y=N.length;Y--;){var O=N[Y],H=O.qName,X=O.value,B=H.indexOf(":");if(B>0)var G=O.prefix=H.slice(0,B),Z=H.slice(B+1),W=G==="xmlns"&&Z;else Z=H,G=null,W=H==="xmlns"&&"";O.localName=Z,W!==!1&&(M==null&&(M={},C(P,P={})),P[W]=M[W]=X,O.uri=t.XMLNS,R.startPrefixMapping(W,X))}for(var Y=N.length;Y--;){O=N[Y];var G=O.prefix;G&&(G==="xml"&&(O.uri=t.XML),G!=="xmlns"&&(O.uri=P[G||""]))}var B=D.indexOf(":");B>0?(G=N.prefix=D.slice(0,B),Z=N.localName=D.slice(B+1)):(G=null,Z=N.localName=D);var j=N.uri=P[G||""];if(R.startElement(j,Z,D,N),N.closed){if(R.endElement(j,Z,D),M)for(G in M)Object.prototype.hasOwnProperty.call(M,G)&&R.endPrefixMapping(G)}else return N.currentNSMap=P,N.localNSMap=M,!0}function x(N,R,P,D,M){if(/^(?:script|textarea)$/i.test(P)){var O=N.indexOf("</"+P+">",R),H=N.substring(R+1,O);if(/[&<]/.test(H))return/^script$/i.test(P)?(M.characters(H,0,H.length),O):(H=H.replace(/&#?\w+;/g,D),M.characters(H,0,H.length),O)}return R+1}function w(N,R,P,D){var M=D[P];return M==null&&(M=N.lastIndexOf("</"+P+">"),M<R&&(M=N.lastIndexOf("</"+P)),D[P]=M),M<R}function C(N,R){for(var P in N)Object.prototype.hasOwnProperty.call(N,P)&&(R[P]=N[P])}function S(N,R,P,D){var M=N.charAt(R+2);switch(M){case"-":if(N.charAt(R+3)==="-"){var O=N.indexOf("-->",R+4);return O>R?(P.comment(N,R+4,O-R-4),O+3):(D.error("Unclosed comment"),-1)}else return-1;default:if(N.substr(R+3,6)=="CDATA["){var O=N.indexOf("]]>",R+9);return P.startCDATA(),P.characters(N,R+9,O-R-9),P.endCDATA(),O+3}var H=I(N,R),X=H.length;if(X>1&&/!doctype/i.test(H[0][0])){var G=H[1][0],Z=!1,W=!1;X>3&&(/^public$/i.test(H[2][0])?(Z=H[3][0],W=X>4&&H[4][0]):/^system$/i.test(H[2][0])&&(W=H[3][0]));var Y=H[X-1];return P.startDTD(G,Z,W),P.endDTD(),Y.index+Y[0].length}}return-1}function F(N,R,P){var D=N.indexOf("?>",R);if(D){var M=N.substring(R,D).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return M?(M[0].length,P.processingInstruction(M[1],M[2]),D+2):-1}return-1}function A(){this.attributeNames={}}A.prototype={setTagName:function(N){if(!r.test(N))throw new Error("invalid tagName:"+N);this.tagName=N},addValue:function(N,R,P){if(!r.test(N))throw new Error("invalid attribute:"+N);this.attributeNames[N]=this.length,this[this.length++]={qName:N,value:R,offset:P}},length:0,getLocalName:function(N){return this[N].localName},getLocator:function(N){return this[N].locator},getQName:function(N){return this[N].qName},getURI:function(N){return this[N].uri},getValue:function(N){return this[N].value}};function I(N,R){var P,D=[],M=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(M.lastIndex=R,M.exec(N);P=M.exec(N);)if(D.push(P),P[1])return D}return s2.XMLReader=p,s2.ParseError=h,s2}var yj;function T7e(){if(yj)return h0;yj=1;var t=lT(),e=a5(),n=_7e(),r=w7e(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,b){var x=this.options,w=new o,C=x.domBuilder||new f,S=x.errorHandler,F=x.locator,A=x.xmlns||{},I=/\/x?html?$/.test(b),N=I?n.HTML_ENTITIES:n.XML_ENTITIES;F&&C.setDocumentLocator(F),w.errorHandler=u(S,C,F),w.domBuilder=x.domBuilder||C,I&&(A[""]=s.HTML),A.xml=A.xml||s.XML;var R=x.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(R(y),A,N):w.errorHandler.error("invalid doc source"),C.doc};function u(y,b,x){if(!y){if(b instanceof f)return b;y=b}var w={},C=y instanceof Function;x=x||{};function S(F){var A=y[F];!A&&C&&(A=y.length==2?function(I){y(F,I)}:y),w[F]=A&&function(I){A("[xmldom "+F+"]	"+I+p(x))}||function(){}}return S("warning"),S("error"),S("fatalError"),w}function f(){this.cdata=!1}function h(y,b){b.lineNumber=y.lineNumber,b.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,b,x,w){var C=this.doc,S=C.createElementNS(y,x||b),F=w.length;g(this,S),this.currentElement=S,this.locator&&h(this.locator,S);for(var A=0;A<F;A++){var y=w.getURI(A),I=w.getValue(A),x=w.getQName(A),N=C.createAttributeNS(y,x);this.locator&&h(w.getLocator(A),N),N.value=N.nodeValue=I,S.setAttributeNode(N)}},endElement:function(y,b,x){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,b){},endPrefixMapping:function(y){},processingInstruction:function(y,b){var x=this.doc.createProcessingInstruction(y,b);this.locator&&h(this.locator,x),g(this,x)},ignorableWhitespace:function(y,b,x){},characters:function(y,b,x){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,b,x){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,b,x){var w=this.doc.implementation;if(w&&w.createDocumentType){var C=w.createDocumentType(y,b,x);this.locator&&h(this.locator,C),g(this,C),this.doc.doctype=C}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,b,x){return typeof y=="string"?y.substr(b,x):y.length>=b+x||b?new java.lang.String(y,b,x)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,b){y.currentElement?y.currentElement.appendChild(b):y.doc.appendChild(b)}return h0.__DOMHandler=f,h0.normalizeLineEndings=l,h0.DOMParser=c,h0}var vj;function E7e(){if(vj)return f0;vj=1;var t=a5();return f0.DOMImplementation=t.DOMImplementation,f0.XMLSerializer=t.XMLSerializer,f0.DOMParser=T7e().DOMParser,f0}var xj;function C7e(){if(xj)return i2;xj=1;var t=E7e(),e=a5();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return i2.parseFromString=n,i2.Node=e.Node,i2}var bj;function S7e(){if(bj)return uD;bj=1;var t=vd(),e=oi,n=C7e(),r=gQ(),i=r.Element;uD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(b){var x=u(b);x&&g.push(x)});var y={};return e.forEach(p.attributes,function(b){y[h(b)]=b.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return uD}var fD={},Vd={},sl={},_j;function xd(){return _j||(_j=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},sl.assign=t,sl.isFunction=i,sl.isObject=s,sl.isArray=n,sl.isEmpty=r,sl.isPlainObject=a,sl.getValue=e}).call(sl)),sl}var O2={exports:{}},U2={exports:{}},L2={exports:{}},j2={exports:{}},D7e=j2.exports,wj;function yQ(){return wj||(wj=1,(function(){j2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(D7e)),j2.exports}var A7e=L2.exports,Tj;function cT(){return Tj||(Tj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=xd(),i=s.isObject,r=s.isFunction,n=s.getValue,e=ha(),t=yQ(),L2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(A7e)),L2.exports}var B2={exports:{}},N7e=B2.exports,Ej;function uT(){return Ej||(Ej=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),B2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(N7e)),B2.exports}var V2={exports:{}},k7e=V2.exports,Cj;function dT(){return Cj||(Cj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),V2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(k7e)),V2.exports}var W2={exports:{}},I7e=W2.exports,Sj;function fT(){return Sj||(Sj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=xd().isObject,t=ha(),W2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(I7e)),W2.exports}var q2={exports:{}},$2={exports:{}},P7e=$2.exports,Dj;function hT(){return Dj||(Dj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),$2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(P7e)),$2.exports}var z2={exports:{}},R7e=z2.exports,Aj;function pT(){return Aj||(Aj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=xd().isObject,t=ha(),z2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(R7e)),z2.exports}var H2={exports:{}},F7e=H2.exports,Nj;function mT(){return Nj||(Nj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),H2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(F7e)),H2.exports}var G2={exports:{}},M7e=G2.exports,kj;function gT(){return kj||(kj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),G2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(M7e)),G2.exports}var O7e=q2.exports,Ij;function yT(){return Ij||(Ij=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=xd().isObject,i=ha(),t=hT(),n=pT(),e=mT(),r=gT(),q2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(O7e)),q2.exports}var K2={exports:{}},U7e=K2.exports,Pj;function vT(){return Pj||(Pj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),K2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(U7e)),K2.exports}var J2={exports:{}},L7e=J2.exports,Rj;function xT(){return Rj||(Rj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),J2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(L7e)),J2.exports}var X2={exports:{}},j7e=X2.exports,Fj;function bT(){return Fj||(Fj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),X2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(j7e)),X2.exports}var Y2={exports:{}},B7e=Y2.exports,Mj;function o5(){return Mj||(Mj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ha(),Y2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(B7e)),Y2.exports}var V7e=U2.exports,Oj;function ha(){return Oj||(Oj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=xd(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,U2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=cT(),t=uT(),e=dT(),n=fT(),r=yT(),o=vT(),l=xT(),a=bT(),i=o5())}return g.prototype.element=function(y,b,x){var w,C,S,F,A,I,N,R,P,D,M;if(I=null,b===null&&x==null&&(P=[{},null],b=P[0],x=P[1]),b==null&&(b={}),b=c(b),h(b)||(D=[b,x],x=D[0],b=D[1]),y!=null&&(y=c(y)),Array.isArray(y))for(S=0,N=y.length;S<N;S++)C=y[S],I=this.element(C);else if(f(y))I=this.element(y.apply());else if(h(y)){for(A in y)if(v.call(y,A))if(M=y[A],f(M)&&(M=M.apply()),h(M)&&u(M)&&(M=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&A.indexOf(this.stringify.convertAttKey)===0)I=this.attribute(A.substr(this.stringify.convertAttKey.length),M);else if(!this.options.separateArrayItems&&Array.isArray(M))for(F=0,R=M.length;F<R;F++)C=M[F],w={},w[A]=C,I=this.element(w);else h(M)?(I=this.element(A),I.element(M)):I=this.element(A,M)}else this.options.skipNullNodes&&x===null?I=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?I=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?I=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?I=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?I=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?I=this.instruction(y.substr(this.stringify.convertPIKey.length),x):I=this.node(y,b,x);if(I==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return I},g.prototype.insertBefore=function(y,b,x){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C),w=this.parent.element(y,b,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.insertAfter=function(y,b,x){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C+1),w=this.parent.element(y,b,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,b,x){var w,C;return y!=null&&(y=c(y)),b||(b={}),b=c(b),h(b)||(C=[b,x],x=C[0],b=C[1]),w=new s(this,y,b),x!=null&&w.text(x),this.children.push(w),w},g.prototype.text=function(y){var b;return b=new l(this,y),this.children.push(b),this},g.prototype.cdata=function(y){var b;return b=new t(this,y),this.children.push(b),this},g.prototype.comment=function(y){var b;return b=new e(this,y),this.children.push(b),this},g.prototype.commentBefore=function(y){var b,x;return b=this.parent.children.indexOf(this),x=this.parent.children.splice(b),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.commentAfter=function(y){var b,x;return b=this.parent.children.indexOf(this),x=this.parent.children.splice(b+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.raw=function(y){var b;return b=new o(this,y),this.children.push(b),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,b){var x,w,C,S,F;if(y!=null&&(y=c(y)),b!=null&&(b=c(b)),Array.isArray(y))for(S=0,F=y.length;S<F;S++)x=y[S],this.instruction(x);else if(h(y))for(x in y)v.call(y,x)&&(w=y[x],this.instruction(x,w));else f(b)&&(b=b.apply()),C=new a(this,y,b),this.children.push(C);return this},g.prototype.instructionBefore=function(y,b){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,b){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,b,x){var w,C;return w=this.document(),C=new n(w,y,b,x),w.children[0]instanceof n?w.children[0]=C:w.children.unshift(C),w.root()||w},g.prototype.doctype=function(y,b){var x,w,C,S,F,A,I,N,R,P;for(w=this.document(),C=new r(w,y,b),R=w.children,S=F=0,I=R.length;F<I;S=++F)if(x=R[S],x instanceof r)return w.children[S]=C,C;for(P=w.children,S=A=0,N=P.length;A<N;S=++A)if(x=P[S],x.isRoot)return w.children.splice(S,0,C),C;return w.children.push(C),C},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var b;return b=y.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},g.prototype.debugInfo=function(y){var b,x;return y=y||this.name,y==null&&!((b=this.parent)!=null&&b.name)?"":y==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,b,x){return this.element(y,b,x)},g.prototype.nod=function(y,b,x){return this.node(y,b,x)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,b){return this.instruction(y,b)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,b,x){return this.declaration(y,b,x)},g.prototype.dtd=function(y,b){return this.doctype(y,b)},g.prototype.e=function(y,b,x){return this.element(y,b,x)},g.prototype.n=function(y,b,x){return this.node(y,b,x)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,b){return this.instruction(y,b)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(V7e)),U2.exports}var Q2={exports:{}},W7e=Q2.exports,Uj;function vQ(){return Uj||(Uj=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;Q2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(W7e)),Q2.exports}var Z2={exports:{}},eb={exports:{}},q7e=eb.exports,Lj;function xQ(){return Lj||(Lj=1,(function(){var t={}.hasOwnProperty;eb.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(q7e)),eb.exports}var $7e=Z2.exports,jj;function l5(){return jj||(jj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var x in b)g.call(b,x)&&(y[x]=b[x]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=fT(),o=yT(),t=uT(),e=dT(),c=cT(),f=vT(),h=xT(),u=bT(),l=o5(),n=hT(),r=mT(),i=pT(),s=gT(),p=xQ(),Z2.exports=(function(y){v(b,y);function b(x){b.__super__.constructor.call(this,x)}return b.prototype.document=function(x){var w,C,S,F,A;for(this.textispresent=!1,F="",A=x.children,C=0,S=A.length;C<S;C++)w=A[C],!(w instanceof l)&&(F+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&F.slice(-this.newline.length)===this.newline&&(F=F.slice(0,-this.newline.length)),F},b.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},b.prototype.cdata=function(x,w){return this.space(w)+"<![CDATA["+x.text+"]]>"+this.newline},b.prototype.comment=function(x,w){return this.space(w)+"<!-- "+x.text+" -->"+this.newline},b.prototype.declaration=function(x,w){var C;return C=this.space(w),C+='<?xml version="'+x.version+'"',x.encoding!=null&&(C+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(C+=' standalone="'+x.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},b.prototype.docType=function(x,w){var C,S,F,A,I;if(w||(w=0),A=this.space(w),A+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?A+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(A+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(A+=" [",A+=this.newline,I=x.children,S=0,F=I.length;S<F;S++)C=I[S],A+=(function(){switch(!1){case!(C instanceof n):return this.dtdAttList(C,w+1);case!(C instanceof r):return this.dtdElement(C,w+1);case!(C instanceof i):return this.dtdEntity(C,w+1);case!(C instanceof s):return this.dtdNotation(C,w+1);case!(C instanceof t):return this.cdata(C,w+1);case!(C instanceof e):return this.comment(C,w+1);case!(C instanceof u):return this.processingInstruction(C,w+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);A+="]"}return A+=this.spacebeforeslash+">",A+=this.newline,A},b.prototype.element=function(x,w){var C,S,F,A,I,N,R,P,D,M,O,H,X;w||(w=0),X=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),H=this.space(w),P="",P+=H+"<"+x.name,D=x.attributes;for(R in D)g.call(D,R)&&(C=D[R],P+=this.attribute(C));if(x.children.length===0||x.children.every(function(G){return G.value===""}))this.allowEmpty?P+="></"+x.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)P+=">",P+=x.children[0].value,P+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(M=x.children,F=0,I=M.length;F<I;F++)if(S=M[F],S.value!=null){this.textispresent++,X=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,H=this.space(w)),P+=">"+this.newline,O=x.children,A=0,N=O.length;A<N;A++)S=O[A],P+=(function(){switch(!1){case!(S instanceof t):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof c):return this.element(S,w+1);case!(S instanceof f):return this.raw(S,w+1);case!(S instanceof h):return this.text(S,w+1);case!(S instanceof u):return this.processingInstruction(S,w+1);case!(S instanceof l):return"";default:throw new Error("Unknown XML node type: "+S.constructor.name)}}).call(this);X&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=H+"</"+x.name+">"+this.newline}return P},b.prototype.processingInstruction=function(x,w){var C;return C=this.space(w)+"<?"+x.target,x.value&&(C+=" "+x.value),C+=this.spacebeforeslash+"?>"+this.newline,C},b.prototype.raw=function(x,w){return this.space(w)+x.value+this.newline},b.prototype.text=function(x,w){return this.space(w)+x.value+this.newline},b.prototype.dtdAttList=function(x,w){var C;return C=this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(C+=" "+x.defaultValueType),x.defaultValue&&(C+=' "'+x.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.dtdElement=function(x,w){return this.space(w)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},b.prototype.dtdEntity=function(x,w){var C;return C=this.space(w)+"<!ENTITY",x.pe&&(C+=" %"),C+=" "+x.name,x.value?C+=' "'+x.value+'"':(x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),x.nData&&(C+=" NDATA "+x.nData)),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.dtdNotation=function(x,w){var C;return C=this.space(w)+"<!NOTATION "+x.name,x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?C+=' PUBLIC "'+x.pubID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.openNode=function(x,w){var C,S,F,A;if(w||(w=0),x instanceof c){F=this.space(w)+"<"+x.name,A=x.attributes;for(S in A)g.call(A,S)&&(C=A[S],F+=this.attribute(C));return F+=(x.children?">":"/>")+this.newline,F}else return F=this.space(w)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?F+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(F+=' SYSTEM "'+x.sysID+'"'),F+=(x.children?" [":">")+this.newline,F},b.prototype.closeNode=function(x,w){switch(w||(w=0),!1){case!(x instanceof c):return this.space(w)+"</"+x.name+">"+this.newline;case!(x instanceof o):return this.space(w)+"]>"+this.newline}},b})(p)}).call($7e)),Z2.exports}var z7e=O2.exports,Bj;function H7e(){return Bj||(Bj=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=xd().isPlainObject,t=ha(),n=vQ(),e=l5(),O2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(z7e)),O2.exports}var tb={exports:{}},G7e=tb.exports,Vj;function K7e(){return Vj||(Vj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,b,x,w,C={}.hasOwnProperty;w=xd(),b=w.isObject,y=w.isFunction,x=w.isPlainObject,g=w.getValue,c=cT(),e=uT(),n=dT(),f=vT(),v=xT(),u=bT(),o=fT(),l=yT(),r=hT(),s=pT(),i=mT(),a=gT(),t=yQ(),p=vQ(),h=l5(),tb.exports=(function(){function S(F,A,I){var N;this.name="?xml",F||(F={}),F.writer?x(F.writer)&&(N=F.writer,F.writer=new h(N)):F.writer=new h(F),this.options=F,this.writer=F.writer,this.stringify=new p(F),this.onDataCallback=A||function(){},this.onEndCallback=I||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.node=function(F,A,I){var N,R;if(F==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(F));return this.openCurrent(),F=g(F),A===null&&I==null&&(N=[{},null],A=N[0],I=N[1]),A==null&&(A={}),A=g(A),b(A)||(R=[A,I],I=R[0],A=R[1]),this.currentNode=new c(this,F,A),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,I!=null&&this.text(I),this},S.prototype.element=function(F,A,I){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(F,A,I)},S.prototype.attribute=function(F,A){var I,N;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(F));if(F!=null&&(F=g(F)),b(F))for(I in F)C.call(F,I)&&(N=F[I],this.attribute(I,N));else y(A)&&(A=A.apply()),(!this.options.skipNullAttributes||A!=null)&&(this.currentNode.attributes[F]=new t(this,F,A));return this},S.prototype.text=function(F){var A;return this.openCurrent(),A=new v(this,F),this.onData(this.writer.text(A,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(F){var A;return this.openCurrent(),A=new e(this,F),this.onData(this.writer.cdata(A,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(F){var A;return this.openCurrent(),A=new n(this,F),this.onData(this.writer.comment(A,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(F){var A;return this.openCurrent(),A=new f(this,F),this.onData(this.writer.raw(A,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(F,A){var I,N,R,P,D;if(this.openCurrent(),F!=null&&(F=g(F)),A!=null&&(A=g(A)),Array.isArray(F))for(I=0,P=F.length;I<P;I++)N=F[I],this.instruction(N);else if(b(F))for(N in F)C.call(F,N)&&(R=F[N],this.instruction(N,R));else y(A)&&(A=A.apply()),D=new u(this,F,A),this.onData(this.writer.processingInstruction(D,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(F,A,I){var N;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return N=new o(this,F,A,I),this.onData(this.writer.declaration(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(F,A,I){if(this.openCurrent(),F==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,A,I),this.currentNode.rootNodeName=F,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(F,A){var I;return this.openCurrent(),I=new i(this,F,A),this.onData(this.writer.dtdElement(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(F,A,I,N,R){var P;return this.openCurrent(),P=new r(this,F,A,I,N,R),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(F,A){var I;return this.openCurrent(),I=new s(this,!1,F,A),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(F,A){var I;return this.openCurrent(),I=new s(this,!0,F,A),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(F,A){var I;return this.openCurrent(),I=new a(this,F,A),this.onData(this.writer.dtdNotation(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(F){if(!F.isOpen)return!this.root&&this.currentLevel===0&&F instanceof c&&(this.root=F),this.onData(this.writer.openNode(F,this.currentLevel),this.currentLevel),F.isOpen=!0},S.prototype.closeNode=function(F){if(!F.isClosed)return this.onData(this.writer.closeNode(F,this.currentLevel),this.currentLevel),F.isClosed=!0},S.prototype.onData=function(F,A){return this.documentStarted=!0,this.onDataCallback(F,A+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(F){return F==null?"":"node: <"+F+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(F,A,I){return this.node(F,A,I)},S.prototype.txt=function(F){return this.text(F)},S.prototype.dat=function(F){return this.cdata(F)},S.prototype.com=function(F){return this.comment(F)},S.prototype.ins=function(F,A){return this.instruction(F,A)},S.prototype.dec=function(F,A,I){return this.declaration(F,A,I)},S.prototype.dtd=function(F,A,I){return this.doctype(F,A,I)},S.prototype.e=function(F,A,I){return this.element(F,A,I)},S.prototype.n=function(F,A,I){return this.node(F,A,I)},S.prototype.t=function(F){return this.text(F)},S.prototype.d=function(F){return this.cdata(F)},S.prototype.c=function(F){return this.comment(F)},S.prototype.r=function(F){return this.raw(F)},S.prototype.i=function(F,A){return this.instruction(F,A)},S.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(F,A){return this.entity(F,A)},S.prototype.pent=function(F,A){return this.pEntity(F,A)},S.prototype.not=function(F,A){return this.notation(F,A)},S})()}).call(G7e)),tb.exports}var nb={exports:{}},J7e=nb.exports,Wj;function X7e(){return Wj||(Wj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var x in b)g.call(b,x)&&(y[x]=b[x]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=fT(),o=yT(),t=uT(),e=dT(),c=cT(),f=vT(),h=xT(),u=bT(),l=o5(),n=hT(),r=mT(),i=pT(),s=gT(),p=xQ(),nb.exports=(function(y){v(b,y);function b(x,w){b.__super__.constructor.call(this,w),this.stream=x}return b.prototype.document=function(x){var w,C,S,F,A,I,N,R;for(I=x.children,C=0,F=I.length;C<F;C++)w=I[C],w.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,N=x.children,R=[],S=0,A=N.length;S<A;S++)if(w=N[S],!(w instanceof l))switch(!1){case!(w instanceof a):R.push(this.declaration(w));break;case!(w instanceof o):R.push(this.docType(w));break;case!(w instanceof e):R.push(this.comment(w));break;case!(w instanceof u):R.push(this.processingInstruction(w));break;default:R.push(this.element(w))}return R},b.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},b.prototype.cdata=function(x,w){return this.stream.write(this.space(w)+"<![CDATA["+x.text+"]]>"+this.endline(x))},b.prototype.comment=function(x,w){return this.stream.write(this.space(w)+"<!-- "+x.text+" -->"+this.endline(x))},b.prototype.declaration=function(x,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},b.prototype.docType=function(x,w){var C,S,F,A;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),A=x.children,S=0,F=A.length;S<F;S++)switch(C=A[S],!1){case!(C instanceof n):this.dtdAttList(C,w+1);break;case!(C instanceof r):this.dtdElement(C,w+1);break;case!(C instanceof i):this.dtdEntity(C,w+1);break;case!(C instanceof s):this.dtdNotation(C,w+1);break;case!(C instanceof t):this.cdata(C,w+1);break;case!(C instanceof e):this.comment(C,w+1);break;case!(C instanceof u):this.processingInstruction(C,w+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},b.prototype.element=function(x,w){var C,S,F,A,I,N,R,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+x.name),N=x.attributes;for(I in N)g.call(N,I)&&(C=N[I],this.attribute(C));if(x.children.length===0||x.children.every(function(D){return D.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),R=x.children,F=0,A=R.length;F<A;F++)switch(S=R[F],!1){case!(S instanceof t):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof c):this.element(S,w+1);break;case!(S instanceof f):this.raw(S,w+1);break;case!(S instanceof h):this.text(S,w+1);break;case!(S instanceof u):this.processingInstruction(S,w+1);break;case!(S instanceof l):break;default:throw new Error("Unknown XML node type: "+S.constructor.name)}this.stream.write(P+"</"+x.name+">")}return this.stream.write(this.endline(x))},b.prototype.processingInstruction=function(x,w){return this.stream.write(this.space(w)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},b.prototype.raw=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},b.prototype.text=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},b.prototype.dtdAttList=function(x,w){return this.stream.write(this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.dtdElement=function(x,w){return this.stream.write(this.space(w)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.dtdEntity=function(x,w){return this.stream.write(this.space(w)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.dtdNotation=function(x,w){return this.stream.write(this.space(w)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},b})(p)}).call(J7e)),nb.exports}var qj;function Y7e(){return qj||(qj=1,(function(){var t,e,n,r,i,s,a;a=xd(),i=a.assign,s=a.isFunction,t=H7e(),e=K7e(),r=l5(),n=X7e(),Vd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},Vd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},Vd.stringWriter=function(o){return new r(o)},Vd.streamWriter=function(o,l){return new n(o,l)}}).call(Vd)),Vd}var $j;function Q7e(){if($j)return fD;$j=1;var t=oi,e=Y7e();fD.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return fD}var zj;function bQ(){if(zj)return jd;zj=1;var t=gQ();return jd.Element=t.Element,jd.element=t.element,jd.text=t.text,jd.readString=S7e().readString,jd.writeString=Q7e().writeString,jd}var Hj;function Z7e(){if(Hj)return r2;Hj=1;var t=oi,e=vd(),n=bQ();r2.read=i,r2.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return r2}var a2={},ko={},o2={},Gj;function eMe(){if(Gj)return o2;Gj=1,Object.defineProperty(o2,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return o2.default=t,o2}var Kj;function tMe(){if(Kj)return ko;Kj=1;var t=ko&&ko.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(ko,"__esModule",{value:!0}),ko.hex=ko.dec=ko.codePoint=void 0;for(var e=t(eMe()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}ko.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}ko.dec=u;function f(p,v){return c(p,parseInt(v,16))}ko.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return ko}var l2={},Jj;function nMe(){if(Jj)return l2;Jj=1,l2.uriToZipEntryName=t,l2.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return l2}var Xj;function rMe(){if(Xj)return a2;Xj=1,a2.createBodyReader=a,a2._readNumberingProperties=l;var t=tMe(),e=oi,n=bh(),r=Ac().Result,i=Ac().warning,s=nMe();function a(w){return{readXmlElement:function(C){return new o(w).readXmlElement(C)},readXmlElements:function(C){return new o(w).readXmlElements(C)}}}function o(w){var C=[],S=[],F=[],A=w.relationships,I=w.contentTypes,N=w.docxFile,R=w.files,P=w.numbering,D=w.styles;function M(ve){var Me=ve.map(O);return y(Me)}function O(ve){if(ve.type==="element"){var Me=Le[ve.name];if(Me)return Me(ve);if(!Object.prototype.hasOwnProperty.call(u,ve.name)){var Oe=i("An unrecognised element was ignored: "+ve.name);return f([Oe])}}return h()}function H(ve){return Y(ve).map(function(Me){return{type:"paragraphProperties",styleId:Me.styleId,styleName:Me.name,alignment:ve.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Me.styleId,ve.firstOrEmpty("w:numPr"),P),indent:X(ve.firstOrEmpty("w:ind"))}})}function X(ve){return{start:ve.attributes["w:start"]||ve.attributes["w:left"],end:ve.attributes["w:end"]||ve.attributes["w:right"],firstLine:ve.attributes["w:firstLine"],hanging:ve.attributes["w:hanging"]}}function G(ve){return B(ve).map(function(Me){var Oe=ve.firstOrEmpty("w:sz").attributes["w:val"],qe=/^[0-9]+$/.test(Oe)?parseInt(Oe,10)/2:null;return{type:"runProperties",styleId:Me.styleId,styleName:Me.name,verticalAlignment:ve.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ve.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:qe,isBold:W(ve.first("w:b")),isUnderline:Z(ve.first("w:u")),isItalic:W(ve.first("w:i")),isStrikethrough:W(ve.first("w:strike")),isAllCaps:W(ve.first("w:caps")),isSmallCaps:W(ve.first("w:smallCaps"))}})}function Z(ve){if(ve){var Me=ve.attributes["w:val"];return Me!==void 0&&Me!=="false"&&Me!=="0"&&Me!=="none"}else return!1}function W(ve){if(ve){var Me=ve.attributes["w:val"];return Me!=="false"&&Me!=="0"}else return!1}function Y(ve){return q(ve,"w:pStyle","Paragraph",D.findParagraphStyleById)}function B(ve){return q(ve,"w:rStyle","Run",D.findCharacterStyleById)}function j(ve){return q(ve,"w:tblStyle","Table",D.findTableStyleById)}function q(ve,Me,Oe,qe){var st=[],it=ve.first(Me),Ct=null,Wt=null;if(it&&(Ct=it.attributes["w:val"],Ct)){var $t=qe(Ct);$t?Wt=$t.name:st.push(Ee(Oe,Ct))}return v({styleId:Ct,name:Wt},st)}var J={type:"unknown"};function Q(ve){var Me=ve.attributes["w:fldCharType"];if(Me==="begin")C.push(J),S=[];else if(Me==="end")C.pop();else if(Me==="separate"){var Oe=ae(S.join("")),qe=Oe===null?J:{type:"hyperlink",options:Oe};C.pop(),C.push(qe)}return h()}function te(){var ve=e.last(C.filter(function(Me){return Me.type==="hyperlink"}));return ve?ve.options:null}function ae(ve){var Me=/\s*HYPERLINK "(.*)"/.exec(ve);if(Me)return{href:Me[1]};var Oe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ve);return Oe?{anchor:Oe[1]}:null}function ce(ve){return S.push(ve.text()),h()}function ue(ve){var Me=ve.attributes["w:font"],Oe=ve.attributes["w:char"],qe=t.hex(Me,Oe);return qe==null&&/^F0..$/.test(Oe)&&(qe=t.hex(Me,Oe.substring(2))),qe==null?f([i("A w:sym element with an unsupported character was ignored: char "+Oe+" in font "+Me)]):p(new n.Text(qe.string))}function Se(ve){return function(Me){var Oe=Me.attributes["w:id"];return p(new n.NoteReference({noteType:ve,noteId:Oe}))}}function Fe(ve){return p(n.commentReference({commentId:ve.attributes["w:id"]}))}function fe(ve){return M(ve.children)}var Le={"w:p":function(ve){var Me=ve.firstOrEmpty("w:pPr"),Oe=!!Me.firstOrEmpty("w:rPr").first("w:del");if(Oe)return ve.children.forEach(function(st){F.push(st)}),h();var qe=ve.children;return F.length>0&&(qe=F.concat(qe),F=[]),g.map(H(Me),M(qe),function(st,it){return new n.Paragraph(it,st)}).insertExtra()},"w:r":function(ve){return g.map(G(ve.firstOrEmpty("w:rPr")),M(ve.children),function(Me,Oe){var qe=te();return qe!==null&&(Oe=[new n.Hyperlink(Oe,qe)]),new n.Run(Oe,Me)})},"w:fldChar":Q,"w:instrText":ce,"w:t":function(ve){return p(new n.Text(ve.text()))},"w:tab":function(ve){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(ve){return p(new n.Text(""))},"w:sym":ue,"w:hyperlink":function(ve){var Me=ve.attributes["r:id"],Oe=ve.attributes["w:anchor"];return M(ve.children).map(function(qe){function st(Ct){var Wt=ve.attributes["w:tgtFrame"]||null;return new n.Hyperlink(qe,e.extend({targetFrame:Wt},Ct))}if(Me){var it=A.findTargetByRelationshipId(Me);return Oe&&(it=s.replaceFragment(it,Oe)),st({href:it})}else return Oe?st({anchor:Oe}):qe})},"w:tbl":z,"w:tr":be,"w:tc":le,"w:footnoteReference":Se("footnote"),"w:endnoteReference":Se("endnote"),"w:commentReference":Fe,"w:br":function(ve){var Me=ve.attributes["w:type"];return Me==null||Me==="textWrapping"?p(n.lineBreak):Me==="page"?p(n.pageBreak):Me==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Me)])},"w:bookmarkStart":function(ve){var Me=ve.attributes["w:name"];return Me==="_GoBack"?h():p(new n.BookmarkStart({name:Me}))},"mc:AlternateContent":function(ve){return fe(ve.first("mc:Fallback"))},"w:sdt":function(ve){return M(ve.firstOrEmpty("w:sdtContent").children)},"w:ins":fe,"w:object":fe,"w:smartTag":fe,"w:drawing":fe,"w:pict":function(ve){return fe(ve).toExtra()},"v:roundrect":fe,"v:shape":fe,"v:textbox":fe,"w:txbxContent":fe,"wp:inline":Ie,"wp:anchor":Ie,"v:imagedata":_e,"v:group":fe,"v:rect":fe};return{readXmlElement:O,readXmlElements:M};function z(ve){var Me=me(ve.firstOrEmpty("w:tblPr"));return M(ve.children).flatMap(oe).flatMap(function(Oe){return Me.map(function(qe){return n.Table(Oe,qe)})})}function me(ve){return j(ve).map(function(Me){return{styleId:Me.styleId,styleName:Me.name}})}function be(ve){var Me=ve.firstOrEmpty("w:trPr"),Oe=!!Me.first("w:tblHeader");return M(ve.children).map(function(qe){return n.TableRow(qe,{isHeader:Oe})})}function le(ve){return M(ve.children).map(function(Me){var Oe=ve.firstOrEmpty("w:tcPr"),qe=Oe.firstOrEmpty("w:gridSpan").attributes["w:val"],st=qe?parseInt(qe,10):1,it=n.TableCell(Me,{colSpan:st});return it._vMerge=re(Oe),it})}function re(ve){var Me=ve.first("w:vMerge");if(Me){var Oe=Me.attributes["w:val"];return Oe==="continue"||!Oe}else return null}function oe(ve){var Me=e.any(ve,function(st){return st.type!==n.types.tableRow});if(Me)return v(ve,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Oe=e.any(ve,function(st){return e.any(st.children,function(it){return it.type!==n.types.tableCell})});if(Oe)return v(ve,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var qe={};return ve.forEach(function(st){var it=0;st.children.forEach(function(Ct){Ct._vMerge&&qe[it]?qe[it].rowSpan++:(qe[it]=Ct,Ct._vMerge=!1),it+=Ct.colSpan})}),ve.forEach(function(st){st.children=st.children.filter(function(it){return!it._vMerge}),st.children.forEach(function(it){delete it._vMerge})}),p(ve)}function Ie(ve){var Me=ve.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Me.map(ke.bind(null,ve)))}function ke(ve,Me){var Oe=ve.first("wp:docPr").attributes,qe=he(Oe.descr)?Oe.title:Oe.descr,st=ye(Me);return st===null?f([i("Could not find image file for a:blip element")]):Re(st,qe)}function he(ve){return ve==null||/^\s*$/.test(ve)}function ye(ve){var Me=ve.attributes["r:embed"],Oe=ve.attributes["r:link"];if(Me)return Te(Me);if(Oe){var qe=A.findTargetByRelationshipId(Oe);return{path:qe,read:R.read.bind(R,qe)}}else return null}function _e(ve){var Me=ve.attributes["r:id"];return Me?Re(Te(Me),ve.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function Te(ve){var Me=s.uriToZipEntryName("word",A.findTargetByRelationshipId(ve));return{path:Me,read:N.read.bind(N,Me)}}function Re(ve,Me){var Oe=I.findContentType(ve.path),qe=n.Image({readImage:ve.read,altText:Me,contentType:Oe}),st=c[Oe]?[]:i("Image of type "+Oe+" is unlikely to display in web browsers");return v(qe,st)}function Ee(ve,Me){return i(ve+" style with ID "+Me+" was referenced but not defined in the document")}}function l(w,C,S){var F=C.firstOrEmpty("w:ilvl").attributes["w:val"],A=C.firstOrEmpty("w:numId").attributes["w:val"];if(F!==void 0&&A!==void 0)return S.findLevel(A,F);if(w!=null){var I=S.findLevelByParagraphStyleId(w);if(I!=null)return I}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,C){return new g(w,null,C)}function g(w,C,S){this.value=w||[],this.extra=C||[],this._result=new r({element:this.value,extra:C},S),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,b(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(b(this.value,w),null,this.messages):this},g.prototype.map=function(w){var C=this._result.map(function(S){return w(S.element)});return new g(C.value,this.extra,C.messages)},g.prototype.flatMap=function(w){var C=this._result.flatMap(function(S){return w(S.element)._result});return new g(C.value.element,b(this.extra,C.value.extra),C.messages)},g.map=function(w,C,S){return new g(S(w.value,C.value),b(w.extra,C.extra),w.messages.concat(C.messages))};function y(w){var C=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),x),C.messages)}function b(w,C){return e.flatten([w,C])}function x(w){return w}return a2}var hD={},Yj;function iMe(){if(Yj)return hD;Yj=1,hD.DocumentXmlReader=n;var t=bh(),e=Ac().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return hD}var p0={},Qj;function sMe(){if(Qj)return p0;Qj=1,p0.readRelationships=t,p0.defaultValue=new e([]),p0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return p0}var c2={},Zj;function aMe(){if(Zj)return c2;Zj=1,c2.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};c2.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return c2}var m0={},eB;function oMe(){if(eB)return m0;eB=1;var t=oi;m0.readNumberingXml=n,m0.Numbering=e,m0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var b=l.findNumberingStyleById(y.numStyleLink);return f(b.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return m0}var g0={},tB;function lMe(){if(tB)return g0;tB=1,g0.readStylesXml=e,g0.Styles=t,g0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return g0}var hp={},nB;function cMe(){if(nB)return hp;nB=1;var t=bh(),e=Ac().Result;hp.createFootnotesReader=n.bind(hp,"footnote"),hp.createEndnotesReader=n.bind(hp,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return hp}var pD={},rB;function uMe(){if(rB)return pD;rB=1;var t=bh(),e=Ac().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return pD.createCommentsReader=n,pD}var mD={},iB;function dMe(){if(iB)return mD;iB=1;var t=vd();mD.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return mD}var sB;function fMe(){if(sB)return e2;sB=1,e2.read=v,e2._findPartPaths=g;var t=vd(),e=bh(),n=Ac().Result,r=mQ(),i=Z7e().readXmlFromZipFile,s=rMe().createBodyReader,a=iMe().DocumentXmlReader,o=sMe(),l=aMe(),c=oMe(),u=lMe(),f=cMe(),h=uMe(),p=dMe().Files;function v(N,R){return R=R||{},t.props({contentTypes:S(N),partPaths:g(N),docxFile:N,files:R.path?p.relativeToFile(R.path):new p(null)}).also(function(P){return{styles:A(N,P.partPaths.styles)}}).also(function(P){return{numbering:F(N,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(D,M){return M?f.createFootnotesReader(D)(M):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(D,M){return M?f.createEndnotesReader(D)(M):new n([])}),comments:w(P.partPaths.comments,P,function(D,M){return M?h.createCommentsReader(D)(M):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(D){return P.endnotes.map(function(M){return new e.Notes(D.concat(M))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(D,M){return P.notes.flatMap(function(O){return P.comments.flatMap(function(H){var X=new a({bodyReader:D,notes:O,comments:H});return X.convertXmlToDocument(M)})})})})}function g(N){return I(N).then(function(R){var P=y({docxFile:N,relationships:R,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!N.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:C(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(N).then(function(D){function M(O){return y({docxFile:N,relationships:D,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+O,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+O+".xml"})}return{mainDocument:P,comments:M("comments"),endnotes:M("endnotes"),footnotes:M("footnotes"),numbering:M("numbering"),styles:M("styles")}})})}function y(N){var R=N.docxFile,P=N.relationships,D=N.relationshipType,M=N.basePath,O=N.fallbackPath,H=P.findTargetsByType(D),X=H.map(function(Z){return b(r.joinPath(M,Z),"/")}),G=X.filter(function(Z){return R.exists(Z)});return G.length===0?O:G[0]}function b(N,R){return N.substring(0,R.length)===R?N.substring(R.length):N}function x(N){return function(R){return i(R,N.filename).then(function(P){return P?N.readElement(P):N.defaultValue})}}function w(N,R,P){var D=x({filename:C(N),readElement:o.readRelationships,defaultValue:o.defaultValue});return D(R.docxFile).then(function(M){var O=new s({relationships:M,contentTypes:R.contentTypes,docxFile:R.docxFile,numbering:R.numbering,styles:R.styles,files:R.files});return i(R.docxFile,N).then(function(H){return P(O,H)})})}function C(N){var R=r.splitPath(N);return r.joinPath(R.dirname,"_rels",R.basename+".rels")}var S=x({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function F(N,R,P){return x({filename:R,readElement:function(D){return c.readNumberingXml(D,{styles:P})},defaultValue:c.defaultNumbering})(N)}function A(N,R){return x({filename:R,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(N)}var I=x({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return e2}var u2={},aB;function hMe(){if(aB)return u2;aB=1;var t=oi,e=vd(),n=bQ();u2.writeStyleMap=a,u2.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var b={"":p};return f.write(h,n.writeString(g,b))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var b={"":p};return f.write(h,n.writeString(g,b))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return u2}var d2={},Wd={},ec={},mu={},oB;function _Q(){if(oB)return mu;oB=1;var t=wT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};mu.freshElement=n,mu.nonFreshElement=e,mu.elementWithTag=r,mu.text=i,mu.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return mu.isVoidElement=o,mu}var gD,lB;function pMe(){if(lB)return gD;lB=1;var t=oi,e=_Q();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(b){l(y,b)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var b=g[g.length-1];y.type==="element"&&!y.tag.fresh&&b&&b.type==="element"&&y.tag.matchesElement(b.tag)?(y.tag.separator&&l(b.children,e.text(y.tag.separator)),y.children.forEach(function(x){l(b.children,x)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return gD=n,gD}var cB;function _T(){if(cB)return ec;cB=1;var t=_Q();ec.freshElement=t.freshElement,ec.nonFreshElement=t.nonFreshElement,ec.elementWithTag=t.elementWithTag,ec.text=t.text,ec.forceWrite=t.forceWrite,ec.simplify=pMe();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return ec.write=e,ec}var uB;function wT(){if(uB)return Wd;uB=1;var t=oi,e=_T();Wd.topLevelElement=n,Wd.elements=r,Wd.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Wd.empty=r([]),Wd.ignore={wrap:function(){return[]}},Wd}var yD={},dB;function wQ(){return dB||(dB=1,(function(t){var e=oi,n=vd(),r=_T();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(yD)),yD}var vD={},xD={},fB;function mMe(){if(fB)return xD;fB=1;var t=oi;xD.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(S,F){n[S]&&w(),c.push(S),h.open(S,F),n[S]&&o++,u=!1}function v(S){n[S]&&(o--,w()),c.pop(),h.close(S)}function g(S){x();var F=C()?S:S.replace(`
`,`
`+l);h.text(F)}function y(S,F){w(),h.selfClosing(S,F)}function b(){return c.length===0||n[c[c.length-1]]}function x(){f||(w(),f=!0)}function w(){if(f=!1,!u&&b()&&!C()){h._append(`
`);for(var S=0;S<o;S++)h._append(l)}}function C(){return t.some(c,function(S){return S==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var b=f(y);o.push("<"+g+b+">")}function c(g){o.push("</"+g+">")}function u(g,y){var b=f(y);o.push("<"+g+b+" />")}function f(g){return t.map(g,function(y,b){return" "+b+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return xD}var bD={},hB;function gMe(){if(hB)return bD;hB=1;var t=oi;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(S,F){F=F||{};var A=o[S]||function(){return{}},I=A(F,p,v);h.push({end:I.end,list:p}),I.list&&(p=I.list);var N=I.anchorPosition==="before";N&&y(F),f.push(I.start||""),N||y(F)}function y(S){S.id&&f.push('<a id="'+S.id+'"></a>')}function b(S){var F=h.pop();p=F.list;var A=t.isFunction(F.end)?F.end():F.end;f.push(A||"")}function x(S,F){g(S,F),b()}function w(S){f.push(u(S))}function C(){return f.join("")}return{asString:C,open:g,close:b,text:w,selfClosing:x}}bD.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return bD}var pB;function yMe(){if(pB)return vD;pB=1;var t=mMe(),e=gMe();vD.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return vD}var mB;function vMe(){if(mB)return d2;mB=1;var t=oi,e=vd(),n=bh(),r=wT(),i=Ac(),s=wQ(),a=_T(),o=yMe();d2.DocumentConverter=l;function l(y){return{convertToHtml:function(b){var x=t.indexBy(b.type===n.types.document?b.comments:[],"commentId"),w=new c(y,x);return w.convertToHtml(b)}}}function c(y,b){var x=1,w=[],C=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var S=y.idPrefix===void 0?"":y.idPrefix,F=y.ignoreEmptyParagraphs,A=r.topLevelElement("p"),I=y.styleMap||[];function N(z){var me=[],be=P(z,me,{}),le=[];v(be,function(oe){oe.type==="deferred"&&le.push(oe)});var re={};return e.mapSeries(le,function(oe){return oe.value().then(function(Ie){re[oe.id]=Ie})}).then(function(){function oe(ke){return p(ke,function(he){return he.type==="deferred"?re[he.id]:he.children?[t.extend({},he,{children:oe(he.children)})]:[he]})}var Ie=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(Ie,a.simplify(oe(be))),new i.Result(Ie.asString(),me)})}function R(z,me,be){return p(z,function(le){return P(le,me,be)})}function P(z,me,be){if(!be)throw new Error("options not set");var le=Le[z.type];return le?le(z,me,be):[]}function D(z,me,be){return M(z,me).wrap(function(){var le=R(z.children,me,be);return F?le:[a.forceWrite].concat(le)})}function M(z,me){var be=G(z);return be?be.to:(z.styleId&&me.push(h("paragraph",z)),A)}function O(z,me,be){var le=function(){return R(z.children,me,be)},re=[];z.isSmallCaps&&re.push(H("smallCaps")),z.isAllCaps&&re.push(H("allCaps")),z.isStrikethrough&&re.push(H("strikethrough","s")),z.isUnderline&&re.push(H("underline")),z.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),z.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),z.isItalic&&re.push(H("italic","em")),z.isBold&&re.push(H("bold","strong"));var oe=r.empty,Ie=G(z);return Ie?oe=Ie.to:z.styleId&&me.push(h("run",z)),re.push(oe),re.forEach(function(ke){le=ke.wrap.bind(ke,le)}),le()}function H(z,me){var be=X({type:z});return be||(me?r.element(me,{},{fresh:!1}):r.empty)}function X(z,me){var be=G(z);return be?be.to:me}function G(z){for(var me=0;me<I.length;me++)if(I[me].from.matches(z))return I[me]}function Z(z){return function(me,be){return e.attempt(function(){return z(me,be)}).caught(function(le){return be.push(i.error(le)),[]})}}function W(z){return B(z.noteType,z.noteId)}function Y(z){return j(z.noteType,z.noteId)}function B(z,me){return q(z+"-"+me)}function j(z,me){return q(z+"-ref-"+me)}function q(z){return S+z}var J=r.elements([r.element("table",{},{fresh:!0})]);function Q(z,me,be){return X(z,J).wrap(function(){return te(z,me,be)})}function te(z,me,be){var le=t.findIndex(z.children,function(ke){return!ke.type===n.types.tableRow||!ke.isHeader});le===-1&&(le=z.children.length);var re;if(le===0)re=R(z.children,me,t.extend({},be,{isTableHeader:!1}));else{var oe=R(z.children.slice(0,le),me,t.extend({},be,{isTableHeader:!0})),Ie=R(z.children.slice(le),me,t.extend({},be,{isTableHeader:!1}));re=[a.freshElement("thead",{},oe),a.freshElement("tbody",{},Ie)]}return[a.forceWrite].concat(re)}function ae(z,me,be){var le=R(z.children,me,be);return[a.freshElement("tr",{},[a.forceWrite].concat(le))]}function ce(z,me,be){var le=be.isTableHeader?"th":"td",re=R(z.children,me,be),oe={};return z.colSpan!==1&&(oe.colspan=z.colSpan.toString()),z.rowSpan!==1&&(oe.rowspan=z.rowSpan.toString()),[a.freshElement(le,oe,[a.forceWrite].concat(re))]}function ue(z,me,be){return X(z,r.ignore).wrap(function(){var le=b[z.commentId],re=C.length+1,oe="["+g(le)+re+"]";return C.push({label:oe,comment:le}),[a.freshElement("a",{href:"#"+B("comment",z.commentId),id:j("comment",z.commentId)},[a.text(oe)])]})}function Se(z,me,be){var le=z.label,re=z.comment,oe=R(re.body,me,be).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+le)]),a.freshElement("dd",{},oe)]}function Fe(z,me,be){return fe(z).wrap(function(){return[]})}function fe(z){var me=G(z);return me?me.to:z.breakType==="line"?r.topLevelElement("br"):r.empty}var Le={document:function(z,me,be){var le=R(z.children,me,be),re=w.map(function(Ie){return z.notes.resolve(Ie)}),oe=R(re,me,be);return le.concat([a.freshElement("ol",{},oe),a.freshElement("dl",{},p(C,function(Ie){return Se(Ie,me,be)}))])},paragraph:D,run:O,text:function(z,me,be){return[a.text(z.value)]},tab:function(z,me,be){return[a.text("	")]},hyperlink:function(z,me,be){var le=z.anchor?"#"+q(z.anchor):z.href,re={href:le};z.targetFrame!=null&&(re.target=z.targetFrame);var oe=R(z.children,me,be);return[a.nonFreshElement("a",re,oe)]},bookmarkStart:function(z,me,be){var le=a.freshElement("a",{id:q(z.name)},[a.forceWrite]);return[le]},noteReference:function(z,me,be){w.push(z);var le=a.freshElement("a",{href:"#"+W(z),id:Y(z)},[a.text("["+x+++"]")]);return[a.freshElement("sup",{},[le])]},note:function(z,me,be){var le=R(z.body,me,be),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+Y(z)},[a.text("")])]),oe=le.concat([re]);return a.freshElement("li",{id:W(z)},oe)},commentReference:ue,comment:Se,image:f(Z(y.convertImage||s.dataUri)),table:Q,tableRow:ae,tableCell:ce,break:Fe};return{convertToHtml:N}}var u=1;function f(y){return function(b,x,w){return[{type:"deferred",id:u++,value:function(){return y(b,x,w)}}]}}function h(y,b){return i.warning("Unrecognised "+y+" style: '"+b.styleName+"' (Style ID: "+b.styleId+")")}function p(y,b){return t.flatten(y.map(b),!0)}function v(y,b){y.forEach(function(x){b(x),x.children&&v(x.children,b)})}var g=d2.commentAuthorLabel=function(b){return b.authorInitials||""};return d2}var _D={},gB;function xMe(){if(gB)return _D;gB=1;var t=bh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return _D.convertElementToRawText=e,_D}var y0={},Io={},wD={},TD={exports:{}},yB;function bMe(){if(yB)return TD.exports;yB=1;var t=TD.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},TD.exports}var vB;function _Me(){if(vB)return wD;vB=1;var t=bMe();return wD.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},wD}var ED={},CD={},xB;function wMe(){return xB||(xB=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(CD)),CD}var SD,bB;function c5(){if(bB)return SD;bB=1,SD={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},SD}var DD={},_B;function TQ(){if(_B)return DD;_B=1,DD.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},DD}var AD={},wB;function TMe(){if(wB)return AD;wB=1,AD.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},AD}var TB;function EQ(){return TB||(TB=1,(function(t){var e=oi,n=wMe(),r=c5(),i=TQ(),s=TMe();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var b=u({name:h,value:p});return f(g,b)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(x,w){var C=x.result,S=x.hasCut;if(!C.isSuccess())return{result:C,hasCut:S};var F=w(C.remaining());if(F.isCut())return{result:C,hasCut:!0};if(F.isSuccess()){var A;w.isCaptured?A=C.value().withValue(w,F.value()):A=C.value();var I=F.remaining(),N=g.to(I);return{result:r.success(A,I,N),hasCut:S}}else return S?{result:r.error(F.errors(),F.remaining()),hasCut:S}:{result:F,hasCut:S}},{result:r.success(new a,g),hasCut:!1}).result,b=g.to(y.remaining());return y.map(function(x){return x.withValue(t.sequence.source,b)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var b=t.sequence.capture(h,"main"),x=o(t.then(t.sequence(p,b),t.sequence.extract(b))),w=x(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(b){return t.then(b.rule,function(x){return function(w,C){return b.func(w,x,C)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(b){var x=b,w=h(b);if(!w.isSuccess())return w;for(var C=y(w.remaining());C.isSuccess();){var S=C.remaining(),F=x.to(C.remaining()),A=C.value();w=r.success(A(w.value(),F),S,F),C=y(w.remaining())}return C.isError()?C:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(ED)),ED}var ND={exports:{}},EB;function CQ(){if(EB)return ND.exports;EB=1,ND.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},ND.exports}var kD,CB;function SQ(){return CB||(CB=1,kD=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),kD}var ID={},SB;function EMe(){return SB||(SB=1,(function(t){var e=EQ(),n=c5();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(b){return{name:b.name,rule:i(b.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(b){return g(c.untilExclusive(b))}function v(b){return g(c.untilInclusive(b))}function g(b){return y.bind(null,b)}function y(b,x){var w=u(x);return w.isSuccess()?b.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(ID)),ID}var PD={},DB;function CMe(){if(DB)return PD;DB=1;var t=SQ(),e=CQ();PD.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return PD}var AB;function DQ(){return AB||(AB=1,Io.Parser=_Me().Parser,Io.rules=EQ(),Io.errors=TQ(),Io.results=c5(),Io.StringSource=CQ(),Io.Token=SQ(),Io.bottomUp=EMe(),Io.RegexTokeniser=CMe().RegexTokeniser,Io.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Io}var Ki={},NB;function SMe(){if(NB)return Ki;NB=1,Ki.paragraph=t,Ki.run=e,Ki.table=n,Ki.bold=new r("bold"),Ki.italic=new r("italic"),Ki.underline=new r("underline"),Ki.strikethrough=new r("strikethrough"),Ki.allCaps=new r("allCaps"),Ki.smallCaps=new r("smallCaps"),Ki.commentReference=new r("commentReference"),Ki.lineBreak=new r("break",{breakType:"line"}),Ki.pageBreak=new r("break",{breakType:"page"}),Ki.columnBreak=new r("break",{breakType:"column"}),Ki.equalTo=s,Ki.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return Ki}var RD={},kB;function DMe(){if(kB)return RD;kB=1;var t=DQ(),e=t.RegexTokeniser;RD.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return RD}var IB;function AMe(){if(IB)return y0;IB=1;var t=oi,e=DQ(),n=SMe(),r=wT(),i=DMe().tokenise,s=Ac();y0.readHtmlPath=u,y0.readDocumentMatcher=l,y0.readStyle=a;function a(I){return C(A,I)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(I,N){return{from:I,to:N.valueOrElse(r.empty)}})}function l(I){return C(c(),I)}function c(){var I=e.rules.sequence,N=function(ue,Se){return e.rules.then(e.rules.token("identifier",ue),function(){return Se})},R=N("p",n.paragraph),P=N("r",n.run),D=e.rules.firstOf("p or r or table",R,P),M=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(ue){return{styleId:ue}}),O=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(ue){return{styleName:n.equalTo(ue)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(ue){return{styleName:n.startsWith(ue)}})),H=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(O),e.rules.tokenOfType("close-square-bracket")).head(),X=e.rules.firstOf("list type",N("ordered-list",{isOrdered:!0}),N("unordered-list",{isOrdered:!1})),G=I(e.rules.tokenOfType("colon"),I.capture(X),I.cut(),e.rules.tokenOfType("open-paren"),I.capture(p),e.rules.tokenOfType("close-paren")).map(function(ue,Se){return{list:{isOrdered:ue.isOrdered,levelIndex:Se-1}}});function Z(ue){var Se=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(ue)),Fe=e.rules.zeroOrMore(Se);return e.rules.then(Fe,function(fe){var Le={};return fe.forEach(function(z){t.extend(Le,z)}),Le})}var W=I(I.capture(D),I.capture(Z([M,H,G]))).map(function(ue,Se){return ue(Se)}),Y=I(e.rules.token("identifier","table"),I.capture(Z([M,H]))).map(function(ue){return n.table(ue)}),B=N("b",n.bold),j=N("i",n.italic),q=N("u",n.underline),J=N("strike",n.strikethrough),Q=N("all-caps",n.allCaps),te=N("small-caps",n.smallCaps),ae=N("comment-reference",n.commentReference),ce=I(e.rules.token("identifier","br"),I.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),I.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(ue){switch(ue){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",W,Y,B,j,q,J,Q,te,ae,ce)}function u(I){return C(f(),I)}function f(){var I=e.rules.sequence.capture,N=e.rules.tokenOfType("whitespace"),R=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(O){return O.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),I(v),e.rules.tokenOfType("close-paren")).head()),function(O){return O.valueOrElse("")}),D=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),M=e.rules.sequence(I(D),I(e.rules.zeroOrMore(w)),I(R),I(P)).map(function(O,H,X,G){var Z={},W={};return H.forEach(function(Y){Y.append&&Z[Y.name]?Z[Y.name]+=" "+Y.value:Z[Y.name]=Y.value}),X&&(W.fresh=!0),G&&(W.separator=G),r.element(O,Z,W)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(M,e.rules.sequence(N,e.rules.tokenOfType("gt"),N)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(I){return I.replace(/\\(.)/g,function(N,R){return g[R]||R})}var b=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(I,N){return{name:I,value:N,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(I){return{name:"class",value:I,append:!0}}),w=e.rules.firstOf("attribute or class",b,x);function C(I,N){var R=i(N),P=e.Parser(),D=P.parseTokens(I,R);return D.isSuccess()?s.success(D.value()):new s.Result(null,[s.warning(S(N,D))])}function S(I,N){return"Did not understand this style mapping, so ignored it: "+I+`
`+N.errors().map(F).join(`
`)}function F(I){return"Error was at character number "+I.characterNumber()+": Expected "+I.expected+" but got "+I.actual}var A=o();return y0}var v0={},PB;function NMe(){if(PB)return v0;PB=1,v0.readOptions=r;var t=oi,e=v0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=v0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return v0}var FD={},RB;function kMe(){if(RB)return FD;RB=1;var t=vd(),e=mQ();FD.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return FD}var qd={},FB;function IMe(){if(FB)return qd;FB=1;var t=oi;qd.paragraph=e,qd.run=n,qd._elements=i,qd.getDescendantsOfType=s,qd.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return qd}var MD={},MB;function PMe(){if(MB)return MD;MB=1;var t=wT(),e=_T();MD.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return MD}var OB;function RMe(){if(OB)return za;OB=1;var t=oi,e=fMe(),n=hMe(),r=vMe().DocumentConverter,i=xMe().convertElementToRawText,s=AMe().readStyle,a=NMe().readOptions,o=kMe(),l=Ac().Result;za.convertToHtml=c,za.convertToMarkdown=u,za.convert=f,za.extractRawText=g,za.images=wQ(),za.transforms=IMe(),za.underline=PMe(),za.embedStyleMap=y,za.readEmbeddedStyleMap=h;function c(b,x){return f(b,x)}function u(b,x){var w=Object.create(x||{});return w.outputFormat="markdown",f(b,w)}function f(b,x){return x=a(x),o.openZip(b).tap(function(w){return n.readStyleMap(w).then(function(C){x.embeddedStyleMap=C})}).then(function(w){return e.read(w,b).then(function(C){return C.map(x.transformDocument)}).then(function(C){return p(C,x)})})}function h(b){return o.openZip(b).then(n.readStyleMap)}function p(b,x){var w=v(x.readStyleMap()),C=t.extend({},x,{styleMap:w.value}),S=new r(C);return b.flatMapThen(function(F){return w.flatMapThen(function(A){return S.convertToHtml(F)})})}function v(b){return l.combine((b||[]).map(s)).map(function(x){return x.filter(function(w){return!!w})})}function g(b){return o.openZip(b).then(e.read).then(function(x){return x.map(i)})}function y(b,x){return o.openZip(b).tap(function(w){return n.writeStyleMap(w,x)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return za.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},za}var FMe=RMe();const MMe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},UB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},OMe={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},UMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),AQ=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=kr(),{cafes:i,codes:s}=Yt(),a=V.useMemo(()=>s.map(z=>z.key),[s]),[o,l]=V.useState("visual"),[c,u]=V.useState(t.body),[f,h]=V.useState(t.styles),[p,v]=V.useState((e==null?void 0:e.name)||t.name),[g,y]=V.useState((e==null?void 0:e.description)||""),[b,x]=V.useState((e==null?void 0:e.tags)||""),w=V.useRef(null),C=V.useRef(null),S=V.useRef(null),[F,A]=V.useState(!1),I=V.useRef(null),N=V.useRef(null),R=V.useRef(null),[P,D]=V.useState(!1),[M,O]=V.useState(""),[H,X]=V.useState(!1),[G,Z]=V.useState(!1),[W,Y]=V.useState(!1),[B,j]=V.useState(null),q=V.useRef(null),J=V.useRef(!1);V.useEffect(()=>{const z=me=>{q.current&&!q.current.contains(me.target)&&Z(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),V.useEffect(()=>{if(o==="visual"){const z=w.current;if(z){const me=z.contentDocument;if(me){const be=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;me.open(),me.write(be),me.close(),me.body.contentEditable="true"}}}else if(o==="grapesjs"&&!S.current&&C.current){const z=grapesjs.init({container:C.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:MMe});z.setComponents(c),z.setStyle(f),S.current=z}},[o,c,f]);const Q=V.useCallback(z=>{var be,le;const me=(be=w.current)==null?void 0:be.contentDocument;if(me)for(const[re,oe]of Object.entries(OMe)){const Ie=z.match(oe);if(Ie){if(re==="replaceImage"){const ke=me.getSelection();if(ke&&!ke.isCollapsed&&ke.rangeCount>0){const ye=ke.getRangeAt(0).commonAncestorContainer;let _e=null;ye.nodeName==="IMG"?_e=ye:ye.nodeType===Node.ELEMENT_NODE&&(_e=ye.querySelector("img")),_e&&(R.current=_e,(le=N.current)==null||le.click())}return}if(re==="foreColor"||re==="backColor"){const ke=Ie.find(he=>he&&UB[he]);if(ke){const he=UB[ke],ye=re==="foreColor"?"foreColor":"hiliteColor",_e=me.getSelection();ye==="hiliteColor"&&(_e!=null&&_e.isCollapsed)?me.body.style.backgroundColor=he:me.execCommand(ye,!1,he)}}else me.execCommand(re,!1,void 0);return}}},[]);V.useEffect(()=>{const z=window.SpeechRecognition||window.webkitSpeechRecognition;if(z)return I.current=new z,I.current.continuous=!0,I.current.interimResults=!1,I.current.lang="ar-SA",I.current.onstart=()=>{J.current=!0,A(!0)},I.current.onend=()=>{if(J.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{I.current.start()}catch(me){console.error("Could not restart speech recognition:",me),J.current=!1,A(!1)}}else A(!1)},I.current.onerror=me=>{console.error("Speech error:",me.error),J.current=!1,A(!1)},I.current.onresult=me=>{let be="";for(let le=me.resultIndex;le<me.results.length;++le)me.results[le].isFinal&&(be+=me.results[le][0].transcript);be.trim()&&Q(be.trim())},()=>{J.current=!1,I.current&&I.current.abort()}},[Q]);const te=()=>{var z;o==="visual"&&w.current?(u(((z=w.current.contentDocument)==null?void 0:z.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&S.current&&(u(S.current.getHtml()),h(S.current.getCss()),S.current.destroy(),S.current=null,l("visual"))},ae=async()=>{var z;D(!0),O("");try{let me=c,be=f;o==="grapesjs"&&S.current?(me=S.current.getHtml(),be=S.current.getCss()):o==="visual"&&w.current&&(me=((z=w.current.contentDocument)==null?void 0:z.body.innerHTML)||c);const le=Hb(me);await lge({previewHtml:me,templateHtml:me,sharedStyles:be,fileNameBase:e?e.id:UMe(p),docToEdit:e,prompt:p,description:g,tags:b,requiredFields:le,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(me){console.error("Publishing error:",me),O(me instanceof Error?me.message:"     .")}finally{D(!1)}},ce=z=>{var be;const me=(be=z.target.files)==null?void 0:be[0];if(me&&R.current){const le=new FileReader;le.onload=re=>{var oe;R.current&&((oe=re.target)!=null&&oe.result)&&(R.current.src=re.target.result),R.current=null,z.target&&(z.target.value="")},le.readAsDataURL(me)}},ue=()=>{const z=w.current;if(z&&z.contentDocument){const me=window.open("","_blank");me==null||me.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${z.contentDocument.body.innerHTML}</body></html>`),me==null||me.document.close(),me==null||me.focus(),me==null||me.print()}},Se=()=>{I.current&&(F?(J.current=!1,I.current.stop()):(J.current=!0,I.current.start()))},Fe=async()=>{var z,me;Z(!1),Y(!0),O("");try{const be=((me=(z=w.current)==null?void 0:z.contentDocument)==null?void 0:me.body.innerHTML)||c,le=r0e(be,a);u("");for await(const re of le)u(oe=>oe+re)}catch(be){O(be instanceof Error?be.message:"AI task failed.")}finally{Y(!1)}},fe=async()=>{var z,me;Z(!1),Y(!0),O("");try{const be=((me=(z=w.current)==null?void 0:z.contentDocument)==null?void 0:me.body.innerHTML)||c,le=await i0e(be);j(JSON.stringify(le,null,2))}catch(be){O(be instanceof Error?be.message:"AI task failed.")}finally{Y(!1)}},Le=()=>{if(!B)return;const z=new Blob([B],{type:"application/json"}),me=URL.createObjectURL(z),be=document.createElement("a");be.href=me,be.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(me)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:N,onChange:ce,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Se,className:`p-2 rounded-full transition-colors ${F?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:F?d.jsx(Cc,{}):d.jsx(mI,{})}),d.jsxs("div",{className:"relative",ref:q,children:[d.jsx("button",{onClick:()=>Z(z=>!z),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:W,children:W?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{})}),G&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Fe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:fe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>X(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(zH,{})})]}),d.jsx("button",{onClick:te,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(kw,{}):d.jsx(Xb,{})}),d.jsxs("button",{onClick:ue,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(Pw,{})," "]}),d.jsxs("button",{onClick:ae,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(bt,{className:"animate-spin"}):d.jsx(Rw,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(Yu,{})," "]})]})]}),M&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:M}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:C,className:"h-full",id:"gjs-editor"})}),H&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>X(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:z=>z.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(Yu,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:z=>v(z.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:z=>y(z.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:b,onChange:z=>x(z.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>X(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:Le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},LMe=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},jMe=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=LMe(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},BMe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},VMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],WMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:VMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),qMe=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState(null),[o,l]=V.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};V.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},$Me=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=kr(),{cafes:s,documentCommands:a}=Yt(),o=V.useRef(null),[l,c]=V.useState((t==null?void 0:t.name)||" "),[u,f]=V.useState(!1),[h,p]=V.useState(""),[v,g]=V.useState(!1),[y,b]=V.useState(!1),x=V.useRef(null),[w,C]=V.useState(!1),[S,F]=V.useState({top:0,left:0,visible:!1,component:null,type:null}),A=V.useRef(null),[I,N]=V.useState(""),R=V.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(R==null?void 0:R.speechToTextLanguage)||"ar-SA",D=window.SpeechRecognition||window.webkitSpeechRecognition,M=V.useRef(null),O=V.useRef(!1),H=V.useCallback(j=>{if(!a||!r.current)return;const q=r.current,J=q.getRichTextEditor(),Q=jMe(j,a);let te=q.getSelected();if(!te&&Q.targetText){const ae=q.getComponents(),ce=(ue,Se)=>{var Fe;for(const fe of ue.models){if((Fe=fe.get("content"))!=null&&Fe.includes(Se))return fe;const Le=ce(fe.components(),Se);if(Le)return Le}return null};te=ce(ae,Q.targetText),te&&q.select(te)}te||(te=A.current);for(const ae of Q.actions)switch(ae.intent){case"color":{let ce=ae.value;if(ce==="random"){const ue=Object.keys(a.colors);ce=ue[Math.floor(Math.random()*ue.length)]}te&&te.setStyle({...te.getStyle(),color:ce});break}case"size":{if(te){const ce=te.getStyle(),ue=ae.value;if(ue.startsWith("+")||ue.startsWith("-")){const Se=parseInt(ce["font-size"]||"16px",10),Fe=parseInt(ue,10);te.setStyle({...ce,"font-size":`${Se+Fe}px`})}else te.setStyle({...ce,"font-size":ue})}break}case"align":te&&te.setStyle({...te.getStyle(),"text-align":ae.value});break;case"bold":if(te){const ce=te.getStyle()["font-weight"]==="bold";te.setStyle({...te.getStyle(),"font-weight":ce?"normal":"bold"})}break;case"replace":ae.newText&&J&&J.insertHTML(ae.newText);break;case"delete":te?te.remove():J&&J.exec("delete");break;case"copy":te&&N(te.toHTML());break;case"paste":if(I)if(ae.pasteTarget&&ae.pastePosition){const ce=q.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let ue=!1;ce.forEach(Se=>{var Fe;if(!ue&&(Fe=Se.get("content"))!=null&&Fe.includes(ae.pasteTarget)){const fe=Se.parent(),Le=Se.index();fe.append(I,{at:ae.pastePosition==="after"?Le+1:Le}),ue=!0}})}else J.insertHTML(I);break;case"createList":{const ce=ae.listType==="numbered"?"ol":"ul";let ue=`<${ce}>`;ae.listItems&&ae.listItems.length>0?ue+=ae.listItems.map(Se=>`<li>${Se}</li>`).join(""):ue+="<li> </li>",ue+=`</${ce}>`,J.insertHTML(ue);break}case"addListItem":{const ce=q.getSelected(),ue=ce==null?void 0:ce.closest("ul, ol");ue&&ue.append(`<li>${ae.value||" "}</li>`);break}case"newLine":{const ce=q.getSelected(),ue=ce==null?void 0:ce.closest("ul, ol");ue&&ue.append("<li></li>");break}}te&&(A.current=te)},[a,r,I]);V.useEffect(()=>{if(!D)return;const j=new D;return M.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>C(!0),j.onend=()=>{if(O.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(q){console.error("Document Studio: Could not restart recognition",q),O.current=!1,C(!1)}}else C(!1)},j.onresult=q=>{const J=q.results[q.results.length-1][0].transcript.trim();J&&H(J)},j.onerror=q=>{console.error("Speech recognition error:",q.error),O.current=!1,C(!1)},()=>{M.current&&(O.current=!1,M.current.abort())}},[D,P,H]);const X=V.useCallback(()=>{if(!D)return;const j=M.current;w?(O.current=!1,j==null||j.stop()):(O.current=!0,j==null||j.start())},[D,w]);V.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:BMe});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",q=>{const J=j.Canvas.getElement(),Q=q.getEl();if(A.current=q,Q){const{top:te,left:ae}=Q.getBoundingClientRect(),ce=J.getBoundingClientRect(),ue=q.is("image"),Se=q.get("type")==="text";F(ue||Se?{top:te+ce.top-45,left:ae+ce.left,visible:!0,component:q,type:ue?"image":"text"}:Fe=>({...Fe,visible:!1}))}else F(te=>({...te,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const G=V.useCallback(()=>{if(!S.component)return;const j=window.prompt("   :");j&&S.component.set("src",j)},[S.component]),Z=V.useCallback(j=>{var J;const q=(J=j.target.files)==null?void 0:J[0];if(q&&S.component){const Q=new FileReader;Q.onload=te=>{var ae;S.component.set("src",(ae=te.target)==null?void 0:ae.result)},Q.readAsDataURL(q)}},[S.component]),W=V.useCallback(j=>{S.component&&S.component.set("src",j),g(!1)},[S.component]),Y=V.useCallback(async()=>{if(!S.component)return;const j=window.prompt("     :");if(j){b(!0);try{const q=await s0e(j);if(q.base64Image){const J=`data:image/jpeg;base64,${q.base64Image}`;S.component.set("src",J)}}catch{alert("  .")}finally{b(!1)}}},[S.component]),B=async()=>{const j=i==null?void 0:i.cafeId,q=r.current;if(!j||!q){p("      .");return}f(!0),p("");try{const J=q.getHtml(),Q=q.getCss(),te=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),ae=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Q}</style></head><body>${J}</body></html>`,ce=new File([ae],`0-${te}.html`,{type:"text/html"}),ue=new File([ae],`${te}.html`,{type:"text/html"}),[Se,Fe]=await Promise.all([wm(ce),wm(ue)]),fe={id:te,groupId:te,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:Se,finalTemplateUrl:Fe,cafeId:j};await gl.create(fe),alert(`   "${fe.name}" !`),e()}catch(J){console.error("Publishing error:",J),p(J instanceof Error?J.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:x,onChange:Z,accept:"image/*",className:"hidden"}),v&&d.jsx(qMe,{onClose:()=>g(!1),onCapture:W}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(Jb,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(bt,{className:"animate-spin"}):d.jsx(Rw,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),S.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:S.top,left:S.left},children:[S.type==="text"&&d.jsx("button",{onClick:X,disabled:!D,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(Cc,{}):d.jsx(mI,{})}),S.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:G,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(YH,{})}),d.jsx("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Ml,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Ym,{})}),d.jsx("button",{onClick:Y,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},zMe=()=>{const{user:t}=kr(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=Yt(),[i,s]=V.useState("dashboard"),[a,o]=V.useState(null),[l,c]=V.useState(!1),[u,f]=V.useState(!1),[h,p]=V.useState(""),[v,g]=V.useState(""),[y,b]=V.useState(""),x=V.useRef(null),w=V.useRef(null),[C,S]=V.useState(!1),F=V.useMemo(()=>t!=null&&t.cafeId?e.filter(H=>H.cafeId===t.cafeId):[],[e,t]),A=H=>{var G;const X=(G=H.target.files)==null?void 0:G[0];X&&I(X)},I=async H=>{f(!0),p("");try{let X=H.name.replace(/\.(html|pdf|docx)$/i,""),G="",Z="";if(H.type==="text/html"){const W=await H.text(),Y=W.match(/<style[^>]*>([\s\S]*?)<\/style>/i);Z=Y?Y[1]:"";const B=W.match(/<body[^>]*>([\s\S]*)<\/body>/i);G=B?B[1]:W}else if(H.type==="application/pdf"){const W=new FileReader,Y=await new Promise(j=>{W.onloadend=()=>j(W.result.split(",")[1]),W.readAsDataURL(H)});G=(await pG(Y)).html}else if(H.type.includes("wordprocessingml")){const W=new FileReader,Y=await new Promise(j=>{W.onloadend=()=>j(W.result),W.readAsArrayBuffer(H)});G=(await FMe.convertToHtml({arrayBuffer:Y})).value}else throw new Error("Unsupported file type.");o({name:X,body:G,styles:Z}),s("editor")}catch(X){p(X instanceof Error?X.message:"File processing failed.")}finally{f(!1)}},N=async H=>{var X;f(!0),p(""),c(!1);try{const G=await fetch(H);if(!G.ok)throw new Error("Could not fetch template");const Z=await G.text();let W=((X=H.split("/").pop())==null?void 0:X.replace("0-","").replace(".html",""))||"template";const Y=Z.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=Y?Y[1]:"",j=Z.match(/<body[^>]*>([\s\S]*)<\/body>/i),q=j?j[1]:Z;o({name:W,body:q,styles:B}),s("editor")}catch(G){p(G instanceof Error?G.message:"Template loading failed.")}finally{f(!1)}},R=async()=>{if(v.trim()){f(!0),p(""),b("");try{const H=await hc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});b(H.text||"")}catch(H){p(H instanceof Error?H.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const H=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),X=H?H[1]:"",G=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),Z=G?G[1]:y;o({name:v,body:Z,styles:X}),S(!1),s("editor")},D=()=>{if(!y)return;const H=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),X=H?H[1]:"",G=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),Z=G?G[1]:y;o({name:v,body:Z,styles:X}),S(!0),s("editor")},M=async H=>{window.confirm("        ")&&(await gl.delete(H),alert(" .      ."))},O=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),S(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx($Me,{initialContent:a,onExit:()=>s("dashboard"),onPreview:O,editorRef:w}),C&&a&&d.jsx(AQ,{initialContent:a,docToEdit:null,onClose:()=>S(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(dI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:H=>g(H.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:R,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:D,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(Jb,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(bt,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:x,onChange:A,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(WMe,{onClose:()=>c(!1),onSelect:N}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(aa,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var H;return(H=x.current)==null?void 0:H.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Ml,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(tG,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(bt,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",F.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(bt,{className:"animate-spin text-2xl mx-auto"})})}):F.length>0?F.map(H=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:H.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:H.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>M(H.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},H.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},HMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],GMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:HMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),KMe=()=>{var A;const t=Nr(),e=Si(),n=(A=t.state)==null?void 0:A.doc,[r,i]=V.useState("dashboard"),[s,a]=V.useState(null),[o,l]=V.useState(!1),[c,u]=V.useState(!1),[f,h]=V.useState(""),[p,v]=V.useState(""),[g,y]=V.useState(""),b=V.useRef(null);V.useEffect(()=>{n&&((async()=>{u(!0);try{let N="",R="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const D=await P.text(),M=D.match(/<style[^>]*>([\s\S]*?)<\/style>/i);R=M?M[1]:"";const O=D.match(/<body[^>]*>([\s\S]*)<\/body>/i);N=O?O[1]:D}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:N,styles:R},docToEdit:n})}catch(N){h(`Failed to load document: ${N.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const x=I=>{var R;const N=(R=I.target.files)==null?void 0:R[0];N&&w(N)},w=async I=>{u(!0),h("");try{let N=I.name.replace(/\.(html|pdf|docx)$/i,""),R="",P="";if(I.type==="text/html"){const D=await I.text(),M=D.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=M?M[1]:"";const O=D.match(/<body[^>]*>([\s\S]*)<\/body>/i);R=O?O[1]:D}else if(I.type==="application/pdf"){const D=new FileReader,M=await new Promise(H=>{D.onloadend=()=>H(D.result.split(",")[1]),D.readAsDataURL(I)});R=(await pG(M)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:N,body:R,styles:P},docToEdit:null})}catch(N){h(N instanceof Error?N.message:"File processing failed.")}finally{u(!1)}},C=async I=>{var N;u(!0),h(""),l(!1);try{const R=await fetch(I);if(!R.ok)throw new Error("Could not fetch template");const P=await R.text(),D=((N=I.split("/").pop())==null?void 0:N.replace("0-","").replace(".html",""))||"template",M=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),O=M?M[1]:"",H=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),X=H?H[1]:P;a({initialContent:{name:D,body:X,styles:O},docToEdit:null})}catch(R){h(R instanceof Error?R.message:"Template loading failed.")}finally{u(!1)}},S=async()=>{if(p.trim()){u(!0),h(""),y("");try{const I=await hc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(I.text||"")}catch(I){h(I instanceof Error?I.message:"AI generation failed.")}finally{u(!1)}}},F=()=>{if(!g)return;const I=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),N=I?I[1]:"",R=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=R?R[1]:g;a({initialContent:{name:p,body:P,styles:N},docToEdit:null}),i("dashboard")};return s?d.jsx(AQ,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(dI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:I=>v(I.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:F,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(bt,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:b,onChange:x,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(GMe,{onClose:()=>l(!1),onSelect:C}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(aa,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var I;return(I=b.current)==null?void 0:I.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Ml,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(tG,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(bt,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},NQ=()=>{const{t}=si();return V.useEffect(()=>{const e="google-cse-script";if(!document.getElementById(e)){const n=document.createElement("script");n.id=e,n.src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff",n.async=!0,document.head.appendChild(n)}},[]),d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx("div",{className:"my-8 max-w-md mx-auto",children:d.jsx("div",{className:"gcse-search"})}),d.jsx(sn,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},us=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},JMe=()=>{const{siteSettings:t,loading:e}=Yt(),{countryCode:n,language:r}=si(),i=Nr(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return V.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),V.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),V.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(b=>b.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://blogger.googleusercontent.com/img/a/AVvXsEjIwicMdgBHGgVbeX1gPl9n9PhWFzZvLJ5hiGy923-34GGSM59Q5EwGmpmUibE3dexwLH6tk_Y_3QYLIUZC2YA9L3xhY4XVNVW1HCi1UoZhNv-RYbnOjtxMIXo014Yg4Eqv9bCQ5d6z4j4NnKoE7fpQvW7Dla3Y5QFk0N0I28kNCfnDBGWXq0Rx5VC7f58=s16000",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const b=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,x=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=b,us("description",x,!1),us("og:title",b),us("og:description",x),us("og:site_name",l.siteName),us("og:url",window.location.href),us("og:image",c),us("og:image:secure_url",c),us("og:image:width","1200"),us("og:image:height","630"),us("og:type","website"),us("og:locale",w),us("twitter:card","summary_large_image",!1),us("twitter:url",window.location.href,!1),us("twitter:title",b,!1),us("twitter:description",x,!1),us("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://blogger.googleusercontent.com/img/a/AVvXsEjkGCrmp8eAGwzm3xT-8tifWeZwI6pwDti7gvpVxpW7aIMFfrxutIq8MaQVwWSonlisheakMWk_thkwsaiHUTGbGLsCkyIsER605MilN4jS184MEpAE_XOIl-L6qyNyVp9DKFv5mpOh8miC5A70cZeriTb45X94VYrmW1QhspDSXtSo2MJMuDECpGPTYpI"},[i.pathname,t,n,e,s,a,r]),null},LB=()=>{const{countryCode:t,siteId:e}=ua(),n=Nr(),r=Si(),[i]=cte(),{sites:s,siteSettings:a,loading:o}=Yt(),{t:l}=si(),c=V.useMemo(()=>{var C;let b=i.get("redirect");const x=i.get("name");if(b)return t&&b.startsWith("/")&&!b.startsWith(`/${t}/`)&&(b=`/${t}${b}`),{name:x||l("adPage.internalPage"),url:b,isInternal:!0};if((C=n.state)!=null&&C.targetUrl)return{name:n.state.siteName||l("adPage.internalPage"),url:n.state.targetUrl,isInternal:!0};const w=Array.isArray(s)?s.find(S=>S.id===e||S.slug===e):null;return w?{...w,isInternal:!1}:null},[s,e,n.state,i,t,l]),u=V.useMemo(()=>t?Kn.ar.some(b=>b.code===t):!1,[t]),f=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[h,p]=V.useState(f),[v,g]=V.useState(null);V.useEffect(()=>{!o&&c&&c.url!==v&&(p(f),g(c.url))},[o,c,f,v]),V.useEffect(()=>{if(v&&h>0){const b=setTimeout(()=>p(x=>x-1),1e3);return()=>clearTimeout(b)}},[h,v]);const y=()=>{c!=null&&c.url&&(typeof window.gtag=="function"&&window.gtag("event","redirect_executed",{event_category:"navigation",event_label:c.name,target_url:c.url,is_internal:c.isInternal?"true":"false"}),c.isInternal?r(c.url,{replace:!0}):window.location.href=c.url)};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(bt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:l("signup.loading")})]}):c?d.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:[u&&d.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-green-50 border border-green-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:d.jsxs("div",{className:"text-green-800 font-amiri leading-loose",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:l("adPage.hadithTitle")}),d.jsxs("p",{className:"text-xl font-medium",children:['"',l("adPage.istighfarContent"),'"']})]})}),d.jsx("div",{className:"max-w-3xl w-full text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l("adPage.preparingLink")}),h>0?d.jsxs("div",{className:"py-8",children:[d.jsx("p",{className:"text-gray-600 mb-4",children:l("adPage.pleaseWait")}),d.jsxs("div",{className:"inline-block relative",children:[d.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[d.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),d.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:351.86,strokeDashoffset:351.86-351.86*h/f,className:"text-green-600 transition-all duration-1000 ease-linear"})]}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:d.jsx("span",{className:"text-4xl font-bold text-green-600 font-mono",children:h})})]})]}):d.jsxs("div",{className:"my-6 animate-fadeIn",children:[d.jsx("p",{className:"text-green-700 font-semibold mb-4",children:l("adPage.linkReady")}),d.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 bg-green-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:[d.jsx("span",{children:l("adPage.goTo",{name:c.name})}),d.jsx(Ige,{})]})]}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l("adPage.adLabel")}),d.jsx(fc,{placement:"PDF_INTERSTITIAL"})]})]})}),u&&d.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-blue-50 border border-blue-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:d.jsxs("div",{className:"text-blue-900 font-amiri leading-loose",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-blue-200 pb-2",children:l("adPage.prayerReminderTitle")}),d.jsx("p",{className:"text-lg mb-2",children:l("adPage.hadithIntro")}),d.jsxs("p",{className:"text-xl font-bold mb-4",children:['"',l("adPage.prayerHadithContent"),'"']}),d.jsx("p",{className:"text-xs text-blue-700",children:l("adPage.prayerHadithSource")})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:l("serviceDetailPage.serviceNotFound")}),d.jsx("p",{className:"text-gray-600 mb-6",children:l("profilePage.cafeNotFoundMessage")}),d.jsx(sn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:l("confirmationPage.backToHome")})]})},XMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(vr.Quill){const t=vr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],vr.Quill.register("attributors/style/size",t,!0)}const YMe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=V.useState(""),[o,l]=V.useState(""),[c,u]=V.useState(""),[f,h]=V.useState(""),[p,v]=V.useState(!1),[g,y]=V.useState(null),b=V.useRef(null),x=V.useRef(null),w=V.useRef(null);V.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]),V.useEffect(()=>{const R=P=>{b.current&&!b.current.contains(P.target)&&y(null)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const C=(R,P)=>{var O;const D=(O=R.target.files)==null?void 0:O[0];if(!D)return;const M=new FileReader;M.onload=H=>{var G;const X=(G=H.target)==null?void 0:G.result;P==="preview"?l(X):u(X)},M.readAsText(D)},S=(R,P)=>{if(!P)return;const M=(R==="preview"?x:w).current;if(M){const O=M.selectionStart,H=M.selectionEnd,X=M.value,G=X.substring(0,O)+P+X.substring(H);R==="preview"?l(G):u(G),setTimeout(()=>{M&&(M.selectionStart=M.selectionEnd=O+P.length,M.focus())},0)}},F=R=>{const P=window.open("","_blank");P&&(P.document.write(R),P.document.close()),y(null)},A=async R=>{y(null);try{const P=document.createElement("div");P.style.width="794px",P.style.padding="20px",P.style.position="absolute",P.style.left="-9999px",P.style.backgroundColor="#fff",P.dir="rtl",P.innerHTML=R,document.body.appendChild(P);const D=await html2canvas(P,{scale:2}),M=D.toDataURL("image/png"),{jsPDF:O}=jspdf,H=new O({orientation:"portrait",unit:"pt",format:"a4"}),X=H.internal.pageSize.getWidth(),G=H.internal.pageSize.getHeight(),Z=D.width,W=D.height,Y=Z/W,B=X/G;let j,q;Y>B?(j=X,q=X/Y):(q=G,j=G*Y),H.addImage(M,"PNG",0,0,j,q);const J=H.output("bloburl");window.open(J,"_blank"),document.body.removeChild(P)}catch(P){console.error("Error generating PDF preview:",P),alert("     PDF.")}},I=(R,P)=>g!==R?null:d.jsxs("div",{className:"absolute left-0 top-full mt-1 w-40 bg-white rounded-md shadow-lg border z-50 overflow-hidden animate-fadeIn",children:[d.jsxs("button",{type:"button",onClick:()=>F(P),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-2 text-sm text-gray-700",children:[d.jsx(_ge,{className:"text-orange-500"}),"  HTML"]}),d.jsxs("button",{type:"button",onClick:()=>A(P),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-2 text-sm text-gray-700",children:[d.jsx(Kv,{className:"text-red-500"}),"  PDF"]})]}),N=async R=>{R.preventDefault(),v(!0);const P=M=>M.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),D={name:s,previewTemplateHtml:P(o),finalTemplateHtml:P(c),textPlaceholderExample:f};try{r?await Tm.update(r.id,D):await Tm.create(D),n(),e()}catch(M){console.error(M),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",onClick:()=>y(null),children:d.jsxs("form",{onSubmit:N,onClick:R=>R.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(bt,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:R=>a(R.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:R=>h(R.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2 relative",ref:b,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>y(g==="preview"?null:"preview"),className:"text-xs flex items-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-md border",children:[d.jsx(Jb,{}),"  ",d.jsx(Ec,{})]}),I("preview",o)]})]}),d.jsx("textarea",{ref:x,value:o,onChange:R=>l(R.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Ml,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:R=>C(R,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:R=>{S("preview",R.target.value),R.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(R=>d.jsxs("option",{value:R.key,children:[R.description," (",R.key,")"]},R.id))]}),d.jsx("button",{type:"button",onClick:()=>S("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>S("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2 relative",ref:b,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>y(g==="final"?null:"final"),className:"text-xs flex items-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-md border",children:[d.jsx(Jb,{}),"  ",d.jsx(Ec,{})]}),I("final",c)]})]}),d.jsx("textarea",{ref:w,value:c,onChange:R=>u(R.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Ml,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:R=>C(R,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:R=>{S("final",R.target.value),R.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(R=>d.jsxs("option",{value:R.key,children:[R.description," (",R.key,")"]},R.id))]}),d.jsx("button",{type:"button",onClick:()=>S("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>S("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},jB={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},QMe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=Yt(),[s,a]=V.useState(""),[o,l]=V.useState(""),[c,u]=V.useState("dz"),[f,h]=V.useState(""),[p,v]=V.useState(""),[g,y]=V.useState(!1),[b,x]=V.useState(!1),[w,C]=V.useState(!1),S=async()=>{if(!o||!c){alert("      .");return}x(!0),h("");try{const I=i.find(P=>P.id===s);let N="";I!=null&&I.textPlaceholderExample?N=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${I.textPlaceholderExample}"

      .`:N=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const R=await hc({model:"gemini-2.5-flash",contents:N});h(R.text||"")}catch(I){console.error("AI description generation failed:",I),alert("  .")}finally{x(!1)}},F=async()=>{if(!o){alert("    .");return}const I=i.find(N=>N.id===s);C(!0),v("");try{let N="";I!=null&&I.textPlaceholderExample?N=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${I.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:N=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const R=await hc({model:"gemini-2.5-flash",contents:N});v(R.text||"")}catch(N){console.error("AI text generation failed:",N),alert("  .")}finally{C(!1)}},A=async I=>{I.preventDefault();const N=i.find(D=>D.id===s);if(!N||!o.trim()||!p.trim()){alert("   .");return}y(!0);let R=XMe(o);if(r.find(D=>D.slug===R)){if(!window.confirm("     (    ).        ")){y(!1);return}const M=Date.now().toString().slice(-6);R=`${R}-${M}`}try{const D=Z=>Z.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),M=N.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),O=N.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),H=Hb(O),X=R,G={name:o,groupId:X,slug:R,description:f,countryCode:c||void 0,requiredFields:H,previewTemplateHtml:D(M),finalTemplateHtml:D(O),tags:N.name};await gl.create({...G,id:X}),n(),e()}catch(D){console.error("Failed to create document from base template:",D),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:A,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:I=>a(I.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(I=>d.jsx("option",{value:I.id,children:I.name},I.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:I=>l(I.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:I=>u(I.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(vr,{theme:"snow",value:f,onChange:h,modules:jB})}),d.jsx("button",{type:"button",onClick:S,disabled:b,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:b?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:F,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(bt,{className:"animate-spin"}):d.jsx(aa,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(vr,{theme:"snow",value:p,onChange:v,modules:jB})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},ZMe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=Yt(),[i,s]=V.useState(!1),[a,o]=V.useState(!1),[l,c]=V.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await Tm.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await Tm.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(YMe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(QMe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(dc,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(dc,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(bt,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(kw,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(oh,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},OD={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},eOe=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(""),[i,s]=V.useState(!0),[a,o]=V.useState(!1),[l,c]=V.useState(""),[u,f]=V.useState("");V.useEffect(()=>{s(!0),ZA().then(p=>{const v=p||OD;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(OD),r(JSON.stringify(OD,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await oge(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(Rw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},tOe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},nOe=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(""),[i,s]=V.useState(!0),[a,o]=V.useState(!1),[l,c]=V.useState(""),[u,f]=V.useState("");V.useEffect(()=>{s(!0),eN().then(p=>{const v=p||tOe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await cge(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(bt,{className:"animate-spin"}):d.jsx(Rw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},rOe=()=>{var o;const{useAdminChatManager:t}=lh(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(nN,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(gI,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(hI,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},iOe=()=>{var h,p;const{user:t}=kr(),{useCafeChatManager:e}=lh(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=V.useState({type:"admin",id:"admin"});V.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=V.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,b;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((b=v.lastMessage)==null?void 0:b.timestamp)||0)}),[r]),f=V.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx($ge,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(nN,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,b;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(zge,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(b=g.lastMessage)==null?void 0:b.text]})]}),g.unread&&d.jsx(nN,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(gI,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},BB=()=>{const{countryCode:t,docId:e}=ua(),{siteSettings:n,documents:r,fullDocuments:i,loading:s}=Yt(),{t:a}=si(),[o,l]=V.useState(null),[c,u]=V.useState(!0),[f,h]=V.useState(null),[p,v]=V.useState("form"),[g,y]=V.useState({}),[b,x]=V.useState(null),[w,C]=V.useState((n==null?void 0:n.ads.pdfInterstitialTimer)??5),S=t?`/${t}`:"/";V.useEffect(()=>{if(!e){h(a("formPage.error.noDocument")||"   ."),u(!1);return}(async()=>{o&&(o.id===e||o.slug===e)||(u(!0),h(null));try{const O=r.find(Y=>Y.id===e||Y.slug===e)||i.find(Y=>Y.id===e||Y.slug===e),H=(O==null?void 0:O.slug)||e,X=(O==null?void 0:O.countryCode)||t;let G=`https://datas.gitut.com/data/json/documents/${H}.json`;X&&X!=="global"&&(G=`https://datas.gitut.com/data/json/documents/${X}/${H}.json`);const Z=await fetch(G);if(!Z.ok)throw new Error(`${a("formPage.error.loadFailed")||"   "}. ${Z.status}`);const W=await Z.json();l(W)}catch(O){console.error("Failed to fetch document data:",O),h(O instanceof Error?O.message:a("formPage.error.unexpected")||"   .")}finally{u(!1)}})()},[e,r,i,a,t]);const F=V.useMemo(()=>o?(o.requiredFields||[]).filter(D=>D!=="DateToday").map(D=>Mr[D]):[],[o]),A=async D=>{if(!o||!D)return;const M=[o];if(D==="word"){let O=o.finalTemplateHtml||"";if(!O){alert(a("formPage.error.wordTemplateFailed")||"   .");return}const X=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});O=O.replace(/\[DateToday\]/g,X),Object.keys(g).forEach(W=>{const Y=new RegExp(`\\[${W}\\]`,"g");O=O.replace(Y,g[W]||"")}),O=O.replace(/\[[^\]]+\]/g,"");const G=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${o.name}</title></head>
                <body>${O}</body>
                </html>
            `],{type:"application/msword"}),Z=document.createElement("a");Z.href=URL.createObjectURL(G),Z.download=`${o.slug||"document"}.doc`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(Z.href);return}D==="pdf"&&await Gy(M,o.id,g,{action:"download",targetLang:"ar",templateType:"final"})};V.useEffect(()=>{if(p==="ad")if(w>0){const D=setTimeout(()=>C(M=>M-1),1e3);return()=>clearTimeout(D)}else A(b)},[p,w,b]);const I=(D,M)=>{y(O=>({...O,[D]:M}))},N=D=>{D.preventDefault(),v("select_format")},R=D=>{x(D),C((n==null?void 0:n.ads.pdfInterstitialTimer)??5),v("ad")},P=V.useMemo(()=>t?Kn.ar.some(D=>D.code===t):!1,[t]);return c?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})}):f||!o?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:f||a("formPage.error.notFound")||"    "}),d.jsx(sn,{to:S,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:a("confirmationPage.backToHome")||"   "})]}):p==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a("adPage.stepFormatTitle")}),d.jsx("p",{className:"text-gray-600",children:a("adPage.stepFormatDesc")}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>R("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(Kv,{size:40}),d.jsx("span",{children:a("adPage.downloadPdf")})]}),d.jsxs("button",{onClick:()=>R("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(pI,{size:40}),d.jsx("span",{children:a("adPage.downloadWord")})]})]})]})}):p==="ad"?d.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:[P&&d.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-green-50 border border-green-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:d.jsxs("div",{className:"text-green-800 font-amiri leading-loose",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:a("adPage.hadithTitle")||" "}),d.jsx("p",{className:"text-xl font-medium",children:a("adPage.istighfarContent")||'"                  "'})]})}),d.jsx("div",{className:"max-w-3xl w-full text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a("adPage.preparingLink")||" ..."}),w>0?d.jsxs("div",{className:"py-8",children:[d.jsx("p",{className:"text-gray-600 mb-4",children:a("adPage.pleaseWait")||"     :"}),d.jsxs("div",{className:"inline-block relative",children:[d.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[d.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),d.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:351.86,strokeDashoffset:351.86-351.86*w/((n==null?void 0:n.ads.pdfInterstitialTimer)??5),className:"text-green-600 transition-all duration-1000 ease-linear"})]}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:d.jsx("span",{className:"text-4xl font-bold text-green-600 font-mono",children:w})})]})]}):d.jsxs("div",{className:"my-6 animate-fadeIn",children:[d.jsx("p",{className:"text-green-700 font-semibold mb-4",children:a("adPage.linkReady")||" !"}),d.jsxs("button",{onClick:()=>A(b),className:"inline-flex items-center gap-2 bg-green-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:[d.jsx("span",{children:a("adPage.downloadNow")||" "}),d.jsx(lo,{})]})]}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:a("adPage.adLabel")}),d.jsx(fc,{placement:"PDF_INTERSTITIAL"})]})]})}),P&&d.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-blue-50 border border-blue-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:d.jsxs("div",{className:"text-blue-900 font-amiri leading-loose",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-blue-200 pb-2",children:a("adPage.prayerReminderTitle")||" "}),d.jsx("p",{className:"text-lg mb-2",children:a("adPage.hadithIntro")||"      :"}),d.jsx("p",{className:"text-xl font-bold mb-4",children:a("adPage.prayerHadithContent")||'"        "'}),d.jsx("p",{className:"text-xs text-blue-700",children:a("adPage.prayerHadithSource")||"      -:  -       "})]})})]}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(fc,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[a("formPage.fillDataFor")||" :"," ",o.name]}),d.jsx("p",{className:"text-gray-600",children:a("formPage.fillFieldsBelow")||"      ."})]}),d.jsxs("form",{onSubmit:N,className:"space-y-4",children:[F.map(D=>{if(!D)return null;const M=D.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:D.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(D.label)}),D.type==="file"?d.jsx(Xv,{value:g[D.id]||"",onChange:O=>I(D.id,O)}):D.type==="select"&&D.options?d.jsxs("select",{id:D.id,name:D.id,value:g[M]||"",onChange:O=>I(O.target.name,O.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:a("formPage.selectOption")||"--  --"}),D.options.map(O=>d.jsx("option",{value:O.value,children:a(O.label)},O.value))]}):d.jsx("input",{type:D.type,id:D.id,name:D.id,value:g[M]||"",onChange:O=>I(O.target.name,O.target.value),placeholder:a(D.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},D.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(KH,{}),d.jsx("span",{children:a("formPage.createDocument")||" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(fc,{placement:"PUBLIC_FORM_LEFT"})})]})},sOe=()=>{const{pathname:t}=Nr();return V.useEffect(()=>{window.scrollTo(0,0)},[t]),null},aOe=()=>{const{user:t,loading:e}=kr(),n=V.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return V.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),V.useEffect(()=>{n()},[n]),null},oOe=()=>{const{countryCode:t}=ua(),e=V.useMemo(()=>Kn.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(UN,{}):d.jsx(NQ,{})},lOe=()=>{const{user:t,loading:e}=kr(),{error:n}=Yt(),{t:r}=si(),i=Nr(),s=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),a=s?s[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Iw,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:r("app.error.title")}),d.jsx("p",{className:"text-sm",children:r("app.error.message")}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(bt,{className:"animate-spin text-4xl text-green-600"})});const o=i.pathname.startsWith("/admin");if(t&&t.countryCode&&a&&t.countryCode!==a&&!o){const h=i.pathname.replace(`/${a}`,`/${t.countryCode}`);return d.jsx(Tp,{to:h,replace:!0})}const l=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(i.pathname),c=/^\/admin\/app\/document-studio/.test(i.pathname),f=l||c?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:f,children:d.jsxs(Mee,{children:[d.jsx(Bt,{path:"/",element:d.jsx(j9,{})}),d.jsx(Bt,{path:"/admin/login",element:d.jsx(ive,{})}),d.jsxs(Bt,{path:"/admin/app",element:d.jsx(ove,{children:d.jsx(ave,{})}),children:[d.jsx(Bt,{index:!0,element:d.jsx(lve,{})}),d.jsx(Bt,{path:"users",element:d.jsx(cve,{})}),d.jsx(Bt,{path:"billing",element:d.jsx(uve,{})}),d.jsx(Bt,{path:"settings",element:d.jsx(dve,{})}),d.jsx(Bt,{path:"seo",element:d.jsx(bve,{})}),d.jsx(Bt,{path:"pages",element:d.jsx(B1e,{})}),d.jsx(Bt,{path:"ads",element:d.jsx(W1e,{})}),d.jsx(Bt,{path:"blog",element:d.jsx(U4e,{})}),d.jsx(Bt,{path:"data",element:d.jsx(z4e,{})}),d.jsx(Bt,{path:"data/json",element:d.jsx(TK,{})}),d.jsx(Bt,{path:"data/sitemaps",element:d.jsx(EK,{})}),d.jsx(Bt,{path:"data/services",element:d.jsx(DK,{})}),d.jsx(Bt,{path:"data/blog",element:d.jsx(AK,{})}),d.jsx(Bt,{path:"data/content",element:d.jsx(NK,{})}),d.jsx(Bt,{path:"data/codes",element:d.jsx(kK,{})}),d.jsx(Bt,{path:"sites",element:d.jsx(H4e,{})}),d.jsx(Bt,{path:"documents",element:d.jsx(J4e,{})}),d.jsx(Bt,{path:"document-studio",element:d.jsx(KMe,{})}),d.jsx(Bt,{path:"base-templates",element:d.jsx(ZMe,{})}),d.jsx(Bt,{path:"static-docs",element:d.jsx(tDe,{})}),d.jsx(Bt,{path:"excel-commands",element:d.jsx(eOe,{})}),d.jsx(Bt,{path:"document-commands",element:d.jsx(nOe,{})}),d.jsx(Bt,{path:"chat",element:d.jsx(rOe,{})})]}),d.jsx(Bt,{path:"/public-form/:docId",element:d.jsx(BB,{})}),d.jsx(Bt,{path:"/go-to-site/:siteId",element:d.jsx(LB,{})}),d.jsx(Bt,{path:"/login",element:d.jsx(Tp,{to:"/dz/login",replace:!0})}),d.jsx(Bt,{path:"/signup",element:d.jsx(Tp,{to:"/dz/signup",replace:!0})}),d.jsx(Bt,{path:"/app/*",element:d.jsx(Tp,{to:"/",replace:!0})}),d.jsxs(Bt,{path:"/:countryCode",element:d.jsx(oOe,{}),children:[d.jsx(Bt,{index:!0,element:d.jsx(j9,{})}),d.jsx(Bt,{path:"profile/:numericId",element:d.jsx(t0e,{})}),d.jsx(Bt,{path:"form",element:d.jsx(d0e,{})}),d.jsx(Bt,{path:"public-form/:docId",element:d.jsx(BB,{})}),d.jsx(Bt,{path:"confirmation/:jobId",element:d.jsx(f0e,{})}),d.jsx(Bt,{path:"page/:slug",element:d.jsx(V1e,{})}),d.jsx(Bt,{path:"service/:type/:id",element:d.jsx(Z4e,{})}),d.jsx(Bt,{path:"view/:docId",element:d.jsx(rDe,{})}),d.jsx(Bt,{path:"go-to-site/:siteId",element:d.jsx(LB,{})}),d.jsx(Bt,{path:"find-cafe",element:d.jsx(aDe,{})}),d.jsx(Bt,{path:"login",element:d.jsx(h0e,{})}),d.jsx(Bt,{path:"signup",element:d.jsx(m0e,{})}),d.jsxs(Bt,{path:"app",element:d.jsx(M0e,{children:d.jsx(v0e,{children:d.jsx(T0e,{})})}),children:[d.jsx(Bt,{index:!0,element:d.jsx(S0e,{})}),d.jsx(Bt,{path:"pending-jobs",element:d.jsx(k0e,{})}),d.jsx(Bt,{path:"generate",element:d.jsx(F0e,{})}),d.jsx(Bt,{path:"excel-studio",element:d.jsx(m9e,{})}),d.jsx(Bt,{path:"document-studio",element:d.jsx(zMe,{})}),d.jsx(Bt,{path:"settings",element:d.jsx(Xye,{})}),d.jsx(Bt,{path:"multi-person-job",element:d.jsx(Zye,{})}),d.jsx(Bt,{path:"billing",element:d.jsx(rve,{})}),d.jsx(Bt,{path:"fill-site/:siteId",element:d.jsx(G4e,{})}),d.jsx(Bt,{path:"clients",element:d.jsx(X4e,{})}),d.jsx(Bt,{path:"view-pdf/:docId",element:d.jsx(nDe,{})}),d.jsx(Bt,{path:"chat",element:d.jsx(iOe,{})})]})]}),d.jsx(Bt,{path:"*",element:d.jsx(NQ,{})})]})})},cOe=()=>d.jsx(dge,{children:d.jsx(Kge,{children:d.jsx(ste,{children:d.jsx(Jge,{children:d.jsxs(Zge,{children:[d.jsx(JMe,{}),d.jsx(sOe,{}),d.jsx(aOe,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(Gge,{}),d.jsx(lOe,{}),d.jsx(Xge,{})]})]})})})})}),kQ=document.getElementById("root");if(!kQ)throw new Error("Could not find root element to mount to");const uOe=qZ.createRoot(kQ);uOe.render(d.jsx(Tl.StrictMode,{children:d.jsx(cOe,{})}));
