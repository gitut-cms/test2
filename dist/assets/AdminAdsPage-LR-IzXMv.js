import{u as O,r as d,j as e,F as S,C as g,by as i,bz as T,bp as H}from"./index-DgmZNK3x.js";const p={DASHBOARD_TOP:"ÿ£ÿπŸÑŸâ ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ",PROFILE_SIDEBAR:"ÿßŸÑÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ¨ÿßŸÜÿ®Ÿä ŸÑÿµŸÅÿ≠ÿ© ÿßŸÑŸÖŸÇŸáŸâ",PDF_INTERSTITIAL:"ÿµŸÅÿ≠ÿ© ÿßŸÜÿ™ÿ∏ÿßÿ± ŸÅÿ™ÿ≠ ÿßŸÑŸÖŸÑŸÅ",WAITING_PAGE_LEFT:"ÿµŸÅÿ≠ÿ© ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ± (GoToSite) - Ÿäÿ≥ÿßÿ±",WAITING_PAGE_RIGHT:"ÿµŸÅÿ≠ÿ© ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ± (GoToSite) - ŸäŸÖŸäŸÜ",PUBLIC_FORM_LEFT:"ŸÜŸÖŸàÿ∞ÿ¨ ÿßŸÑÿ™ÿπÿ®ÿ¶ÿ© ÿßŸÑÿπÿßŸÖ - Ÿäÿ≥ÿßÿ±",PUBLIC_FORM_RIGHT:"ŸÜŸÖŸàÿ∞ÿ¨ ÿßŸÑÿ™ÿπÿ®ÿ¶ÿ© ÿßŸÑÿπÿßŸÖ - ŸäŸÖŸäŸÜ",SERVICE_DETAIL_MAIN_TOP:"ÿµŸÅÿ≠ÿ© ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ (ÿ™ÿ≠ÿ™ ÿßŸÑŸÖŸÑÿßÿ≠ÿ∏ÿ©)",SERVICE_DETAIL_MAIN_BOTTOM:"ÿµŸÅÿ≠ÿ© ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖÿ≥ÿ™ŸÜÿØ (ŸÅŸàŸÇ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ±)",SITE_DETAIL_SIDEBAR:"ÿµŸÅÿ≠ÿ© ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖŸàŸÇÿπ (ÿßŸÑÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ¨ÿßŸÜÿ®Ÿä)",BLOG_POST_BODY_TOP:"ÿßŸÑŸÖÿØŸàŸÜÿ© (ÿ®ÿπÿØ ÿßŸÑŸÅŸÇÿ±ÿ© ÿßŸÑÿ£ŸàŸÑŸâ)",BLOG_POST_BODY_BOTTOM:"ÿßŸÑŸÖÿØŸàŸÜÿ© (ŸÇÿ®ŸÑ ÿßŸÑŸÅŸÇÿ±ÿ© ÿßŸÑÿ£ÿÆŸäÿ±ÿ©)",BLOG_POST_SIDEBAR:"ÿßŸÑŸÖÿØŸàŸÜÿ© (ÿßŸÑÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ¨ÿßŸÜÿ®Ÿä)"},_=()=>{const{ads:c,refetchAdminData:y}=O(),[x,j]=d.useState(c),[r,m]=d.useState({isOpen:!1,mode:"create",ad:null}),[l,a]=d.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0,countryCode:"global",displayStyle:"overlay",useCustomHtml:!1,customHtml:""}),[o,b]=d.useState(!1);d.useEffect(()=>{j(c)},[c]);const u=async()=>{b(!0);try{const t=await T("settings","global"),s=JSON.stringify(t);await H({files:[{path:"data/json/site-settings-public.json",content:s}],commitMessage:"feat: Auto-update ads in settings",repoConfig:{owner:"gitut-cms",repo:"files"}}),await y()}catch(t){console.error("Failed to auto-publish ads to GitHub:",t),alert("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπŸÑÿßŸÜ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ÿå ŸàŸÑŸÉŸÜ ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿπÿßŸÖ ÿπŸÑŸâ GitHub.")}finally{b(!1)}},f=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0,countryCode:"global",displayStyle:"overlay",useCustomHtml:!1,customHtml:""}),m({isOpen:!0,mode:"create",ad:null})},v=t=>{a({...t,countryCode:t.countryCode||"global",displayStyle:t.displayStyle||"overlay",useCustomHtml:t.useCustomHtml||!1,customHtml:t.customHtml||""}),m({isOpen:!0,mode:"edit",ad:t})},h=()=>{m({isOpen:!1,mode:"create",ad:null})},N=async t=>{t.preventDefault();try{r.mode==="create"?await i.create(l):r.ad&&await i.update(r.ad.id,l),h(),await u(),alert("ÿ™ŸÖ ÿßŸÑÿ≠ŸÅÿ∏ ŸàÿßŸÑŸÜÿ¥ÿ± ÿ®ŸÜÿ¨ÿßÿ≠!")}catch(s){console.error("Failed to save ad:",s),alert("ŸÅÿ¥ŸÑ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπŸÑÿßŸÜ.")}},w=async t=>{try{const s=x.find(n=>n.id===t);s&&(await i.toggleStatus(t,s.enabled),await u())}catch(s){console.error("Failed to toggle status:",s),alert("ŸÅÿ¥ŸÑ ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿ≠ÿßŸÑÿ©.")}},C=async t=>{if(window.confirm("ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜŸÉ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿπŸÑÿßŸÜÿü"))try{await i.delete(t),await u()}catch(s){console.error("Failed to delete ad:",s),alert("ŸÅÿ¥ŸÑ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿπŸÑÿßŸÜ.")}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™"}),o&&e.jsxs("span",{className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[e.jsx(S,{className:"animate-spin"}),"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ŸàÿßŸÑŸÜÿ¥ÿ±..."]})]}),e.jsx("button",{onClick:f,disabled:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:"+ ÿ•ŸÜÿ¥ÿßÿ° ÿ•ÿπŸÑÿßŸÜ ÿ¨ÿØŸäÿØ"})]}),e.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ÿßŸÑÿπŸÜŸàÿßŸÜ"}),e.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ÿßŸÑÿØŸàŸÑÿ©"}),e.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ŸÖŸàÿ∂ÿπ ÿßŸÑÿ∏ŸáŸàÿ±"}),e.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ÿßŸÑÿ≠ÿßŸÑÿ©"}),e.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™"})]})}),e.jsx("tbody",{children:x.map(t=>{var s;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:t.title||(t.useCustomHtml?"ŸÉŸàÿØ HTML ŸÖÿÆÿµÿµ":"ÿ®ÿØŸàŸÜ ÿπŸÜŸàÿßŸÜ")}),e.jsx("td",{className:"p-3 text-gray-600",children:t.countryCode==="global"||!t.countryCode?"ÿßŸÑŸÉŸÑ üåç":((s=g.en.find(n=>n.code===t.countryCode))==null?void 0:s.flag)+" "+t.countryCode.toUpperCase()}),e.jsx("td",{className:"p-3 text-gray-600",children:p[t.placement]}),e.jsx("td",{className:"p-3",children:e.jsx("button",{onClick:()=>w(t.id),disabled:o,className:`px-3 py-1 text-xs font-semibold rounded-full disabled:opacity-50 ${t.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:t.enabled?"ŸÖŸèŸÅÿπŸëŸéŸÑ":"ŸÖÿπÿ∑ŸëŸéŸÑ"})}),e.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[e.jsx("button",{onClick:()=>v(t),disabled:o,className:"text-green-600 hover:underline text-sm font-semibold disabled:opacity-50",children:"ÿ™ÿπÿØŸäŸÑ"}),e.jsx("button",{onClick:()=>C(t.id),disabled:o,className:"text-red-600 hover:underline text-sm font-semibold disabled:opacity-50",children:"ÿ≠ÿ∞ŸÅ"})]})]},t.id)})})]})})}),r.isOpen&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:e.jsxs("form",{onSubmit:N,children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"ÿ•ŸÜÿ¥ÿßÿ° ÿ•ÿπŸÑÿßŸÜ ÿ¨ÿØŸäÿØ":"ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ•ÿπŸÑÿßŸÜ"})}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ÿßŸÑÿØŸàŸÑÿ© ÿßŸÑŸÖÿ≥ÿ™ŸáÿØŸÅÿ©"}),e.jsxs("select",{id:"countryCode",value:l.countryCode,onChange:t=>a(s=>({...s,countryCode:t.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",children:[e.jsx("option",{value:"global",children:"ŸÉŸÑ ÿßŸÑÿ®ŸÑÿØÿßŸÜ üåç"}),g.en.map(t=>e.jsxs("option",{value:t.code,children:[t.flag," ",t.name]},t.code))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:"ŸÖŸàÿ∂ÿπ ÿßŸÑÿ∏ŸáŸàÿ±"}),e.jsx("select",{id:"placement",value:l.placement,onChange:t=>a(s=>({...s,placement:t.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",children:Object.entries(p).map(([t,s])=>e.jsx("option",{value:t,children:s},t))})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[e.jsx("input",{type:"checkbox",checked:l.useCustomHtml,onChange:t=>a(s=>({...s,useCustomHtml:t.target.checked})),className:"h-4 w-4 rounded text-blue-600"}),e.jsx("span",{className:"font-bold text-gray-700",children:"ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÉŸàÿØ HTML ŸÖÿÆÿµÿµ"})]}),l.useCustomHtml?e.jsx("textarea",{id:"customHtml",rows:6,value:l.customHtml,onChange:t=>a(s=>({...s,customHtml:t.target.value})),placeholder:"<div class='my-ad'>...</div>",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm font-mono text-xs",dir:"ltr"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"ÿπŸÜŸàÿßŸÜ ÿßŸÑÿ•ÿπŸÑÿßŸÜ"}),e.jsx("input",{type:"text",id:"title",value:l.title,onChange:t=>a(s=>({...s,title:t.target.value})),required:!l.useCustomHtml,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"displayStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"ÿ£ÿ≥ŸÑŸàÿ® ÿπÿ±ÿ∂ ÿßŸÑŸÜÿµ"}),e.jsxs("select",{id:"displayStyle",value:l.displayStyle,onChange:t=>a(s=>({...s,displayStyle:t.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",children:[e.jsx("option",{value:"overlay",children:"ÿØÿßÿÆŸÑ ÿßŸÑÿµŸàÿ±ÿ© (Overlay)"}),e.jsx("option",{value:"below",children:"ÿ™ÿ≠ÿ™ ÿßŸÑÿµŸàÿ±ÿ© (Card)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸÜÿµ"}),e.jsx("textarea",{id:"content",rows:2,value:l.content,onChange:t=>a(s=>({...s,content:t.target.value})),required:!l.useCustomHtml,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿµŸàÿ±ÿ©"}),e.jsx("input",{type:"url",id:"imageUrl",value:l.imageUrl,onChange:t=>a(s=>({...s,imageUrl:t.target.value})),required:!l.useCustomHtml,placeholder:"https://...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",dir:"ltr"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:"ÿßŸÑÿ±ÿßÿ®ÿ∑ (ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ±)"}),e.jsx("input",{type:"url",id:"link",value:l.link,onChange:t=>a(s=>({...s,link:t.target.value})),required:!l.useCustomHtml,placeholder:"https://...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",dir:"ltr"})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"ÿ≠ŸÅÿ∏ ŸàŸÜÿ¥ÿ±"})]})]})})})]})};export{_ as default};
