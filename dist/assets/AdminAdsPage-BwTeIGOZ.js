import{u as D,r,C,j as e,F as k,by as R,H as B,bz as g,l as w,g as F,m as G,d as H,b0 as M,bA as U,bp as V}from"./index-hpjxKmld.js";const O={DASHBOARD_TOP:"Ø£Ø¹Ù„Ù‰ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",PROFILE_SIDEBAR:"Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ù‚Ù‡Ù‰",PDF_INTERSTITIAL:"ØµÙØ­Ø© Ø§Ù†ØªØ¸Ø§Ø± ÙØªØ­ Ø§Ù„Ù…Ù„Ù",WAITING_PAGE_LEFT:"ØµÙØ­Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± (GoToSite) - ÙŠØ³Ø§Ø±",WAITING_PAGE_RIGHT:"ØµÙØ­Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± (GoToSite) - ÙŠÙ…ÙŠÙ†",PUBLIC_FORM_LEFT:"Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¹Ø§Ù… - ÙŠØ³Ø§Ø±",PUBLIC_FORM_RIGHT:"Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¹Ø§Ù… - ÙŠÙ…ÙŠÙ†",SERVICE_DETAIL_MAIN_TOP:"ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ (ØªØ­Øª Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©)",SERVICE_DETAIL_MAIN_BOTTOM:"ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ (ÙÙˆÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø±)",SITE_DETAIL_SIDEBAR:"ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ)",BLOG_POST_BODY_TOP:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© (Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰)",BLOG_POST_BODY_BOTTOM:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© (Ù‚Ø¨Ù„ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©)",BLOG_POST_SIDEBAR:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© (Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ)",BLOG_P3:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©",BLOG_P4:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©",BLOG_P5:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©",BLOG_P6:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø³Ø§Ø¯Ø³Ø©",BLOG_P7:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©",SERVICE_P3:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©",SERVICE_P4:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©",SERVICE_P5:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©",SERVICE_P6:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø³Ø§Ø¯Ø³Ø©",SERVICE_P7:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ - Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©",BLOG_POST_RELATED_TOP:"Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© - ÙÙˆÙ‚ Ù…Ù‚Ø§Ù„Ø§Øª Ø°Ø§Øª ØµÙ„Ø©",SERVICE_DETAIL_RELATED_TOP:"Ø§Ù„Ù…Ø³ØªÙ†Ø¯ - ÙÙˆÙ‚ Ø®Ø¯Ù…Ø§Øª Ø°Ø§Øª ØµÙ„Ø©"},$=()=>{var y,N,v;const{ads:c,refetchAdminData:_}=D(),[E,S]=r.useState(c),[o,i]=r.useState({isOpen:!1,mode:"create",ad:null}),[l,n]=r.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0,countryCodes:["global"],displayStyle:"overlay",useCustomHtml:!1,customHtml:""}),[T,p]=r.useState(!1),[d,h]=r.useState(""),[u,f]=r.useState(!1),x=r.useRef(null);r.useEffect(()=>{S(c)},[c]),r.useEffect(()=>{const s=t=>{x.current&&!x.current.contains(t.target)&&f(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const j=async()=>{p(!0);try{const s=await U("settings","global"),t=JSON.stringify(s);await V({files:[{path:"data/json/site-settings-public.json",content:t}],commitMessage:"feat: Auto-update ads",repoConfig:{owner:"gitut-cms",repo:"files"}}),await _()}catch(s){console.error("Failed to publish:",s)}finally{p(!1)}},m=s=>{n(t=>{let a=[...t.countryCodes||[]];return s==="global"?a=["global"]:(a=a.filter(b=>b!=="global"),a.includes(s)?a=a.filter(b=>b!==s):a.push(s),a.length===0&&(a=["global"])),{...t,countryCodes:a}}),h("")},I=s=>{const t=s.countryCodes||(s.countryCode?[s.countryCode]:["global"]);n({...s,title:`${s.title} (Ù†Ø³Ø®Ø©)`,enabled:!0,countryCodes:[...t]}),i({isOpen:!0,mode:"create",ad:null})},A=s=>{const t=s.countryCodes||(s.countryCode?[s.countryCode]:["global"]);n({...s,countryCodes:t}),i({isOpen:!0,mode:"edit",ad:s})},P=async s=>{s.preventDefault();try{o.mode==="create"?await g.create(l):o.ad&&await g.update(o.ad.id,l),i({isOpen:!1,mode:"create",ad:null}),await j(),alert("ØªÙ… Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­!")}catch{alert("ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸.")}},L=C.en.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())||s.code.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª"}),T&&e.jsx(k,{className:"animate-spin text-blue-600"})]}),e.jsx("button",{onClick:()=>{n({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0,countryCodes:["global"],displayStyle:"overlay",useCustomHtml:!1,customHtml:""}),i({isOpen:!0,mode:"create",ad:null})},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+ Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¹Ù„Ø§Ù†"})]}),e.jsx("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600",children:"Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†"}),e.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600",children:"Ø§Ù„Ø¯ÙˆÙ„"}),e.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600",children:"Ø§Ù„Ù…ÙˆØ¶Ø¹"}),e.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{children:E.map(s=>{const t=s.countryCodes||["global"];return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-semibold text-gray-800",children:s.title||"Ø¥Ø¹Ù„Ø§Ù† HTML"}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.includes("global")?e.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-xs border border-blue-100",children:"ÙƒÙ„ Ø§Ù„Ø¹Ø§Ù„Ù… ğŸŒ"}):t.slice(0,3).map(a=>e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs border",children:a.toUpperCase()},a)),t.length>3&&e.jsxs("span",{className:"text-xs text-gray-400",children:["+",t.length-3]})]})}),e.jsx("td",{className:"p-3 text-sm text-gray-500",children:O[s.placement]}),e.jsx("td",{className:"p-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>A(s),className:"text-blue-600 hover:underline font-bold text-sm",children:"ØªØ¹Ø¯ÙŠÙ„"}),e.jsxs("button",{onClick:()=>I(s),className:"text-purple-600 hover:underline font-bold text-sm flex items-center gap-1",children:[e.jsx(R,{size:12})," Ù†Ø³Ø®"]}),e.jsx("button",{onClick:async()=>{window.confirm("Ø­Ø°ÙØŸ")&&(await g.delete(s.id),j())},className:"text-red-600 hover:underline font-bold text-sm",children:e.jsx(B,{size:12})})]})})]},s.id)})})]})}),o.isOpen&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-fadeIn",children:e.jsxs("form",{onSubmit:P,children:[e.jsxs("div",{className:"p-6 border-b bg-gray-50 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:o.mode==="create"?"Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯":"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†"}),e.jsx("button",{type:"button",onClick:()=>i({...o,isOpen:!1}),className:"text-gray-400 hover:text-gray-600",children:e.jsx(w,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-5 max-h-[75vh] overflow-y-auto",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©"}),e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("div",{className:"min-h-[45px] p-2 border-2 border-gray-200 rounded-lg flex flex-wrap gap-2 cursor-pointer bg-white hover:border-blue-400 transition-colors",onClick:()=>f(!u),children:[(y=l.countryCodes)==null?void 0:y.map(s=>{const t=C.en.find(a=>a.code===s);return e.jsxs("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-md text-xs font-bold flex items-center gap-2 animate-fadeIn",children:[e.jsx("span",{children:s==="global"?"ğŸŒ ÙƒÙ„ Ø§Ù„Ø¨Ù„Ø¯Ø§Ù†":`${(t==null?void 0:t.flag)||""} ${(t==null?void 0:t.name)||s}`}),e.jsx(w,{className:"hover:text-red-300 cursor-pointer",onClick:a=>{a.stopPropagation(),m(s)}})]},s)}),(!l.countryCodes||l.countryCodes.length===0)&&e.jsx("span",{className:"text-gray-400 text-sm p-1",children:"Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„..."}),e.jsx("div",{className:"mr-auto self-center text-gray-400 pl-2",children:e.jsx(F,{size:12,className:`transition-transform ${u?"rotate-180":""}`})})]}),u&&e.jsxs("div",{className:"absolute top-full right-0 left-0 mt-2 bg-white border rounded-xl shadow-2xl z-[60] overflow-hidden animate-fadeIn",children:[e.jsxs("div",{className:"p-2 border-b bg-gray-50 flex items-center gap-2",children:[e.jsx(G,{className:"text-gray-400 ml-2"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¯ÙˆÙ„Ø©...",className:"w-full bg-transparent outline-none text-sm p-1",value:d,onChange:s=>h(s.target.value),autoFocus:!0})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[e.jsxs("button",{type:"button",onClick:()=>m("global"),className:`w-full text-right px-4 py-3 text-sm hover:bg-blue-50 flex items-center justify-between group ${(N=l.countryCodes)!=null&&N.includes("global")?"bg-blue-50 font-bold text-blue-700":"text-gray-700"}`,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"text-blue-500"})," ÙƒÙ„ Ø§Ù„Ø¨Ù„Ø¯Ø§Ù† (Ø¹Ø§Ù„Ù…ÙŠ)"]}),((v=l.countryCodes)==null?void 0:v.includes("global"))&&e.jsx("span",{className:"text-blue-600",children:"âœ“"})]}),L.map(s=>{var a;const t=(a=l.countryCodes)==null?void 0:a.includes(s.code);return e.jsxs("button",{type:"button",onClick:()=>m(s.code),className:`w-full text-right px-4 py-2.5 text-sm hover:bg-gray-100 flex items-center justify-between group ${t?"bg-green-50 font-bold text-green-700":"text-gray-600"}`,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:s.flag}),e.jsx("span",{children:s.name})]}),t&&e.jsx("span",{className:"text-green-600",children:"âœ“"})]},s.code)})]})]})]}),e.jsx("p",{className:"text-[10px] text-gray-500",children:'Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù…Ø­Ø¯Ø¯Ø© Ø³ÙŠØ²ÙŠÙ„ Ø®ÙŠØ§Ø± "ÙƒÙ„ Ø§Ù„Ø¨Ù„Ø¯Ø§Ù†" ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.'})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø¸Ù‡ÙˆØ±"}),e.jsx("select",{value:l.placement,onChange:s=>n({...l,placement:s.target.value}),className:"w-full p-2.5 border-2 rounded-lg bg-white outline-none focus:border-blue-500",children:Object.entries(O).map(([s,t])=>e.jsx("option",{value:s,children:t},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø¹Ø±Ø¶"}),e.jsxs("select",{value:l.displayStyle,onChange:s=>n({...l,displayStyle:s.target.value}),className:"w-full p-2.5 border-2 rounded-lg bg-white outline-none focus:border-blue-500",children:[e.jsx("option",{value:"overlay",children:"Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙˆØ±Ø©"}),e.jsx("option",{value:"below",children:"ØªØ­Øª Ø§Ù„ØµÙˆØ±Ø©"})]})]})]}),e.jsxs("div",{className:"space-y-4 border-t pt-5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:l.useCustomHtml,onChange:s=>n({...l,useCustomHtml:s.target.checked}),className:"w-4 h-4 rounded text-blue-600"}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-blue-600 transition-colors",children:"Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙˆØ¯ HTML Ù…Ø®ØµØµ"})]}),l.useCustomHtml?e.jsx("textarea",{rows:6,value:l.customHtml,onChange:s=>n({...l,customHtml:s.target.value}),className:"w-full p-3 font-mono text-xs border-2 rounded-lg bg-gray-900 text-green-400 outline-none",dir:"ltr",placeholder:"<div>...</div>"}):e.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx("input",{type:"text",value:l.title,onChange:s=>n({...l,title:s.target.value}),className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-100 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†ØµÙŠ"}),e.jsx("textarea",{rows:2,value:l.content,onChange:s=>n({...l,content:s.target.value}),className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-100 outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©"}),e.jsx("input",{type:"url",value:l.imageUrl,onChange:s=>n({...l,imageUrl:s.target.value}),className:"w-full p-2.5 border rounded-lg outline-none",dir:"ltr"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ù‚Ø±"}),e.jsx("input",{type:"url",value:l.link,onChange:s=>n({...l,link:s.target.value}),className:"w-full p-2.5 border rounded-lg outline-none",dir:"ltr"})]})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i({...o,isOpen:!1}),className:"px-6 py-2.5 rounded-lg font-bold text-gray-600 hover:bg-gray-200 transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-2.5 rounded-lg font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all flex items-center gap-2",children:[e.jsx(M,{}),e.jsx("span",{children:"Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"})]})]})]})})})]})};export{$ as default};
