import{b,u as w,c as j,r as h,j as t,L as u}from"./index-hpjxKmld.js";import{S as N}from"./SocialShareButtons-BzmR53dp.js";const s=(a,i,r=!0)=>{const g=r?`meta[property='${a}']`:`meta[name='${a}']`;let e=document.querySelector(g);e||(e=document.createElement("meta"),e.setAttribute(r?"property":"name",a),document.head.appendChild(e)),e.setAttribute("content",i)},E=()=>{const{countryCode:a}=b(),{siteSettings:i}=w(),{language:r,t:g}=j(),e=window.staticPageData||null,[x,p]=h.useState([]);return h.useEffect(()=>{(async()=>{if(!(!a||!e))try{const n=await fetch(`https://datas.gitut.com/data/json/${a}-pages-public.json`);if(!n.ok)return;const d=(await n.json()).filter(o=>o.enabled&&o.id!==e.id&&(o.lang===r||!o.lang&&r==="ar"));p(d)}catch(n){console.error("Error fetching related pages list:",n)}})()},[a,r,e]),h.useEffect(()=>{var l,n;if(e&&i){const c=((l=i.seo)==null?void 0:l[a||"dz"])||((n=i.seo)==null?void 0:n.default);if(c){const d=`${e.title} ${c.titleSeparator} ${c.siteName}`,o=e.content.replace(/<[^>]*>/g,"").substring(0,160)+(e.content.length>160?"...":""),m="https://blogger.googleusercontent.com/img/a/AVvXsEjIwicMdgBHGgVbeX1gPl9n9PhWFzZvLJ5hiGy923-34GGSM59Q5EwGmpmUibE3dexwLH6tk_Y_3QYLIUZC2YA9L3xhY4XVNVW1HCi1UoZhNv-RYbnOjtxMIXo014Yg4Eqv9bCQ5d6z4j4NnKoE7fpQvW7Dla3Y5QFk0N0I28kNCfnDBGWXq0Rx5VC7f58=s16000",f=r==="ar"?"ar_AR":r==="fr"?"fr_FR":"en_US";document.title=d,s("description",o,!1),s("og:title",d),s("og:description",o),s("og:image",m),s("og:image:secure_url",m),s("og:image:width","1200"),s("og:image:height","630"),s("og:url",window.location.href),s("og:type","article"),s("og:site_name",c.siteName),s("og:locale",f),s("twitter:card","summary_large_image",!1),s("twitter:url",window.location.href,!1),s("twitter:title",d,!1),s("twitter:description",o,!1),s("twitter:image",m,!1)}}},[e,i,a,r]),e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[t.jsx("header",{className:"mb-8 border-b pb-6",children:t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:e.title})}),t.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:e.content}})]}),x.length>0&&t.jsx("aside",{className:"md:col-span-1 space-y-6",children:t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[t.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:g("relatedPages.title")}),t.jsx("div",{className:"space-y-3",children:x.map(l=>t.jsx(u,{to:`/${a}/page/${l.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:t.jsx("p",{className:"font-semibold text-gray-900",children:l.title})},l.id))})]})})]}),t.jsx(N,{url:window.location.href,title:e.title,description:e.content})]}):t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 - الصفحة غير موجودة"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"عذراً، لم نتمكن من العثور على الصفحة التي تبحث عنها."}),t.jsx(u,{to:`/${a||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"العودة إلى الصفحة الرئيسية"})]})};export{E as default};
