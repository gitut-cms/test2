import{b,u as w,c as j,r as h,j as t,L as p}from"./index-DgmZNK3x.js";import{S as y}from"./SocialShareButtons-BKLyRpAE.js";const a=(s,i,r=!0)=>{const g=r?`meta[property='${s}']`:`meta[name='${s}']`;let e=document.querySelector(g);e||(e=document.createElement("meta"),e.setAttribute(r?"property":"name",s),document.head.appendChild(e)),e.setAttribute("content",i)},P=()=>{const{countryCode:s}=b(),{siteSettings:i}=w(),{language:r,t:g}=j(),e=window.staticPageData||null,[u,x]=h.useState([]);return h.useEffect(()=>{(async()=>{if(!(!s||!e))try{const n=await fetch(`https://datas.gitut.com/data/json/${s}-pages-public.json`);if(!n.ok)return;const d=(await n.json()).filter(o=>o.enabled&&o.id!==e.id&&(o.lang===r||!o.lang&&r==="ar"));x(d)}catch(n){console.error("Error fetching related pages list:",n)}})()},[s,r,e]),h.useEffect(()=>{var l,n;if(e&&i){const c=((l=i.seo)==null?void 0:l[s||"dz"])||((n=i.seo)==null?void 0:n.default);if(c){const d=`${e.title} ${c.titleSeparator} ${c.siteName}`,o=e.content.replace(/<[^>]*>/g,"").substring(0,160)+(e.content.length>160?"...":""),m="https://datas.gitut.com/data/image/gitut-og-main.png",f=r==="ar"?"ar_AR":r==="fr"?"fr_FR":"en_US";document.title=d,a("description",o,!1),a("og:title",d),a("og:description",o),a("og:image",m),a("og:image:secure_url",m),a("og:image:width","1200"),a("og:image:height","630"),a("og:url",window.location.href),a("og:type","article"),a("og:site_name",c.siteName),a("og:locale",f),a("twitter:card","summary_large_image",!1),a("twitter:url",window.location.href,!1),a("twitter:title",d,!1),a("twitter:description",o,!1),a("twitter:image",m,!1)}}},[e,i,s,r]),e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[t.jsx("header",{className:"mb-8 border-b pb-6",children:t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:e.title})}),t.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:e.content}})]}),u.length>0&&t.jsx("aside",{className:"md:col-span-1 space-y-6",children:t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[t.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:g("relatedPages.title")}),t.jsx("div",{className:"space-y-3",children:u.map(l=>t.jsx(p,{to:`/${s}/page/${l.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:t.jsx("p",{className:"font-semibold text-gray-900",children:l.title})},l.id))})]})})]}),t.jsx(y,{url:window.location.href,title:e.title,description:e.content})]}):t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 - الصفحة غير موجودة"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"عذراً، لم نتمكن من العثور على الصفحة التي تبحث عنها."}),t.jsx(p,{to:`/${s||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"العودة إلى الصفحة الرئيسية"})]})};export{P as default};
