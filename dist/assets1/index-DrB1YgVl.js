const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FillSitePage-Bu6b1jDR.js","assets/SpeechRecognitionControl-Co21Sl9k.js","assets/ClientsPage-DWA0w7G4.js","assets/AdminPagesPage-CbzXfqFd.js","assets/index-jCUXYg4f.js","assets/staticHtmlGenerator-Ba5j3Tzo.js","assets/AdminBlogPage-DK1hiDPi.js","assets/AdminDataPage-C3xaOqwf.js","assets/AdminJsonFilesPage-B94P_cx9.js","assets/FileSaver.min-BvARJSWY.js","assets/AdminSitemapsPage-B87Imd5q.js","assets/AdminStaticServicesPage-DT0SJgfI.js","assets/AdminStaticBlogPage-CoLLjF3L.js","assets/AdminStaticContentPage-fitrNIEK.js","assets/AdminCodesPage-CLd04-Ce.js","assets/AdminSitesPage-4v4Q1CpN.js","assets/AdminDocumentsPage-CwP5ozAn.js","assets/AdminStaticDocsPage-B8ToITfO.js","assets/AdminBaseTemplatesPage-Bwwz2WKh.js"])))=>i.map(i=>d[i]);
import{asBlob as R1}from"https://esm.sh/html-docx-js-typescript@0.1.5";import D1 from"https://esm.sh/file-saver@2.0.5";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cG(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Nv={exports:{}},qd={},Rv={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function N3(){if(EE)return _t;EE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function I(j,H,Te){this.props=j,this.context=H,this.refs=b,this.updater=Te||v}I.prototype.isReactComponent={},I.prototype.setState=function(j,H){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,H,"setState")},I.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function S(){}S.prototype=I.prototype;function N(j,H,Te){this.props=j,this.context=H,this.refs=b,this.updater=Te||v}var L=N.prototype=new S;L.constructor=N,T(L,I.prototype),L.isPureReactComponent=!0;var z=Array.isArray,$=Object.prototype.hasOwnProperty,Y={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function R(j,H,Te){var re,fe={},de=null,ke=null;if(H!=null)for(re in H.ref!==void 0&&(ke=H.ref),H.key!==void 0&&(de=""+H.key),H)$.call(H,re)&&!F.hasOwnProperty(re)&&(fe[re]=H[re]);var ue=arguments.length-2;if(ue===1)fe.children=Te;else if(1<ue){for(var Ce=Array(ue),Le=0;Le<ue;Le++)Ce[Le]=arguments[Le+2];fe.children=Ce}if(j&&j.defaultProps)for(re in ue=j.defaultProps,ue)fe[re]===void 0&&(fe[re]=ue[re]);return{$$typeof:n,type:j,key:de,ref:ke,props:fe,_owner:Y.current}}function O(j,H){return{$$typeof:n,type:j.type,key:H,ref:j.ref,props:j.props,_owner:j._owner}}function B(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function W(j){var H={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Te){return H[Te]})}var D=/\/+/g;function M(j,H){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):H.toString(36)}function C(j,H,Te,re,fe){var de=typeof j;(de==="undefined"||de==="boolean")&&(j=null);var ke=!1;if(j===null)ke=!0;else switch(de){case"string":case"number":ke=!0;break;case"object":switch(j.$$typeof){case n:case e:ke=!0}}if(ke)return ke=j,fe=fe(ke),j=re===""?"."+M(ke,0):re,z(fe)?(Te="",j!=null&&(Te=j.replace(D,"$&/")+"/"),C(fe,H,Te,"",function(Le){return Le})):fe!=null&&(B(fe)&&(fe=O(fe,Te+(!fe.key||ke&&ke.key===fe.key?"":(""+fe.key).replace(D,"$&/")+"/")+j)),H.push(fe)),1;if(ke=0,re=re===""?".":re+":",z(j))for(var ue=0;ue<j.length;ue++){de=j[ue];var Ce=re+M(de,ue);ke+=C(de,H,Te,Ce,fe)}else if(Ce=_(j),typeof Ce=="function")for(j=Ce.call(j),ue=0;!(de=j.next()).done;)de=de.value,Ce=re+M(de,ue++),ke+=C(de,H,Te,Ce,fe);else if(de==="object")throw H=String(j),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ke}function te(j,H,Te){if(j==null)return j;var re=[],fe=0;return C(j,re,"","",function(de){return H.call(Te,de,fe++)}),re}function xe(j){if(j._status===-1){var H=j._result;H=H(),H.then(function(Te){(j._status===0||j._status===-1)&&(j._status=1,j._result=Te)},function(Te){(j._status===0||j._status===-1)&&(j._status=2,j._result=Te)}),j._status===-1&&(j._status=0,j._result=H)}if(j._status===1)return j._result.default;throw j._result}var ee={current:null},Z={transition:null},K={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Y};function ie(){throw Error("act(...) is not supported in production builds of React.")}return _t.Children={map:te,forEach:function(j,H,Te){te(j,function(){H.apply(this,arguments)},Te)},count:function(j){var H=0;return te(j,function(){H++}),H},toArray:function(j){return te(j,function(H){return H})||[]},only:function(j){if(!B(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},_t.Component=I,_t.Fragment=t,_t.Profiler=i,_t.PureComponent=N,_t.StrictMode=r,_t.Suspense=u,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,_t.act=ie,_t.cloneElement=function(j,H,Te){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var re=T({},j.props),fe=j.key,de=j.ref,ke=j._owner;if(H!=null){if(H.ref!==void 0&&(de=H.ref,ke=Y.current),H.key!==void 0&&(fe=""+H.key),j.type&&j.type.defaultProps)var ue=j.type.defaultProps;for(Ce in H)$.call(H,Ce)&&!F.hasOwnProperty(Ce)&&(re[Ce]=H[Ce]===void 0&&ue!==void 0?ue[Ce]:H[Ce])}var Ce=arguments.length-2;if(Ce===1)re.children=Te;else if(1<Ce){ue=Array(Ce);for(var Le=0;Le<Ce;Le++)ue[Le]=arguments[Le+2];re.children=ue}return{$$typeof:n,type:j.type,key:fe,ref:de,props:re,_owner:ke}},_t.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},_t.createElement=R,_t.createFactory=function(j){var H=R.bind(null,j);return H.type=j,H},_t.createRef=function(){return{current:null}},_t.forwardRef=function(j){return{$$typeof:c,render:j}},_t.isValidElement=B,_t.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:xe}},_t.memo=function(j,H){return{$$typeof:h,type:j,compare:H===void 0?null:H}},_t.startTransition=function(j){var H=Z.transition;Z.transition={};try{j()}finally{Z.transition=H}},_t.unstable_act=ie,_t.useCallback=function(j,H){return ee.current.useCallback(j,H)},_t.useContext=function(j){return ee.current.useContext(j)},_t.useDebugValue=function(){},_t.useDeferredValue=function(j){return ee.current.useDeferredValue(j)},_t.useEffect=function(j,H){return ee.current.useEffect(j,H)},_t.useId=function(){return ee.current.useId()},_t.useImperativeHandle=function(j,H,Te){return ee.current.useImperativeHandle(j,H,Te)},_t.useInsertionEffect=function(j,H){return ee.current.useInsertionEffect(j,H)},_t.useLayoutEffect=function(j,H){return ee.current.useLayoutEffect(j,H)},_t.useMemo=function(j,H){return ee.current.useMemo(j,H)},_t.useReducer=function(j,H,Te){return ee.current.useReducer(j,H,Te)},_t.useRef=function(j){return ee.current.useRef(j)},_t.useState=function(j){return ee.current.useState(j)},_t.useSyncExternalStore=function(j,H,Te){return ee.current.useSyncExternalStore(j,H,Te)},_t.useTransition=function(){return ee.current.useTransition()},_t.version="18.3.1",_t}var xE;function L1(){return xE||(xE=1,Rv.exports=N3()),Rv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function R3(){if(IE)return qd;IE=1;var n=L1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var p,y={},_=null,v=null;h!==void 0&&(_=""+h),u.key!==void 0&&(_=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(y[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)y[p]===void 0&&(y[p]=u[p]);return{$$typeof:e,type:c,key:_,ref:v,props:y,_owner:i.current}}return qd.Fragment=t,qd.jsx=o,qd.jsxs=o,qd}var SE;function D3(){return SE||(SE=1,Nv.exports=R3()),Nv.exports}var m=D3(),A=L1();const la=F1(A);var vp={},Dv={exports:{}},Ur={},Fv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function F3(){return CE||(CE=1,(function(n){function e(Z,K){var ie=Z.length;Z.push(K);e:for(;0<ie;){var j=ie-1>>>1,H=Z[j];if(0<i(H,K))Z[j]=K,Z[ie]=H,ie=j;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var K=Z[0],ie=Z.pop();if(ie!==K){Z[0]=ie;e:for(var j=0,H=Z.length,Te=H>>>1;j<Te;){var re=2*(j+1)-1,fe=Z[re],de=re+1,ke=Z[de];if(0>i(fe,ie))de<H&&0>i(ke,fe)?(Z[j]=ke,Z[de]=ie,j=de):(Z[j]=fe,Z[re]=ie,j=re);else if(de<H&&0>i(ke,ie))Z[j]=ke,Z[de]=ie,j=de;else break e}}return K}function i(Z,K){var ie=Z.sortIndex-K.sortIndex;return ie!==0?ie:Z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],h=[],p=1,y=null,_=3,v=!1,T=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Z){for(var K=t(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=Z)r(h),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(h)}}function z(Z){if(b=!1,L(Z),!T)if(t(u)!==null)T=!0,xe($);else{var K=t(h);K!==null&&ee(z,K.startTime-Z)}}function $(Z,K){T=!1,b&&(b=!1,S(R),R=-1),v=!0;var ie=_;try{for(L(K),y=t(u);y!==null&&(!(y.expirationTime>K)||Z&&!W());){var j=y.callback;if(typeof j=="function"){y.callback=null,_=y.priorityLevel;var H=j(y.expirationTime<=K);K=n.unstable_now(),typeof H=="function"?y.callback=H:y===t(u)&&r(u),L(K)}else r(u);y=t(u)}if(y!==null)var Te=!0;else{var re=t(h);re!==null&&ee(z,re.startTime-K),Te=!1}return Te}finally{y=null,_=ie,v=!1}}var Y=!1,F=null,R=-1,O=5,B=-1;function W(){return!(n.unstable_now()-B<O)}function D(){if(F!==null){var Z=n.unstable_now();B=Z;var K=!0;try{K=F(!0,Z)}finally{K?M():(Y=!1,F=null)}}else Y=!1}var M;if(typeof N=="function")M=function(){N(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=D,M=function(){te.postMessage(null)}}else M=function(){I(D,0)};function xe(Z){F=Z,Y||(Y=!0,M())}function ee(Z,K){R=I(function(){Z(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){T||v||(T=!0,xe($))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ie=_;_=K;try{return Z()}finally{_=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,K){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=_;_=Z;try{return K()}finally{_=ie}},n.unstable_scheduleCallback=function(Z,K,ie){var j=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?j+ie:j):ie=j,Z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ie+H,Z={id:p++,callback:K,priorityLevel:Z,startTime:ie,expirationTime:H,sortIndex:-1},ie>j?(Z.sortIndex=ie,e(h,Z),t(u)===null&&Z===t(h)&&(b?(S(R),R=-1):b=!0,ee(z,ie-j))):(Z.sortIndex=H,e(u,Z),T||v||(T=!0,xe($))),Z},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(Z){var K=_;return function(){var ie=_;_=K;try{return Z.apply(this,arguments)}finally{_=ie}}}})(Lv)),Lv}var PE;function L3(){return PE||(PE=1,Fv.exports=F3()),Fv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function O3(){if(kE)return Ur;kE=1;var n=L1(),e=L3();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function _(a){return u.call(y,a)?!0:u.call(p,a)?!1:h.test(a)?y[a]=!0:(p[a]=!0,!1)}function v(a,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,l,d,g){if(l===null||typeof l>"u"||v(a,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(a,l,d,g,w,x,V){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=x,this.removeEmptyString=V}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new b(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(S,N);I[l]=new b(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(S,N);I[l]=new b(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(S,N);I[l]=new b(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function L(a,l,d,g){var w=I.hasOwnProperty(l)?I[l]:null;(w!==null?w.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,d,w,g)&&(d=null),g||w===null?_(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):w.mustUseProperty?a[w.propertyName]=d===null?w.type===3?!1:"":d:(l=w.attributeName,g=w.attributeNamespace,d===null?a.removeAttribute(l):(w=w.type,d=w===3||w===4&&d===!0?"":""+d,g?a.setAttributeNS(g,l,d):a.setAttribute(l,d))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),Y=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),W=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),Z=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var ie=Object.assign,j;function H(a){if(j===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);j=l&&l[1]||""}return`
`+j+a}var Te=!1;function re(a,l){if(!a||Te)return"";Te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_e){var g=_e}Reflect.construct(a,[],l)}else{try{l.call()}catch(_e){g=_e}a.call(l.prototype)}else{try{throw Error()}catch(_e){g=_e}a()}}catch(_e){if(_e&&g&&typeof _e.stack=="string"){for(var w=_e.stack.split(`
`),x=g.stack.split(`
`),V=w.length-1,X=x.length-1;1<=V&&0<=X&&w[V]!==x[X];)X--;for(;1<=V&&0<=X;V--,X--)if(w[V]!==x[X]){if(V!==1||X!==1)do if(V--,X--,0>X||w[V]!==x[X]){var ne=`
`+w[V].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=V&&0<=X);break}}}finally{Te=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?H(a):""}function fe(a){switch(a.tag){case 5:return H(a.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return a=re(a.type,!1),a;case 11:return a=re(a.type.render,!1),a;case 1:return a=re(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case Y:return"Portal";case O:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case C:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case W:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case D:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case te:return l=a.displayName||null,l!==null?l:de(a.type)||"Memo";case xe:l=a._payload,a=a._init;try{return de(a(l))}catch{}}return null}function ke(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ue(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ce(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Le(a){var l=Ce(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,x=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(V){g=""+V,x.call(this,V)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ae(a){a._valueTracker||(a._valueTracker=Le(a))}function ot(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Ce(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function lt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function P(a,l){var d=l.checked;return ie({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function me(a,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=ue(l.value!=null?l.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ge(a,l){l=l.checked,l!=null&&L(a,"checked",l,!1)}function Q(a,l){ge(a,l);var d=ue(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?J(a,l.type,d):l.hasOwnProperty("defaultValue")&&J(a,l.type,ue(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function G(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function J(a,l,d){(l!=="number"||lt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var we=Array.isArray;function Se(a,l,d,g){if(a=a.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=l.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&g&&(a[d].defaultSelected=!0)}else{for(d=""+ue(d),l=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,g&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function q(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function pe(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(t(92));if(we(d)){if(1<d.length)throw Error(t(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:ue(d)}}function Ee(a,l){var d=ue(l.value),g=ue(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function ae(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?ye(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Pe,We=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,w){MSApp.execUnsafeLocalFunction(function(){return a(l,d,g,w)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Pe.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Ze(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},It=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(a){It.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ut[l]=ut[a]})});function ft(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||ut.hasOwnProperty(a)&&ut[a]?(""+l).trim():l+"px"}function Pt(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,w=ft(d,l[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,w):a[d]=w}}var _n=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gt(a,l){if(l){if(_n[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function bi(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function lr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var En=null,st=null,bt=null;function cr(a){if(a=Rd(a)){if(typeof En!="function")throw Error(t(280));var l=a.stateNode;l&&(l=Dm(l),En(a.stateNode,a.type,l))}}function Nn(a){st?bt?bt.push(a):bt=[a]:st=a}function Pa(){if(st){var a=st,l=bt;if(bt=st=null,cr(a),l)for(a=0;a<l.length;a++)cr(l[a])}}function Dr(a,l){return a(l)}function ka(){}var Fr=!1;function ms(a,l,d){if(Fr)return a(l,d);Fr=!0;try{return Dr(a,l,d)}finally{Fr=!1,(st!==null||bt!==null)&&(ka(),Pa())}}function an(a,l){var d=a.stateNode;if(d===null)return null;var g=Dm(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(t(231,l,typeof d));return d}var Ws=!1;if(c)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Ws=!1}function $o(a,l,d,g,w,x,V,X,ne){var _e=Array.prototype.slice.call(arguments,3);try{l.apply(d,_e)}catch(Fe){this.onError(Fe)}}var Go=!1,oc=null,Wi=!1,hd=null,s_={onError:function(a){Go=!0,oc=a}};function lc(a,l,d,g,w,x,V,X,ne){Go=!1,oc=null,$o.apply(s_,arguments)}function im(a,l,d,g,w,x,V,X,ne){if(lc.apply(this,arguments),Go){if(Go){var _e=oc;Go=!1,oc=null}else throw Error(t(198));Wi||(Wi=!0,hd=_e)}}function Hi(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function qo(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function $i(a){if(Hi(a)!==a)throw Error(t(188))}function sm(a){var l=a.alternate;if(!l){if(l=Hi(a),l===null)throw Error(t(188));return l!==a?null:a}for(var d=a,g=l;;){var w=d.return;if(w===null)break;var x=w.alternate;if(x===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===x.child){for(x=w.child;x;){if(x===d)return $i(w),a;if(x===g)return $i(w),l;x=x.sibling}throw Error(t(188))}if(d.return!==g.return)d=w,g=x;else{for(var V=!1,X=w.child;X;){if(X===d){V=!0,d=w,g=x;break}if(X===g){V=!0,g=w,d=x;break}X=X.sibling}if(!V){for(X=x.child;X;){if(X===d){V=!0,d=x,g=w;break}if(X===g){V=!0,g=x,d=w;break}X=X.sibling}if(!V)throw Error(t(189))}}if(d.alternate!==g)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?a:l}function fd(a){return a=sm(a),a!==null?cc(a):null}function cc(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=cc(a);if(l!==null)return l;a=a.sibling}return null}var uc=e.unstable_scheduleCallback,md=e.unstable_cancelCallback,am=e.unstable_shouldYield,a_=e.unstable_requestPaint,zt=e.unstable_now,om=e.unstable_getCurrentPriorityLevel,Ko=e.unstable_ImmediatePriority,Aa=e.unstable_UserBlockingPriority,Ti=e.unstable_NormalPriority,pd=e.unstable_LowPriority,lm=e.unstable_IdlePriority,Qo=null,ri=null;function cm(a){if(ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(Qo,a,void 0,(a.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:dm,gd=Math.log,um=Math.LN2;function dm(a){return a>>>=0,a===0?32:31-(gd(a)/um|0)|0}var dc=64,hc=4194304;function Na(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Yo(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,w=a.suspendedLanes,x=a.pingedLanes,V=d&268435455;if(V!==0){var X=V&~w;X!==0?g=Na(X):(x&=V,x!==0&&(g=Na(x)))}else V=d&~w,V!==0?g=Na(V):x!==0&&(g=Na(x));if(g===0)return 0;if(l!==0&&l!==g&&(l&w)===0&&(w=g&-g,x=l&-l,w>=x||w===16&&(x&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)d=31-xr(l),w=1<<d,g|=a[d],l&=~w;return g}function o_(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,w=a.expirationTimes,x=a.pendingLanes;0<x;){var V=31-xr(x),X=1<<V,ne=w[V];ne===-1?((X&d)===0||(X&g)!==0)&&(w[V]=o_(X,l)):ne<=l&&(a.expiredLanes|=X),x&=~X}}function ii(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Jo(){var a=dc;return dc<<=1,(dc&4194240)===0&&(dc=64),a}function Ra(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Da(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-xr(l),a[l]=d}function jt(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var w=31-xr(d),x=1<<w;l[w]=0,g[w]=-1,a[w]=-1,d&=~x}}function Fa(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-xr(d),w=1<<g;w&l|a[g]&l&&(a[g]|=l),d&=~w}}var xt=0;function La(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var hm,fc,fm,mm,pm,yd=!1,ps=[],er=null,Gi=null,qi=null,Oa=new Map,Ei=new Map,gs=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(a,l){switch(a){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Oa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(l.pointerId)}}function Lr(a,l,d,g,w,x){return a===null||a.nativeEvent!==x?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:x,targetContainers:[w]},l!==null&&(l=Rd(l),l!==null&&fc(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function c_(a,l,d,g,w){switch(l){case"focusin":return er=Lr(er,a,l,d,g,w),!0;case"dragenter":return Gi=Lr(Gi,a,l,d,g,w),!0;case"mouseover":return qi=Lr(qi,a,l,d,g,w),!0;case"pointerover":var x=w.pointerId;return Oa.set(x,Lr(Oa.get(x)||null,a,l,d,g,w)),!0;case"gotpointercapture":return x=w.pointerId,Ei.set(x,Lr(Ei.get(x)||null,a,l,d,g,w)),!0}return!1}function ym(a){var l=nl(a.target);if(l!==null){var d=Hi(l);if(d!==null){if(l=d.tag,l===13){if(l=qo(d),l!==null){a.blockedOn=l,pm(a.priority,function(){fm(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $s(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=mc(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);ti=g,d.target.dispatchEvent(g),ti=null}else return l=Rd(d),l!==null&&fc(l),a.blockedOn=d,!1;l.shift()}return!0}function Xo(a,l,d){$s(a)&&d.delete(l)}function _m(){yd=!1,er!==null&&$s(er)&&(er=null),Gi!==null&&$s(Gi)&&(Gi=null),qi!==null&&$s(qi)&&(qi=null),Oa.forEach(Xo),Ei.forEach(Xo)}function Ki(a,l){a.blockedOn===l&&(a.blockedOn=null,yd||(yd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_m)))}function Qi(a){function l(w){return Ki(w,a)}if(0<ps.length){Ki(ps[0],a);for(var d=1;d<ps.length;d++){var g=ps[d];g.blockedOn===a&&(g.blockedOn=null)}}for(er!==null&&Ki(er,a),Gi!==null&&Ki(Gi,a),qi!==null&&Ki(qi,a),Oa.forEach(l),Ei.forEach(l),d=0;d<gs.length;d++)g=gs[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<gs.length&&(d=gs[0],d.blockedOn===null);)ym(d),d.blockedOn===null&&gs.shift()}var Gs=z.ReactCurrentBatchConfig,Ma=!0;function Jt(a,l,d,g){var w=xt,x=Gs.transition;Gs.transition=null;try{xt=1,_d(a,l,d,g)}finally{xt=w,Gs.transition=x}}function u_(a,l,d,g){var w=xt,x=Gs.transition;Gs.transition=null;try{xt=4,_d(a,l,d,g)}finally{xt=w,Gs.transition=x}}function _d(a,l,d,g){if(Ma){var w=mc(a,l,d,g);if(w===null)b_(a,l,g,Zo,d),gm(a,g);else if(c_(w,a,l,d,g))g.stopPropagation();else if(gm(a,g),l&4&&-1<l_.indexOf(a)){for(;w!==null;){var x=Rd(w);if(x!==null&&hm(x),x=mc(a,l,d,g),x===null&&b_(a,l,g,Zo,d),x===w)break;w=x}w!==null&&g.stopPropagation()}else b_(a,l,g,null,d)}}var Zo=null;function mc(a,l,d,g){if(Zo=null,a=lr(g),a=nl(a),a!==null)if(l=Hi(a),l===null)a=null;else if(d=l.tag,d===13){if(a=qo(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Zo=a,null}function vd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(om()){case Ko:return 1;case Aa:return 4;case Ti:case pd:return 16;case lm:return 536870912;default:return 16}default:return 16}}var si=null,pc=null,Or=null;function wd(){if(Or)return Or;var a,l=pc,d=l.length,g,w="value"in si?si.value:si.textContent,x=w.length;for(a=0;a<d&&l[a]===w[a];a++);var V=d-a;for(g=1;g<=V&&l[d-g]===w[x-g];g++);return Or=w.slice(a,1<g?1-g:void 0)}function gc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ys(){return!0}function bd(){return!1}function tr(a){function l(d,g,w,x,V){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=x,this.target=V,this.currentTarget=null;for(var X in a)a.hasOwnProperty(X)&&(d=a[X],this[X]=d?d(x):x[X]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ys:bd,this.isPropagationStopped=bd,this}return ie(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),l}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=tr(Yi),_s=ie({},Yi,{view:0,detail:0}),d_=tr(_s),_c,qs,Va,el=ie({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Va&&(Va&&a.type==="mousemove"?(_c=a.screenX-Va.screenX,qs=a.screenY-Va.screenY):qs=_c=0,Va=a),_c)},movementY:function(a){return"movementY"in a?a.movementY:qs}}),vc=tr(el),Td=ie({},el,{dataTransfer:0}),vm=tr(Td),wc=ie({},_s,{relatedTarget:0}),bc=tr(wc),wm=ie({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=tr(wm),bm=ie({},Yi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Tm=tr(bm),Em=ie({},Yi,{data:0}),Ed=tr(Em),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=xm[a])?!!l[a]:!1}function vs(){return Im}var f=ie({},_s,{key:function(a){if(a.key){var l=Tc[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=gc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ir[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(a){return a.type==="keypress"?gc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=tr(f),k=ie({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=tr(k),le=ie({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),be=tr(le),ze=ie({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lt=tr(ze),Rn=ie({},el,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),St=tr(Rn),Bn=[9,13,27,32],xn=c&&"CompositionEvent"in window,xi=null;c&&"documentMode"in document&&(xi=document.documentMode);var ai=c&&"TextEvent"in window&&!xi,tl=c&&(!xn||xi&&8<xi&&11>=xi),Ec=" ",yb=!1;function _b(a,l){switch(a){case"keyup":return Bn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xc=!1;function PN(a,l){switch(a){case"compositionend":return vb(l);case"keypress":return l.which!==32?null:(yb=!0,Ec);case"textInput":return a=l.data,a===Ec&&yb?null:a;default:return null}}function kN(a,l){if(xc)return a==="compositionend"||!xn&&_b(a,l)?(a=wd(),Or=pc=si=null,xc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tl&&l.locale!=="ko"?null:l.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wb(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!AN[a.type]:l==="textarea"}function bb(a,l,d,g){Nn(g),l=Am(l,"onChange"),0<l.length&&(d=new yc("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var xd=null,Id=null;function NN(a){jb(a,0)}function Sm(a){var l=kc(a);if(ot(l))return a}function RN(a,l){if(a==="change")return l}var Tb=!1;if(c){var h_;if(c){var f_="oninput"in document;if(!f_){var Eb=document.createElement("div");Eb.setAttribute("oninput","return;"),f_=typeof Eb.oninput=="function"}h_=f_}else h_=!1;Tb=h_&&(!document.documentMode||9<document.documentMode)}function xb(){xd&&(xd.detachEvent("onpropertychange",Ib),Id=xd=null)}function Ib(a){if(a.propertyName==="value"&&Sm(Id)){var l=[];bb(l,Id,a,lr(a)),ms(NN,l)}}function DN(a,l,d){a==="focusin"?(xb(),xd=l,Id=d,xd.attachEvent("onpropertychange",Ib)):a==="focusout"&&xb()}function FN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Sm(Id)}function LN(a,l){if(a==="click")return Sm(l)}function ON(a,l){if(a==="input"||a==="change")return Sm(l)}function MN(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ji=typeof Object.is=="function"?Object.is:MN;function Sd(a,l){if(Ji(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!u.call(l,w)||!Ji(a[w],l[w]))return!1}return!0}function Sb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Cb(a,l){var d=Sb(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Sb(d)}}function Pb(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Pb(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function kb(){for(var a=window,l=lt();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=lt(a.document)}return l}function m_(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function VN(a){var l=kb(),d=a.focusedElem,g=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&Pb(d.ownerDocument.documentElement,d)){if(g!==null&&m_(d)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var w=d.textContent.length,x=Math.min(g.start,w);g=g.end===void 0?x:Math.min(g.end,w),!a.extend&&x>g&&(w=g,g=x,x=w),w=Cb(d,x);var V=Cb(d,g);w&&V&&(a.rangeCount!==1||a.anchorNode!==w.node||a.anchorOffset!==w.offset||a.focusNode!==V.node||a.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),a.removeAllRanges(),x>g?(a.addRange(l),a.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var jN=c&&"documentMode"in document&&11>=document.documentMode,Ic=null,p_=null,Cd=null,g_=!1;function Ab(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;g_||Ic==null||Ic!==lt(g)||(g=Ic,"selectionStart"in g&&m_(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Cd&&Sd(Cd,g)||(Cd=g,g=Am(p_,"onSelect"),0<g.length&&(l=new yc("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Ic)))}function Cm(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Sc={animationend:Cm("Animation","AnimationEnd"),animationiteration:Cm("Animation","AnimationIteration"),animationstart:Cm("Animation","AnimationStart"),transitionend:Cm("Transition","TransitionEnd")},y_={},Nb={};c&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function Pm(a){if(y_[a])return y_[a];if(!Sc[a])return a;var l=Sc[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in Nb)return y_[a]=l[d];return a}var Rb=Pm("animationend"),Db=Pm("animationiteration"),Fb=Pm("animationstart"),Lb=Pm("transitionend"),Ob=new Map,Mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(a,l){Ob.set(a,l),s(l,[a])}for(var __=0;__<Mb.length;__++){var v_=Mb[__],BN=v_.toLowerCase(),zN=v_[0].toUpperCase()+v_.slice(1);ja(BN,"on"+zN)}ja(Rb,"onAnimationEnd"),ja(Db,"onAnimationIteration"),ja(Fb,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(Lb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function Vb(a,l,d){var g=a.type||"unknown-event";a.currentTarget=d,im(g,l,void 0,a),a.currentTarget=null}function jb(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],w=g.event;g=g.listeners;e:{var x=void 0;if(l)for(var V=g.length-1;0<=V;V--){var X=g[V],ne=X.instance,_e=X.currentTarget;if(X=X.listener,ne!==x&&w.isPropagationStopped())break e;Vb(w,X,_e),x=ne}else for(V=0;V<g.length;V++){if(X=g[V],ne=X.instance,_e=X.currentTarget,X=X.listener,ne!==x&&w.isPropagationStopped())break e;Vb(w,X,_e),x=ne}}}if(Wi)throw a=hd,Wi=!1,hd=null,a}function qt(a,l){var d=l[C_];d===void 0&&(d=l[C_]=new Set);var g=a+"__bubble";d.has(g)||(Bb(l,a,2,!1),d.add(g))}function w_(a,l,d){var g=0;l&&(g|=4),Bb(d,a,g,l)}var km="_reactListening"+Math.random().toString(36).slice(2);function kd(a){if(!a[km]){a[km]=!0,r.forEach(function(d){d!=="selectionchange"&&(UN.has(d)||w_(d,!1,a),w_(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[km]||(l[km]=!0,w_("selectionchange",!1,l))}}function Bb(a,l,d,g){switch(vd(l)){case 1:var w=Jt;break;case 4:w=u_;break;default:w=_d}d=w.bind(null,l,d,a),w=void 0,!Ws||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),g?w!==void 0?a.addEventListener(l,d,{capture:!0,passive:w}):a.addEventListener(l,d,!0):w!==void 0?a.addEventListener(l,d,{passive:w}):a.addEventListener(l,d,!1)}function b_(a,l,d,g,w){var x=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var X=g.stateNode.containerInfo;if(X===w||X.nodeType===8&&X.parentNode===w)break;if(V===4)for(V=g.return;V!==null;){var ne=V.tag;if((ne===3||ne===4)&&(ne=V.stateNode.containerInfo,ne===w||ne.nodeType===8&&ne.parentNode===w))return;V=V.return}for(;X!==null;){if(V=nl(X),V===null)return;if(ne=V.tag,ne===5||ne===6){g=x=V;continue e}X=X.parentNode}}g=g.return}ms(function(){var _e=x,Fe=lr(d),Me=[];e:{var Re=Ob.get(a);if(Re!==void 0){var Ge=yc,Qe=a;switch(a){case"keypress":if(gc(d)===0)break e;case"keydown":case"keyup":Ge=E;break;case"focusin":Qe="focus",Ge=bc;break;case"focusout":Qe="blur",Ge=bc;break;case"beforeblur":case"afterblur":Ge=bc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=be;break;case Rb:case Db:case Fb:Ge=Ks;break;case Lb:Ge=Lt;break;case"scroll":Ge=d_;break;case"wheel":Ge=St;break;case"copy":case"cut":case"paste":Ge=Tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=U}var Je=(l&4)!==0,vn=!Je&&a==="scroll",ce=Je?Re!==null?Re+"Capture":null:Re;Je=[];for(var se=_e,he;se!==null;){he=se;var Be=he.stateNode;if(he.tag===5&&Be!==null&&(he=Be,ce!==null&&(Be=an(se,ce),Be!=null&&Je.push(Ad(se,Be,he)))),vn)break;se=se.return}0<Je.length&&(Re=new Ge(Re,Qe,null,d,Fe),Me.push({event:Re,listeners:Je}))}}if((l&7)===0){e:{if(Re=a==="mouseover"||a==="pointerover",Ge=a==="mouseout"||a==="pointerout",Re&&d!==ti&&(Qe=d.relatedTarget||d.fromElement)&&(nl(Qe)||Qe[Qs]))break e;if((Ge||Re)&&(Re=Fe.window===Fe?Fe:(Re=Fe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ge?(Qe=d.relatedTarget||d.toElement,Ge=_e,Qe=Qe?nl(Qe):null,Qe!==null&&(vn=Hi(Qe),Qe!==vn||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(Ge=null,Qe=_e),Ge!==Qe)){if(Je=vc,Be="onMouseLeave",ce="onMouseEnter",se="mouse",(a==="pointerout"||a==="pointerover")&&(Je=U,Be="onPointerLeave",ce="onPointerEnter",se="pointer"),vn=Ge==null?Re:kc(Ge),he=Qe==null?Re:kc(Qe),Re=new Je(Be,se+"leave",Ge,d,Fe),Re.target=vn,Re.relatedTarget=he,Be=null,nl(Fe)===_e&&(Je=new Je(ce,se+"enter",Qe,d,Fe),Je.target=he,Je.relatedTarget=vn,Be=Je),vn=Be,Ge&&Qe)t:{for(Je=Ge,ce=Qe,se=0,he=Je;he;he=Cc(he))se++;for(he=0,Be=ce;Be;Be=Cc(Be))he++;for(;0<se-he;)Je=Cc(Je),se--;for(;0<he-se;)ce=Cc(ce),he--;for(;se--;){if(Je===ce||ce!==null&&Je===ce.alternate)break t;Je=Cc(Je),ce=Cc(ce)}Je=null}else Je=null;Ge!==null&&zb(Me,Re,Ge,Je,!1),Qe!==null&&vn!==null&&zb(Me,vn,Qe,Je,!0)}}e:{if(Re=_e?kc(_e):window,Ge=Re.nodeName&&Re.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Re.type==="file")var Xe=RN;else if(wb(Re))if(Tb)Xe=ON;else{Xe=FN;var rt=DN}else(Ge=Re.nodeName)&&Ge.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(Xe=LN);if(Xe&&(Xe=Xe(a,_e))){bb(Me,Xe,d,Fe);break e}rt&&rt(a,Re,_e),a==="focusout"&&(rt=Re._wrapperState)&&rt.controlled&&Re.type==="number"&&J(Re,"number",Re.value)}switch(rt=_e?kc(_e):window,a){case"focusin":(wb(rt)||rt.contentEditable==="true")&&(Ic=rt,p_=_e,Cd=null);break;case"focusout":Cd=p_=Ic=null;break;case"mousedown":g_=!0;break;case"contextmenu":case"mouseup":case"dragend":g_=!1,Ab(Me,d,Fe);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":Ab(Me,d,Fe)}var it;if(xn)e:{switch(a){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else xc?_b(a,d)&&(dt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(dt="onCompositionStart");dt&&(tl&&d.locale!=="ko"&&(xc||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&xc&&(it=wd()):(si=Fe,pc="value"in si?si.value:si.textContent,xc=!0)),rt=Am(_e,dt),0<rt.length&&(dt=new Ed(dt,a,null,d,Fe),Me.push({event:dt,listeners:rt}),it?dt.data=it:(it=vb(d),it!==null&&(dt.data=it)))),(it=ai?PN(a,d):kN(a,d))&&(_e=Am(_e,"onBeforeInput"),0<_e.length&&(Fe=new Ed("onBeforeInput","beforeinput",null,d,Fe),Me.push({event:Fe,listeners:_e}),Fe.data=it))}jb(Me,l)})}function Ad(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Am(a,l){for(var d=l+"Capture",g=[];a!==null;){var w=a,x=w.stateNode;w.tag===5&&x!==null&&(w=x,x=an(a,d),x!=null&&g.unshift(Ad(a,x,w)),x=an(a,l),x!=null&&g.push(Ad(a,x,w))),a=a.return}return g}function Cc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function zb(a,l,d,g,w){for(var x=l._reactName,V=[];d!==null&&d!==g;){var X=d,ne=X.alternate,_e=X.stateNode;if(ne!==null&&ne===g)break;X.tag===5&&_e!==null&&(X=_e,w?(ne=an(d,x),ne!=null&&V.unshift(Ad(d,ne,X))):w||(ne=an(d,x),ne!=null&&V.push(Ad(d,ne,X)))),d=d.return}V.length!==0&&a.push({event:l,listeners:V})}var WN=/\r\n?/g,HN=/\u0000|\uFFFD/g;function Ub(a){return(typeof a=="string"?a:""+a).replace(WN,`
`).replace(HN,"")}function Nm(a,l,d){if(l=Ub(l),Ub(a)!==l&&d)throw Error(t(425))}function Rm(){}var T_=null,E_=null;function x_(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var I_=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(a){return Wb.resolve(null).then(a).catch(qN)}:I_;function qN(a){setTimeout(function(){throw a})}function S_(a,l){var d=l,g=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(g===0){a.removeChild(w),Qi(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=w}while(d);Qi(l)}function Ba(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Hb(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Pc=Math.random().toString(36).slice(2),ws="__reactFiber$"+Pc,Nd="__reactProps$"+Pc,Qs="__reactContainer$"+Pc,C_="__reactEvents$"+Pc,KN="__reactListeners$"+Pc,QN="__reactHandles$"+Pc;function nl(a){var l=a[ws];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Qs]||d[ws]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Hb(a);a!==null;){if(d=a[ws])return d;a=Hb(a)}return l}a=d,d=a.parentNode}return null}function Rd(a){return a=a[ws]||a[Qs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function kc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Dm(a){return a[Nd]||null}var P_=[],Ac=-1;function za(a){return{current:a}}function Kt(a){0>Ac||(a.current=P_[Ac],P_[Ac]=null,Ac--)}function Ut(a,l){Ac++,P_[Ac]=a.current,a.current=l}var Ua={},ur=za(Ua),Mr=za(!1),rl=Ua;function Nc(a,l){var d=a.type.contextTypes;if(!d)return Ua;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var w={},x;for(x in d)w[x]=l[x];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=w),w}function Vr(a){return a=a.childContextTypes,a!=null}function Fm(){Kt(Mr),Kt(ur)}function $b(a,l,d){if(ur.current!==Ua)throw Error(t(168));Ut(ur,l),Ut(Mr,d)}function Gb(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var w in g)if(!(w in l))throw Error(t(108,ke(a)||"Unknown",w));return ie({},d,g)}function Lm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ua,rl=ur.current,Ut(ur,a),Ut(Mr,Mr.current),!0}function qb(a,l,d){var g=a.stateNode;if(!g)throw Error(t(169));d?(a=Gb(a,l,rl),g.__reactInternalMemoizedMergedChildContext=a,Kt(Mr),Kt(ur),Ut(ur,a)):Kt(Mr),Ut(Mr,d)}var Ys=null,Om=!1,k_=!1;function Kb(a){Ys===null?Ys=[a]:Ys.push(a)}function YN(a){Om=!0,Kb(a)}function Wa(){if(!k_&&Ys!==null){k_=!0;var a=0,l=xt;try{var d=Ys;for(xt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Ys=null,Om=!1}catch(w){throw Ys!==null&&(Ys=Ys.slice(a+1)),uc(Ko,Wa),w}finally{xt=l,k_=!1}}return null}var Rc=[],Dc=0,Mm=null,Vm=0,Ii=[],Si=0,il=null,Js=1,Xs="";function sl(a,l){Rc[Dc++]=Vm,Rc[Dc++]=Mm,Mm=a,Vm=l}function Qb(a,l,d){Ii[Si++]=Js,Ii[Si++]=Xs,Ii[Si++]=il,il=a;var g=Js;a=Xs;var w=32-xr(g)-1;g&=~(1<<w),d+=1;var x=32-xr(l)+w;if(30<x){var V=w-w%5;x=(g&(1<<V)-1).toString(32),g>>=V,w-=V,Js=1<<32-xr(l)+w|d<<w|g,Xs=x+a}else Js=1<<x|d<<w|g,Xs=a}function A_(a){a.return!==null&&(sl(a,1),Qb(a,1,0))}function N_(a){for(;a===Mm;)Mm=Rc[--Dc],Rc[Dc]=null,Vm=Rc[--Dc],Rc[Dc]=null;for(;a===il;)il=Ii[--Si],Ii[Si]=null,Xs=Ii[--Si],Ii[Si]=null,Js=Ii[--Si],Ii[Si]=null}var oi=null,li=null,Xt=!1,Xi=null;function Yb(a,l){var d=Ai(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function Jb(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,oi=a,li=Ba(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,oi=a,li=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=il!==null?{id:Js,overflow:Xs}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ai(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,oi=a,li=null,!0):!1;default:return!1}}function R_(a){return(a.mode&1)!==0&&(a.flags&128)===0}function D_(a){if(Xt){var l=li;if(l){var d=l;if(!Jb(a,l)){if(R_(a))throw Error(t(418));l=Ba(d.nextSibling);var g=oi;l&&Jb(a,l)?Yb(g,d):(a.flags=a.flags&-4097|2,Xt=!1,oi=a)}}else{if(R_(a))throw Error(t(418));a.flags=a.flags&-4097|2,Xt=!1,oi=a}}}function Xb(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;oi=a}function jm(a){if(a!==oi)return!1;if(!Xt)return Xb(a),Xt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!x_(a.type,a.memoizedProps)),l&&(l=li)){if(R_(a))throw Zb(),Error(t(418));for(;l;)Yb(a,l),l=Ba(l.nextSibling)}if(Xb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){li=Ba(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}li=null}}else li=oi?Ba(a.stateNode.nextSibling):null;return!0}function Zb(){for(var a=li;a;)a=Ba(a.nextSibling)}function Fc(){li=oi=null,Xt=!1}function F_(a){Xi===null?Xi=[a]:Xi.push(a)}var JN=z.ReactCurrentBatchConfig;function Dd(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var g=d.stateNode}if(!g)throw Error(t(147,a));var w=g,x=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(V){var X=w.refs;V===null?delete X[x]:X[x]=V},l._stringRef=x,l)}if(typeof a!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,a))}return a}function Bm(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function eT(a){var l=a._init;return l(a._payload)}function tT(a){function l(ce,se){if(a){var he=ce.deletions;he===null?(ce.deletions=[se],ce.flags|=16):he.push(se)}}function d(ce,se){if(!a)return null;for(;se!==null;)l(ce,se),se=se.sibling;return null}function g(ce,se){for(ce=new Map;se!==null;)se.key!==null?ce.set(se.key,se):ce.set(se.index,se),se=se.sibling;return ce}function w(ce,se){return ce=Ja(ce,se),ce.index=0,ce.sibling=null,ce}function x(ce,se,he){return ce.index=he,a?(he=ce.alternate,he!==null?(he=he.index,he<se?(ce.flags|=2,se):he):(ce.flags|=2,se)):(ce.flags|=1048576,se)}function V(ce){return a&&ce.alternate===null&&(ce.flags|=2),ce}function X(ce,se,he,Be){return se===null||se.tag!==6?(se=Iv(he,ce.mode,Be),se.return=ce,se):(se=w(se,he),se.return=ce,se)}function ne(ce,se,he,Be){var Xe=he.type;return Xe===F?Fe(ce,se,he.props.children,Be,he.key):se!==null&&(se.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===xe&&eT(Xe)===se.type)?(Be=w(se,he.props),Be.ref=Dd(ce,se,he),Be.return=ce,Be):(Be=up(he.type,he.key,he.props,null,ce.mode,Be),Be.ref=Dd(ce,se,he),Be.return=ce,Be)}function _e(ce,se,he,Be){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=Sv(he,ce.mode,Be),se.return=ce,se):(se=w(se,he.children||[]),se.return=ce,se)}function Fe(ce,se,he,Be,Xe){return se===null||se.tag!==7?(se=fl(he,ce.mode,Be,Xe),se.return=ce,se):(se=w(se,he),se.return=ce,se)}function Me(ce,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Iv(""+se,ce.mode,he),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case $:return he=up(se.type,se.key,se.props,null,ce.mode,he),he.ref=Dd(ce,null,se),he.return=ce,he;case Y:return se=Sv(se,ce.mode,he),se.return=ce,se;case xe:var Be=se._init;return Me(ce,Be(se._payload),he)}if(we(se)||K(se))return se=fl(se,ce.mode,he,null),se.return=ce,se;Bm(ce,se)}return null}function Re(ce,se,he,Be){var Xe=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Xe!==null?null:X(ce,se,""+he,Be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case $:return he.key===Xe?ne(ce,se,he,Be):null;case Y:return he.key===Xe?_e(ce,se,he,Be):null;case xe:return Xe=he._init,Re(ce,se,Xe(he._payload),Be)}if(we(he)||K(he))return Xe!==null?null:Fe(ce,se,he,Be,null);Bm(ce,he)}return null}function Ge(ce,se,he,Be,Xe){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ce=ce.get(he)||null,X(se,ce,""+Be,Xe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case $:return ce=ce.get(Be.key===null?he:Be.key)||null,ne(se,ce,Be,Xe);case Y:return ce=ce.get(Be.key===null?he:Be.key)||null,_e(se,ce,Be,Xe);case xe:var rt=Be._init;return Ge(ce,se,he,rt(Be._payload),Xe)}if(we(Be)||K(Be))return ce=ce.get(he)||null,Fe(se,ce,Be,Xe,null);Bm(se,Be)}return null}function Qe(ce,se,he,Be){for(var Xe=null,rt=null,it=se,dt=se=0,Wn=null;it!==null&&dt<he.length;dt++){it.index>dt?(Wn=it,it=null):Wn=it.sibling;var At=Re(ce,it,he[dt],Be);if(At===null){it===null&&(it=Wn);break}a&&it&&At.alternate===null&&l(ce,it),se=x(At,se,dt),rt===null?Xe=At:rt.sibling=At,rt=At,it=Wn}if(dt===he.length)return d(ce,it),Xt&&sl(ce,dt),Xe;if(it===null){for(;dt<he.length;dt++)it=Me(ce,he[dt],Be),it!==null&&(se=x(it,se,dt),rt===null?Xe=it:rt.sibling=it,rt=it);return Xt&&sl(ce,dt),Xe}for(it=g(ce,it);dt<he.length;dt++)Wn=Ge(it,ce,dt,he[dt],Be),Wn!==null&&(a&&Wn.alternate!==null&&it.delete(Wn.key===null?dt:Wn.key),se=x(Wn,se,dt),rt===null?Xe=Wn:rt.sibling=Wn,rt=Wn);return a&&it.forEach(function(Xa){return l(ce,Xa)}),Xt&&sl(ce,dt),Xe}function Je(ce,se,he,Be){var Xe=K(he);if(typeof Xe!="function")throw Error(t(150));if(he=Xe.call(he),he==null)throw Error(t(151));for(var rt=Xe=null,it=se,dt=se=0,Wn=null,At=he.next();it!==null&&!At.done;dt++,At=he.next()){it.index>dt?(Wn=it,it=null):Wn=it.sibling;var Xa=Re(ce,it,At.value,Be);if(Xa===null){it===null&&(it=Wn);break}a&&it&&Xa.alternate===null&&l(ce,it),se=x(Xa,se,dt),rt===null?Xe=Xa:rt.sibling=Xa,rt=Xa,it=Wn}if(At.done)return d(ce,it),Xt&&sl(ce,dt),Xe;if(it===null){for(;!At.done;dt++,At=he.next())At=Me(ce,At.value,Be),At!==null&&(se=x(At,se,dt),rt===null?Xe=At:rt.sibling=At,rt=At);return Xt&&sl(ce,dt),Xe}for(it=g(ce,it);!At.done;dt++,At=he.next())At=Ge(it,ce,dt,At.value,Be),At!==null&&(a&&At.alternate!==null&&it.delete(At.key===null?dt:At.key),se=x(At,se,dt),rt===null?Xe=At:rt.sibling=At,rt=At);return a&&it.forEach(function(A3){return l(ce,A3)}),Xt&&sl(ce,dt),Xe}function vn(ce,se,he,Be){if(typeof he=="object"&&he!==null&&he.type===F&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case $:e:{for(var Xe=he.key,rt=se;rt!==null;){if(rt.key===Xe){if(Xe=he.type,Xe===F){if(rt.tag===7){d(ce,rt.sibling),se=w(rt,he.props.children),se.return=ce,ce=se;break e}}else if(rt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===xe&&eT(Xe)===rt.type){d(ce,rt.sibling),se=w(rt,he.props),se.ref=Dd(ce,rt,he),se.return=ce,ce=se;break e}d(ce,rt);break}else l(ce,rt);rt=rt.sibling}he.type===F?(se=fl(he.props.children,ce.mode,Be,he.key),se.return=ce,ce=se):(Be=up(he.type,he.key,he.props,null,ce.mode,Be),Be.ref=Dd(ce,se,he),Be.return=ce,ce=Be)}return V(ce);case Y:e:{for(rt=he.key;se!==null;){if(se.key===rt)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){d(ce,se.sibling),se=w(se,he.children||[]),se.return=ce,ce=se;break e}else{d(ce,se);break}else l(ce,se);se=se.sibling}se=Sv(he,ce.mode,Be),se.return=ce,ce=se}return V(ce);case xe:return rt=he._init,vn(ce,se,rt(he._payload),Be)}if(we(he))return Qe(ce,se,he,Be);if(K(he))return Je(ce,se,he,Be);Bm(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,se!==null&&se.tag===6?(d(ce,se.sibling),se=w(se,he),se.return=ce,ce=se):(d(ce,se),se=Iv(he,ce.mode,Be),se.return=ce,ce=se),V(ce)):d(ce,se)}return vn}var Lc=tT(!0),nT=tT(!1),zm=za(null),Um=null,Oc=null,L_=null;function O_(){L_=Oc=Um=null}function M_(a){var l=zm.current;Kt(zm),a._currentValue=l}function V_(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function Mc(a,l){Um=a,L_=Oc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(jr=!0),a.firstContext=null)}function Ci(a){var l=a._currentValue;if(L_!==a)if(a={context:a,memoizedValue:l,next:null},Oc===null){if(Um===null)throw Error(t(308));Oc=a,Um.dependencies={lanes:0,firstContext:a}}else Oc=Oc.next=a;return l}var al=null;function j_(a){al===null?al=[a]:al.push(a)}function rT(a,l,d,g){var w=l.interleaved;return w===null?(d.next=d,j_(l)):(d.next=w.next,w.next=d),l.interleaved=d,Zs(a,g)}function Zs(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ha=!1;function B_(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iT(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ea(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function $a(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(kt&2)!==0){var w=g.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l,Zs(a,d)}return w=g.interleaved,w===null?(l.next=l,j_(g)):(l.next=w.next,w.next=l),g.interleaved=l,Zs(a,d)}function Wm(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Fa(a,d)}}function sT(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var V={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?w=x=V:x=x.next=V,d=d.next}while(d!==null);x===null?w=x=l:x=x.next=l}else w=x=l;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:x,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Hm(a,l,d,g){var w=a.updateQueue;Ha=!1;var x=w.firstBaseUpdate,V=w.lastBaseUpdate,X=w.shared.pending;if(X!==null){w.shared.pending=null;var ne=X,_e=ne.next;ne.next=null,V===null?x=_e:V.next=_e,V=ne;var Fe=a.alternate;Fe!==null&&(Fe=Fe.updateQueue,X=Fe.lastBaseUpdate,X!==V&&(X===null?Fe.firstBaseUpdate=_e:X.next=_e,Fe.lastBaseUpdate=ne))}if(x!==null){var Me=w.baseState;V=0,Fe=_e=ne=null,X=x;do{var Re=X.lane,Ge=X.eventTime;if((g&Re)===Re){Fe!==null&&(Fe=Fe.next={eventTime:Ge,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Qe=a,Je=X;switch(Re=l,Ge=d,Je.tag){case 1:if(Qe=Je.payload,typeof Qe=="function"){Me=Qe.call(Ge,Me,Re);break e}Me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Je.payload,Re=typeof Qe=="function"?Qe.call(Ge,Me,Re):Qe,Re==null)break e;Me=ie({},Me,Re);break e;case 2:Ha=!0}}X.callback!==null&&X.lane!==0&&(a.flags|=64,Re=w.effects,Re===null?w.effects=[X]:Re.push(X))}else Ge={eventTime:Ge,lane:Re,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Fe===null?(_e=Fe=Ge,ne=Me):Fe=Fe.next=Ge,V|=Re;if(X=X.next,X===null){if(X=w.shared.pending,X===null)break;Re=X,X=Re.next,Re.next=null,w.lastBaseUpdate=Re,w.shared.pending=null}}while(!0);if(Fe===null&&(ne=Me),w.baseState=ne,w.firstBaseUpdate=_e,w.lastBaseUpdate=Fe,l=w.shared.interleaved,l!==null){w=l;do V|=w.lane,w=w.next;while(w!==l)}else x===null&&(w.shared.lanes=0);cl|=V,a.lanes=V,a.memoizedState=Me}}function aT(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],w=g.callback;if(w!==null){if(g.callback=null,g=d,typeof w!="function")throw Error(t(191,w));w.call(g)}}}var Fd={},bs=za(Fd),Ld=za(Fd),Od=za(Fd);function ol(a){if(a===Fd)throw Error(t(174));return a}function z_(a,l){switch(Ut(Od,l),Ut(Ld,a),Ut(bs,Fd),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ie(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Ie(l,a)}Kt(bs),Ut(bs,l)}function Vc(){Kt(bs),Kt(Ld),Kt(Od)}function oT(a){ol(Od.current);var l=ol(bs.current),d=Ie(l,a.type);l!==d&&(Ut(Ld,a),Ut(bs,d))}function U_(a){Ld.current===a&&(Kt(bs),Kt(Ld))}var on=za(0);function $m(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var W_=[];function H_(){for(var a=0;a<W_.length;a++)W_[a]._workInProgressVersionPrimary=null;W_.length=0}var Gm=z.ReactCurrentDispatcher,$_=z.ReactCurrentBatchConfig,ll=0,ln=null,Dn=null,zn=null,qm=!1,Md=!1,Vd=0,XN=0;function dr(){throw Error(t(321))}function G_(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ji(a[d],l[d]))return!1;return!0}function q_(a,l,d,g,w,x){if(ll=x,ln=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Gm.current=a===null||a.memoizedState===null?n3:r3,a=d(g,w),Md){x=0;do{if(Md=!1,Vd=0,25<=x)throw Error(t(301));x+=1,zn=Dn=null,l.updateQueue=null,Gm.current=i3,a=d(g,w)}while(Md)}if(Gm.current=Ym,l=Dn!==null&&Dn.next!==null,ll=0,zn=Dn=ln=null,qm=!1,l)throw Error(t(300));return a}function K_(){var a=Vd!==0;return Vd=0,a}function Ts(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?ln.memoizedState=zn=a:zn=zn.next=a,zn}function Pi(){if(Dn===null){var a=ln.alternate;a=a!==null?a.memoizedState:null}else a=Dn.next;var l=zn===null?ln.memoizedState:zn.next;if(l!==null)zn=l,Dn=a;else{if(a===null)throw Error(t(310));Dn=a,a={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},zn===null?ln.memoizedState=zn=a:zn=zn.next=a}return zn}function jd(a,l){return typeof l=="function"?l(a):l}function Q_(a){var l=Pi(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var g=Dn,w=g.baseQueue,x=d.pending;if(x!==null){if(w!==null){var V=w.next;w.next=x.next,x.next=V}g.baseQueue=w=x,d.pending=null}if(w!==null){x=w.next,g=g.baseState;var X=V=null,ne=null,_e=x;do{var Fe=_e.lane;if((ll&Fe)===Fe)ne!==null&&(ne=ne.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),g=_e.hasEagerState?_e.eagerState:a(g,_e.action);else{var Me={lane:Fe,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ne===null?(X=ne=Me,V=g):ne=ne.next=Me,ln.lanes|=Fe,cl|=Fe}_e=_e.next}while(_e!==null&&_e!==x);ne===null?V=g:ne.next=X,Ji(g,l.memoizedState)||(jr=!0),l.memoizedState=g,l.baseState=V,l.baseQueue=ne,d.lastRenderedState=g}if(a=d.interleaved,a!==null){w=a;do x=w.lane,ln.lanes|=x,cl|=x,w=w.next;while(w!==a)}else w===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Y_(a){var l=Pi(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var g=d.dispatch,w=d.pending,x=l.memoizedState;if(w!==null){d.pending=null;var V=w=w.next;do x=a(x,V.action),V=V.next;while(V!==w);Ji(x,l.memoizedState)||(jr=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,g]}function lT(){}function cT(a,l){var d=ln,g=Pi(),w=l(),x=!Ji(g.memoizedState,w);if(x&&(g.memoizedState=w,jr=!0),g=g.queue,J_(hT.bind(null,d,g,a),[a]),g.getSnapshot!==l||x||zn!==null&&zn.memoizedState.tag&1){if(d.flags|=2048,Bd(9,dT.bind(null,d,g,w,l),void 0,null),Un===null)throw Error(t(349));(ll&30)!==0||uT(d,l,w)}return w}function uT(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=ln.updateQueue,l===null?(l={lastEffect:null,stores:null},ln.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function dT(a,l,d,g){l.value=d,l.getSnapshot=g,fT(l)&&mT(a)}function hT(a,l,d){return d(function(){fT(l)&&mT(a)})}function fT(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ji(a,d)}catch{return!0}}function mT(a){var l=Zs(a,1);l!==null&&ns(l,a,1,-1)}function pT(a){var l=Ts();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:a},l.queue=a,a=a.dispatch=t3.bind(null,ln,a),[l.memoizedState,a]}function Bd(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},l=ln.updateQueue,l===null?(l={lastEffect:null,stores:null},ln.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a)),a}function gT(){return Pi().memoizedState}function Km(a,l,d,g){var w=Ts();ln.flags|=a,w.memoizedState=Bd(1|l,d,void 0,g===void 0?null:g)}function Qm(a,l,d,g){var w=Pi();g=g===void 0?null:g;var x=void 0;if(Dn!==null){var V=Dn.memoizedState;if(x=V.destroy,g!==null&&G_(g,V.deps)){w.memoizedState=Bd(l,d,x,g);return}}ln.flags|=a,w.memoizedState=Bd(1|l,d,x,g)}function yT(a,l){return Km(8390656,8,a,l)}function J_(a,l){return Qm(2048,8,a,l)}function _T(a,l){return Qm(4,2,a,l)}function vT(a,l){return Qm(4,4,a,l)}function wT(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function bT(a,l,d){return d=d!=null?d.concat([a]):null,Qm(4,4,wT.bind(null,l,a),d)}function X_(){}function TT(a,l){var d=Pi();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&G_(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function ET(a,l){var d=Pi();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&G_(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function xT(a,l,d){return(ll&21)===0?(a.baseState&&(a.baseState=!1,jr=!0),a.memoizedState=d):(Ji(d,l)||(d=Jo(),ln.lanes|=d,cl|=d,a.baseState=!0),l)}function ZN(a,l){var d=xt;xt=d!==0&&4>d?d:4,a(!0);var g=$_.transition;$_.transition={};try{a(!1),l()}finally{xt=d,$_.transition=g}}function IT(){return Pi().memoizedState}function e3(a,l,d){var g=Qa(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},ST(a))CT(l,d);else if(d=rT(a,l,d,g),d!==null){var w=Cr();ns(d,a,g,w),PT(d,l,g)}}function t3(a,l,d){var g=Qa(a),w={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(ST(a))CT(l,w);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var V=l.lastRenderedState,X=x(V,d);if(w.hasEagerState=!0,w.eagerState=X,Ji(X,V)){var ne=l.interleaved;ne===null?(w.next=w,j_(l)):(w.next=ne.next,ne.next=w),l.interleaved=w;return}}catch{}finally{}d=rT(a,l,w,g),d!==null&&(w=Cr(),ns(d,a,g,w),PT(d,l,g))}}function ST(a){var l=a.alternate;return a===ln||l!==null&&l===ln}function CT(a,l){Md=qm=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function PT(a,l,d){if((d&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Fa(a,d)}}var Ym={readContext:Ci,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},n3={readContext:Ci,useCallback:function(a,l){return Ts().memoizedState=[a,l===void 0?null:l],a},useContext:Ci,useEffect:yT,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Km(4194308,4,wT.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Km(4194308,4,a,l)},useInsertionEffect:function(a,l){return Km(4,2,a,l)},useMemo:function(a,l){var d=Ts();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=Ts();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=e3.bind(null,ln,a),[g.memoizedState,a]},useRef:function(a){var l=Ts();return a={current:a},l.memoizedState=a},useState:pT,useDebugValue:X_,useDeferredValue:function(a){return Ts().memoizedState=a},useTransition:function(){var a=pT(!1),l=a[0];return a=ZN.bind(null,a[1]),Ts().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=ln,w=Ts();if(Xt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=l(),Un===null)throw Error(t(349));(ll&30)!==0||uT(g,l,d)}w.memoizedState=d;var x={value:d,getSnapshot:l};return w.queue=x,yT(hT.bind(null,g,x,a),[a]),g.flags|=2048,Bd(9,dT.bind(null,g,x,d,l),void 0,null),d},useId:function(){var a=Ts(),l=Un.identifierPrefix;if(Xt){var d=Xs,g=Js;d=(g&~(1<<32-xr(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Vd++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=XN++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},r3={readContext:Ci,useCallback:TT,useContext:Ci,useEffect:J_,useImperativeHandle:bT,useInsertionEffect:_T,useLayoutEffect:vT,useMemo:ET,useReducer:Q_,useRef:gT,useState:function(){return Q_(jd)},useDebugValue:X_,useDeferredValue:function(a){var l=Pi();return xT(l,Dn.memoizedState,a)},useTransition:function(){var a=Q_(jd)[0],l=Pi().memoizedState;return[a,l]},useMutableSource:lT,useSyncExternalStore:cT,useId:IT,unstable_isNewReconciler:!1},i3={readContext:Ci,useCallback:TT,useContext:Ci,useEffect:J_,useImperativeHandle:bT,useInsertionEffect:_T,useLayoutEffect:vT,useMemo:ET,useReducer:Y_,useRef:gT,useState:function(){return Y_(jd)},useDebugValue:X_,useDeferredValue:function(a){var l=Pi();return Dn===null?l.memoizedState=a:xT(l,Dn.memoizedState,a)},useTransition:function(){var a=Y_(jd)[0],l=Pi().memoizedState;return[a,l]},useMutableSource:lT,useSyncExternalStore:cT,useId:IT,unstable_isNewReconciler:!1};function Zi(a,l){if(a&&a.defaultProps){l=ie({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function Z_(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:ie({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Jm={isMounted:function(a){return(a=a._reactInternals)?Hi(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Cr(),w=Qa(a),x=ea(g,w);x.payload=l,d!=null&&(x.callback=d),l=$a(a,x,w),l!==null&&(ns(l,a,w,g),Wm(l,a,w))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Cr(),w=Qa(a),x=ea(g,w);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=$a(a,x,w),l!==null&&(ns(l,a,w,g),Wm(l,a,w))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Cr(),g=Qa(a),w=ea(d,g);w.tag=2,l!=null&&(w.callback=l),l=$a(a,w,g),l!==null&&(ns(l,a,g,d),Wm(l,a,g))}};function kT(a,l,d,g,w,x,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,x,V):l.prototype&&l.prototype.isPureReactComponent?!Sd(d,g)||!Sd(w,x):!0}function AT(a,l,d){var g=!1,w=Ua,x=l.contextType;return typeof x=="object"&&x!==null?x=Ci(x):(w=Vr(l)?rl:ur.current,g=l.contextTypes,x=(g=g!=null)?Nc(a,w):Ua),l=new l(d,x),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Jm,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=x),l}function NT(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Jm.enqueueReplaceState(l,l.state,null)}function ev(a,l,d,g){var w=a.stateNode;w.props=d,w.state=a.memoizedState,w.refs={},B_(a);var x=l.contextType;typeof x=="object"&&x!==null?w.context=Ci(x):(x=Vr(l)?rl:ur.current,w.context=Nc(a,x)),w.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Z_(a,l,x,d),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&Jm.enqueueReplaceState(w,w.state,null),Hm(a,d,w,g),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308)}function jc(a,l){try{var d="",g=l;do d+=fe(g),g=g.return;while(g);var w=d}catch(x){w=`
Error generating stack: `+x.message+`
`+x.stack}return{value:a,source:l,stack:w,digest:null}}function tv(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function nv(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var s3=typeof WeakMap=="function"?WeakMap:Map;function RT(a,l,d){d=ea(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){ip||(ip=!0,yv=g),nv(a,l)},d}function DT(a,l,d){d=ea(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var w=l.value;d.payload=function(){return g(w)},d.callback=function(){nv(a,l)}}var x=a.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){nv(a,l),typeof g!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})}),d}function FT(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new s3;var w=new Set;g.set(l,w)}else w=g.get(l),w===void 0&&(w=new Set,g.set(l,w));w.has(d)||(w.add(d),a=v3.bind(null,a,l,d),l.then(a,a))}function LT(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function OT(a,l,d,g,w){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=ea(-1,1),l.tag=2,$a(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=w,a)}var a3=z.ReactCurrentOwner,jr=!1;function Sr(a,l,d,g){l.child=a===null?nT(l,null,d,g):Lc(l,a.child,d,g)}function MT(a,l,d,g,w){d=d.render;var x=l.ref;return Mc(l,w),g=q_(a,l,d,g,x,w),d=K_(),a!==null&&!jr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~w,ta(a,l,w)):(Xt&&d&&A_(l),l.flags|=1,Sr(a,l,g,w),l.child)}function VT(a,l,d,g,w){if(a===null){var x=d.type;return typeof x=="function"&&!xv(x)&&x.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=x,jT(a,l,x,g,w)):(a=up(d.type,null,g,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(x=a.child,(a.lanes&w)===0){var V=x.memoizedProps;if(d=d.compare,d=d!==null?d:Sd,d(V,g)&&a.ref===l.ref)return ta(a,l,w)}return l.flags|=1,a=Ja(x,g),a.ref=l.ref,a.return=l,l.child=a}function jT(a,l,d,g,w){if(a!==null){var x=a.memoizedProps;if(Sd(x,g)&&a.ref===l.ref)if(jr=!1,l.pendingProps=g=x,(a.lanes&w)!==0)(a.flags&131072)!==0&&(jr=!0);else return l.lanes=a.lanes,ta(a,l,w)}return rv(a,l,d,g,w)}function BT(a,l,d){var g=l.pendingProps,w=g.children,x=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(zc,ci),ci|=d;else{if((d&1073741824)===0)return a=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ut(zc,ci),ci|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:d,Ut(zc,ci),ci|=g}else x!==null?(g=x.baseLanes|d,l.memoizedState=null):g=d,Ut(zc,ci),ci|=g;return Sr(a,l,w,d),l.child}function zT(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function rv(a,l,d,g,w){var x=Vr(d)?rl:ur.current;return x=Nc(l,x),Mc(l,w),d=q_(a,l,d,g,x,w),g=K_(),a!==null&&!jr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~w,ta(a,l,w)):(Xt&&g&&A_(l),l.flags|=1,Sr(a,l,d,w),l.child)}function UT(a,l,d,g,w){if(Vr(d)){var x=!0;Lm(l)}else x=!1;if(Mc(l,w),l.stateNode===null)Zm(a,l),AT(l,d,g),ev(l,d,g,w),g=!0;else if(a===null){var V=l.stateNode,X=l.memoizedProps;V.props=X;var ne=V.context,_e=d.contextType;typeof _e=="object"&&_e!==null?_e=Ci(_e):(_e=Vr(d)?rl:ur.current,_e=Nc(l,_e));var Fe=d.getDerivedStateFromProps,Me=typeof Fe=="function"||typeof V.getSnapshotBeforeUpdate=="function";Me||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(X!==g||ne!==_e)&&NT(l,V,g,_e),Ha=!1;var Re=l.memoizedState;V.state=Re,Hm(l,g,V,w),ne=l.memoizedState,X!==g||Re!==ne||Mr.current||Ha?(typeof Fe=="function"&&(Z_(l,d,Fe,g),ne=l.memoizedState),(X=Ha||kT(l,d,X,g,Re,ne,_e))?(Me||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(l.flags|=4194308)):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ne),V.props=g,V.state=ne,V.context=_e,g=X):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{V=l.stateNode,iT(a,l),X=l.memoizedProps,_e=l.type===l.elementType?X:Zi(l.type,X),V.props=_e,Me=l.pendingProps,Re=V.context,ne=d.contextType,typeof ne=="object"&&ne!==null?ne=Ci(ne):(ne=Vr(d)?rl:ur.current,ne=Nc(l,ne));var Ge=d.getDerivedStateFromProps;(Fe=typeof Ge=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(X!==Me||Re!==ne)&&NT(l,V,g,ne),Ha=!1,Re=l.memoizedState,V.state=Re,Hm(l,g,V,w);var Qe=l.memoizedState;X!==Me||Re!==Qe||Mr.current||Ha?(typeof Ge=="function"&&(Z_(l,d,Ge,g),Qe=l.memoizedState),(_e=Ha||kT(l,d,_e,g,Re,Qe,ne)||!1)?(Fe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(g,Qe,ne),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(g,Qe,ne)),typeof V.componentDidUpdate=="function"&&(l.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof V.componentDidUpdate!="function"||X===a.memoizedProps&&Re===a.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||X===a.memoizedProps&&Re===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Qe),V.props=g,V.state=Qe,V.context=ne,g=_e):(typeof V.componentDidUpdate!="function"||X===a.memoizedProps&&Re===a.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||X===a.memoizedProps&&Re===a.memoizedState||(l.flags|=1024),g=!1)}return iv(a,l,d,g,x,w)}function iv(a,l,d,g,w,x){zT(a,l);var V=(l.flags&128)!==0;if(!g&&!V)return w&&qb(l,d,!1),ta(a,l,x);g=l.stateNode,a3.current=l;var X=V&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&V?(l.child=Lc(l,a.child,null,x),l.child=Lc(l,null,X,x)):Sr(a,l,X,x),l.memoizedState=g.state,w&&qb(l,d,!0),l.child}function WT(a){var l=a.stateNode;l.pendingContext?$b(a,l.pendingContext,l.pendingContext!==l.context):l.context&&$b(a,l.context,!1),z_(a,l.containerInfo)}function HT(a,l,d,g,w){return Fc(),F_(w),l.flags|=256,Sr(a,l,d,g),l.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function av(a){return{baseLanes:a,cachePool:null,transitions:null}}function $T(a,l,d){var g=l.pendingProps,w=on.current,x=!1,V=(l.flags&128)!==0,X;if((X=V)||(X=a!==null&&a.memoizedState===null?!1:(w&2)!==0),X?(x=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(w|=1),Ut(on,w&1),a===null)return D_(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(V=g.children,a=g.fallback,x?(g=l.mode,x=l.child,V={mode:"hidden",children:V},(g&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=V):x=dp(V,g,0,null),a=fl(a,g,d,null),x.return=l,a.return=l,x.sibling=a,l.child=x,l.child.memoizedState=av(d),l.memoizedState=sv,a):ov(l,V));if(w=a.memoizedState,w!==null&&(X=w.dehydrated,X!==null))return o3(a,l,V,g,X,w,d);if(x){x=g.fallback,V=l.mode,w=a.child,X=w.sibling;var ne={mode:"hidden",children:g.children};return(V&1)===0&&l.child!==w?(g=l.child,g.childLanes=0,g.pendingProps=ne,l.deletions=null):(g=Ja(w,ne),g.subtreeFlags=w.subtreeFlags&14680064),X!==null?x=Ja(X,x):(x=fl(x,V,d,null),x.flags|=2),x.return=l,g.return=l,g.sibling=x,l.child=g,g=x,x=l.child,V=a.child.memoizedState,V=V===null?av(d):{baseLanes:V.baseLanes|d,cachePool:null,transitions:V.transitions},x.memoizedState=V,x.childLanes=a.childLanes&~d,l.memoizedState=sv,g}return x=a.child,a=x.sibling,g=Ja(x,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=g,l.memoizedState=null,g}function ov(a,l){return l=dp({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Xm(a,l,d,g){return g!==null&&F_(g),Lc(l,a.child,null,d),a=ov(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function o3(a,l,d,g,w,x,V){if(d)return l.flags&256?(l.flags&=-257,g=tv(Error(t(422))),Xm(a,l,V,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(x=g.fallback,w=l.mode,g=dp({mode:"visible",children:g.children},w,0,null),x=fl(x,w,V,null),x.flags|=2,g.return=l,x.return=l,g.sibling=x,l.child=g,(l.mode&1)!==0&&Lc(l,a.child,null,V),l.child.memoizedState=av(V),l.memoizedState=sv,x);if((l.mode&1)===0)return Xm(a,l,V,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var X=g.dgst;return g=X,x=Error(t(419)),g=tv(x,g,void 0),Xm(a,l,V,g)}if(X=(V&a.childLanes)!==0,jr||X){if(g=Un,g!==null){switch(V&-V){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|V))!==0?0:w,w!==0&&w!==x.retryLane&&(x.retryLane=w,Zs(a,w),ns(g,a,w,-1))}return Ev(),g=tv(Error(t(421))),Xm(a,l,V,g)}return w.data==="$?"?(l.flags|=128,l.child=a.child,l=w3.bind(null,a),w._reactRetry=l,null):(a=x.treeContext,li=Ba(w.nextSibling),oi=l,Xt=!0,Xi=null,a!==null&&(Ii[Si++]=Js,Ii[Si++]=Xs,Ii[Si++]=il,Js=a.id,Xs=a.overflow,il=l),l=ov(l,g.children),l.flags|=4096,l)}function GT(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),V_(a.return,l,d)}function lv(a,l,d,g,w){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=d,x.tailMode=w)}function qT(a,l,d){var g=l.pendingProps,w=g.revealOrder,x=g.tail;if(Sr(a,l,g.children,d),g=on.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&GT(a,d,l);else if(a.tag===19)GT(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ut(on,g),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(d=l.child,w=null;d!==null;)a=d.alternate,a!==null&&$m(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),lv(l,!1,w,d,x);break;case"backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&$m(a)===null){l.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}lv(l,!0,d,null,x);break;case"together":lv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Zm(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ta(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),cl|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,d=Ja(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Ja(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function l3(a,l,d){switch(l.tag){case 3:WT(l),Fc();break;case 5:oT(l);break;case 1:Vr(l.type)&&Lm(l);break;case 4:z_(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,w=l.memoizedProps.value;Ut(zm,g._currentValue),g._currentValue=w;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ut(on,on.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?$T(a,l,d):(Ut(on,on.current&1),a=ta(a,l,d),a!==null?a.sibling:null);Ut(on,on.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(a.flags&128)!==0){if(g)return qT(a,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ut(on,on.current),g)break;return null;case 22:case 23:return l.lanes=0,BT(a,l,d)}return ta(a,l,d)}var KT,cv,QT,YT;KT=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},cv=function(){},QT=function(a,l,d,g){var w=a.memoizedProps;if(w!==g){a=l.stateNode,ol(bs.current);var x=null;switch(d){case"input":w=P(a,w),g=P(a,g),x=[];break;case"select":w=ie({},w,{value:void 0}),g=ie({},g,{value:void 0}),x=[];break;case"textarea":w=q(a,w),g=q(a,g),x=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Rm)}Gt(d,g);var V;d=null;for(_e in w)if(!g.hasOwnProperty(_e)&&w.hasOwnProperty(_e)&&w[_e]!=null)if(_e==="style"){var X=w[_e];for(V in X)X.hasOwnProperty(V)&&(d||(d={}),d[V]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?x||(x=[]):(x=x||[]).push(_e,null));for(_e in g){var ne=g[_e];if(X=w!=null?w[_e]:void 0,g.hasOwnProperty(_e)&&ne!==X&&(ne!=null||X!=null))if(_e==="style")if(X){for(V in X)!X.hasOwnProperty(V)||ne&&ne.hasOwnProperty(V)||(d||(d={}),d[V]="");for(V in ne)ne.hasOwnProperty(V)&&X[V]!==ne[V]&&(d||(d={}),d[V]=ne[V])}else d||(x||(x=[]),x.push(_e,d)),d=ne;else _e==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,X=X?X.__html:void 0,ne!=null&&X!==ne&&(x=x||[]).push(_e,ne)):_e==="children"?typeof ne!="string"&&typeof ne!="number"||(x=x||[]).push(_e,""+ne):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(ne!=null&&_e==="onScroll"&&qt("scroll",a),x||X===ne||(x=[])):(x=x||[]).push(_e,ne))}d&&(x=x||[]).push("style",d);var _e=x;(l.updateQueue=_e)&&(l.flags|=4)}},YT=function(a,l,d,g){d!==g&&(l.flags|=4)};function zd(a,l){if(!Xt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function hr(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function c3(a,l,d){var g=l.pendingProps;switch(N_(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(l),null;case 1:return Vr(l.type)&&Fm(),hr(l),null;case 3:return g=l.stateNode,Vc(),Kt(Mr),Kt(ur),H_(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(jm(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xi!==null&&(wv(Xi),Xi=null))),cv(a,l),hr(l),null;case 5:U_(l);var w=ol(Od.current);if(d=l.type,a!==null&&l.stateNode!=null)QT(a,l,d,g,w),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return hr(l),null}if(a=ol(bs.current),jm(l)){g=l.stateNode,d=l.type;var x=l.memoizedProps;switch(g[ws]=l,g[Nd]=x,a=(l.mode&1)!==0,d){case"dialog":qt("cancel",g),qt("close",g);break;case"iframe":case"object":case"embed":qt("load",g);break;case"video":case"audio":for(w=0;w<Pd.length;w++)qt(Pd[w],g);break;case"source":qt("error",g);break;case"img":case"image":case"link":qt("error",g),qt("load",g);break;case"details":qt("toggle",g);break;case"input":me(g,x),qt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!x.multiple},qt("invalid",g);break;case"textarea":pe(g,x),qt("invalid",g)}Gt(d,x),w=null;for(var V in x)if(x.hasOwnProperty(V)){var X=x[V];V==="children"?typeof X=="string"?g.textContent!==X&&(x.suppressHydrationWarning!==!0&&Nm(g.textContent,X,a),w=["children",X]):typeof X=="number"&&g.textContent!==""+X&&(x.suppressHydrationWarning!==!0&&Nm(g.textContent,X,a),w=["children",""+X]):i.hasOwnProperty(V)&&X!=null&&V==="onScroll"&&qt("scroll",g)}switch(d){case"input":Ae(g),G(g,x,!0);break;case"textarea":Ae(g),ae(g);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(g.onclick=Rm)}g=w,l.updateQueue=g,g!==null&&(l.flags|=4)}else{V=w.nodeType===9?w:w.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ye(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=V.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=V.createElement(d,{is:g.is}):(a=V.createElement(d),d==="select"&&(V=a,g.multiple?V.multiple=!0:g.size&&(V.size=g.size))):a=V.createElementNS(a,d),a[ws]=l,a[Nd]=g,KT(a,l,!1,!1),l.stateNode=a;e:{switch(V=bi(d,g),d){case"dialog":qt("cancel",a),qt("close",a),w=g;break;case"iframe":case"object":case"embed":qt("load",a),w=g;break;case"video":case"audio":for(w=0;w<Pd.length;w++)qt(Pd[w],a);w=g;break;case"source":qt("error",a),w=g;break;case"img":case"image":case"link":qt("error",a),qt("load",a),w=g;break;case"details":qt("toggle",a),w=g;break;case"input":me(a,g),w=P(a,g),qt("invalid",a);break;case"option":w=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},w=ie({},g,{value:void 0}),qt("invalid",a);break;case"textarea":pe(a,g),w=q(a,g),qt("invalid",a);break;default:w=g}Gt(d,w),X=w;for(x in X)if(X.hasOwnProperty(x)){var ne=X[x];x==="style"?Pt(a,ne):x==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&We(a,ne)):x==="children"?typeof ne=="string"?(d!=="textarea"||ne!=="")&&Ze(a,ne):typeof ne=="number"&&Ze(a,""+ne):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?ne!=null&&x==="onScroll"&&qt("scroll",a):ne!=null&&L(a,x,ne,V))}switch(d){case"input":Ae(a),G(a,g,!1);break;case"textarea":Ae(a),ae(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ue(g.value));break;case"select":a.multiple=!!g.multiple,x=g.value,x!=null?Se(a,!!g.multiple,x,!1):g.defaultValue!=null&&Se(a,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(a.onclick=Rm)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return hr(l),null;case 6:if(a&&l.stateNode!=null)YT(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(d=ol(Od.current),ol(bs.current),jm(l)){if(g=l.stateNode,d=l.memoizedProps,g[ws]=l,(x=g.nodeValue!==d)&&(a=oi,a!==null))switch(a.tag){case 3:Nm(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Nm(g.nodeValue,d,(a.mode&1)!==0)}x&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[ws]=l,l.stateNode=g}return hr(l),null;case 13:if(Kt(on),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Xt&&li!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Zb(),Fc(),l.flags|=98560,x=!1;else if(x=jm(l),g!==null&&g.dehydrated!==null){if(a===null){if(!x)throw Error(t(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[ws]=l}else Fc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;hr(l),x=!1}else Xi!==null&&(wv(Xi),Xi=null),x=!0;if(!x)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(on.current&1)!==0?Fn===0&&(Fn=3):Ev())),l.updateQueue!==null&&(l.flags|=4),hr(l),null);case 4:return Vc(),cv(a,l),a===null&&kd(l.stateNode.containerInfo),hr(l),null;case 10:return M_(l.type._context),hr(l),null;case 17:return Vr(l.type)&&Fm(),hr(l),null;case 19:if(Kt(on),x=l.memoizedState,x===null)return hr(l),null;if(g=(l.flags&128)!==0,V=x.rendering,V===null)if(g)zd(x,!1);else{if(Fn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(V=$m(a),V!==null){for(l.flags|=128,zd(x,!1),g=V.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)x=d,a=g,x.flags&=14680066,V=x.alternate,V===null?(x.childLanes=0,x.lanes=a,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=V.childLanes,x.lanes=V.lanes,x.child=V.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=V.memoizedProps,x.memoizedState=V.memoizedState,x.updateQueue=V.updateQueue,x.type=V.type,a=V.dependencies,x.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Ut(on,on.current&1|2),l.child}a=a.sibling}x.tail!==null&&zt()>Uc&&(l.flags|=128,g=!0,zd(x,!1),l.lanes=4194304)}else{if(!g)if(a=$m(V),a!==null){if(l.flags|=128,g=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),zd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!V.alternate&&!Xt)return hr(l),null}else 2*zt()-x.renderingStartTime>Uc&&d!==1073741824&&(l.flags|=128,g=!0,zd(x,!1),l.lanes=4194304);x.isBackwards?(V.sibling=l.child,l.child=V):(d=x.last,d!==null?d.sibling=V:l.child=V,x.last=V)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=zt(),l.sibling=null,d=on.current,Ut(on,g?d&1|2:d&1),l):(hr(l),null);case 22:case 23:return Tv(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(ci&1073741824)!==0&&(hr(l),l.subtreeFlags&6&&(l.flags|=8192)):hr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function u3(a,l){switch(N_(l),l.tag){case 1:return Vr(l.type)&&Fm(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Vc(),Kt(Mr),Kt(ur),H_(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return U_(l),null;case 13:if(Kt(on),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Fc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Kt(on),null;case 4:return Vc(),null;case 10:return M_(l.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var ep=!1,fr=!1,d3=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Bc(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){mn(a,l,g)}else d.current=null}function uv(a,l,d){try{d()}catch(g){mn(a,l,g)}}var JT=!1;function h3(a,l){if(T_=Ma,a=kb(),m_(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var V=0,X=-1,ne=-1,_e=0,Fe=0,Me=a,Re=null;t:for(;;){for(var Ge;Me!==d||w!==0&&Me.nodeType!==3||(X=V+w),Me!==x||g!==0&&Me.nodeType!==3||(ne=V+g),Me.nodeType===3&&(V+=Me.nodeValue.length),(Ge=Me.firstChild)!==null;)Re=Me,Me=Ge;for(;;){if(Me===a)break t;if(Re===d&&++_e===w&&(X=V),Re===x&&++Fe===g&&(ne=V),(Ge=Me.nextSibling)!==null)break;Me=Re,Re=Me.parentNode}Me=Ge}d=X===-1||ne===-1?null:{start:X,end:ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(E_={focusedElem:a,selectionRange:d},Ma=!1,qe=l;qe!==null;)if(l=qe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,qe=a;else for(;qe!==null;){l=qe;try{var Qe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var Je=Qe.memoizedProps,vn=Qe.memoizedState,ce=l.stateNode,se=ce.getSnapshotBeforeUpdate(l.elementType===l.type?Je:Zi(l.type,Je),vn);ce.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var he=l.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Be){mn(l,l.return,Be)}if(a=l.sibling,a!==null){a.return=l.return,qe=a;break}qe=l.return}return Qe=JT,JT=!1,Qe}function Ud(a,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&a)===a){var x=w.destroy;w.destroy=void 0,x!==void 0&&uv(l,d,x)}w=w.next}while(w!==g)}}function tp(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function dv(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function XT(a){var l=a.alternate;l!==null&&(a.alternate=null,XT(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ws],delete l[Nd],delete l[C_],delete l[KN],delete l[QN])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ZT(a){return a.tag===5||a.tag===3||a.tag===4}function eE(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ZT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hv(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Rm));else if(g!==4&&(a=a.child,a!==null))for(hv(a,l,d),a=a.sibling;a!==null;)hv(a,l,d),a=a.sibling}function fv(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(fv(a,l,d),a=a.sibling;a!==null;)fv(a,l,d),a=a.sibling}var nr=null,es=!1;function Ga(a,l,d){for(d=d.child;d!==null;)tE(a,l,d),d=d.sibling}function tE(a,l,d){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(Qo,d)}catch{}switch(d.tag){case 5:fr||Bc(d,l);case 6:var g=nr,w=es;nr=null,Ga(a,l,d),nr=g,es=w,nr!==null&&(es?(a=nr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):nr.removeChild(d.stateNode));break;case 18:nr!==null&&(es?(a=nr,d=d.stateNode,a.nodeType===8?S_(a.parentNode,d):a.nodeType===1&&S_(a,d),Qi(a)):S_(nr,d.stateNode));break;case 4:g=nr,w=es,nr=d.stateNode.containerInfo,es=!0,Ga(a,l,d),nr=g,es=w;break;case 0:case 11:case 14:case 15:if(!fr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var x=w,V=x.destroy;x=x.tag,V!==void 0&&((x&2)!==0||(x&4)!==0)&&uv(d,l,V),w=w.next}while(w!==g)}Ga(a,l,d);break;case 1:if(!fr&&(Bc(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(X){mn(d,l,X)}Ga(a,l,d);break;case 21:Ga(a,l,d);break;case 22:d.mode&1?(fr=(g=fr)||d.memoizedState!==null,Ga(a,l,d),fr=g):Ga(a,l,d);break;default:Ga(a,l,d)}}function nE(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new d3),l.forEach(function(g){var w=b3.bind(null,a,g);d.has(g)||(d.add(g),g.then(w,w))})}}function ts(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g];try{var x=a,V=l,X=V;e:for(;X!==null;){switch(X.tag){case 5:nr=X.stateNode,es=!1;break e;case 3:nr=X.stateNode.containerInfo,es=!0;break e;case 4:nr=X.stateNode.containerInfo,es=!0;break e}X=X.return}if(nr===null)throw Error(t(160));tE(x,V,w),nr=null,es=!1;var ne=w.alternate;ne!==null&&(ne.return=null),w.return=null}catch(_e){mn(w,l,_e)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)rE(l,a),l=l.sibling}function rE(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ts(l,a),Es(a),g&4){try{Ud(3,a,a.return),tp(3,a)}catch(Je){mn(a,a.return,Je)}try{Ud(5,a,a.return)}catch(Je){mn(a,a.return,Je)}}break;case 1:ts(l,a),Es(a),g&512&&d!==null&&Bc(d,d.return);break;case 5:if(ts(l,a),Es(a),g&512&&d!==null&&Bc(d,d.return),a.flags&32){var w=a.stateNode;try{Ze(w,"")}catch(Je){mn(a,a.return,Je)}}if(g&4&&(w=a.stateNode,w!=null)){var x=a.memoizedProps,V=d!==null?d.memoizedProps:x,X=a.type,ne=a.updateQueue;if(a.updateQueue=null,ne!==null)try{X==="input"&&x.type==="radio"&&x.name!=null&&ge(w,x),bi(X,V);var _e=bi(X,x);for(V=0;V<ne.length;V+=2){var Fe=ne[V],Me=ne[V+1];Fe==="style"?Pt(w,Me):Fe==="dangerouslySetInnerHTML"?We(w,Me):Fe==="children"?Ze(w,Me):L(w,Fe,Me,_e)}switch(X){case"input":Q(w,x);break;case"textarea":Ee(w,x);break;case"select":var Re=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!x.multiple;var Ge=x.value;Ge!=null?Se(w,!!x.multiple,Ge,!1):Re!==!!x.multiple&&(x.defaultValue!=null?Se(w,!!x.multiple,x.defaultValue,!0):Se(w,!!x.multiple,x.multiple?[]:"",!1))}w[Nd]=x}catch(Je){mn(a,a.return,Je)}}break;case 6:if(ts(l,a),Es(a),g&4){if(a.stateNode===null)throw Error(t(162));w=a.stateNode,x=a.memoizedProps;try{w.nodeValue=x}catch(Je){mn(a,a.return,Je)}}break;case 3:if(ts(l,a),Es(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Qi(l.containerInfo)}catch(Je){mn(a,a.return,Je)}break;case 4:ts(l,a),Es(a);break;case 13:ts(l,a),Es(a),w=a.child,w.flags&8192&&(x=w.memoizedState!==null,w.stateNode.isHidden=x,!x||w.alternate!==null&&w.alternate.memoizedState!==null||(gv=zt())),g&4&&nE(a);break;case 22:if(Fe=d!==null&&d.memoizedState!==null,a.mode&1?(fr=(_e=fr)||Fe,ts(l,a),fr=_e):ts(l,a),Es(a),g&8192){if(_e=a.memoizedState!==null,(a.stateNode.isHidden=_e)&&!Fe&&(a.mode&1)!==0)for(qe=a,Fe=a.child;Fe!==null;){for(Me=qe=Fe;qe!==null;){switch(Re=qe,Ge=Re.child,Re.tag){case 0:case 11:case 14:case 15:Ud(4,Re,Re.return);break;case 1:Bc(Re,Re.return);var Qe=Re.stateNode;if(typeof Qe.componentWillUnmount=="function"){g=Re,d=Re.return;try{l=g,Qe.props=l.memoizedProps,Qe.state=l.memoizedState,Qe.componentWillUnmount()}catch(Je){mn(g,d,Je)}}break;case 5:Bc(Re,Re.return);break;case 22:if(Re.memoizedState!==null){aE(Me);continue}}Ge!==null?(Ge.return=Re,qe=Ge):aE(Me)}Fe=Fe.sibling}e:for(Fe=null,Me=a;;){if(Me.tag===5){if(Fe===null){Fe=Me;try{w=Me.stateNode,_e?(x=w.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(X=Me.stateNode,ne=Me.memoizedProps.style,V=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,X.style.display=ft("display",V))}catch(Je){mn(a,a.return,Je)}}}else if(Me.tag===6){if(Fe===null)try{Me.stateNode.nodeValue=_e?"":Me.memoizedProps}catch(Je){mn(a,a.return,Je)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===a)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===a)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===a)break e;Fe===Me&&(Fe=null),Me=Me.return}Fe===Me&&(Fe=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:ts(l,a),Es(a),g&4&&nE(a);break;case 21:break;default:ts(l,a),Es(a)}}function Es(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(ZT(d)){var g=d;break e}d=d.return}throw Error(t(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Ze(w,""),g.flags&=-33);var x=eE(a);fv(a,x,w);break;case 3:case 4:var V=g.stateNode.containerInfo,X=eE(a);hv(a,X,V);break;default:throw Error(t(161))}}catch(ne){mn(a,a.return,ne)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function f3(a,l,d){qe=a,iE(a)}function iE(a,l,d){for(var g=(a.mode&1)!==0;qe!==null;){var w=qe,x=w.child;if(w.tag===22&&g){var V=w.memoizedState!==null||ep;if(!V){var X=w.alternate,ne=X!==null&&X.memoizedState!==null||fr;X=ep;var _e=fr;if(ep=V,(fr=ne)&&!_e)for(qe=w;qe!==null;)V=qe,ne=V.child,V.tag===22&&V.memoizedState!==null?oE(w):ne!==null?(ne.return=V,qe=ne):oE(w);for(;x!==null;)qe=x,iE(x),x=x.sibling;qe=w,ep=X,fr=_e}sE(a)}else(w.subtreeFlags&8772)!==0&&x!==null?(x.return=w,qe=x):sE(a)}}function sE(a){for(;qe!==null;){var l=qe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:fr||tp(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!fr)if(d===null)g.componentDidMount();else{var w=l.elementType===l.type?d.memoizedProps:Zi(l.type,d.memoizedProps);g.componentDidUpdate(w,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&aT(l,x,g);break;case 3:var V=l.updateQueue;if(V!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}aT(l,V,d)}break;case 5:var X=l.stateNode;if(d===null&&l.flags&4){d=X;var ne=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&d.focus();break;case"img":ne.src&&(d.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var _e=l.alternate;if(_e!==null){var Fe=_e.memoizedState;if(Fe!==null){var Me=Fe.dehydrated;Me!==null&&Qi(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fr||l.flags&512&&dv(l)}catch(Re){mn(l,l.return,Re)}}if(l===a){qe=null;break}if(d=l.sibling,d!==null){d.return=l.return,qe=d;break}qe=l.return}}function aE(a){for(;qe!==null;){var l=qe;if(l===a){qe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,qe=d;break}qe=l.return}}function oE(a){for(;qe!==null;){var l=qe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{tp(4,l)}catch(ne){mn(l,d,ne)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var w=l.return;try{g.componentDidMount()}catch(ne){mn(l,w,ne)}}var x=l.return;try{dv(l)}catch(ne){mn(l,x,ne)}break;case 5:var V=l.return;try{dv(l)}catch(ne){mn(l,V,ne)}}}catch(ne){mn(l,l.return,ne)}if(l===a){qe=null;break}var X=l.sibling;if(X!==null){X.return=l.return,qe=X;break}qe=l.return}}var m3=Math.ceil,np=z.ReactCurrentDispatcher,mv=z.ReactCurrentOwner,ki=z.ReactCurrentBatchConfig,kt=0,Un=null,In=null,rr=0,ci=0,zc=za(0),Fn=0,Wd=null,cl=0,rp=0,pv=0,Hd=null,Br=null,gv=0,Uc=1/0,na=null,ip=!1,yv=null,qa=null,sp=!1,Ka=null,ap=0,$d=0,_v=null,op=-1,lp=0;function Cr(){return(kt&6)!==0?zt():op!==-1?op:op=zt()}function Qa(a){return(a.mode&1)===0?1:(kt&2)!==0&&rr!==0?rr&-rr:JN.transition!==null?(lp===0&&(lp=Jo()),lp):(a=xt,a!==0||(a=window.event,a=a===void 0?16:vd(a.type)),a)}function ns(a,l,d,g){if(50<$d)throw $d=0,_v=null,Error(t(185));Da(a,d,g),((kt&2)===0||a!==Un)&&(a===Un&&((kt&2)===0&&(rp|=d),Fn===4&&Ya(a,rr)),zr(a,g),d===1&&kt===0&&(l.mode&1)===0&&(Uc=zt()+500,Om&&Wa()))}function zr(a,l){var d=a.callbackNode;Hs(a,l);var g=Yo(a,a===Un?rr:0);if(g===0)d!==null&&md(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&md(d),l===1)a.tag===0?YN(cE.bind(null,a)):Kb(cE.bind(null,a)),GN(function(){(kt&6)===0&&Wa()}),d=null;else{switch(La(g)){case 1:d=Ko;break;case 4:d=Aa;break;case 16:d=Ti;break;case 536870912:d=lm;break;default:d=Ti}d=yE(d,lE.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function lE(a,l){if(op=-1,lp=0,(kt&6)!==0)throw Error(t(327));var d=a.callbackNode;if(Wc()&&a.callbackNode!==d)return null;var g=Yo(a,a===Un?rr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=cp(a,g);else{l=g;var w=kt;kt|=2;var x=dE();(Un!==a||rr!==l)&&(na=null,Uc=zt()+500,dl(a,l));do try{y3();break}catch(X){uE(a,X)}while(!0);O_(),np.current=x,kt=w,In!==null?l=0:(Un=null,rr=0,l=Fn)}if(l!==0){if(l===2&&(w=ii(a),w!==0&&(g=w,l=vv(a,w))),l===1)throw d=Wd,dl(a,0),Ya(a,g),zr(a,zt()),d;if(l===6)Ya(a,g);else{if(w=a.current.alternate,(g&30)===0&&!p3(w)&&(l=cp(a,g),l===2&&(x=ii(a),x!==0&&(g=x,l=vv(a,x))),l===1))throw d=Wd,dl(a,0),Ya(a,g),zr(a,zt()),d;switch(a.finishedWork=w,a.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:hl(a,Br,na);break;case 3:if(Ya(a,g),(g&130023424)===g&&(l=gv+500-zt(),10<l)){if(Yo(a,0)!==0)break;if(w=a.suspendedLanes,(w&g)!==g){Cr(),a.pingedLanes|=a.suspendedLanes&w;break}a.timeoutHandle=I_(hl.bind(null,a,Br,na),l);break}hl(a,Br,na);break;case 4:if(Ya(a,g),(g&4194240)===g)break;for(l=a.eventTimes,w=-1;0<g;){var V=31-xr(g);x=1<<V,V=l[V],V>w&&(w=V),g&=~x}if(g=w,g=zt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*m3(g/1960))-g,10<g){a.timeoutHandle=I_(hl.bind(null,a,Br,na),g);break}hl(a,Br,na);break;case 5:hl(a,Br,na);break;default:throw Error(t(329))}}}return zr(a,zt()),a.callbackNode===d?lE.bind(null,a):null}function vv(a,l){var d=Hd;return a.current.memoizedState.isDehydrated&&(dl(a,l).flags|=256),a=cp(a,l),a!==2&&(l=Br,Br=d,l!==null&&wv(l)),a}function wv(a){Br===null?Br=a:Br.push.apply(Br,a)}function p3(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var w=d[g],x=w.getSnapshot;w=w.value;try{if(!Ji(x(),w))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ya(a,l){for(l&=~pv,l&=~rp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-xr(l),g=1<<d;a[d]=-1,l&=~g}}function cE(a){if((kt&6)!==0)throw Error(t(327));Wc();var l=Yo(a,0);if((l&1)===0)return zr(a,zt()),null;var d=cp(a,l);if(a.tag!==0&&d===2){var g=ii(a);g!==0&&(l=g,d=vv(a,g))}if(d===1)throw d=Wd,dl(a,0),Ya(a,l),zr(a,zt()),d;if(d===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,hl(a,Br,na),zr(a,zt()),null}function bv(a,l){var d=kt;kt|=1;try{return a(l)}finally{kt=d,kt===0&&(Uc=zt()+500,Om&&Wa())}}function ul(a){Ka!==null&&Ka.tag===0&&(kt&6)===0&&Wc();var l=kt;kt|=1;var d=ki.transition,g=xt;try{if(ki.transition=null,xt=1,a)return a()}finally{xt=g,ki.transition=d,kt=l,(kt&6)===0&&Wa()}}function Tv(){ci=zc.current,Kt(zc)}function dl(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,$N(d)),In!==null)for(d=In.return;d!==null;){var g=d;switch(N_(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fm();break;case 3:Vc(),Kt(Mr),Kt(ur),H_();break;case 5:U_(g);break;case 4:Vc();break;case 13:Kt(on);break;case 19:Kt(on);break;case 10:M_(g.type._context);break;case 22:case 23:Tv()}d=d.return}if(Un=a,In=a=Ja(a.current,null),rr=ci=l,Fn=0,Wd=null,pv=rp=cl=0,Br=Hd=null,al!==null){for(l=0;l<al.length;l++)if(d=al[l],g=d.interleaved,g!==null){d.interleaved=null;var w=g.next,x=d.pending;if(x!==null){var V=x.next;x.next=w,g.next=V}d.pending=g}al=null}return a}function uE(a,l){do{var d=In;try{if(O_(),Gm.current=Ym,qm){for(var g=ln.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}qm=!1}if(ll=0,zn=Dn=ln=null,Md=!1,Vd=0,mv.current=null,d===null||d.return===null){Fn=1,Wd=l,In=null;break}e:{var x=a,V=d.return,X=d,ne=l;if(l=rr,X.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var _e=ne,Fe=X,Me=Fe.tag;if((Fe.mode&1)===0&&(Me===0||Me===11||Me===15)){var Re=Fe.alternate;Re?(Fe.updateQueue=Re.updateQueue,Fe.memoizedState=Re.memoizedState,Fe.lanes=Re.lanes):(Fe.updateQueue=null,Fe.memoizedState=null)}var Ge=LT(V);if(Ge!==null){Ge.flags&=-257,OT(Ge,V,X,x,l),Ge.mode&1&&FT(x,_e,l),l=Ge,ne=_e;var Qe=l.updateQueue;if(Qe===null){var Je=new Set;Je.add(ne),l.updateQueue=Je}else Qe.add(ne);break e}else{if((l&1)===0){FT(x,_e,l),Ev();break e}ne=Error(t(426))}}else if(Xt&&X.mode&1){var vn=LT(V);if(vn!==null){(vn.flags&65536)===0&&(vn.flags|=256),OT(vn,V,X,x,l),F_(jc(ne,X));break e}}x=ne=jc(ne,X),Fn!==4&&(Fn=2),Hd===null?Hd=[x]:Hd.push(x),x=V;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var ce=RT(x,ne,l);sT(x,ce);break e;case 1:X=ne;var se=x.type,he=x.stateNode;if((x.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(qa===null||!qa.has(he)))){x.flags|=65536,l&=-l,x.lanes|=l;var Be=DT(x,X,l);sT(x,Be);break e}}x=x.return}while(x!==null)}fE(d)}catch(Xe){l=Xe,In===d&&d!==null&&(In=d=d.return);continue}break}while(!0)}function dE(){var a=np.current;return np.current=Ym,a===null?Ym:a}function Ev(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Un===null||(cl&268435455)===0&&(rp&268435455)===0||Ya(Un,rr)}function cp(a,l){var d=kt;kt|=2;var g=dE();(Un!==a||rr!==l)&&(na=null,dl(a,l));do try{g3();break}catch(w){uE(a,w)}while(!0);if(O_(),kt=d,np.current=g,In!==null)throw Error(t(261));return Un=null,rr=0,Fn}function g3(){for(;In!==null;)hE(In)}function y3(){for(;In!==null&&!am();)hE(In)}function hE(a){var l=gE(a.alternate,a,ci);a.memoizedProps=a.pendingProps,l===null?fE(a):In=l,mv.current=null}function fE(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=c3(d,l,ci),d!==null){In=d;return}}else{if(d=u3(d,l),d!==null){d.flags&=32767,In=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Fn=6,In=null;return}}if(l=l.sibling,l!==null){In=l;return}In=l=a}while(l!==null);Fn===0&&(Fn=5)}function hl(a,l,d){var g=xt,w=ki.transition;try{ki.transition=null,xt=1,_3(a,l,d,g)}finally{ki.transition=w,xt=g}return null}function _3(a,l,d,g){do Wc();while(Ka!==null);if((kt&6)!==0)throw Error(t(327));d=a.finishedWork;var w=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var x=d.lanes|d.childLanes;if(jt(a,x),a===Un&&(In=Un=null,rr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||sp||(sp=!0,yE(Ti,function(){return Wc(),null})),x=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||x){x=ki.transition,ki.transition=null;var V=xt;xt=1;var X=kt;kt|=4,mv.current=null,h3(a,d),rE(d,a),VN(E_),Ma=!!T_,E_=T_=null,a.current=d,f3(d),a_(),kt=X,xt=V,ki.transition=x}else a.current=d;if(sp&&(sp=!1,Ka=a,ap=w),x=a.pendingLanes,x===0&&(qa=null),cm(d.stateNode),zr(a,zt()),l!==null)for(g=a.onRecoverableError,d=0;d<l.length;d++)w=l[d],g(w.value,{componentStack:w.stack,digest:w.digest});if(ip)throw ip=!1,a=yv,yv=null,a;return(ap&1)!==0&&a.tag!==0&&Wc(),x=a.pendingLanes,(x&1)!==0?a===_v?$d++:($d=0,_v=a):$d=0,Wa(),null}function Wc(){if(Ka!==null){var a=La(ap),l=ki.transition,d=xt;try{if(ki.transition=null,xt=16>a?16:a,Ka===null)var g=!1;else{if(a=Ka,Ka=null,ap=0,(kt&6)!==0)throw Error(t(331));var w=kt;for(kt|=4,qe=a.current;qe!==null;){var x=qe,V=x.child;if((qe.flags&16)!==0){var X=x.deletions;if(X!==null){for(var ne=0;ne<X.length;ne++){var _e=X[ne];for(qe=_e;qe!==null;){var Fe=qe;switch(Fe.tag){case 0:case 11:case 15:Ud(8,Fe,x)}var Me=Fe.child;if(Me!==null)Me.return=Fe,qe=Me;else for(;qe!==null;){Fe=qe;var Re=Fe.sibling,Ge=Fe.return;if(XT(Fe),Fe===_e){qe=null;break}if(Re!==null){Re.return=Ge,qe=Re;break}qe=Ge}}}var Qe=x.alternate;if(Qe!==null){var Je=Qe.child;if(Je!==null){Qe.child=null;do{var vn=Je.sibling;Je.sibling=null,Je=vn}while(Je!==null)}}qe=x}}if((x.subtreeFlags&2064)!==0&&V!==null)V.return=x,qe=V;else e:for(;qe!==null;){if(x=qe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Ud(9,x,x.return)}var ce=x.sibling;if(ce!==null){ce.return=x.return,qe=ce;break e}qe=x.return}}var se=a.current;for(qe=se;qe!==null;){V=qe;var he=V.child;if((V.subtreeFlags&2064)!==0&&he!==null)he.return=V,qe=he;else e:for(V=se;qe!==null;){if(X=qe,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:tp(9,X)}}catch(Xe){mn(X,X.return,Xe)}if(X===V){qe=null;break e}var Be=X.sibling;if(Be!==null){Be.return=X.return,qe=Be;break e}qe=X.return}}if(kt=w,Wa(),ri&&typeof ri.onPostCommitFiberRoot=="function")try{ri.onPostCommitFiberRoot(Qo,a)}catch{}g=!0}return g}finally{xt=d,ki.transition=l}}return!1}function mE(a,l,d){l=jc(d,l),l=RT(a,l,1),a=$a(a,l,1),l=Cr(),a!==null&&(Da(a,1,l),zr(a,l))}function mn(a,l,d){if(a.tag===3)mE(a,a,d);else for(;l!==null;){if(l.tag===3){mE(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(qa===null||!qa.has(g))){a=jc(d,a),a=DT(l,a,1),l=$a(l,a,1),a=Cr(),l!==null&&(Da(l,1,a),zr(l,a));break}}l=l.return}}function v3(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Cr(),a.pingedLanes|=a.suspendedLanes&d,Un===a&&(rr&d)===d&&(Fn===4||Fn===3&&(rr&130023424)===rr&&500>zt()-gv?dl(a,0):pv|=d),zr(a,l)}function pE(a,l){l===0&&((a.mode&1)===0?l=1:(l=hc,hc<<=1,(hc&130023424)===0&&(hc=4194304)));var d=Cr();a=Zs(a,l),a!==null&&(Da(a,l,d),zr(a,d))}function w3(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),pE(a,d)}function b3(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),pE(a,d)}var gE;gE=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Mr.current)jr=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return jr=!1,l3(a,l,d);jr=(a.flags&131072)!==0}else jr=!1,Xt&&(l.flags&1048576)!==0&&Qb(l,Vm,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Zm(a,l),a=l.pendingProps;var w=Nc(l,ur.current);Mc(l,d),w=q_(null,l,g,a,w,d);var x=K_();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Vr(g)?(x=!0,Lm(l)):x=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,B_(l),w.updater=Jm,l.stateNode=w,w._reactInternals=l,ev(l,g,a,d),l=iv(null,l,g,!0,x,d)):(l.tag=0,Xt&&x&&A_(l),Sr(null,l,w,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Zm(a,l),a=l.pendingProps,w=g._init,g=w(g._payload),l.type=g,w=l.tag=E3(g),a=Zi(g,a),w){case 0:l=rv(null,l,g,a,d);break e;case 1:l=UT(null,l,g,a,d);break e;case 11:l=MT(null,l,g,a,d);break e;case 14:l=VT(null,l,g,Zi(g.type,a),d);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Zi(g,w),rv(a,l,g,w,d);case 1:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Zi(g,w),UT(a,l,g,w,d);case 3:e:{if(WT(l),a===null)throw Error(t(387));g=l.pendingProps,x=l.memoizedState,w=x.element,iT(a,l),Hm(l,g,null,d);var V=l.memoizedState;if(g=V.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){w=jc(Error(t(423)),l),l=HT(a,l,g,d,w);break e}else if(g!==w){w=jc(Error(t(424)),l),l=HT(a,l,g,d,w);break e}else for(li=Ba(l.stateNode.containerInfo.firstChild),oi=l,Xt=!0,Xi=null,d=nT(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Fc(),g===w){l=ta(a,l,d);break e}Sr(a,l,g,d)}l=l.child}return l;case 5:return oT(l),a===null&&D_(l),g=l.type,w=l.pendingProps,x=a!==null?a.memoizedProps:null,V=w.children,x_(g,w)?V=null:x!==null&&x_(g,x)&&(l.flags|=32),zT(a,l),Sr(a,l,V,d),l.child;case 6:return a===null&&D_(l),null;case 13:return $T(a,l,d);case 4:return z_(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Lc(l,null,g,d):Sr(a,l,g,d),l.child;case 11:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Zi(g,w),MT(a,l,g,w,d);case 7:return Sr(a,l,l.pendingProps,d),l.child;case 8:return Sr(a,l,l.pendingProps.children,d),l.child;case 12:return Sr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,w=l.pendingProps,x=l.memoizedProps,V=w.value,Ut(zm,g._currentValue),g._currentValue=V,x!==null)if(Ji(x.value,V)){if(x.children===w.children&&!Mr.current){l=ta(a,l,d);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var X=x.dependencies;if(X!==null){V=x.child;for(var ne=X.firstContext;ne!==null;){if(ne.context===g){if(x.tag===1){ne=ea(-1,d&-d),ne.tag=2;var _e=x.updateQueue;if(_e!==null){_e=_e.shared;var Fe=_e.pending;Fe===null?ne.next=ne:(ne.next=Fe.next,Fe.next=ne),_e.pending=ne}}x.lanes|=d,ne=x.alternate,ne!==null&&(ne.lanes|=d),V_(x.return,d,l),X.lanes|=d;break}ne=ne.next}}else if(x.tag===10)V=x.type===l.type?null:x.child;else if(x.tag===18){if(V=x.return,V===null)throw Error(t(341));V.lanes|=d,X=V.alternate,X!==null&&(X.lanes|=d),V_(V,d,l),V=x.sibling}else V=x.child;if(V!==null)V.return=x;else for(V=x;V!==null;){if(V===l){V=null;break}if(x=V.sibling,x!==null){x.return=V.return,V=x;break}V=V.return}x=V}Sr(a,l,w.children,d),l=l.child}return l;case 9:return w=l.type,g=l.pendingProps.children,Mc(l,d),w=Ci(w),g=g(w),l.flags|=1,Sr(a,l,g,d),l.child;case 14:return g=l.type,w=Zi(g,l.pendingProps),w=Zi(g.type,w),VT(a,l,g,w,d);case 15:return jT(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Zi(g,w),Zm(a,l),l.tag=1,Vr(g)?(a=!0,Lm(l)):a=!1,Mc(l,d),AT(l,g,w),ev(l,g,w,d),iv(null,l,g,!0,a,d);case 19:return qT(a,l,d);case 22:return BT(a,l,d)}throw Error(t(156,l.tag))};function yE(a,l){return uc(a,l)}function T3(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(a,l,d,g){return new T3(a,l,d,g)}function xv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function E3(a){if(typeof a=="function")return xv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===D)return 11;if(a===te)return 14}return 2}function Ja(a,l){var d=a.alternate;return d===null?(d=Ai(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function up(a,l,d,g,w,x){var V=2;if(g=a,typeof a=="function")xv(a)&&(V=1);else if(typeof a=="string")V=5;else e:switch(a){case F:return fl(d.children,w,x,l);case R:V=8,w|=8;break;case O:return a=Ai(12,d,l,w|2),a.elementType=O,a.lanes=x,a;case M:return a=Ai(13,d,l,w),a.elementType=M,a.lanes=x,a;case C:return a=Ai(19,d,l,w),a.elementType=C,a.lanes=x,a;case ee:return dp(d,w,x,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:V=10;break e;case W:V=9;break e;case D:V=11;break e;case te:V=14;break e;case xe:V=16,g=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=Ai(V,d,l,w),l.elementType=a,l.type=g,l.lanes=x,l}function fl(a,l,d,g){return a=Ai(7,a,g,l),a.lanes=d,a}function dp(a,l,d,g){return a=Ai(22,a,g,l),a.elementType=ee,a.lanes=d,a.stateNode={isHidden:!1},a}function Iv(a,l,d){return a=Ai(6,a,null,l),a.lanes=d,a}function Sv(a,l,d){return l=Ai(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function x3(a,l,d,g,w){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Cv(a,l,d,g,w,x,V,X,ne){return a=new x3(a,l,d,X,ne),l===1?(l=1,x===!0&&(l|=8)):l=0,x=Ai(3,null,null,l),a.current=x,x.stateNode=a,x.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},B_(x),a}function I3(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}}function _E(a){if(!a)return Ua;a=a._reactInternals;e:{if(Hi(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Vr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var d=a.type;if(Vr(d))return Gb(a,d,l)}return l}function vE(a,l,d,g,w,x,V,X,ne){return a=Cv(d,g,!0,a,w,x,V,X,ne),a.context=_E(null),d=a.current,g=Cr(),w=Qa(d),x=ea(g,w),x.callback=l??null,$a(d,x,w),a.current.lanes=w,Da(a,w,g),zr(a,g),a}function hp(a,l,d,g){var w=l.current,x=Cr(),V=Qa(w);return d=_E(d),l.context===null?l.context=d:l.pendingContext=d,l=ea(x,V),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=$a(w,l,V),a!==null&&(ns(a,w,V,x),Wm(a,w,V)),V}function fp(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function wE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Pv(a,l){wE(a,l),(a=a.alternate)&&wE(a,l)}function S3(){return null}var bE=typeof reportError=="function"?reportError:function(a){console.error(a)};function kv(a){this._internalRoot=a}mp.prototype.render=kv.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));hp(a,l,null,null)},mp.prototype.unmount=kv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;ul(function(){hp(null,a,null,null)}),l[Qs]=null}};function mp(a){this._internalRoot=a}mp.prototype.unstable_scheduleHydration=function(a){if(a){var l=mm();a={blockedOn:null,target:a,priority:l};for(var d=0;d<gs.length&&l!==0&&l<gs[d].priority;d++);gs.splice(d,0,a),d===0&&ym(a)}};function Av(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function TE(){}function C3(a,l,d,g,w){if(w){if(typeof g=="function"){var x=g;g=function(){var _e=fp(V);x.call(_e)}}var V=vE(l,g,a,0,null,!1,!1,"",TE);return a._reactRootContainer=V,a[Qs]=V.current,kd(a.nodeType===8?a.parentNode:a),ul(),V}for(;w=a.lastChild;)a.removeChild(w);if(typeof g=="function"){var X=g;g=function(){var _e=fp(ne);X.call(_e)}}var ne=Cv(a,0,!1,null,null,!1,!1,"",TE);return a._reactRootContainer=ne,a[Qs]=ne.current,kd(a.nodeType===8?a.parentNode:a),ul(function(){hp(l,ne,d,g)}),ne}function gp(a,l,d,g,w){var x=d._reactRootContainer;if(x){var V=x;if(typeof w=="function"){var X=w;w=function(){var ne=fp(V);X.call(ne)}}hp(l,V,a,w)}else V=C3(d,l,a,w,g);return fp(V)}hm=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Na(l.pendingLanes);d!==0&&(Fa(l,d|1),zr(l,zt()),(kt&6)===0&&(Uc=zt()+500,Wa()))}break;case 13:ul(function(){var g=Zs(a,1);if(g!==null){var w=Cr();ns(g,a,1,w)}}),Pv(a,1)}},fc=function(a){if(a.tag===13){var l=Zs(a,134217728);if(l!==null){var d=Cr();ns(l,a,134217728,d)}Pv(a,134217728)}},fm=function(a){if(a.tag===13){var l=Qa(a),d=Zs(a,l);if(d!==null){var g=Cr();ns(d,a,l,g)}Pv(a,l)}},mm=function(){return xt},pm=function(a,l){var d=xt;try{return xt=a,l()}finally{xt=d}},En=function(a,l,d){switch(l){case"input":if(Q(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var w=Dm(g);if(!w)throw Error(t(90));ot(g),Q(g,w)}}}break;case"textarea":Ee(a,d);break;case"select":l=d.value,l!=null&&Se(a,!!d.multiple,l,!1)}},Dr=bv,ka=ul;var P3={usingClientEntryPoint:!1,Events:[Rd,kc,Dm,Nn,Pa,bv]},Gd={findFiberByHostInstance:nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k3={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=fd(a),a===null?null:a.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||S3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{Qo=yp.inject(k3),ri=yp}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3,Ur.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(l))throw Error(t(200));return I3(a,l,null,d)},Ur.createRoot=function(a,l){if(!Av(a))throw Error(t(299));var d=!1,g="",w=bE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=Cv(a,1,!1,null,null,d,!1,g,w),a[Qs]=l.current,kd(a.nodeType===8?a.parentNode:a),new kv(l)},Ur.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=fd(l),a=a===null?null:a.stateNode,a},Ur.flushSync=function(a){return ul(a)},Ur.hydrate=function(a,l,d){if(!pp(l))throw Error(t(200));return gp(null,a,l,!0,d)},Ur.hydrateRoot=function(a,l,d){if(!Av(a))throw Error(t(405));var g=d!=null&&d.hydratedSources||null,w=!1,x="",V=bE;if(d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),l=vE(l,null,a,1,d??null,w,!1,x,V),a[Qs]=l.current,kd(a),g)for(a=0;a<g.length;a++)d=g[a],w=d._getVersion,w=w(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,w]:l.mutableSourceEagerHydrationData.push(d,w);return new mp(l)},Ur.render=function(a,l,d){if(!pp(l))throw Error(t(200));return gp(null,a,l,!1,d)},Ur.unmountComponentAtNode=function(a){if(!pp(a))throw Error(t(40));return a._reactRootContainer?(ul(function(){gp(null,null,a,!1,function(){a._reactRootContainer=null,a[Qs]=null})}),!0):!1},Ur.unstable_batchedUpdates=bv,Ur.unstable_renderSubtreeIntoContainer=function(a,l,d,g){if(!pp(d))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return gp(a,l,d,!1,g)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var AE;function M3(){if(AE)return Dv.exports;AE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dv.exports=O3(),Dv.exports}var NE;function V3(){if(NE)return vp;NE=1;var n=M3();return vp.createRoot=n.createRoot,vp.hydrateRoot=n.hydrateRoot,vp}var j3=V3();const B3=F1(j3),z3="modulepreload",U3=function(n){return"/"+n},RE={},yt=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(t.map(h=>{if(h=U3(h),h in RE)return;RE[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":z3,p||(_.as="script"),_.crossOrigin="",_.href=h,u&&_.setAttribute("nonce",u),document.head.appendChild(_),p)return new Promise((v,T)=>{_.addEventListener("load",v),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DE="popstate";function W3(n={}){function e(r,i){let{pathname:s,search:o,hash:c}=r.location;return m0("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:jh(i)}return $3(e,t,null,n)}function sn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H3(){return Math.random().toString(36).substring(2,10)}function FE(n,e){return{usr:n.state,key:n.key,idx:e}}function m0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hu(e):e,state:t,key:e&&e.key||r||H3()}}function jh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function $3(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c="POP",u=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function y(){c="POP";let I=p(),S=I==null?null:I-h;h=I,u&&u({action:c,location:b.location,delta:S})}function _(I,S){c="PUSH";let N=m0(b.location,I,S);h=p()+1;let L=FE(N,h),z=b.createHref(N);try{o.pushState(L,"",z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(z)}s&&u&&u({action:c,location:b.location,delta:1})}function v(I,S){c="REPLACE";let N=m0(b.location,I,S);h=p();let L=FE(N,h),z=b.createHref(N);o.replaceState(L,"",z),s&&u&&u({action:c,location:b.location,delta:0})}function T(I){return G3(I)}let b={get action(){return c},get location(){return n(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(DE,y),u=I,()=>{i.removeEventListener(DE,y),u=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let S=T(I);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:_,replace:v,go(I){return o.go(I)}};return b}function G3(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),sn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:jh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Z4(n,e,t="/"){return q3(n,e,t,!1)}function q3(n,e,t,r){let i=typeof e=="string"?Hu(e):e,s=ha(i.pathname||"/",t);if(s==null)return null;let o=eS(n);K3(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=s5(s);c=r5(o[u],h,r)}return c}function eS(n,e=[],t=[],r="",i=!1){let s=(o,c,u=i,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;sn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=ca([r,p.relativePath]),_=t.concat(p);o.children&&o.children.length>0&&(sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),eS(o.children,e,_,y,u)),!(o.path==null&&!o.index)&&e.push({path:y,score:t5(y,o.index),routesMeta:_})};return n.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,c);else for(let h of tS(o.path))s(o,c,!0,h)}),e}function tS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tS(r.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function K3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:n5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Q3=/^:[\w-]+$/,Y3=3,J3=2,X3=1,Z3=10,e5=-2,LE=n=>n==="*";function t5(n,e){let t=n.split("/"),r=t.length;return t.some(LE)&&(r+=e5),e&&(r+=J3),t.filter(i=>!LE(i)).reduce((i,s)=>i+(Q3.test(s)?Y3:s===""?X3:Z3),r)}function n5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function r5(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=tg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),_=u.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=tg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:ca([s,y.pathname]),pathnameBase:c5(ca([s,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(s=ca([s,y.pathnameBase]))}return o}function tg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=i5(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:y},_)=>{if(p==="*"){let T=c[_]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const v=c[_];return y&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function i5(n,e=!1,t=!0){Vi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ha(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function a5(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Hu(n):n;return{pathname:t?t.startsWith("/")?t:o5(t,e):e,search:u5(r),hash:d5(i)}}function o5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ov(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function O1(n){let e=l5(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function M1(n,e,t,r=!1){let i;typeof n=="string"?i=Hu(n):(i={...n},sn(!i.pathname||!i.pathname.includes("?"),Ov("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),Ov("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),Ov("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=t;else{let y=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let u=a5(i,c),h=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var ca=n=>n.join("/").replace(/\/\/+/g,"/"),c5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var f5=["GET",...nS];new Set(f5);var $u=A.createContext(null);$u.displayName="DataRouter";var Yg=A.createContext(null);Yg.displayName="DataRouterState";A.createContext(!1);var rS=A.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var m5=A.createContext(new Map);m5.displayName="Fetchers";var p5=A.createContext(null);p5.displayName="Await";var ds=A.createContext(null);ds.displayName="Navigation";var xf=A.createContext(null);xf.displayName="Location";var Bi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var V1=A.createContext(null);V1.displayName="RouteError";function g5(n,{relative:e}={}){sn(Gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(ds),{hash:i,pathname:s,search:o}=If(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:ca([t,s])),r.createHref({pathname:c,search:o,hash:i})}function Gu(){return A.useContext(xf)!=null}function An(){return sn(Gu(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(xf).location}var iS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(n){A.useContext(ds).static||A.useLayoutEffect(n)}function hs(){let{isDataRoute:n}=A.useContext(Bi);return n?N5():y5()}function y5(){sn(Gu(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext($u),{basename:e,navigator:t}=A.useContext(ds),{matches:r}=A.useContext(Bi),{pathname:i}=An(),s=JSON.stringify(O1(r)),o=A.useRef(!1);return sS(()=>{o.current=!0}),A.useCallback((u,h={})=>{if(Vi(o.current,iS),!o.current)return;if(typeof u=="number"){t.go(u);return}let p=M1(u,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ca([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,s,i,n])}var _5=A.createContext(null);function v5(n){let e=A.useContext(Bi).outlet;return e&&A.createElement(_5.Provider,{value:n},e)}function zi(){let{matches:n}=A.useContext(Bi),e=n[n.length-1];return e?e.params:{}}function If(n,{relative:e}={}){let{matches:t}=A.useContext(Bi),{pathname:r}=An(),i=JSON.stringify(O1(t));return A.useMemo(()=>M1(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function w5(n,e){return aS(n,e)}function aS(n,e,t,r,i){var N;sn(Gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(ds),{matches:o}=A.useContext(Bi),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";oS(h,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=An(),v;if(e){let L=typeof e=="string"?Hu(e):e;sn(p==="/"||((N=L.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=_;let T=v.pathname||"/",b=T;if(p!=="/"){let L=p.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=Z4(n,{pathname:b});Vi(y||I!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=I5(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:ca([p,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:ca([p,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,t,r,i);return e&&S?A.createElement(xf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function b5(){let n=A5(),e=h5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:i},t):null,o)}var T5=A.createElement(b5,null),E5=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?A.createElement(Bi.Provider,{value:this.props.routeContext},A.createElement(V1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x5({routeContext:n,match:e,children:t}){let r=A.useContext($u);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Bi.Provider,{value:n},t)}function I5(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);sn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:y,errors:_}=t,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let _,v=!1,T=null,b=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||T5,c&&(u<0&&y===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):u===y&&(v=!0,b=p.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,y+1)),S=()=>{let N;return _?N=T:v?N=b:p.route.Component?N=A.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,A.createElement(x5,{match:p,routeContext:{outlet:h,matches:I,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(E5,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:S(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):S()},null)}function j1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S5(n){let e=A.useContext($u);return sn(e,j1(n)),e}function C5(n){let e=A.useContext(Yg);return sn(e,j1(n)),e}function P5(n){let e=A.useContext(Bi);return sn(e,j1(n)),e}function B1(n){let e=P5(n),t=e.matches[e.matches.length-1];return sn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function k5(){return B1("useRouteId")}function A5(){var r;let n=A.useContext(V1),e=C5("useRouteError"),t=B1("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function N5(){let{router:n}=S5("useNavigate"),e=B1("useNavigate"),t=A.useRef(!1);return sS(()=>{t.current=!0}),A.useCallback(async(i,s={})=>{Vi(t.current,iS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var OE={};function oS(n,e,t){!e&&!OE[n]&&(OE[n]=!0,Vi(!1,t))}A.memo(R5);function R5({routes:n,future:e,state:t,unstable_onError:r}){return aS(n,void 0,t,r,e)}function su({to:n,replace:e,state:t,relative:r}){sn(Gu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(ds);Vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Bi),{pathname:o}=An(),c=hs(),u=M1(n,O1(s),o,r==="path"),h=JSON.stringify(u);return A.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function D5(n){return v5(n.context)}function et(n){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){sn(!Gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Hu(t));let{pathname:u="/",search:h="",hash:p="",state:y=null,key:_="default"}=t,v=A.useMemo(()=>{let T=ha(u,o);return T==null?null:{location:{pathname:T,search:h,hash:p,state:y,key:_},navigationType:r}},[o,u,h,p,y,_,r]);return Vi(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(ds.Provider,{value:c},A.createElement(xf.Provider,{children:e,value:v}))}function L5({children:n,location:e}){return w5(p0(n),e)}function p0(n,e=[]){let t=[];return A.Children.forEach(n,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){t.push.apply(t,p0(r.props.children,s));return}sn(r.type===et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=p0(r.props.children,s)),t.push(o)}),t}var Mp="get",Vp="application/x-www-form-urlencoded";function Jg(n){return n!=null&&typeof n.tagName=="string"}function O5(n){return Jg(n)&&n.tagName.toLowerCase()==="button"}function M5(n){return Jg(n)&&n.tagName.toLowerCase()==="form"}function V5(n){return Jg(n)&&n.tagName.toLowerCase()==="input"}function j5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function B5(n,e){return n.button===0&&(!e||e==="_self")&&!j5(n)}function g0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function z5(n,e){let t=g0(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var wp=null;function U5(){if(wp===null)try{new FormData(document.createElement("form"),0),wp=!1}catch{wp=!0}return wp}var W5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mv(n){return n!=null&&!W5.has(n)?(Vi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vp}"`),null):n}function H5(n,e){let t,r,i,s,o;if(M5(n)){let c=n.getAttribute("action");r=c?ha(c,e):null,t=n.getAttribute("method")||Mp,i=Mv(n.getAttribute("enctype"))||Vp,s=new FormData(n)}else if(O5(n)||V5(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?ha(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mp,i=Mv(n.getAttribute("formenctype"))||Mv(c.getAttribute("enctype"))||Vp,s=new FormData(c,n),!U5()){let{name:h,type:p,value:y}=n;if(p==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,y)}}else{if(Jg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mp,r=null,i=Vp,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $5(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ha(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function G5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function K5(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await G5(s,t);return o.links?o.links():[]}return[]}));return X5(r.flat(1).filter(q5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ME(n,e,t,r,i,s){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>{var p;return t[h].pathname!==u.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):s==="data"?e.filter((u,h)=>{var y;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let _=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Q5(n,e,{includeHydrateFallback:t}={}){return Y5(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Y5(n){return[...new Set(n)]}function J5(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function X5(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(J5(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function lS(){let n=A.useContext($u);return z1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z5(){let n=A.useContext(Yg);return z1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var U1=A.createContext(void 0);U1.displayName="FrameworkContext";function cS(){let n=A.useContext(U1);return z1(n,"You must render this element inside a <HydratedRouter> element"),n}function eR(n,e){let t=A.useContext(U1),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,_=A.useRef(null);A.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let b=S=>{S.forEach(N=>{o(N.isIntersecting)})},I=new IntersectionObserver(b,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),A.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},T=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Kd(c,v),onBlur:Kd(u,T),onMouseEnter:Kd(h,v),onMouseLeave:Kd(p,T),onTouchStart:Kd(y,v)}]:[!1,_,{}]}function Kd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tR({page:n,...e}){let{router:t}=lS(),r=A.useMemo(()=>Z4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(rR,{page:n,matches:r,...e}):null}function nR(n){let{manifest:e,routeModules:t}=cS(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return K5(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function rR({page:n,matches:e,...t}){let r=An(),{manifest:i,routeModules:s}=cS(),{basename:o}=lS(),{loaderData:c,matches:u}=Z5(),h=A.useMemo(()=>ME(n,e,u,i,r,"data"),[n,e,u,i,r]),p=A.useMemo(()=>ME(n,e,u,i,r,"assets"),[n,e,u,i,r]),y=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,b=!1;if(e.forEach(S=>{var L;let N=i.routes[S.route.id];!N||!N.hasLoader||(!h.some(z=>z.route.id===S.route.id)&&S.route.id in c&&((L=s[S.route.id])!=null&&L.shouldRevalidate)||N.hasClientLoader?b=!0:T.add(S.route.id))}),T.size===0)return[];let I=$5(n,o,"data");return b&&T.size>0&&I.searchParams.set("_routes",e.filter(S=>T.has(S.route.id)).map(S=>S.route.id).join(",")),[I.pathname+I.search]},[o,c,r,i,h,e,n,s]),_=A.useMemo(()=>Q5(p,i),[p,i]),v=nR(p);return A.createElement(A.Fragment,null,y.map(T=>A.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>A.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:b})=>A.createElement("link",{key:T,nonce:t.nonce,...b})))}function iR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.8.2")}catch{}function sR({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=W3({window:t,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),c=A.useCallback(u=>{A.startTransition(()=>o(u))},[o]);return A.useLayoutEffect(()=>i.listen(c),[i,c]),A.createElement(F5,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:c,target:u,to:h,preventScrollReset:p,viewTransition:y,..._},v){let{basename:T}=A.useContext(ds),b=typeof h=="string"&&dS.test(h),I,S=!1;if(typeof h=="string"&&b&&(I=h,uS))try{let O=new URL(window.location.href),B=h.startsWith("//")?new URL(O.protocol+h):new URL(h),W=ha(B.pathname,T);B.origin===O.origin&&W!=null?h=W+B.search+B.hash:S=!0}catch{Vi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=g5(h,{relative:i}),[L,z,$]=eR(r,_),Y=cR(h,{replace:o,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:y});function F(O){e&&e(O),O.defaultPrevented||Y(O)}let R=A.createElement("a",{..._,...$,href:I||N,onClick:S||s?e:F,ref:iR(v,z),target:u,"data-discover":!b&&t==="render"?"true":void 0});return L&&!b?A.createElement(A.Fragment,null,R,A.createElement(tR,{page:N})):R});Ot.displayName="Link";var aR=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:c,children:u,...h},p){let y=If(o,{relative:h.relative}),_=An(),v=A.useContext(Yg),{navigator:T,basename:b}=A.useContext(ds),I=v!=null&&pR(y)&&c===!0,S=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,N=_.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(N=N.toLowerCase(),L=L?L.toLowerCase():null,S=S.toLowerCase()),L&&b&&(L=ha(L,b)||L);const z=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let $=N===S||!i&&N.startsWith(S)&&N.charAt(z)==="/",Y=L!=null&&(L===S||!i&&L.startsWith(S)&&L.charAt(S.length)==="/"),F={isActive:$,isPending:Y,isTransitioning:I},R=$?e:void 0,O;typeof r=="function"?O=r(F):O=[r,$?"active":null,Y?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(F):s;return A.createElement(Ot,{...h,"aria-current":R,className:O,ref:p,style:B,to:o,viewTransition:c},typeof u=="function"?u(F):u)});aR.displayName="NavLink";var oR=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Mp,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:y,..._},v)=>{let T=fR(),b=mR(c,{relative:h}),I=o.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&dS.test(c),N=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,$=(z==null?void 0:z.getAttribute("formmethod"))||o;T(z||L.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:y})};return A.createElement("form",{ref:v,method:I,action:b,onSubmit:r?u:N,..._,"data-discover":!S&&n==="render"?"true":void 0})});oR.displayName="Form";function lR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(n){let e=A.useContext($u);return sn(e,lR(n)),e}function cR(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=hs(),u=An(),h=If(n,{relative:s});return A.useCallback(p=>{if(B5(p,e)){p.preventDefault();let y=t!==void 0?t:jh(u)===jh(h);c(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,h,t,r,e,n,i,s,o])}function uR(n){Vi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(g0(n)),t=A.useRef(!1),r=An(),i=A.useMemo(()=>z5(r.search,t.current?null:e.current),[r.search]),s=hs(),o=A.useCallback((c,u)=>{const h=g0(typeof c=="function"?c(new URLSearchParams(i)):c);t.current=!0,s("?"+h,u)},[s,i]);return[i,o]}var dR=0,hR=()=>`__${String(++dR)}__`;function fR(){let{router:n}=hS("useSubmit"),{basename:e}=A.useContext(ds),t=k5();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:c,formData:u,body:h}=H5(r,e);if(i.navigate===!1){let p=i.fetcherKey||hR();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function mR(n,{relative:e}={}){let{basename:t}=A.useContext(ds),r=A.useContext(Bi);sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...If(n||".",{relative:e})},o=An();if(n==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ca([t,s.pathname])),jh(s)}function pR(n,{relative:e}={}){let t=A.useContext(rS);sn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hS("useViewTransitionState"),i=If(n,{relative:e});if(!t.isTransitioning)return!1;let s=ha(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ha(t.nextLocation.pathname,r)||t.nextLocation.pathname;return tg(i.pathname,o)!=null||tg(i.pathname,s)!=null}var fS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VE=la.createContext&&la.createContext(fS),gR=["attr","size","title"];function yR(n,e){if(n==null)return{};var t=_R(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function _R(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ng(){return ng=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ng.apply(this,arguments)}function jE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(t),!0).forEach(function(r){vR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vR(n,e,t){return e=wR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wR(n){var e=bR(n,"string");return typeof e=="symbol"?e:e+""}function bR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mS(n){return n&&n.map((e,t)=>la.createElement(e.tag,rg({key:t},e.attr),mS(e.child)))}function Ve(n){return e=>la.createElement(TR,ng({attr:rg({},n.attr)},e),mS(n.child))}function TR(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=yR(n,gR),c=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),la.createElement("svg",ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:u,style:rg(rg({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&la.createElement("title",null,s),n.children)};return VE!==void 0?la.createElement(VE.Consumer,null,t=>e(t)):e(fS)}function W1(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function uG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(n)}function pS(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function ER(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function dG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(n)}function xR(n){return Ve({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(n)}function IR(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(n)}function gS(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function SR(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(n)}function CR(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function PR(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(n)}function BE(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function hG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function fG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(n)}function mG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(n)}function pG(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(n)}function H1(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function kR(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function gG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(n)}function zE(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function yS(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function _S(n){return Ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function vS(n){return Ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function yG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(n)}function AR(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(n)}function _G(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function vG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(n)}function wG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"},child:[]}]})(n)}function bG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function TG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function EG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(n)}function xG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(n)}function wS(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function IG(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function SG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(n)}function CG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function $1(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function ig(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function PG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function bS(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function kG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}function AG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function NG(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function NR(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function RG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(n)}function DG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function Xg(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function sg(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(n)}function FG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function G1(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function LG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(n)}function _h(n){return Ve({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function OG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function MG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function VG(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(n)}function jG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function BG(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(n)}function RR(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(n)}function zG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function UG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(n)}function DR(n){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function WG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function TS(n){return Ve({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function FR(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function HG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function ES(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(n)}function $G(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(n)}function LR(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function GG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function xS(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function qG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(n)}function KG(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function QG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}function YG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}function y0(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function JG(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function Xr(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(n)}function XG(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function ZG(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function OR(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function eq(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function tq(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(n)}function ag(n){return Ve({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function IS(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function nq(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function rq(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(n)}function MR(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function iq(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}function sq(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function aq(n){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function oq(n){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function lq(n){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(n)}function cq(n){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const VR=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=function(n,e){if(!n)throw qu(e)},qu=function(n){return new Error("Firebase Database ("+SS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},jR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,h=u?n[i+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let _=(c&15)<<2|h>>6,v=h&63;u||(v=64,o||(_=64)),r.push(t[p],t[y],t[_],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||y==null)throw new BR;const _=s<<2|c>>4;if(r.push(_),h!==64){const v=c<<4&240|h>>2;if(r.push(v),y!==64){const T=h<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(n){const e=CS(n);return q1.encodeByteArray(e,!0)},og=function(n){return PS(n).replace(/\./g,"")},Bh=function(n){try{return q1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){return zh(void 0,n)}function zh(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!UR(t)||(n[t]=zh(n[t],e[t]));return n}function UR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=()=>K1().__FIREBASE_DEFAULTS__,HR=()=>{if(typeof process>"u"||typeof UE>"u")return;const n=UE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$R=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Bh(n[1]);return e&&JSON.parse(e)},Zg=()=>{try{return VR()||WR()||HR()||$R()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GR=n=>{var e,t;return(t=(e=Zg())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},uq=n=>{const e=GR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Q1=()=>{var n;return(n=Zg())==null?void 0:n.config},qR=n=>{var e;return(e=Zg())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[og(JSON.stringify(t)),og(JSON.stringify(o)),""].join(".")}const vh={};function KR(){const n={prod:[],emulator:[]};for(const e of Object.keys(vh))vh[e]?n.emulator.push(e):n.prod.push(e);return n}function QR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let WE=!1;function J1(n,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||vh[n]===e||vh[n]||WE)return;vh[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=KR().prod.length>0;function o(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function u(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{WE=!0,o()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=QR(r),v=t("text"),T=document.getElementById(v)||document.createElement("span"),b=t("learnmore"),I=document.getElementById(b)||document.createElement("a"),S=t("preprendIcon"),N=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;c(L),p(I,b);const z=h();u(N,S),L.append(N,T,I,z),document.body.appendChild(L)}s?(T.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function ey(){var e;const n=(e=Zg())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YR(){return typeof window<"u"||AS()}function AS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function JR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XR(){return SS.NODE_ADMIN===!0}function DS(){return!ey()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){return!ey()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Uh(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="FirebaseError";class Ar extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eD,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tD(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ar(i,c,r)}}function tD(n,e){return n.replace(nD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){return JSON.parse(n)}function Ln(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Wh(Bh(s[0])||""),t=Wh(Bh(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},rD=function(n){const e=LS(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},iD=function(n){const e=LS(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Dl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function lg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cg(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function fa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(HE(s)&&HE(o)){if(!fa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function HE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function au(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)r[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],h,p;for(let y=0;y<80;y++){y<40?y<20?(h=c^s&(o^c),p=1518500249):(h=s^o^c,p=1859775393):y<60?(h=s&o|c&(s|o),p=2400959708):(h=s^o^c,p=3395469782);const _=(i<<5|i>>>27)+h+u+p+r[y]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function OS(n,e){const t=new aD(n,e);return t.subscribe.bind(t)}class aD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Vv),i.error===void 0&&(i.error=Vv),i.complete===void 0&&(i.complete=Vv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vv(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct=function(n,e,t,r){let i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){const s=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Yr(n,e){return`${n} failed: ${e} argument `}function Kn(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(Yr(n,e)+"must be a valid function.")}function $E(n,e,t,r){if(t&&(typeof t!="object"||t===null))throw new Error(Yr(n,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,je(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ny=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n){return n&&n._delegate?n._delegate:n}class Zr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $r;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uD(e))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pl){return this.instances.has(e)}getOptions(e=pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pl){return this.component?this.component.multipleInstances?e:pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cD(n){return n===pl?void 0:n}function uD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=[];var vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vt||(vt={}));const MS={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},dD=vt.INFO,hD={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},fD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ku{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=fD,this._userLogHandler=null,ew.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}function mD(n){ew.forEach(e=>{e.setLogLevel(n)})}function pD(n,e){for(const t of ew){let r=null;e&&e.level&&(r=MS[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{const c=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&n({level:vt[s].toLowerCase(),message:c,args:o,type:i.name})}}}const gD=(n,e)=>e.some(t=>n instanceof t);let GE,qE;function yD(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _D(){return qE||(qE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,v0=new WeakMap,jS=new WeakMap,jv=new WeakMap,tw=new WeakMap;function vD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ho(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&VS.set(t,n)}).catch(()=>{}),tw.set(e,n),e}function wD(n){if(v0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});v0.set(n,e)}let w0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return v0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bD(n){w0=n(w0)}function TD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bv(this),e,...t);return jS.set(r,e.sort?e.sort():[e]),ho(r)}:_D().includes(n)?function(...e){return n.apply(Bv(this),e),ho(VS.get(this))}:function(...e){return ho(n.apply(Bv(this),e))}}function ED(n){return typeof n=="function"?TD(n):(n instanceof IDBTransaction&&wD(n),gD(n,yD())?new Proxy(n,w0):n)}function ho(n){if(n instanceof IDBRequest)return vD(n);if(jv.has(n))return jv.get(n);const e=ED(n);return e!==n&&(jv.set(n,e),tw.set(e,n)),e}const Bv=n=>tw.get(n);function xD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),c=ho(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ho(o.result),u.oldVersion,u.newVersion,ho(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ID=["get","getKey","getAll","getAllKeys","count"],SD=["put","add","delete","clear"],zv=new Map;function KE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=SD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ID.includes(t)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&u.done]))[0]};return zv.set(e,s),s}bD(n=>({...n,get:(e,t,r)=>KE(e,t)||n.get(e,t,r),has:(e,t)=>!!KE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function PD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",b0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Ku("@firebase/app"),kD="@firebase/app-compat",AD="@firebase/analytics-compat",ND="@firebase/analytics",RD="@firebase/app-check-compat",DD="@firebase/app-check",FD="@firebase/auth",LD="@firebase/auth-compat",OD="@firebase/database",MD="@firebase/data-connect",VD="@firebase/database-compat",jD="@firebase/functions",BD="@firebase/functions-compat",zD="@firebase/installations",UD="@firebase/installations-compat",WD="@firebase/messaging",HD="@firebase/messaging-compat",$D="@firebase/performance",GD="@firebase/performance-compat",qD="@firebase/remote-config",KD="@firebase/remote-config-compat",QD="@firebase/storage",YD="@firebase/storage-compat",JD="@firebase/firestore",XD="@firebase/ai",ZD="@firebase/firestore-compat",e8="firebase",t8="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]",n8={[ug]:"fire-core",[kD]:"fire-core-compat",[ND]:"fire-analytics",[AD]:"fire-analytics-compat",[DD]:"fire-app-check",[RD]:"fire-app-check-compat",[FD]:"fire-auth",[LD]:"fire-auth-compat",[OD]:"fire-rtdb",[MD]:"fire-data-connect",[VD]:"fire-rtdb-compat",[jD]:"fire-fn",[BD]:"fire-fn-compat",[zD]:"fire-iid",[UD]:"fire-iid-compat",[WD]:"fire-fcm",[HD]:"fire-fcm-compat",[$D]:"fire-perf",[GD]:"fire-perf-compat",[qD]:"fire-rc",[KD]:"fire-rc-compat",[QD]:"fire-gcs",[YD]:"fire-gcs-compat",[JD]:"fire-fst",[ZD]:"fire-fst-compat",[XD]:"fire-vertex","fire-js":"fire-js",[e8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Map,gu=new Map,yu=new Map;function Hh(n,e){try{n.container.addComponent(e)}catch(t){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function BS(n,e){n.container.addOrOverwriteComponent(e)}function pa(n){const e=n.name;if(yu.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;yu.set(e,n);for(const t of Eo.values())Hh(t,n);for(const t of gu.values())Hh(t,n);return!0}function zS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function r8(n,e,t=To){zS(n,e).clearInstance(t)}function nw(n){return n.options!==void 0}function US(n){return nw(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Yt(n){return n==null?!1:n.settings!==void 0}function i8(){yu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Yl("app","Firebase",s8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WS=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e){const t=Bh(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class a8 extends WS{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const c=e;super(c.options,o,i)}this._serverConfig={automaticDataCollectionEnabled:s,...t},this._serverConfig.authIdToken&&QE(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&QE(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,yi(ug,b0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){iw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=t8;function rw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:To,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=Q1()),!t)throw gi.create("no-options");const s=Eo.get(i);if(s){if(fa(t,s.options)&&fa(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new Z1(i);for(const u of yu.values())o.addComponent(u);const c=new WS(t,r,o);return Eo.set(i,c),c}function o8(n,e={}){if(YR()&&!AS())throw gi.create("invalid-server-app-environment");let t,r=e||{};if(n&&(nw(n)?t=n.options:US(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=Q1()),!t)throw gi.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=p=>[...p].reduce((y,_)=>Math.imul(31,y)+_.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw gi.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(i)),c=gu.get(o);if(c)return c.incRefCount(r.releaseOnDeref),c;const u=new Z1(o);for(const p of yu.values())u.addComponent(p);const h=new a8(t,r,o,u);return gu.set(o,h),h}function l8(n=To){const e=Eo.get(n);if(!e&&n===To&&Q1())return rw();if(!e)throw gi.create("no-app",{appName:n});return e}function c8(){return Array.from(Eo.values())}async function iw(n){let e=!1;const t=n.name;Eo.has(t)?(e=!0,Eo.delete(t)):gu.has(t)&&n.decRefCount()<=0&&(gu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function yi(n,e,t){let r=n8[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(o.join(" "));return}pa(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function HS(n,e){if(n!==null&&typeof n!="function")throw gi.create("invalid-log-argument");pD(n,e)}function $S(n){mD(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="firebase-heartbeat-database",d8=1,$h="firebase-heartbeat-store";let Uv=null;function GS(){return Uv||(Uv=xD(u8,d8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($h)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Uv}async function h8(n){try{const t=(await GS()).transaction($h),r=await t.objectStore($h).get(qS(n));return await t.done,r}catch(e){if(e instanceof Ar)ma.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ma.warn(t.message)}}}async function YE(n,e){try{const r=(await GS()).transaction($h,"readwrite");await r.objectStore($h).put(e,qS(n)),await r.done}catch(t){if(t instanceof Ar)ma.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ma.warn(r.message)}}}function qS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=1024,m8=30;class p8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>m8){const o=_8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ma.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=JE(),{heartbeatsToSend:r,unsentEntries:i}=g8(this._heartbeatsCache.heartbeats),s=og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ma.warn(t),""}}}function JE(){return new Date().toISOString().substring(0,10)}function g8(n,e=f8){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XE(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),XE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class y8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uh()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await h8(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function XE(n){return og(JSON.stringify({version:2,heartbeats:n})).length}function _8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(n){pa(new Zr("platform-logger",e=>new CD(e),"PRIVATE")),pa(new Zr("heartbeat",e=>new p8(e),"PRIVATE")),yi(ug,b0,n),yi(ug,b0,"esm2020"),yi("fire-js","")}v8("");const w8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ar,SDK_VERSION:wa,_DEFAULT_ENTRY_NAME:To,_addComponent:Hh,_addOrOverwriteComponent:BS,_apps:Eo,_clearComponents:i8,_components:yu,_getProvider:zS,_isFirebaseApp:nw,_isFirebaseServerApp:Yt,_isFirebaseServerAppSettings:US,_registerComponent:pa,_removeServiceInstance:r8,_serverApps:gu,deleteApp:iw,getApp:l8,getApps:c8,initializeApp:rw,initializeServerApp:o8,onLog:HS,registerVersion:yi,setLogLevel:$S},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,t){this._delegate=e,this.firebase=t,Hh(e,new Zr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),iw(this._delegate)))}_getService(e,t=To){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=To){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Hh(this._delegate,e)}_addOrOverwriteComponent(e){BS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ZE=new Yl("app-compat","Firebase",T8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:yi,setLogLevel:$S,onLog:HS,apps:null,SDK_VERSION:wa,INTERNAL:{registerComponent:c,removeApp:r,useAsService:u,modularAPIs:w8}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(h){delete e[h]}function i(h){if(h=h||To,!_i(e,h))throw ZE.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,p={}){const y=rw(h,p);if(_i(e,y.name))return e[y.name];const _=new n(y,t);return e[y.name]=_,_}function o(){return Object.keys(e).map(h=>e[h])}function c(h){const p=h.name,y=p.replace("-compat","");if(pa(h)&&h.type==="PUBLIC"){const _=(v=i())=>{if(typeof v[y]!="function")throw ZE.create("invalid-app-argument",{appName:p});return v[y]()};h.serviceProps!==void 0&&zh(_,h.serviceProps),t[y]=_,n.prototype[y]=function(...v){return this._getService.bind(this,p).apply(this,h.multipleInstances?v:[])}}return h.type==="PUBLIC"?t[y]:null}function u(h,p){return p==="serverAuth"?null:p}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){const n=E8(b8);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:KS,extendNamespace:e,createSubscribe:OS,ErrorFactory:Yl,deepExtend:zh};function e(t){zh(n,t)}return n}const x8=KS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Ku("@firebase/app-compat"),I8="@firebase/app-compat",S8="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(n){yi(I8,S8,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=K1();if(n.firebase!==void 0){ex.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ex.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const On=x8;C8();var P8="firebase",k8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.registerVersion(P8,k8,"app-compat");const Qd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Hc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function QS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N8=A8,R8=QS,YS=new Yl("auth","Firebase",QS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Ku("@firebase/auth");function D8(n,...e){dg.logLevel<=vt.WARN&&dg.warn(`Auth (${wa}): ${n}`,...e)}function jp(n,...e){dg.logLevel<=vt.ERROR&&dg.error(`Auth (${wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw aw(n,...e)}function Mn(n,...e){return aw(n,...e)}function sw(n,e,t){const r={...R8(),[e]:t};return new Yl("auth","Firebase",r).create(e,{appName:n.name})}function Xn(n){return sw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&or(n,"argument-error"),sw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function aw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return YS.create(n,...e)}function Oe(n,e,...t){if(!n)throw aw(e,...t)}function Ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jp(e),new Error(e)}function us(n,e){n||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function ow(){return tx()==="http:"||tx()==="https:"}function tx(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ow()||NS()||"connection"in navigator)?navigator.onLine:!0}function L8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.shortDelay=e,this.longDelay=t,us(t>e,"Short delay should be less than long delay!"),this.isMobile=X1()||ty()}get(){return F8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n,e){us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V8=new Sf(3e4,6e4);function gn(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function yn(n,e,t,r,i={}){return XS(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const c=Jl({key:n.config.apiKey,...o}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:u,...s};return JR()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(h.credentials="include"),JS.fetch()(await ZS(n,n.config.apiHost,t,c),h)})}async function XS(n,e,t){n._canInitEmulator=!1;const r={...O8,...e};try{const i=new B8(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw dh(n,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw sw(n,p,h);or(n,p)}}catch(i){if(i instanceof Ar)throw i;or(n,"network-request-failed",{message:String(i)})}}async function ba(n,e,t,r,i={}){const s=await yn(n,e,t,r,i);return"mfaPendingCredential"in s&&or(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function ZS(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?lw(n.config,i):`${n.config.apiScheme}://${i}`;return M8.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function j8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),V8.get())})}}function dh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Mn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){return n!==void 0&&n.getResponse!==void 0}function rx(n){return n!==void 0&&n.enterprise!==void 0}class eC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return j8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(n){return(await yn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function tC(n,e){return yn(n,"GET","/v2/recaptchaConfig",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(n,e){return yn(n,"POST","/v1/accounts:delete",e)}async function W8(n,e){return yn(n,"POST","/v1/accounts:update",e)}async function hg(n,e){return yn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H8(n,e=!1){const t=Ke(n),r=await t.getIdToken(e),i=ry(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wh(Wv(i.auth_time)),issuedAtTime:wh(Wv(i.iat)),expirationTime:wh(Wv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wv(n){return Number(n)*1e3}function ry(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bh(t);return i?JSON.parse(i):(jp("Failed to decode base64 JWT payload"),null)}catch(i){return jp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ix(n){const e=ry(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ar&&$8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(n){var y;const e=n.auth,t=await n.getIdToken(),r=await ga(n,hg(e,{idToken:t}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=(y=i.providerUserInfo)!=null&&y.length?nC(i.providerUserInfo):[],o=K8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function q8(n){const e=Ke(n);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(n,e){const t=await XS(n,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await ZS(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(u.credentials="include"),JS.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Y8(n,e){return yn(n,"POST","/v2/accounts:revokeToken",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=ix(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Q8(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new ou;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ss{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new G8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ga(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return H8(this,e)}reload(){return q8(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yt(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await ga(this,U8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:v,providerData:T,stsTokenManager:b}=t;Oe(y&&b,e,"internal-error");const I=ou.fromJSON(this.name,b);Oe(typeof y=="string",e,"internal-error"),Za(r,e.name),Za(i,e.name),Oe(typeof _=="boolean",e,"internal-error"),Oe(typeof v=="boolean",e,"internal-error"),Za(s,e.name),Za(o,e.name),Za(c,e.name),Za(u,e.name),Za(h,e.name),Za(p,e.name);const S=new ss({uid:y,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:I,createdAt:h,lastLoginAt:p});return T&&Array.isArray(T)&&(S.providerData=T.map(N=>({...N}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,t,r=!1){const i=new ou;i.updateFromServerResponse(t);const s=new ss({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new ou;c.updateFromIdToken(r);const u=new ss({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Map;function mi(n){us(n instanceof Function,"Expected a class definition");let e=sx.get(n);return e?(us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rC.type="NONE";const _u=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n,e,t){return`firebase:${n}:${e}:${t}`}class lu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kl(this.userKey,i.apiKey,s),this.fullPersistenceKey=kl("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hg(this.auth,{idToken:e}).catch(()=>{});return t?ss._fromGetAccountInfoResponse(this.auth,t,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new lu(mi(_u),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||mi(_u);const o=kl(r,e.config.apiKey,e.name);let c=null;for(const h of t)try{const p=await h._get(o);if(p){let y;if(typeof p=="string"){const _=await hg(e,{idToken:p}).catch(()=>{});if(!_)break;y=await ss._fromGetAccountInfoResponse(e,_,p)}else y=ss._fromJSON(e,p);h!==s&&(c=y),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new lu(s,e,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new lu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lC(e))return"Blackberry";if(cC(e))return"Webos";if(sC(e))return"Safari";if((e.includes("chrome/")||aC(e))&&!e.includes("edge/"))return"Chrome";if(Cf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iC(n=dn()){return/firefox\//i.test(n)}function sC(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aC(n=dn()){return/crios\//i.test(n)}function oC(n=dn()){return/iemobile/i.test(n)}function Cf(n=dn()){return/android/i.test(n)}function lC(n=dn()){return/blackberry/i.test(n)}function cC(n=dn()){return/webos/i.test(n)}function Pf(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function J8(n=dn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function X8(n=dn()){var e;return Pf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Z8(){return RS()&&document.documentMode===10}function uC(n=dn()){return Pf(n)||Cf(n)||cC(n)||lC(n)||/windows phone/i.test(n)||oC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n,e=[]){let t;switch(n){case"Browser":t=ax(dn());break;case"Worker":t=`${ax(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(n,e={}){return yn(n,"GET","/v2/passwordPolicy",gn(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=6;class rF{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nF,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ox(this),this.idTokenSubscription=new ox(this),this.beforeStateQueue=new eF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hg(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Yt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yt(this.app))return Promise.reject(Xn(this));const t=e?Ke(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yt(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yt(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tF(this),t=new rF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&D8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hn(n){return Ke(n)}class ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sF(n){kf=n}function cw(n){return kf.loadJS(n)}function aF(){return kf.recaptchaV2Script}function oF(){return kf.recaptchaEnterpriseScript}function lF(){return kf.gapiScript}function hC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=500,uF=6e4,bp=1e12;class dF{constructor(e){this.auth=e,this.counter=bp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new mF(e,this.auth.name,t||{})),this.counter++,r}reset(e){var r;const t=e||bp;(r=this._widgets.get(t))==null||r.delete(),this._widgets.delete(t)}getResponse(e){var r;const t=e||bp;return((r=this._widgets.get(t))==null?void 0:r.getResponse())||""}async execute(e){var r;const t=e||bp;return(r=this._widgets.get(t))==null||r.execute(),""}}class hF{constructor(){this.enterprise=new fF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fF{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mF{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Oe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=pF(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},uF)},cF))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function pF(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const gF="recaptcha-enterprise",bh="NO_RECAPTCHA";class fC{constructor(e){this.type=gF,this.auth=hn(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{tC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new eC(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){const u=window.grecaptcha;rx(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(bh)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hF().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&rx(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=oF();u.length!==0&&(u+=c),cw(u).then(()=>{i(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function Yd(n,e,t,r=!1,i=!1){const s=new fC(n);let o;if(i)o=bh;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function fo(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Yd(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Yd(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const c=await Yd(n,e,t);return r(n,c).catch(async u=>{var h;if(((h=n._getRecaptchaConfig())==null?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const p=await Yd(n,e,t,!1,!0);return r(n,p)}return Promise.reject(u)})}else{const c=await Yd(n,e,t,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")}async function yF(n){const e=hn(n),t=await tC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eC(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new fC(e).verify()}function _F(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vF(n,e,t){const r=hn(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=mC(e),{host:o,port:c}=wF(e),u=c===null?"":`:${c}`,h={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(fa(h,r.config.emulator)&&fa(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Mo(o)?(Y1(`${s}//${o}${u}`),J1("Auth",!0)):i||bF()}function mC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wF(n){const e=mC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:lx(o)}}}function lx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,t){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e){return yn(n,"POST","/v1/accounts:resetPassword",gn(n,e))}async function TF(n,e){return yn(n,"POST","/v1/accounts:update",e)}async function EF(n,e){return yn(n,"POST","/v1/accounts:signUp",e)}async function xF(n,e){return yn(n,"POST","/v1/accounts:update",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IF(n,e){return ba(n,"POST","/v1/accounts:signInWithPassword",gn(n,e))}async function iy(n,e){return yn(n,"POST","/v1/accounts:sendOobCode",gn(n,e))}async function SF(n,e){return iy(n,e)}async function CF(n,e){return iy(n,e)}async function PF(n,e){return iy(n,e)}async function kF(n,e){return iy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(n,e){return ba(n,"POST","/v1/accounts:signInWithEmailLink",gn(n,e))}async function NF(n,e){return ba(n,"POST","/v1/accounts:signInWithEmailLink",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Yu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Kh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Kh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fo(e,t,"signInWithPassword",IF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return AF(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fo(e,r,"signUpPassword",EF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NF(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n,e){return ba(n,"POST","/v1/accounts:signInWithIdp",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="http://localhost";class Vs extends Yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const o=new Vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return ua(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ua(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ua(e,t)}buildRequest(){const e={requestUri:RF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(n,e){return yn(n,"POST","/v1/accounts:sendVerificationCode",gn(n,e))}async function DF(n,e){return ba(n,"POST","/v1/accounts:signInWithPhoneNumber",gn(n,e))}async function FF(n,e){const t=await ba(n,"POST","/v1/accounts:signInWithPhoneNumber",gn(n,e));if(t.temporaryProof)throw dh(n,"account-exists-with-different-credential",t);return t}const LF={USER_NOT_FOUND:"user-not-found"};async function OF(n,e){const t={...e,operation:"REAUTH"};return ba(n,"POST","/v1/accounts:signInWithPhoneNumber",gn(n,t),LF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Yu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Al({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Al({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return DF(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return FF(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return OF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Al({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VF(n){const e=au(uh(n)).link,t=e?au(uh(e)).deep_link_id:null,r=au(uh(n)).deep_link_id;return(r?au(uh(r)).link:null)||r||t||e||n}class sy{constructor(e){const t=au(uh(e)),r=t.apiKey??null,i=t.oobCode??null,s=MF(t.mode??null);Oe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=VF(e);try{return new sy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return Kh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=sy.parseLink(t);return Oe(r,"argument-error"),Kh._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Ta{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cu extends Ju{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Oe("providerId"in t&&"signInMethod"in t,"argument-error"),Vs._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Oe(e.idToken||e.accessToken,"argument-error"),Vs._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return cu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return cu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:c}=e;if(!r&&!i&&!t&&!s||!c)return null;try{return new cu(c)._credential({idToken:t,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Ju{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ps.credential(t,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Ju{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="http://localhost";class vu extends Yu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ua(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ua(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ua(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new vu(r,s)}static _create(e,t){return new vu(e,t)}buildRequest(){return{requestUri:jF,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="saml.";class fg extends Ta{constructor(e){Oe(e.startsWith(BF),"argument-error"),super(e)}static credentialFromResult(e){return fg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return fg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=vu.fromJSON(e);return Oe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return vu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Ju{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return As.credential(t,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(n,e){return ba(n,"POST","/v1/accounts:signUp",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await ss._fromIdTokenResponse(e,r,i),o=ux(r);return new ji({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=ux(r);return new ji({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function ux(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(n){var i;if(Yt(n.app))return Promise.reject(Xn(n));const e=hn(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new ji({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await gC(e,{returnSecureToken:!0}),r=await ji._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends Ar{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mg(e,t,r,i)}}function yC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mg._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(n,e){const t=Ke(n);await ay(!0,t,e);const{providerUserInfo:r}=await W8(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=_C(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function uw(n,e,t=!1){const r=await ga(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ji._forOperation(n,"link",r)}async function ay(n,e,t){await qh(e);const r=_C(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";Oe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e,t=!1){const{auth:r}=n;if(Yt(r.app))return Promise.reject(Xn(r));const i="reauthenticate";try{const s=await ga(n,yC(r,i,e,n),t);Oe(s.idToken,r,"internal-error");const o=ry(s.idToken);Oe(o,r,"internal-error");const{sub:c}=o;return Oe(n.uid===c,r,"user-mismatch"),ji._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&or(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e,t=!1){if(Yt(n.app))return Promise.reject(Xn(n));const r="signIn",i=await yC(n,r,e),s=await ji._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function oy(n,e){return wC(hn(n),e)}async function bC(n,e){const t=Ke(n);return await ay(!1,t,e.providerId),uw(t,e)}async function TC(n,e){return vC(Ke(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(n,e){return ba(n,"POST","/v1/accounts:signInWithCustomToken",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(n,e){if(Yt(n.app))return Promise.reject(Xn(n));const t=hn(n),r=await WF(t,{token:e,returnSecureToken:!0}),i=await ji._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?dw._fromServerResponse(e,t):"totpInfo"in t?hw._fromServerResponse(e,t):or(e,"internal-error")}}class dw extends Af{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new dw(t)}}class hw extends Af{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new hw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n,e,t){var r;Oe(((r=t.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),Oe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Oe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Oe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Oe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(n){const e=hn(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $F(n,e,t){const r=hn(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&ly(r,i,t),await fo(r,i,"getOobCode",CF,"EMAIL_PASSWORD_PROVIDER")}async function GF(n,e,t){await pC(Ke(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fw(n),r})}async function qF(n,e){await xF(Ke(n),{oobCode:e})}async function EC(n,e){const t=Ke(n),r=await pC(t,{oobCode:e}),i=r.requestType;switch(Oe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(r.mfaInfo,t,"internal-error");default:Oe(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Af._fromServerResponse(hn(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function KF(n,e){const{data:t}=await EC(Ke(n),e);return t.email}async function QF(n,e,t){if(Yt(n.app))return Promise.reject(Xn(n));const r=hn(n),o=await fo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gC,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&fw(n),u}),c=await ji._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function YF(n,e,t){return Yt(n.app)?Promise.reject(Xn(n)):oy(Ke(n),Vo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(n,e,t){const r=hn(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,c){Oe(c.handleCodeInApp,r,"argument-error"),c&&ly(r,o,c)}s(i,t),await fo(r,i,"getOobCode",PF,"EMAIL_PASSWORD_PROVIDER")}function XF(n,e){const t=sy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function ZF(n,e,t){if(Yt(n.app))return Promise.reject(Xn(n));const r=Ke(n),i=Vo.credentialWithLink(e,t||Gh());return Oe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),oy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(n,e){return yn(n,"POST","/v1/accounts:createAuthUri",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(n,e){const t=ow()?Gh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await e9(Ke(n),r);return i||[]}async function n9(n,e){const t=Ke(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ly(t.auth,i,e);const{email:s}=await SF(t.auth,i);s!==n.email&&await n.reload()}async function r9(n,e,t){const r=Ke(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&ly(r.auth,s,t);const{email:o}=await kF(r.auth,s);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(n,e){return yn(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ke(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await ga(r,i9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function a9(n,e){const t=Ke(n);return Yt(t.auth.app)?Promise.reject(Xn(t.auth)):xC(t,e,null)}function o9(n,e){return xC(Ke(n),null,e)}async function xC(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=await ga(n,TF(r,s));await n._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(n){var i,s;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const o=(s=(i=ry(n.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(o){const c=o!=="anonymous"&&o!=="custom"?o:null;return new uu(r,c)}}if(!e)return null;switch(e){case"facebook.com":return new c9(r,t);case"github.com":return new u9(r,t);case"google.com":return new d9(r,t);case"twitter.com":return new h9(r,t,n.screenName||null);case"custom":case"anonymous":return new uu(r,null);default:return new uu(r,e,t)}}class uu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class IC extends uu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class c9 extends uu{constructor(e,t){super(e,"facebook.com",t)}}class u9 extends IC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class d9 extends uu{constructor(e,t){super(e,"google.com",t)}}class h9 extends IC{constructor(e,t,r){super(e,"twitter.com",t,r)}}function f9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:l9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new xl("enroll",e,t)}static _fromMfaPendingCredential(e){return new xl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return xl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return xl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=hn(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(c=>Af._fromServerResponse(r,c));Oe(i.mfaPendingCredential,r,"internal-error");const o=xl._fromMfaPendingCredential(i.mfaPendingCredential);return new mw(o,s,async c=>{const u=await c._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const h={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(t.operationType){case"signIn":const p=await ji._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return Oe(t.user,r,"internal-error"),ji._forOperation(t.user,t.operationType,h);default:or(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function m9(n,e){var i;const t=Ke(n),r=e;return Oe(e.customData.operationType,t,"argument-error"),Oe((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,t,"argument-error"),mw._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n,e){return yn(n,"POST","/v2/accounts/mfaEnrollment:start",gn(n,e))}function p9(n,e){return yn(n,"POST","/v2/accounts/mfaEnrollment:finalize",gn(n,e))}function g9(n,e){return yn(n,"POST","/v2/accounts/mfaEnrollment:withdraw",gn(n,e))}class pw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Af._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new pw(e)}async getSession(){return xl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await ga(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ga(this.user,g9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Hv=new WeakMap;function y9(n){const e=Ke(n);return Hv.has(e)||Hv.set(e,pw._fromUser(e)),Hv.get(e)}const pg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pg,"1"),this.storage.removeItem(pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=1e3,v9=10;class CC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Z8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const gw=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PC.type="SESSION";const Fl=PC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new cy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(t.origin,s)),u=await w9(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const h=Nf("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function T9(n){Pn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function E9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function I9(){return yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebaseLocalStorageDb",S9=1,gg="firebaseLocalStorage",AC="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uy(n,e){return n.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function C9(){const n=indexedDB.deleteDatabase(kC);return new Rf(n).toPromise()}function E0(){const n=indexedDB.open(kC,S9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gg,{keyPath:AC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gg)?e(r):(r.close(),await C9(),e(await E0()))})})}async function hx(n,e,t){const r=uy(n,!0).put({[AC]:e,value:t});return new Rf(r).toPromise()}async function P9(n,e){const t=uy(n,!1).get(e),r=await new Rf(t).toPromise();return r===void 0?null:r.value}function fx(n,e){const t=uy(n,!0).delete(e);return new Rf(t).toPromise()}const k9=800,A9=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>A9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cy._getInstance(I9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await E9(),!this.activeServiceWorker)return;this.sender=new b9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E0();return await hx(e,pg,"1"),await fx(e,pg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>P9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=uy(i,!1).getAll();return new Rf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const Qh=NC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(n,e){return yn(n,"POST","/v2/accounts/mfaSignIn:start",gn(n,e))}function N9(n,e){return yn(n,"POST","/v2/accounts/mfaSignIn:finalize",gn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=hC("rcb"),R9=new Sf(3e4,6e4);class D9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Pn().grecaptcha)!=null&&e.render)}load(e,t=""){return Oe(F9(t),e,"argument-error"),this.shouldResolveImmediately(t)&&nx(Pn().grecaptcha)?Promise.resolve(Pn().grecaptcha):new Promise((r,i)=>{const s=Pn().setTimeout(()=>{i(Mn(e,"network-request-failed"))},R9.get());Pn()[$v]=()=>{Pn().clearTimeout(s),delete Pn()[$v];const c=Pn().grecaptcha;if(!c||!nx(c)){i(Mn(e,"internal-error"));return}const u=c.render;c.render=(h,p)=>{const y=u(h,p);return this.counter++,y},this.hostLanguage=t,r(c)};const o=`${aF()}?${Jl({onload:$v,render:"explicit",hl:t})}`;cw(o).catch(()=>{clearTimeout(s),i(Mn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=Pn().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function F9(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class L9{async load(e){return new dF(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="recaptcha",O9={theme:"light",type:"image"};let M9=class{constructor(e,t,r={...O9}){this.parameters=r,this.type=Th,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(e),this.isInvisible=this.parameters.size==="invisible",Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;Oe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new L9:new D9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Pn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Oe(ow()&&!yw(),this.auth,"internal-error"),await V9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await z8(this.auth);Oe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function V9(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Al._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function j9(n,e,t){if(Yt(n.app))return Promise.reject(Xn(n));const r=hn(n),i=await dy(r,e,Ke(t));return new _w(i,s=>oy(r,s))}async function B9(n,e,t){const r=Ke(n);await ay(!1,r,"phone");const i=await dy(r.auth,e,Ke(t));return new _w(i,s=>bC(r,s))}async function z9(n,e,t){const r=Ke(n);if(Yt(r.auth.app))return Promise.reject(Xn(r.auth));const i=await dy(r.auth,e,Ke(t));return new _w(i,s=>TC(r,s))}async function dy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await yF(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){Oe(s.type==="enroll",n,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await fo(n,o,"mfaSmsEnrollment",async(p,y)=>{if(y.phoneEnrollmentInfo.captchaResponse===bh){Oe((t==null?void 0:t.type)===Th,p,"argument-error");const _=await Gv(p,y,t);return dx(p,_)}return dx(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{Oe(s.type==="signin",n,"internal-error");const o=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Oe(o,n,"missing-multi-factor-info");const c={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await fo(n,c,"mfaSmsSignIn",async(y,_)=>{if(_.phoneSignInInfo.captchaResponse===bh){Oe((t==null?void 0:t.type)===Th,y,"argument-error");const v=await Gv(y,_,t);return mx(y,v)}return mx(y,_)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await fo(n,s,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===bh){Oe((t==null?void 0:t.type)===Th,h,"argument-error");const y=await Gv(h,p,t);return cx(h,y)}return cx(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function U9(n,e){const t=Ke(n);if(Yt(t.auth.app))return Promise.reject(Xn(t.auth));await uw(t,e)}async function Gv(n,e,t){Oe(t.type===Th,n,"argument-error");const r=await t.verify();Oe(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:c,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=class Bp{constructor(e){this.providerId=Bp.PROVIDER_ID,this.auth=hn(e)}verifyPhoneNumber(e,t){return dy(this.auth,e,Ke(t))}static credential(e,t){return Al._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bp.credentialFromTaggedObject(t)}static credentialFromError(e){return Bp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Al._fromTokenResponse(t,r):null}};Ll.PROVIDER_ID="phone";Ll.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n,e){return e?mi(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Yu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ua(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W9(n){return wC(n.auth,new vw(n),n.bypassAuthState)}function H9(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),vC(t,new vw(n),n.bypassAuthState)}async function $9(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),uw(t,new vw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W9;case"linkViaPopup":case"linkViaRedirect":return $9;case"reauthViaPopup":case"reauthViaRedirect":return H9;default:or(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new Sf(2e3,1e4);async function q9(n,e,t){if(Yt(n.app))return Promise.reject(Mn(n,"operation-not-supported-in-this-environment"));const r=hn(n);Qu(n,e,Ta);const i=Xl(r,t);return new sa(r,"signInViaPopup",e,i).executeNotNull()}async function K9(n,e,t){const r=Ke(n);if(Yt(r.auth.app))return Promise.reject(Mn(r.auth,"operation-not-supported-in-this-environment"));Qu(r.auth,e,Ta);const i=Xl(r.auth,t);return new sa(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Q9(n,e,t){const r=Ke(n);Qu(r.auth,e,Ta);const i=Xl(r.auth,t);return new sa(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class sa extends RC{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Nf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G9.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="pendingRedirect",Eh=new Map;class J9 extends RC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const r=await X9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X9(n,e){const t=FC(e),r=DC(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function ww(n,e){return DC(n)._set(FC(e),"true")}function Z9(){Eh.clear()}function bw(n,e){Eh.set(n._key(),e)}function DC(n){return mi(n._redirectPersistence)}function FC(n){return kl(Y9,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(n,e,t){return t7(n,e,t)}async function t7(n,e,t){if(Yt(n.app))return Promise.reject(Xn(n));const r=hn(n);Qu(n,e,Ta),await r._initializationPromise;const i=Xl(r,t);return await ww(i,r),i._openRedirect(r,e,"signInViaRedirect")}function n7(n,e,t){return r7(n,e,t)}async function r7(n,e,t){const r=Ke(n);if(Qu(r.auth,e,Ta),Yt(r.auth.app))return Promise.reject(Xn(r.auth));await r.auth._initializationPromise;const i=Xl(r.auth,t);await ww(i,r.auth);const s=await LC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function i7(n,e,t){return s7(n,e,t)}async function s7(n,e,t){const r=Ke(n);Qu(r.auth,e,Ta),await r.auth._initializationPromise;const i=Xl(r.auth,t);await ay(!1,r,e.providerId),await ww(i,r.auth);const s=await LC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function a7(n,e){return await hn(n)._initializationPromise,hy(n,e,!1)}async function hy(n,e,t=!1){if(Yt(n.app))return Promise.reject(Xn(n));const r=hn(n),i=Xl(r,e),o=await new J9(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function LC(n){const e=Nf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=600*1e3;class OC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Mn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o7&&this.cachedEventUids.clear(),this.cachedEventUids.has(px(e))}saveEventToCache(e){this.cachedEventUids.add(px(e)),this.lastProcessedEventTime=Date.now()}}function px(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,e={}){return yn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u7=/^https?/;async function d7(n){if(n.config.emulator)return;const{authorizedDomains:e}=await VC(n);for(const t of e)try{if(h7(t))return}catch{}or(n,"unauthorized-domain")}function h7(n){const e=Gh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!u7.test(t))return!1;if(c7.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new Sf(3e4,6e4);function gx(){const n=Pn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function m7(n){return new Promise((e,t)=>{var i,s,o;function r(){gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gx(),t(Mn(n,"network-request-failed"))},timeout:f7.get()})}if((s=(i=Pn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Pn().gapi)!=null&&o.load)r();else{const c=hC("iframefcb");return Pn()[c]=()=>{gapi.load?r():t(Mn(n,"network-request-failed"))},cw(`${lF()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw zp=null,e})}let zp=null;function p7(n){return zp=zp||m7(n),zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new Sf(5e3,15e3),y7="__/auth/iframe",_7="emulator/auth/iframe",v7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b7(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lw(e,_7):`https://${n.config.authDomain}/${y7}`,r={apiKey:e.apiKey,appName:n.name,v:wa},i=w7.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Jl(r).slice(1)}`}async function T7(n){const e=await p7(n),t=Pn().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:b7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(n,"network-request-failed"),c=Pn().setTimeout(()=>{s(o)},g7.get());function u(){Pn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x7=500,I7=600,S7="_blank",C7="http://localhost";class yx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P7(n,e,t,r=x7,i=I7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...E7,width:r.toString(),height:i.toString(),top:s,left:o},h=dn().toLowerCase();t&&(c=aC(h)?S7:t),iC(h)&&(e=e||C7,u.scrollbars="yes");const p=Object.entries(u).reduce((_,[v,T])=>`${_}${v}=${T},`,"");if(X8(h)&&c!=="_self")return k7(e||"",c),new yx(null);const y=window.open(e||"",c,p);Oe(y,n,"popup-blocked");try{y.focus()}catch{}return new yx(y)}function k7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="__/auth/handler",N7="emulator/auth/handler",R7=encodeURIComponent("fac");async function x0(n,e,t,r,i,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wa,eventId:i};if(e instanceof Ta){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",lg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries(s||{}))o[p]=y}if(e instanceof Ju){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),h=u?`#${R7}=${encodeURIComponent(u)}`:"";return`${D7(n)}?${Jl(c).slice(1)}${h}`}function D7({config:n}){return n.emulator?lw(n,N7):`https://${n.authDomain}/${A7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="webStorageSupport";class F7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fl,this._completeRedirectFn=hy,this._overrideRedirectResult=bw}async _openPopup(e,t,r,i){var o;us((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await x0(e,t,r,Gh(),i);return P7(e,s,Nf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await x0(e,t,r,Gh(),i);return T9(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await T7(e),r=new OC(e);return t.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qv,{type:qv},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[qv];s!==void 0&&t(!!s),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=d7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uC()||sC()||Pf()}}const L7=F7;class O7{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ns("unexpected MultiFactorSessionType")}}}class Tw extends O7{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Tw(e)}_finalizeEnroll(e,t,r){return p9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return N9(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class jC{constructor(){}static assertion(e){return Tw._fromCredential(e)}}jC.FACTOR_ID="phone";var _x="@firebase/auth",vx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j7(n){pa(new Zr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dC(n)},h=new iF(r,i,s,u);return _F(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pa(new Zr("auth-internal",e=>{const t=hn(e.getProvider("auth").getImmediate());return(r=>new M7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(_x,vx,V7(n)),yi(_x,vx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=300;qR("authIdTokenMaxAge");function z7(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}sF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Mn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j7("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=2e3;async function W7(n,e,t){const{BuildInfo:r}=Ol();us(e.sessionId,"AuthEvent did not contain a session ID");const i=await K7(e.sessionId),s={};return Pf()?s.ibi=r.packageName:Cf()?s.apn=r.packageName:or(n,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,x0(n,t,e.type,void 0,e.eventId??void 0,s)}async function H7(n){const{BuildInfo:e}=Ol(),t={};Pf()?t.iosBundleId=e.packageName:Cf()?t.androidPackageName=e.packageName:or(n,"operation-not-supported-in-this-environment"),await VC(n,t)}function $7(n){const{cordova:e}=Ol();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,J8()?"_blank":"_system","location=yes"),t(i)})})}async function G7(n,e,t){const{cordova:r}=Ol();let i=()=>{};try{await new Promise((s,o)=>{let c=null;function u(){var _;s();const y=(_=r.plugins.browsertab)==null?void 0:_.close;typeof y=="function"&&y(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){c||(c=window.setTimeout(()=>{o(Mn(n,"redirect-cancelled-by-user"))},U7))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(u),document.addEventListener("resume",h,!1),Cf()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{i()}}function q7(n){var t,r,i,s,o,c,u,h,p,y;const e=Ol();Oe(typeof((t=e==null?void 0:e.universalLinks)==null?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe(typeof((o=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe(typeof((h=(u=(c=e==null?void 0:e.cordova)==null?void 0:c.plugins)==null?void 0:u.browsertab)==null?void 0:h.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe(typeof((y=(p=e==null?void 0:e.cordova)==null?void 0:p.InAppBrowser)==null?void 0:y.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function K7(n){const e=Q7(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Q7(n){if(us(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=20;class J7 extends OC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function X7(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:tL(),postBody:null,tenantId:n.tenantId,error:Mn(n,"no-auth-event")}}function Z7(n,e){return I0()._set(S0(n),e)}async function wx(n){const e=await I0()._get(S0(n));return e&&await I0()._remove(S0(n)),e}function eL(n,e){var r,i;const t=rL(e);if(t.includes("/__/auth/callback")){const s=Up(t),o=s.firebaseError?nL(decodeURIComponent(s.firebaseError)):null,c=(i=(r=o==null?void 0:o.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=c?Mn(c):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function tL(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Y7;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function I0(){return mi(gw)}function S0(n){return kl("authEvent",n.config.apiKey,n.name)}function nL(n){try{return JSON.parse(n)}catch{return null}}function rL(n){const e=Up(n),t=e.link?decodeURIComponent(e.link):void 0,r=Up(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Up(i).link||i||r||t||n}function Up(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return au(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=500;class sL{constructor(){this._redirectPersistence=Fl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hy,this._overrideRedirectResult=bw}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new J7(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){or(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){q7(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Z9(),await this._originValidation(e);const o=X7(e,r,i);await Z7(e,o);const c=await W7(e,o,t),u=await $7(c);return G7(e,s,u)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=H7(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ol(),o=setTimeout(async()=>{await wx(e),t.onEvent(bx())},iL),c=async p=>{clearTimeout(o);const y=await wx(e);let _=null;y&&(p!=null&&p.url)&&(_=eL(y,p.url)),t.onEvent(_||bx())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const u=i,h=`${s.packageName.toLowerCase()}://`;Ol().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(h)&&c({url:p}),typeof u=="function")try{u(p)}catch(y){console.error(y)}}}}const aL=sL;function bx(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n,e){hn(n)._logFramework(e)}var lL="@firebase/auth-compat",cL="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=1e3;function xh(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function dL(){return xh()==="http:"||xh()==="https:"}function BC(n=dn()){return!!((xh()==="file:"||xh()==="ionic:"||xh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function hL(){return ty()||ey()}function fL(){return RS()&&(document==null?void 0:document.documentMode)===11}function mL(n=dn()){return/Edge\/\d+/.test(n)}function pL(n=dn()){return fL()||mL(n)}function zC(){try{const n=self.localStorage,e=Nf();if(n)return n.setItem(e,"1"),n.removeItem(e),pL()?Uh():!0}catch{return Ew()&&Uh()}return!1}function Ew(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kv(){return(dL()||NS()||BC())&&!hL()&&zC()&&!Ew()}function UC(){return BC()&&typeof document<"u"}async function gL(){return UC()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},uL);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function yL(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={LOCAL:"local",NONE:"none",SESSION:"session"},Jd=Oe,WC="persistence";function _L(n,e){if(Jd(Object.values(di).includes(e),n,"invalid-persistence-type"),ty()){Jd(e!==di.SESSION,n,"unsupported-persistence-type");return}if(ey()){Jd(e===di.NONE,n,"unsupported-persistence-type");return}if(Ew()){Jd(e===di.NONE||e===di.LOCAL&&Uh(),n,"unsupported-persistence-type");return}Jd(e===di.NONE||zC(),n,"unsupported-persistence-type")}async function C0(n){await n._initializationPromise;const e=HC(),t=kl(WC,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function vL(n,e){const t=HC();if(!t)return[];const r=kl(WC,n,e);switch(t.getItem(r)){case di.NONE:return[_u];case di.LOCAL:return[Qh,Fl];case di.SESSION:return[Fl];default:return[]}}function HC(){var n;try{return((n=yL())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=Oe;class ao{constructor(){this.browserResolver=mi(L7),this.cordovaResolver=mi(aL),this.underlyingResolver=null,this._redirectPersistence=Fl,this._completeRedirectFn=hy,this._overrideRedirectResult=bw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return UC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wL(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await gL();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){return n.unwrap()}function bL(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n){return GC(n)}function EL(n,e){var r;const t=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new xL(n,m9(n,e))}else if(t){const i=GC(e),s=e;i&&(s.credential=i,s.tenantId=t.tenantId||void 0,s.email=t.email||void 0,s.phoneNumber=t.phoneNumber||void 0)}}function GC(n){const{_tokenResponse:e}=n instanceof Ar?n.customData:n;if(!e)return null;if(!(n instanceof Ar)&&"temporaryProof"in e&&"phoneNumber"in e)return Ll.credentialFromResult(n);const t=e.providerId;if(!t||t===Qd.PASSWORD)return null;let r;switch(t){case Qd.GOOGLE:r=Ps;break;case Qd.FACEBOOK:r=Cs;break;case Qd.GITHUB:r=ks;break;case Qd.TWITTER:r=As;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:u}=e;return!s&&!o&&!i&&!c?null:c?t.startsWith("saml.")?vu._create(t,c):Vs._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:i,accessToken:s}):new cu(t).credential({idToken:i,accessToken:s,rawNonce:u})}return n instanceof Ar?r.credentialFromError(n):r.credentialFromResult(n)}function Wr(n,e){return e.catch(t=>{throw t instanceof Ar&&EL(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:TL(t),additionalUserInfo:f9(t),user:fy.getOrCreate(i)}})}async function P0(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Wr(n,t.confirm(r))}}class xL{constructor(e,t){this.resolver=t,this.auth=bL(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wr($C(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy=class hh{constructor(e){this._delegate=e,this.multiFactor=y9(e)}static getOrCreate(e){return hh.USER_MAP.has(e)||hh.USER_MAP.set(e,new hh(e)),hh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wr(this.auth,bC(this._delegate,e))}async linkWithPhoneNumber(e,t){return P0(this.auth,B9(this._delegate,e,t))}async linkWithPopup(e){return Wr(this.auth,Q9(this._delegate,e,ao))}async linkWithRedirect(e){return await C0(hn(this.auth)),i7(this._delegate,e,ao)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wr(this.auth,TC(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return P0(this.auth,z9(this._delegate,e,t))}reauthenticateWithPopup(e){return Wr(this.auth,K9(this._delegate,e,ao))}async reauthenticateWithRedirect(e){return await C0(hn(this.auth)),n7(this._delegate,e,ao)}sendEmailVerification(e){return n9(this._delegate,e)}async unlink(e){return await UF(this._delegate,e),this}updateEmail(e){return a9(this._delegate,e)}updatePassword(e){return o9(this._delegate,e)}updatePhoneNumber(e){return U9(this._delegate,e)}updateProfile(e){return s9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};fy.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=Oe;class k0{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Xd(r,"invalid-api-key",{appName:e.name}),Xd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ao:void 0;this._delegate=t.initialize({options:{persistence:IL(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(N8),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fy.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){vF(this._delegate,e,t)}applyActionCode(e){return qF(this._delegate,e)}checkActionCode(e){return EC(this._delegate,e)}confirmPasswordReset(e,t){return GF(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wr(this._delegate,QF(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return t9(this._delegate,e)}isSignInWithEmailLink(e){return XF(this._delegate,e)}async getRedirectResult(){Xd(Kv(),this._delegate,"operation-not-supported-in-this-environment");const e=await a7(this._delegate,ao);return e?Wr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){oL(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:o}=Tx(e,t,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:o}=Tx(e,t,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,t){return JF(this._delegate,e,t)}sendPasswordResetEmail(e,t){return $F(this._delegate,e,t||void 0)}async setPersistence(e){_L(this._delegate,e);let t;switch(e){case di.SESSION:t=Fl;break;case di.LOCAL:t=await mi(Qh)._isAvailable()?Qh:gw;break;case di.NONE:t=_u;break;default:return or("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wr(this._delegate,zF(this._delegate))}signInWithCredential(e){return Wr(this._delegate,oy(this._delegate,e))}signInWithCustomToken(e){return Wr(this._delegate,HF(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wr(this._delegate,YF(this._delegate,e,t))}signInWithEmailLink(e,t){return Wr(this._delegate,ZF(this._delegate,e,t))}signInWithPhoneNumber(e,t){return P0(this._delegate,j9(this._delegate,e,t))}async signInWithPopup(e){return Xd(Kv(),this._delegate,"operation-not-supported-in-this-environment"),Wr(this._delegate,q9(this._delegate,e,ao))}async signInWithRedirect(e){return Xd(Kv(),this._delegate,"operation-not-supported-in-this-environment"),await C0(this._delegate),e7(this._delegate,e,ao)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return KF(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}k0.Persistence=di;function Tx(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:o=>i(o&&fy.getOrCreate(o)),error:e,complete:t}}function IL(n,e){const t=vL(n,e);if(typeof self<"u"&&!t.includes(Qh)&&t.push(Qh),typeof window<"u")for(const r of[gw,Fl])t.includes(r)||t.push(r);return t.includes(_u)||t.push(_u),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static credential(e,t){return Ll.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Ll($C(On.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}xw.PHONE_SIGN_IN_METHOD=Ll.PHONE_SIGN_IN_METHOD;xw.PROVIDER_ID=Ll.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=Oe;class CL{constructor(e,t,r=On.app()){var i;SL((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new M9(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="auth-compat";function kL(n){n.INTERNAL.registerComponent(new Zr(PL,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new k0(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hc.EMAIL_SIGNIN,PASSWORD_RESET:Hc.PASSWORD_RESET,RECOVER_EMAIL:Hc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Hc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Hc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Hc.VERIFY_EMAIL}},EmailAuthProvider:Vo,FacebookAuthProvider:Cs,GithubAuthProvider:ks,GoogleAuthProvider:Ps,OAuthProvider:cu,SAMLAuthProvider:fg,PhoneAuthProvider:xw,PhoneMultiFactorGenerator:jC,RecaptchaVerifier:CL,TwitterAuthProvider:As,Auth:k0,AuthCredential:Yu,Error:Ar}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(lL,cL)}kL(On);var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,qC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,R){function O(){}O.prototype=R.prototype,F.D=R.prototype,F.prototype=new O,F.prototype.constructor=F,F.C=function(B,W,D){for(var M=Array(arguments.length-2),C=2;C<arguments.length;C++)M[C-2]=arguments[C];return R.prototype[W].apply(B,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,R,O){O||(O=0);var B=Array(16);if(typeof R=="string")for(var W=0;16>W;++W)B[W]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(W=0;16>W;++W)B[W]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=F.g[0],O=F.g[1],W=F.g[2];var D=F.g[3],M=R+(D^O&(W^D))+B[0]+3614090360&4294967295;R=O+(M<<7&4294967295|M>>>25),M=D+(W^R&(O^W))+B[1]+3905402710&4294967295,D=R+(M<<12&4294967295|M>>>20),M=W+(O^D&(R^O))+B[2]+606105819&4294967295,W=D+(M<<17&4294967295|M>>>15),M=O+(R^W&(D^R))+B[3]+3250441966&4294967295,O=W+(M<<22&4294967295|M>>>10),M=R+(D^O&(W^D))+B[4]+4118548399&4294967295,R=O+(M<<7&4294967295|M>>>25),M=D+(W^R&(O^W))+B[5]+1200080426&4294967295,D=R+(M<<12&4294967295|M>>>20),M=W+(O^D&(R^O))+B[6]+2821735955&4294967295,W=D+(M<<17&4294967295|M>>>15),M=O+(R^W&(D^R))+B[7]+4249261313&4294967295,O=W+(M<<22&4294967295|M>>>10),M=R+(D^O&(W^D))+B[8]+1770035416&4294967295,R=O+(M<<7&4294967295|M>>>25),M=D+(W^R&(O^W))+B[9]+2336552879&4294967295,D=R+(M<<12&4294967295|M>>>20),M=W+(O^D&(R^O))+B[10]+4294925233&4294967295,W=D+(M<<17&4294967295|M>>>15),M=O+(R^W&(D^R))+B[11]+2304563134&4294967295,O=W+(M<<22&4294967295|M>>>10),M=R+(D^O&(W^D))+B[12]+1804603682&4294967295,R=O+(M<<7&4294967295|M>>>25),M=D+(W^R&(O^W))+B[13]+4254626195&4294967295,D=R+(M<<12&4294967295|M>>>20),M=W+(O^D&(R^O))+B[14]+2792965006&4294967295,W=D+(M<<17&4294967295|M>>>15),M=O+(R^W&(D^R))+B[15]+1236535329&4294967295,O=W+(M<<22&4294967295|M>>>10),M=R+(W^D&(O^W))+B[1]+4129170786&4294967295,R=O+(M<<5&4294967295|M>>>27),M=D+(O^W&(R^O))+B[6]+3225465664&4294967295,D=R+(M<<9&4294967295|M>>>23),M=W+(R^O&(D^R))+B[11]+643717713&4294967295,W=D+(M<<14&4294967295|M>>>18),M=O+(D^R&(W^D))+B[0]+3921069994&4294967295,O=W+(M<<20&4294967295|M>>>12),M=R+(W^D&(O^W))+B[5]+3593408605&4294967295,R=O+(M<<5&4294967295|M>>>27),M=D+(O^W&(R^O))+B[10]+38016083&4294967295,D=R+(M<<9&4294967295|M>>>23),M=W+(R^O&(D^R))+B[15]+3634488961&4294967295,W=D+(M<<14&4294967295|M>>>18),M=O+(D^R&(W^D))+B[4]+3889429448&4294967295,O=W+(M<<20&4294967295|M>>>12),M=R+(W^D&(O^W))+B[9]+568446438&4294967295,R=O+(M<<5&4294967295|M>>>27),M=D+(O^W&(R^O))+B[14]+3275163606&4294967295,D=R+(M<<9&4294967295|M>>>23),M=W+(R^O&(D^R))+B[3]+4107603335&4294967295,W=D+(M<<14&4294967295|M>>>18),M=O+(D^R&(W^D))+B[8]+1163531501&4294967295,O=W+(M<<20&4294967295|M>>>12),M=R+(W^D&(O^W))+B[13]+2850285829&4294967295,R=O+(M<<5&4294967295|M>>>27),M=D+(O^W&(R^O))+B[2]+4243563512&4294967295,D=R+(M<<9&4294967295|M>>>23),M=W+(R^O&(D^R))+B[7]+1735328473&4294967295,W=D+(M<<14&4294967295|M>>>18),M=O+(D^R&(W^D))+B[12]+2368359562&4294967295,O=W+(M<<20&4294967295|M>>>12),M=R+(O^W^D)+B[5]+4294588738&4294967295,R=O+(M<<4&4294967295|M>>>28),M=D+(R^O^W)+B[8]+2272392833&4294967295,D=R+(M<<11&4294967295|M>>>21),M=W+(D^R^O)+B[11]+1839030562&4294967295,W=D+(M<<16&4294967295|M>>>16),M=O+(W^D^R)+B[14]+4259657740&4294967295,O=W+(M<<23&4294967295|M>>>9),M=R+(O^W^D)+B[1]+2763975236&4294967295,R=O+(M<<4&4294967295|M>>>28),M=D+(R^O^W)+B[4]+1272893353&4294967295,D=R+(M<<11&4294967295|M>>>21),M=W+(D^R^O)+B[7]+4139469664&4294967295,W=D+(M<<16&4294967295|M>>>16),M=O+(W^D^R)+B[10]+3200236656&4294967295,O=W+(M<<23&4294967295|M>>>9),M=R+(O^W^D)+B[13]+681279174&4294967295,R=O+(M<<4&4294967295|M>>>28),M=D+(R^O^W)+B[0]+3936430074&4294967295,D=R+(M<<11&4294967295|M>>>21),M=W+(D^R^O)+B[3]+3572445317&4294967295,W=D+(M<<16&4294967295|M>>>16),M=O+(W^D^R)+B[6]+76029189&4294967295,O=W+(M<<23&4294967295|M>>>9),M=R+(O^W^D)+B[9]+3654602809&4294967295,R=O+(M<<4&4294967295|M>>>28),M=D+(R^O^W)+B[12]+3873151461&4294967295,D=R+(M<<11&4294967295|M>>>21),M=W+(D^R^O)+B[15]+530742520&4294967295,W=D+(M<<16&4294967295|M>>>16),M=O+(W^D^R)+B[2]+3299628645&4294967295,O=W+(M<<23&4294967295|M>>>9),M=R+(W^(O|~D))+B[0]+4096336452&4294967295,R=O+(M<<6&4294967295|M>>>26),M=D+(O^(R|~W))+B[7]+1126891415&4294967295,D=R+(M<<10&4294967295|M>>>22),M=W+(R^(D|~O))+B[14]+2878612391&4294967295,W=D+(M<<15&4294967295|M>>>17),M=O+(D^(W|~R))+B[5]+4237533241&4294967295,O=W+(M<<21&4294967295|M>>>11),M=R+(W^(O|~D))+B[12]+1700485571&4294967295,R=O+(M<<6&4294967295|M>>>26),M=D+(O^(R|~W))+B[3]+2399980690&4294967295,D=R+(M<<10&4294967295|M>>>22),M=W+(R^(D|~O))+B[10]+4293915773&4294967295,W=D+(M<<15&4294967295|M>>>17),M=O+(D^(W|~R))+B[1]+2240044497&4294967295,O=W+(M<<21&4294967295|M>>>11),M=R+(W^(O|~D))+B[8]+1873313359&4294967295,R=O+(M<<6&4294967295|M>>>26),M=D+(O^(R|~W))+B[15]+4264355552&4294967295,D=R+(M<<10&4294967295|M>>>22),M=W+(R^(D|~O))+B[6]+2734768916&4294967295,W=D+(M<<15&4294967295|M>>>17),M=O+(D^(W|~R))+B[13]+1309151649&4294967295,O=W+(M<<21&4294967295|M>>>11),M=R+(W^(O|~D))+B[4]+4149444226&4294967295,R=O+(M<<6&4294967295|M>>>26),M=D+(O^(R|~W))+B[11]+3174756917&4294967295,D=R+(M<<10&4294967295|M>>>22),M=W+(R^(D|~O))+B[2]+718787259&4294967295,W=D+(M<<15&4294967295|M>>>17),M=O+(D^(W|~R))+B[9]+3951481745&4294967295,F.g[0]=F.g[0]+R&4294967295,F.g[1]=F.g[1]+(W+(M<<21&4294967295|M>>>11))&4294967295,F.g[2]=F.g[2]+W&4294967295,F.g[3]=F.g[3]+D&4294967295}r.prototype.u=function(F,R){R===void 0&&(R=F.length);for(var O=R-this.blockSize,B=this.B,W=this.h,D=0;D<R;){if(W==0)for(;D<=O;)i(this,F,D),D+=this.blockSize;if(typeof F=="string"){for(;D<R;)if(B[W++]=F.charCodeAt(D++),W==this.blockSize){i(this,B),W=0;break}}else for(;D<R;)if(B[W++]=F[D++],W==this.blockSize){i(this,B),W=0;break}}this.h=W,this.o+=R},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var R=1;R<F.length-8;++R)F[R]=0;var O=8*this.o;for(R=F.length-8;R<F.length;++R)F[R]=O&255,O/=256;for(this.u(F),F=Array(16),R=O=0;4>R;++R)for(var B=0;32>B;B+=8)F[O++]=this.g[R]>>>B&255;return F};function s(F,R){var O=c;return Object.prototype.hasOwnProperty.call(O,F)?O[F]:O[F]=R(F)}function o(F,R){this.h=R;for(var O=[],B=!0,W=F.length-1;0<=W;W--){var D=F[W]|0;B&&D==R||(O[W]=D,B=!1)}this.g=O}var c={};function u(F){return-128<=F&&128>F?s(F,function(R){return new o([R|0],0>R?-1:0)}):new o([F|0],0>F?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return y;if(0>F)return I(h(-F));for(var R=[],O=1,B=0;F>=O;B++)R[B]=F/O|0,O*=4294967296;return new o(R,0)}function p(F,R){if(F.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(F.charAt(0)=="-")return I(p(F.substring(1),R));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(R,8)),B=y,W=0;W<F.length;W+=8){var D=Math.min(8,F.length-W),M=parseInt(F.substring(W,W+D),R);8>D?(D=h(Math.pow(R,D)),B=B.j(D).add(h(M))):(B=B.j(O),B=B.add(h(M)))}return B}var y=u(0),_=u(1),v=u(16777216);n=o.prototype,n.m=function(){if(b(this))return-I(this).m();for(var F=0,R=1,O=0;O<this.g.length;O++){var B=this.i(O);F+=(0<=B?B:4294967296+B)*R,R*=4294967296}return F},n.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(T(this))return"0";if(b(this))return"-"+I(this).toString(F);for(var R=h(Math.pow(F,6)),O=this,B="";;){var W=z(O,R).g;O=S(O,W.j(R));var D=((0<O.g.length?O.g[0]:O.h)>>>0).toString(F);if(O=W,T(O))return D+B;for(;6>D.length;)D="0"+D;B=D+B}},n.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function T(F){if(F.h!=0)return!1;for(var R=0;R<F.g.length;R++)if(F.g[R]!=0)return!1;return!0}function b(F){return F.h==-1}n.l=function(F){return F=S(this,F),b(F)?-1:T(F)?0:1};function I(F){for(var R=F.g.length,O=[],B=0;B<R;B++)O[B]=~F.g[B];return new o(O,~F.h).add(_)}n.abs=function(){return b(this)?I(this):this},n.add=function(F){for(var R=Math.max(this.g.length,F.g.length),O=[],B=0,W=0;W<=R;W++){var D=B+(this.i(W)&65535)+(F.i(W)&65535),M=(D>>>16)+(this.i(W)>>>16)+(F.i(W)>>>16);B=M>>>16,D&=65535,M&=65535,O[W]=M<<16|D}return new o(O,O[O.length-1]&-2147483648?-1:0)};function S(F,R){return F.add(I(R))}n.j=function(F){if(T(this)||T(F))return y;if(b(this))return b(F)?I(this).j(I(F)):I(I(this).j(F));if(b(F))return I(this.j(I(F)));if(0>this.l(v)&&0>F.l(v))return h(this.m()*F.m());for(var R=this.g.length+F.g.length,O=[],B=0;B<2*R;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(var W=0;W<F.g.length;W++){var D=this.i(B)>>>16,M=this.i(B)&65535,C=F.i(W)>>>16,te=F.i(W)&65535;O[2*B+2*W]+=M*te,N(O,2*B+2*W),O[2*B+2*W+1]+=D*te,N(O,2*B+2*W+1),O[2*B+2*W+1]+=M*C,N(O,2*B+2*W+1),O[2*B+2*W+2]+=D*C,N(O,2*B+2*W+2)}for(B=0;B<R;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=R;B<2*R;B++)O[B]=0;return new o(O,0)};function N(F,R){for(;(F[R]&65535)!=F[R];)F[R+1]+=F[R]>>>16,F[R]&=65535,R++}function L(F,R){this.g=F,this.h=R}function z(F,R){if(T(R))throw Error("division by zero");if(T(F))return new L(y,y);if(b(F))return R=z(I(F),R),new L(I(R.g),I(R.h));if(b(R))return R=z(F,I(R)),new L(I(R.g),R.h);if(30<F.g.length){if(b(F)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var O=_,B=R;0>=B.l(F);)O=$(O),B=$(B);var W=Y(O,1),D=Y(B,1);for(B=Y(B,2),O=Y(O,2);!T(B);){var M=D.add(B);0>=M.l(F)&&(W=W.add(O),D=M),B=Y(B,1),O=Y(O,1)}return R=S(F,W.j(R)),new L(W,R)}for(W=y;0<=F.l(R);){for(O=Math.max(1,Math.floor(F.m()/R.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),D=h(O),M=D.j(R);b(M)||0<M.l(F);)O-=B,D=h(O),M=D.j(R);T(D)&&(D=_),W=W.add(D),F=S(F,M)}return new L(W,F)}n.A=function(F){return z(this,F).h},n.and=function(F){for(var R=Math.max(this.g.length,F.g.length),O=[],B=0;B<R;B++)O[B]=this.i(B)&F.i(B);return new o(O,this.h&F.h)},n.or=function(F){for(var R=Math.max(this.g.length,F.g.length),O=[],B=0;B<R;B++)O[B]=this.i(B)|F.i(B);return new o(O,this.h|F.h)},n.xor=function(F){for(var R=Math.max(this.g.length,F.g.length),O=[],B=0;B<R;B++)O[B]=this.i(B)^F.i(B);return new o(O,this.h^F.h)};function $(F){for(var R=F.g.length+1,O=[],B=0;B<R;B++)O[B]=F.i(B)<<1|F.i(B-1)>>>31;return new o(O,F.h)}function Y(F,R){var O=R>>5;R%=32;for(var B=F.g.length-O,W=[],D=0;D<B;D++)W[D]=0<R?F.i(D+O)>>>R|F.i(D+O+1)<<32-R:F.i(D+O);return new o(W,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,mo=o}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KC,fh,QC,Wp,A0,YC,JC,XC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,k){return f==Array.prototype||f==Object.prototype||(f[E]=k.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var E=0;E<f.length;++E){var k=f[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function i(f,E){if(E)e:{var k=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var le=f[U];if(!(le in k))break e;k=k[le]}f=f[f.length-1],U=k[f],E=E(U),E!=U&&E!=null&&e(k,f,{configurable:!0,writable:!0,value:E})}}function s(f,E){f instanceof String&&(f+="");var k=0,U=!1,le={next:function(){if(!U&&k<f.length){var be=k++;return{value:E(be,f[be]),done:!1}}return U=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(f){return f||function(){return s(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function h(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function p(f,E,k){return f.call.apply(f.bind,arguments)}function y(f,E,k){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,U),f.apply(E,le)}}return function(){return f.apply(E,arguments)}}function _(f,E,k){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function v(f,E){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function T(f,E){function k(){}k.prototype=E.prototype,f.aa=E.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(U,le,be){for(var ze=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ze[Lt-2]=arguments[Lt];return E.prototype[le].apply(U,ze)}}function b(f){const E=f.length;if(0<E){const k=Array(E);for(let U=0;U<E;U++)k[U]=f[U];return k}return[]}function I(f,E){for(let k=1;k<arguments.length;k++){const U=arguments[k];if(u(U)){const le=f.length||0,be=U.length||0;f.length=le+be;for(let ze=0;ze<be;ze++)f[le+ze]=U[ze]}else f.push(U)}}class S{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function N(f){return/^[\s\xa0]*$/.test(f)}function L(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var $=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Y(f,E,k){for(const U in f)E.call(k,f[U],U,f)}function F(f,E){for(const k in f)E.call(void 0,f[k],k,f)}function R(f){const E={};for(const k in f)E[k]=f[k];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let k,U;for(let le=1;le<arguments.length;le++){U=arguments[le];for(k in U)f[k]=U[k];for(let be=0;be<O.length;be++)k=O[be],Object.prototype.hasOwnProperty.call(U,k)&&(f[k]=U[k])}}function W(f){var E=1;f=f.split(":");const k=[];for(;0<E&&f.length;)k.push(f.shift()),E--;return f.length&&k.push(f.join(":")),k}function D(f){c.setTimeout(()=>{throw f},0)}function M(){var f=K;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class C{constructor(){this.h=this.g=null}add(E,k){const U=te.get();U.set(E,k),this.h?this.h.next=U:this.g=U,this.h=U}}var te=new S(()=>new xe,f=>f.reset());class xe{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Z=!1,K=new C,ie=()=>{const f=c.Promise.resolve(void 0);ee=()=>{f.then(j)}};var j=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(k){D(k)}var E=te;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}Z=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};c.addEventListener("test",k,E),c.removeEventListener("test",k,E)}catch{}return f})();function fe(f,E){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if($){e:{try{z(E.nodeName);var le=!0;break e}catch{}le=!1}le||(E=null)}}else k=="mouseover"?E=f.fromElement:k=="mouseout"&&(E=f.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:de[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}T(fe,Te);var de={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),ue=0;function Ce(f,E,k,U,le){this.listener=f,this.proxy=null,this.src=E,this.type=k,this.capture=!!U,this.ha=le,this.key=++ue,this.da=this.fa=!1}function Le(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f){this.src=f,this.g={},this.h=0}Ae.prototype.add=function(f,E,k,U,le){var be=f.toString();f=this.g[be],f||(f=this.g[be]=[],this.h++);var ze=lt(f,E,U,le);return-1<ze?(E=f[ze],k||(E.fa=!1)):(E=new Ce(E,this.src,be,!!U,le),E.fa=k,f.push(E)),E};function ot(f,E){var k=E.type;if(k in f.g){var U=f.g[k],le=Array.prototype.indexOf.call(U,E,void 0),be;(be=0<=le)&&Array.prototype.splice.call(U,le,1),be&&(Le(E),f.g[k].length==0&&(delete f.g[k],f.h--))}}function lt(f,E,k,U){for(var le=0;le<f.length;++le){var be=f[le];if(!be.da&&be.listener==E&&be.capture==!!k&&be.ha==U)return le}return-1}var P="closure_lm_"+(1e6*Math.random()|0),me={};function ge(f,E,k,U,le){if(Array.isArray(E)){for(var be=0;be<E.length;be++)ge(f,E[be],k,U,le);return null}return k=ae(k),f&&f[ke]?f.K(E,k,h(U)?!!U.capture:!1,le):Q(f,E,k,!1,U,le)}function Q(f,E,k,U,le,be){if(!E)throw Error("Invalid event type");var ze=h(le)?!!le.capture:!!le,Lt=pe(f);if(Lt||(f[P]=Lt=new Ae(f)),k=Lt.add(E,k,U,ze,be),k.proxy)return k;if(U=G(),k.proxy=U,U.src=f,U.listener=k,f.addEventListener)re||(le=ze),le===void 0&&(le=!1),f.addEventListener(E.toString(),U,le);else if(f.attachEvent)f.attachEvent(Se(E.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function G(){function f(k){return E.call(f.src,f.listener,k)}const E=q;return f}function J(f,E,k,U,le){if(Array.isArray(E))for(var be=0;be<E.length;be++)J(f,E[be],k,U,le);else U=h(U)?!!U.capture:!!U,k=ae(k),f&&f[ke]?(f=f.i,E=String(E).toString(),E in f.g&&(be=f.g[E],k=lt(be,k,U,le),-1<k&&(Le(be[k]),Array.prototype.splice.call(be,k,1),be.length==0&&(delete f.g[E],f.h--)))):f&&(f=pe(f))&&(E=f.g[E.toString()],f=-1,E&&(f=lt(E,k,U,le)),(k=-1<f?E[f]:null)&&we(k))}function we(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ke])ot(E.i,f);else{var k=f.type,U=f.proxy;E.removeEventListener?E.removeEventListener(k,U,f.capture):E.detachEvent?E.detachEvent(Se(k),U):E.addListener&&E.removeListener&&E.removeListener(U),(k=pe(E))?(ot(k,f),k.h==0&&(k.src=null,E[P]=null)):Le(f)}}}function Se(f){return f in me?me[f]:me[f]="on"+f}function q(f,E){if(f.da)f=!0;else{E=new fe(E,this);var k=f.listener,U=f.ha||f.src;f.fa&&we(f),f=k.call(U,E)}return f}function pe(f){return f=f[P],f instanceof Ae?f:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(f){return typeof f=="function"?f:(f[Ee]||(f[Ee]=function(E){return f.handleEvent(E)}),f[Ee])}function ye(){H.call(this),this.i=new Ae(this),this.M=this,this.F=null}T(ye,H),ye.prototype[ke]=!0,ye.prototype.removeEventListener=function(f,E,k,U){J(this,f,E,k,U)};function Ie(f,E){var k,U=f.F;if(U)for(k=[];U;U=U.F)k.push(U);if(f=f.M,U=E.type||E,typeof E=="string")E=new Te(E,f);else if(E instanceof Te)E.target=E.target||f;else{var le=E;E=new Te(U,f),B(E,le)}if(le=!0,k)for(var be=k.length-1;0<=be;be--){var ze=E.g=k[be];le=Pe(ze,U,!0,E)&&le}if(ze=E.g=f,le=Pe(ze,U,!0,E)&&le,le=Pe(ze,U,!1,E)&&le,k)for(be=0;be<k.length;be++)ze=E.g=k[be],le=Pe(ze,U,!1,E)&&le}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var k=f.g[E],U=0;U<k.length;U++)Le(k[U]);delete f.g[E],f.h--}}this.F=null},ye.prototype.K=function(f,E,k,U){return this.i.add(String(f),E,!1,k,U)},ye.prototype.L=function(f,E,k,U){return this.i.add(String(f),E,!0,k,U)};function Pe(f,E,k,U){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var le=!0,be=0;be<E.length;++be){var ze=E[be];if(ze&&!ze.da&&ze.capture==k){var Lt=ze.listener,Rn=ze.ha||ze.src;ze.fa&&ot(f.i,ze),le=Lt.call(Rn,U)!==!1&&le}}return le&&!U.defaultPrevented}function We(f,E,k){if(typeof f=="function")k&&(f=_(f,k));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(f,E||0)}function Ze(f){f.g=We(()=>{f.g=null,f.i&&(f.i=!1,Ze(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class ut extends H{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(f){H.call(this),this.h=f,this.g={}}T(It,H);var ft=[];function Pt(f){Y(f.g,function(E,k){this.g.hasOwnProperty(k)&&we(E)},f),f.g={}}It.prototype.N=function(){It.aa.N.call(this),Pt(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=c.JSON.stringify,Gt=c.JSON.parse,bi=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ti(){}ti.prototype.h=null;function lr(f){return f.h||(f.h=f.i())}function En(){}var st={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bt(){Te.call(this,"d")}T(bt,Te);function cr(){Te.call(this,"c")}T(cr,Te);var Nn={},Pa=null;function Dr(){return Pa=Pa||new ye}Nn.La="serverreachability";function ka(f){Te.call(this,Nn.La,f)}T(ka,Te);function Fr(f){const E=Dr();Ie(E,new ka(E))}Nn.STAT_EVENT="statevent";function ms(f,E){Te.call(this,Nn.STAT_EVENT,f),this.stat=E}T(ms,Te);function an(f){const E=Dr();Ie(E,new ms(E,f))}Nn.Ma="timingevent";function Ws(f,E){Te.call(this,Nn.Ma,f),this.size=E}T(Ws,Te);function ni(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},E)}function $o(){this.g=!0}$o.prototype.xa=function(){this.g=!1};function Go(f,E,k,U,le,be){f.info(function(){if(f.g)if(be)for(var ze="",Lt=be.split("&"),Rn=0;Rn<Lt.length;Rn++){var St=Lt[Rn].split("=");if(1<St.length){var Bn=St[0];St=St[1];var xn=Bn.split("_");ze=2<=xn.length&&xn[1]=="type"?ze+(Bn+"="+St+"&"):ze+(Bn+"=redacted&")}}else ze=null;else ze=be;return"XMLHTTP REQ ("+U+") [attempt "+le+"]: "+E+`
`+k+`
`+ze})}function oc(f,E,k,U,le,be,ze){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+le+"]: "+E+`
`+k+`
`+be+" "+ze})}function Wi(f,E,k,U){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+s_(f,k)+(U?" "+U:"")})}function hd(f,E){f.info(function(){return"TIMEOUT: "+E})}$o.prototype.info=function(){};function s_(f,E){if(!f.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var U=k[f];if(!(2>U.length)){var le=U[1];if(Array.isArray(le)&&!(1>le.length)){var be=le[0];if(be!="noop"&&be!="stop"&&be!="close")for(var ze=1;ze<le.length;ze++)le[ze]=""}}}}return _n(k)}catch{return E}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},im={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function qo(){}T(qo,ti),qo.prototype.g=function(){return new XMLHttpRequest},qo.prototype.i=function(){return{}},Hi=new qo;function $i(f,E,k,U){this.j=f,this.i=E,this.l=k,this.R=U||1,this.U=new It(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sm}function sm(){this.i=null,this.g="",this.h=!1}var fd={},cc={};function uc(f,E,k){f.L=1,f.v=Fa(ii(E)),f.m=k,f.P=!0,md(f,null)}function md(f,E){f.F=Date.now(),zt(f),f.A=ii(f.v);var k=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),Oa(k.i,"t",U),f.C=0,k=f.j.J,f.h=new sm,f.g=Em(f.j,k?E:null,!f.m),0<f.O&&(f.M=new ut(_(f.Y,f,f.g),f.O)),E=f.U,k=f.g,U=f.ca;var le="readystatechange";Array.isArray(le)||(le&&(ft[0]=le.toString()),le=ft);for(var be=0;be<le.length;be++){var ze=ge(k,le[be],U||E.handleEvent,!1,E.h||E);if(!ze)break;E.g[ze.key]=ze}E=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Fr(),Go(f.i,f.u,f.A,f.l,f.R,f.m)}$i.prototype.ca=function(f){f=f.target;const E=this.M;E&&Or(f)==3?E.j():this.Y(f)},$i.prototype.Y=function(f){try{if(f==this.g)e:{const xn=Or(this.g);var E=this.g.Ba();const xi=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||wd(this.g)))){this.J||xn!=4||E==7||(E==8||0>=xi?Fr(3):Fr(2)),Ko(this);var k=this.g.Z();this.X=k;t:if(am(this)){var U=wd(this.g);f="";var le=U.length,be=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),Aa(this);var ze="";break t}this.h.i=new c.TextDecoder}for(E=0;E<le;E++)this.h.h=!0,f+=this.h.i.decode(U[E],{stream:!(be&&E==le-1)});U.length=0,this.h.g+=f,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=k==200,oc(this.i,this.u,this.A,this.l,this.R,xn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,Rn=this.g;if((Lt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Lt)){var St=Lt;break t}}St=null}if(k=St)Wi(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pd(this,k);else{this.o=!1,this.s=3,an(12),Ti(this),Aa(this);break e}}if(this.P){k=!0;let ai;for(;!this.J&&this.C<ze.length;)if(ai=a_(this,ze),ai==cc){xn==4&&(this.s=4,an(14),k=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==fd){this.s=4,an(15),Wi(this.i,this.l,ze,"[Invalid Chunk]"),k=!1;break}else Wi(this.i,this.l,ai,null),pd(this,ai);if(am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||ze.length!=0||this.h.h||(this.s=1,an(16),k=!1),this.o=this.o&&k,!k)Wi(this.i,this.l,ze,"[Invalid Chunked Response]"),Ti(this),Aa(this);else if(0<ze.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Td(Bn),Bn.M=!0,an(11))}}else Wi(this.i,this.l,ze,null),pd(this,ze);xn==4&&Ti(this),this.o&&!this.J&&(xn==4?bc(this.j,this):(this.o=!1,zt(this)))}else gc(this.g),k==400&&0<ze.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ti(this),Aa(this)}}}catch{}finally{}};function am(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function a_(f,E){var k=f.C,U=E.indexOf(`
`,k);return U==-1?cc:(k=Number(E.substring(k,U)),isNaN(k)?fd:(U+=1,U+k>E.length?cc:(E=E.slice(U,U+k),f.C=U+k,E)))}$i.prototype.cancel=function(){this.J=!0,Ti(this)};function zt(f){f.S=Date.now()+f.I,om(f,f.I)}function om(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ni(_(f.ba,f),E)}function Ko(f){f.B&&(c.clearTimeout(f.B),f.B=null)}$i.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(hd(this.i,this.A),this.L!=2&&(Fr(),an(17)),Ti(this),this.s=2,Aa(this)):om(this,this.S-f)};function Aa(f){f.j.G==0||f.J||bc(f.j,f)}function Ti(f){Ko(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Pt(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function pd(f,E){try{var k=f.j;if(k.G!=0&&(k.g==f||xr(k.h,f))){if(!f.K&&xr(k.h,f)&&k.G==3){try{var U=k.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var le=U;if(le[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)wc(k),Yi(k);else break e;vc(k),an(18)}}else k.za=le[1],0<k.za-k.T&&37500>le[2]&&k.F&&k.v==0&&!k.C&&(k.C=ni(_(k.Za,k),6e3));if(1>=cm(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Ks(k,11)}else if((f.K||k.g==f)&&wc(k),!N(E))for(le=k.Da.g.parse(E),E=0;E<le.length;E++){let St=le[E];if(k.T=St[0],St=St[1],k.G==2)if(St[0]=="c"){k.K=St[1],k.ia=St[2];const Bn=St[3];Bn!=null&&(k.la=Bn,k.j.info("VER="+k.la));const xn=St[4];xn!=null&&(k.Aa=xn,k.j.info("SVER="+k.Aa));const xi=St[5];xi!=null&&typeof xi=="number"&&0<xi&&(U=1.5*xi,k.L=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const ai=f.g;if(ai){const tl=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var be=U.h;be.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(gd(be,be.h),be.h=null))}if(U.D){const Ec=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ec&&(U.ya=Ec,jt(U.I,U.D,Ec))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),U=k;var ze=f;if(U.qa=Tm(U,U.J?U.ia:null,U.W),ze.K){um(U.h,ze);var Lt=ze,Rn=U.L;Rn&&(Lt.I=Rn),Lt.B&&(Ko(Lt),zt(Lt)),U.g=ze}else el(U);0<k.i.length&&_s(k)}else St[0]!="stop"&&St[0]!="close"||Ks(k,7);else k.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Ks(k,7):tr(k):St[0]!="noop"&&k.l&&k.l.ta(St),k.v=0)}}Fr(4)}catch{}}var lm=class{constructor(f,E){this.g=f,this.map=E}};function Qo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ri(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function cm(f){return f.h?1:f.g?f.g.size:0}function xr(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function gd(f,E){f.g?f.g.add(E):f.h=E}function um(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Qo.prototype.cancel=function(){if(this.i=dm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dm(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const k of f.g.values())E=E.concat(k.D);return E}return b(f.i)}function dc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var E=[],k=f.length,U=0;U<k;U++)E.push(f[U]);return E}E=[],k=0;for(U in f)E[k++]=f[U];return E}function hc(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var E=[];f=f.length;for(var k=0;k<f;k++)E.push(k);return E}E=[],k=0;for(const U in f)E[k++]=U;return E}}}function Na(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var k=hc(f),U=dc(f),le=U.length,be=0;be<le;be++)E.call(void 0,U[be],k&&k[be],f)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o_(f,E){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var U=f[k].indexOf("="),le=null;if(0<=U){var be=f[k].substring(0,U);le=f[k].substring(U+1)}else be=f[k];E(be,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Hs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Hs){this.h=f.h,Jo(this,f.j),this.o=f.o,this.g=f.g,Ra(this,f.s),this.l=f.l;var E=f.i,k=new ps;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),Da(this,k),this.m=f.m}else f&&(E=String(f).match(Yo))?(this.h=!1,Jo(this,E[1]||"",!0),this.o=xt(E[2]||""),this.g=xt(E[3]||"",!0),Ra(this,E[4]),this.l=xt(E[5]||"",!0),Da(this,E[6]||"",!0),this.m=xt(E[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}Hs.prototype.toString=function(){var f=[],E=this.j;E&&f.push(La(E,fc,!0),":");var k=this.g;return(k||E=="file")&&(f.push("//"),(E=this.o)&&f.push(La(E,fc,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(La(k,k.charAt(0)=="/"?mm:fm,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",La(k,yd)),f.join("")};function ii(f){return new Hs(f)}function Jo(f,E,k){f.j=k?xt(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Ra(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Da(f,E,k){E instanceof ps?(f.i=E,gs(f.i,f.h)):(k||(E=La(E,pm)),f.i=new ps(E,f.h))}function jt(f,E,k){f.i.set(E,k)}function Fa(f){return jt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function xt(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function La(f,E,k){return typeof f=="string"?(f=encodeURI(f).replace(E,hm),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fc=/[#\/\?@]/g,fm=/[#\?:]/g,mm=/[#\?]/g,pm=/[#\?@]/g,yd=/#/g;function ps(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function er(f){f.g||(f.g=new Map,f.h=0,f.i&&o_(f.i,function(E,k){f.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}n=ps.prototype,n.add=function(f,E){er(this),this.i=null,f=Ei(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(E),this.h+=1,this};function Gi(f,E){er(f),E=Ei(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function qi(f,E){return er(f),E=Ei(f,E),f.g.has(E)}n.forEach=function(f,E){er(this),this.g.forEach(function(k,U){k.forEach(function(le){f.call(E,le,U,this)},this)},this)},n.na=function(){er(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let U=0;U<E.length;U++){const le=f[U];for(let be=0;be<le.length;be++)k.push(E[U])}return k},n.V=function(f){er(this);let E=[];if(typeof f=="string")qi(this,f)&&(E=E.concat(this.g.get(Ei(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)E=E.concat(f[k])}return E},n.set=function(f,E){return er(this),this.i=null,f=Ei(this,f),qi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Oa(f,E,k){Gi(f,E),0<k.length&&(f.i=null,f.g.set(Ei(f,E),b(k)),f.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var U=E[k];const be=encodeURIComponent(String(U)),ze=this.V(U);for(U=0;U<ze.length;U++){var le=be;ze[U]!==""&&(le+="="+encodeURIComponent(String(ze[U]))),f.push(le)}}return this.i=f.join("&")};function Ei(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function gs(f,E){E&&!f.j&&(er(f),f.i=null,f.g.forEach(function(k,U){var le=U.toLowerCase();U!=le&&(Gi(this,U),Oa(this,le,k))},f)),f.j=E}function l_(f,E){const k=new $o;if(c.Image){const U=new Image;U.onload=v(Lr,k,"TestLoadImage: loaded",!0,E,U),U.onerror=v(Lr,k,"TestLoadImage: error",!1,E,U),U.onabort=v(Lr,k,"TestLoadImage: abort",!1,E,U),U.ontimeout=v(Lr,k,"TestLoadImage: timeout",!1,E,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else E(!1)}function gm(f,E){const k=new $o,U=new AbortController,le=setTimeout(()=>{U.abort(),Lr(k,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:U.signal}).then(be=>{clearTimeout(le),be.ok?Lr(k,"TestPingServer: ok",!0,E):Lr(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(le),Lr(k,"TestPingServer: error",!1,E)})}function Lr(f,E,k,U,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),U(k)}catch{}}function c_(){this.g=new bi}function ym(f,E,k){const U=k||"";try{Na(f,function(le,be){let ze=le;h(le)&&(ze=_n(le)),E.push(U+be+"="+encodeURIComponent(ze))})}catch(le){throw E.push(U+"type="+encodeURIComponent("_badmap")),le}}function $s(f){this.l=f.Ub||null,this.j=f.eb||!1}T($s,ti),$s.prototype.g=function(){return new Xo(this.l,this.j)},$s.prototype.i=(function(f){return function(){return f}})({});function Xo(f,E){ye.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Xo,ye),n=Xo.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Qi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_m(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function _m(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Ki(this):Qi(this),this.readyState==3&&_m(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ki(this))},n.Qa=function(f){this.g&&(this.response=f,Ki(this))},n.ga=function(){this.g&&Ki(this)};function Ki(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Qi(f)}n.setRequestHeader=function(f,E){this.u.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=E.next();return f.join(`\r
`)};function Qi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gs(f){let E="";return Y(f,function(k,U){E+=U,E+=":",E+=k,E+=`\r
`}),E}function Ma(f,E,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=Gs(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):jt(f,E,k))}function Jt(f){ye.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Jt,ye);var u_=/^https?$/i,_d=["POST","PUT"];n=Jt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,E,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?lr(this.o):lr(Hi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(be){Zo(this,be);return}if(f=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var le in U)k.set(le,U[le]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const be of U.keys())k.set(be,U.get(be));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(be=>be.toLowerCase()=="content-type"),le=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_d,E,void 0))||U||le||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,ze]of k)this.g.setRequestHeader(be,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pc(this),this.u=!0,this.g.send(f),this.u=!1}catch(be){Zo(this,be)}};function Zo(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,mc(f),si(f)}function mc(f){f.A||(f.A=!0,Ie(f,"complete"),Ie(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ie(this,"complete"),Ie(this,"abort"),si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vd(this):this.bb())},n.bb=function(){vd(this)};function vd(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Or(f)!=4||f.Z()!=2)){if(f.u&&Or(f)==4)We(f.Ea,0,f);else if(Ie(f,"readystatechange"),Or(f)==4){f.h=!1;try{const ze=f.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var U;if(U=ze===0){var le=String(f.D).match(Yo)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),U=!u_.test(le?le.toLowerCase():"")}k=U}if(k)Ie(f,"complete"),Ie(f,"success");else{f.m=6;try{var be=2<Or(f)?f.g.statusText:""}catch{be=""}f.l=be+" ["+f.Z()+"]",mc(f)}}finally{si(f)}}}}function si(f,E){if(f.g){pc(f);const k=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Ie(f,"ready");try{k.onreadystatechange=U}catch{}}}function pc(f){f.I&&(c.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Or(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Gt(E)}};function wd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function gc(f){const E={};f=(f.g&&2<=Or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(N(f[U]))continue;var k=W(f[U]);const le=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const be=E[le]||[];E[le]=be,be.push(k)}F(E,function(U){return U.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(f,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||E}function bd(f){this.Aa=0,this.i=[],this.j=new $o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,f),this.cb=ys("retryDelaySeedMs",1e4,f),this.Wa=ys("forwardChannelMaxRetries",2,f),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(f&&f.concurrentRequestLimit),this.Da=new c_,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bd.prototype,n.la=8,n.G=1,n.connect=function(f,E,k,U){an(0),this.W=f,this.H=E||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.I=Tm(this,null,this.W),_s(this)};function tr(f){if(yc(f),f.G==3){var E=f.U++,k=ii(f.I);if(jt(k,"SID",f.K),jt(k,"RID",E),jt(k,"TYPE","terminate"),qs(f,k),E=new $i(f,f.j,E),E.L=2,E.v=Fa(ii(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=E.v,k=!0),k||(E.g=Em(E.j,null),E.g.ea(E.v)),E.F=Date.now(),zt(E)}bm(f)}function Yi(f){f.g&&(Td(f),f.g.cancel(),f.g=null)}function yc(f){Yi(f),f.u&&(c.clearTimeout(f.u),f.u=null),wc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function _s(f){if(!ri(f.h)&&!f.s){f.s=!0;var E=f.Ga;ee||ie(),Z||(ee(),Z=!0),K.add(E,f),f.B=0}}function d_(f,E){return cm(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ni(_(f.Ga,f,E),wm(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const le=new $i(this,this.j,f);let be=this.o;if(this.S&&(be?(be=R(be),B(be,this.S)):be=this.S),this.m!==null||this.O||(le.H=be,be=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=Va(this,le,E),k=ii(this.I),jt(k,"RID",f),jt(k,"CVER",22),this.D&&jt(k,"X-HTTP-Session-Id",this.D),qs(this,k),be&&(this.O?E="headers="+encodeURIComponent(String(Gs(be)))+"&"+E:this.m&&Ma(k,this.m,be)),gd(this.h,le),this.Ua&&jt(k,"TYPE","init"),this.P?(jt(k,"$req",E),jt(k,"SID","null"),le.T=!0,uc(le,k,null)):uc(le,k,E),this.G=2}}else this.G==3&&(f?_c(this,f):this.i.length==0||ri(this.h)||_c(this))};function _c(f,E){var k;E?k=E.l:k=f.U++;const U=ii(f.I);jt(U,"SID",f.K),jt(U,"RID",k),jt(U,"AID",f.T),qs(f,U),f.m&&f.o&&Ma(U,f.m,f.o),k=new $i(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Va(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),gd(f.h,k),uc(k,U,E)}function qs(f,E){f.H&&Y(f.H,function(k,U){jt(E,U,k)}),f.l&&Na({},function(k,U){jt(E,U,k)})}function Va(f,E,k){k=Math.min(f.i.length,k);var U=f.l?_(f.l.Na,f.l,f):null;e:{var le=f.i;let be=-1;for(;;){const ze=["count="+k];be==-1?0<k?(be=le[0].g,ze.push("ofs="+be)):be=0:ze.push("ofs="+be);let Lt=!0;for(let Rn=0;Rn<k;Rn++){let St=le[Rn].g;const Bn=le[Rn].map;if(St-=be,0>St)be=Math.max(0,le[Rn].g-100),Lt=!1;else try{ym(Bn,ze,"req"+St+"_")}catch{U&&U(Bn)}}if(Lt){U=ze.join("&");break e}}}return f=f.i.splice(0,k),E.D=f,U}function el(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;ee||ie(),Z||(ee(),Z=!0),K.add(E,f),f.v=0}}function vc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ni(_(f.Fa,f),wm(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,vm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ni(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),Yi(this),vm(this))};function Td(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function vm(f){f.g=new $i(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=ii(f.qa);jt(E,"RID","rpc"),jt(E,"SID",f.K),jt(E,"AID",f.T),jt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&jt(E,"TO",f.ja),jt(E,"TYPE","xmlhttp"),qs(f,E),f.m&&f.o&&Ma(E,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Fa(ii(E)),k.m=null,k.P=!0,md(k,f)}n.Za=function(){this.C!=null&&(this.C=null,Yi(this),vc(this),an(19))};function wc(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function bc(f,E){var k=null;if(f.g==E){wc(f),Td(f),f.g=null;var U=2}else if(xr(f.h,E))k=E.D,um(f.h,E),U=1;else return;if(f.G!=0){if(E.o)if(U==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var le=f.B;U=Dr(),Ie(U,new Ws(U,k)),_s(f)}else el(f);else if(le=E.s,le==3||le==0&&0<E.X||!(U==1&&d_(f,E)||U==2&&vc(f)))switch(k&&0<k.length&&(E=f.h,E.i=E.i.concat(k)),le){case 1:Ks(f,5);break;case 4:Ks(f,10);break;case 3:Ks(f,6);break;default:Ks(f,2)}}}function wm(f,E){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*E}function Ks(f,E){if(f.j.info("Error code "+E),E==2){var k=_(f.fb,f),U=f.Xa;const le=!U;U=new Hs(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jo(U,"https"),Fa(U),le?l_(U.toString(),k):gm(U.toString(),k)}else an(2);f.G=0,f.l&&f.l.sa(E),bm(f),yc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function bm(f){if(f.G=0,f.ka=[],f.l){const E=dm(f.h);(E.length!=0||f.i.length!=0)&&(I(f.ka,E),I(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function Tm(f,E,k){var U=k instanceof Hs?ii(k):new Hs(k);if(U.g!="")E&&(U.g=E+"."+U.g),Ra(U,U.s);else{var le=c.location;U=le.protocol,E=E?E+"."+le.hostname:le.hostname,le=+le.port;var be=new Hs(null);U&&Jo(be,U),E&&(be.g=E),le&&Ra(be,le),k&&(be.l=k),U=be}return k=f.D,E=f.ya,k&&E&&jt(U,k,E),jt(U,"VER",f.la),qs(f,U),U}function Em(f,E,k){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Jt(new $s({eb:k})):new Jt(f.pa),E.Ha(f.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ed(){}n=Ed.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Tc(){}Tc.prototype.g=function(f,E){return new Ir(f,E)};function Ir(f,E){ye.call(this),this.g=new bd(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!N(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!N(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new vs(this)}T(Ir,ye),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){tr(this.g)},Ir.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=_n(f),f=k);E.i.push(new lm(E.Ya++,f)),E.G==3&&_s(E)},Ir.prototype.N=function(){this.g.l=null,delete this.j,tr(this.g),delete this.g,Ir.aa.N.call(this)};function xm(f){bt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const k in E){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}T(xm,bt);function Im(){cr.call(this),this.status=1}T(Im,cr);function vs(f){this.g=f}T(vs,Ed),vs.prototype.ua=function(){Ie(this.g,"a")},vs.prototype.ta=function(f){Ie(this.g,new xm(f))},vs.prototype.sa=function(f){Ie(this.g,new Im)},vs.prototype.ra=function(){Ie(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,XC=function(){return new Tc},JC=function(){return Dr()},YC=Nn,A0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,Wp=lc,im.COMPLETE="complete",QC=im,En.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",ye.prototype.listen=ye.prototype.K,fh=En,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,KC=Jt}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const xx="@firebase/firestore",Ix="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Ku("@firebase/firestore");function Zc(){return xo.logLevel}function AL(n){xo.setLogLevel(n)}function De(n,...e){if(xo.logLevel<=vt.DEBUG){const t=e.map(Iw);xo.debug(`Firestore (${Xu}): ${n}`,...t)}}function wn(n,...e){if(xo.logLevel<=vt.ERROR){const t=e.map(Iw);xo.error(`Firestore (${Xu}): ${n}`,...t)}}function js(n,...e){if(xo.logLevel<=vt.WARN){const t=e.map(Iw);xo.warn(`Firestore (${Xu}): ${n}`,...t)}}function Iw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ZC(n,r,t)}function ZC(n,e,t){let r=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw wn(r),new Error(r)}function Ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||ZC(e,i,r)}function NL(n,e){n||$e(57014,e)}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Qn.UNAUTHENTICATED)))}shutdown(){}}class DL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class FL{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new eP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class LL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new LL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ML{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function ht(n,e){return n<e?-1:n>e?1:0}function N0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Qv(i)===Qv(s)?ht(i,s):Qv(i)?1:-1}return ht(n.length,e.length)}const jL=55296,BL=57343;function Qv(n){const e=n.charCodeAt(0);return e>=jL&&e<=BL}function wu(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function tP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="__name__";class Is{constructor(e,t,r){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Is.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Is.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return ht(e.length,t.length)}static compareSegments(e,t){const r=Is.isNumericId(e),i=Is.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Is.extractNumericId(e).compare(Is.extractNumericId(t)):N0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class Tt extends Is{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Tt(t)}static emptyPath(){return new Tt([])}}const zL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Is{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return zL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cx}static keyField(){return new en([Cx])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ne(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ne(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new Ne(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Tt.fromString(e))}static fromName(e){return new Ue(Tt.fromString(e).popFirst(5))}static empty(){return new Ue(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n,e,t){if(!t)throw new Ne(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nP(n,e,t,r){if(e===!0&&r===!0)throw new Ne(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Px(n){if(!Ue.isDocumentKey(n))throw new Ne(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kx(n){if(Ue.isDocumentKey(n))throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function my(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function Rt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=my(n);throw new Ne(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iP(n,e){if(e<=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Df(n,e){if(!rP(n))throw new Ne(ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Ne(ve.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=-62135596800,Nx=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Nx);return new Dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ax)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nx}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Df(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ax;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:kn("string",Dt._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Dt(0,0))}static max(){return new tt(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;class yg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function R0(n){return n.fields.find((e=>e.kind===2))}function gl(n){return n.fields.filter((e=>e.kind!==2))}yg.UNKNOWN_ID=-1;class Hp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yh(0,vi.min())}}function sP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new vi(i,Ue.empty(),e)}function aP(n){return new vi(n.readTime,n.key,bu)}class vi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vi(tt.min(),Ue.empty(),bu)}static max(){return new vi(tt.max(),Ue.empty(),bu)}}function Pw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:ht(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==oP)throw n;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,r)=>{t(e)}))}static reject(e){return new oe(((t,r)=>{r(e)}))}static waitFor(e){return new oe(((t,r)=>{let i=0,s=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++s,o&&s===i&&t()}),(u=>r(u)))})),o=!0,s===i&&t()}))}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next((i=>i?oe.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new oe(((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next((p=>{o[h]=p,++c,c===s&&r(o)}),(p=>i(p)))}}))}static doWhile(e,t){return new oe(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="SimpleDb";class py{static open(e,t,r,i){try{return new py(t,e.transaction(i,r))}catch(s){throw new Ih(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ar,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ih(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=kw(r.target.error);this.S.reject(new Ih(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(De(ui,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new WL(t)}}class Fs{static delete(e){return De(ui,"Removing database:",e),vl(K1().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Uh())return!1;if(Fs.F())return!0;const e=dn(),t=Fs.M(e),r=0<t&&t<10,i=cP(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Fs.M(dn())===12.2&&wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(De(ui,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;t(o)},i.onblocked=()=>{r(new Ih(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Ne(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Ne(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ih(e,o))},i.onupgradeneeded=s=>{De(ui,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.N.k(o,i.transaction,s.oldVersion,this.version).next((()=>{De(ui,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const c=py.open(this.db,e,s?"readonly":"readwrite",r),u=i(c).next((h=>(c.C(),h))).catch((h=>(c.abort(h),oe.reject(h)))).toPromise();return u.catch((()=>{})),await c.D,u}catch(c){const u=c,h=u.name!=="FirebaseError"&&o<3;if(De(ui,"Transaction failed with error:",u.message,"Retrying:",h),this.close(),!h)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class UL{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return vl(this.U.delete())}}class Ih extends Ne{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bo(n){return n.name==="IndexedDbTransactionError"}class WL{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(De(ui,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(De(ui,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vl(r)}add(e){return De(ui,"ADD",this.store.name,e,e),vl(this.store.add(e))}get(e){return vl(this.store.get(e)).next((t=>(t===void 0&&(t=null),De(ui,"GET",this.store.name,e,t),t)))}delete(e){return De(ui,"DELETE",this.store.name,e),vl(this.store.delete(e))}count(){return De(ui,"COUNT",this.store.name),vl(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new oe(((o,c)=>{s.onerror=u=>{c(u.target.error)},s.onsuccess=u=>{o(u.target.result)}}))}{const s=this.cursor(r),o=[];return this.H(s,((c,u)=>{o.push(u)})).next((()=>o))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new oe(((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}}))}Z(e,t){De(ui,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,((s,o,c)=>c.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new oe(((r,i)=>{t.onerror=s=>{const o=kw(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next((c=>{c?o.continue():r()})):r()}}))}H(e,t){const r=[];return new oe(((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const c=o.target.result;if(!c)return void i();const u=new UL(c),h=t(c.primaryKey,c.value,u);if(h instanceof oe){const p=h.catch((y=>(u.done(),oe.reject(y))));r.push(p)}u.isDone?i():u.G===null?c.continue():c.continue(u.G)}})).next((()=>oe.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vl(n){return new oe(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=kw(r.target.error);t(i)}}))}let Rx=!1;function kw(n){const e=Fs.M(dn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rx||(Rx=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Sh="IndexBackfiller";class HL{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){De(Sh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();De(Sh,`Documents written: ${t}`)}catch(t){Bo(t)?De(Sh,"Ignoring IndexedDB error during index backfill: ",t):await jo(t)}await this.re(6e4)}))}}class $L{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,s=!0;return oe.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return De(Sh,`Processing collection: ${o}`),this.oe(e,o,i).next((c=>{i-=c,r.add(o)}));s=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(i,s))).next((c=>(De(Sh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>o.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,s)=>{const o=aP(s);Pw(o,r)>0&&(r=o)})),new vi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function Ff(n){return n==null}function Jh(n){return n===0&&1/n==-1/0}function uP(n){return typeof n=="number"&&Number.isInteger(n)&&!Jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="";function wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dx(e)),e=GL(n.get(t),e);return Dx(e)}function GL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case _g:t+="";break;default:t+=s}}return t}function Dx(n){return n+_g+""}function Rs(n){const e=n.length;if(Ye(e>=2,64408,{path:n}),e===2)return Ye(n.charAt(0)===_g&&n.charAt(1)==="",56145,{path:n}),Tt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf(_g,s);switch((o<0||o>t)&&$e(50515,{path:n}),n.charAt(o+1)){case"":const c=n.substring(s,o);let u;i.length===0?u=c:(i+=c,u=i,i=""),r.push(u);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:$e(61167,{path:n})}s=o+2}return new Tt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="remoteDocuments",Lf="owner",$c="owner",Xh="mutationQueues",qL="userId",is="mutations",Fx="batchId",Il="userMutationsIndex",Lx=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n,e){return[n,wr(e)]}function dP(n,e,t){return[n,wr(e),t]}const KL={},Tu="documentMutations",vg="remoteDocumentsV14",QL=["prefixPath","collectionGroup","readTime","documentId"],Gp="documentKeyIndex",YL=["prefixPath","collectionGroup","documentId"],hP="collectionGroupIndex",JL=["collectionGroup","readTime","prefixPath","documentId"],Zh="remoteDocumentGlobal",D0="remoteDocumentGlobalKey",Eu="targets",fP="queryTargetsIndex",XL=["canonicalId","targetId"],xu="targetDocuments",ZL=["targetId","path"],Aw="documentTargetsIndex",eO=["path","targetId"],wg="targetGlobalKey",Nl="targetGlobal",ef="collectionParents",tO=["collectionId","parent"],Iu="clientMetadata",nO="clientId",gy="bundles",rO="bundleId",yy="namedQueries",iO="name",Nw="indexConfiguration",sO="indexId",F0="collectionGroupIndex",aO="collectionGroup",Ch="indexState",oO=["indexId","uid"],mP="sequenceNumberIndex",lO=["uid","sequenceNumber"],Ph="indexEntries",cO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pP="documentKeyIndex",uO=["indexId","uid","orderedDocumentKey"],_y="documentOverlays",dO=["userId","collectionPath","documentId"],L0="collectionPathOverlayIndex",hO=["userId","collectionPath","largestBatchId"],gP="collectionGroupOverlayIndex",fO=["userId","collectionGroup","largestBatchId"],Rw="globals",mO="name",yP=[Xh,is,Tu,yl,Eu,Lf,Nl,xu,Iu,Zh,ef,gy,yy],pO=[...yP,_y],_P=[Xh,is,Tu,vg,Eu,Lf,Nl,xu,Iu,Zh,ef,gy,yy,_y],vP=_P,Dw=[...vP,Nw,Ch,Ph],gO=Dw,wP=[...Dw,Rw],yO=wP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends lP{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Vn(n,e){const t=He(n);return Fs.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class M0{constructor(e,t){this.comparator=e,this.root=t||go.EMPTY}insert(e,t){return new M0(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new M0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}},Ep=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},go=class ra{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ra.RED,this.left=i??ra.EMPTY,this.right=s??ra.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ra(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ra.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ra.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ra.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ra.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}};go.EMPTY=null,go.RED=!0,go.BLACK=!1;go.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new go(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new qr([])}unionWith(e){let t=new Vt(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TP("Invalid base64 string: "+s):s}})(e);return new pn(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=vO.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(n.seconds),nanos:Zt(n.nanos)}}function Zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _a(n){return typeof n=="string"?pn.fromBase64String(n):pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="server_timestamp",xP="__type__",IP="__previous_value__",SP="__local_write_time__";function vy(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[xP])==null?void 0:r.stringValue)===EP}function wy(n){const e=n.mapValue.fields[IP];return vy(e)?wy(e):e}function tf(n){const e=ya(n.mapValue.fields[SP].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,r,i,s,o,c,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const V0="(default)";class Io{constructor(e,t){this.projectId=e,this.database=t||V0}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database===V0}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__type__",CP="__max__",oo={mapValue:{fields:{__type__:{stringValue:CP}}}},Lw="__vector__",Su="value",qp={nullValue:"NULL_VALUE"};function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vy(n)?4:PP(n)?9007199254740991:by(n)?10:11:$e(28295,{value:n})}function Bs(n,e){if(n===e)return!0;const t=So(n);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tf(n).isEqual(tf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ya(i.timestampValue),c=ya(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return _a(i.bytesValue).isEqual(_a(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Zt(i.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Zt(i.integerValue)===Zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zt(i.doubleValue),c=Zt(s.doubleValue);return o===c?Jh(o)===Jh(c):isNaN(o)&&isNaN(c)}return!1})(n,e);case 9:return wu(n.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Ox(o)!==Ox(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Bs(o[u],c[u])))return!1;return!0})(n,e);default:return $e(52216,{left:n})}}function nf(n,e){return(n.values||[]).find((t=>Bs(t,e)))!==void 0}function Co(n,e){if(n===e)return 0;const t=So(n),r=So(e);if(t!==r)return ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Zt(s.integerValue||s.doubleValue),u=Zt(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return Vx(n.timestampValue,e.timestampValue);case 4:return Vx(tf(n),tf(e));case 5:return N0(n.stringValue,e.stringValue);case 6:return(function(s,o){const c=_a(s),u=_a(o);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=ht(c[h],u[h]);if(p!==0)return p}return ht(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=ht(Zt(s.latitude),Zt(o.latitude));return c!==0?c:ht(Zt(s.longitude),Zt(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return jx(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var _,v,T,b;const c=s.fields||{},u=o.fields||{},h=(_=c[Su])==null?void 0:_.arrayValue,p=(v=u[Su])==null?void 0:v.arrayValue,y=ht(((T=h==null?void 0:h.values)==null?void 0:T.length)||0,((b=p==null?void 0:p.values)==null?void 0:b.length)||0);return y!==0?y:jx(h,p)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===oo.mapValue&&o===oo.mapValue)return 0;if(s===oo.mapValue)return 1;if(o===oo.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const _=N0(u[y],p[y]);if(_!==0)return _;const v=Co(c[u[y]],h[p[y]]);if(v!==0)return v}return ht(u.length,p.length)})(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function Vx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ht(n,e);const t=ya(n),r=ya(e),i=ht(t.seconds,r.seconds);return i!==0?i:ht(t.nanos,r.nanos)}function jx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Co(t[i],r[i]);if(s)return s}return ht(t.length,r.length)}function Cu(n){return j0(n)}function j0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ya(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return _a(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ue.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=j0(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${j0(t.fields[o])}`;return i+"}"})(n.mapValue):$e(61005,{value:n})}function Kp(n){switch(So(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wy(n);return e?16+Kp(e):16;case 5:return 2*n.stringValue.length;case 6:return _a(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Kp(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return zo(r.fields,((s,o)=>{i+=s.length+Kp(o)})),i})(n.mapValue);default:throw $e(13486,{value:n})}}function Ml(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function B0(n){return!!n&&"integerValue"in n}function rf(n){return!!n&&"arrayValue"in n}function Bx(n){return!!n&&"nullValue"in n}function zx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qp(n){return!!n&&"mapValue"in n}function by(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Fw])==null?void 0:r.stringValue)===Lw}function kh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return zo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=kh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kh(n.arrayValue.values[t]);return e}return{...n}}function PP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}const kP={mapValue:{fields:{[Fw]:{stringValue:Lw},[Su]:{arrayValue:{}}}}};function bO(n){return"nullValue"in n?qp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ml(Io.empty(),Ue.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?by(n)?kP:{mapValue:{}}:$e(35942,{value:n})}function TO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ml(Io.empty(),Ue.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?kP:"mapValue"in n?by(n)?{mapValue:{}}:oo:$e(61959,{value:n})}function Ux(n,e){const t=Co(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Wx(n,e){const t=Co(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(t)}setAll(e){let t=en.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=kh(o):i.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zo(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new sr(kh(this.value))}}function AP(n){const e=[];return zo(n.fields,((t,r)=>{const i=new en([t]);if(Qp(r)){const s=AP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Qt(e,0,tt.min(),tt.min(),tt.min(),sr.empty(),0)}static newFoundDocument(e,t,r,i){return new Qt(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Qt(e,2,t,tt.min(),tt.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,tt.min(),tt.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.position=e,this.inclusive=t}}function Hx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ue.comparator(Ue.fromName(o.referenceValue),t.key):r=Co(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $x(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function EO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{}class Et extends NP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xO(e,t,r):t==="array-contains"?new CO(e,r):t==="in"?new MP(e,r):t==="not-in"?new PO(e,r):t==="array-contains-any"?new kO(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new IO(e,r):new SO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Co(t,this.value)):t!==null&&So(this.value)===So(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mt extends NP{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mt(e,t)}matches(e){return Pu(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pu(n){return n.op==="and"}function z0(n){return n.op==="or"}function Ow(n){return RP(n)&&Pu(n)}function RP(n){for(const e of n.filters)if(e instanceof Mt)return!1;return!0}function U0(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Cu(n.value);if(Ow(n))return n.filters.map((e=>U0(e))).join(",");{const e=n.filters.map((t=>U0(t))).join(",");return`${n.op}(${e})`}}function DP(n,e){return n instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&Bs(r.value,i.value)})(n,e):n instanceof Mt?(function(r,i){return i instanceof Mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,c)=>s&&DP(o,i.filters[c])),!0):!1})(n,e):void $e(19439)}function FP(n,e){const t=n.filters.concat(e);return Mt.create(t,n.op)}function LP(n){return n instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cu(t.value)}`})(n):n instanceof Mt?(function(t){return t.op.toString()+" {"+t.getFilters().map(LP).join(" ,")+"}"})(n):"Filter"}class xO extends Et{constructor(e,t,r){super(e,t,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class IO extends Et{constructor(e,t){super(e,"in",t),this.keys=OP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class SO extends Et{constructor(e,t){super(e,"not-in",t),this.keys=OP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function OP(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Ue.fromName(r.referenceValue)))}class CO extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rf(t)&&nf(t.arrayValue,this.value)}}class MP extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nf(this.value.arrayValue,t)}}class PO extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nf(this.value.arrayValue,t)}}class kO extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>nf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function W0(n,e=null,t=[],r=[],i=null,s=null,o=null){return new AO(n,e,t,r,i,s,o)}function Vl(n){const e=He(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>U0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Cu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Cu(r))).join(",")),e.Te=t}return e.Te}function Of(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$x(n.startAt,e.startAt)&&$x(n.endAt,e.endAt)}function bg(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Tg(n,e){return n.filters.filter((t=>t instanceof Et&&t.field.isEqual(e)))}function Gx(n,e,t){let r=qp,i=!0;for(const s of Tg(n,e)){let o=qp,c=!0;switch(s.op){case"<":case"<=":o=bO(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=qp}Ux({value:r,inclusive:i},{value:o,inclusive:c})<0&&(r=o,i=c)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];Ux({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function qx(n,e,t){let r=oo,i=!0;for(const s of Tg(n,e)){let o=oo,c=!0;switch(s.op){case">=":case">":o=TO(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=oo}Wx({value:r,inclusive:i},{value:o,inclusive:c})>0&&(r=o,i=c)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];Wx({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VP(n,e,t,r,i,s,o,c){return new Ea(n,e,t,r,i,s,o,c)}function Zu(n){return new Ea(n)}function Kx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Mw(n){return n.collectionGroup!==null}function du(n){const e=He(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Vt(en.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sf(s,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new sf(en.keyField(),r))}return e.Ie}function Nr(n){const e=He(n);return e.Ee||(e.Ee=NO(e,du(n))),e.Ee}function NO(n,e){if(n.limitType==="F")return W0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new sf(i.field,s)}));const t=n.endAt?new Po(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Po(n.startAt.position,n.startAt.inclusive):null;return W0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function H0(n,e){const t=n.filters.concat([e]);return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Eg(n,e,t){return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Of(Nr(n),Nr(e))&&n.limitType===e.limitType}function jP(n){return`${Vl(Nr(n))}|lt:${n.limitType}`}function eu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>LP(i))).join(", ")}]`),Ff(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Cu(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Cu(i))).join(",")),`Target(${r})`})(Nr(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of du(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){const h=Hx(o,c,u);return o.inclusive?h<=0:h<0})(r.startAt,du(r),i)||r.endAt&&!(function(o,c,u){const h=Hx(o,c,u);return o.inclusive?h>=0:h>0})(r.endAt,du(r),i))})(n,e)}function BP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zP(n){return(e,t)=>{let r=!1;for(const i of du(n)){const s=RO(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RO(n,e,t){const r=n.field.isKeyField()?Ue.comparator(e.key,t.key):(function(s,o,c){const u=o.data.field(s),h=c.data.field(s);return u!==null&&h!==null?Co(u,h):$e(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return bP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new fn(Ue.comparator);function Kr(){return DO}const UP=new fn(Ue.comparator);function mh(...n){let e=UP;for(const t of n)e=e.insert(t.key,t);return e}function WP(n){let e=UP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ds(){return Ah()}function HP(){return Ah()}function Ah(){return new xa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const FO=new fn(Ue.comparator),LO=new Vt(Ue.comparator);function mt(...n){let e=LO;for(const t of n)e=e.add(t);return e}const OO=new Vt(ht);function Vw(){return OO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function $P(n){return{integerValue:""+n}}function GP(n,e){return uP(e)?$P(e):jw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this._=void 0}}function MO(n,e,t){return n instanceof ku?(function(i,s){const o={fields:{[xP]:{stringValue:EP},[SP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vy(s)&&(s=wy(s)),s&&(o.fields[IP]=s),{mapValue:o}})(t,e):n instanceof jl?KP(n,e):n instanceof Bl?QP(n,e):(function(i,s){const o=qP(i,s),c=Qx(o)+Qx(i.Ae);return B0(o)&&B0(i.Ae)?$P(c):jw(i.serializer,c)})(n,e)}function VO(n,e,t){return n instanceof jl?KP(n,e):n instanceof Bl?QP(n,e):t}function qP(n,e){return n instanceof Au?(function(r){return B0(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class ku extends Ty{}class jl extends Ty{constructor(e){super(),this.elements=e}}function KP(n,e){const t=YP(e);for(const r of n.elements)t.some((i=>Bs(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Bl extends Ty{constructor(e){super(),this.elements=e}}function QP(n,e){let t=YP(e);for(const r of n.elements)t=t.filter((i=>!Bs(i,r)));return{arrayValue:{values:t}}}class Au extends Ty{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qx(n){return Zt(n.integerValue||n.doubleValue)}function YP(n){return rf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.field=e,this.transform=t}}function jO(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof jl&&i instanceof jl||r instanceof Bl&&i instanceof Bl?wu(r.elements,i.elements,Bs):r instanceof Au&&i instanceof Au?Bs(r.Ae,i.Ae):r instanceof ku&&i instanceof ku})(n.transform,e.transform)}class BO{constructor(e,t){this.version=e,this.transformResults=t}}class tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ey{}function JP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new td(n.key,tn.none()):new ed(n.key,n.data,tn.none());{const t=n.data,r=sr.empty();let i=new Vt(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ia(n.key,r,new qr(i.toArray()),tn.none())}}function zO(n,e,t){n instanceof ed?(function(i,s,o){const c=i.value.clone(),u=Jx(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ia?(function(i,s,o){if(!Yp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=Jx(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(XP(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Nh(n,e,t,r){return n instanceof ed?(function(s,o,c,u){if(!Yp(s.precondition,o))return c;const h=s.value.clone(),p=Xx(s.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ia?(function(s,o,c,u){if(!Yp(s.precondition,o))return c;const h=Xx(s.fieldTransforms,u,o),p=o.data;return p.setAll(XP(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(s,o,c){return Yp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,e,t)}function UO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qP(r.transform,i||null);s!=null&&(t===null&&(t=sr.empty()),t.set(r.field,s))}return t||null}function Yx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wu(r,i,((s,o)=>jO(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ed extends Ey{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ia extends Ey{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Jx(n,e,t){const r=new Map;Ye(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,VO(o,c,t[i]))}return r}function Xx(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,MO(s,o,e))}return r}class td extends Ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw extends Ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zO(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HP();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;const u=JP(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mt())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,((t,r)=>Yx(t,r)))&&wu(this.baseMutations,e.baseMutations,((t,r)=>Yx(t,r)))}}class Uw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return FO})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Uw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,Ct;function ZP(n){switch(n){case ve.OK:return $e(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function ek(n){if(n===void 0)return wn("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Sn.OK:return ve.OK;case Sn.CANCELLED:return ve.CANCELLED;case Sn.UNKNOWN:return ve.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ve.INTERNAL;case Sn.UNAVAILABLE:return ve.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ve.NOT_FOUND;case Sn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Sn.ABORTED:return ve.ABORTED;case Sn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Sn.DATA_LOSS:return ve.DATA_LOSS;default:return $e(39323,{code:n})}}(Ct=Sn||(Sn={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new mo([4294967295,4294967295],0);function Zx(n){const e=tk().encode(n),t=new qC;return t.update(e),new Uint8Array(t.digest())}function eI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([t,r],0),new mo([i,s],0)]}class Hw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ph(`Invalid padding: ${t}`);if(r<0)throw new ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ph(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ph(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=mo.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(mo.fromNumber(r)));return i.compare(HO)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Zx(e),[r,i]=eI(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hw(s,i,t);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=Zx(e),[r,i]=eI(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bf(tt.min(),i,new fn(ht),Kr(),mt())}}class zf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zf(r,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class nk{constructor(e,t){this.targetId=e,this.Ce=t}}class rk{constructor(e,t,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class tI{constructor(){this.ve=0,this.Fe=nI(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),t=mt(),r=mt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$e(38017,{changeType:s})}})),new zf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $O{constructor(e){this.Ge=e,this.ze=new Map,this.je=Kr(),this.Je=xp(),this.He=xp(),this.Ye=new fn(ht)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(bg(s))if(r===0){const o=new Ue(s.path);this.et(t,o,Qt.newNoDocument(o,tt.min()))}else Ye(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,c;try{o=_a(r).toUint8Array()}catch(u){if(u instanceof TP)return js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Hw(o,i,s)}catch(u){return js(u instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&bg(c.target)){const u=new Ue(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Qt.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let r=mt();this.He.forEach(((s,o)=>{let c=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Bf(e,t,this.Ye,this.je,r);return this.je=Kr(),this.Je=xp(),this.He=xp(),this.Ye=new fn(ht),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tI,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(ht),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(ht),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||De("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tI),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xp(){return new fn(Ue.comparator)}function nI(){return new fn(Ue.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KO={and:"AND",or:"OR"};class QO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $0(n,e){return n.useProto3Json||Ff(e)?e:{value:e}}function Nu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YO(n,e){return Nu(n,e.toTimestamp())}function bn(n){return Ye(!!n,49232),tt.fromTimestamp((function(t){const r=ya(t);return new Dt(r.seconds,r.nanos)})(n))}function $w(n,e){return G0(n,e).canonicalString()}function G0(n,e){const t=(function(i){return new Tt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function sk(n){const e=Tt.fromString(n);return Ye(pk(e),10190,{key:e.toString()}),e}function af(n,e){return $w(n.databaseId,e.path)}function Ls(n,e){const t=sk(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(lk(t))}function ak(n,e){return $w(n.databaseId,e)}function ok(n){const e=sk(n);return e.length===4?Tt.emptyPath():lk(e)}function q0(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lk(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rI(n,e,t){return{name:af(n,e),fields:t.value.mapValue.fields}}function ck(n,e,t){const r=Ls(n,e.name),i=bn(e.updateTime),s=e.createTime?bn(e.createTime):tt.min(),o=new sr({mapValue:{fields:e.fields}}),c=Qt.newFoundDocument(r,i,s,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function JO(n,e){return"found"in e?(function(r,i){Ye(!!i.found,43571),i.found.name,i.found.updateTime;const s=Ls(r,i.found.name),o=bn(i.found.updateTime),c=i.found.createTime?bn(i.found.createTime):tt.min(),u=new sr({mapValue:{fields:i.found.fields}});return Qt.newFoundDocument(s,o,c,u)})(n,e):"missing"in e?(function(r,i){Ye(!!i.missing,3894),Ye(!!i.readTime,22933);const s=Ls(r,i.missing),o=bn(i.readTime);return Qt.newNoDocument(s,o)})(n,e):$e(7234,{result:e})}function XO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:$e(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Ye(p===void 0||typeof p=="string",58123),pn.fromBase64String(p||"")):(Ye(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),pn.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const p=h.code===void 0?ve.UNKNOWN:ek(h.code);return new Ne(p,h.message||"")})(o);t=new rk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ls(n,r.document.name),s=bn(r.document.updateTime),o=r.document.createTime?bn(r.document.createTime):tt.min(),c=new sr({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,s,o,c),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Jp(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ls(n,r.document),s=r.readTime?bn(r.readTime):tt.min(),o=Qt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Jp([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ls(n,r.document),s=r.removedTargetIds||[];t=new Jp([],s,i,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new WO(i,s),c=r.targetId;t=new nk(c,o)}}return t}function of(n,e){let t;if(e instanceof ed)t={update:rI(n,e.key,e.value)};else if(e instanceof td)t={delete:af(n,e.key)};else if(e instanceof Ia)t={update:rI(n,e.key,e.data),updateMask:iM(e.fieldMask)};else{if(!(e instanceof Bw))return $e(16599,{Vt:e.type});t={verify:af(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const c=o.transform;if(c instanceof ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Au)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw $e(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:YO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$e(27497)})(n,e.precondition)),t}function K0(n,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?tn.updateTime(bn(s.updateTime)):s.exists!==void 0?tn.exists(s.exists):tn.none()})(e.currentDocument):tn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(o,c){let u=null;if("setToServerValue"in c)Ye(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),u=new ku;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];u=new jl(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];u=new Bl(p)}else"increment"in c?u=new Au(o,c.increment):$e(16584,{proto:c});const h=en.fromServerFormat(c.fieldPath);return new jf(h,u)})(n,i))):[];if(e.update){e.update.name;const i=Ls(n,e.update.name),s=new sr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const h=u.fieldPaths||[];return new qr(h.map((p=>en.fromServerFormat(p))))})(e.updateMask);return new Ia(i,s,o,t,r)}return new ed(i,s,t,r)}if(e.delete){const i=Ls(n,e.delete);return new td(i,t)}if(e.verify){const i=Ls(n,e.verify);return new Bw(i,t)}return $e(1463,{proto:e})}function ZO(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map((t=>(function(i,s){let o=i.updateTime?bn(i.updateTime):bn(s);return o.isEqual(tt.min())&&(o=bn(s)),new BO(o,i.transformResults||[])})(t,e)))):[]}function uk(n,e){return{documents:[ak(n,e.path)]}}function dk(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ak(n,i);const s=(function(h){if(h.length!==0)return mk(Mt.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(h){if(h.length!==0)return h.map((p=>(function(_){return{field:tu(_.field),direction:tM(_.dir)}})(p)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=$0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function hk(n){let e=ok(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ye(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=(function(y){const _=fk(y);return _ instanceof Mt&&Ow(_)?_.getFilters():[_]})(t.where));let o=[];t.orderBy&&(o=(function(y){return y.map((_=>(function(T){return new sf(nu(T.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let _;return _=typeof y=="object"?y.value:y,Ff(_)?null:_})(t.limit));let u=null;t.startAt&&(u=(function(y){const _=!!y.before,v=y.values||[];return new Po(v,_)})(t.startAt));let h=null;return t.endAt&&(h=(function(y){const _=!y.before,v=y.values||[];return new Po(v,_)})(t.endAt)),VP(e,i,o,s,c,"F",u,h)}function eM(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fk(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nu(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nu(t.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nu(t.unaryFilter.field);return Et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nu(t.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Et.create(nu(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Mt.create(t.compositeFilter.filters.map((r=>fk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(n):$e(30097,{filter:n})}function tM(n){return GO[n]}function nM(n){return qO[n]}function rM(n){return KO[n]}function tu(n){return{fieldPath:n.canonicalString()}}function nu(n){return en.fromServerFormat(n.fieldPath)}function mk(n){return n instanceof Et?(function(t){if(t.op==="=="){if(zx(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NAN"}};if(Bx(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zx(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NAN"}};if(Bx(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(t.field),op:nM(t.op),value:t.value}}})(n):n instanceof Mt?(function(t){const r=t.getFilters().map((i=>mk(i)));return r.length===1?r[0]:{compositeFilter:{op:rM(t.op),filters:r}}})(n):$e(54877,{filter:n})}function iM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t,r,i,s=tt.min(),o=tt.min(),c=pn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.yt=e}}function sM(n,e){let t;if(e.document)t=ck(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ue.fromSegments(e.noDocument.path),i=Ul(e.noDocument.readTime);t=Qt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return $e(56709);{const r=Ue.fromSegments(e.unknownDocument.path),i=Ul(e.unknownDocument.version);t=Qt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const s=new Dt(i[0],i[1]);return tt.fromTimestamp(s)})(e.readTime)),t}function iI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,o){return{name:af(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Nu(s,o.version.toTimestamp()),createTime:Nu(s,o.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zl(e.version)};else{if(!e.isUnknownDocument())return $e(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:zl(e.version)}}return r}function xg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ul(n){const e=new Dt(n.seconds,n.nanoseconds);return tt.fromTimestamp(e)}function wl(n,e){const t=(e.baseMutations||[]).map((s=>K0(n.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];o.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>K0(n.yt,s))),i=Dt.fromMillis(e.localWriteTimeMs);return new zw(e.batchId,i,t,r)}function gh(n){const e=Ul(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ul(n.lastLimboFreeSnapshotVersion):tt.min();let r;return r=(function(s){return s.documents!==void 0})(n.query)?(function(s){const o=s.documents.length;return Ye(o===1,1966,{count:o}),Nr(Zu(ok(s.documents[0])))})(n.query):(function(s){return Nr(hk(s))})(n.query),new aa(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,pn.fromBase64String(n.resumeToken))}function yk(n,e){const t=zl(e.snapshotVersion),r=zl(e.lastLimboFreeSnapshotVersion);let i;i=bg(e.target)?uk(n.yt,e.target):dk(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Gw(n){const e=hk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eg(e,e.limit,"L"):e}function Yv(n,e){return new Ww(e.largestBatchId,K0(n.yt,e.overlayMutation))}function sI(n,e){const t=e.path.lastSegment();return[n,wr(e.path.popLast()),t]}function aI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:zl(r.readTime),documentKey:wr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{getBundleMetadata(e,t){return oI(e).get(t).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ul(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,t){return oI(e).put((function(i){return{bundleId:i.id,createTime:zl(bn(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return lI(e).get(t).next((r=>{if(r)return(function(s){return{name:s.name,query:Gw(s.bundledQuery),readTime:Ul(s.readTime)}})(r)}))}saveNamedQuery(e,t){return lI(e).put((function(i){return{name:i.name,readTime:zl(bn(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function oI(n){return Vn(n,gy)}function lI(n){return Vn(n,yy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new xy(e,r)}getOverlay(e,t){return Zd(e).get(sI(this.userId,t)).next((r=>r?Yv(this.serializer,r):null))}getOverlays(e,t){const r=Ds();return oe.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((s,o)=>{const c=new Ww(t,o);i.push(this.St(e,c))})),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((o=>i.add(wr(o.getCollectionPath()))));const s=[];return i.forEach((o=>{const c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Zd(e).Z(L0,c))})),oe.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ds(),s=wr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Zd(e).J(L0,o).next((c=>{for(const u of c){const h=Yv(this.serializer,u);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const s=Ds();let o;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zd(e).ee({index:gP,range:c},((u,h,p)=>{const y=Yv(this.serializer,h);s.size()<i||y.largestBatchId===o?(s.set(y.getKey(),y),o=y.largestBatchId):p.done()})).next((()=>s))}St(e,t){return Zd(e).put((function(i,s,o){const[c,u,h]=sI(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:of(i.yt,o.mutation)}})(this.serializer,this.userId,t))}}function Zd(n){return Vn(n,_y)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{bt(e){return Vn(e,Rw)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?pn.fromUint8Array(r):pn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Zt(e.integerValue));else if("doubleValue"in e){const r=Zt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Jh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ya(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(_a(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?PP(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):by(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):$e(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var o,c;const r=e.fields||{};this.Ft(t,53);const i=Su,s=((c=(o=r[i].arrayValue)==null?void 0:o.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(Zt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),Ue.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}bl.Kt=new bl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=255;function lM(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function cI(n){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const o=lM(255&r[s]);if(i+=o,o!==8)break}return i})(n);return Math.ceil(e/8)}class cM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=cI(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=cI(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(qc),this.sn(255)}_n(){this.an(qc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===qc?(this.sn(qc),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===qc?(this.an(qc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class uM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class dM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class eh{constructor(){this.cn=new cM,this.ln=new uM(this.cn),this.hn=new dM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new Tl(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Xp(this.En),directionalValue:Xp(this.dn),orderedDocumentKey:Xp(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function eo(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=uI(n.En,e.En),t!==0?t:(t=uI(n.dn,e.dn),t!==0?t:Ue.comparator(n.In,e.In)))}function uI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Xp(n){return FS()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function dI(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class hI{constructor(e){this.mn=new Vt(((t,r)=>en.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ye(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=R0(e);if(t!==void 0&&!this.wn(t))return!1;const r=gl(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const u=r[s];if(!this.Sn(c,u)||!this.bn(this.fn[o++],u))return!1}++s}for(;s<r.length;++s){const c=r[s];if(o>=this.fn.length||!this.bn(this.fn[o++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Vt(en.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Hp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Hp(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Hp(r.field,r.dir==="asc"?0:1)));return new yg(yg.UNKNOWN_ID,this.collectionId,t,Yh.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){var t,r;if(Ye(n instanceof Et||n instanceof Mt,20012),n instanceof Et){if(n instanceof MP){const i=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((s=>Et.create(n.field,"==",s))))||[];return Mt.create(i,"or")}return n}const e=n.filters.map((i=>_k(i)));return Mt.create(e,n.op)}function hM(n){if(n.getFilters().length===0)return[];const e=J0(_k(n));return Ye(vk(e),7391),Q0(e)||Y0(e)?[e]:e.getFilters()}function Q0(n){return n instanceof Et}function Y0(n){return n instanceof Mt&&Ow(n)}function vk(n){return Q0(n)||Y0(n)||(function(t){if(t instanceof Mt&&z0(t)){for(const r of t.getFilters())if(!Q0(r)&&!Y0(r))return!1;return!0}return!1})(n)}function J0(n){if(Ye(n instanceof Et||n instanceof Mt,34018),n instanceof Et)return n;if(n.filters.length===1)return J0(n.filters[0]);const e=n.filters.map((r=>J0(r)));let t=Mt.create(e,n.op);return t=Ig(t),vk(t)?t:(Ye(t instanceof Mt,64498),Ye(Pu(t),40251),Ye(t.filters.length>1,57927),t.filters.reduce(((r,i)=>qw(r,i))))}function qw(n,e){let t;return Ye(n instanceof Et||n instanceof Mt,38388),Ye(e instanceof Et||e instanceof Mt,25473),t=n instanceof Et?e instanceof Et?(function(i,s){return Mt.create([i,s],"and")})(n,e):fI(n,e):e instanceof Et?fI(e,n):(function(i,s){if(Ye(i.filters.length>0&&s.filters.length>0,48005),Pu(i)&&Pu(s))return FP(i,s.getFilters());const o=z0(i)?i:s,c=z0(i)?s:i,u=o.filters.map((h=>qw(h,c)));return Mt.create(u,"or")})(n,e),Ig(t)}function fI(n,e){if(Pu(e))return FP(e,n.getFilters());{const t=e.filters.map((r=>qw(n,r)));return Mt.create(t,"or")}}function Ig(n){if(Ye(n instanceof Et||n instanceof Mt,11850),n instanceof Et)return n;const e=n.getFilters();if(e.length===1)return Ig(e[0]);if(RP(n))return n;const t=e.map((i=>Ig(i))),r=[];return t.forEach((i=>{i instanceof Et?r.push(i):i instanceof Mt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Mt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Cn=new Kw}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(vi.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Kw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(Tt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="IndexedDbIndexManager",Ip=new Uint8Array(0);class mM{constructor(e,t){this.databaseId=t,this.vn=new Kw,this.Fn=new xa((r=>Vl(r)),((r,i)=>Of(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const s={collectionId:r,parent:wr(i)};return pI(e).put(s)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[tP(t),""],!1,!0);return pI(e).J(i).next((s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Rs(o.parent))}return r}))}addFieldIndex(e,t){const r=th(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(t);delete i.indexId;const s=r.add(i);if(t.indexState){const o=Qc(e);return s.next((c=>{o.put(aI(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const r=th(e),i=Qc(e),s=Kc(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=th(e),r=Kc(e),i=Qc(e);return t.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return oe.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new hI(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const r=Kc(e);let i=!0;const s=new Map;return oe.forEach(this.Mn(t),(o=>this.xn(e,o).next((c=>{i&&(i=!!c),s.set(o,c)})))).next((()=>{if(i){let o=mt();const c=[];return oe.forEach(s,((u,h)=>{De(mI,`Using index ${(function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(u)} to execute ${Vl(t)}`);const p=(function(L,z){const $=R0(z);if($===void 0)return null;for(const Y of Tg(L,$.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null})(h,u),y=(function(L,z){const $=new Map;for(const Y of gl(z))for(const F of Tg(L,Y.fieldPath))switch(F.op){case"==":case"in":$.set(Y.fieldPath.canonicalString(),F.value);break;case"not-in":case"!=":return $.set(Y.fieldPath.canonicalString(),F.value),Array.from($.values())}return null})(h,u),_=(function(L,z){const $=[];let Y=!0;for(const F of gl(z)){const R=F.kind===0?Gx(L,F.fieldPath,L.startAt):qx(L,F.fieldPath,L.startAt);$.push(R.value),Y&&(Y=R.inclusive)}return new Po($,Y)})(h,u),v=(function(L,z){const $=[];let Y=!0;for(const F of gl(z)){const R=F.kind===0?qx(L,F.fieldPath,L.endAt):Gx(L,F.fieldPath,L.endAt);$.push(R.value),Y&&(Y=R.inclusive)}return new Po($,Y)})(h,u),T=this.On(u,h,_),b=this.On(u,h,v),I=this.Nn(u,h,y),S=this.Bn(u.indexId,p,T,_.inclusive,b,v.inclusive,I);return oe.forEach(S,(N=>r.Y(N,t.limit).next((L=>{L.forEach((z=>{const $=Ue.fromSegments(z.documentKey);o.has($)||(o=o.add($),c.push($))}))}))))})).next((()=>c))}return oe.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=hM(Mt.create(e.filters,"and")).map((r=>W0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,o,c){const u=(t!=null?t.length:1)*Math.max(r.length,s.length),h=u/(t!=null?t.length:1),p=[];for(let y=0;y<u;++y){const _=t?this.Ln(t[y/h]):Ip,v=this.kn(e,_,r[y%h],i),T=this.qn(e,_,s[y%h],o),b=c.map((I=>this.kn(e,_,I,!0)));p.push(...this.createRange(v,T,b))}return p}kn(e,t,r,i){const s=new Tl(e,Ue.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new Tl(e,Ue.empty(),t,r);return i?s.An():s}xn(e,t){const r=new hI(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let o=null;for(const c of s)r.yn(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o}))}getIndexType(e,t){let r=2;const i=this.Mn(t);return oe.forEach(i,(s=>this.xn(e,s).next((o=>{o?r!==0&&o.fields.length<(function(u){let h=new Vt(en.comparator),p=!1;for(const y of u.filters)for(const _ of y.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?p=!0:h=h.add(_.field));for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(t)&&i.length>1&&r===2?1:r))}Qn(e,t){const r=new eh;for(const i of gl(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const o=r.Pn(i.kind);bl.Kt.Dt(s,o)}return r.un()}Ln(e){const t=new eh;return bl.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new eh;return bl.Kt.Dt(Ml(this.databaseId,t),r.Pn((function(s){const o=gl(s);return o.length===0?0:o[o.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new eh);let s=0;for(const o of gl(e)){const c=r[s++];for(const u of i)if(this.Un(t,o.fieldPath)&&rf(c))i=this.Kn(i,o,c);else{const h=u.Pn(o.kind);bl.Kt.Dt(c,h)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const c of i){const u=new eh;u.seed(c.un()),bl.Kt.Dt(o,u.Pn(t.kind)),s.push(u)}return s}Un(e,t){return!!e.filters.find((r=>r instanceof Et&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=th(e),i=Qc(e);return(t?r.J(F0,IDBKeyRange.bound(t,t)):r.J()).next((s=>{const o=[];return oe.forEach(s,(c=>i.get([c.indexId,this.uid]).next((u=>{o.push((function(p,y){const _=y?new Yh(y.sequenceNumber,new vi(Ul(y.readTime),new Ue(Rs(y.documentKey)),y.largestBatchId)):Yh.empty(),v=p.fields.map((([T,b])=>new Hp(en.fromServerFormat(T),b)));return new yg(p.indexId,p.collectionGroup,v,_)})(c,u))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ht(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=th(e),s=Qc(e);return this.Gn(e).next((o=>i.J(F0,IDBKeyRange.bound(t,t)).next((c=>oe.forEach(c,(u=>s.put(aI(u.indexId,this.uid,o,r))))))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,((i,s)=>{const o=r.get(i.collectionGroup);return(o?oe.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),oe.forEach(c,(u=>this.zn(e,i,u).next((h=>{const p=this.jn(s,u);return h.isEqual(p)?oe.resolve():this.Jn(e,s,u,h,p)})))))))}))}Hn(e,t,r,i){return Kc(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return Kc(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=Kc(e);let s=new Vt(eo);return i.ee({index:pP,range:IDBKeyRange.only([r.indexId,this.uid,Xp(this.$n(r,t))])},((o,c)=>{s=s.add(new Tl(r.indexId,t,dI(c.arrayValue),dI(c.directionalValue)))})).next((()=>s))}jn(e,t){let r=new Vt(eo);const i=this.Qn(t,e);if(i==null)return r;const s=R0(t);if(s!=null){const o=e.data.field(s.fieldPath);if(rf(o))for(const c of o.arrayValue.values||[])r=r.add(new Tl(t.indexId,e.key,this.Ln(c),i))}else r=r.add(new Tl(t.indexId,e.key,Ip,i));return r}Jn(e,t,r,i,s){De(mI,"Updating index entries for document '%s'",t.key);const o=[];return(function(u,h,p,y,_){const v=u.getIterator(),T=h.getIterator();let b=Gc(v),I=Gc(T);for(;b||I;){let S=!1,N=!1;if(b&&I){const L=p(b,I);L<0?N=!0:L>0&&(S=!0)}else b!=null?N=!0:S=!0;S?(y(I),I=Gc(T)):N?(_(b),b=Gc(v)):(b=Gc(v),I=Gc(T))}})(i,s,eo,(c=>{o.push(this.Hn(e,t,r,c))}),(c=>{o.push(this.Yn(e,t,r,c))})),oe.waitFor(o)}Gn(e){let t=1;return Qc(e).ee({index:mP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((o,c)=>eo(o,c))).filter(((o,c,u)=>!c||eo(o,u[c-1])!==0));const i=[];i.push(e);for(const o of r){const c=eo(o,e),u=eo(o,t);if(c===0)i[0]=e.An();else if(c>0&&u<0)i.push(o),i.push(o.An());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Zn(i[o],i[o+1]))return[];const c=i[o].Vn(this.uid,Ip,Ue.empty()),u=i[o+1].Vn(this.uid,Ip,Ue.empty());s.push(IDBKeyRange.bound(c,u))}return s}Zn(e,t){return eo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gI)}getMinOffset(e,t){return oe.mapArray(this.Mn(t),(r=>this.xn(e,r).next((i=>i||$e(44426))))).next(gI)}}function pI(n){return Vn(n,ef)}function Kc(n){return Vn(n,Ph)}function th(n){return Vn(n,Nw)}function Qc(n){return Vn(n,Ch)}function gI(n){Ye(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Pw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new vi(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wk=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n,e,t){const r=n.store(is),i=n.store(Tu),s=[],o=IDBKeyRange.only(t.batchId);let c=0;const u=r.ee({range:o},((p,y,_)=>(c++,_.delete())));s.push(u.next((()=>{Ye(c===1,47070,{batchId:t.batchId})})));const h=[];for(const p of t.mutations){const y=dP(e,p.key.path,t.batchId);s.push(i.delete(y)),h.push(p.key)}return oe.waitFor(s).next((()=>h))}function Sg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw $e(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(wk,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);class Iy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){Ye(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Iy(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return to(e).ee({index:Il,range:r},((i,s,o)=>{t=!1,o.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const s=ru(e),o=to(e);return o.add({}).next((c=>{Ye(typeof c=="number",49019);const u=new zw(c,t,r,i),h=(function(v,T,b){const I=b.baseMutations.map((N=>of(v.yt,N))),S=b.mutations.map((N=>of(v.yt,N)));return{userId:T,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:I,mutations:S}})(this.serializer,this.userId,u),p=[];let y=new Vt(((_,v)=>ht(_.canonicalString(),v.canonicalString())));for(const _ of i){const v=dP(this.userId,_.key.path,c);y=y.add(_.key.path.popLast()),p.push(o.put(h)),p.push(s.put(v,KL))}return y.forEach((_=>{p.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[c]=u.keys()})),oe.waitFor(p).next((()=>u))}))}lookupMutationBatch(e,t){return to(e).get(t).next((r=>r?(Ye(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),wl(this.serializer,r)):null))}er(e,t){return this.Xn[t]?oe.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return to(e).ee({index:Il,range:i},((o,c,u)=>{c.userId===this.userId&&(Ye(c.batchId>=r,47524,{tr:r}),s=wl(this.serializer,c)),u.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=po;return to(e).ee({index:Il,range:t,reverse:!0},((i,s,o)=>{r=s.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,po],[this.userId,Number.POSITIVE_INFINITY]);return to(e).J(Il,t).next((r=>r.map((i=>wl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$p(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return ru(e).ee({range:i},((o,c,u)=>{const[h,p,y]=o,_=Rs(p);if(h===this.userId&&t.path.isEqual(_))return to(e).get(y).next((v=>{if(!v)throw $e(61480,{nr:o,batchId:y});Ye(v.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:v.userId,batchId:y}),s.push(wl(this.serializer,v))}));u.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(ht);const i=[];return t.forEach((s=>{const o=$p(this.userId,s.path),c=IDBKeyRange.lowerBound(o),u=ru(e).ee({range:c},((h,p,y)=>{const[_,v,T]=h,b=Rs(v);_===this.userId&&s.path.isEqual(b)?r=r.add(T):y.done()}));i.push(u)})),oe.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=$p(this.userId,r),o=IDBKeyRange.lowerBound(s);let c=new Vt(ht);return ru(e).ee({range:o},((u,h,p)=>{const[y,_,v]=u,T=Rs(_);y===this.userId&&r.isPrefixOf(T)?T.length===i&&(c=c.add(v)):p.done()})).next((()=>this.rr(e,c)))}rr(e,t){const r=[],i=[];return t.forEach((s=>{i.push(to(e).get(s).next((o=>{if(o===null)throw $e(35274,{batchId:s});Ye(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(wl(this.serializer,o))})))})),oe.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return bk(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),oe.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),i=[];return ru(e).ee({range:r},((s,o,c)=>{if(s[0]===this.userId){const u=Rs(s[1]);i.push(u)}else c.done()})).next((()=>{Ye(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,t){return Tk(e,this.userId,t)}_r(e){return Ek(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:po,lastStreamToken:""}))}}function Tk(n,e,t){const r=$p(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ru(n).ee({range:s,X:!0},((c,u,h)=>{const[p,y,_]=c;p===e&&y===i&&(o=!0),h.done()})).next((()=>o))}function to(n){return Vn(n,is)}function ru(n){return Vn(n,Tu)}function Ek(n){return Vn(n,Xh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Wl(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>tt.fromTimestamp(new Dt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Yc(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ye(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let i=0;const s=[];return Yc(e).ee(((o,c)=>{const u=gh(c);u.sequenceNumber<=t&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))})).next((()=>oe.waitFor(s))).next((()=>i))}forEachTarget(e,t){return Yc(e).ee(((r,i)=>{const s=gh(i);t(s)}))}lr(e){return _I(e).get(wg).next((t=>(Ye(t!==null,2888),t)))}hr(e,t){return _I(e).put(wg,t)}Pr(e,t){return Yc(e).put(yk(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Vl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Yc(e).ee({range:i,index:fP},((o,c,u)=>{const h=gh(c);Of(t,h.target)&&(s=h,u.done())})).next((()=>s))}addMatchingKeys(e,t,r){const i=[],s=io(e);return t.forEach((o=>{const c=wr(o.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,o))})),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=io(e);return oe.forEach(t,(s=>{const o=wr(s.path);return oe.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,t){const r=io(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=io(e);let s=mt();return i.ee({range:r,X:!0},((o,c,u)=>{const h=Rs(o[1]),p=new Ue(h);s=s.add(p)})).next((()=>s))}containsKey(e,t){const r=wr(t.path),i=IDBKeyRange.bound([r],[tP(r)],!1,!0);let s=0;return io(e).ee({index:Aw,X:!0,range:i},(([o,c],u,h)=>{o!==0&&(s++,h.done())})).next((()=>s>0))}At(e,t){return Yc(e).get(t).next((r=>r?gh(r):null))}}function Yc(n){return Vn(n,Eu)}function _I(n){return Vn(n,Nl)}function io(n){return Vn(n,xu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="LruGarbageCollector",gM=1048576;function wI([n,e],[t,r]){const i=ht(n,t);return i===0?ht(e,r):i}class yM{constructor(e){this.Ir=e,this.buffer=new Vt(wI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(vI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?De(vI,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.Vr(3e5)}))}}class _M{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Gr.ce);const r=new yM(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(yI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yI):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,c,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,t)))).next((y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(h=Date.now(),Zc()<=vt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${y} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y}))))}}function Ik(n,e){return new _M(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t){this.db=e,this.garbageCollector=Ik(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,i)=>t(i)))}addReference(e,t,r){return Sp(e,r)}removeReference(e,t,r){return Sp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Sp(e,t)}br(e,t){return(function(i,s){let o=!1;return Ek(i).te((c=>Tk(i,c,s).next((u=>(u&&(o=!0),oe.resolve(!u)))))).next((()=>o))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((o,c)=>{if(c<=t){const u=this.br(e,o).next((h=>{if(!h)return s++,r.getEntry(e,o).next((()=>(r.removeEntry(o,tt.min()),io(e).delete((function(y){return[0,wr(y.path)]})(o)))))}));i.push(u)}})).next((()=>oe.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Sp(e,t)}Sr(e,t){const r=io(e);let i,s=Gr.ce;return r.ee({index:Aw},(([o,c],{path:u,sequenceNumber:h})=>{o===0?(s!==Gr.ce&&t(new Ue(Rs(i)),s),s=h,i=u):s=Gr.ce})).next((()=>{s!==Gr.ce&&t(new Ue(Rs(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sp(n,e){return io(n).put((function(r,i){return{targetId:0,path:wr(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.changes=new xa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ml(e).put(r)}removeEntry(e,t,r){return ml(e).delete((function(s,o){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],xg(o),c[c.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Qt.newInvalidDocument(t);return ml(e).ee({index:Gp,range:IDBKeyRange.only(nh(t))},((i,s)=>{r=this.Cr(t,s)})).next((()=>r))}vr(e,t){let r={size:0,document:Qt.newInvalidDocument(t)};return ml(e).ee({index:Gp,range:IDBKeyRange.only(nh(t))},((i,s)=>{r={document:this.Cr(t,s),size:Sg(s)}})).next((()=>r))}getEntries(e,t){let r=Kr();return this.Fr(e,t,((i,s)=>{const o=this.Cr(i,s);r=r.insert(i,o)})).next((()=>r))}Mr(e,t){let r=Kr(),i=new fn(Ue.comparator);return this.Fr(e,t,((s,o)=>{const c=this.Cr(s,o);r=r.insert(s,c),i=i.insert(s,Sg(o))})).next((()=>({documents:r,Or:i})))}Fr(e,t,r){if(t.isEmpty())return oe.resolve();let i=new Vt(EI);t.forEach((u=>i=i.add(u)));const s=IDBKeyRange.bound(nh(i.first()),nh(i.last())),o=i.getIterator();let c=o.getNext();return ml(e).ee({index:Gp,range:s},((u,h,p)=>{const y=Ue.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&EI(c,y)<0;)r(c,null),c=o.getNext();c&&c.isEqual(y)&&(r(c,h),c=o.hasNext()?o.getNext():null),c?p.j(nh(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),xg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ml(e).J(IDBKeyRange.bound(c,u,!0)).next((h=>{s==null||s.incrementDocumentReadCount(h.length);let p=Kr();for(const y of h){const _=this.Cr(Ue.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);_.isFoundDocument()&&(Vf(t,_)||i.has(_.key))&&(p=p.insert(_.key,_))}return p}))}getAllFromCollectionGroup(e,t,r,i){let s=Kr();const o=TI(t,r),c=TI(t,vi.max());return ml(e).ee({index:hP,range:IDBKeyRange.bound(o,c,!0)},((u,h,p)=>{const y=this.Cr(Ue.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(y.key,y),s.size===i&&p.done()})).next((()=>s))}newChangeBuffer(e){return new bM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return bI(e).get(D0).next((t=>(Ye(!!t,20021),t)))}Dr(e,t){return bI(e).put(D0,t)}Cr(e,t){if(t){const r=sM(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(tt.min())))return r}return Qt.newInvalidDocument(e)}}function Ck(n){return new wM(n)}class bM extends Sk{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new xa((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new Vt(((s,o)=>ht(s.canonicalString(),o.canonicalString())));return this.changes.forEach(((s,o)=>{const c=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,c.readTime)),o.isValidDocument()){const u=iI(this.Nr.serializer,o);i=i.add(s.path.popLast());const h=Sg(u);r+=h-c.size,t.push(this.Nr.addEntry(e,s,u))}else if(r-=c.size,this.trackRemovals){const u=iI(this.Nr.serializer,o.convertToNoDocument(tt.min()));t.push(this.Nr.addEntry(e,s,u))}})),i.forEach((s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.Nr.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:i})=>(i.forEach(((s,o)=>{this.Br.set(s,{size:o,readTime:r.get(s).readTime})})),r)))}}function bI(n){return Vn(n,Zh)}function ml(n){return Vn(n,vg)}function nh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TI(n,e){const t=e.documentKey.path.toArray();return[n,xg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function EI(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=ht(t[s],r[s]),i)return i;return i=ht(t.length,r.length),i||(i=ht(t[t.length-2],r[r.length-2]),i||ht(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Nh(r.mutation,i,qr.empty(),Dt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,mt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=mt()){const i=Ds();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let o=mh();return s.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=Ds();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,mt())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,r,i){let s=Kr();const o=Ah(),c=(function(){return Ah()})();return t.forEach(((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ia)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Nh(p.mutation,h,p.mutation.getFieldMask(),Dt.now())):o.set(h.key,qr.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((h,p)=>o.set(h,p))),t.forEach(((h,p)=>c.set(h,new TM(p,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Ah();let i=new fn(((o,c)=>o-c)),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((u=>{const h=t.get(u);if(h===null)return;let p=r.get(u)||qr.empty();p=c.applyToLocalView(h,p),r.set(u,p);const y=(i.get(c.batchId)||mt()).add(u);i=i.insert(c.batchId,y)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,y=HP();p.forEach((_=>{if(!s.has(_)){const v=JP(t.get(_),r.get(_));v!==null&&y.set(_,v),s=s.add(_)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,y))}return oe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return Ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):oe.resolve(Ds());let c=bu,u=s;return o.next((h=>oe.forEach(h,((p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?oe.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{u=u.insert(p,_)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,u,h,mt()))).next((p=>({batchId:c,changes:WP(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next((r=>{let i=mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=mh();return this.indexManager.getCollectionParents(e,s).next((c=>oe.forEach(c,(u=>{const h=(function(y,_){return new Ea(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((y,_)=>{o=o.insert(y,_)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((o=>{s.forEach(((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,Qt.newInvalidDocument(p)))}));let c=mh();return o.forEach(((u,h)=>{const p=s.get(u);p!==void 0&&Nh(p.mutation,h,qr.empty(),Dt.now()),Vf(t,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:Gw(i.bundledQuery),readTime:bn(i.readTime)}})(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.overlays=new fn(Ue.comparator),this.qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ds();return oe.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Ds(),s=t.length+1,o=new Ue(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new fn(((h,p)=>h-p));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ds(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Ds(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return oe.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ww(t,r));let s=this.qr.get(t);s===void 0&&(s=mt(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.Qr=new Vt(qn.$r),this.Ur=new Vt(qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new qn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new qn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ue(new Tt([])),r=new qn(t,e),i=new qn(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ue(new Tt([])),r=new qn(t,e),i=new qn(t,e+1);let s=mt();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new qn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ue.comparator(e.key,t.key)||ht(e.Yr,t.Yr)}static Kr(e,t){return ht(e.Yr,t.Yr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(qn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zw(s,t,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new qn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,t){return oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?po:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qn(t,0),i=new qn(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);s.push(c)})),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(ht);return t.forEach((i=>{const s=new qn(i,0),o=new qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(c=>{r=r.add(c.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ue.isDocumentKey(s)||(s=s.child(""));const o=new qn(new Ue(s),0);let c=new Vt(ht);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.Yr)),!0)}),o),oe.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(t.mutations,(i=>{const s=new qn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new qn(t,0),i=this.Zr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.ri=e,this.docs=(function(){return new fn(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=Kr();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))})),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Kr();const o=t.path,c=new Ue(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Pw(aP(p),r)<=0||(i.has(p.key)||Vf(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$e(9500)}ii(e,t){return oe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new PM(this)}getSize(e){return oe.resolve(this.size)}}class PM extends Sk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.persistence=e,this.si=new xa((t=>Vl(t)),Of),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qw,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Pr(t),oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),oe.waitFor(s).next((()=>i))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),oe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Gr(0),this.li=!1,this.li=!0,this.hi=new IM,this.referenceDelegate=e(this),this.Pi=new kM(this),this.indexManager=new fM,this.remoteDocumentCache=(function(i){return new CM(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gk(t),this.Ii=new EM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new SM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new AM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class AM extends lP{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Ri=new Qw,this.Vi=null}static mi(e){return new Sy(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const i=Ue.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,tt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Cg{constructor(e,t){this.persistence=e,this.pi=new xa((r=>wr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Ik(this,t)}static mi(e,t){return new Cg(e,t)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return oe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?oe.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,t).next((c=>{c||(r++,s.removeEntry(o,tt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}br(e,t,r){return oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.serializer=e}k(e,t,r,i){const s=new py("createOrUpgrade",t);r<1&&i>=1&&((function(u){u.createObjectStore(Lf)})(e),(function(u){u.createObjectStore(Xh,{keyPath:qL}),u.createObjectStore(is,{keyPath:Fx,autoIncrement:!0}).createIndex(Il,Lx,{unique:!0}),u.createObjectStore(Tu)})(e),xI(e),(function(u){u.createObjectStore(yl)})(e));let o=oe.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(xu),u.deleteObjectStore(Eu),u.deleteObjectStore(Nl)})(e),xI(e)),o=o.next((()=>(function(u){const h=u.store(Nl),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tt.min().toTimestamp(),targetCount:0};return h.put(wg,p)})(s)))),r<4&&i>=4&&(r!==0&&(o=o.next((()=>(function(u,h){return h.store(is).J().next((y=>{u.deleteObjectStore(is),u.createObjectStore(is,{keyPath:Fx,autoIncrement:!0}).createIndex(Il,Lx,{unique:!0});const _=h.store(is),v=y.map((T=>_.put(T)));return oe.waitFor(v)}))})(e,s)))),o=o.next((()=>{(function(u){u.createObjectStore(Iu,{keyPath:nO})})(e)}))),r<5&&i>=5&&(o=o.next((()=>this.yi(s)))),r<6&&i>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Zh)})(e),this.wi(s))))),r<7&&i>=7&&(o=o.next((()=>this.Si(s)))),r<8&&i>=8&&(o=o.next((()=>this.bi(e,s)))),r<9&&i>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(o=o.next((()=>this.Di(s)))),r<11&&i>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(gy,{keyPath:rO})})(e),(function(u){u.createObjectStore(yy,{keyPath:iO})})(e)}))),r<12&&i>=12&&(o=o.next((()=>{(function(u){const h=u.createObjectStore(_y,{keyPath:dO});h.createIndex(L0,hO,{unique:!1}),h.createIndex(gP,fO,{unique:!1})})(e)}))),r<13&&i>=13&&(o=o.next((()=>(function(u){const h=u.createObjectStore(vg,{keyPath:QL});h.createIndex(Gp,YL),h.createIndex(hP,JL)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(yl)))),r<14&&i>=14&&(o=o.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(o=o.next((()=>(function(u){u.createObjectStore(Nw,{keyPath:sO,autoIncrement:!0}).createIndex(F0,aO,{unique:!1}),u.createObjectStore(Ch,{keyPath:oO}).createIndex(mP,lO,{unique:!1}),u.createObjectStore(Ph,{keyPath:cO}).createIndex(pP,uO,{unique:!1})})(e)))),r<16&&i>=16&&(o=o.next((()=>{t.objectStore(Ch).clear()})).next((()=>{t.objectStore(Ph).clear()}))),r<17&&i>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(Rw,{keyPath:mO})})(e)}))),r<18&&i>=18&&FS()&&(o=o.next((()=>{t.objectStore(Ch).clear()})).next((()=>{t.objectStore(Ph).clear()}))),o}wi(e){let t=0;return e.store(yl).ee(((r,i)=>{t+=Sg(i)})).next((()=>{const r={byteSize:t};return e.store(Zh).put(D0,r)}))}yi(e){const t=e.store(Xh),r=e.store(is);return t.J().next((i=>oe.forEach(i,(s=>{const o=IDBKeyRange.bound([s.userId,po],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Il,o).next((c=>oe.forEach(c,(u=>{Ye(u.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const h=wl(this.serializer,u);return bk(e,s.userId,h).next((()=>{}))}))))}))))}Si(e){const t=e.store(xu),r=e.store(yl);return e.store(Nl).get(wg).next((i=>{const s=[];return r.ee(((o,c)=>{const u=new Tt(o),h=(function(y){return[0,wr(y)]})(u);s.push(t.get(h).next((p=>p?oe.resolve():(y=>t.put({targetId:0,path:wr(y),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>oe.waitFor(s)))}))}bi(e,t){e.createObjectStore(ef,{keyPath:tO});const r=t.store(ef),i=new Kw,s=o=>{if(i.add(o)){const c=o.lastSegment(),u=o.popLast();return r.put({collectionId:c,parent:wr(u)})}};return t.store(yl).ee({X:!0},((o,c)=>{const u=new Tt(o);return s(u.popLast())})).next((()=>t.store(Tu).ee({X:!0},(([o,c,u],h)=>{const p=Rs(c);return s(p.popLast())}))))}Di(e){const t=e.store(Eu);return t.ee(((r,i)=>{const s=gh(i),o=yk(this.serializer,s);return t.put(o)}))}Ci(e,t){const r=t.store(yl),i=[];return r.ee(((s,o)=>{const c=t.store(vg),u=(function(y){return y.document?new Ue(Tt.fromString(y.document.name).popFirst(5)):y.noDocument?Ue.fromSegments(y.noDocument.path):y.unknownDocument?Ue.fromSegments(y.unknownDocument.path):$e(36783)})(o).path.toArray(),h={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(c.put(h))})).next((()=>oe.waitFor(i)))}Fi(e,t){const r=t.store(is),i=Ck(this.serializer),s=new Yw(Sy.mi,this.serializer.yt);return r.J().next((o=>{const c=new Map;return o.forEach((u=>{let h=c.get(u.userId)??mt();wl(this.serializer,u).keys().forEach((p=>h=h.add(p))),c.set(u.userId,h)})),oe.forEach(c,((u,h)=>{const p=new Qn(h),y=xy.wt(this.serializer,p),_=s.getIndexManager(p),v=Iy.wt(p,this.serializer,_,s.referenceDelegate);return new Pk(i,v,y,_).recalculateAndSaveOverlaysForDocumentKeys(new O0(t,Gr.ce),u).next()}))}))}}function xI(n){n.createObjectStore(xu,{keyPath:ZL}).createIndex(Aw,eO,{unique:!0}),n.createObjectStore(Eu,{keyPath:"targetId"}).createIndex(fP,XL,{unique:!0}),n.createObjectStore(Nl)}const no="IndexedDbPersistence",Jv=18e5,Xv=5e3,Zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kk="main";class Jw{constructor(e,t,r,i,s,o,c,u,h,p,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=o,this.document=c,this.xi=h,this.Oi=p,this.Ni=y,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!Jw.v())throw new Ne(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vM(this,i),this.$i=t+kk,this.serializer=new gk(u),this.Ui=new Fs(this.$i,this.Ni,new NM(this.serializer)),this.hi=new oM,this.Pi=new pM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ck(this.serializer),this.Ii=new aM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&wn(no,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,Zv);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Cp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Bo(e))return De(no,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De(no,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return rh(e).get($c).next((t=>oe.resolve(this.es(t))))}ts(e){return Cp(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Jv)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Vn(t,Iu);return r.J().next((i=>{const s=this.ss(i,Jv),o=i.filter((c=>s.indexOf(c)===-1));return oe.forEach(o,(c=>r.delete(c.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?oe.resolve(!0):rh(e).get($c).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Xv)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,Zv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cp(e).J().next((r=>this.ss(r,Xv).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||o&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&De(no,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Lf,Iu],(e=>{const t=new O0(e,Gr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Cp(e).J().next((t=>this.ss(t,Jv).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Iy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return xy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){De(no,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(u){return u===18?yO:u===17?wP:u===16?gO:u===15?Dw:u===14?vP:u===13?_P:u===12?pO:u===11?yP:void $e(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,i,s,(c=>(o=new O0(c,this.ci?this.ci.next():Gr.ce),t==="readwrite-primary"?this.Hi(o).next((u=>!!u||this.Yi(o))).next((u=>{if(!u)throw wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ne(ve.FAILED_PRECONDITION,oP);return r(o)})).next((u=>this.Xi(o).next((()=>u)))):this.Is(o).next((()=>r(o)))))).then((c=>(o.raiseOnCommittedEvent(),c)))}Is(e){return rh(e).get($c).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Xv)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ve.FAILED_PRECONDITION,Zv)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rh(e).put($c,t)}static v(){return Fs.v()}Zi(e){const t=rh(e);return t.get($c).next((r=>this.es(r)?(De(no,"Releasing primary lease."),t.delete($c)):oe.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(wn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;DS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const r=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return De(no,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return wn(no,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){wn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rh(n){return Vn(n,Lf)}function Cp(n){return Vn(n,Iu)}function Xw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=mt(),i=mt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DS()?8:cP(dn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new RM;return this.Ss(e,t,o).next((c=>{if(s.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Zc()<=vt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Zc()<=vt.DEBUG&&De("QueryEngine","Query:",eu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Zc()<=vt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):oe.resolve())}ys(e,t){if(Kx(t))return oe.resolve(null);let r=Nr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Eg(t,null,"F"),r=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=mt(...s);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(t,c);return this.Cs(t,h,o,u.readTime)?this.ys(e,Eg(t,null,"F")):this.vs(e,h,t,u)}))))})))))}ws(e,t,r,i){return Kx(t)||i.isEqual(tt.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,r,i)?oe.resolve(null):(Zc()<=vt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eu(t)),this.vs(e,o,t,sP(i,bu)).next((c=>c)))}))}Ds(e,t){let r=new Vt(zP(e));return t.forEach(((i,s)=>{Vf(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Zc()<=vt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",eu(t)),this.ps.getDocumentsMatchingQuery(e,t,vi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="LocalStore",DM=3e8;class FM{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new fn(ht),this.xs=new xa((s=>Vl(s)),Of),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Nk(n,e,t,r){return new FM(n,e,t,r)}async function Rk(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],c=[];let u=mt();for(const h of i){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function LM(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){const y=h.batch,_=y.keys();let v=oe.resolve();return _.forEach((T=>{v=v.next((()=>p.getEntry(u,T))).next((b=>{const I=h.docVersions.get(T);Ye(I!==null,48541),b.version.compareTo(I)<0&&(y.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),p.addEntry(b)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(u,y)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=mt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function Dk(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function OM(n,e){const t=He(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((p,y)=>{const _=i.get(y);if(!_)return;c.push(t.Pi.removeMatchingKeys(s,p.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(s,p.addedDocuments,y))));let v=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?v=v.withResumeToken(pn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(y,v),(function(b,I,S){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=DM?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(_,v,p)&&c.push(t.Pi.updateTargetData(s,v))}));let u=Kr(),h=mt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(Fk(s,o,e.documentUpdates).next((p=>{u=p.ks,h=p.qs}))),!r.isEqual(tt.min())){const p=t.Pi.getLastRemoteSnapshotVersion(s).next((y=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return oe.waitFor(c).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,h))).next((()=>u))})).then((s=>(t.Ms=i,s)))}function Fk(n,e,t){let r=mt(),i=mt();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let o=Kr();return t.forEach(((c,u)=>{const h=s.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(tt.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):De(e2,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function MM(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=po),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ru(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,oe.resolve(i)):t.Pi.allocateTargetId(r).next((o=>(i=new aa(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Du(n,e,t){const r=He(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bo(o))throw o;De(e2,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Pg(n,e,t){const r=He(n);let i=tt.min(),s=mt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,p){const y=He(u),_=y.xs.get(p);return _!==void 0?oe.resolve(y.Ms.get(_)):y.Pi.getTargetData(h,p)})(r,o,Nr(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:tt.min(),t?s:mt()))).next((c=>(Mk(r,BP(e),c),{documents:c,Qs:s})))))}function Lk(n,e){const t=He(n),r=He(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((o=>o?o.target:null))))}function Ok(n,e){const t=He(n),r=t.Os.get(e)||tt.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,sP(r,bu),Number.MAX_SAFE_INTEGER))).then((i=>(Mk(t,e,i),i)))}function Mk(n,e,t){let r=n.Os.get(e)||tt.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}async function VM(n,e,t,r){const i=He(n);let s=mt(),o=Kr();for(const h of t){const p=e.$s(h.metadata.name);h.document&&(s=s.add(p));const y=e.Us(h);y.setReadTime(e.Ks(h.metadata.readTime)),o=o.insert(p,y)}const c=i.Ns.newChangeBuffer({trackRemovals:!0}),u=await Ru(i,(function(p){return Nr(Zu(Tt.fromString(`__bundle__/docs/${p}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(h=>Fk(h,c,o).next((p=>(c.apply(h),p))).next((p=>i.Pi.removeMatchingKeysForTargetId(h,u.targetId).next((()=>i.Pi.addMatchingKeys(h,s,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p.ks,p.qs))).next((()=>p.ks))))))}async function jM(n,e,t=mt()){const r=await Ru(n,Nr(Gw(e.bundledQuery))),i=He(n);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const o=bn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ii.saveNamedQuery(s,e);const c=r.withResumeToken(pn.EMPTY_BYTE_STRING,o);return i.Ms=i.Ms.insert(c.targetId,c),i.Pi.updateTargetData(s,c).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,t,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firestore_clients";function II(n,e){return`${Vk}_${n}_${e}`}const jk="firestore_mutations";function SI(n,e,t){let r=`${jk}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Bk="firestore_targets";function e0(n,e){return`${Bk}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="SharedClientState";class kg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new Ne(i.error.code,i.error.message))),o?new kg(e,t,i.state,s):(wn(Ss,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ne(r.error.code,r.error.message))),s?new Rh(e,r.state,i):(wn(Ss,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Vw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=uP(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Ag(e,s):(wn(Ss,`Failed to parse client data for instance '${e}': ${t}`),null)}}class t2{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new t2(t.clientId,t.onlineState):(wn(Ss,`Failed to parse online state: ${e}`),null)}}class X0{constructor(){this.activeTargetIds=Vw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t0{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new fn(ht),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=II(this.persistenceKey,this.Js),this.no=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new X0),this.ro=new RegExp(`^${Vk}_${o}_([^_]*)$`),this.io=new RegExp(`^${jk}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Bk}_${o}_(\\d+)$`),this.oo=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this._o=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(II(this.persistenceKey,r));if(i){const s=Ag.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(e0(this.persistenceKey,e));if(i){const s=Rh.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(e0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return De(Ss,"READ",e,t),t}setItem(e,t){De(Ss,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){De(Ss,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(De(Ss,"EVENT",t.key,t.newValue),t.key===this.eo)return void wn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(s){let o=Gr.ce;if(s!=null)try{const c=JSON.parse(s);Ye(typeof c=="number",30636,{So:s}),o=c}catch(c){wn(Ss,"Failed to read sequence number from WebStorage",c)}return o})(t.newValue);r!==Gr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new kg(this.currentUser,e,t,r),s=SI(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=SI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=e0(this.persistenceKey,e),s=new Rh(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return Ag.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return kg.Ws(new Qn(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return Rh.Ws(i,t)}uo(e){return t2.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);De(Ss,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),o=[],c=[];return s.forEach((u=>{i.has(u)||o.push(u)})),i.forEach((u=>{s.has(u)||c.push(u)})),this.syncEngine.Fo(o,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=Vw();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class zk{constructor(){this.Mo=new X0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="ConnectivityMonitor";class PI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(CI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(CI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp=null;function Z0(){return Pp===null?Pp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pp++,"0x"+Pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="RestConnection",zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===V0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const o=Z0(),c=this.zo(e,t.toUriEncodedString());De(n0,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(c),p=Mo(h);return this.Jo(e,c,u,r,p).then((y=>(De(n0,`Received RPC '${e}' ${o}: `,y),y)),(y=>{throw js(n0,`RPC '${e}' ${o} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=zM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class HM extends UM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=Z0();return new Promise(((c,u)=>{const h=new KC;h.setWithCredentials(!0),h.listenOnce(QC.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Wp.NO_ERROR:const y=h.getResponseJson();De(mr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case Wp.TIMEOUT:De(mr,`RPC '${e}' ${o} timed out`),u(new Ne(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:const _=h.getStatus();if(De(mr,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const b=(function(S){const N=S.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(N)>=0?N:ve.UNKNOWN})(T.status);u(new Ne(b,T.message))}else u(new Ne(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ne(ve.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(mr,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);De(mr,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",p,r,15)}))}T_(e,t,r){const i=Z0(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XC(),c=JC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=s.join("");De(mr,`Creating RPC '${e}' stream ${i}: ${p}`,u);const y=o.createWebChannel(p,u);this.I_(y);let _=!1,v=!1;const T=new WM({Yo:I=>{v?De(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(De(mr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),De(mr,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Zo:()=>y.close()}),b=(I,S,N)=>{I.listen(S,(L=>{try{N(L)}catch(z){setTimeout((()=>{throw z}),0)}}))};return b(y,fh.EventType.OPEN,(()=>{v||(De(mr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),b(y,fh.EventType.CLOSE,(()=>{v||(v=!0,De(mr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(y))})),b(y,fh.EventType.ERROR,(I=>{v||(v=!0,js(mr,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),T.a_(new Ne(ve.UNAVAILABLE,"The operation could not be completed")))})),b(y,fh.EventType.MESSAGE,(I=>{var S;if(!v){const N=I.data[0];Ye(!!N,16349);const L=N,z=(L==null?void 0:L.error)||((S=L[0])==null?void 0:S.error);if(z){De(mr,`RPC '${e}' stream ${i} received error:`,z);const $=z.status;let Y=(function(O){const B=Sn[O];if(B!==void 0)return ek(B)})($),F=z.message;Y===void 0&&(Y=ve.INTERNAL,F="Unknown error status: "+$+" with message "+z.message),v=!0,T.a_(new Ne(Y,F)),y.close()}else De(mr,`RPC '${e}' stream ${i} received:`,N),T.u_(N)}})),b(c,YC.STAT_EVENT,(I=>{I.stat===A0.PROXY?De(mr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===A0.NOPROXY&&De(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){return typeof window<"u"?window:null}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){return new QO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="PersistentStream";class Wk{constructor(e,t,r,i,s,o,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(wn(t.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(kI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(De(kI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $M extends Wk{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=XO(this.serializer,e),r=(function(s){if(!("targetChange"in s))return tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?bn(o.readTime):tt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=q0(this.serializer),t.addTarget=(function(s,o){let c;const u=o.target;if(c=bg(u)?{documents:uk(s,u)}:{query:dk(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=ik(s,o.resumeToken);const h=$0(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(tt.min())>0){c.readTime=Nu(s,o.snapshotVersion.toTimestamp());const h=$0(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=eM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=q0(this.serializer),t.removeTarget=e,this.q_(t)}}class GM extends Wk{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZO(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=q0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>of(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class KM extends qM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,G0(t,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ve.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,G0(t,r),i,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ve.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wn(t),this.aa=!1):De("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="RemoteStore";class YM{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Uo(this)&&(De(Hl,"Restarting streams for network reachability change."),await(async function(u){const h=He(u);h.Ea.add(4),await nd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Wf(h)})(this))}))})),this.Ra=new QM(r,i)}}async function Wf(n){if(Uo(n))for(const e of n.da)await e(!0)}async function nd(n){for(const e of n.da)await e(!1)}function Cy(n,e){const t=He(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),s2(t)?i2(t):id(t).O_()&&r2(t,e))}function Fu(n,e){const t=He(n),r=id(t);t.Ia.delete(e),r.O_()&&Hk(t,e),t.Ia.size===0&&(r.O_()?r.L_():Uo(t)&&t.Ra.set("Unknown"))}function r2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}id(n).Y_(e)}function Hk(n,e){n.Va.Ue(e),id(n).Z_(e)}function i2(n){n.Va=new $O({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),id(n).start(),n.Ra.ua()}function s2(n){return Uo(n)&&!id(n).x_()&&n.Ia.size>0}function Uo(n){return He(n).Ea.size===0}function $k(n){n.Va=void 0}async function JM(n){n.Ra.set("Online")}async function XM(n){n.Ia.forEach(((e,t)=>{r2(n,e)}))}async function ZM(n,e){$k(n),s2(n)?(n.Ra.ha(e),i2(n)):n.Ra.set("Unknown")}async function eV(n,e,t){if(n.Ra.set("Online"),e instanceof rk&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(n,e)}catch(r){De(Hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ng(n,r)}else if(e instanceof Jp?n.Va.Ze(e):e instanceof nk?n.Va.st(e):n.Va.tt(e),!t.isEqual(tt.min()))try{const r=await Dk(n.localStore);t.compareTo(r)>=0&&await(function(s,o){const c=s.Va.Tt(o);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,h)=>{const p=s.Ia.get(u);if(!p)return;s.Ia.set(u,p.withResumeToken(pn.EMPTY_BYTE_STRING,p.snapshotVersion)),Hk(s,u);const y=new aa(p.target,u,h,p.sequenceNumber);r2(s,y)})),s.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){De(Hl,"Failed to raise snapshot:",r),await Ng(n,r)}}async function Ng(n,e,t){if(!Bo(e))throw e;n.Ea.add(1),await nd(n),n.Ra.set("Offline"),t||(t=()=>Dk(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{De(Hl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wf(n)}))}function Gk(n,e){return e().catch((t=>Ng(n,t,e)))}async function rd(n){const e=He(n),t=ko(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:po;for(;tV(e);)try{const i=await MM(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,nV(e,i)}catch(i){await Ng(e,i)}qk(e)&&Kk(e)}function tV(n){return Uo(n)&&n.Ta.length<10}function nV(n,e){n.Ta.push(e);const t=ko(n);t.O_()&&t.X_&&t.ea(e.mutations)}function qk(n){return Uo(n)&&!ko(n).x_()&&n.Ta.length>0}function Kk(n){ko(n).start()}async function rV(n){ko(n).ra()}async function iV(n){const e=ko(n);for(const t of n.Ta)e.ea(t.mutations)}async function sV(n,e,t){const r=n.Ta.shift(),i=Uw.from(r,e,t);await Gk(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await rd(n)}async function aV(n,e){e&&ko(n).X_&&await(async function(r,i){if((function(o){return ZP(o)&&o!==ve.ABORTED})(i.code)){const s=r.Ta.shift();ko(r).B_(),await Gk(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await rd(r)}})(n,e),qk(n)&&Kk(n)}async function AI(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),De(Hl,"RemoteStore received new credentials");const r=Uo(t);t.Ea.add(3),await nd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wf(t)}async function e1(n,e){const t=He(n);e?(t.Ea.delete(2),await Wf(t)):e||(t.Ea.add(2),await nd(t),t.Ra.set("Unknown"))}function id(n){return n.ma||(n.ma=(function(t,r,i){const s=He(t);return s.sa(),new $M(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:JM.bind(null,n),t_:XM.bind(null,n),r_:ZM.bind(null,n),H_:eV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),s2(n)?i2(n):n.Ra.set("Unknown")):(await n.ma.stop(),$k(n))}))),n.ma}function ko(n){return n.fa||(n.fa=(function(t,r,i){const s=He(t);return s.sa(),new GM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:rV.bind(null,n),r_:aV.bind(null,n),ta:iV.bind(null,n),na:sV.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await rd(n)):(await n.fa.stop(),n.Ta.length>0&&(De(Hl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,c=new a2(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(n,e){if(wn("AsyncQueue",`${e}: ${n}`),Bo(n))return new Ne(ve.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{static emptySet(e){return new hu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ue.comparator(t.key,r.key):(t,r)=>Ue.comparator(t.key,r.key),this.keyedMap=mh(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.ga=new fn(Ue.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Lu{constructor(e,t,r,i,s,o,c,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new Lu(e,t,hu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lV{constructor(){this.queries=RI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=He(t),s=i.queries;i.queries=RI(),s.forEach(((o,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new Ne(ve.ABORTED,"Firestore shutting down"))}}function RI(){return new xa((n=>jP(n)),Mf)}async function o2(n,e){const t=He(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new oV,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const c=sd(o,`Initialization of query '${eu(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&c2(t)}async function l2(n,e){const t=He(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cV(n,e){const t=He(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&c2(t)}function uV(n,e,t){const r=He(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function c2(n){n.Ca.forEach((e=>{e.next()}))}var t1,DI;(DI=t1||(t1={})).Ma="default",DI.Cache="cache";class u2{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t1.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.serializer=e}$s(e){return Ls(this.serializer,e)}Us(e){return e.metadata.exists?ck(this.serializer,e.document,!1):Qt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return bn(e)}}class hV{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Qk(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=Tt.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new FI(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const o of i.metadata.queries){const c=(t.get(o)||mt()).add(s);t.set(o,c)}}return t}async ja(e){const t=await VM(e,new FI(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await jM(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Qk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.key=e}}class Jk{constructor(e){this.key=e}}class Xk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=zP(e),this.tu=new hu(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new NI,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,y)=>{const _=i.get(p),v=Vf(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;_&&v?_.data.isEqual(v.data)?T!==b&&(r.track({type:3,doc:v}),I=!0):this.su(_,v)||(r.track({type:2,doc:v}),I=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(c=!0)):!_&&v?(r.track({type:0,doc:v}),I=!0):_&&!v&&(r.track({type:1,doc:_}),I=!0,(u||h)&&(c=!0)),I&&(v?(o=o.add(v),s=b?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,y)=>(function(v,T){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:I})}};return b(v)-b(T)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new Lu(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Jk(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Yk(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=mt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wo="SyncEngine";class fV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mV{constructor(e){this.key=e,this.hu=!1}}class pV{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new xa((c=>jP(c)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new fn(Ue.comparator),this.Au=new Map,this.Ru=new Qw,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gV(n,e,t=!0){const r=Py(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Zk(r,e,t,!0),i}async function yV(n,e){const t=Py(n);await Zk(t,e,!0,!1)}async function Zk(n,e,t,r){const i=await Ru(n.localStore,Nr(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await d2(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Cy(n.remoteStore,i),c}async function d2(n,e,t,r,i){n.pu=(y,_,v)=>(async function(b,I,S,N){let L=I.view.ru(S);L.Cs&&(L=await Pg(b.localStore,I.query,!1).then((({documents:F})=>I.view.ru(F,L))));const z=N&&N.targetChanges.get(I.targetId),$=N&&N.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(L,b.isPrimaryClient,z,$);return n1(b,I.targetId,Y.au),Y.snapshot})(n,y,_,v);const s=await Pg(n.localStore,e,!0),o=new Xk(e,s.Qs),c=o.ru(s.documents),u=zf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=o.applyChanges(c,n.isPrimaryClient,u);n1(n,t,h.au);const p=new fV(e,t,o);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function _V(n,e,t){const r=He(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!Mf(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Du(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Fu(r.remoteStore,i.targetId),Ou(r,i.targetId)})).catch(jo)):(Ou(r,i.targetId),await Du(r.localStore,i.targetId,!0))}async function vV(n,e){const t=He(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Fu(t.remoteStore,r.targetId))}async function wV(n,e,t){const r=p2(n);try{const i=await(function(o,c){const u=He(o),h=Dt.now(),p=c.reduce(((v,T)=>v.add(T.key)),mt());let y,_;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=Kr(),b=mt();return u.Ns.getEntries(v,p).next((I=>{T=I,T.forEach(((S,N)=>{N.isValidDocument()||(b=b.add(S))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,T))).next((I=>{y=I;const S=[];for(const N of c){const L=UO(N,y.get(N.key).overlayedDocument);L!=null&&S.push(new Ia(N.key,L,AP(L.value.mapValue),tn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,S,c)})).next((I=>{_=I;const S=I.applyToLocalDocumentSet(y,b);return u.documentOverlayCache.saveOverlays(v,I.batchId,S)}))})).then((()=>({batchId:_.batchId,changes:WP(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new fn(ht)),h=h.insert(c,u),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,t),await Sa(r,i.changes),await rd(r.remoteStore)}catch(i){const s=sd(i,"Failed to persist write");t.reject(s)}}async function e6(n,e){const t=He(n);try{const r=await OM(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=t.Au.get(s);o&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ye(o.hu,14607):i.removedDocuments.size>0&&(Ye(o.hu,42227),o.hu=!1))})),await Sa(t,r,e)}catch(r){await jo(r)}}function LI(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const u=He(o);u.onlineState=c;let h=!1;u.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(c)&&(h=!0)})),h&&c2(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bV(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new fn(Ue.comparator);o=o.insert(s,Qt.newNoDocument(s,tt.min()));const c=mt().add(s),u=new Bf(tt.min(),new Map,new fn(ht),o,c);await e6(r,u),r.du=r.du.remove(s),r.Au.delete(e),m2(r)}else await Du(r.localStore,e,!1).then((()=>Ou(r,e,t))).catch(jo)}async function TV(n,e){const t=He(n),r=e.batch.batchId;try{const i=await LM(t.localStore,e);f2(t,r,null),h2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Sa(t,i)}catch(i){await jo(i)}}async function EV(n,e,t){const r=He(n);try{const i=await(function(o,c){const u=He(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next((y=>(Ye(y!==null,37113),p=y.keys(),u.mutationQueue.removeMutationBatch(h,y)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);f2(r,e,t),h2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Sa(r,i)}catch(i){await jo(i)}}async function xV(n,e){const t=He(n);Uo(t.remoteStore)||De(Wo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(o){const c=He(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(t.localStore);if(r===po)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=sd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function h2(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function f2(n,e,t){const r=He(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ou(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||t6(n,r)}))}function t6(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Fu(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),m2(n))}function n1(n,e,t){for(const r of t)r instanceof Yk?(n.Ru.addReference(r.key,e),IV(n,r)):r instanceof Jk?(De(Wo,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||t6(n,r.key)):$e(19791,{wu:r})}function IV(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(De(Wo,"New document in limbo: "+t),n.Eu.add(r),m2(n))}function m2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ue(Tt.fromString(e)),r=n.fu.next();n.Au.set(r,new mV(t)),n.du=n.du.insert(t,r),Cy(n.remoteStore,new aa(Nr(Zu(t.path)),r,"TargetPurposeLimboResolution",Gr.ce))}}async function Sa(n,e,t){const r=He(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{o.push(r.pu(u,e,t).then((h=>{var p;if((h||t)&&r.isPrimaryClient){const y=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Zw.As(u.targetId,h);s.push(y)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,h){const p=He(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(h,(_=>oe.forEach(_.Es,(v=>p.persistence.referenceDelegate.addReference(y,_.targetId,v))).next((()=>oe.forEach(_.ds,(v=>p.persistence.referenceDelegate.removeReference(y,_.targetId,v)))))))))}catch(y){if(!Bo(y))throw y;De(e2,"Failed to update sequence numbers: "+y)}for(const y of h){const _=y.targetId;if(!y.fromCache){const v=p.Ms.get(_),T=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(_,b)}}})(r.localStore,s))}async function SV(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){De(Wo,"User change. New user:",e.toKey());const r=await Rk(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((u=>{u.reject(new Ne(ve.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sa(t,r.Ls)}}function CV(n,e){const t=He(n),r=t.Au.get(e);if(r&&r.hu)return mt().add(r.key);{let i=mt();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const c=t.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}async function PV(n,e){const t=He(n),r=await Pg(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&n1(t,e.targetId,i.au),i}async function kV(n,e){const t=He(n);return Ok(t.localStore,e).then((r=>Sa(t,r)))}async function AV(n,e,t,r){const i=He(n),s=await(function(c,u){const h=He(c),p=He(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",(y=>p.er(y,u).next((_=>_?h.localDocuments.getDocuments(y,_):oe.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await rd(i.remoteStore):t==="acknowledged"||t==="rejected"?(f2(i,e,r||null),h2(i,e),(function(c,u){He(He(c).mutationQueue).ir(u)})(i.localStore,e)):$e(6720,"Unknown batchState",{Su:t}),await Sa(i,s)):De(Wo,"Cannot apply mutation batch with id: "+e)}async function NV(n,e){const t=He(n);if(Py(t),p2(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await OI(t,r.toArray());t.gu=!0,await e1(t.remoteStore,!0);for(const s of i)Cy(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then((()=>(Ou(t,o),Du(t.localStore,o,!0)))),Fu(t.remoteStore,o)})),await i,await OI(t,r),(function(o){const c=He(o);c.Au.forEach(((u,h)=>{Fu(c.remoteStore,h)})),c.Ru.Jr(),c.Au=new Map,c.du=new fn(Ue.comparator)})(t),t.gu=!1,await e1(t.remoteStore,!1)}}async function OI(n,e,t){const r=He(n),i=[],s=[];for(const o of e){let c;const u=r.Iu.get(o);if(u&&u.length!==0){c=await Ru(r.localStore,Nr(u[0]));for(const h of u){const p=r.Tu.get(h),y=await PV(r,p);y.snapshot&&s.push(y.snapshot)}}else{const h=await Lk(r.localStore,o);c=await Ru(r.localStore,h),await d2(r,n6(h),o,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function n6(n){return VP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RV(n){return(function(t){return He(He(t).persistence).Ts()})(He(n).localStore)}async function DV(n,e,t,r){const i=He(n);if(i.gu)return void De(Wo,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=await Ok(i.localStore,BP(s[0])),c=Bf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",pn.EMPTY_BYTE_STRING);await Sa(i,o,c);break}case"rejected":await Du(i.localStore,e,!0),Ou(i,e,r);break;default:$e(64155,t)}}async function FV(n,e,t){const r=Py(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){De(Wo,"Adding an already active target "+i);continue}const s=await Lk(r.localStore,i),o=await Ru(r.localStore,s);await d2(r,n6(s),o.targetId,!1,o.resumeToken),Cy(r.remoteStore,o)}for(const i of t)r.Iu.has(i)&&await Du(r.localStore,i,!1).then((()=>{Fu(r.remoteStore,i),Ou(r,i)})).catch(jo)}}function Py(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.Pu.H_=cV.bind(null,e.eventManager),e.Pu.yu=uV.bind(null,e.eventManager),e}function p2(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EV.bind(null,e),e}function LV(n,e,t){const r=He(n);(async function(s,o,c){try{const u=await o.getMetadata();if(await(function(v,T){const b=He(v),I=bn(T.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",(S=>b.Ii.getBundleMetadata(S,T.id))).then((S=>!!S&&S.createTime.compareTo(I)>=0))})(s.localStore,u))return await o.close(),c._completeWith((function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}})(u)),Promise.resolve(new Set);c._updateProgress(Qk(u));const h=new hV(u,o.serializer);let p=await o.bu();for(;p;){const _=await h.Ga(p);_&&c._updateProgress(_),p=await o.bu()}const y=await h.ja(s.localStore);return await Sa(s,y.Ha,void 0),await(function(v,T){const b=He(v);return b.persistence.runTransaction("Save bundle","readwrite",(I=>b.Ii.saveBundleMetadata(I,T)))})(s.localStore,u),c._completeWith(y.progress),Promise.resolve(y.Ja)}catch(u){return js(Wo,`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Nk(this.persistence,new Ak,e.initialUser,this.serializer)}Cu(e){return new Yw(Sy.mi,this.serializer)}Du(e){return new zk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class OV extends lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof Cg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new Yw((r=>Cg.mi(r,t)),this.serializer)}}class r6 extends lf{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await p2(this.xu.syncEngine),await rd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return Nk(this.persistence,new Ak,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new xk(r,e.asyncQueue,t)}Mu(e,t){const r=new $L(t,this.persistence);return new HL(e.asyncQueue,r)}Cu(e){const t=Xw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new Jw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Uk(),Zp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new zk}}class MV extends r6{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof t0&&(this.sharedClientState.syncEngine={Co:AV.bind(null,t),vo:DV.bind(null,t),Fo:FV.bind(null,t),Ts:RV.bind(null,t),Do:kV.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await NV(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=Uk();if(!t0.v(t))throw new Ne(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Xw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new t0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),await e1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lV})()}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),r=(function(s){return new HM(s)})(e.databaseInfo);return(function(s,o,c,u){return new KM(s,o,c,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,o,c){return new YM(r,i,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>LI(this.syncEngine,t,0)),(function(){return PI.v()?new PI:new BM})())}createSyncEngine(e,t){return(function(i,s,o,c,u,h,p){const y=new pV(i,s,o,c,u,h);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=He(i);De(Hl,"RemoteStore shutting down."),s.Ea.add(5),await nd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}cf.provider={build:()=>new cf};function MI(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new ar,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new dV(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ne(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,s){const o=He(i),c={documents:s.map((y=>af(o.serializer,y)))},u=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Tt.emptyPath(),c,s.length),h=new Map;u.forEach((y=>{const _=JO(o.serializer,y);h.set(_.key.toString(),_)}));const p=[];return s.forEach((y=>{const _=h.get(y.toString());Ye(!!_,55234,{key:y}),p.push(_)})),p})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new td(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=Ue.fromPath(r);this.mutations.push(new Bw(i,this.precondition(i)))})),await(async function(r,i){const s=He(r),o={writes:i.map((c=>of(s.serializer,c)))};await s.Go("Commit",s.serializer.databaseId,Tt.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $e(50498,{Gu:e.constructor.name});t=tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(tt.min())?tn.exists(!1):tn.updateTime(t):tn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tt.min()))throw new Ne(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tn.updateTime(t)}return tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new n2(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new jV(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Ff(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ZP(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class zV{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=Sw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{De(Ao,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(De(Ao,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sd(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function r0(n,e){n.asyncQueue.verifyOperationInProgress(),De(Ao,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Rk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function VI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await g2(n);De(Ao,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>AI(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>AI(e.remoteStore,i))),n._onlineComponents=e}async function g2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De(Ao,"Using user provided OfflineComponentProvider");try{await r0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;js("Error using user provided cache. Falling back to memory cache: "+t),await r0(n,new lf)}}else De(Ao,"Using default OfflineComponentProvider"),await r0(n,new OV(void 0));return n._offlineComponents}async function Ay(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De(Ao,"Using user provided OnlineComponentProvider"),await VI(n,n._uninitializedComponentsProvider._online)):(De(Ao,"Using default OnlineComponentProvider"),await VI(n,new cf))),n._onlineComponents}function i6(n){return g2(n).then((e=>e.persistence))}function y2(n){return g2(n).then((e=>e.localStore))}function s6(n){return Ay(n).then((e=>e.remoteStore))}function _2(n){return Ay(n).then((e=>e.syncEngine))}function UV(n){return Ay(n).then((e=>e.datastore))}async function Mu(n){const e=await Ay(n),t=e.eventManager;return t.onListen=gV.bind(null,e.syncEngine),t.onUnlisten=_V.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vV.bind(null,e.syncEngine),t}function WV(n){return n.asyncQueue.enqueue((async()=>{const e=await i6(n),t=await s6(n);return e.setNetworkEnabled(!0),(function(i){const s=He(i);return s.Ea.delete(0),Wf(s)})(t)}))}function HV(n){return n.asyncQueue.enqueue((async()=>{const e=await i6(n),t=await s6(n);return e.setNetworkEnabled(!1),(async function(i){const s=He(i);s.Ea.add(0),await nd(s),s.Ra.set("Offline")})(t)}))}function $V(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,o){try{const c=await(function(h,p){const y=He(h);return y.persistence.runTransaction("read document","readonly",(_=>y.localDocuments.getDocument(_,p)))})(i,s);c.isFoundDocument()?o.resolve(c):c.isNoDocument()?o.resolve(null):o.reject(new Ne(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=sd(c,`Failed to get document '${s} from cache`);o.reject(u)}})(await y2(n),e,t))),t.promise}function a6(n,e,t={}){const r=new ar;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,u,h){const p=new ky({next:_=>{p.Nu(),o.enqueueAndForget((()=>l2(s,y)));const v=_.docs.has(c);!v&&_.fromCache?h.reject(new Ne(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?h.reject(new Ne(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new u2(Zu(c.path),p,{includeMetadataChanges:!0,qa:!0});return o2(s,y)})(await Mu(n),n.asyncQueue,e,t,r))),r.promise}function GV(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,o){try{const c=await Pg(i,s,!0),u=new Xk(s,c.Qs),h=u.ru(c.documents),p=u.applyChanges(h,!1);o.resolve(p.snapshot)}catch(c){const u=sd(c,`Failed to execute query '${s} against cache`);o.reject(u)}})(await y2(n),e,t))),t.promise}function o6(n,e,t={}){const r=new ar;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,u,h){const p=new ky({next:_=>{p.Nu(),o.enqueueAndForget((()=>l2(s,y))),_.fromCache&&u.source==="server"?h.reject(new Ne(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new u2(c,p,{includeMetadataChanges:!0,qa:!0});return o2(s,y)})(await Mu(n),n.asyncQueue,e,t,r))),r.promise}function qV(n,e){const t=new ky(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,s){He(i).Ca.add(s),s.next()})(await Mu(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,s){He(i).Ca.delete(s)})(await Mu(n),t)))}}function KV(n,e,t,r){const i=(function(o,c){let u;return u=typeof o=="string"?tk().encode(o):o,(function(p,y){return new VV(p,y)})((function(p,y){if(p instanceof Uint8Array)return MI(p,y);if(p instanceof ArrayBuffer)return MI(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),c)})(t,Uf(e));n.asyncQueue.enqueueAndForget((async()=>{LV(await _2(n),i,r)}))}function QV(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const s=He(r);return s.persistence.runTransaction("Get named query","readonly",(o=>s.Ii.getNamedQuery(o,i)))})(await y2(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="firestore.googleapis.com",BI=!0;class zI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c6,this.ssl=BI}else this.host=e.host,this.ssl=e.ssl??BI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gM)throw new Ne(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RL;switch(r.type){case"firstParty":return new OL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=jI.get(t);r&&(De("ComponentProvider","Removing Datastore"),jI.delete(t),r.terminate())})(this),Promise.resolve()}}function YV(n,e,t,r={}){var h;n=Rt(n,Hf);const i=Mo(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(Y1(`https://${c}`),J1("Firestore",!0)),s.host!==c6&&s.host!==c&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:c,ssl:i,emulatorOptions:r};if(!fa(u,o)&&(n._setSettings(u),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Qn.MOCK_USER;else{p=kS(r.mockUserToken,(h=n._app)==null?void 0:h.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ne(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Qn(_)}n._authCredentials=new DL(new eP(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr=class u6{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new u6(this.firestore,e,this._query)}},$t=class yh{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yh(this.firestore,e,this._key)}toJSON(){return{type:yh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Df(t,yh._jsonSchema))return new yh(e,r||null,new Ue(Tt.fromString(t.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:kn("string",$t._jsonSchemaVersion),referencePath:kn("string")};let yo=class d6 extends Rr{constructor(e,t,r){super(e,t,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Ue(e))}withConverter(e){return new d6(this.firestore,e,this._path)}};function h6(n,e,...t){if(n=Ke(n),Cw("collection","path",e),n instanceof Hf){const r=Tt.fromString(e,...t);return kx(r),new yo(n,null,r)}{if(!(n instanceof $t||n instanceof yo))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return kx(r),new yo(n.firestore,null,r)}}function JV(n,e){if(n=Rt(n,Hf),Cw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rr(n,null,(function(r){return new Ea(Tt.emptyPath(),r)})(e))}function Rg(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=Sw.newId()),Cw("doc","path",e),n instanceof Hf){const r=Tt.fromString(e,...t);return Px(r),new $t(n,null,new Ue(r))}{if(!(n instanceof $t||n instanceof yo))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return Px(r),new $t(n.firestore,n instanceof yo?n.converter:null,new Ue(r))}}function f6(n,e){return n=Ke(n),e=Ke(e),(n instanceof $t||n instanceof yo)&&(e instanceof $t||e instanceof yo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function m6(n,e){return n=Ke(n),e=Ke(e),n instanceof Rr&&e instanceof Rr&&n.firestore===e.firestore&&Mf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="AsyncQueue";class WI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n2(this,"async_queue_retry"),this._c=()=>{const r=Zp();r&&De(UI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Zp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;De(UI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wn("INTERNAL UNHANDLED ERROR: ",HI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=a2.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&$e(47125,{Pc:HI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function HI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class XV{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=-1;let Tn=class extends Hf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new WI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WI(e),this._firestoreClient=void 0,await e}}};function Tr(n){if(n._terminated)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p6(n),n._firestoreClient}function p6(n){var r,i,s;const e=n._freezeSettings(),t=(function(c,u,h,p){return new wO(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,l6(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new zV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(n._componentsProvider))}function ej(n,e){js("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return g6(n,cf.provider,{build:r=>new r6(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function tj(n){js("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();g6(n,cf.provider,{build:t=>new MV(t,e.cacheSizeBytes)})}function g6(n,e,t){if((n=Rt(n,Tn))._firestoreClient||n._terminated)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Ne(ve.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},p6(n)}function nj(n){if(n._initialized&&!n._terminated)throw new Ne(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ar;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Fs.v())return Promise.resolve();const i=r+kk;await Fs.delete(i)})(Xw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function rj(n){return(function(t){const r=new ar;return t.asyncQueue.enqueueAndForget((async()=>xV(await _2(t),r))),r.promise})(Tr(n=Rt(n,Tn)))}function ij(n){return WV(Tr(n=Rt(n,Tn)))}function sj(n){return HV(Tr(n=Rt(n,Tn)))}function aj(n,e){const t=Tr(n=Rt(n,Tn)),r=new XV;return KV(t,n._databaseId,e,r),r}function oj(n,e){return QV(Tr(n=Rt(n,Tn)),e).then((t=>t?new Rr(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(pn.fromBase64String(e))}catch(t){throw new Ne(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Df(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:kn("string",vr._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(e){if(Df(e,os._jsonSchema))return new os(e.latitude,e.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:kn("string",os._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Df(e,Os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Os(e.vectorValues);throw new Ne(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Os._jsonSchemaVersion="firestore/vectorValue/1.0",Os._jsonSchema={type:kn("string",Os._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^__.*__$/;class cj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}class y6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:n})}}class Ny{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_6(this.Ac)&&lj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Uf(e)}Cc(e,t,r,i=!1){return new Ny({Ac:e,methodName:t,Dc:r,path:en.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ec(n){const e=n._freezeSettings(),t=Uf(n._databaseId);return new uj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ry(n,e,t,r,i,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);I2("Data must be an object, but it was:",o,r);const c=b6(r,o);let u,h;if(s.merge)u=new qr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const _=i1(e,y,t);if(!o.contains(_))throw new Ne(ve.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);E6(p,_)||p.push(_)}u=new qr(p),h=o.fieldTransforms.filter((y=>u.covers(y.field)))}else u=null,h=o.fieldTransforms;return new cj(new sr(c),u,h)}class $f extends Zl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}function v6(n,e,t){return new Ny({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class v2 extends Zl{_toFieldTransform(e){return new jf(e.path,new ku)}isEqual(e){return e instanceof v2}}class w2 extends Zl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=v6(this,e,!0),r=this.vc.map((s=>tc(s,t))),i=new jl(r);return new jf(e.path,i)}isEqual(e){return e instanceof w2&&fa(this.vc,e.vc)}}class b2 extends Zl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=v6(this,e,!0),r=this.vc.map((s=>tc(s,t))),i=new Bl(r);return new jf(e.path,i)}isEqual(e){return e instanceof b2&&fa(this.vc,e.vc)}}class T2 extends Zl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Au(e.serializer,GP(e.serializer,this.Fc));return new jf(e.path,t)}isEqual(e){return e instanceof T2&&this.Fc===e.Fc}}function E2(n,e,t,r){const i=n.Cc(1,e,t);I2("Data must be an object, but it was:",i,r);const s=[],o=sr.empty();zo(r,((u,h)=>{const p=S2(e,u,t);h=Ke(h);const y=i.yc(p);if(h instanceof $f)s.push(p);else{const _=tc(h,y);_!=null&&(s.push(p),o.set(p,_))}}));const c=new qr(s);return new y6(o,c,i.fieldTransforms)}function x2(n,e,t,r,i,s){const o=n.Cc(1,e,t),c=[i1(e,r,t)],u=[i];if(s.length%2!=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)c.push(i1(e,s[_])),u.push(s[_+1]);const h=[],p=sr.empty();for(let _=c.length-1;_>=0;--_)if(!E6(h,c[_])){const v=c[_];let T=u[_];T=Ke(T);const b=o.yc(v);if(T instanceof $f)h.push(v);else{const I=tc(T,b);I!=null&&(h.push(v),p.set(v,I))}}const y=new qr(h);return new y6(p,y,o.fieldTransforms)}function w6(n,e,t,r=!1){return tc(t,n.Cc(r?4:3,e))}function tc(n,e){if(T6(n=Ke(n)))return I2("Unsupported field value:",e,n),b6(n,e);if(n instanceof Zl)return(function(r,i){if(!_6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const c of r){let u=tc(c,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Dt.fromDate(r);return{timestampValue:Nu(i.serializer,s)}}if(r instanceof Dt){const s=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nu(i.serializer,s)}}if(r instanceof os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vr)return{bytesValue:ik(i.serializer,r._byteString)};if(r instanceof $t){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$w(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Os)return(function(o,c){return{mapValue:{fields:{[Fw]:{stringValue:Lw},[Su]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return jw(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${my(r)}`)})(n,e)}function b6(n,e){const t={};return bP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(n,((r,i)=>{const s=tc(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function T6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof os||n instanceof vr||n instanceof $t||n instanceof Zl||n instanceof Os)}function I2(n,e,t){if(!T6(t)||!rP(t)){const r=my(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function i1(n,e,t){if((e=Ke(e))instanceof No)return e._internalPath;if(typeof e=="string")return S2(n,e);throw Dg("Field path arguments must be of type string or ",n,!1,void 0,t)}const dj=new RegExp("[~\\*/\\[\\]]");function S2(n,e,t){if(e.search(dj)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new No(...e.split("."))._internalPath}catch{throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ne(ve.INVALID_ARGUMENT,c+n+u)}function E6(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hj extends uf{data(){return super.data()}}function Dy(n,e){return typeof e=="string"?S2(n,e):e instanceof No?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C2{}let Gf=class extends C2{};function ro(n,e,...t){let r=[];e instanceof C2&&r.push(e),r=r.concat(t),(function(s){const o=s.filter((u=>u instanceof P2)).length,c=s.filter((u=>u instanceof Fy)).length;if(o>1||o>0&&c>0)throw new Ne(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Fy extends Gf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fy(e,t,r)}_apply(e){const t=this._parse(e);return A6(e._query,t),new Rr(e.firestore,e.converter,H0(e._query,t))}_parse(e){const t=ec(e.firestore);return(function(s,o,c,u,h,p,y){let _;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){GI(y,p);const T=[];for(const b of y)T.push($I(u,s,b));_={arrayValue:{values:T}}}else _=$I(u,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||GI(y,p),_=w6(c,o,y,p==="in"||p==="not-in");return Et.create(h,p,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fj(n,e,t){const r=e,i=Dy("where",n);return Fy._create(i,r,t)}class P2 extends C2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new P2(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Mt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i;const c=s.getFlattenedFilters();for(const u of c)A6(o,u),o=H0(o,u)})(e._query,t),new Rr(e.firestore,e.converter,H0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k2 extends Gf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new k2(e,t)}_apply(e){const t=(function(i,s,o){if(i.startAt!==null)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sf(s,o)})(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ea(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function mj(n,e="asc"){const t=e,r=Dy("orderBy",n);return k2._create(r,t)}class Ly extends Gf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ly(e,t,r)}_apply(e){return new Rr(e.firestore,e.converter,Eg(e._query,this._limit,this._limitType))}}function pj(n){return iP("limit",n),Ly._create("limit",n,"F")}function gj(n){return iP("limitToLast",n),Ly._create("limitToLast",n,"L")}let I6=class S6 extends Gf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new S6(e,t,r)}_apply(e){const t=k6(e,this.type,this._docOrFields,this._inclusive);return new Rr(e.firestore,e.converter,(function(i,s){return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,t))}};function yj(...n){return I6._create("startAt",n,!0)}function _j(...n){return I6._create("startAfter",n,!1)}let C6=class P6 extends Gf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new P6(e,t,r)}_apply(e){const t=k6(e,this.type,this._docOrFields,this._inclusive);return new Rr(e.firestore,e.converter,(function(i,s){return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,t))}};function vj(...n){return C6._create("endBefore",n,!1)}function wj(...n){return C6._create("endAt",n,!0)}function k6(n,e,t,r){if(t[0]=Ke(t[0]),t[0]instanceof uf)return(function(s,o,c,u,h){if(!u)throw new Ne(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const y of du(s))if(y.field.isKeyField())p.push(Ml(o,u.key));else{const _=u.data.field(y.field);if(vy(_))throw new Ne(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const v=y.field.canonicalString();throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}p.push(_)}return new Po(p,h)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ec(n.firestore);return(function(o,c,u,h,p,y){const _=o.explicitOrderBy;if(p.length>_.length)throw new Ne(ve.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let T=0;T<p.length;T++){const b=p[T];if(_[T].field.isKeyField()){if(typeof b!="string")throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof b}`);if(!Mw(o)&&b.indexOf("/")!==-1)throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${b}' contains a slash.`);const I=o.path.child(Tt.fromString(b));if(!Ue.isDocumentKey(I))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const S=new Ue(I);v.push(Ml(c,S))}else{const I=w6(u,h,b);v.push(I)}}return new Po(v,y)})(n._query,n.firestore._databaseId,i,e,t,r)}}function $I(n,e,t){if(typeof(t=Ke(t))=="string"){if(t==="")throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mw(e)&&t.indexOf("/")!==-1)throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tt.fromString(t));if(!Ue.isDocumentKey(r))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ml(n,new Ue(r))}if(t instanceof $t)return Ml(n,t._key);throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(t)}.`)}function GI(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A6(n,e){const t=(function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class A2{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return zo(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var r,i,s;const t=(s=(i=(r=e.fields)==null?void 0:r[Su].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Zt(o.doubleValue)));return new Os(t)}convertGeoPoint(e){return new os(Zt(e.latitude),Zt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const t=ya(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);Ye(pk(r),9688,{name:e});const i=new Io(r.get(1),r.get(3)),s=new Ue(r.popFirst(5));return i.isEqual(t)||wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bj extends A2{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Mi=class N6 extends uf{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=N6._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mi._jsonSchema={type:kn("string",Mi._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};let Dh=class extends Mi{data(e={}){return super.data(e)}},ls=class R6{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Dh(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const u=new Dh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new Dh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:Tj(c.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=R6._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Tj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}function D6(n,e){return n instanceof Mi&&e instanceof Mi?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ls&&e instanceof ls&&n._firestore===e._firestore&&m6(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(n){n=Rt(n,$t);const e=Rt(n.firestore,Tn);return a6(Tr(e),n._key).then((t=>N2(e,n,t)))}ls._jsonSchemaVersion="firestore/querySnapshot/1.0",ls._jsonSchema={type:kn("string",ls._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class nc extends A2{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}function xj(n){n=Rt(n,$t);const e=Rt(n.firestore,Tn),t=Tr(e),r=new nc(e);return $V(t,n._key).then((i=>new Mi(e,r,n._key,i,new Sl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function Ij(n){n=Rt(n,$t);const e=Rt(n.firestore,Tn);return a6(Tr(e),n._key,{source:"server"}).then((t=>N2(e,n,t)))}function Sj(n){n=Rt(n,Rr);const e=Rt(n.firestore,Tn),t=Tr(e),r=new nc(e);return x6(n._query),o6(t,n._query).then((i=>new ls(e,r,n,i)))}function Cj(n){n=Rt(n,Rr);const e=Rt(n.firestore,Tn),t=Tr(e),r=new nc(e);return GV(t,n._query).then((i=>new ls(e,r,n,i)))}function Pj(n){n=Rt(n,Rr);const e=Rt(n.firestore,Tn),t=Tr(e),r=new nc(e);return o6(t,n._query,{source:"server"}).then((i=>new ls(e,r,n,i)))}function qI(n,e,t){n=Rt(n,$t);const r=Rt(n.firestore,Tn),i=Oy(n.converter,e,t);return qf(r,[Ry(ec(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,tn.none())])}function KI(n,e,t,...r){n=Rt(n,$t);const i=Rt(n.firestore,Tn),s=ec(i);let o;return o=typeof(e=Ke(e))=="string"||e instanceof No?x2(s,"updateDoc",n._key,e,t,r):E2(s,"updateDoc",n._key,e),qf(i,[o.toMutation(n._key,tn.exists(!0))])}function kj(n){return qf(Rt(n.firestore,Tn),[new td(n._key,tn.none())])}function Aj(n,e){const t=Rt(n.firestore,Tn),r=Rg(n),i=Oy(n.converter,e);return qf(t,[Ry(ec(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then((()=>r))}function F6(n,...e){var u,h,p;n=Ke(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||r1(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(r1(e[r])){const y=e[r];e[r]=(u=y.next)==null?void 0:u.bind(y),e[r+1]=(h=y.error)==null?void 0:h.bind(y),e[r+2]=(p=y.complete)==null?void 0:p.bind(y)}let s,o,c;if(n instanceof $t)o=Rt(n.firestore,Tn),c=Zu(n._key.path),s={next:y=>{e[r]&&e[r](N2(o,n,y))},error:e[r+1],complete:e[r+2]};else{const y=Rt(n,Rr);o=Rt(y.firestore,Tn),c=y._query;const _=new nc(o);s={next:v=>{e[r]&&e[r](new ls(o,_,y,v))},error:e[r+1],complete:e[r+2]},x6(n._query)}return(function(_,v,T,b){const I=new ky(b),S=new u2(v,I,T);return _.asyncQueue.enqueueAndForget((async()=>o2(await Mu(_),S))),()=>{I.Nu(),_.asyncQueue.enqueueAndForget((async()=>l2(await Mu(_),S)))}})(Tr(o),c,i,s)}function Nj(n,e){return qV(Tr(n=Rt(n,Tn)),r1(e)?e:{next:e})}function qf(n,e){return(function(r,i){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>wV(await _2(r),i,s))),s.promise})(Tr(n),e)}function N2(n,e,t){const r=t.docs.get(e._key),i=new nc(n);return new Mi(n,i,e._key,r,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dj=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ec(e)}set(e,t,r){this._verifyNotCommitted();const i=lo(e,this._firestore),s=Oy(i.converter,t,r),o=Ry(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,tn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=lo(e,this._firestore);let o;return o=typeof(t=Ke(t))=="string"||t instanceof No?x2(this._dataReader,"WriteBatch.update",s._key,t,r,i):E2(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lo(e,this._firestore);return this._mutations=this._mutations.concat(new td(t._key,tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function lo(n,e){if((n=Ke(n)).firestore!==e)throw new Ne(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ec(e)}get(e){const t=lo(e,this._firestore),r=new bj(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return $e(24041);const s=i[0];if(s.isFoundDocument())return new uf(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new uf(this._firestore,r,t._key,null,t.converter);throw $e(18433,{doc:s})}))}set(e,t,r){const i=lo(e,this._firestore),s=Oy(i.converter,t,r),o=Ry(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=lo(e,this._firestore);let o;return o=typeof(t=Ke(t))=="string"||t instanceof No?x2(this._dataReader,"Transaction.update",s._key,t,r,i):E2(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=lo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lj=class extends Fj{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=lo(e,this._firestore),r=new nc(this._firestore);return super.get(e).then((i=>new Mi(this._firestore,r,t._key,i._document,new Sl(!1,!1),t.converter)))}};function Oj(n,e,t){n=Rt(n,Tn);const r={...Rj,...t};return(function(s){if(s.maxAttempts<1)throw new Ne(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,o,c){const u=new ar;return s.asyncQueue.enqueueAndForget((async()=>{const h=await UV(s);new BV(s.asyncQueue,h,c,o,u).ju()})),u.promise})(Tr(n),(i=>e(new Lj(n,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return new $f("deleteField")}function Vj(){return new v2("serverTimestamp")}function jj(...n){return new w2("arrayUnion",n)}function Bj(...n){return new b2("arrayRemove",n)}function zj(n){return new T2("increment",n)}(function(e,t=!0){(function(i){Xu=i})(wa),pa(new Zr("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new Tn(new FL(r.getProvider("auth-internal")),new ML(o,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ne(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(h.options.projectId,p)})(o,i),o);return s={useFetchStreams:t,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),yi(xx,Ix,e),yi(xx,Ix,"esm2020")})();const Uj="@firebase/firestore-compat",Wj="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function YI(){if(!_O())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}let L6=class s1{constructor(e){this._delegate=e}static fromBase64String(e){return YI(),new s1(vr.fromBase64String(e))}static fromUint8Array(e){return QI(),new s1(vr.fromUint8Array(e))}toBase64(){return YI(),this._delegate.toBase64()}toUint8Array(){return QI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n){return Hj(n,["next","error","complete"])}function Hj(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{enableIndexedDbPersistence(e,t){return ej(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return tj(e._delegate)}clearIndexedDbPersistence(e){return nj(e._delegate)}}class O6{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Io||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&js("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){YV(this._delegate,e,t,r)}enableNetwork(){return ij(this._delegate)}disableNetwork(){return sj(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,nP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rj(this._delegate)}onSnapshotsInSync(e){return Nj(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vu(this,h6(this._delegate,e))}catch(t){throw Pr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fi(this,Rg(this._delegate,e))}catch(t){throw Pr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ff(this,JV(this._delegate,e))}catch(t){throw Pr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Oj(this._delegate,t=>e(new M6(this,t)))}batch(){return Tr(this._delegate),new V6(new Dj(this._delegate,e=>qf(this._delegate,e)))}loadBundle(e){return aj(this._delegate,e)}namedQuery(e){return oj(this._delegate,e).then(t=>t?new ff(this,t):null)}}class My extends A2{constructor(e){super(),this.firestore=e}convertBytes(e){return new L6(new vr(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fi.forKey(t,this.firestore,null)}}function Gj(n){AL(n)}class M6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new My(e)}get(e){const t=Cl(e);return this._delegate.get(t).then(r=>new df(this._firestore,new Mi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Cl(e);return r?(R2("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Cl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Cl(e);return this._delegate.delete(t),this}}class V6{constructor(e){this._delegate=e}set(e,t,r){const i=Cl(e);return r?(R2("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Cl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Cl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $l{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Dh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$l.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new $l(e,new My(e),t),i.set(t,s)),s}}$l.INSTANCES=new WeakMap;class Fi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new My(e)}static forPath(e,t,r){if(e.length%2!==0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fi(t,new $t(t._delegate,r,new Ue(e)))}static forKey(e,t,r){return new Fi(t,new $t(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Vu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vu(this.firestore,h6(this._delegate,e))}catch(t){throw Pr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ke(e),e instanceof $t?f6(this._delegate,e):!1}set(e,t){t=R2("DocumentReference.set",t);try{return t?qI(this._delegate,e,t):qI(this._delegate,e)}catch(r){throw Pr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?KI(this._delegate,e):KI(this._delegate,e,t,...r)}catch(i){throw Pr(i,"updateDoc()","DocumentReference.update()")}}delete(){return kj(this._delegate)}onSnapshot(...e){const t=j6(e),r=B6(e,i=>new df(this.firestore,new Mi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return F6(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=xj(this._delegate):(e==null?void 0:e.source)==="server"?t=Ij(this._delegate):t=Ej(this._delegate),t.then(r=>new df(this.firestore,new Mi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fi(this.firestore,e?this._delegate.withConverter($l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pr(n,e,t){return n.message=n.message.replace(e,t),n}function j6(n){for(const e of n)if(typeof e=="object"&&!a1(e))return e;return{}}function B6(n,e){var r,i;let t;return a1(n[0])?t=n[0]:a1(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:s=>{t.next&&t.next(e(s))},error:(r=t.error)==null?void 0:r.bind(t),complete:(i=t.complete)==null?void 0:i.bind(t)}}class df{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return D6(this._delegate,e._delegate)}}class hf extends df{data(e){const t=this._delegate.data(e);return this._delegate._converter||NL(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}let ff=class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new My(e)}where(e,t,r){try{return new xs(this.firestore,ro(this._delegate,fj(e,t,r)))}catch(i){throw Pr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,ro(this._delegate,mj(e,t)))}catch(r){throw Pr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,ro(this._delegate,pj(e)))}catch(t){throw Pr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,ro(this._delegate,gj(e)))}catch(t){throw Pr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,ro(this._delegate,yj(...e)))}catch(t){throw Pr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,ro(this._delegate,_j(...e)))}catch(t){throw Pr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,ro(this._delegate,vj(...e)))}catch(t){throw Pr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,ro(this._delegate,wj(...e)))}catch(t){throw Pr(t,"endAt()","Query.endAt()")}}isEqual(e){return m6(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Cj(this._delegate):(e==null?void 0:e.source)==="server"?t=Pj(this._delegate):t=Sj(this._delegate),t.then(r=>new o1(this.firestore,new ls(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=j6(e),r=B6(e,i=>new o1(this.firestore,new ls(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return F6(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,e?this._delegate.withConverter($l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class qj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class o1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ff(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qj(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hf(this._firestore,r))})}isEqual(e){return D6(this._delegate,e._delegate)}}class Vu extends ff{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fi(this.firestore,e):null}doc(e){try{return e===void 0?new Fi(this.firestore,Rg(this._delegate)):new Fi(this.firestore,Rg(this._delegate,e))}catch(t){throw Pr(t,"doc()","CollectionReference.doc()")}}add(e){return Aj(this._delegate,e).then(t=>new Fi(this.firestore,t))}isEqual(e){return f6(this._delegate,e._delegate)}withConverter(e){return new Vu(this.firestore,e?this._delegate.withConverter($l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Cl(n){return Rt(n,$t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(...e){this._delegate=new No(...e)}static documentId(){return new D2(en.keyField().canonicalString())}isEqual(e){return e=Ke(e),e instanceof No?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static serverTimestamp(){const e=Vj();return e._methodName="FieldValue.serverTimestamp",new El(e)}static delete(){const e=Mj();return e._methodName="FieldValue.delete",new El(e)}static arrayUnion(...e){const t=jj(...e);return t._methodName="FieldValue.arrayUnion",new El(t)}static arrayRemove(...e){const t=Bj(...e);return t._methodName="FieldValue.arrayRemove",new El(t)}static increment(e){const t=zj(e);return t._methodName="FieldValue.increment",new El(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={Firestore:O6,GeoPoint:os,Timestamp:Dt,Blob:L6,Transaction:M6,WriteBatch:V6,DocumentReference:Fi,DocumentSnapshot:df,Query:ff,QueryDocumentSnapshot:hf,QuerySnapshot:o1,CollectionReference:Vu,FieldPath:D2,FieldValue:El,setLogLevel:Gj,CACHE_SIZE_UNLIMITED:ZV};function Qj(n,e){n.INTERNAL.registerComponent(new Zr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Kj}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(n){Qj(n,(e,t)=>new O6(e,t,new $j)),n.registerVersion(Uj,Wj)}Yj(On);var JI={};const XI="@firebase/database",ZI="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z6="";function U6(n){z6=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Wh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return _i(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Jj(e)}}catch{}return new Xj},Pl=W6("localStorage"),l1=W6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Ku("@firebase/database"),H6=(function(){let n=1;return function(){return n++}})(),$6=function(n){const e=lD(n),t=new sD;t.update(e);const r=t.digest();return q1.encodeByteArray(r)},Kf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Kf.apply(null,r):typeof r=="object"?e+=Ln(r):e+=r,e+=" "}return e};let Rl=null,e4=!0;const G6=function(n,e){je(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(fu.logLevel=vt.VERBOSE,Rl=fu.log.bind(fu),e&&l1.set("logging_enabled",!0)):typeof n=="function"?Rl=n:(Rl=null,l1.remove("logging_enabled"))},Jn=function(...n){if(e4===!0&&(e4=!1,Rl===null&&l1.get("logging_enabled")===!0&&G6(!0)),Rl){const e=Kf.apply(null,n);Rl(e)}},Qf=function(n){return function(...e){Jn(n,...e)}},c1=function(...n){const e="FIREBASE INTERNAL ERROR: "+Kf(...n);fu.error(e)},zs=function(...n){const e=`FIREBASE FATAL ERROR: ${Kf(...n)}`;throw fu.error(e),new Error(e)},br=function(...n){const e="FIREBASE WARNING: "+Kf(...n);fu.warn(e)},Zj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&br("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vy=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},eB=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ro="[MIN_NAME]",va="[MAX_NAME]",rc=function(n,e){if(n===e)return 0;if(n===Ro||e===va)return-1;if(e===Ro||n===va)return 1;{const t=t4(n),r=t4(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},tB=function(n,e){return n===e?0:n<e?-1:1},ih=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ln(e))},F2=function(n){if(typeof n!="object"||n===null)return Ln(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Ln(e[r]),t+=":",t+=F2(n[e[r]]);return t+="}",t},q6=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const K6=function(n){je(!Vy(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,c,u;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=c+r,o=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(u=t;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let y="";for(u=0;u<64;u+=8){let _=parseInt(p.substr(u,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},nB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iB(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const sB=new RegExp("^-?(0*)\\d{1,10}$"),aB=-2147483648,oB=2147483647,t4=function(n){if(sB.test(n)){const e=Number(n);if(e>=aB&&e<=oB)return e}return null},ad=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw br("Exception was thrown by user callback.",t),e},Math.floor(0))}},lB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fh=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Yt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)==null||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){br(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Jn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',br(e)}}class mu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="5",Q6="v",Y6="s",J6="r",X6="f",Z6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eA="ls",tA="p",u1="ac",nA="websocket",rA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,r,i,s=!1,o="",c=!1,u=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function dB(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function sA(n,e,t){je(typeof e=="string","typeof type must == string"),je(typeof t=="object","typeof params must == object");let r;if(e===nA)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===rA)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dB(n)&&(t.ns=n.namespace);const i=[];return Zn(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.counters_={}}incrementCounter(e,t=1){_i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return zR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={},s0={};function O2(n){const e=n.toString();return i0[e]||(i0[e]=new hB),i0[e]}function fB(n,e){const t=n.toString();return s0[t]||(s0[t]=e()),s0[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ad(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="start",pB="close",gB="pLPCommand",yB="pRTLPCB",aA="id",oA="pw",lA="ser",_B="cb",vB="seg",wB="ts",bB="d",TB="dframe",cA=1870,uA=30,EB=cA-uA,xB=25e3,IB=3e4;class co{constructor(e,t,r,i,s,o,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qf(e),this.stats_=O2(t),this.urlFn=u=>(this.appCheckToken&&(u[u1]=this.appCheckToken),sA(t,rA,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new mB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IB)),eB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new M2((...s)=>{const[o,c,u,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===n4)this.id=c,this.password=u;else if(o===pB)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[n4]="t",r[lA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_B]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Q6]=L2,this.transportSessionId&&(r[Y6]=this.transportSessionId),this.lastSessionId&&(r[eA]=this.lastSessionId),this.applicationId&&(r[tA]=this.applicationId),this.appCheckToken&&(r[u1]=this.appCheckToken),typeof location<"u"&&location.hostname&&Z6.test(location.hostname)&&(r[J6]=X6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){co.forceAllow_=!0}static forceDisallow(){co.forceDisallow_=!0}static isAvailable(){return co.forceAllow_?!0:!co.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nB()&&!rB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=PS(t),i=q6(r,EB);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[TB]="t",r[aA]=e,r[oA]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ln(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class M2{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=H6(),window[gB+this.uniqueCallbackIdentifier]=e,window[yB+this.uniqueCallbackIdentifier]=t,this.myIFrame=M2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Jn("frame writing exception"),c.stack&&Jn(c.stack),Jn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Jn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aA]=this.myID,e[oA]=this.myPW,e[lA]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uA+r.length<=cA;){const o=this.pendingSegs.shift();r=r+"&"+vB+i+"="+o.seg+"&"+wB+i+"="+o.ts+"&"+bB+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(xB)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Jn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=16384,CB=45e3;let Fg=null;typeof MozWebSocket<"u"?Fg=MozWebSocket:typeof WebSocket<"u"&&(Fg=WebSocket);class Ri{constructor(e,t,r,i,s,o,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qf(this.connId),this.stats_=O2(t),this.connURL=Ri.connectionURL_(t,o,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const o={};return o[Q6]=L2,typeof location<"u"&&location.hostname&&Z6.test(location.hostname)&&(o[J6]=X6),t&&(o[Y6]=t),r&&(o[eA]=r),i&&(o[u1]=i),s&&(o[tA]=s),sA(e,nA,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pl.set("previous_websocket_failure",!0);try{let r;XR(),this.mySock=new Fg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ri.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Fg!==null&&!Ri.forceDisallow_}static previouslyFailed(){return Pl.isInMemoryStorage||Pl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Wh(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(je(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=q6(t,SB);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CB))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ri.responsesRequiredToBeHealthy=2;Ri.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static get ALL_TRANSPORTS(){return[co,Ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Ri&&Ri.isAvailable();let r=t&&!Ri.previouslyFailed();if(e.webSocketOnly&&(t||br("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ri];else{const i=this.transports_=[];for(const s of ju.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ju.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ju.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=6e4,kB=5e3,AB=10*1024,NB=100*1024,a0="t",r4="d",RB="s",i4="r",DB="e",s4="o",a4="a",o4="n",l4="p",FB="h";class LB{constructor(e,t,r,i,s,o,c,u,h,p){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qf("c:"+this.id+":"),this.transportManager_=new ju(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>NB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(a0 in e){const t=e[a0];t===a4?this.upgradeIfSecondaryHealthy_():t===i4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===s4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ih("t",e),r=ih("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:l4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:a4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:o4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ih("t",e),r=ih("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ih(a0,e);if(r4 in e){const r=e[r4];if(t===FB){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===o4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===RB?this.onConnectionShutdown_(r):t===i4?this.onReset_(r):t===DB?c1("Server Error: "+r):t===s4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):c1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),L2!==r&&br("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Fh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:l4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.allowedEvents_=e,this.listeners_={},je(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){je(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends hA{static getInstance(){return new Lg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!X1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return je(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=32,u4=768;class Ft{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Nt(){return new Ft("")}function pt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Do(n){return n.pieces_.length-n.pieceNum_}function Bt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ft(n.pieces_,e)}function V2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function OB(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function mf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function fA(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ft(e,0)}function nn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ft)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ft(t,0)}function gt(n){return n.pieceNum_>=n.pieces_.length}function kr(n,e){const t=pt(n),r=pt(e);if(t===null)return e;if(t===r)return kr(Bt(n),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function MB(n,e){const t=mf(n,0),r=mf(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=rc(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function j2(n,e){if(Do(n)!==Do(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Li(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Do(n)>Do(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class VB{constructor(e,t){this.errorPrefix_=t,this.parts_=mf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ny(this.parts_[r]);mA(this)}}function jB(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ny(e),mA(n)}function BB(n){const e=n.parts_.pop();n.byteLength_-=ny(e),n.parts_.length>0&&(n.byteLength_-=1)}function mA(n){if(n.byteLength_>u4)throw new Error(n.errorPrefix_+"has a key path longer than "+u4+" bytes ("+n.byteLength_+").");if(n.parts_.length>c4)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+c4+") or object contains a cycle "+_l(n))}function _l(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends hA{static getInstance(){return new B2}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return je(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=1e3,zB=300*1e3,d4=30*1e3,UB=1.3,WB=3e4,HB="server_kill",h4=3;class da extends dA{constructor(e,t,r,i,s,o,c,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=da.nextPersistentConnectionId_++,this.log_=Qf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sh,this.maxReconnectDelay_=zB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Ln(s)),je(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new $r,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),je(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,c=>{const u=c.d,h=c.s;da.warnOnListenWarnings_(u,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,u))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&_i(e,"w")){const r=Dl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();br(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=d4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=rD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ln(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):c1("Unrecognized action received from server: "+Ln(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){je(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WB&&(this.reconnectDelay_=sh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+da.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const u=function(){c?c.close():(o=!0,r())},h=function(y){je(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:u,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?Jn("getToken() completed but was canceled"):(Jn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new LB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,v=>{br(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(HB)},s))}catch(y){this.log_("Failed to get token: "+y),o||(this.repoInfo_.nodeAdmin&&br(y),u())}}}interrupt(e){Jn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lg(this.interruptReasons_)&&(this.reconnectDelay_=sh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>F2(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new Ft(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){Jn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=h4&&(this.reconnectDelay_=d4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Jn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=h4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+z6.replace(/\./g,"-")]=1,X1()?e["framework.cordova"]=1:ty()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lg.getInstance().currentlyOnline();return lg(this.interruptReasons_)&&e}}da.nextPersistentConnectionId_=0;da.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new wt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new wt(Ro,e),i=new wt(Ro,t);return this.compare(r,i)!==0}minPost(){return wt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp;class pA extends jy{static get __EMPTY_NODE(){return kp}static set __EMPTY_NODE(e){kp=e}compare(e,t){return rc(e.name,t.name)}isDefinedOn(e){throw qu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return wt.MIN}maxPost(){return new wt(va,kp)}makePost(e,t){return je(typeof e=="string","KeyIndex indexValue must always be a string."),new wt(e,kp)}toString(){return".key"}}const Ms=new pA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Yn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Yn.RED,this.left=i??Qr.EMPTY_NODE,this.right=s??Qr.EMPTY_NODE}copy(e,t,r,i,s){return new Yn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Qr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Yn.RED=!0;Yn.BLACK=!1;class $B{copy(e,t,r,i,s){return this}insert(e,t,r){return new Yn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qr{constructor(e,t=Qr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Qr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Yn.BLACK,null,null))}remove(e){return new Qr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yn.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ap(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ap(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ap(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ap(this.root_,null,this.comparator_,!0,e)}}Qr.EMPTY_NODE=new $B;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(n,e){return rc(n.name,e.name)}function z2(n,e){return rc(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1;function qB(n){d1=n}const gA=function(n){return typeof n=="number"?"number:"+K6(n):"string:"+n},yA=function(n){if(n.isLeafNode()){const e=n.val();je(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_i(e,".sv"),"Priority must be a string or number.")}else je(n===d1||n.isEmpty(),"priority of unexpected type.");je(n===d1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4;class Gn{static set __childrenNodeConstructor(e){f4=e}static get __childrenNodeConstructor(){return f4}constructor(e,t=Gn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,je(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:pt(e)===".priority"?this.priorityNode_:Gn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Gn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=pt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(je(r!==".priority"||Do(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gA(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=K6(this.value_):e+=this.value_,this.lazyHash_=$6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gn.__childrenNodeConstructor?-1:(je(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Gn.VALUE_TYPE_ORDER.indexOf(t),s=Gn.VALUE_TYPE_ORDER.indexOf(r);return je(i>=0,"Unknown leaf type: "+t),je(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Gn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _A,vA;function KB(n){_A=n}function QB(n){vA=n}class YB extends jy{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?rc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(va,new Gn("[PRIORITY-POST]",vA))}makePost(e,t){const r=_A(e);return new wt(t,new Gn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ht=new YB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=Math.log(2);class XB{constructor(e){const t=s=>parseInt(Math.log(s)/JB,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Og=function(n,e,t,r){n.sort(e);const i=function(u,h){const p=h-u;let y,_;if(p===0)return null;if(p===1)return y=n[u],_=t?t(y):y,new Yn(_,y.node,Yn.BLACK,null,null);{const v=parseInt(p/2,10)+u,T=i(u,v),b=i(v+1,h);return y=n[v],_=t?t(y):y,new Yn(_,y.node,Yn.BLACK,T,b)}},s=function(u){let h=null,p=null,y=n.length;const _=function(T,b){const I=y-T,S=y;y-=T;const N=i(I+1,S),L=n[I],z=t?t(L):L;v(new Yn(z,L.node,b,null,N))},v=function(T){h?(h.left=T,h=T):(p=T,h=T)};for(let T=0;T<u.count;++T){const b=u.nextBitIsOne(),I=Math.pow(2,u.count-(T+1));b?_(I,Yn.BLACK):(_(I,Yn.BLACK),_(I,Yn.RED))}return p},o=new XB(n.length),c=s(o);return new Qr(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0;const Jc={};class oa{static get Default(){return je(Jc&&Ht,"ChildrenNode.ts has not been loaded"),o0=o0||new oa({".priority":Jc},{".priority":Ht}),o0}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Dl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qr?t:null}hasIndex(e){return _i(this.indexSet_,e.toString())}addIndex(e,t){je(e!==Ms,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(wt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Og(r,e.getCompare()):c=Jc;const u=e.toString(),h={...this.indexSet_};h[u]=e;const p={...this.indexes_};return p[u]=c,new oa(p,h)}addToIndexes(e,t){const r=cg(this.indexes_,(i,s)=>{const o=Dl(this.indexSet_,s);if(je(o,"Missing index implementation for "+s),i===Jc)if(o.isDefinedOn(e.node)){const c=[],u=t.getIterator(wt.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&c.push(h),h=u.getNext();return c.push(e),Og(c,o.getCompare())}else return Jc;else{const c=t.get(e.name);let u=i;return c&&(u=u.remove(new wt(e.name,c))),u.insert(e,e.node)}});return new oa(r,this.indexSet_)}removeFromIndexes(e,t){const r=cg(this.indexes_,i=>{if(i===Jc)return i;{const s=t.get(e.name);return s?i.remove(new wt(e.name,s)):i}});return new oa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class at{static get EMPTY_NODE(){return ah||(ah=new at(new Qr(z2),null,oa.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yA(this.priorityNode_),this.children_.isEmpty()&&je(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ah}updatePriority(e){return this.children_.isEmpty()?this:new at(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?ah:t}}getChild(e){const t=pt(e);return t===null?this:this.getImmediateChild(t).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(je(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new wt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ah:this.priorityNode_;return new at(i,o,s)}}updateChild(e,t){const r=pt(e);if(r===null)return t;{je(pt(e)!==".priority"||Do(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Bt(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(Ht,(o,c)=>{t[o]=c.val(e),r++,s&&at.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const c in t)o[c]=t[c];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gA(this.getPriority().val())+":"),this.forEachChild(Ht,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":$6(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new wt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new wt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new wt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,wt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,wt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yf?-1:0}withIndex(e){if(e===Ms||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new at(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ms||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Ht),i=t.getIterator(Ht);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ms?null:this.indexMap_.get(e.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZB extends at{constructor(){super(new Qr(z2),at.EMPTY_NODE,oa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return at.EMPTY_NODE}isEmpty(){return!1}}const Yf=new ZB;Object.defineProperties(wt,{MIN:{value:new wt(Ro,at.EMPTY_NODE)},MAX:{value:new wt(va,Yf)}});pA.__EMPTY_NODE=at.EMPTY_NODE;Gn.__childrenNodeConstructor=at;qB(Yf);QB(Yf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=!0;function un(n,e=null){if(n===null)return at.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),je(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Gn(t,un(e))}if(!(n instanceof Array)&&ez){const t=[];let r=!1;if(Zn(n,(o,c)=>{if(o.substring(0,1)!=="."){const u=un(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new wt(o,u)))}}),t.length===0)return at.EMPTY_NODE;const s=Og(t,GB,o=>o.name,z2);if(r){const o=Og(t,Ht.getCompare());return new at(s,un(e),new oa({".priority":o},{".priority":Ht}))}else return new at(s,un(e),oa.Default)}else{let t=at.EMPTY_NODE;return Zn(n,(r,i)=>{if(_i(n,r)&&r.substring(0,1)!=="."){const s=un(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(un(e))}}KB(un);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2 extends jy{constructor(e){super(),this.indexPath_=e,je(!gt(e)&&pt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?rc(e.name,t.name):s}makePost(e,t){const r=un(e),i=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new wt(t,i)}maxPost(){const e=at.EMPTY_NODE.updateChild(this.indexPath_,Yf);return new wt(va,e)}toString(){return mf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz extends jy{compare(e,t){const r=e.node.compareTo(t.node);return r===0?rc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,t){const r=un(e);return new wt(t,r)}toString(){return".value"}}const W2=new tz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){return{type:"value",snapshotNode:n}}function Bu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function pf(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gf(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function nz(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){je(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(pf(t,c)):je(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Bu(t,r)):o.trackChildChange(gf(t,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ht,(i,s)=>{t.hasChild(i)||r.trackChildChange(pf(i,s))}),t.isLeafNode()||t.forEachChild(Ht,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(gf(i,s,o))}else r.trackChildChange(Bu(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?at.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.indexedFilter_=new H2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yf.getStartPost_(e),this.endPost_=yf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new wt(t,r))||(r=at.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=at.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(at.EMPTY_NODE);const s=this;return t.forEachChild(Ht,(o,c)=>{s.matches(new wt(o,c))||(i=i.updateImmediateChild(o,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new wt(t,r))||(r=at.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=at.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=at.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(at.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const y=this.index_.getCompare();o=(_,v)=>y(v,_)}else o=this.index_.getCompare();const c=e;je(c.numChildren()===this.limit_,"");const u=new wt(t,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(t)){const y=c.getImmediateChild(t);let _=i.getChildAfterChild(this.index_,h,this.reverse_);for(;_!=null&&(_.name===t||c.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const v=_==null?1:o(_,u);if(p&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(gf(t,r,y)),c.updateImmediateChild(t,r);{s!=null&&s.trackChildChange(pf(t,y));const b=c.updateImmediateChild(t,at.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(Bu(_.name,_.node)),b.updateImmediateChild(_.name,_.node)):b}}else return r.isEmpty()?e:p&&o(h,u)>=0?(s!=null&&(s.trackChildChange(pf(h.name,h.node)),s.trackChildChange(Bu(t,r))),c.updateImmediateChild(t,r).updateImmediateChild(h.name,at.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return je(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return je(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ro}hasEnd(){return this.endSet_}getIndexEndValue(){return je(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return je(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:va}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return je(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const e=new By;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iz(n){return n.loadsAllData()?new H2(n.getIndex()):n.hasLimit()?new rz(n):new yf(n)}function sz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function az(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function h1(n,e,t){const r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function oz(n,e,t){let r;return n.index_===Ms||t?r=h1(n,e,t):r=h1(n,e,va),r.startAfterSet_=!0,r}function f1(n,e,t){const r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function lz(n,e,t){let r;return n.index_===Ms||t?r=f1(n,e,t):r=f1(n,e,Ro),r.endBeforeSet_=!0,r}function zy(n,e){const t=n.copy();return t.index_=e,t}function m4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ht?t="$priority":n.index_===W2?t="$value":n.index_===Ms?t="$key":(je(n.index_ instanceof U2,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ln(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Ln(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Ln(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Ln(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Ln(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function p4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ht&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends dA{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(je(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qf("p:rest:"),this.listens_={}}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Mg.getListenId_(e,r),c={};this.listens_[o]=c;const u=m4(e._queryParams);this.restRequest_(s+".json",u,(h,p)=>{let y=p;if(h===404&&(y=null,h=null),h===null&&this.onDataUpdate_(s,y,!1,r),Dl(this.listens_,o)===c){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",i(_,null)}})}unlisten(e,t){const r=Mg.getListenId_(e,t);delete this.listens_[r]}get(e){const t=m4(e._queryParams),r=e._path.toString(),i=new $r;return this.restRequest_(r+".json",t,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jl(t);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Wh(c.responseText)}catch{br("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&br("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){return{value:null,children:new Map}}function od(n,e,t){if(gt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=pt(e);n.children.has(r)||n.children.set(r,Vg());const i=n.children.get(r);e=Bt(e),od(i,e,t)}}function m1(n,e){if(gt(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ht,(r,i)=>{od(n,new Ft(r),i)}),m1(n,e)}}else if(n.children.size>0){const t=pt(e);return e=Bt(e),n.children.has(t)&&m1(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function p1(n,e,t){n.value!==null?t(e,n.value):uz(n,(r,i)=>{const s=new Ft(e.toString()+"/"+r);p1(i,s,t)})}function uz(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Zn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=10*1e3,hz=30*1e3,fz=300*1e3;class mz{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new dz(e);const r=g4+(hz-g4)*Math.random();Fh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Zn(e,(i,s)=>{s>0&&_i(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Fh(this.reportStats_.bind(this),Math.floor(Math.random()*2*fz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(as||(as={}));function $2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function G2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function q2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=as.ACK_USER_WRITE,this.source=$2()}operationForChild(e){if(gt(this.path)){if(this.affectedTree.value!=null)return je(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ft(e));return new jg(Nt(),t,this.revert)}}else return je(pt(this.path)===e,"operationForChild called for unrelated child."),new jg(Bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.source=e,this.path=t,this.type=as.LISTEN_COMPLETE}operationForChild(e){return gt(this.path)?new _f(this.source,Nt()):new _f(this.source,Bt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=as.OVERWRITE}operationForChild(e){return gt(this.path)?new Gl(this.source,Nt(),this.snap.getImmediateChild(e)):new Gl(this.source,Bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=as.MERGE}operationForChild(e){if(gt(this.path)){const t=this.children.subtree(new Ft(e));return t.isEmpty()?null:t.value?new Gl(this.source,Nt(),t.value):new zu(this.source,Nt(),t)}else return je(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zu(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const t=pt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gz(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nz(o.childName,o.snapshotNode))}),oh(n,i,"child_removed",e,r,t),oh(n,i,"child_added",e,r,t),oh(n,i,"child_moved",s,r,t),oh(n,i,"child_changed",e,r,t),oh(n,i,"value",e,r,t),i}function oh(n,e,t,r,i,s){const o=r.filter(c=>c.type===t);o.sort((c,u)=>_z(n,c,u)),o.forEach(c=>{const u=yz(n,c,s);i.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(u,n.query_))})})}function yz(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function _z(n,e,t){if(e.childName==null||t.childName==null)throw qu("Should only compare child_ events.");const r=new wt(e.childName,e.snapshotNode),i=new wt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n,e){return{eventCache:n,serverCache:e}}function Lh(n,e,t,r){return Uy(new Fo(e,t,r),n.serverCache)}function bA(n,e,t,r){return Uy(n.eventCache,new Fo(e,t,r))}function Bg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ql(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0;const vz=()=>(l0||(l0=new Qr(tB)),l0);class Wt{static fromObject(e){let t=new Wt(null);return Zn(e,(r,i)=>{t=t.set(new Ft(r),i)}),t}constructor(e,t=vz()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Nt(),value:this.value};if(gt(e))return null;{const r=pt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Bt(e),t);return s!=null?{path:nn(new Ft(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const t=pt(e),r=this.children.get(t);return r!==null?r.subtree(Bt(e)):new Wt(null)}}set(e,t){if(gt(e))return new Wt(t,this.children);{const r=pt(e),s=(this.children.get(r)||new Wt(null)).set(Bt(e),t),o=this.children.insert(r,s);return new Wt(this.value,o)}}remove(e){if(gt(e))return this.children.isEmpty()?new Wt(null):new Wt(null,this.children);{const t=pt(e),r=this.children.get(t);if(r){const i=r.remove(Bt(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new Wt(null):new Wt(this.value,s)}else return this}}get(e){if(gt(e))return this.value;{const t=pt(e),r=this.children.get(t);return r?r.get(Bt(e)):null}}setTree(e,t){if(gt(e))return t;{const r=pt(e),s=(this.children.get(r)||new Wt(null)).setTree(Bt(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Wt(this.value,o)}}fold(e){return this.fold_(Nt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(nn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Nt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(gt(e))return null;{const s=pt(e),o=this.children.get(s);return o?o.findOnPath_(Bt(e),nn(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Nt(),t)}foreachOnPath_(e,t,r){if(gt(e))return this;{this.value&&r(t,this.value);const i=pt(e),s=this.children.get(i);return s?s.foreachOnPath_(Bt(e),nn(t,i),r):new Wt(null)}}foreach(e){this.foreach_(Nt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(nn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.writeTree_=e}static empty(){return new cs(new Wt(null))}}function Oh(n,e,t){if(gt(e))return new cs(new Wt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=kr(i,e);return s=s.updateChild(o,t),new cs(n.writeTree_.set(i,s))}else{const i=new Wt(t),s=n.writeTree_.setTree(e,i);return new cs(s)}}}function g1(n,e,t){let r=n;return Zn(t,(i,s)=>{r=Oh(r,nn(e,i),s)}),r}function y4(n,e){if(gt(e))return cs.empty();{const t=n.writeTree_.setTree(e,new Wt(null));return new cs(t)}}function y1(n,e){return ic(n,e)!=null}function ic(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(kr(t.path,e)):null}function _4(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ht,(r,i)=>{e.push(new wt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new wt(r,i.value))}),e}function _o(n,e){if(gt(e))return n;{const t=ic(n,e);return t!=null?new cs(new Wt(t)):new cs(n.writeTree_.subtree(e))}}function _1(n){return n.writeTree_.isEmpty()}function Uu(n,e){return TA(Nt(),n.writeTree_,e)}function TA(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(je(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=TA(nn(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(nn(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e){return SA(e,n)}function wz(n,e,t,r,i){je(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Oh(n.visibleWrites,e,t)),n.lastWriteId=r}function bz(n,e,t,r){je(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=g1(n.visibleWrites,e,t),n.lastWriteId=r}function Tz(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function Ez(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);je(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=t&&xz(c,r.path)?i=!1:Li(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return Iz(n),!0;if(r.snap)n.visibleWrites=y4(n.visibleWrites,r.path);else{const c=r.children;Zn(c,u=>{n.visibleWrites=y4(n.visibleWrites,nn(r.path,u))})}return!0}else return!1}function xz(n,e){if(n.snap)return Li(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Li(nn(n.path,t),e))return!0;return!1}function Iz(n){n.visibleWrites=EA(n.allWrites,Sz,Nt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Sz(n){return n.visible}function EA(n,e,t){let r=cs.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let c;if(s.snap)Li(t,o)?(c=kr(t,o),r=Oh(r,c,s.snap)):Li(o,t)&&(c=kr(o,t),r=Oh(r,Nt(),s.snap.getChild(c)));else if(s.children){if(Li(t,o))c=kr(t,o),r=g1(r,c,s.children);else if(Li(o,t))if(c=kr(o,t),gt(c))r=g1(r,Nt(),s.children);else{const u=Dl(s.children,pt(c));if(u){const h=u.getChild(Bt(c));r=Oh(r,Nt(),h)}}}else throw qu("WriteRecord should have .snap or .children")}}return r}function xA(n,e,t,r,i){if(!r&&!i){const s=ic(n.visibleWrites,e);if(s!=null)return s;{const o=_o(n.visibleWrites,e);if(_1(o))return t;if(t==null&&!y1(o,Nt()))return null;{const c=t||at.EMPTY_NODE;return Uu(o,c)}}}else{const s=_o(n.visibleWrites,e);if(!i&&_1(s))return t;if(!i&&t==null&&!y1(s,Nt()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Li(h.path,e)||Li(e,h.path))},c=EA(n.allWrites,o,e),u=t||at.EMPTY_NODE;return Uu(c,u)}}}function Cz(n,e,t){let r=at.EMPTY_NODE;const i=ic(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ht,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=_o(n.visibleWrites,e);return t.forEachChild(Ht,(o,c)=>{const u=Uu(_o(s,new Ft(o)),c);r=r.updateImmediateChild(o,u)}),_4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=_o(n.visibleWrites,e);return _4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Pz(n,e,t,r,i){je(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=nn(e,t);if(y1(n.visibleWrites,s))return null;{const o=_o(n.visibleWrites,s);return _1(o)?i.getChild(t):Uu(o,i.getChild(t))}}function kz(n,e,t,r){const i=nn(e,t),s=ic(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=_o(n.visibleWrites,i);return Uu(o,r.getNode().getImmediateChild(t))}else return null}function Az(n,e){return ic(n.visibleWrites,e)}function Nz(n,e,t,r,i,s,o){let c;const u=_o(n.visibleWrites,e),h=ic(u,Nt());if(h!=null)c=h;else if(t!=null)c=Uu(u,t);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],y=o.getCompare(),_=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let v=_.getNext();for(;v&&p.length<i;)y(v,r)!==0&&p.push(v),v=_.getNext();return p}else return[]}function Rz(){return{visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1}}function zg(n,e,t,r){return xA(n.writeTree,n.treePath,e,t,r)}function K2(n,e){return Cz(n.writeTree,n.treePath,e)}function v4(n,e,t,r){return Pz(n.writeTree,n.treePath,e,t,r)}function Ug(n,e){return Az(n.writeTree,nn(n.treePath,e))}function Dz(n,e,t,r,i,s){return Nz(n.writeTree,n.treePath,e,t,r,i,s)}function Q2(n,e,t){return kz(n.writeTree,n.treePath,e,t)}function IA(n,e){return SA(nn(n.treePath,e),n.writeTree)}function SA(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;je(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),je(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,gf(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,pf(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,Bu(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,gf(r,e.snapshotNode,i.oldSnap));else throw qu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const CA=new Lz;class Y2{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Q2(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ql(this.viewCache_),s=Dz(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(n){return{filter:n}}function Mz(n,e){je(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),je(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Vz(n,e,t,r,i){const s=new Fz;let o,c;if(t.type===as.OVERWRITE){const h=t;h.source.fromUser?o=v1(n,e,h.path,h.snap,r,i,s):(je(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!gt(h.path),o=Wg(n,e,h.path,h.snap,r,i,c,s))}else if(t.type===as.MERGE){const h=t;h.source.fromUser?o=Bz(n,e,h.path,h.children,r,i,s):(je(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),o=w1(n,e,h.path,h.children,r,i,c,s))}else if(t.type===as.ACK_USER_WRITE){const h=t;h.revert?o=Wz(n,e,h.path,r,i,s):o=zz(n,e,h.path,h.affectedTree,r,i,s)}else if(t.type===as.LISTEN_COMPLETE)o=Uz(n,e,t.path,r,s);else throw qu("Unknown operation type: "+t.type);const u=s.getChanges();return jz(e,o,u),{viewCache:o,changes:u}}function jz(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Bg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(wA(Bg(e)))}}function PA(n,e,t,r,i,s){const o=e.eventCache;if(Ug(r,t)!=null)return e;{let c,u;if(gt(t))if(je(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=ql(e),p=h instanceof at?h:at.EMPTY_NODE,y=K2(r,p);c=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const h=zg(r,ql(e));c=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=pt(t);if(h===".priority"){je(Do(t)===1,"Can't have a priority with additional path components");const p=o.getNode();u=e.serverCache.getNode();const y=v4(r,t,p,u);y!=null?c=n.filter.updatePriority(p,y):c=o.getNode()}else{const p=Bt(t);let y;if(o.isCompleteForChild(h)){u=e.serverCache.getNode();const _=v4(r,t,o.getNode(),u);_!=null?y=o.getNode().getImmediateChild(h).updateChild(p,_):y=o.getNode().getImmediateChild(h)}else y=Q2(r,h,e.serverCache);y!=null?c=n.filter.updateChild(o.getNode(),h,y,p,i,s):c=o.getNode()}}return Lh(e,c,o.isFullyInitialized()||gt(t),n.filter.filtersNodes())}}function Wg(n,e,t,r,i,s,o,c){const u=e.serverCache;let h;const p=o?n.filter:n.filter.getIndexedFilter();if(gt(t))h=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(t,r);h=p.updateFullNode(u.getNode(),v,null)}else{const v=pt(t);if(!u.isCompleteForPath(t)&&Do(t)>1)return e;const T=Bt(t),I=u.getNode().getImmediateChild(v).updateChild(T,r);v===".priority"?h=p.updatePriority(u.getNode(),I):h=p.updateChild(u.getNode(),v,I,T,CA,null)}const y=bA(e,h,u.isFullyInitialized()||gt(t),p.filtersNodes()),_=new Y2(i,y,s);return PA(n,y,t,i,_,c)}function v1(n,e,t,r,i,s,o){const c=e.eventCache;let u,h;const p=new Y2(i,e,s);if(gt(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Lh(e,h,!0,n.filter.filtersNodes());else{const y=pt(t);if(y===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),u=Lh(e,h,c.isFullyInitialized(),c.isFiltered());else{const _=Bt(t),v=c.getNode().getImmediateChild(y);let T;if(gt(_))T=r;else{const b=p.getCompleteChild(y);b!=null?V2(_)===".priority"&&b.getChild(fA(_)).isEmpty()?T=b:T=b.updateChild(_,r):T=at.EMPTY_NODE}if(v.equals(T))u=e;else{const b=n.filter.updateChild(c.getNode(),y,T,_,p,o);u=Lh(e,b,c.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function w4(n,e){return n.eventCache.isCompleteForChild(e)}function Bz(n,e,t,r,i,s,o){let c=e;return r.foreach((u,h)=>{const p=nn(t,u);w4(e,pt(p))&&(c=v1(n,c,p,h,i,s,o))}),r.foreach((u,h)=>{const p=nn(t,u);w4(e,pt(p))||(c=v1(n,c,p,h,i,s,o))}),c}function b4(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function w1(n,e,t,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,h;gt(t)?h=r:h=new Wt(null).setTree(t,r);const p=e.serverCache.getNode();return h.children.inorderTraversal((y,_)=>{if(p.hasChild(y)){const v=e.serverCache.getNode().getImmediateChild(y),T=b4(n,v,_);u=Wg(n,u,new Ft(y),T,i,s,o,c)}}),h.children.inorderTraversal((y,_)=>{const v=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!p.hasChild(y)&&!v){const T=e.serverCache.getNode().getImmediateChild(y),b=b4(n,T,_);u=Wg(n,u,new Ft(y),b,i,s,o,c)}}),u}function zz(n,e,t,r,i,s,o){if(Ug(i,t)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(gt(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return Wg(n,e,t,u.getNode().getChild(t),i,s,c,o);if(gt(t)){let h=new Wt(null);return u.getNode().forEachChild(Ms,(p,y)=>{h=h.set(new Ft(p),y)}),w1(n,e,t,h,i,s,c,o)}else return e}else{let h=new Wt(null);return r.foreach((p,y)=>{const _=nn(t,p);u.isCompleteForPath(_)&&(h=h.set(p,u.getNode().getChild(_)))}),w1(n,e,t,h,i,s,c,o)}}function Uz(n,e,t,r,i){const s=e.serverCache,o=bA(e,s.getNode(),s.isFullyInitialized()||gt(t),s.isFiltered());return PA(n,o,t,r,CA,i)}function Wz(n,e,t,r,i,s){let o;if(Ug(r,t)!=null)return e;{const c=new Y2(r,e,i),u=e.eventCache.getNode();let h;if(gt(t)||pt(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=zg(r,ql(e));else{const y=e.serverCache.getNode();je(y instanceof at,"serverChildren would be complete if leaf node"),p=K2(r,y)}p=p,h=n.filter.updateFullNode(u,p,s)}else{const p=pt(t);let y=Q2(r,p,e.serverCache);y==null&&e.serverCache.isCompleteForChild(p)&&(y=u.getImmediateChild(p)),y!=null?h=n.filter.updateChild(u,p,y,Bt(t),c,s):e.eventCache.getNode().hasChild(p)?h=n.filter.updateChild(u,p,at.EMPTY_NODE,Bt(t),c,s):h=u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zg(r,ql(e)),o.isLeafNode()&&(h=n.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||Ug(r,Nt())!=null,Lh(e,h,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new H2(r.getIndex()),s=iz(r);this.processor_=Oz(s);const o=t.serverCache,c=t.eventCache,u=i.updateFullNode(at.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(at.EMPTY_NODE,c.getNode(),null),p=new Fo(u,o.isFullyInitialized(),i.filtersNodes()),y=new Fo(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Uy(y,p),this.eventGenerator_=new pz(this.query_)}get query(){return this.query_}}function $z(n){return n.viewCache_.serverCache.getNode()}function Gz(n){return Bg(n.viewCache_)}function qz(n,e){const t=ql(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!gt(e)&&!t.getImmediateChild(pt(e)).isEmpty())?t.getChild(e):null}function T4(n){return n.eventRegistrations_.length===0}function Kz(n,e){n.eventRegistrations_.push(e)}function E4(n,e,t){const r=[];if(t){je(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function x4(n,e,t,r){e.type===as.MERGE&&e.source.queryId!==null&&(je(ql(n.viewCache_),"We should always have a full cache before handling merges"),je(Bg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=Vz(n.processor_,i,e,t,r);return Mz(n.processor_,s.viewCache),je(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,kA(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Qz(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ht,(s,o)=>{r.push(Bu(s,o))}),t.isFullyInitialized()&&r.push(wA(t.getNode())),kA(n,r,t.getNode(),e)}function kA(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return gz(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg;class AA{constructor(){this.views=new Map}}function Yz(n){je(!Hg,"__referenceConstructor has already been defined"),Hg=n}function Jz(){return je(Hg,"Reference.ts has not been loaded"),Hg}function Xz(n){return n.views.size===0}function J2(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return je(s!=null,"SyncTree gave us an op for an invalid query."),x4(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(x4(o,e,t,r));return s}}function NA(n,e,t,r,i){const s=e._queryIdentifier,o=n.views.get(s);if(!o){let c=zg(t,i?r:null),u=!1;c?u=!0:r instanceof at?(c=K2(t,r),u=!1):(c=at.EMPTY_NODE,u=!1);const h=Uy(new Fo(c,u,!1),new Fo(r,i,!1));return new Hz(e,h)}return o}function Zz(n,e,t,r,i,s){const o=NA(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),Kz(o,t),Qz(o,t)}function eU(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const c=Lo(n);if(i==="default")for(const[u,h]of n.views.entries())o=o.concat(E4(h,t,r)),T4(h)&&(n.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=n.views.get(i);u&&(o=o.concat(E4(u,t,r)),T4(u)&&(n.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!Lo(n)&&s.push(new(Jz())(e._repo,e._path)),{removed:s,events:o}}function RA(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function vo(n,e){let t=null;for(const r of n.views.values())t=t||qz(r,e);return t}function DA(n,e){if(e._queryParams.loadsAllData())return Hy(n);{const r=e._queryIdentifier;return n.views.get(r)}}function FA(n,e){return DA(n,e)!=null}function Lo(n){return Hy(n)!=null}function Hy(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g;function tU(n){je(!$g,"__referenceConstructor has already been defined"),$g=n}function nU(){return je($g,"Reference.ts has not been loaded"),$g}let rU=1;class I4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Wt(null),this.pendingWriteTree_=Rz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function X2(n,e,t,r,i){return wz(n.pendingWriteTree_,e,t,r,i),i?ld(n,new Gl($2(),e,t)):[]}function iU(n,e,t,r){bz(n.pendingWriteTree_,e,t,r);const i=Wt.fromObject(t);return ld(n,new zu($2(),e,i))}function uo(n,e,t=!1){const r=Tz(n.pendingWriteTree_,e);if(Ez(n.pendingWriteTree_,e)){let s=new Wt(null);return r.snap!=null?s=s.set(Nt(),!0):Zn(r.children,o=>{s=s.set(new Ft(o),!0)}),ld(n,new jg(r.path,s,t))}else return[]}function Jf(n,e,t){return ld(n,new Gl(G2(),e,t))}function sU(n,e,t){const r=Wt.fromObject(t);return ld(n,new zu(G2(),e,r))}function aU(n,e){return ld(n,new _f(G2(),e))}function oU(n,e,t){const r=Z2(n,t);if(r){const i=eb(r),s=i.path,o=i.queryId,c=kr(s,e),u=new _f(q2(o),c);return tb(n,s,u)}else return[]}function Gg(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let c=[];if(o&&(e._queryIdentifier==="default"||FA(o,e))){const u=eU(o,e,t,r);Xz(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const h=u.removed;if(c=u.events,!i){const p=h.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(s,(_,v)=>Lo(v));if(p&&!y){const _=n.syncPointTree_.subtree(s);if(!_.isEmpty()){const v=uU(_);for(let T=0;T<v.length;++T){const b=v[T],I=b.query,S=VA(n,b);n.listenProvider_.startListening(Mh(I),vf(n,I),S.hashFn,S.onComplete)}}}!y&&h.length>0&&!r&&(p?n.listenProvider_.stopListening(Mh(e),null):h.forEach(_=>{const v=n.queryToTagMap.get(Gy(_));n.listenProvider_.stopListening(Mh(_),v)}))}dU(n,h)}return c}function LA(n,e,t,r){const i=Z2(n,r);if(i!=null){const s=eb(i),o=s.path,c=s.queryId,u=kr(o,e),h=new Gl(q2(c),u,t);return tb(n,o,h)}else return[]}function lU(n,e,t,r){const i=Z2(n,r);if(i){const s=eb(i),o=s.path,c=s.queryId,u=kr(o,e),h=Wt.fromObject(t),p=new zu(q2(c),u,h);return tb(n,o,p)}else return[]}function b1(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(_,v)=>{const T=kr(_,i);s=s||vo(v,T),o=o||Lo(v)});let c=n.syncPointTree_.get(i);c?(o=o||Lo(c),s=s||vo(c,Nt())):(c=new AA,n.syncPointTree_=n.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=at.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((v,T)=>{const b=vo(T,Nt());b&&(s=s.updateImmediateChild(v,b))}));const h=FA(c,e);if(!h&&!e._queryParams.loadsAllData()){const _=Gy(e);je(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=hU();n.queryToTagMap.set(_,v),n.tagToQueryMap.set(v,_)}const p=Wy(n.pendingWriteTree_,i);let y=Zz(c,e,t,p,s,u);if(!h&&!o&&!r){const _=DA(c,e);y=y.concat(fU(n,e,_))}return y}function $y(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,c)=>{const u=kr(o,e),h=vo(c,u);if(h)return h});return xA(i,e,s,t,!0)}function cU(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(h,p)=>{const y=kr(h,t);r=r||vo(p,y)});let i=n.syncPointTree_.get(t);i?r=r||vo(i,Nt()):(i=new AA,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=r!=null,o=s?new Fo(r,!0,!1):null,c=Wy(n.pendingWriteTree_,e._path),u=NA(i,e,c,s?o.getNode():at.EMPTY_NODE,s);return Gz(u)}function ld(n,e){return OA(e,n.syncPointTree_,null,Wy(n.pendingWriteTree_,Nt()))}function OA(n,e,t,r){if(gt(n.path))return MA(n,e,t,r);{const i=e.get(Nt());t==null&&i!=null&&(t=vo(i,Nt()));let s=[];const o=pt(n.path),c=n.operationForChild(o),u=e.children.get(o);if(u&&c){const h=t?t.getImmediateChild(o):null,p=IA(r,o);s=s.concat(OA(c,u,h,p))}return i&&(s=s.concat(J2(i,n,r,t))),s}}function MA(n,e,t,r){const i=e.get(Nt());t==null&&i!=null&&(t=vo(i,Nt()));let s=[];return e.children.inorderTraversal((o,c)=>{const u=t?t.getImmediateChild(o):null,h=IA(r,o),p=n.operationForChild(o);p&&(s=s.concat(MA(p,c,u,h)))}),i&&(s=s.concat(J2(i,n,r,t))),s}function VA(n,e){const t=e.query,r=vf(n,t);return{hashFn:()=>($z(e)||at.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?oU(n,t._path,r):aU(n,t._path);{const s=iB(i,t);return Gg(n,t,null,s)}}}}function vf(n,e){const t=Gy(e);return n.queryToTagMap.get(t)}function Gy(n){return n._path.toString()+"$"+n._queryIdentifier}function Z2(n,e){return n.tagToQueryMap.get(e)}function eb(n){const e=n.indexOf("$");return je(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ft(n.substr(0,e))}}function tb(n,e,t){const r=n.syncPointTree_.get(e);je(r,"Missing sync point for query tag that we're tracking");const i=Wy(n.pendingWriteTree_,e);return J2(r,t,i,null)}function uU(n){return n.fold((e,t,r)=>{if(t&&Lo(t))return[Hy(t)];{let i=[];return t&&(i=RA(t)),Zn(r,(s,o)=>{i=i.concat(o)}),i}})}function Mh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(nU())(n._repo,n._path):n}function dU(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=Gy(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function hU(){return rU++}function fU(n,e,t){const r=e._path,i=vf(n,e),s=VA(n,t),o=n.listenProvider_.startListening(Mh(e),i,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(r);if(i)je(!Lo(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((h,p,y)=>{if(!gt(h)&&p&&Lo(p))return[Hy(p).query];{let _=[];return p&&(_=_.concat(RA(p).map(v=>v.query))),Zn(y,(v,T)=>{_=_.concat(T)}),_}});for(let h=0;h<u.length;++h){const p=u[h];n.listenProvider_.stopListening(Mh(p),vf(n,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new nb(t)}node(){return this.node_}}class rb{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=nn(this.path_,e);return new rb(this.syncTree_,t)}node(){return $y(this.syncTree_,this.path_)}}const mU=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},S4=function(n,e,t){if(!n||typeof n!="object")return n;if(je(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return pU(n[".sv"],e,t);if(typeof n[".sv"]=="object")return gU(n[".sv"],e);je(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},pU=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:je(!1,"Unexpected server value: "+n)}},gU=function(n,e,t){n.hasOwnProperty("increment")||je(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&je(!1,"Unexpected increment value: "+r);const i=e.node();if(je(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},jA=function(n,e,t,r){return sb(e,new rb(t,n),r)},ib=function(n,e,t){return sb(n,new nb(e),t)};function sb(n,e,t){const r=n.getPriority().val(),i=S4(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,c=S4(o.getValue(),e,t);return c!==o.getValue()||i!==o.getPriority().val()?new Gn(c,un(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Gn(i))),o.forEachChild(Ht,(c,u)=>{const h=sb(u,e.getImmediateChild(c),t);h!==u&&(s=s.updateImmediateChild(c,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function qy(n,e){let t=e instanceof Ft?e:new Ft(e),r=n,i=pt(t);for(;i!==null;){const s=Dl(r.node.children,i)||{children:{},childCount:0};r=new ab(i,r,s),t=Bt(t),i=pt(t)}return r}function sc(n){return n.node.value}function ob(n,e){n.node.value=e,T1(n)}function BA(n){return n.node.childCount>0}function yU(n){return sc(n)===void 0&&!BA(n)}function Ky(n,e){Zn(n.node.children,(t,r)=>{e(new ab(t,n,r))})}function zA(n,e,t,r){t&&e(n),Ky(n,i=>{zA(i,e,!0)})}function _U(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Xf(n){return new Ft(n.parent===null?n.name:Xf(n.parent)+"/"+n.name)}function T1(n){n.parent!==null&&vU(n.parent,n.name,n)}function vU(n,e,t){const r=yU(t),i=_i(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,T1(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,T1(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/[\[\].#$\/\u0000-\u001F\u007F]/,bU=/[\[\].#$\u0000-\u001F\u007F]/,c0=10*1024*1024,Qy=function(n){return typeof n=="string"&&n.length!==0&&!wU.test(n)},UA=function(n){return typeof n=="string"&&n.length!==0&&!bU.test(n)},TU=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UA(n)},wf=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Vy(n)||n&&typeof n=="object"&&_i(n,".sv")},Us=function(n,e,t,r){r&&e===void 0||Zf(Yr(n,"value"),e,t)},Zf=function(n,e,t){const r=t instanceof Ft?new VB(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+_l(r));if(typeof e=="function")throw new Error(n+"contains a function "+_l(r)+" with contents = "+e.toString());if(Vy(e))throw new Error(n+"contains "+e.toString()+" "+_l(r));if(typeof e=="string"&&e.length>c0/3&&ny(e)>c0)throw new Error(n+"contains a string greater than "+c0+" utf8 bytes "+_l(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Zn(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Qy(o)))throw new Error(n+" contains an invalid key ("+o+") "+_l(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jB(r,o),Zf(n,c,r),BB(r)}),i&&s)throw new Error(n+' contains ".value" child '+_l(r)+" in addition to actual children.")}},EU=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=mf(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Qy(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(MB);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&Li(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},WA=function(n,e,t,r){const i=Yr(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Zn(e,(o,c)=>{const u=new Ft(o);if(Zf(i,c,nn(t,u)),V2(u)===".priority"&&!wf(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),EU(i,s)},lb=function(n,e,t){if(Vy(e))throw new Error(Yr(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wf(e))throw new Error(Yr(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},em=function(n,e,t,r){if(t!==void 0&&!Qy(t))throw new Error(Yr(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},bf=function(n,e,t,r){if(!UA(t))throw new Error(Yr(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xU=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bf(n,e,t)},Oi=function(n,e){if(pt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},HA=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!TU(t))throw new Error(Yr(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yy(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!j2(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function $A(n,e,t){Yy(n,t),GA(n,r=>j2(r,e))}function wi(n,e,t){Yy(n,t),GA(n,r=>Li(r,e)||Li(e,r))}function GA(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(SU(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function SU(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Rl&&Jn("event: "+t.toString()),ad(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="repo_interrupt",CU=25;class PU{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vg(),this.transactionQueueTree_=new ab,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kU(n,e,t){if(n.stats_=O2(n.repoInfo_),n.forceRestClient_||lB())n.server_=new Mg(n.repoInfo_,(r,i,s,o)=>{C4(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>P4(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new da(n.repoInfo_,e,(r,i,s,o)=>{C4(n,r,i,s,o)},r=>{P4(n,r)},r=>{AU(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=fB(n.repoInfo_,()=>new mz(n.stats_,n.server_)),n.infoData_=new cz,n.infoSyncTree_=new I4({startListening:(r,i,s,o)=>{let c=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(c=Jf(n.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),cb(n,"connected",!1),n.serverSyncTree_=new I4({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(c,u)=>{const h=o(c,u);wi(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function KA(n){const t=n.infoData_.getNode(new Ft(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function tm(n){return mU({timestamp:KA(n)})}function C4(n,e,t,r,i){n.dataUpdateCount++;const s=new Ft(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const u=cg(t,h=>un(h));o=lU(n.serverSyncTree_,s,u,i)}else{const u=un(t);o=LA(n.serverSyncTree_,s,u,i)}else if(r){const u=cg(t,h=>un(h));o=sU(n.serverSyncTree_,s,u)}else{const u=un(t);o=Jf(n.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=Wu(n,s)),wi(n.eventQueue_,c,o)}function P4(n,e){cb(n,"connected",e),e===!1&&DU(n)}function AU(n,e){Zn(e,(t,r)=>{cb(n,t,r)})}function cb(n,e,t){const r=new Ft("/.info/"+e),i=un(t);n.infoData_.updateSnapshot(r,i);const s=Jf(n.infoSyncTree_,r,i);wi(n.eventQueue_,r,s)}function Jy(n){return n.nextWriteId_++}function NU(n,e,t){const r=cU(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{const s=un(i).withIndex(e._queryParams.getIndex());b1(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Jf(n.serverSyncTree_,e._path,s);else{const c=vf(n.serverSyncTree_,e);o=LA(n.serverSyncTree_,e._path,s,c)}return wi(n.eventQueue_,e._path,o),Gg(n.serverSyncTree_,e,t,null,!0),s},i=>(cd(n,"get for query "+Ln(e)+" failed: "+i),Promise.reject(new Error(i))))}function ub(n,e,t,r,i){cd(n,"set",{path:e.toString(),value:t,priority:r});const s=tm(n),o=un(t,r),c=$y(n.serverSyncTree_,e),u=ib(o,c,s),h=Jy(n),p=X2(n.serverSyncTree_,e,u,h,!0);Yy(n.eventQueue_,p),n.server_.put(e.toString(),o.val(!0),(_,v)=>{const T=_==="ok";T||br("set at "+e+" failed: "+_);const b=uo(n.serverSyncTree_,h,!T);wi(n.eventQueue_,e,b),Oo(n,i,_,v)});const y=hb(n,e);Wu(n,y),wi(n.eventQueue_,y,[])}function RU(n,e,t,r){cd(n,"update",{path:e.toString(),value:t});let i=!0;const s=tm(n),o={};if(Zn(t,(c,u)=>{i=!1,o[c]=jA(nn(e,c),un(u),n.serverSyncTree_,s)}),i)Jn("update() called with empty data.  Don't do anything."),Oo(n,r,"ok",void 0);else{const c=Jy(n),u=iU(n.serverSyncTree_,e,o,c);Yy(n.eventQueue_,u),n.server_.merge(e.toString(),t,(h,p)=>{const y=h==="ok";y||br("update at "+e+" failed: "+h);const _=uo(n.serverSyncTree_,c,!y),v=_.length>0?Wu(n,e):e;wi(n.eventQueue_,v,_),Oo(n,r,h,p)}),Zn(t,h=>{const p=hb(n,nn(e,h));Wu(n,p)}),wi(n.eventQueue_,e,[])}}function DU(n){cd(n,"onDisconnectEvents");const e=tm(n),t=Vg();p1(n.onDisconnect_,Nt(),(i,s)=>{const o=jA(i,s,n.serverSyncTree_,e);od(t,i,o)});let r=[];p1(t,Nt(),(i,s)=>{r=r.concat(Jf(n.serverSyncTree_,i,s));const o=hb(n,i);Wu(n,o)}),n.onDisconnect_=Vg(),wi(n.eventQueue_,Nt(),r)}function FU(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&m1(n.onDisconnect_,e),Oo(n,t,r,i)})}function k4(n,e,t,r){const i=un(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&od(n.onDisconnect_,e,i),Oo(n,r,s,o)})}function LU(n,e,t,r,i){const s=un(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,c)=>{o==="ok"&&od(n.onDisconnect_,e,s),Oo(n,i,o,c)})}function OU(n,e,t,r){if(lg(t)){Jn("onDisconnect().update() called with empty data.  Don't do anything."),Oo(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{i==="ok"&&Zn(t,(o,c)=>{const u=un(c);od(n.onDisconnect_,nn(e,o),u)}),Oo(n,r,i,s)})}function MU(n,e,t){let r;pt(e._path)===".info"?r=b1(n.infoSyncTree_,e,t):r=b1(n.serverSyncTree_,e,t),$A(n.eventQueue_,e._path,r)}function E1(n,e,t){let r;pt(e._path)===".info"?r=Gg(n.infoSyncTree_,e,t):r=Gg(n.serverSyncTree_,e,t),$A(n.eventQueue_,e._path,r)}function QA(n){n.persistentConnection_&&n.persistentConnection_.interrupt(qA)}function VU(n){n.persistentConnection_&&n.persistentConnection_.resume(qA)}function cd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Jn(t,...e)}function Oo(n,e,t,r){e&&ad(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function jU(n,e,t,r,i,s){cd(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:H6(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=db(n,e,void 0);o.currentInputSnapshot=c;const u=o.update(c.val());if(u===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Zf("transaction failed: Data returned ",u,o.path),o.status=0;const h=qy(n.transactionQueueTree_,e),p=sc(h)||[];p.push(o),ob(h,p);let y;typeof u=="object"&&u!==null&&_i(u,".priority")?(y=Dl(u,".priority"),je(wf(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=($y(n.serverSyncTree_,e)||at.EMPTY_NODE).getPriority().val();const _=tm(n),v=un(u,y),T=ib(v,c,_);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=T,o.currentWriteId=Jy(n);const b=X2(n.serverSyncTree_,e,T,o.currentWriteId,o.applyLocally);wi(n.eventQueue_,e,b),Xy(n,n.transactionQueueTree_)}}function db(n,e,t){return $y(n.serverSyncTree_,e,t)||at.EMPTY_NODE}function Xy(n,e=n.transactionQueueTree_){if(e||Zy(n,e),sc(e)){const t=JA(n,e);je(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&BU(n,Xf(e),t)}else BA(e)&&Ky(e,t=>{Xy(n,t)})}function BU(n,e,t){const r=t.map(h=>h.currentWriteId),i=db(n,e,r);let s=i;const o=i.hash();for(let h=0;h<t.length;h++){const p=t[h];je(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=kr(e,p.path);s=s.updateChild(y,p.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;n.server_.put(u.toString(),c,h=>{cd(n,"transaction put response",{path:u.toString(),status:h});let p=[];if(h==="ok"){const y=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(uo(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&y.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();Zy(n,qy(n.transactionQueueTree_,e)),Xy(n,n.transactionQueueTree_),wi(n.eventQueue_,e,p);for(let _=0;_<y.length;_++)ad(y[_])}else{if(h==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{br("transaction at "+u.toString()+" failed: "+h);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=h}Wu(n,e)}},o)}function Wu(n,e){const t=YA(n,e),r=Xf(t),i=JA(n,t);return zU(n,i,r),r}function zU(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],h=kr(t,u.path);let p=!1,y;if(je(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,y=u.abortReason,i=i.concat(uo(n.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=CU)p=!0,y="maxretry",i=i.concat(uo(n.serverSyncTree_,u.currentWriteId,!0));else{const _=db(n,u.path,o);u.currentInputSnapshot=_;const v=e[c].update(_.val());if(v!==void 0){Zf("transaction failed: Data returned ",v,u.path);let T=un(v);typeof v=="object"&&v!=null&&_i(v,".priority")||(T=T.updatePriority(_.getPriority()));const I=u.currentWriteId,S=tm(n),N=ib(T,_,S);u.currentOutputSnapshotRaw=T,u.currentOutputSnapshotResolved=N,u.currentWriteId=Jy(n),o.splice(o.indexOf(I),1),i=i.concat(X2(n.serverSyncTree_,u.path,N,u.currentWriteId,u.applyLocally)),i=i.concat(uo(n.serverSyncTree_,I,!0))}else p=!0,y="nodata",i=i.concat(uo(n.serverSyncTree_,u.currentWriteId,!0))}wi(n.eventQueue_,t,i),i=[],p&&(e[c].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(y),!1,null))))}Zy(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)ad(r[c]);Xy(n,n.transactionQueueTree_)}function YA(n,e){let t,r=n.transactionQueueTree_;for(t=pt(e);t!==null&&sc(r)===void 0;)r=qy(r,t),e=Bt(e),t=pt(e);return r}function JA(n,e){const t=[];return XA(n,e,t),t.sort((r,i)=>r.order-i.order),t}function XA(n,e,t){const r=sc(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Ky(e,i=>{XA(n,i,t)})}function Zy(n,e){const t=sc(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,ob(e,t.length>0?t:void 0)}Ky(e,r=>{Zy(n,r)})}function hb(n,e){const t=Xf(YA(n,e)),r=qy(n.transactionQueueTree_,e);return _U(r,i=>{u0(n,i)}),u0(n,r),zA(r,i=>{u0(n,i)}),t}function u0(n,e){const t=sc(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(je(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(je(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(uo(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ob(e,void 0):t.length=s+1,wi(n.eventQueue_,Xf(e),i);for(let o=0;o<r.length;o++)ad(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function WU(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):br(`Invalid query segment '${t}' in query '${n}'`)}return e}const x1=function(n,e){const t=HU(n),r=t.namespace;t.domain==="firebase.com"&&zs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Zj();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new iA(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new Ft(t.pathString)}},HU=function(n){let e="",t="",r="",i="",s="",o=!0,c="https",u=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(c=n.substring(0,h-1),n=n.substring(h+2));let p=n.indexOf("/");p===-1&&(p=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(p,y)),p<y&&(i=UU(n.substring(p,y)));const _=WU(n.substring(Math.min(n.length,y)));h=e.indexOf(":"),h>=0?(o=c==="https"||c==="wss",u=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")t="localhost";else if(v.split(".").length<=2)t=v;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),t=e.substring(T+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$U=(function(){let n=0;const e=[];return function(t){const r=t===n;n=t;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=A4.charAt(t%64),t=Math.floor(t/64);je(t===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=A4.charAt(e[i]);return je(o.length===20,"nextPushId: Length should be 20."),o}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ln(this.snapshot.exportVal())}}class eN{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return je(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GU=class{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new $r;return FU(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Oi("OnDisconnect.remove",this._path);const e=new $r;return k4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Oi("OnDisconnect.set",this._path),Us("OnDisconnect.set",e,this._path,!1);const t=new $r;return k4(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Oi("OnDisconnect.setWithPriority",this._path),Us("OnDisconnect.setWithPriority",e,this._path,!1),lb("OnDisconnect.setWithPriority",t);const r=new $r;return LU(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Oi("OnDisconnect.update",this._path),WA("OnDisconnect.update",e,this._path);const t=new $r;return OU(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:V2(this._path)}get ref(){return new Ui(this._repo,this._path)}get _queryIdentifier(){const e=p4(this._queryParams),t=F2(e);return t==="{}"?"default":t}get _queryObject(){return p4(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof ei))return!1;const t=this._repo===e._repo,r=j2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+OB(this._path)}}function e_(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ho(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Ms){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ro)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==va)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===Ht){if(e!=null&&!wf(e)||t!=null&&!wf(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(je(n.getIndex()instanceof U2||n.getIndex()===W2,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function t_(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ui extends ei{constructor(e,t){super(e,t,new By,!1)}get parent(){const e=fA(this._path);return e===null?null:new Ui(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let n_=class I1{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ft(e),r=Kl(this.ref,e);return new I1(this._node.getChild(t),r,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new I1(i,Kl(this.ref,r),Ht)))}hasChild(e){const t=new Ft(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function tN(n,e){return n=Ke(n),n._checkNotDeleted("ref"),e!==void 0?Kl(n._root,e):n._root}function N4(n,e){n=Ke(n),n._checkNotDeleted("refFromURL");const t=x1(e,n._repo.repoInfo_.nodeAdmin);HA("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&zs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),tN(n,t.path.toString())}function Kl(n,e){return n=Ke(n),pt(n._path)===null?xU("child","path",e):bf("child","path",e),new Ui(n._repo,nn(n._path,e))}function qU(n,e){n=Ke(n),Oi("push",n._path),Us("push",e,n._path,!0);const t=KA(n._repo),r=$U(t),i=Kl(n,r),s=Kl(n,r);let o;return e!=null?o=mb(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function KU(n){return Oi("remove",n._path),mb(n,null)}function mb(n,e){n=Ke(n),Oi("set",n._path),Us("set",e,n._path,!1);const t=new $r;return ub(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function QU(n,e){n=Ke(n),Oi("setPriority",n._path),lb("setPriority",e);const t=new $r;return ub(n._repo,nn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}function YU(n,e,t){if(Oi("setWithPriority",n._path),Us("setWithPriority",e,n._path,!1),lb("setWithPriority",t),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new $r;return ub(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}function JU(n,e){WA("update",e,n._path);const t=new $r;return RU(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function XU(n){n=Ke(n);const e=new fb(()=>{}),t=new nm(e);return NU(n._repo,n,t).then(r=>new n_(r,new Ui(n._repo,n._path),n._queryParams.getIndex()))}class nm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new ZA("value",this,new n_(e.snapshotNode,new Ui(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eN(this,e,t):null}matches(e){return e instanceof nm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class r_{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eN(this,e,t):null}createEvent(e,t){je(e.childName!=null,"Child events should have a childName.");const r=Kl(new Ui(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new ZA(e.type,this,new n_(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof r_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function rm(n,e,t,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=t,h=(p,y)=>{E1(n._repo,n,c),u(p,y)};h.userCallback=t.userCallback,h.context=t.context,t=h}const o=new fb(t,s||void 0),c=e==="value"?new nm(o):new r_(e,o);return MU(n._repo,n,c),()=>E1(n._repo,n,c)}function S1(n,e,t,r){return rm(n,"value",e,t,r)}function R4(n,e,t,r){return rm(n,"child_added",e,t,r)}function D4(n,e,t,r){return rm(n,"child_changed",e,t,r)}function F4(n,e,t,r){return rm(n,"child_moved",e,t,r)}function L4(n,e,t,r){return rm(n,"child_removed",e,t,r)}function O4(n,e,t){let r=null;const i=t?new fb(t):null;e==="value"?r=new nm(i):e&&(r=new r_(e,i)),E1(n._repo,n,r)}class fs{}class nN extends fs{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Us("endAt",this._value,e._path,!0);const t=f1(e._queryParams,this._value,this._key);if(t_(t),Ho(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ei(e._repo,e._path,t,e._orderByCalled)}}function ZU(n,e){return em("endAt","key",e),new nN(n,e)}class eW extends fs{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){Us("endBefore",this._value,e._path,!1);const t=lz(e._queryParams,this._value,this._key);if(t_(t),Ho(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ei(e._repo,e._path,t,e._orderByCalled)}}function tW(n,e){return em("endBefore","key",e),new eW(n,e)}class rN extends fs{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Us("startAt",this._value,e._path,!0);const t=h1(e._queryParams,this._value,this._key);if(t_(t),Ho(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ei(e._repo,e._path,t,e._orderByCalled)}}function nW(n=null,e){return em("startAt","key",e),new rN(n,e)}class rW extends fs{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){Us("startAfter",this._value,e._path,!1);const t=oz(e._queryParams,this._value,this._key);if(t_(t),Ho(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ei(e._repo,e._path,t,e._orderByCalled)}}function iW(n,e){return em("startAfter","key",e),new rW(n,e)}class sW extends fs{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ei(e._repo,e._path,sz(e._queryParams,this._limit),e._orderByCalled)}}function aW(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sW(n)}class oW extends fs{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ei(e._repo,e._path,az(e._queryParams,this._limit),e._orderByCalled)}}function lW(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new oW(n)}class cW extends fs{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){e_(e,"orderByChild");const t=new Ft(this._path);if(gt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new U2(t),i=zy(e._queryParams,r);return Ho(i),new ei(e._repo,e._path,i,!0)}}function uW(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bf("orderByChild","path",n),new cW(n)}class dW extends fs{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){e_(e,"orderByKey");const t=zy(e._queryParams,Ms);return Ho(t),new ei(e._repo,e._path,t,!0)}}function hW(){return new dW}class fW extends fs{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){e_(e,"orderByPriority");const t=zy(e._queryParams,Ht);return Ho(t),new ei(e._repo,e._path,t,!0)}}function mW(){return new fW}class pW extends fs{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){e_(e,"orderByValue");const t=zy(e._queryParams,W2);return Ho(t),new ei(e._repo,e._path,t,!0)}}function gW(){return new pW}class yW extends fs{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Us("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nN(this._value,this._key)._apply(new rN(this._value,this._key)._apply(e))}}function _W(n,e){return em("equalTo","key",e),new yW(n,e)}function rs(n,...e){let t=Ke(n);for(const r of e)t=r._apply(t);return t}Yz(Ui);tU(Ui);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="FIREBASE_DATABASE_EMULATOR_HOST",C1={};let wW=!1;function bW(n,e,t,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Mo(s);n.repoInfo_=new iA(e,o,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function iN(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=x1(s,i),c=o.repoInfo,u,h;typeof process<"u"&&JI&&(h=JI[vW]),h?(u=!0,s=`http://${h}?ns=${c.namespace}`,o=x1(s,i),c=o.repoInfo):u=!o.repoInfo.secure;const p=i&&u?new mu(mu.OWNER):new uB(n.name,n.options,e);HA("Invalid Firebase Database URL",o),gt(o.path)||zs("Database URL must point to the root of a Firebase Database (not including a child path).");const y=EW(c,n,p,new cB(n,t));return new xW(y,n)}function TW(n,e){const t=C1[e];(!t||t[n.key]!==n)&&zs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),QA(n),delete t[n.key]}function EW(n,e,t,r){let i=C1[e.name];i||(i={},C1[e.name]=i);let s=i[n.toURLString()];return s&&zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new PU(n,wW,t,r),i[n.toURLString()]=s,s}let xW=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,Nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zs("Cannot call "+e+" on a deleted database.")}};function sN(){ju.IS_TRANSPORT_INITIALIZED&&br("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function IW(){sN(),co.forceDisallow()}function SW(){sN(),Ri.forceDisallow(),co.forceAllow()}function CW(n,e,t,r={}){n=Ke(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&fa(r,s.repoInfo_.emulatorOptions))return;zs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new mu(mu.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:kS(r.mockUserToken,n.app.options.projectId);o=new mu(c)}Mo(e)&&(Y1(e),J1("Database",!0)),bW(s,i,r,o)}function PW(n){n=Ke(n),n._checkNotDeleted("goOffline"),QA(n._repo)}function kW(n){n=Ke(n),n._checkNotDeleted("goOnline"),VU(n._repo)}function AW(n,e){G6(n,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(n){U6(wa),pa(new Zr("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return iN(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),yi(XI,ZI,n),yi(XI,ZI,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW={".sv":"timestamp"};function DW(){return RW}function FW(n){return{".sv":{increment:n}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LW=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function OW(n,e,t){if(n=Ke(n),Oi("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=(t==null?void 0:t.applyLocally)??!0,i=new $r,s=(c,u,h)=>{let p=null;c?i.reject(c):(p=new n_(h,new Ui(n._repo,n._path),Ht),i.resolve(new LW(u,p)))},o=S1(n,()=>{});return jU(n._repo,n._path,e,s,o,r),i.promise}da.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};da.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};NW();const MW="@firebase/database-compat",VW="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=new Ku("@firebase/database-compat"),aN=function(n){const e="FIREBASE WARNING: "+n;jW.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=function(n,e,t,r){if(t!==void 0&&typeof t!="boolean")throw new Error(Yr(n,e)+"must be a boolean.")},zW=function(n,e,t){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Yr(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e){this._delegate=e}cancel(e){ct("OnDisconnect.cancel",0,1,arguments.length),Kn("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){ct("OnDisconnect.remove",0,1,arguments.length),Kn("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){ct("OnDisconnect.set",1,2,arguments.length),Kn("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){ct("OnDisconnect.setWithPriority",2,3,arguments.length),Kn("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if(ct("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,aN("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Kn("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return ct("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){this._database=e,this._delegate=t}val(){return ct("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ct("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ct("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ct("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ct("DataSnapshot.child",0,1,arguments.length),e=String(e),bf("DataSnapshot.child","path",e),new wo(this._database,this._delegate.child(e))}hasChild(e){return ct("DataSnapshot.hasChild",1,1,arguments.length),bf("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return ct("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ct("DataSnapshot.forEach",1,1,arguments.length),Kn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new wo(this._database,t)))}hasChildren(){return ct("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ct("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ct("DataSnapshot.ref",0,0,arguments.length),new hi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ir{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var u;ct("Query.on",2,4,arguments.length),Kn("Query.on","callback",t,!1);const s=ir.getCancelAndContextArgs_("Query.on",r,i),o=(h,p)=>{t.call(s.context,new wo(this.database,h),p)};o.userCallback=t,o.context=s.context;const c=(u=s.cancel)==null?void 0:u.bind(s.context);switch(e){case"value":return S1(this._delegate,o,c),t;case"child_added":return R4(this._delegate,o,c),t;case"child_removed":return L4(this._delegate,o,c),t;case"child_changed":return D4(this._delegate,o,c),t;case"child_moved":return F4(this._delegate,o,c),t;default:throw new Error(Yr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(ct("Query.off",0,3,arguments.length),zW("Query.off",e),Kn("Query.off","callback",t,!0),$E("Query.off","context",r),t){const i=()=>{};i.userCallback=t,i.context=r,O4(this._delegate,e,i)}else O4(this._delegate,e)}get(){return XU(this._delegate).then(e=>new wo(this.database,e))}once(e,t,r,i){ct("Query.once",1,4,arguments.length),Kn("Query.once","callback",t,!0);const s=ir.getCancelAndContextArgs_("Query.once",r,i),o=new $r,c=(h,p)=>{const y=new wo(this.database,h);t&&t.call(s.context,y,p),o.resolve(y)};c.userCallback=t,c.context=s.context;const u=h=>{s.cancel&&s.cancel.call(s.context,h),o.reject(h)};switch(e){case"value":S1(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":R4(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":L4(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":D4(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":F4(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error(Yr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ct("Query.limitToFirst",1,1,arguments.length),new ir(this.database,rs(this._delegate,aW(e)))}limitToLast(e){return ct("Query.limitToLast",1,1,arguments.length),new ir(this.database,rs(this._delegate,lW(e)))}orderByChild(e){return ct("Query.orderByChild",1,1,arguments.length),new ir(this.database,rs(this._delegate,uW(e)))}orderByKey(){return ct("Query.orderByKey",0,0,arguments.length),new ir(this.database,rs(this._delegate,hW()))}orderByPriority(){return ct("Query.orderByPriority",0,0,arguments.length),new ir(this.database,rs(this._delegate,mW()))}orderByValue(){return ct("Query.orderByValue",0,0,arguments.length),new ir(this.database,rs(this._delegate,gW()))}startAt(e=null,t){return ct("Query.startAt",0,2,arguments.length),new ir(this.database,rs(this._delegate,nW(e,t)))}startAfter(e=null,t){return ct("Query.startAfter",0,2,arguments.length),new ir(this.database,rs(this._delegate,iW(e,t)))}endAt(e=null,t){return ct("Query.endAt",0,2,arguments.length),new ir(this.database,rs(this._delegate,ZU(e,t)))}endBefore(e=null,t){return ct("Query.endBefore",0,2,arguments.length),new ir(this.database,rs(this._delegate,tW(e,t)))}equalTo(e,t){return ct("Query.equalTo",1,2,arguments.length),new ir(this.database,rs(this._delegate,_W(e,t)))}toString(){return ct("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ct("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ct("Query.isEqual",1,1,arguments.length),!(e instanceof ir)){const t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,Kn(e,"cancel",i.cancel,!0),i.context=r,$E(e,"context",i.context);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(Yr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new hi(this.database,new Ui(this._delegate._repo,this._delegate._path))}}class hi extends ir{constructor(e,t){super(e,new ei(t._repo,t._path,new By,!1)),this.database=e,this._delegate=t}getKey(){return ct("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ct("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new hi(this.database,Kl(this._delegate,e))}getParent(){ct("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new hi(this.database,e):null}getRoot(){return ct("Reference.root",0,0,arguments.length),new hi(this.database,this._delegate.root)}set(e,t){ct("Reference.set",1,2,arguments.length),Kn("Reference.set","onComplete",t,!0);const r=mb(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if(ct("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,aN("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oi("Reference.update",this._delegate._path),Kn("Reference.update","onComplete",t,!0);const r=JU(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){ct("Reference.setWithPriority",2,3,arguments.length),Kn("Reference.setWithPriority","onComplete",r,!0);const i=YU(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){ct("Reference.remove",0,1,arguments.length),Kn("Reference.remove","onComplete",e,!0);const t=KU(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){ct("Reference.transaction",1,3,arguments.length),Kn("Reference.transaction","transactionUpdate",e,!1),Kn("Reference.transaction","onComplete",t,!0),BW("Reference.transaction","applyLocally",r);const i=OW(this._delegate,e,{applyLocally:r}).then(s=>new WW(s.committed,new wo(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){ct("Reference.setPriority",1,2,arguments.length),Kn("Reference.setPriority","onComplete",t,!0);const r=QU(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){ct("Reference.push",0,2,arguments.length),Kn("Reference.push","onComplete",t,!0);const r=qU(this._delegate,e),i=r.then(o=>new hi(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new hi(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Oi("Reference.onDisconnect",this._delegate._path),new UW(new GU(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:IW,forceLongPolling:SW}}useEmulator(e,t,r={}){CW(this._delegate,e,t,r)}ref(e){if(ct("database.ref",0,1,arguments.length),e instanceof hi){const t=N4(this._delegate,e.toString());return new hi(this,t)}else{const t=tN(this._delegate,e);return new hi(this,t)}}refFromURL(e){ct("database.refFromURL",1,1,arguments.length);const r=N4(this._delegate,e);return new hi(this,r)}goOffline(){return ct("database.goOffline",0,0,arguments.length),PW(this._delegate)}goOnline(){return ct("database.goOnline",0,0,arguments.length),kW(this._delegate)}}Tf.ServerValue={TIMESTAMP:DW(),increment:n=>FW(n)};function HW({app:n,url:e,version:t,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){U6(t);const c=new Z1("database-standalone"),u=new _0("auth-internal",c);u.setComponent(new Zr("auth-internal",()=>r,"PRIVATE"));let h;return i&&(h=new _0("app-check-internal",c),h.setComponent(new Zr("app-check-internal",()=>i,"PRIVATE"))),{instance:new Tf(iN(n,u,h,e,o),n),namespace:s}}var $W=Object.freeze({__proto__:null,initStandalone:HW});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=Tf.ServerValue;function qW(n){n.INTERNAL.registerComponent(new Zr("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new Tf(i,r)},"PUBLIC").setServiceProps({Reference:hi,Query:ir,Database:Tf,DataSnapshot:wo,enableLogging:AW,INTERNAL:$W,ServerValue:GW}).setMultipleInstances(!0)),n.registerVersion(MW,VW)}qW(On);const KW={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};On.apps.length||On.initializeApp(KW);const Cn=On.auth(),qg=On.firestore();On.database();const QW="GitutOfflineDB",YW=11,ud=()=>new Promise((n,e)=>{const t=indexedDB.open(QW,YW);t.onerror=()=>e("Error opening IndexedDB."),t.onsuccess=()=>n(t.result),t.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs","cafeDocumentsData","favorites"].forEach(o=>{if(!i.objectStoreNames.contains(o)){let c={keyPath:"id"};o==="tagTitleLists"&&(c={keyPath:"tag"}),i.createObjectStore(o,c)}})}}),Jr=async(n,e)=>{const t=await ud();return new Promise(r=>{const o=t.transaction(n,"readonly").objectStore(n).get(e);o.onsuccess=()=>r(o.result),o.onerror=()=>r(null)})},Hn=async n=>{const e=await ud();return new Promise(t=>{const s=e.transaction(n,"readonly").objectStore(n).getAll();s.onsuccess=()=>t(s.result||[]),s.onerror=()=>t([])})},rn=async(n,e)=>{const t=await ud();return new Promise((r,i)=>{const c=t.transaction(n,"readwrite").objectStore(n).put(e);c.onsuccess=()=>r(),c.onerror=()=>i(c.error)})},$n=async(n,e)=>{if(!e||e.length===0)return;const t=await ud();return new Promise((r,i)=>{const s=t.transaction(n,"readwrite"),o=s.objectStore(n);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),o.clear(),e.forEach(c=>{c&&c.id!==void 0?o.put(c):console.warn(`Item in store '${n}' is missing an 'id' and was skipped.`,c)})})},Ql=async(n,e)=>{const t=await ud();return new Promise((r,i)=>{const c=t.transaction(n,"readwrite").objectStore(n).delete(e);c.onsuccess=()=>r(),c.onerror=()=>i(c.error)})},JW=async()=>Hn("pendingCreditDeductions"),XW=async()=>{const n=await ud();return new Promise((e,t)=>{const s=n.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>t(s.error)})};function Np(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var d0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var M4;function ZW(){return M4||(M4=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,s){function o(h,p){if(!i[h]){if(!r[h]){var y=typeof Np=="function"&&Np;if(!p&&y)return y(h,!0);if(c)return c(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var v=i[h]={exports:{}};r[h][0].call(v.exports,function(T){var b=r[h][1][T];return o(b||T)},v,v.exports,t,r,i,s)}return i[h].exports}for(var c=typeof Np=="function"&&Np,u=0;u<s.length;u++)o(s[u]);return o})({1:[function(t,r,i){var s=t("./utils"),o=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var h,p,y,_,v,T,b,I=[],S=0,N=u.length,L=N,z=s.getTypeOf(u)!=="string";S<u.length;)L=N-S,y=z?(h=u[S++],p=S<N?u[S++]:0,S<N?u[S++]:0):(h=u.charCodeAt(S++),p=S<N?u.charCodeAt(S++):0,S<N?u.charCodeAt(S++):0),_=h>>2,v=(3&h)<<4|p>>4,T=1<L?(15&p)<<2|y>>6:64,b=2<L?63&y:64,I.push(c.charAt(_)+c.charAt(v)+c.charAt(T)+c.charAt(b));return I.join("")},i.decode=function(u){var h,p,y,_,v,T,b=0,I=0,S="data:";if(u.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var N,L=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&L--,u.charAt(u.length-2)===c.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=o.uint8array?new Uint8Array(0|L):new Array(0|L);b<u.length;)h=c.indexOf(u.charAt(b++))<<2|(_=c.indexOf(u.charAt(b++)))>>4,p=(15&_)<<4|(v=c.indexOf(u.charAt(b++)))>>2,y=(3&v)<<6|(T=c.indexOf(u.charAt(b++))),N[I++]=h,v!==64&&(N[I++]=p),T!==64&&(N[I++]=y);return N}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),o=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(p,y,_,v,T){this.compressedSize=p,this.uncompressedSize=y,this.crc32=_,this.compression=v,this.compressedContent=T}h.prototype={getContentWorker:function(){var p=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),y=this;return p.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(p,y,_){return p.pipe(new c).pipe(new u("uncompressedSize")).pipe(y.compressWorker(_)).pipe(new u("compressedSize")).withStreamInfo("compression",y)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),o=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();r.exports=function(c,u){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?(function(h,p,y,_){var v=o,T=_+y;h^=-1;for(var b=_;b<T;b++)h=h>>>8^v[255&(h^p[b])];return-1^h})(0|u,c,c.length,0):(function(h,p,y,_){var v=o,T=_+y;h^=-1;for(var b=_;b<T;b++)h=h>>>8^v[255&(h^p.charCodeAt(b))];return-1^h})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),c=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";function p(y,_){u.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=_,this.meta={}}i.magic="\b\0",c.inherits(p,u),p.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,y.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(_){y.push({data:_,meta:y.meta})}},i.compressWorker=function(y){return new p("Deflate",y)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(v,T){var b,I="";for(b=0;b<T;b++)I+=String.fromCharCode(255&v),v>>>=8;return I}function o(v,T,b,I,S,N){var L,z,$=v.file,Y=v.compression,F=N!==h.utf8encode,R=c.transformTo("string",N($.name)),O=c.transformTo("string",h.utf8encode($.name)),B=$.comment,W=c.transformTo("string",N(B)),D=c.transformTo("string",h.utf8encode(B)),M=O.length!==$.name.length,C=D.length!==B.length,te="",xe="",ee="",Z=$.dir,K=$.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};T&&!b||(ie.crc32=v.crc32,ie.compressedSize=v.compressedSize,ie.uncompressedSize=v.uncompressedSize);var j=0;T&&(j|=8),F||!M&&!C||(j|=2048);var H=0,Te=0;Z&&(H|=16),S==="UNIX"?(Te=798,H|=(function(fe,de){var ke=fe;return fe||(ke=de?16893:33204),(65535&ke)<<16})($.unixPermissions,Z)):(Te=20,H|=(function(fe){return 63&(fe||0)})($.dosPermissions)),L=K.getUTCHours(),L<<=6,L|=K.getUTCMinutes(),L<<=5,L|=K.getUTCSeconds()/2,z=K.getUTCFullYear()-1980,z<<=4,z|=K.getUTCMonth()+1,z<<=5,z|=K.getUTCDate(),M&&(xe=s(1,1)+s(p(R),4)+O,te+="up"+s(xe.length,2)+xe),C&&(ee=s(1,1)+s(p(W),4)+D,te+="uc"+s(ee.length,2)+ee);var re="";return re+=`
\0`,re+=s(j,2),re+=Y.magic,re+=s(L,2),re+=s(z,2),re+=s(ie.crc32,4),re+=s(ie.compressedSize,4),re+=s(ie.uncompressedSize,4),re+=s(R.length,2),re+=s(te.length,2),{fileRecord:y.LOCAL_FILE_HEADER+re+R+te,dirRecord:y.CENTRAL_FILE_HEADER+s(Te,2)+re+s(W.length,2)+"\0\0\0\0"+s(H,4)+s(I,4)+R+te+W}}var c=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),p=t("../crc32"),y=t("../signature");function _(v,T,b,I){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=T,this.zipPlatform=b,this.encodeFileName=I,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(_,u),_.prototype.push=function(v){var T=v.meta.percent||0,b=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,u.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:b?(T+100*(b-I-1))/b:100}}))},_.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var T=this.streamFiles&&!v.file.dir;if(T){var b=o(v,T,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(v){this.accumulate=!1;var T=this.streamFiles&&!v.file.dir,b=o(v,T,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),T)this.push({data:(function(I){return y.DATA_DESCRIPTOR+s(I.crc32,4)+s(I.compressedSize,4)+s(I.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var v=this.bytesWritten,T=0;T<this.dirRecords.length;T++)this.push({data:this.dirRecords[T],meta:{percent:100}});var b=this.bytesWritten-v,I=(function(S,N,L,z,$){var Y=c.transformTo("string",$(z));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(S,2)+s(S,2)+s(N,4)+s(L,4)+s(Y.length,2)+Y})(this.dirRecords.length,b,v,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(v){this._sources.push(v);var T=this;return v.on("data",function(b){T.processChunk(b)}),v.on("end",function(){T.closedSource(T.previous.streamInfo),T._sources.length?T.prepareNextSource():T.end()}),v.on("error",function(b){T.error(b)}),this},_.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(v){var T=this._sources;if(!u.prototype.error.call(this,v))return!1;for(var b=0;b<T.length;b++)try{T[b].error(v)}catch{}return!0},_.prototype.lock=function(){u.prototype.lock.call(this);for(var v=this._sources,T=0;T<v.length;T++)v[T].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(c,u,h){var p=new o(u.streamFiles,h,u.platform,u.encodeFileName),y=0;try{c.forEach(function(_,v){y++;var T=(function(N,L){var z=N||L,$=s[z];if(!$)throw new Error(z+" is not a valid compression method !");return $})(v.options.compression,u.compression),b=v.options.compressionOptions||u.compressionOptions||{},I=v.dir,S=v.date;v._compressWorker(T,b).withStreamInfo("file",{name:_,dir:I,date:S,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(p)}),p.entriesCount=y}catch(_){p.error(_)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,c){return new s().loadAsync(o,c)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),o=t("./external"),c=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function y(_){return new o.Promise(function(v,T){var b=_.decompressed.getContentWorker().pipe(new h);b.on("error",function(I){T(I)}).on("end",function(){b.streamInfo.crc32!==_.decompressed.crc32?T(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(_,v){var T=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(_)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",_,!0,v.optimizedBinaryString,v.base64).then(function(b){var I=new u(v);return I.load(b),I}).then(function(b){var I=[o.Promise.resolve(b)],S=b.files;if(v.checkCRC32)for(var N=0;N<S.length;N++)I.push(y(S[N]));return o.Promise.all(I)}).then(function(b){for(var I=b.shift(),S=I.files,N=0;N<S.length;N++){var L=S[N],z=L.fileNameStr,$=s.resolve(L.fileNameStr);T.file($,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:v.createFolders}),L.dir||(T.file($).unsafeOriginalName=z)}return I.zipComment.length&&(T.comment=I.zipComment),T})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),o=t("../stream/GenericWorker");function c(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,o),c.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(p){h.push({data:p,meta:{percent:0}})}).on("error",function(p){h.isPaused?this.generatedError=p:h.error(p)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function o(c,u,h){s.call(this,u),this._helper=c;var p=this;c.on("data",function(y,_){p.push(y)||p._helper.pause(),h&&h(_)}).on("error",function(y){p.emit("error",y)}).on("end",function(){p.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s($,Y,F){var R,O=c.getTypeOf(Y),B=c.extend(F||{},p);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&($=S($)),B.createFolders&&(R=I($))&&N.call(this,R,!0);var W=O==="string"&&B.binary===!1&&B.base64===!1;F&&F.binary!==void 0||(B.binary=!W),(Y instanceof y&&Y.uncompressedSize===0||B.dir||!Y||Y.length===0)&&(B.base64=!1,B.binary=!0,Y="",B.compression="STORE",O="string");var D=null;D=Y instanceof y||Y instanceof u?Y:T.isNode&&T.isStream(Y)?new b($,Y):c.prepareContent($,Y,B.binary,B.optimizedBinaryString,B.base64);var M=new _($,D,B);this.files[$]=M}var o=t("./utf8"),c=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),p=t("./defaults"),y=t("./compressedObject"),_=t("./zipObject"),v=t("./generate"),T=t("./nodejsUtils"),b=t("./nodejs/NodejsStreamInputAdapter"),I=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var Y=$.lastIndexOf("/");return 0<Y?$.substring(0,Y):""},S=function($){return $.slice(-1)!=="/"&&($+="/"),$},N=function($,Y){return Y=Y!==void 0?Y:p.createFolders,$=S($),this.files[$]||s.call(this,$,null,{dir:!0,createFolders:Y}),this.files[$]};function L($){return Object.prototype.toString.call($)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var Y,F,R;for(Y in this.files)R=this.files[Y],(F=Y.slice(this.root.length,Y.length))&&Y.slice(0,this.root.length)===this.root&&$(F,R)},filter:function($){var Y=[];return this.forEach(function(F,R){$(F,R)&&Y.push(R)}),Y},file:function($,Y,F){if(arguments.length!==1)return $=this.root+$,s.call(this,$,Y,F),this;if(L($)){var R=$;return this.filter(function(B,W){return!W.dir&&R.test(B)})}var O=this.files[this.root+$];return O&&!O.dir?O:null},folder:function($){if(!$)return this;if(L($))return this.filter(function(O,B){return B.dir&&$.test(O)});var Y=this.root+$,F=N.call(this,Y),R=this.clone();return R.root=F.name,R},remove:function($){$=this.root+$;var Y=this.files[$];if(Y||($.slice(-1)!=="/"&&($+="/"),Y=this.files[$]),Y&&!Y.dir)delete this.files[$];else for(var F=this.filter(function(O,B){return B.name.slice(0,$.length)===$}),R=0;R<F.length;R++)delete this.files[F[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var Y,F={};try{if((F=c.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");c.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var R=F.comment||this.comment||"";Y=v.generateWorker(this,F,R)}catch(O){(Y=new u("error")).error(O)}return new h(Y,F.type||"string",F.mimeType)},generateAsync:function($,Y){return this.generateInternalStream($).accumulate(Y)},generateNodeStream:function($,Y){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(Y)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function o(c){s.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}t("../utils").inherits(o,s),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),h=c.charCodeAt(1),p=c.charCodeAt(2),y=c.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===u&&this.data[_+1]===h&&this.data[_+2]===p&&this.data[_+3]===y)return _-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),h=c.charCodeAt(1),p=c.charCodeAt(2),y=c.charCodeAt(3),_=this.readData(4);return u===_[0]&&h===_[1]&&p===_[2]&&y===_[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,h=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=c,h},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=o},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function o(c){s.call(this,c)}t("../utils").inherits(o,s),o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function o(c){s.call(this,c)}t("../utils").inherits(o,s),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function o(c){s.call(this,c)}t("../utils").inherits(o,s),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),o=t("../support"),c=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");r.exports=function(y){var _=s.getTypeOf(y);return s.checkSupport(_),_!=="string"||o.uint8array?_==="nodebuffer"?new h(y):o.uint8array?new p(s.transformTo("uint8array",y)):new c(s.transformTo("array",y)):new u(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),o=t("../utils");function c(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(c,s),c.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),o=t("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,s),c.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function c(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(c,o),c.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function c(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){h.dataIsReady=!0,h.data=p,h.max=p&&p.length||0,h.type=s.getTypeOf(p),h.isPaused||h._tickAndRepeat()},function(p){h.error(p)})}s.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(u){c.processChunk(u)}),o.on("end",function(){c.end()}),o.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),o=t("./ConvertWorker"),c=t("./GenericWorker"),u=t("../base64"),h=t("../support"),p=t("../external"),y=null;if(h.nodestream)try{y=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(T,b){return new p.Promise(function(I,S){var N=[],L=T._internalType,z=T._outputType,$=T._mimeType;T.on("data",function(Y,F){N.push(Y),b&&b(F)}).on("error",function(Y){N=[],S(Y)}).on("end",function(){try{var Y=(function(F,R,O){switch(F){case"blob":return s.newBlob(s.transformTo("arraybuffer",R),O);case"base64":return u.encode(R);default:return s.transformTo(F,R)}})(z,(function(F,R){var O,B=0,W=null,D=0;for(O=0;O<R.length;O++)D+=R[O].length;switch(F){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(W=new Uint8Array(D),O=0;O<R.length;O++)W.set(R[O],B),B+=R[O].length;return W;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+F+"'")}})(L,N),$);I(Y)}catch(F){S(F)}N=[]}).resume()})}function v(T,b,I){var S=b;switch(b){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=b,this._mimeType=I,s.checkSupport(S),this._worker=T.pipe(new o(S)),T.lock()}catch(N){this._worker=new c("error"),this._worker.error(N)}}v.prototype={accumulate:function(T){return _(this,T)},on:function(T,b){var I=this;return T==="data"?this._worker.on(T,function(S){b.call(I,S.data,S.meta)}):this._worker.on(T,function(){s.delay(b,arguments,I)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},T)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),o=t("./support"),c=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),p=0;p<256;p++)h[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;h[254]=h[254]=1;function y(){u.call(this,"utf-8 decode"),this.leftOver=null}function _(){u.call(this,"utf-8 encode")}i.utf8encode=function(v){return o.nodebuffer?c.newBufferFrom(v,"utf-8"):(function(T){var b,I,S,N,L,z=T.length,$=0;for(N=0;N<z;N++)(64512&(I=T.charCodeAt(N)))==55296&&N+1<z&&(64512&(S=T.charCodeAt(N+1)))==56320&&(I=65536+(I-55296<<10)+(S-56320),N++),$+=I<128?1:I<2048?2:I<65536?3:4;for(b=o.uint8array?new Uint8Array($):new Array($),N=L=0;L<$;N++)(64512&(I=T.charCodeAt(N)))==55296&&N+1<z&&(64512&(S=T.charCodeAt(N+1)))==56320&&(I=65536+(I-55296<<10)+(S-56320),N++),I<128?b[L++]=I:(I<2048?b[L++]=192|I>>>6:(I<65536?b[L++]=224|I>>>12:(b[L++]=240|I>>>18,b[L++]=128|I>>>12&63),b[L++]=128|I>>>6&63),b[L++]=128|63&I);return b})(v)},i.utf8decode=function(v){return o.nodebuffer?s.transformTo("nodebuffer",v).toString("utf-8"):(function(T){var b,I,S,N,L=T.length,z=new Array(2*L);for(b=I=0;b<L;)if((S=T[b++])<128)z[I++]=S;else if(4<(N=h[S]))z[I++]=65533,b+=N-1;else{for(S&=N===2?31:N===3?15:7;1<N&&b<L;)S=S<<6|63&T[b++],N--;1<N?z[I++]=65533:S<65536?z[I++]=S:(S-=65536,z[I++]=55296|S>>10&1023,z[I++]=56320|1023&S)}return z.length!==I&&(z.subarray?z=z.subarray(0,I):z.length=I),s.applyFromCharCode(z)})(v=s.transformTo(o.uint8array?"uint8array":"array",v))},s.inherits(y,u),y.prototype.processChunk=function(v){var T=s.transformTo(o.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var b=T;(T=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),T.set(b,this.leftOver.length)}else T=this.leftOver.concat(T);this.leftOver=null}var I=(function(N,L){var z;for((L=L||N.length)>N.length&&(L=N.length),z=L-1;0<=z&&(192&N[z])==128;)z--;return z<0||z===0?L:z+h[N[z]]>L?z:L})(T),S=T;I!==T.length&&(o.uint8array?(S=T.subarray(0,I),this.leftOver=T.subarray(I,T.length)):(S=T.slice(0,I),this.leftOver=T.slice(I,T.length))),this.push({data:i.utf8decode(S),meta:v.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=y,s.inherits(_,u),_.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),o=t("./base64"),c=t("./nodejsUtils"),u=t("./external");function h(b){return b}function p(b,I){for(var S=0;S<b.length;++S)I[S]=255&b.charCodeAt(S);return I}t("setimmediate"),i.newBlob=function(b,I){i.checkSupport("blob");try{return new Blob([b],{type:I})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(b),S.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(b,I,S){var N=[],L=0,z=b.length;if(z<=S)return String.fromCharCode.apply(null,b);for(;L<z;)I==="array"||I==="nodebuffer"?N.push(String.fromCharCode.apply(null,b.slice(L,Math.min(L+S,z)))):N.push(String.fromCharCode.apply(null,b.subarray(L,Math.min(L+S,z)))),L+=S;return N.join("")},stringifyByChar:function(b){for(var I="",S=0;S<b.length;S++)I+=String.fromCharCode(b[S]);return I},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function _(b){var I=65536,S=i.getTypeOf(b),N=!0;if(S==="uint8array"?N=y.applyCanBeUsed.uint8array:S==="nodebuffer"&&(N=y.applyCanBeUsed.nodebuffer),N)for(;1<I;)try{return y.stringifyByChunk(b,S,I)}catch{I=Math.floor(I/2)}return y.stringifyByChar(b)}function v(b,I){for(var S=0;S<b.length;S++)I[S]=b[S];return I}i.applyFromCharCode=_;var T={};T.string={string:h,array:function(b){return p(b,new Array(b.length))},arraybuffer:function(b){return T.string.uint8array(b).buffer},uint8array:function(b){return p(b,new Uint8Array(b.length))},nodebuffer:function(b){return p(b,c.allocBuffer(b.length))}},T.array={string:_,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},T.arraybuffer={string:function(b){return _(new Uint8Array(b))},array:function(b){return v(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},T.uint8array={string:_,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return c.newBufferFrom(b)}},T.nodebuffer={string:_,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return T.nodebuffer.uint8array(b).buffer},uint8array:function(b){return v(b,new Uint8Array(b.length))},nodebuffer:h},i.transformTo=function(b,I){if(I=I||"",!b)return I;i.checkSupport(b);var S=i.getTypeOf(I);return T[S][b](I)},i.resolve=function(b){for(var I=b.split("/"),S=[],N=0;N<I.length;N++){var L=I[N];L==="."||L===""&&N!==0&&N!==I.length-1||(L===".."?S.pop():S.push(L))}return S.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var I,S,N="";for(S=0;S<(b||"").length;S++)N+="\\x"+((I=b.charCodeAt(S))<16?"0":"")+I.toString(16).toUpperCase();return N},i.delay=function(b,I,S){setImmediate(function(){b.apply(S||null,I||[])})},i.inherits=function(b,I){function S(){}S.prototype=I.prototype,b.prototype=new S},i.extend=function(){var b,I,S={};for(b=0;b<arguments.length;b++)for(I in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],I)&&S[I]===void 0&&(S[I]=arguments[b][I]);return S},i.prepareContent=function(b,I,S,N,L){return u.Promise.resolve(I).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new u.Promise(function($,Y){var F=new FileReader;F.onload=function(R){$(R.target.result)},F.onerror=function(R){Y(R.target.error)},F.readAsArrayBuffer(z)}):z}).then(function(z){var $=i.getTypeOf(z);return $?($==="arraybuffer"?z=i.transformTo("uint8array",z):$==="string"&&(L?z=o.decode(z):S&&N!==!0&&(z=(function(Y){return p(Y,s.uint8array?new Uint8Array(Y.length):new Array(Y.length))})(z))),z):u.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),c=t("./signature"),u=t("./zipEntry"),h=t("./support");function p(y){this.files=[],this.loadOptions=y}p.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(_)+", expected "+o.pretty(y)+")")}},isSignature:function(y,_){var v=this.reader.index;this.reader.setIndex(y);var T=this.reader.readString(4)===_;return this.reader.setIndex(v),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),_=h.uint8array?"uint8array":"array",v=o.transformTo(_,y);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,_,v,T=this.zip64EndOfCentralSize-44;0<T;)y=this.reader.readInt(2),_=this.reader.readInt(4),v=this.reader.readData(_),this.zip64ExtensibleData[y]={id:y,length:_,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,_;for(y=0;y<this.files.length;y++)_=this.files[y],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(y=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var _=y;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var T=_-v;if(0<T)this.isSignature(_,c.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(y){this.reader=s(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),c=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),p=t("./compressions"),y=t("./support");function _(v,T){this.options=v,this.loadOptions=T}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var T,b;if(v.skip(22),this.fileNameLength=v.readInt(2),b=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((T=(function(I){for(var S in p)if(Object.prototype.hasOwnProperty.call(p,S)&&p[S].magic===I)return p[S];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,T,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var T=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(T),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var T,b,I,S=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<S;)T=v.readInt(2),b=v.readInt(2),I=v.readData(b),this.extraFields[T]={id:T,length:b,value:I};v.setIndex(S)},handleUTF8:function(){var v=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var T=this.findExtraFieldUnicodePath();if(T!==null)this.fileNameStr=T;else{var b=o.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var S=o.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var T=s(v.value);return T.readInt(1)!==1||u(this.fileName)!==T.readInt(4)?null:h.utf8decode(T.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var T=s(v.value);return T.readInt(1)!==1||u(this.fileComment)!==T.readInt(4)?null:h.utf8decode(T.readData(v.length-5))}return null}},r.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(T,b,I){this.name=T,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=b,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var o=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),p=t("./stream/GenericWorker");s.prototype={internalStream:function(T){var b=null,I="string";try{if(!T)throw new Error("No output type specified.");var S=(I=T.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),b=this._decompressWorker();var N=!this._dataBinary;N&&!S&&(b=b.pipe(new u.Utf8EncodeWorker)),!N&&S&&(b=b.pipe(new u.Utf8DecodeWorker))}catch(L){(b=new p("error")).error(L)}return new o(b,I,"")},async:function(T,b){return this.internalStream(T).accumulate(b)},nodeStream:function(T,b){return this.internalStream(T||"nodebuffer").toNodejsStream(b)},_compressWorker:function(T,b){if(this._data instanceof h&&this._data.compression.magic===T.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(I,T,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<y.length;v++)s.prototype[y[v]]=_;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var o,c,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,p=new u(T),y=s.document.createTextNode("");p.observe(y,{characterData:!0}),o=function(){y.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){T(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(T,0)};else{var _=new s.MessageChannel;_.port1.onmessage=T,o=function(){_.port2.postMessage(0)}}var v=[];function T(){var b,I;c=!0;for(var S=v.length;S;){for(I=v,v=[],b=-1;++b<S;)I[b]();S=v.length}c=!1}r.exports=function(b){v.push(b)!==1||c||o()}}).call(this,typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function o(){}var c={},u=["REJECTED"],h=["FULFILLED"],p=["PENDING"];function y(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,S!==o&&b(this,S)}function _(S,N,L){this.promise=S,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function v(S,N,L){s(function(){var z;try{z=N(L)}catch($){return c.reject(S,$)}z===S?c.reject(S,new TypeError("Cannot resolve promise with itself")):c.resolve(S,z)})}function T(S){var N=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof N=="function")return function(){N.apply(S,arguments)}}function b(S,N){var L=!1;function z(F){L||(L=!0,c.reject(S,F))}function $(F){L||(L=!0,c.resolve(S,F))}var Y=I(function(){N($,z)});Y.status==="error"&&z(Y.value)}function I(S,N){var L={};try{L.value=S(N),L.status="success"}catch(z){L.status="error",L.value=z}return L}(r.exports=y).prototype.finally=function(S){if(typeof S!="function")return this;var N=this.constructor;return this.then(function(L){return N.resolve(S()).then(function(){return L})},function(L){return N.resolve(S()).then(function(){throw L})})},y.prototype.catch=function(S){return this.then(null,S)},y.prototype.then=function(S,N){if(typeof S!="function"&&this.state===h||typeof N!="function"&&this.state===u)return this;var L=new this.constructor(o);return this.state!==p?v(L,this.state===h?S:N,this.outcome):this.queue.push(new _(L,S,N)),L},_.prototype.callFulfilled=function(S){c.resolve(this.promise,S)},_.prototype.otherCallFulfilled=function(S){v(this.promise,this.onFulfilled,S)},_.prototype.callRejected=function(S){c.reject(this.promise,S)},_.prototype.otherCallRejected=function(S){v(this.promise,this.onRejected,S)},c.resolve=function(S,N){var L=I(T,N);if(L.status==="error")return c.reject(S,L.value);var z=L.value;if(z)b(S,z);else{S.state=h,S.outcome=N;for(var $=-1,Y=S.queue.length;++$<Y;)S.queue[$].callFulfilled(N)}return S},c.reject=function(S,N){S.state=u,S.outcome=N;for(var L=-1,z=S.queue.length;++L<z;)S.queue[L].callRejected(N);return S},y.resolve=function(S){return S instanceof this?S:c.resolve(new this(o),S)},y.reject=function(S){var N=new this(o);return c.reject(N,S)},y.all=function(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=S.length,z=!1;if(!L)return this.resolve([]);for(var $=new Array(L),Y=0,F=-1,R=new this(o);++F<L;)O(S[F],F);return R;function O(B,W){N.resolve(B).then(function(D){$[W]=D,++Y!==L||z||(z=!0,c.resolve(R,$))},function(D){z||(z=!0,c.reject(R,D))})}},y.race=function(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=S.length,z=!1;if(!L)return this.resolve([]);for(var $=-1,Y=new this(o);++$<L;)F=S[$],N.resolve(F).then(function(R){z||(z=!0,c.resolve(Y,R))},function(R){z||(z=!0,c.reject(Y,R))});var F;return Y}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),o=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),p=Object.prototype.toString,y=0,_=-1,v=0,T=8;function b(S){if(!(this instanceof b))return new b(S);this.options=o.assign({level:_,method:T,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},S||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var L=s.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(L!==y)throw new Error(u[L]);if(N.header&&s.deflateSetHeader(this.strm,N.header),N.dictionary){var z;if(z=typeof N.dictionary=="string"?c.string2buf(N.dictionary):p.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(L=s.deflateSetDictionary(this.strm,z))!==y)throw new Error(u[L]);this._dict_set=!0}}function I(S,N){var L=new b(N);if(L.push(S,!0),L.err)throw L.msg||u[L.err];return L.result}b.prototype.push=function(S,N){var L,z,$=this.strm,Y=this.options.chunkSize;if(this.ended)return!1;z=N===~~N?N:N===!0?4:0,typeof S=="string"?$.input=c.string2buf(S):p.call(S)==="[object ArrayBuffer]"?$.input=new Uint8Array(S):$.input=S,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new o.Buf8(Y),$.next_out=0,$.avail_out=Y),(L=s.deflate($,z))!==1&&L!==y)return this.onEnd(L),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf($.output,$.next_out))):this.onData(o.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&L!==1);return z===4?(L=s.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===y):z!==2||(this.onEnd(y),!($.avail_out=0))},b.prototype.onData=function(S){this.chunks.push(S)},b.prototype.onEnd=function(S){S===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=b,i.deflate=I,i.deflateRaw=function(S,N){return(N=N||{}).raw=!0,I(S,N)},i.gzip=function(S,N){return(N=N||{}).gzip=!0,I(S,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),o=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),p=t("./zlib/zstream"),y=t("./zlib/gzheader"),_=Object.prototype.toString;function v(b){if(!(this instanceof v))return new v(b);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},b||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||b&&b.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var S=s.inflateInit2(this.strm,I.windowBits);if(S!==u.Z_OK)throw new Error(h[S]);this.header=new y,s.inflateGetHeader(this.strm,this.header)}function T(b,I){var S=new v(I);if(S.push(b,!0),S.err)throw S.msg||h[S.err];return S.result}v.prototype.push=function(b,I){var S,N,L,z,$,Y,F=this.strm,R=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;N=I===~~I?I:I===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof b=="string"?F.input=c.binstring2buf(b):_.call(b)==="[object ArrayBuffer]"?F.input=new Uint8Array(b):F.input=b,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(R),F.next_out=0,F.avail_out=R),(S=s.inflate(F,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&O&&(Y=typeof O=="string"?c.string2buf(O):_.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,S=s.inflateSetDictionary(this.strm,Y)),S===u.Z_BUF_ERROR&&B===!0&&(S=u.Z_OK,B=!1),S!==u.Z_STREAM_END&&S!==u.Z_OK)return this.onEnd(S),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&S!==u.Z_STREAM_END&&(F.avail_in!==0||N!==u.Z_FINISH&&N!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=c.utf8border(F.output,F.next_out),z=F.next_out-L,$=c.buf2string(F.output,L),F.next_out=z,F.avail_out=R-z,z&&o.arraySet(F.output,F.output,L,z,0),this.onData($)):this.onData(o.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(B=!0)}while((0<F.avail_in||F.avail_out===0)&&S!==u.Z_STREAM_END);return S===u.Z_STREAM_END&&(N=u.Z_FINISH),N===u.Z_FINISH?(S=s.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===u.Z_OK):N!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(F.avail_out=0))},v.prototype.onData=function(b){this.chunks.push(b)},v.prototype.onEnd=function(b){b===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=v,i.inflate=T,i.inflateRaw=function(b,I){return(I=I||{}).raw=!0,T(b,I)},i.ungzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var p=h.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var y in p)p.hasOwnProperty(y)&&(u[y]=p[y])}}return u},i.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,p,y,_){if(h.subarray&&u.subarray)u.set(h.subarray(p,p+y),_);else for(var v=0;v<y;v++)u[_+v]=h[p+v]},flattenChunks:function(u){var h,p,y,_,v,T;for(h=y=0,p=u.length;h<p;h++)y+=u[h].length;for(T=new Uint8Array(y),h=_=0,p=u.length;h<p;h++)v=u[h],T.set(v,_),_+=v.length;return T}},c={arraySet:function(u,h,p,y,_){for(var v=0;v<y;v++)u[_+v]=h[p+v]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function p(y,_){if(_<65537&&(y.subarray&&c||!y.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(y,_));for(var v="",T=0;T<_;T++)v+=String.fromCharCode(y[T]);return v}u[254]=u[254]=1,i.string2buf=function(y){var _,v,T,b,I,S=y.length,N=0;for(b=0;b<S;b++)(64512&(v=y.charCodeAt(b)))==55296&&b+1<S&&(64512&(T=y.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(T-56320),b++),N+=v<128?1:v<2048?2:v<65536?3:4;for(_=new s.Buf8(N),b=I=0;I<N;b++)(64512&(v=y.charCodeAt(b)))==55296&&b+1<S&&(64512&(T=y.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(T-56320),b++),v<128?_[I++]=v:(v<2048?_[I++]=192|v>>>6:(v<65536?_[I++]=224|v>>>12:(_[I++]=240|v>>>18,_[I++]=128|v>>>12&63),_[I++]=128|v>>>6&63),_[I++]=128|63&v);return _},i.buf2binstring=function(y){return p(y,y.length)},i.binstring2buf=function(y){for(var _=new s.Buf8(y.length),v=0,T=_.length;v<T;v++)_[v]=y.charCodeAt(v);return _},i.buf2string=function(y,_){var v,T,b,I,S=_||y.length,N=new Array(2*S);for(v=T=0;v<S;)if((b=y[v++])<128)N[T++]=b;else if(4<(I=u[b]))N[T++]=65533,v+=I-1;else{for(b&=I===2?31:I===3?15:7;1<I&&v<S;)b=b<<6|63&y[v++],I--;1<I?N[T++]=65533:b<65536?N[T++]=b:(b-=65536,N[T++]=55296|b>>10&1023,N[T++]=56320|1023&b)}return p(N,T)},i.utf8border=function(y,_){var v;for((_=_||y.length)>y.length&&(_=y.length),v=_-1;0<=v&&(192&y[v])==128;)v--;return v<0||v===0?_:v+u[y[v]]>_?v:_}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,o,c,u){for(var h=65535&s|0,p=s>>>16&65535|0,y=0;c!==0;){for(c-=y=2e3<c?2e3:c;p=p+(h=h+o[u++]|0)|0,--y;);h%=65521,p%=65521}return h|p<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=(function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c})();r.exports=function(o,c,u,h){var p=s,y=h+u;o^=-1;for(var _=h;_<y;_++)o=o>>>8^p[255&(o^c[_])];return-1^o}},{}],46:[function(t,r,i){var s,o=t("../utils/common"),c=t("./trees"),u=t("./adler32"),h=t("./crc32"),p=t("./messages"),y=0,_=4,v=0,T=-2,b=-1,I=4,S=2,N=8,L=9,z=286,$=30,Y=19,F=2*z+1,R=15,O=3,B=258,W=B+O+1,D=42,M=113,C=1,te=2,xe=3,ee=4;function Z(P,me){return P.msg=p[me],me}function K(P){return(P<<1)-(4<P?9:0)}function ie(P){for(var me=P.length;0<=--me;)P[me]=0}function j(P){var me=P.state,ge=me.pending;ge>P.avail_out&&(ge=P.avail_out),ge!==0&&(o.arraySet(P.output,me.pending_buf,me.pending_out,ge,P.next_out),P.next_out+=ge,me.pending_out+=ge,P.total_out+=ge,P.avail_out-=ge,me.pending-=ge,me.pending===0&&(me.pending_out=0))}function H(P,me){c._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,me),P.block_start=P.strstart,j(P.strm)}function Te(P,me){P.pending_buf[P.pending++]=me}function re(P,me){P.pending_buf[P.pending++]=me>>>8&255,P.pending_buf[P.pending++]=255&me}function fe(P,me){var ge,Q,G=P.max_chain_length,J=P.strstart,we=P.prev_length,Se=P.nice_match,q=P.strstart>P.w_size-W?P.strstart-(P.w_size-W):0,pe=P.window,Ee=P.w_mask,ae=P.prev,ye=P.strstart+B,Ie=pe[J+we-1],Pe=pe[J+we];P.prev_length>=P.good_match&&(G>>=2),Se>P.lookahead&&(Se=P.lookahead);do if(pe[(ge=me)+we]===Pe&&pe[ge+we-1]===Ie&&pe[ge]===pe[J]&&pe[++ge]===pe[J+1]){J+=2,ge++;do;while(pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&pe[++J]===pe[++ge]&&J<ye);if(Q=B-(ye-J),J=ye-B,we<Q){if(P.match_start=me,Se<=(we=Q))break;Ie=pe[J+we-1],Pe=pe[J+we]}}while((me=ae[me&Ee])>q&&--G!=0);return we<=P.lookahead?we:P.lookahead}function de(P){var me,ge,Q,G,J,we,Se,q,pe,Ee,ae=P.w_size;do{if(G=P.window_size-P.lookahead-P.strstart,P.strstart>=ae+(ae-W)){for(o.arraySet(P.window,P.window,ae,ae,0),P.match_start-=ae,P.strstart-=ae,P.block_start-=ae,me=ge=P.hash_size;Q=P.head[--me],P.head[me]=ae<=Q?Q-ae:0,--ge;);for(me=ge=ae;Q=P.prev[--me],P.prev[me]=ae<=Q?Q-ae:0,--ge;);G+=ae}if(P.strm.avail_in===0)break;if(we=P.strm,Se=P.window,q=P.strstart+P.lookahead,pe=G,Ee=void 0,Ee=we.avail_in,pe<Ee&&(Ee=pe),ge=Ee===0?0:(we.avail_in-=Ee,o.arraySet(Se,we.input,we.next_in,Ee,q),we.state.wrap===1?we.adler=u(we.adler,Se,Ee,q):we.state.wrap===2&&(we.adler=h(we.adler,Se,Ee,q)),we.next_in+=Ee,we.total_in+=Ee,Ee),P.lookahead+=ge,P.lookahead+P.insert>=O)for(J=P.strstart-P.insert,P.ins_h=P.window[J],P.ins_h=(P.ins_h<<P.hash_shift^P.window[J+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[J+O-1])&P.hash_mask,P.prev[J&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=J,J++,P.insert--,!(P.lookahead+P.insert<O)););}while(P.lookahead<W&&P.strm.avail_in!==0)}function ke(P,me){for(var ge,Q;;){if(P.lookahead<W){if(de(P),P.lookahead<W&&me===y)return C;if(P.lookahead===0)break}if(ge=0,P.lookahead>=O&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ge!==0&&P.strstart-ge<=P.w_size-W&&(P.match_length=fe(P,ge)),P.match_length>=O)if(Q=c._tr_tally(P,P.strstart-P.match_start,P.match_length-O),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=O){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else Q=c._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(Q&&(H(P,!1),P.strm.avail_out===0))return C}return P.insert=P.strstart<O-1?P.strstart:O-1,me===_?(H(P,!0),P.strm.avail_out===0?xe:ee):P.last_lit&&(H(P,!1),P.strm.avail_out===0)?C:te}function ue(P,me){for(var ge,Q,G;;){if(P.lookahead<W){if(de(P),P.lookahead<W&&me===y)return C;if(P.lookahead===0)break}if(ge=0,P.lookahead>=O&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=O-1,ge!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ge<=P.w_size-W&&(P.match_length=fe(P,ge),P.match_length<=5&&(P.strategy===1||P.match_length===O&&4096<P.strstart-P.match_start)&&(P.match_length=O-1)),P.prev_length>=O&&P.match_length<=P.prev_length){for(G=P.strstart+P.lookahead-O,Q=c._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-O),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=G&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=O-1,P.strstart++,Q&&(H(P,!1),P.strm.avail_out===0))return C}else if(P.match_available){if((Q=c._tr_tally(P,0,P.window[P.strstart-1]))&&H(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return C}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(Q=c._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<O-1?P.strstart:O-1,me===_?(H(P,!0),P.strm.avail_out===0?xe:ee):P.last_lit&&(H(P,!1),P.strm.avail_out===0)?C:te}function Ce(P,me,ge,Q,G){this.good_length=P,this.max_lazy=me,this.nice_length=ge,this.max_chain=Q,this.func=G}function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*F),this.dyn_dtree=new o.Buf16(2*(2*$+1)),this.bl_tree=new o.Buf16(2*(2*Y+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(R+1),this.heap=new o.Buf16(2*z+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(P){var me;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=S,(me=P.state).pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?D:M,P.adler=me.wrap===2?0:1,me.last_flush=y,c._tr_init(me),v):Z(P,T)}function ot(P){var me=Ae(P);return me===v&&(function(ge){ge.window_size=2*ge.w_size,ie(ge.head),ge.max_lazy_match=s[ge.level].max_lazy,ge.good_match=s[ge.level].good_length,ge.nice_match=s[ge.level].nice_length,ge.max_chain_length=s[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=O-1,ge.match_available=0,ge.ins_h=0})(P.state),me}function lt(P,me,ge,Q,G,J){if(!P)return T;var we=1;if(me===b&&(me=6),Q<0?(we=0,Q=-Q):15<Q&&(we=2,Q-=16),G<1||L<G||ge!==N||Q<8||15<Q||me<0||9<me||J<0||I<J)return Z(P,T);Q===8&&(Q=9);var Se=new Le;return(P.state=Se).strm=P,Se.wrap=we,Se.gzhead=null,Se.w_bits=Q,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=G+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+O-1)/O),Se.window=new o.Buf8(2*Se.w_size),Se.head=new o.Buf16(Se.hash_size),Se.prev=new o.Buf16(Se.w_size),Se.lit_bufsize=1<<G+6,Se.pending_buf_size=4*Se.lit_bufsize,Se.pending_buf=new o.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=me,Se.strategy=J,Se.method=ge,ot(P)}s=[new Ce(0,0,0,0,function(P,me){var ge=65535;for(ge>P.pending_buf_size-5&&(ge=P.pending_buf_size-5);;){if(P.lookahead<=1){if(de(P),P.lookahead===0&&me===y)return C;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var Q=P.block_start+ge;if((P.strstart===0||P.strstart>=Q)&&(P.lookahead=P.strstart-Q,P.strstart=Q,H(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-W&&(H(P,!1),P.strm.avail_out===0))return C}return P.insert=0,me===_?(H(P,!0),P.strm.avail_out===0?xe:ee):(P.strstart>P.block_start&&(H(P,!1),P.strm.avail_out),C)}),new Ce(4,4,8,4,ke),new Ce(4,5,16,8,ke),new Ce(4,6,32,32,ke),new Ce(4,4,16,16,ue),new Ce(8,16,32,32,ue),new Ce(8,16,128,128,ue),new Ce(8,32,128,256,ue),new Ce(32,128,258,1024,ue),new Ce(32,258,258,4096,ue)],i.deflateInit=function(P,me){return lt(P,me,N,15,8,0)},i.deflateInit2=lt,i.deflateReset=ot,i.deflateResetKeep=Ae,i.deflateSetHeader=function(P,me){return P&&P.state?P.state.wrap!==2?T:(P.state.gzhead=me,v):T},i.deflate=function(P,me){var ge,Q,G,J;if(!P||!P.state||5<me||me<0)return P?Z(P,T):T;if(Q=P.state,!P.output||!P.input&&P.avail_in!==0||Q.status===666&&me!==_)return Z(P,P.avail_out===0?-5:T);if(Q.strm=P,ge=Q.last_flush,Q.last_flush=me,Q.status===D)if(Q.wrap===2)P.adler=0,Te(Q,31),Te(Q,139),Te(Q,8),Q.gzhead?(Te(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),Te(Q,255&Q.gzhead.time),Te(Q,Q.gzhead.time>>8&255),Te(Q,Q.gzhead.time>>16&255),Te(Q,Q.gzhead.time>>24&255),Te(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),Te(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(Te(Q,255&Q.gzhead.extra.length),Te(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(P.adler=h(P.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(Te(Q,0),Te(Q,0),Te(Q,0),Te(Q,0),Te(Q,0),Te(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),Te(Q,3),Q.status=M);else{var we=N+(Q.w_bits-8<<4)<<8;we|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(we|=32),we+=31-we%31,Q.status=M,re(Q,we),Q.strstart!==0&&(re(Q,P.adler>>>16),re(Q,65535&P.adler)),P.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(G=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>G&&(P.adler=h(P.adler,Q.pending_buf,Q.pending-G,G)),j(P),G=Q.pending,Q.pending!==Q.pending_buf_size));)Te(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>G&&(P.adler=h(P.adler,Q.pending_buf,Q.pending-G,G)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){G=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>G&&(P.adler=h(P.adler,Q.pending_buf,Q.pending-G,G)),j(P),G=Q.pending,Q.pending===Q.pending_buf_size)){J=1;break}J=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,Te(Q,J)}while(J!==0);Q.gzhead.hcrc&&Q.pending>G&&(P.adler=h(P.adler,Q.pending_buf,Q.pending-G,G)),J===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){G=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>G&&(P.adler=h(P.adler,Q.pending_buf,Q.pending-G,G)),j(P),G=Q.pending,Q.pending===Q.pending_buf_size)){J=1;break}J=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,Te(Q,J)}while(J!==0);Q.gzhead.hcrc&&Q.pending>G&&(P.adler=h(P.adler,Q.pending_buf,Q.pending-G,G)),J===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&j(P),Q.pending+2<=Q.pending_buf_size&&(Te(Q,255&P.adler),Te(Q,P.adler>>8&255),P.adler=0,Q.status=M)):Q.status=M),Q.pending!==0){if(j(P),P.avail_out===0)return Q.last_flush=-1,v}else if(P.avail_in===0&&K(me)<=K(ge)&&me!==_)return Z(P,-5);if(Q.status===666&&P.avail_in!==0)return Z(P,-5);if(P.avail_in!==0||Q.lookahead!==0||me!==y&&Q.status!==666){var Se=Q.strategy===2?(function(q,pe){for(var Ee;;){if(q.lookahead===0&&(de(q),q.lookahead===0)){if(pe===y)return C;break}if(q.match_length=0,Ee=c._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,Ee&&(H(q,!1),q.strm.avail_out===0))return C}return q.insert=0,pe===_?(H(q,!0),q.strm.avail_out===0?xe:ee):q.last_lit&&(H(q,!1),q.strm.avail_out===0)?C:te})(Q,me):Q.strategy===3?(function(q,pe){for(var Ee,ae,ye,Ie,Pe=q.window;;){if(q.lookahead<=B){if(de(q),q.lookahead<=B&&pe===y)return C;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=O&&0<q.strstart&&(ae=Pe[ye=q.strstart-1])===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]){Ie=q.strstart+B;do;while(ae===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]&&ae===Pe[++ye]&&ye<Ie);q.match_length=B-(Ie-ye),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=O?(Ee=c._tr_tally(q,1,q.match_length-O),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(Ee=c._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),Ee&&(H(q,!1),q.strm.avail_out===0))return C}return q.insert=0,pe===_?(H(q,!0),q.strm.avail_out===0?xe:ee):q.last_lit&&(H(q,!1),q.strm.avail_out===0)?C:te})(Q,me):s[Q.level].func(Q,me);if(Se!==xe&&Se!==ee||(Q.status=666),Se===C||Se===xe)return P.avail_out===0&&(Q.last_flush=-1),v;if(Se===te&&(me===1?c._tr_align(Q):me!==5&&(c._tr_stored_block(Q,0,0,!1),me===3&&(ie(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),j(P),P.avail_out===0))return Q.last_flush=-1,v}return me!==_?v:Q.wrap<=0?1:(Q.wrap===2?(Te(Q,255&P.adler),Te(Q,P.adler>>8&255),Te(Q,P.adler>>16&255),Te(Q,P.adler>>24&255),Te(Q,255&P.total_in),Te(Q,P.total_in>>8&255),Te(Q,P.total_in>>16&255),Te(Q,P.total_in>>24&255)):(re(Q,P.adler>>>16),re(Q,65535&P.adler)),j(P),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?v:1)},i.deflateEnd=function(P){var me;return P&&P.state?(me=P.state.status)!==D&&me!==69&&me!==73&&me!==91&&me!==103&&me!==M&&me!==666?Z(P,T):(P.state=null,me===M?Z(P,-3):v):T},i.deflateSetDictionary=function(P,me){var ge,Q,G,J,we,Se,q,pe,Ee=me.length;if(!P||!P.state||(J=(ge=P.state).wrap)===2||J===1&&ge.status!==D||ge.lookahead)return T;for(J===1&&(P.adler=u(P.adler,me,Ee,0)),ge.wrap=0,Ee>=ge.w_size&&(J===0&&(ie(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),pe=new o.Buf8(ge.w_size),o.arraySet(pe,me,Ee-ge.w_size,ge.w_size,0),me=pe,Ee=ge.w_size),we=P.avail_in,Se=P.next_in,q=P.input,P.avail_in=Ee,P.next_in=0,P.input=me,de(ge);ge.lookahead>=O;){for(Q=ge.strstart,G=ge.lookahead-(O-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[Q+O-1])&ge.hash_mask,ge.prev[Q&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=Q,Q++,--G;);ge.strstart=Q,ge.lookahead=O-1,de(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=O-1,ge.match_available=0,P.next_in=Se,P.input=q,P.avail_in=we,ge.wrap=J,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,o){var c,u,h,p,y,_,v,T,b,I,S,N,L,z,$,Y,F,R,O,B,W,D,M,C,te;c=s.state,u=s.next_in,C=s.input,h=u+(s.avail_in-5),p=s.next_out,te=s.output,y=p-(o-s.avail_out),_=p+(s.avail_out-257),v=c.dmax,T=c.wsize,b=c.whave,I=c.wnext,S=c.window,N=c.hold,L=c.bits,z=c.lencode,$=c.distcode,Y=(1<<c.lenbits)-1,F=(1<<c.distbits)-1;e:do{L<15&&(N+=C[u++]<<L,L+=8,N+=C[u++]<<L,L+=8),R=z[N&Y];t:for(;;){if(N>>>=O=R>>>24,L-=O,(O=R>>>16&255)===0)te[p++]=65535&R;else{if(!(16&O)){if((64&O)==0){R=z[(65535&R)+(N&(1<<O)-1)];continue t}if(32&O){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}B=65535&R,(O&=15)&&(L<O&&(N+=C[u++]<<L,L+=8),B+=N&(1<<O)-1,N>>>=O,L-=O),L<15&&(N+=C[u++]<<L,L+=8,N+=C[u++]<<L,L+=8),R=$[N&F];n:for(;;){if(N>>>=O=R>>>24,L-=O,!(16&(O=R>>>16&255))){if((64&O)==0){R=$[(65535&R)+(N&(1<<O)-1)];continue n}s.msg="invalid distance code",c.mode=30;break e}if(W=65535&R,L<(O&=15)&&(N+=C[u++]<<L,(L+=8)<O&&(N+=C[u++]<<L,L+=8)),v<(W+=N&(1<<O)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(N>>>=O,L-=O,(O=p-y)<W){if(b<(O=W-O)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(M=S,(D=0)===I){if(D+=T-O,O<B){for(B-=O;te[p++]=S[D++],--O;);D=p-W,M=te}}else if(I<O){if(D+=T+I-O,(O-=I)<B){for(B-=O;te[p++]=S[D++],--O;);if(D=0,I<B){for(B-=O=I;te[p++]=S[D++],--O;);D=p-W,M=te}}}else if(D+=I-O,O<B){for(B-=O;te[p++]=S[D++],--O;);D=p-W,M=te}for(;2<B;)te[p++]=M[D++],te[p++]=M[D++],te[p++]=M[D++],B-=3;B&&(te[p++]=M[D++],1<B&&(te[p++]=M[D++]))}else{for(D=p-W;te[p++]=te[D++],te[p++]=te[D++],te[p++]=te[D++],2<(B-=3););B&&(te[p++]=te[D++],1<B&&(te[p++]=te[D++]))}break}}break}}while(u<h&&p<_);u-=B=L>>3,N&=(1<<(L-=B<<3))-1,s.next_in=u,s.next_out=p,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=p<_?_-p+257:257-(p-_),c.hold=N,c.bits=L}},{}],49:[function(t,r,i){var s=t("../utils/common"),o=t("./adler32"),c=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),p=1,y=2,_=0,v=-2,T=1,b=852,I=592;function S(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(D){var M;return D&&D.state?(M=D.state,D.total_in=D.total_out=M.total=0,D.msg="",M.wrap&&(D.adler=1&M.wrap),M.mode=T,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new s.Buf32(b),M.distcode=M.distdyn=new s.Buf32(I),M.sane=1,M.back=-1,_):v}function z(D){var M;return D&&D.state?((M=D.state).wsize=0,M.whave=0,M.wnext=0,L(D)):v}function $(D,M){var C,te;return D&&D.state?(te=D.state,M<0?(C=0,M=-M):(C=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?v:(te.window!==null&&te.wbits!==M&&(te.window=null),te.wrap=C,te.wbits=M,z(D))):v}function Y(D,M){var C,te;return D?(te=new N,(D.state=te).window=null,(C=$(D,M))!==_&&(D.state=null),C):v}var F,R,O=!0;function B(D){if(O){var M;for(F=new s.Buf32(512),R=new s.Buf32(32),M=0;M<144;)D.lens[M++]=8;for(;M<256;)D.lens[M++]=9;for(;M<280;)D.lens[M++]=7;for(;M<288;)D.lens[M++]=8;for(h(p,D.lens,0,288,F,0,D.work,{bits:9}),M=0;M<32;)D.lens[M++]=5;h(y,D.lens,0,32,R,0,D.work,{bits:5}),O=!1}D.lencode=F,D.lenbits=9,D.distcode=R,D.distbits=5}function W(D,M,C,te){var xe,ee=D.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new s.Buf8(ee.wsize)),te>=ee.wsize?(s.arraySet(ee.window,M,C-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(te<(xe=ee.wsize-ee.wnext)&&(xe=te),s.arraySet(ee.window,M,C-te,xe,ee.wnext),(te-=xe)?(s.arraySet(ee.window,M,C-te,te,0),ee.wnext=te,ee.whave=ee.wsize):(ee.wnext+=xe,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=xe))),0}i.inflateReset=z,i.inflateReset2=$,i.inflateResetKeep=L,i.inflateInit=function(D){return Y(D,15)},i.inflateInit2=Y,i.inflate=function(D,M){var C,te,xe,ee,Z,K,ie,j,H,Te,re,fe,de,ke,ue,Ce,Le,Ae,ot,lt,P,me,ge,Q,G=0,J=new s.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return v;(C=D.state).mode===12&&(C.mode=13),Z=D.next_out,xe=D.output,ie=D.avail_out,ee=D.next_in,te=D.input,K=D.avail_in,j=C.hold,H=C.bits,Te=K,re=ie,me=_;e:for(;;)switch(C.mode){case T:if(C.wrap===0){C.mode=13;break}for(;H<16;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(2&C.wrap&&j===35615){J[C.check=0]=255&j,J[1]=j>>>8&255,C.check=c(C.check,J,2,0),H=j=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&j)<<8)+(j>>8))%31){D.msg="incorrect header check",C.mode=30;break}if((15&j)!=8){D.msg="unknown compression method",C.mode=30;break}if(H-=4,P=8+(15&(j>>>=4)),C.wbits===0)C.wbits=P;else if(P>C.wbits){D.msg="invalid window size",C.mode=30;break}C.dmax=1<<P,D.adler=C.check=1,C.mode=512&j?10:12,H=j=0;break;case 2:for(;H<16;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(C.flags=j,(255&C.flags)!=8){D.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){D.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=j>>8&1),512&C.flags&&(J[0]=255&j,J[1]=j>>>8&255,C.check=c(C.check,J,2,0)),H=j=0,C.mode=3;case 3:for(;H<32;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}C.head&&(C.head.time=j),512&C.flags&&(J[0]=255&j,J[1]=j>>>8&255,J[2]=j>>>16&255,J[3]=j>>>24&255,C.check=c(C.check,J,4,0)),H=j=0,C.mode=4;case 4:for(;H<16;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}C.head&&(C.head.xflags=255&j,C.head.os=j>>8),512&C.flags&&(J[0]=255&j,J[1]=j>>>8&255,C.check=c(C.check,J,2,0)),H=j=0,C.mode=5;case 5:if(1024&C.flags){for(;H<16;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}C.length=j,C.head&&(C.head.extra_len=j),512&C.flags&&(J[0]=255&j,J[1]=j>>>8&255,C.check=c(C.check,J,2,0)),H=j=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(K<(fe=C.length)&&(fe=K),fe&&(C.head&&(P=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),s.arraySet(C.head.extra,te,ee,fe,P)),512&C.flags&&(C.check=c(C.check,te,fe,ee)),K-=fe,ee+=fe,C.length-=fe),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(K===0)break e;for(fe=0;P=te[ee+fe++],C.head&&P&&C.length<65536&&(C.head.name+=String.fromCharCode(P)),P&&fe<K;);if(512&C.flags&&(C.check=c(C.check,te,fe,ee)),K-=fe,ee+=fe,P)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(K===0)break e;for(fe=0;P=te[ee+fe++],C.head&&P&&C.length<65536&&(C.head.comment+=String.fromCharCode(P)),P&&fe<K;);if(512&C.flags&&(C.check=c(C.check,te,fe,ee)),K-=fe,ee+=fe,P)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;H<16;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(j!==(65535&C.check)){D.msg="header crc mismatch",C.mode=30;break}H=j=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),D.adler=C.check=0,C.mode=12;break;case 10:for(;H<32;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}D.adler=C.check=S(j),H=j=0,C.mode=11;case 11:if(C.havedict===0)return D.next_out=Z,D.avail_out=ie,D.next_in=ee,D.avail_in=K,C.hold=j,C.bits=H,2;D.adler=C.check=1,C.mode=12;case 12:if(M===5||M===6)break e;case 13:if(C.last){j>>>=7&H,H-=7&H,C.mode=27;break}for(;H<3;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}switch(C.last=1&j,H-=1,3&(j>>>=1)){case 0:C.mode=14;break;case 1:if(B(C),C.mode=20,M!==6)break;j>>>=2,H-=2;break e;case 2:C.mode=17;break;case 3:D.msg="invalid block type",C.mode=30}j>>>=2,H-=2;break;case 14:for(j>>>=7&H,H-=7&H;H<32;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if((65535&j)!=(j>>>16^65535)){D.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&j,H=j=0,C.mode=15,M===6)break e;case 15:C.mode=16;case 16:if(fe=C.length){if(K<fe&&(fe=K),ie<fe&&(fe=ie),fe===0)break e;s.arraySet(xe,te,ee,fe,Z),K-=fe,ee+=fe,ie-=fe,Z+=fe,C.length-=fe;break}C.mode=12;break;case 17:for(;H<14;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(C.nlen=257+(31&j),j>>>=5,H-=5,C.ndist=1+(31&j),j>>>=5,H-=5,C.ncode=4+(15&j),j>>>=4,H-=4,286<C.nlen||30<C.ndist){D.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;H<3;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}C.lens[we[C.have++]]=7&j,j>>>=3,H-=3}for(;C.have<19;)C.lens[we[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ge={bits:C.lenbits},me=h(0,C.lens,0,19,C.lencode,0,C.work,ge),C.lenbits=ge.bits,me){D.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Ce=(G=C.lencode[j&(1<<C.lenbits)-1])>>>16&255,Le=65535&G,!((ue=G>>>24)<=H);){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(Le<16)j>>>=ue,H-=ue,C.lens[C.have++]=Le;else{if(Le===16){for(Q=ue+2;H<Q;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(j>>>=ue,H-=ue,C.have===0){D.msg="invalid bit length repeat",C.mode=30;break}P=C.lens[C.have-1],fe=3+(3&j),j>>>=2,H-=2}else if(Le===17){for(Q=ue+3;H<Q;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}H-=ue,P=0,fe=3+(7&(j>>>=ue)),j>>>=3,H-=3}else{for(Q=ue+7;H<Q;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}H-=ue,P=0,fe=11+(127&(j>>>=ue)),j>>>=7,H-=7}if(C.have+fe>C.nlen+C.ndist){D.msg="invalid bit length repeat",C.mode=30;break}for(;fe--;)C.lens[C.have++]=P}}if(C.mode===30)break;if(C.lens[256]===0){D.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ge={bits:C.lenbits},me=h(p,C.lens,0,C.nlen,C.lencode,0,C.work,ge),C.lenbits=ge.bits,me){D.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ge={bits:C.distbits},me=h(y,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ge),C.distbits=ge.bits,me){D.msg="invalid distances set",C.mode=30;break}if(C.mode=20,M===6)break e;case 20:C.mode=21;case 21:if(6<=K&&258<=ie){D.next_out=Z,D.avail_out=ie,D.next_in=ee,D.avail_in=K,C.hold=j,C.bits=H,u(D,re),Z=D.next_out,xe=D.output,ie=D.avail_out,ee=D.next_in,te=D.input,K=D.avail_in,j=C.hold,H=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Ce=(G=C.lencode[j&(1<<C.lenbits)-1])>>>16&255,Le=65535&G,!((ue=G>>>24)<=H);){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(Ce&&(240&Ce)==0){for(Ae=ue,ot=Ce,lt=Le;Ce=(G=C.lencode[lt+((j&(1<<Ae+ot)-1)>>Ae)])>>>16&255,Le=65535&G,!(Ae+(ue=G>>>24)<=H);){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}j>>>=Ae,H-=Ae,C.back+=Ae}if(j>>>=ue,H-=ue,C.back+=ue,C.length=Le,Ce===0){C.mode=26;break}if(32&Ce){C.back=-1,C.mode=12;break}if(64&Ce){D.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Ce,C.mode=22;case 22:if(C.extra){for(Q=C.extra;H<Q;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}C.length+=j&(1<<C.extra)-1,j>>>=C.extra,H-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Ce=(G=C.distcode[j&(1<<C.distbits)-1])>>>16&255,Le=65535&G,!((ue=G>>>24)<=H);){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if((240&Ce)==0){for(Ae=ue,ot=Ce,lt=Le;Ce=(G=C.distcode[lt+((j&(1<<Ae+ot)-1)>>Ae)])>>>16&255,Le=65535&G,!(Ae+(ue=G>>>24)<=H);){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}j>>>=Ae,H-=Ae,C.back+=Ae}if(j>>>=ue,H-=ue,C.back+=ue,64&Ce){D.msg="invalid distance code",C.mode=30;break}C.offset=Le,C.extra=15&Ce,C.mode=24;case 24:if(C.extra){for(Q=C.extra;H<Q;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}C.offset+=j&(1<<C.extra)-1,j>>>=C.extra,H-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){D.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ie===0)break e;if(fe=re-ie,C.offset>fe){if((fe=C.offset-fe)>C.whave&&C.sane){D.msg="invalid distance too far back",C.mode=30;break}de=fe>C.wnext?(fe-=C.wnext,C.wsize-fe):C.wnext-fe,fe>C.length&&(fe=C.length),ke=C.window}else ke=xe,de=Z-C.offset,fe=C.length;for(ie<fe&&(fe=ie),ie-=fe,C.length-=fe;xe[Z++]=ke[de++],--fe;);C.length===0&&(C.mode=21);break;case 26:if(ie===0)break e;xe[Z++]=C.length,ie--,C.mode=21;break;case 27:if(C.wrap){for(;H<32;){if(K===0)break e;K--,j|=te[ee++]<<H,H+=8}if(re-=ie,D.total_out+=re,C.total+=re,re&&(D.adler=C.check=C.flags?c(C.check,xe,re,Z-re):o(C.check,xe,re,Z-re)),re=ie,(C.flags?j:S(j))!==C.check){D.msg="incorrect data check",C.mode=30;break}H=j=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;H<32;){if(K===0)break e;K--,j+=te[ee++]<<H,H+=8}if(j!==(4294967295&C.total)){D.msg="incorrect length check",C.mode=30;break}H=j=0}C.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return v}return D.next_out=Z,D.avail_out=ie,D.next_in=ee,D.avail_in=K,C.hold=j,C.bits=H,(C.wsize||re!==D.avail_out&&C.mode<30&&(C.mode<27||M!==4))&&W(D,D.output,D.next_out,re-D.avail_out)?(C.mode=31,-4):(Te-=D.avail_in,re-=D.avail_out,D.total_in+=Te,D.total_out+=re,C.total+=re,C.wrap&&re&&(D.adler=C.check=C.flags?c(C.check,xe,re,D.next_out-re):o(C.check,xe,re,D.next_out-re)),D.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(Te==0&&re===0||M===4)&&me===_&&(me=-5),me)},i.inflateEnd=function(D){if(!D||!D.state)return v;var M=D.state;return M.window&&(M.window=null),D.state=null,_},i.inflateGetHeader=function(D,M){var C;return D&&D.state?(2&(C=D.state).wrap)==0?v:((C.head=M).done=!1,_):v},i.inflateSetDictionary=function(D,M){var C,te=M.length;return D&&D.state?(C=D.state).wrap!==0&&C.mode!==11?v:C.mode===11&&o(1,M,te,0)!==C.check?-3:W(D,M,te,te)?(C.mode=31,-4):(C.havedict=1,_):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,y,_,v,T,b,I,S){var N,L,z,$,Y,F,R,O,B,W=S.bits,D=0,M=0,C=0,te=0,xe=0,ee=0,Z=0,K=0,ie=0,j=0,H=null,Te=0,re=new s.Buf16(16),fe=new s.Buf16(16),de=null,ke=0;for(D=0;D<=15;D++)re[D]=0;for(M=0;M<v;M++)re[y[_+M]]++;for(xe=W,te=15;1<=te&&re[te]===0;te--);if(te<xe&&(xe=te),te===0)return T[b++]=20971520,T[b++]=20971520,S.bits=1,0;for(C=1;C<te&&re[C]===0;C++);for(xe<C&&(xe=C),D=K=1;D<=15;D++)if(K<<=1,(K-=re[D])<0)return-1;if(0<K&&(p===0||te!==1))return-1;for(fe[1]=0,D=1;D<15;D++)fe[D+1]=fe[D]+re[D];for(M=0;M<v;M++)y[_+M]!==0&&(I[fe[y[_+M]]++]=M);if(F=p===0?(H=de=I,19):p===1?(H=o,Te-=257,de=c,ke-=257,256):(H=u,de=h,-1),D=C,Y=b,Z=M=j=0,z=-1,$=(ie=1<<(ee=xe))-1,p===1&&852<ie||p===2&&592<ie)return 1;for(;;){for(R=D-Z,B=I[M]<F?(O=0,I[M]):I[M]>F?(O=de[ke+I[M]],H[Te+I[M]]):(O=96,0),N=1<<D-Z,C=L=1<<ee;T[Y+(j>>Z)+(L-=N)]=R<<24|O<<16|B|0,L!==0;);for(N=1<<D-1;j&N;)N>>=1;if(N!==0?(j&=N-1,j+=N):j=0,M++,--re[D]==0){if(D===te)break;D=y[_+I[M]]}if(xe<D&&(j&$)!==z){for(Z===0&&(Z=xe),Y+=C,K=1<<(ee=D-Z);ee+Z<te&&!((K-=re[ee+Z])<=0);)ee++,K<<=1;if(ie+=1<<ee,p===1&&852<ie||p===2&&592<ie)return 1;T[z=j&$]=xe<<24|ee<<16|Y-b|0}}return j!==0&&(T[Y+j]=D-Z<<24|64<<16|0),S.bits=xe,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),o=0,c=1;function u(G){for(var J=G.length;0<=--J;)G[J]=0}var h=0,p=29,y=256,_=y+1+p,v=30,T=19,b=2*_+1,I=15,S=16,N=7,L=256,z=16,$=17,Y=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(_+2));u(W);var D=new Array(2*v);u(D);var M=new Array(512);u(M);var C=new Array(256);u(C);var te=new Array(p);u(te);var xe,ee,Z,K=new Array(v);function ie(G,J,we,Se,q){this.static_tree=G,this.extra_bits=J,this.extra_base=we,this.elems=Se,this.max_length=q,this.has_stree=G&&G.length}function j(G,J){this.dyn_tree=G,this.max_code=0,this.stat_desc=J}function H(G){return G<256?M[G]:M[256+(G>>>7)]}function Te(G,J){G.pending_buf[G.pending++]=255&J,G.pending_buf[G.pending++]=J>>>8&255}function re(G,J,we){G.bi_valid>S-we?(G.bi_buf|=J<<G.bi_valid&65535,Te(G,G.bi_buf),G.bi_buf=J>>S-G.bi_valid,G.bi_valid+=we-S):(G.bi_buf|=J<<G.bi_valid&65535,G.bi_valid+=we)}function fe(G,J,we){re(G,we[2*J],we[2*J+1])}function de(G,J){for(var we=0;we|=1&G,G>>>=1,we<<=1,0<--J;);return we>>>1}function ke(G,J,we){var Se,q,pe=new Array(I+1),Ee=0;for(Se=1;Se<=I;Se++)pe[Se]=Ee=Ee+we[Se-1]<<1;for(q=0;q<=J;q++){var ae=G[2*q+1];ae!==0&&(G[2*q]=de(pe[ae]++,ae))}}function ue(G){var J;for(J=0;J<_;J++)G.dyn_ltree[2*J]=0;for(J=0;J<v;J++)G.dyn_dtree[2*J]=0;for(J=0;J<T;J++)G.bl_tree[2*J]=0;G.dyn_ltree[2*L]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function Ce(G){8<G.bi_valid?Te(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function Le(G,J,we,Se){var q=2*J,pe=2*we;return G[q]<G[pe]||G[q]===G[pe]&&Se[J]<=Se[we]}function Ae(G,J,we){for(var Se=G.heap[we],q=we<<1;q<=G.heap_len&&(q<G.heap_len&&Le(J,G.heap[q+1],G.heap[q],G.depth)&&q++,!Le(J,Se,G.heap[q],G.depth));)G.heap[we]=G.heap[q],we=q,q<<=1;G.heap[we]=Se}function ot(G,J,we){var Se,q,pe,Ee,ae=0;if(G.last_lit!==0)for(;Se=G.pending_buf[G.d_buf+2*ae]<<8|G.pending_buf[G.d_buf+2*ae+1],q=G.pending_buf[G.l_buf+ae],ae++,Se===0?fe(G,q,J):(fe(G,(pe=C[q])+y+1,J),(Ee=F[pe])!==0&&re(G,q-=te[pe],Ee),fe(G,pe=H(--Se),we),(Ee=R[pe])!==0&&re(G,Se-=K[pe],Ee)),ae<G.last_lit;);fe(G,L,J)}function lt(G,J){var we,Se,q,pe=J.dyn_tree,Ee=J.stat_desc.static_tree,ae=J.stat_desc.has_stree,ye=J.stat_desc.elems,Ie=-1;for(G.heap_len=0,G.heap_max=b,we=0;we<ye;we++)pe[2*we]!==0?(G.heap[++G.heap_len]=Ie=we,G.depth[we]=0):pe[2*we+1]=0;for(;G.heap_len<2;)pe[2*(q=G.heap[++G.heap_len]=Ie<2?++Ie:0)]=1,G.depth[q]=0,G.opt_len--,ae&&(G.static_len-=Ee[2*q+1]);for(J.max_code=Ie,we=G.heap_len>>1;1<=we;we--)Ae(G,pe,we);for(q=ye;we=G.heap[1],G.heap[1]=G.heap[G.heap_len--],Ae(G,pe,1),Se=G.heap[1],G.heap[--G.heap_max]=we,G.heap[--G.heap_max]=Se,pe[2*q]=pe[2*we]+pe[2*Se],G.depth[q]=(G.depth[we]>=G.depth[Se]?G.depth[we]:G.depth[Se])+1,pe[2*we+1]=pe[2*Se+1]=q,G.heap[1]=q++,Ae(G,pe,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],(function(Pe,We){var Ze,ut,It,ft,Pt,_n,Gt=We.dyn_tree,bi=We.max_code,ti=We.stat_desc.static_tree,lr=We.stat_desc.has_stree,En=We.stat_desc.extra_bits,st=We.stat_desc.extra_base,bt=We.stat_desc.max_length,cr=0;for(ft=0;ft<=I;ft++)Pe.bl_count[ft]=0;for(Gt[2*Pe.heap[Pe.heap_max]+1]=0,Ze=Pe.heap_max+1;Ze<b;Ze++)bt<(ft=Gt[2*Gt[2*(ut=Pe.heap[Ze])+1]+1]+1)&&(ft=bt,cr++),Gt[2*ut+1]=ft,bi<ut||(Pe.bl_count[ft]++,Pt=0,st<=ut&&(Pt=En[ut-st]),_n=Gt[2*ut],Pe.opt_len+=_n*(ft+Pt),lr&&(Pe.static_len+=_n*(ti[2*ut+1]+Pt)));if(cr!==0){do{for(ft=bt-1;Pe.bl_count[ft]===0;)ft--;Pe.bl_count[ft]--,Pe.bl_count[ft+1]+=2,Pe.bl_count[bt]--,cr-=2}while(0<cr);for(ft=bt;ft!==0;ft--)for(ut=Pe.bl_count[ft];ut!==0;)bi<(It=Pe.heap[--Ze])||(Gt[2*It+1]!==ft&&(Pe.opt_len+=(ft-Gt[2*It+1])*Gt[2*It],Gt[2*It+1]=ft),ut--)}})(G,J),ke(pe,Ie,G.bl_count)}function P(G,J,we){var Se,q,pe=-1,Ee=J[1],ae=0,ye=7,Ie=4;for(Ee===0&&(ye=138,Ie=3),J[2*(we+1)+1]=65535,Se=0;Se<=we;Se++)q=Ee,Ee=J[2*(Se+1)+1],++ae<ye&&q===Ee||(ae<Ie?G.bl_tree[2*q]+=ae:q!==0?(q!==pe&&G.bl_tree[2*q]++,G.bl_tree[2*z]++):ae<=10?G.bl_tree[2*$]++:G.bl_tree[2*Y]++,pe=q,Ie=(ae=0)===Ee?(ye=138,3):q===Ee?(ye=6,3):(ye=7,4))}function me(G,J,we){var Se,q,pe=-1,Ee=J[1],ae=0,ye=7,Ie=4;for(Ee===0&&(ye=138,Ie=3),Se=0;Se<=we;Se++)if(q=Ee,Ee=J[2*(Se+1)+1],!(++ae<ye&&q===Ee)){if(ae<Ie)for(;fe(G,q,G.bl_tree),--ae!=0;);else q!==0?(q!==pe&&(fe(G,q,G.bl_tree),ae--),fe(G,z,G.bl_tree),re(G,ae-3,2)):ae<=10?(fe(G,$,G.bl_tree),re(G,ae-3,3)):(fe(G,Y,G.bl_tree),re(G,ae-11,7));pe=q,Ie=(ae=0)===Ee?(ye=138,3):q===Ee?(ye=6,3):(ye=7,4)}}u(K);var ge=!1;function Q(G,J,we,Se){re(G,(h<<1)+(Se?1:0),3),(function(q,pe,Ee,ae){Ce(q),Te(q,Ee),Te(q,~Ee),s.arraySet(q.pending_buf,q.window,pe,Ee,q.pending),q.pending+=Ee})(G,J,we)}i._tr_init=function(G){ge||((function(){var J,we,Se,q,pe,Ee=new Array(I+1);for(q=Se=0;q<p-1;q++)for(te[q]=Se,J=0;J<1<<F[q];J++)C[Se++]=q;for(C[Se-1]=q,q=pe=0;q<16;q++)for(K[q]=pe,J=0;J<1<<R[q];J++)M[pe++]=q;for(pe>>=7;q<v;q++)for(K[q]=pe<<7,J=0;J<1<<R[q]-7;J++)M[256+pe++]=q;for(we=0;we<=I;we++)Ee[we]=0;for(J=0;J<=143;)W[2*J+1]=8,J++,Ee[8]++;for(;J<=255;)W[2*J+1]=9,J++,Ee[9]++;for(;J<=279;)W[2*J+1]=7,J++,Ee[7]++;for(;J<=287;)W[2*J+1]=8,J++,Ee[8]++;for(ke(W,_+1,Ee),J=0;J<v;J++)D[2*J+1]=5,D[2*J]=de(J,5);xe=new ie(W,F,y+1,_,I),ee=new ie(D,R,0,v,I),Z=new ie(new Array(0),O,0,T,N)})(),ge=!0),G.l_desc=new j(G.dyn_ltree,xe),G.d_desc=new j(G.dyn_dtree,ee),G.bl_desc=new j(G.bl_tree,Z),G.bi_buf=0,G.bi_valid=0,ue(G)},i._tr_stored_block=Q,i._tr_flush_block=function(G,J,we,Se){var q,pe,Ee=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=(function(ae){var ye,Ie=4093624447;for(ye=0;ye<=31;ye++,Ie>>>=1)if(1&Ie&&ae.dyn_ltree[2*ye]!==0)return o;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return c;for(ye=32;ye<y;ye++)if(ae.dyn_ltree[2*ye]!==0)return c;return o})(G)),lt(G,G.l_desc),lt(G,G.d_desc),Ee=(function(ae){var ye;for(P(ae,ae.dyn_ltree,ae.l_desc.max_code),P(ae,ae.dyn_dtree,ae.d_desc.max_code),lt(ae,ae.bl_desc),ye=T-1;3<=ye&&ae.bl_tree[2*B[ye]+1]===0;ye--);return ae.opt_len+=3*(ye+1)+5+5+4,ye})(G),q=G.opt_len+3+7>>>3,(pe=G.static_len+3+7>>>3)<=q&&(q=pe)):q=pe=we+5,we+4<=q&&J!==-1?Q(G,J,we,Se):G.strategy===4||pe===q?(re(G,2+(Se?1:0),3),ot(G,W,D)):(re(G,4+(Se?1:0),3),(function(ae,ye,Ie,Pe){var We;for(re(ae,ye-257,5),re(ae,Ie-1,5),re(ae,Pe-4,4),We=0;We<Pe;We++)re(ae,ae.bl_tree[2*B[We]+1],3);me(ae,ae.dyn_ltree,ye-1),me(ae,ae.dyn_dtree,Ie-1)})(G,G.l_desc.max_code+1,G.d_desc.max_code+1,Ee+1),ot(G,G.dyn_ltree,G.dyn_dtree)),ue(G),Se&&Ce(G)},i._tr_tally=function(G,J,we){return G.pending_buf[G.d_buf+2*G.last_lit]=J>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&J,G.pending_buf[G.l_buf+G.last_lit]=255&we,G.last_lit++,J===0?G.dyn_ltree[2*we]++:(G.matches++,J--,G.dyn_ltree[2*(C[we]+y+1)]++,G.dyn_dtree[2*H(J)]++),G.last_lit===G.lit_bufsize-1},i._tr_align=function(G){re(G,2,3),fe(G,L,W),(function(J){J.bi_valid===16?(Te(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):8<=J.bi_valid&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)})(G)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(o,c){if(!o.setImmediate){var u,h,p,y,_=1,v={},T=!1,b=o.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(o);I=I&&I.setTimeout?I:o,u={}.toString.call(o.process)==="[object process]"?function(z){process.nextTick(function(){N(z)})}:(function(){if(o.postMessage&&!o.importScripts){var z=!0,$=o.onmessage;return o.onmessage=function(){z=!1},o.postMessage("","*"),o.onmessage=$,z}})()?(y="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",L,!1):o.attachEvent("onmessage",L),function(z){o.postMessage(y+z,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(z){N(z.data)},function(z){p.port2.postMessage(z)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,function(z){var $=b.createElement("script");$.onreadystatechange=function(){N(z),$.onreadystatechange=null,h.removeChild($),$=null},h.appendChild($)}):function(z){setTimeout(N,0,z)},I.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var $=new Array(arguments.length-1),Y=0;Y<$.length;Y++)$[Y]=arguments[Y+1];var F={callback:z,args:$};return v[_]=F,u(_),_++},I.clearImmediate=S}function S(z){delete v[z]}function N(z){if(T)setTimeout(N,0,z);else{var $=v[z];if($){T=!0;try{(function(Y){var F=Y.callback,R=Y.args;switch(R.length){case 0:F();break;case 1:F(R[0]);break;case 2:F(R[0],R[1]);break;case 3:F(R[0],R[1],R[2]);break;default:F.apply(c,R)}})($)}finally{S(z),T=!1}}}}function L(z){z.source===o&&typeof z.data=="string"&&z.data.indexOf(y)===0&&N(+z.data.slice(y.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(d0)),d0.exports}var eH=ZW();const tH=F1(eH),nH={header:{search:"",login:"  ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:"  ."},blog:{title:" Gitut",subtitle:"           ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},app:{error:{title:"  ",message:"   .       .",insufficientBalance:"     ."}},dashboard:{home:{title:" ",subtitle:"       ."},stats:{pendingJobs:" ",availableDocs:" ",currentBalance:" "},links:{viewAllJobs:"  ",createDoc:" ",topUpNow:"  ",manageBalance:" "},idCard:{title:"   ",subtitle:"       .",button:"  "},numericIdModal:{yourIdIs:"    :",instruction:"       .",idUnavailable:"     .",print:"",close:""},sections:{docsTitle:" ",sitesTitle:" "},sites:{openLink:"  ",fillFormFor:"  : {url}"},error:{fatalError:" ",cafeDataNotFound:"        .",retryLogin:"       ."}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:" ",chooseThisCafe:"  ",viewDetails:"  ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:" ",managedBy:":",checkingStatus:" ...",online:"",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"   .            .",searchPlaceholder:"   ...",searchLabel:"    ",noMatch:"    .",step2Title:"2.  ",continueToForm:"   ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"         .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"   !",subtitle:"   .        .",orderCodeLabel:"   :",note:":         .",backToHome:" "},formPage:{title:" ",submittingTo:"   ",online:"",offline:" ",scanId:" ",scanIdTitle:"   ",micPermissionErrorTitle:"   ",micPermissionErrorMessage:"         .    .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""   .',answerPlaceholder:" ... : {placeholder}",toggleMic:"/ ",optionsHint:"  (  ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"      .",profilePicture:" ",backToEdit:" ",submitFinal:"  ",submitting:" ...",errorTitle:"  ",errorMessage:"      .     .",backToSearch:"  ",error:{noDocument:"   .",loadFailed:"   .",unexpected:"   .",notFound:"  ",wordTemplateFailed:"   Word."},fillDataFor:"  :",fillFieldsBelow:"      .",importantNote:" ",noteContent:"           .",selectOption:"--  --",createDocument:" "},adPage:{preparing:"  ...",autoDisplay:"    :",downloadBlank:"  ",fillDownload:"/",downloadPdf:"  PDF",downloadWord:"  Word",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"      .",preparingLink:"  ...",pleaseWait:"     :",linkReady:" !",downloadNow:" ",goTo:"  {name}",internalPage:" ",hadithTitle:" ",prayerReminderTitle:" ",hadithIntro:"      :",prayerHadithContent:'"        ."',prayerHadithSource:"     ",istighfarContent:'"                  "'},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"    ",subtitle2:"      ."},step1:{title:"1.   ",placeholder:"     ...",voiceSearchTitle:" "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:":   ({count})",nextStepButtonDisabledTitle:"      ",emptyState:"     ."},alert:{selectFillable:"       ."}},blogPost:{publishedOn:" :",by:":",relatedArticles:"   ",backToList:"  ",relatedPostsSidebar:"  ",notFoundTitle:"404 -   ",notFoundMessage:"         .",backToBlog:" "},searchForm:{searchByName:" ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"  (PDF)",siteServices:" "},serviceDetailPage:{serviceNotFound:"  ",backToList:"  ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"  ...",noPreview:"     .",openInNewWindow:"     ",instructions:"  ",voiceExample:"  ():",requiredInfo:"  ():",findCafeTitle:"     ",searchNearest:"    ",locating:"  ...",resultsTitle:" ({count})",allCafesTitle:"      ({count})",noResults:"       ."},login:{title:"  ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:"",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"   ."},reset:{title:"   ",emailLabel:" ",sendButton:"   ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:" "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:" / ",daira:" / ",commune:" / ",state:" / ",city:"",street:" ()",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:":   ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"     6   .",signupFailed:"        .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"  "}},pendingJobsPage:{title:" ",listTitle:" ",visitorFallback:"",noJobs:"   .",status:{pending:"",completed:"",cancelled:""},detailsTitle:" ",customerLabel:"",rawDataTitle:"  ",reviewedTextLabel:"    ",processing:"    ...",actions:{extractEdit:" ",extractOpen:" ",extractPrint:" "},requestedDocsTitle:" ",unknownDoc:"  ",customerInfoTitle:" ",customerImageAlt:" ",confirmButton:{generating:"  ...",default:"    "},selectJobTitle:"   ",selectJobSubtitle:"       .",alerts:{confirmSuccess:"  .    {count} () .",completeFail:"   ."},errors:{noData:"   (  ) .",unexpected:"   ."}},multiPersonJobPage:{title:"  ",step1Subtitle:" 1:       .",labels:{documents:":",noDocsSelected:"    "},section:{addPerson:"  "},placeholders:{fullName:"  ...",searchService:"    ...",workInProgress:"(     )"},buttons:{confirmAdd:" ",cancel:"",addPerson:" ",startFilling:"    {count} ",backToSetup:"  "},advanced:{summary:"  ( )",addManually:"  ()",enterNamePlaceholder:"  ",addPersonButton:" ",deleteButton:""},headers:{personCounter:" {index}/{total}: {name}",personData:" {name}"},alerts:{enterNameAndDoc:"        .",textAnalysisFailed:"  .",enterPersonName:"   .",extensionFill:"   {siteName}    {personName}  ."}},generateDocumentPage:{title:"  ",step1:" 1:       .",createTitle:": {docName}",cost:": ",changeDocType:"  ",previewTitle:" ",fillDataTitle:" ",saveClientData:"    ",buttons:{open:"",print:""},selectPlaceholder:"--  --",alerts:{uploadFailed:"  .",insufficientBalance:"  .    {cost} {currency}   {balance} {currency}.",generateFailed:"  .     .",successDeducted:"    {cost} {currency}  .  : {balance} {currency}.",syncFailed:":       .   ."}},fillSitePage:{title:"  : {name}",cost:": ",back:"",uploadJsonLabel:"  JSON  ",uploadJsonHint:"          .",jsonError:{invalid:"   .     JSON   .",read:"    ."},submitError:{missingData:":         ."},saveClient:"/   ",submitButton:"     ",successMessage:"  {cost} {currency}  .       .    .",notFound:{title:"        ",message:"         .",backButton:"   "},jsonStep1:{title:" 1:    JSON   .",subtitle:"        ."},loadedTemplate:" : {name}"},staticDocViewer:{error:{missingData:"   .        ."},success:{unlocked:"  {cost} {currency}  ."},notFound:{title:"    "},backToDashboard:"   ",print:"",download:"",locked:{title:" ",description:"    ",balance:" ."},unlockButton:" "},excelStudioPage:{title:"  ",subtitle:"        Excel    .",buttons:{chooseFile:" ",createNew:"   ",reset:" ",download:"",cancel:"",create:"",applyAi:"  ",processing:" ..."},modal:{title:"   ",fileName:" ",rows:" ",cols:" "},howToUse:{title:" :",step1:"** :**      .",step2:"**  :**         (: '  1 ').",step3:"** :**       ''   ."},prompts:{placeholder:"      ..."},errors:{noSelection:"         .",noCommand:"    .",unexpected:"     .",micError:"   :",fileEmpty:"    .",readError:"    Excel: ",corruptFile:"    Excel.      ."}},documentStudioPage:{title:" ",subtitle:'     .        " ".',buttons:{aiCreate:"  ",upload:" ",template:"  ",back:"  ",preview:"",savePublish:"  ",saving:" ...",goToManual:"    "},aiCreator:{title:"  ",desc:"     .",label:"   ",placeholder:":          ...",generating:" ...",previewTitle:"",editVoice:"  ",editStudio:"  "},cards:{aiDesc:"       .",uploadDesc:"  DOCX, PDF,  HTML   .",templateDesc:"      ."},table:{title:" ",name:" ",desc:"",actions:"",edit:"",delete:"",empty:"    .      ."},editor:{docNameLabel:"  ( )",modes:{visual:"  /",advanced:"  (GrapesJS)"},textFormatting:" ",fontSize:" ",color:"",alignment:""},modals:{cameraTitle:" ",templateTitle:"  "}},settings:{title:" ",success:"   !",loading:"   ...",error:{save:"    .",uploadImage:"  .    .",noCafe:"       .",geolocation:"    ",geolocationSupport:"     ."},unpublishedAlert:{title:"   !",message:'   "  "    " "       .'},sections:{visibility:"  ",basicInfo:"   ",location:" ",publicProfile:"  ",automation:" ",ai:" Gemini API"},fields:{isProfilePublished:"    ",isProfileHidden:"   ",visibilityHint:"              .        .",name:"  ",owner:"  ",phone:" ",mainImage:"  ",uploadingImage:"  ...",state:" / ",city:"",street:" ",addressFixed:"      .",googleMapsUrl:"    ",googleMapsPlaceholder:"https://maps.app.goo.gl/...",autoLocate:"  ",locating:"... ",googleMapsHint:"    Google Maps       .",coverImageUrl:"  ",coverImagePlaceholder:"https://example.com/cover.jpg",description:" ( )",descriptionHint:"           .",facebook:" ",instagram:" ",twitter:" ",formFillMode:"    ",modeAi:"   ()",modeJson:"   JSON ( )",automationHint:"  :    .   JSON:        .",speechToTextLanguage:"    ",speechToTextHint:"            .",adminKeyNote:"  Gemini API:",adminKeyMessage:"             .       API  .",apiKeyLabel:" Gemini API  ",apiKeyPlaceholder:"  Gemini API   ",noKeyWarning:":       API       .",keyHint:"         .       ."},buttons:{viewPublicProfile:"  ",saveChanges:" ",saving:" ..."}},dashboardLayout:{unpublishedGate:{title:"   !",message:"   Gitut.                 .",button:"     "}},cafeChatPage:{title:" ",conversations:"",support:" ",you:": ",noMessages:"  ",visitor:"",chatWithSupport:"   ",chatWithVisitor:"   {id}",selectConversation:"  ",adminOffline:"   ",contactAdminEmail:"       : {email}",online:"",offline:" ",filterOnline:" "},billing:{title:" ",currentBalance:" ",balanceDescription:"        .",pendingRequestTitle:"     ",pendingRequestMessage:'      <strong class="font-mono">{amount} {currency}</strong>  {date}.         .',topUpTitle:" ",step1Title:" 1:        .",customAmountLabel:"   ",customAmountPlaceholder:"  (  {min} {currency})",minAmountError:"    {min} {currency}.",step2Title:" 2:  ",paymentInstructionDzd:'     <strong class="font-mono">{amount} </strong>   .',recipientName:" :",ccpLabel:"CCP / BaridiMob:",step3Title:" 3:   ",proofInstruction:"     .              .",fileSelected:" : {fileName}",chooseFile:" ",step4Title:" 4:  ",confirmInstruction:"        .          .",uploading:"  ...",confirmButton:"     ",step2PaypalTitle:" 2:   PayPal",paypalInstruction:'     <strong class="font-mono">${amount} USD</strong>    PayPal.',payWithPaypal:"  PayPal",paypalNote:"     .       .",historyTitle:"  ",tableInvoiceId:" ",tableDate:"",tableAmount:"",tableStatus:"",statusPaid:"",statusPending:"  ",noHistory:"    .",errorLoad:"    .",errorMinAmount:"    {min} {currency}.",errorNoProof:"      .",uploadingProof:"   ...",errorSubmit:"    .    ."}},rH={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout",allCountries:"All Countries",allCountriesSearch:"All Countries (Global Search)",selectCafeCountry:"Select Cafe Country"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},blog:{title:"Gitut Blog",subtitle:"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers."},share:{title:"Share:",copied:"Copied!",copyDetails:"Copy details"},blogPostCard:{readMore:"Read more"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},app:{error:{title:"Application Error",message:"Could not load essential data. There might be a problem connecting to the server.",insufficientBalance:"Your balance is insufficient to complete this operation."}},dashboard:{home:{title:"Dashboard",subtitle:"Welcome, here you can manage all your daily operations."},stats:{pendingJobs:"Pending Requests",availableDocs:"Available Documents",currentBalance:"Current Balance"},links:{viewAllJobs:"View All Requests",createDoc:"Create Document",topUpNow:"Top Up Now",manageBalance:"Manage Balance"},idCard:{title:"Your Cafe ID",subtitle:"Show this number to customers to receive orders directly.",button:"View & Print ID"},numericIdModal:{yourIdIs:"Your Cafe ID is:",instruction:"Provide this number to customers to receive orders directly.",idUnavailable:"ID unavailable for this cafe.",print:"Print",close:"Close"},sections:{docsTitle:"Available Documents",sitesTitle:"Available Sites"},sites:{openLink:"Open Direct Link",fillFormFor:"Fill form for: {url}"},error:{fatalError:"Fatal Error",cafeDataNotFound:"Could not find cafe data associated with your account.",retryLogin:"Please try logging out and logging back in."}},cafeCard:{owner:"Owner:",address:"Address:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",chooseThisCafe:"Choose this Cafe",viewDetails:"View Details & Services",startChat:"Start Chat",distanceUnit:"km"},profilePage:{backToSearch:"Back to Search",managedBy:"Managed by:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",address:"Address:",description:"Description:",viewOnMap:"View on Map",step1Title:"1. Select Required Documents",step1Subtitle:"Select the documents you need. You can search for a document and add it to the list, or choose directly from the list below.",searchPlaceholder:"Search for a document to add...",searchLabel:"Search for a document to add to your list",noMatch:"No documents match your search.",step2Title:"2. Send Your Request",continueToForm:"Continue to Fill Form ({count})",similarCafes:"Similar Cafes",cafeNotFoundTitle:"Cafe Not Found",cafeNotFoundMessage:"Sorry, we couldn't find the page you're looking for.",startChat:"Start Chat",chatWith:"Chat with {name}"},confirmationPage:{title:"Your Request Has Been Sent Successfully!",subtitle:"Your information has been sent to the cafe. Please go there and provide the following code to receive your documents.",orderCodeLabel:"Your order code is:",note:"Note: Keep this code, you will need it to confirm your order with the cafe owner.",backToHome:"Back to Homepage"},formPage:{title:"Fill Out the Form",submittingTo:"You are submitting a request to",online:"Online",offline:"Offline",scanId:"Scan ID",scanIdTitle:"Scan ID card with camera",micPermissionErrorTitle:"Microphone Access Denied",micPermissionErrorMessage:"Please enable microphone access in your browser settings to use the voice input feature. You can still complete the form manually.",stepCounter:"Step {current} of {total}",navigationHint:'You can say "Next" or "Previous" to navigate between fields.',answerPlaceholder:"Answer here... e.g., {placeholder}",toggleMic:"Toggle Microphone",optionsHint:"Available options (say the number to select):",previous:"Previous",next:"Next",review:"Review",formCompleteTitle:"Form Complete!",formCompleteMessage:"Please review the data carefully before final submission.",profilePicture:"Profile Picture",backToEdit:"Back to Edit",submitFinal:"Submit Final Request",submitting:"Submitting...",errorTitle:"Request Error",errorMessage:"No documents or services were selected. Please go back and select documents first.",backToSearch:"Back to Search Page",error:{noDocument:"No document specified.",loadFailed:"Failed to load document data.",unexpected:"An unexpected error occurred.",notFound:"Document Not Found",wordTemplateFailed:"Failed to load Word template."},fillDataFor:"Fill Data For:",fillFieldsBelow:"Fill in the fields below to create your document.",importantNote:"Important Note",noteContent:"Buttons to preview, download, or fill this document are at the bottom of this page.",selectOption:"-- Select --",createDocument:"Create Document"},adPage:{preparing:"Preparing your document...",autoDisplay:"Your document will be displayed automatically in:",downloadBlank:"Download Blank Copy",fillDownload:"Fill/Download",downloadPdf:"Download as PDF",downloadWord:"Download as Word",adLabel:"Advertisement:",optionsTitle:"Document Options",stepFormatTitle:"Last Step: Choose Download Format",stepFormatDesc:"Choose the format you want to download the document in.",preparingLink:"Preparing link...",pleaseWait:"Please wait, link will be ready in:",linkReady:"Link Ready!",downloadNow:"Download Now",goTo:"Go to {name}",internalPage:"Internal Page",hadithTitle:"Hadith",prayerReminderTitle:"Prayer Reminder",hadithIntro:"The Prophet (peace be upon him) said:",prayerHadithContent:'"The covenant between us and them is prayer, so whoever abandons it has disbelieved."',prayerHadithSource:"Narrated by Ahmad, Abu Dawood, An-Nasa'i, At-Tirmidhi (Hasan Sahih), Ibn Majah, Ibn Hibban, Al-Hakim",istighfarContent:'"Whoever keeps to asking for forgiveness (Istighfar), Allah will make a way out for him from every difficulty, a relief from every anxiety, and provide for him from where he does not expect."'},findPage:{hero:{title1:"Get Your Documents Done with Ease",subtitle1:"Find an internet cafe nearby, send your request remotely, and pick up your ready documents.",title2:"Find a nearby internet cafe",subtitle2:"Send your request remotely and pick up your ready documents."},step1:{title:"1. Search for a Document",placeholder:"Birth certificate, CV, Request...",voiceSearchTitle:"Voice Search"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next: Choose Cafe ({count})",nextStepButtonDisabledTitle:"Please select at least one document",emptyState:"No documents selected yet."},alert:{selectFillable:"Please select at least one fillable document."}},blogPost:{publishedOn:"Published on:",by:"By:",relatedArticles:"Other articles you might like",backToList:"Back to all articles",relatedPostsSidebar:"Related Posts",notFoundTitle:"404 - Post Not Found",notFoundMessage:"Sorry, we couldn't find the post you're looking for.",backToBlog:"Back to Blog"},searchForm:{searchByName:"Search by name...",search:"Search"},servicesListPage:{title:"Services List",fillableDocs:"Fillable Documents",staticDocs:"Printable Documents (PDF)",siteServices:"Website Services"},serviceDetailPage:{serviceNotFound:"Service Not Found",backToList:"Back to Services List",preview:"Document Preview",previousDesign:"Previous Design",nextDesign:"Next Design",loadingPreview:"Loading preview...",noPreview:"No preview is available for this document.",openInNewWindow:"Open in new window or download",instructions:"Instructions for This Design",voiceExample:"How to Record (Example):",requiredInfo:"Required information (spoken):",findCafeTitle:"Find a cafe that provides this service",searchNearest:"Search for cafes nearest to me",locating:"Locating...",resultsTitle:"Results ({count})",allCafesTitle:"Internet cafes providing this service ({count})",noResults:"No cafes match your search for all required services."},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},pendingJobsPage:{title:"Pending Jobs",listTitle:"Requests List",visitorFallback:"Visitor",noJobs:"No requests currently.",status:{pending:"Pending",completed:"Completed",cancelled:"Cancelled"},detailsTitle:"Request Details",customerLabel:"Customer",rawDataTitle:"Initial Customer Data",reviewedTextLabel:"Text Reviewed by Customer",processing:"Analyzing data and extracting information...",actions:{extractEdit:"Extract & Edit",extractOpen:"Extract & Open",extractPrint:"Extract & Print"},requestedDocsTitle:"Requested Documents",unknownDoc:"Unknown Document",customerInfoTitle:"Customer Information",customerImageAlt:"Customer Image",confirmButton:{generating:"Preparing for print...",default:"Confirm Receipt & Open Docs"},selectJobTitle:"Select a request to view details",selectJobSubtitle:"Click on a request from the list on the left.",alerts:{confirmSuccess:"Request confirmed. Opening {count} document(s) for printing.",completeFail:"Failed to complete request."},errors:{noData:"No data available to process.",unexpected:"An unexpected error occurred."}},multiPersonJobPage:{title:"Multi-Person Job",step1Subtitle:"Step 1: Set up the people and documents required for each.",labels:{documents:"Documents:",noDocsSelected:"No document selected"},section:{addPerson:"Add New Person"},placeholders:{fullName:"Full Name...",searchService:"Search for document or site...",workInProgress:"(Data entry interface not yet completed)"},buttons:{confirmAdd:"Confirm Add",cancel:"Cancel",addPerson:"Add Person",startFilling:"Start data entry for {count} people",backToSetup:"Back to Setup"},advanced:{summary:"Advanced Settings (Old Interface)",addManually:"Add People (Manually)",enterNamePlaceholder:"Enter person's name",addPersonButton:"Add Person",deleteButton:"Delete"},headers:{personCounter:"Person {index}/{total}: {name}",personData:"Data for {name}"},alerts:{enterNameAndDoc:"Please enter the person's name and select at least one document.",textAnalysisFailed:"Text analysis failed.",enterPersonName:"Please enter the person's name.",extensionFill:"Opening {siteName} to fill data for {personName} using the extension."}},generateDocumentPage:{title:"Create New Document",step1:"Step 1: Select the type of document you want to create for the client.",createTitle:"Create: {docName}",cost:"Cost: ",changeDocType:"Change Document Type",previewTitle:"Document Preview",fillDataTitle:"Fill Data",saveClientData:"Save client data for future use",buttons:{open:"Open",print:"Print"},selectPlaceholder:"-- Select --",alerts:{uploadFailed:"Failed to upload image.",insufficientBalance:"Insufficient balance. This operation costs {cost} {currency} and your current balance is {balance} {currency}.",generateFailed:"Failed to generate document. No credit deducted.",successDeducted:"Document generated and {cost} {currency} deducted from your balance. New balance: {balance} {currency}.",syncFailed:"Warning: Document generated but balance synchronization failed. Please contact support."}},fillSitePage:{title:"Fill form for: {name}",cost:"Cost: ",back:"Back",uploadJsonLabel:"Upload site JSON file",uploadJsonHint:"You can get this file from the platform admin or create it yourself.",jsonError:{invalid:"Failed to read file. Ensure it is a valid JSON file with the required structure.",read:"Error reading file."},submitError:{missingData:"Error: Current user or site settings not found."},saveClient:"Save/Update this client's data",submitButton:"Send data to extension and open site",successMessage:"{cost} {currency} deducted from your balance. The site will now open in a new window. The extension will autofill it.",notFound:{title:"Site not found or is not a template",message:"Sorry, we couldn't find the page you're looking for.",backButton:"Back to Dashboard"},jsonStep1:{title:"Step 1: Please upload the JSON file for this site.",subtitle:"This file defines the form structure precisely to ensure correct filling."},loadedTemplate:"Loaded: {name}"},staticDocViewer:{error:{missingData:"Cannot complete operation. User or site settings not found."},success:{unlocked:"Deducted {cost} {currency} from your balance."},notFound:{title:"Document Not Found"},backToDashboard:"Back to Dashboard",print:"Print",download:"Download",locked:{title:"Document Locked",description:"Viewing and printing this document will cost",balance:"from your balance."},unlockButton:"Unlock Document"},excelStudioPage:{title:"Smart Excel Studio",subtitle:"Start by creating a new spreadsheet or upload an existing Excel file to edit with AI.",buttons:{chooseFile:"Choose File",createNew:"Create New Spreadsheet",reset:"Reset",download:"Download",cancel:"Cancel",create:"Create",applyAi:"Apply with AI",processing:"Processing..."},modal:{title:"Create New Spreadsheet",fileName:"File Name",rows:"Rows",cols:"Columns"},howToUse:{title:"How to use:",step1:"**Manual Editing:** Double click on any cell.",step2:"**Direct Voice Commands:** Enable microphone above, select cells, then speak (e.g., 'Color cell 1 yellow').",step3:"**Complex Commands:** Write command below and click 'Apply' for AI processing."},prompts:{placeholder:"Write your complex command here for AI processing..."},errors:{noSelection:"Please select cells, rows, or columns to apply the command.",noCommand:"Please write a command for the AI.",unexpected:"An unexpected error occurred during processing.",micError:"Command microphone error:",fileEmpty:"File is empty or invalid.",readError:"Failed to read Excel file: ",corruptFile:"Failed to read Excel file. Ensure the file is not corrupted."}},documentStudioPage:{title:"Document Studio",subtitle:"Here you can manage your custom documents. These documents will only be visible to you on the 'Create Document' page.",buttons:{aiCreate:"Create with AI",upload:"Upload File",template:"Choose from Template",back:"Back to List",preview:"Preview",savePublish:"Save & Publish Document",saving:"Saving...",goToManual:"Go to Manual Document Management"},aiCreator:{title:"Create New Document",desc:"Write a detailed description of the document you want.",label:"Document Name or Description",placeholder:"e.g., Simple CV with profile photo, contact info and work experience...",generating:"Generating...",previewTitle:"Preview",editVoice:"Preview & Voice Edit",editStudio:"Edit in Studio"},cards:{aiDesc:"Write a description and let AI create it for you.",uploadDesc:"Upload a DOCX, PDF, or HTML file to convert into a template.",templateDesc:"Start from a ready-made template and customize it."},table:{title:"Your Custom Documents",name:"Document Name",desc:"Description",actions:"Actions",edit:"Edit",delete:"Delete",empty:"You have no custom documents. Click one of the options above to start."},editor:{docNameLabel:"Document Name (Visible to customers)",modes:{visual:"Visual/Voice Editor Mode",advanced:"Advanced Editor (GrapesJS)"},textFormatting:"Text Formatting",fontSize:"Font Size",color:"Color",alignment:"Alignment"},modals:{cameraTitle:"Capture Photo",templateTitle:"Pick a template to start"}},settings:{title:"Cafe Settings",success:"Changes saved successfully!",loading:"Loading cafe data...",error:{save:"Error saving settings.",uploadImage:"Failed to upload image. Please try again.",noCafe:"Cannot upload image before loading cafe data.",geolocation:"Error getting location",geolocationSupport:"Browser does not support geolocation."},unpublishedAlert:{title:"Profile Not Published!",message:"Enable the 'Profile Published' option below and click 'Save Changes' to make your cafe visible to customers and start receiving orders."},sections:{visibility:"Visibility Status",basicInfo:"Basic Info & Cafe Image",location:"Address & Location",publicProfile:"Public Profile",automation:"Automation Settings",ai:"Gemini API Settings"},fields:{isProfilePublished:"My profile is published and visible to visitors",isProfileHidden:"My profile is currently hidden",visibilityHint:"When enabled, your cafe will appear in search results and customers can send orders to you. You must enable this to start using the platform fully.",name:"Cafe Business Name",owner:"Owner's Full Name",phone:"Phone Number",mainImage:"Main Cafe Image",uploadingImage:"Uploading image...",state:"State / Province",city:"City",street:"Street Address",addressFixed:"State, District, and City are currently not editable.",googleMapsUrl:"Google Maps Link",googleMapsPlaceholder:"https://maps.app.goo.gl/...",autoLocate:"Auto Locate",locating:"...Locating",googleMapsHint:"Copy the share link from Google Maps, or use the button to auto-locate.",coverImageUrl:"Cover Image URL",coverImagePlaceholder:"https://example.com/cover.jpg",description:"Description (Visible to visitors)",descriptionHint:"Write a brief description of your services, opening hours, or any welcome message to attract customers.",facebook:"Facebook Link",instagram:"Instagram Link",twitter:"Twitter Link",formFillMode:"External Site Form Filling Mode",modeAi:"AI Filling (Experimental)",modeJson:"JSON File Filling (Recommended)",automationHint:"AI Filling: Uses a simple field list. JSON Filling: Uses a predefined site structure for full accuracy.",speechToTextLanguage:"Speech-to-Text Language",speechToTextHint:"This language will be used in Document Studio when using the microphone to replace selected text.",adminKeyNote:"Note about Gemini API:",adminKeyMessage:"All AI services are now centrally provided by the platform admin for better security and performance. You no longer need to enter your own API key.",apiKeyLabel:"Your Gemini API Key",apiKeyPlaceholder:"Enter your Gemini API key here",noKeyWarning:"Note: Since you haven't added an API key, AI features will be disabled in your account.",keyHint:"This key will be used for all AI features in your account. Ensure it is valid and has necessary permissions."},buttons:{viewPublicProfile:"View My Public Page",saveChanges:"Save Changes",saving:"Saving..."}},dashboardLayout:{unpublishedGate:{title:"One Last Step!",message:"Welcome to Gitut. To make your cafe visible to customers in search results and start receiving orders, you must first publish your profile.",button:"Go to Settings to Publish Profile"}},cafeChatPage:{title:"Chat Center",conversations:"Conversations",support:"Technical Support",you:"You: ",noMessages:"No messages",visitor:"Visitor",chatWithSupport:"Chat with Support",chatWithVisitor:"Chat with Visitor {id}",selectConversation:"Select a conversation to view",adminOffline:"Admin is currently offline",contactAdminEmail:"Admin unavailable, please contact via email: {email}",online:"Online",offline:"Offline",filterOnline:"Online Only"},billing:{title:"Balance & Billing",currentBalance:"Current Balance",balanceDescription:"You can use this balance to generate documents and fill site forms.",pendingRequestTitle:"You have a pending top-up request",pendingRequestMessage:'We have received your request to top up <strong class="font-mono">{amount} {currency}</strong> on {date}. The balance will be added to your account upon payment confirmation.',topUpTitle:"Top Up Balance",step1Title:"Step 1: Choose a package or enter a custom amount.",customAmountLabel:"Or enter a custom amount",customAmountPlaceholder:"Enter amount (Minimum {min} {currency})",minAmountError:"The minimum amount is {min} {currency}.",step2Title:"Step 2: How to Pay",paymentInstructionDzd:'To top up your balance, please transfer <strong class="font-mono">{amount} DZD</strong> to the following account.',recipientName:"Recipient Name:",ccpLabel:"CCP / BaridiMob:",step3Title:"Step 3: Attach Payment Proof",proofInstruction:"Verification requires proof of payment. Please upload a photo of the receipt or a screenshot from BaridiMob to complete the request.",fileSelected:"Selected: {fileName}",chooseFile:"Choose File",step4Title:"Step 4: Confirm Payment",confirmInstruction:"After completing the payment, click the button below to notify us. We will review your request and add the balance to your account shortly.",uploading:"Uploading and sending...",confirmButton:"I have paid, send review request",step2PaypalTitle:"Step 2: Pay with PayPal",paypalInstruction:'Click the button below to pay <strong class="font-mono">${amount} USD</strong> securely with PayPal.',payWithPaypal:"Pay with PayPal",paypalNote:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation.",historyTitle:"Top-up History",tableInvoiceId:"Invoice #",tableDate:"Date",tableAmount:"Amount",tableStatus:"Status",statusPaid:"Paid",statusPending:"Pending Confirmation",noHistory:"No payment history to display.",errorLoad:"Failed to load billing data.",errorMinAmount:"The minimum top-up amount is {min} {currency}.",errorNoProof:"Please upload proof of payment to complete the request.",uploadingProof:"Uploading proof image...",errorSubmit:"An error occurred while sending the request. Please try again."}},iH={header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion",allCountries:"Tous les pays",allCountriesSearch:"Tous les pays (Recherche globale)",selectCafeCountry:"Slectionner le pays du caf"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},blog:{title:"Blog Gitut",subtitle:"Suivez nos dernires actualits, mises  jour et conseils utiles pour les propritaires de cafs et les demandeurs de services documentaires."},share:{title:"Partager :",copied:"Copi !",copyDetails:"Copier les dtails"},blogPostCard:{readMore:"Lire la suite"},relatedServices:{title:"Services connexes"},relatedPosts:{title:"Articles connexes"},relatedPages:{title:"Autres pages"},app:{error:{title:"Erreur d'application",message:"Impossible de charger les donnes essentielles. Il peut y avoir un problme de connexion au serveur."}},cafeCard:{owner:"Propritaire :",address:"Adresse :",checkingStatus:"Vrification du statut...",online:"En ligne",offline:"Hors ligne",chooseThisCafe:"Choisir ce caf",viewDetails:"Voir dtails et services",startChat:"Dmarrer la discussion",distanceUnit:"km"},profilePage:{backToSearch:"Retour  la recherche",managedBy:"Gr par :",checkingStatus:"Vrification du statut...",online:"En ligne",offline:"Hors ligne",address:"Adresse :",description:"Description :",viewOnMap:"Voir sur la carte",step1Title:"1. Slectionner les documents requis",step1Subtitle:"Slectionnez les documents dont vous avez besoin. Vous pouvez rechercher un document et l'ajouter  la liste, ou choisir directement dans la liste ci-dessous.",searchPlaceholder:"Rechercher un document  ajouter...",searchLabel:"Rechercher un document  ajouter  votre liste",noMatch:"Aucun document ne correspond  votre recherche.",step2Title:"2. Envoyer votre demande",continueToForm:"Continuer pour remplir le formulaire ({count})",similarCafes:"Cafs similaires",cafeNotFoundTitle:"Caf non trouv",cafeNotFoundMessage:"Dsol, nous n'avons pas trouv la page que vous recherchez.",startChat:"Dmarrer la discussion",chatWith:"Discuter avec {name}"},confirmationPage:{title:"Votre demande a t envoye avec succs !",subtitle:"Vos informations ont t envoyes au caf. Veuillez vous y rendre et fournir le code suivant pour recevoir vos documents.",orderCodeLabel:"Votre code de commande est :",note:"Remarque : Conservez ce code, vous en aurez besoin pour confirmer votre commande auprs du propritaire du caf.",backToHome:"Retour  l'accueil"},formPage:{title:"Remplir le formulaire",submittingTo:"Vous envoyez une demande  :",online:"En ligne",offline:"Hors ligne",scanId:"Scanner ID",scanIdTitle:"Scanner la carte d'identit avec la camra",micPermissionErrorTitle:"Accs au microphone refus",micPermissionErrorMessage:"Veuillez activer l'accs au microphone dans les paramtres de votre navigateur pour utiliser la fonction de saisie vocale. Vous pouvez toujours remplir le formulaire manuellement.",stepCounter:"tape {current} sur {total}",navigationHint:'Vous pouvez dire "Suivant" ou "Prcdent" pour naviguer entre les champs.',answerPlaceholder:"Rpondez ici... ex : {placeholder}",toggleMic:"Activer/Dsactiver le micro",optionsHint:"Options disponibles (dites le numro pour slectionner) :",previous:"Prcdent",next:"Suivant",review:"Rviser",formCompleteTitle:"Formulaire termin !",formCompleteMessage:"Veuillez vrifier attentivement les donnes avant la soumission finale.",profilePicture:"Photo de profil",backToEdit:"Retour  l'dition",submitFinal:"Soumettre la demande finale",submitting:"Envoi en cours...",errorTitle:"Erreur de demande",errorMessage:"Aucun document ou service n'a t slectionn. Veuillez revenir en arrire et slectionner des documents d'abord.",backToSearch:"Retour  la page de recherche",error:{noDocument:"Aucun document spcifi.",loadFailed:"chec du chargement des donnes du document.",unexpected:"Une erreur inattendue s'est produite.",notFound:"Document non trouv",wordTemplateFailed:"chec du chargement du modle Word."},fillDataFor:"Remplir les donnes pour :",fillFieldsBelow:"Remplissez les champs ci-dessous pour crer votre document.",importantNote:"Note Importante",noteContent:"Les boutons pour prvisualiser, tlcharger ou remplir ce document se trouvent au bas de cette page.",selectOption:"-- Slectionner --",createDocument:"Crer le document"},adPage:{preparing:"Prparation de votre document...",autoDisplay:"Votre document s'affichera automatiquement dans :",downloadBlank:"Tlcharger une copie vierge",fillDownload:"Remplir/Tlcharger",downloadPdf:"Tlcharger en PDF",downloadWord:"Tlcharger en Word",adLabel:"Publicit :",optionsTitle:"Options du document",stepFormatTitle:"Dernire tape : Choisir le format",stepFormatDesc:"Choisissez le format dans lequel vous souhaitez tlcharger le document.",preparingLink:"Prparation du lien...",pleaseWait:"Veuillez patienter, le lien sera prt dans :",linkReady:"Le lien est prt !",downloadNow:"Tlcharger maintenant",goTo:"Aller  {name}",internalPage:"Page interne",hadithTitle:"Hadith",prayerReminderTitle:"Rappel de prire",hadithIntro:"Le Prophte (paix et bndictions sur lui) a dit :",prayerHadithContent:`"Le pacte qu'il y a entre nous et eux, c'est la prire ; et celui qui la dlaisse aura certes mcru."`,prayerHadithSource:"Rapport par Ahmad, Abu Daoud, An-Nasa'i, At-Tirmidhi",istighfarContent:`"Celui qui s'attache  la demande de pardon, Allah lui amnage une issue de chaque gne, une dlivrance de chaque souci et lui accorde sa subsistance d'o il ne s'attendait pas."`},findPage:{hero:{title1:"Obtenez vos documents facilement",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Trouvez un cybercaf  proximit",subtitle2:"Envoyez votre demande  distance et rcuprez vos documents prts."},step1:{title:"1. Rechercher un document",placeholder:"Acte de naissance, CV...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"Suivant : Choisir le caf ({count})",nextStepButtonDisabledTitle:"Veuillez slectionner au moins un document",emptyState:"Aucun document slectionn pour le moment."},alert:{selectFillable:"Veuillez slectionner au moins un document remplissable."}},blogPost:{publishedOn:"Publi le :",by:"Par :",relatedArticles:"Autres articles susceptibles de vous plaire",backToList:"Retour  tous les articles",relatedPostsSidebar:"Articles connexes",notFoundTitle:"404 - Article non trouv",notFoundMessage:"Dsol, nous n'avons pas trouv l'article que vous cherchez.",backToBlog:"Retour au blog"},searchForm:{searchByName:"Rechercher par nom...",search:"Rechercher"},servicesListPage:{title:"Liste des services",fillableDocs:"Documents remplissables",staticDocs:"Documents imprimables (PDF)",siteServices:"Services de site web"},serviceDetailPage:{serviceNotFound:"Service non trouv",backToList:"Retour  la liste des services",preview:"Aperu du document",previousDesign:"Design prcdent",nextDesign:"Design suivant",loadingPreview:"Chargement de l'aperu...",noPreview:"Aucun aperu n'est disponible pour ce document.",openInNewWindow:"Ouvrir dans une nouvelle fentre ou tlcharger",instructions:"Instructions pour ce design",voiceExample:"Comment enregistrer (Exemple) :",requiredInfo:"Informations requises (vocal) :",findCafeTitle:"Trouver un caf qui fournit ce service",searchNearest:"Rechercher les cafs les plus proches de moi",locating:"Localisation...",resultsTitle:"Rsultats ({count})",allCafesTitle:"Cafs internet fournissant ce service ({count})",noResults:"Aucun caf ne correspond  votre recherche pour tous les services requis."},login:{title:"Connexion Propritaire de Caf",emailLabel:"Email",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Connexion",loggingInButton:"Connexion en cours...",noAccount:"Pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre email pour activer votre compte.",wrongCredentials:"L'email ou le mot de passe est incorrect.",enterEmail:"Veuillez entrer votre adresse email."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"Email enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation du mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'email. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"Email",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"ex : Le Coin Confort",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"ex : Jean Dupont",country:"Pays",wilaya:"tat/Province",daira:"District",commune:"Ville/Municipalit",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner l'tat",selectDaira:"Slectionner le district",selectCommune:"Slectionner la ville",statePlaceholder:"ex : le-de-France, Lyon",cityPlaceholder:"ex : Paris, Marseille",streetPlaceholder:"ex : 123 Rue de la Libert",createButton:"Crer compte & caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser un email Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet email est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre email",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},formFields:{profilePicture:"Photo de profil",fullName:"Nom complet",firstName:"Prnom",lastName:"Nom de famille",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse",phone:"Tlphone",email:"Email",jobTitle:"Profession",nationalId:"Numro d'identification nationale",birthCertificateNumber:"Numro d'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",maritalStatusOptions:{married:"Mari(e)",single:"Clibataire",divorced:"Divorc(e)"},motherFirstName:"Prnom de la mre",motherLastName:"Nom de jeune fille de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom du pre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya/tat de rsidence",residenceDaira:"Dara/District de rsidence",residenceCommune:"Commune/Ville de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",gender:"Sexe",genderOptions:{male:"Homme",female:"Femme"},height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes distinctifs",employerName:"Nom de l'employeur",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",educationLevelOptions:{primary:"Primaire",middle:"Moyen/Collge",high:"Lyce",university:"Universit",postgraduate:"tudes suprieures"},universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville universitaire",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro de permis de conduire",drivingLicenseCategory:"Catgorie de permis",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",numberOfSons:"Nombre de fils",numberOfDaughters:"Nombre de filles",numberOfSiblings:"Nombre de frres et surs",numberOfBrothers:"Nombre de frres",numberOfSisters:"Nombre de surs",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation militaire",ToTheGovernorOftheStateOf:"Au Wali/Gouverneur de l'tat de",submissionDaira:"Au Chef de Dara de",ToTheMayorOf:"Au Maire de la commune de",employerWilaya:"Wilaya de l'employeur",employerDaira:"Dara de l'employeur",employerCommune:"Commune de l'employeur",criminalRecordNumber:"Numro du casier judiciaire",criminalRecordIssueDate:"Date de dlivrance du casier",criminalRecordIssuePlace:"Lieu de dlivrance du casier",commercialRegistryNumber:"Numro du registre de commerce",taxIdNumber:"Numro d'identification fiscale (NIF)",casnosNumber:"Numro CASNOS/Scurit Sociale",vehicleRegistrationCardNumber:"Numro de carte grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",bankNameTo:"Nom de la banque destinataire",bankWilayaTo:"Wilaya de la banque destinataire",bankCountryTo:"Pays de la banque destinataire",bankStreetTo:"Rue de la banque destinataire",bankNameFrom:"Nom de la banque mettrice",bankWilayaFrom:"Wilaya de la banque mettrice",bankCountryFrom:"Pays de la banque mettrice",bankStreetFrom:"Rue de la banque mettrice",amountReceived:"Montant reu",amountSent:"Montant envoy",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Numro d'employ",professionalGrade:"Grade professionnel",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de mariage",marriagePlace:"Lieu de mariage",rentalContractNumber:"Numro de contrat de location",landlordName:"Nom du propritaire",propertyAddress:"Adresse de la proprit",attendingPhysicianName:"Nom du mdecin traitant",disabilityType:"Type de handicap",disabilityPercentage:"Pourcentage de handicap (%)",deceasedParentFullName:"Nom complet du parent dcd",deceasedParentDod:"Date de dcs du parent",deceasedParentPod:"Lieu de dcs du parent",deathCertificateNumber:"Numro d'acte de dcs",survivingParentFullName:"Nom complet du parent survivant",survivingParentJobTitle:"Profession du parent survivant",hospitalName:"Nom de l'hpital",motherFullName:"Nom complet de la mre",motherAge:"ge de la mre",fatherFullName:"Nom complet du pre",fatherAge:"ge du pre",spousePob:"Lieu de naissance du conjoint",spouseAge:"ge du conjoint",sonName:"Nom du fils",sonPob:"Lieu de naissance du fils",sonAge:"ge du fils",daughterName:"Nom de la fille",daughterPob:"Lieu de naissance de la fille",daughterAge:"ge de la fille",paternalGrandfatherName:"Grand-pre paternel",paternalGrandfatherPob:"Lieu de naissance",paternalGrandfatherAge:"ge",paternalGrandmotherName:"Grand-mre paternelle",paternalGrandmotherPob:"Lieu de naissance",paternalGrandmotherAge:"ge",maternalGrandfatherName:"Grand-pre maternel",maternalGrandfatherPob:"Lieu de naissance",maternalGrandfatherAge:"ge",maternalGrandmotherName:"Grand-mre maternelle",maternalGrandmotherPob:"Lieu de naissance",maternalGrandmotherAge:"ge"}},sH={header:{search:"Suche",login:"Inhaber-Login",dashboard:"Dashboard",logout:"Abmelden",allCountries:"Alle Lnder",allCountriesSearch:"Alle Lnder (Globale Suche)",selectCafeCountry:"Caf-Land auswhlen"},footer:{blog:"Blog",services:"Dienstleistungsliste",rightsReserved:"Alle Rechte vorbehalten."},blog:{title:"Gitut Blog",subtitle:"Verfolgen Sie unsere neuesten Nachrichten, Updates und hilfreichen Tipps fr Cafbesitzer und Dokumentendienstsuchende."},share:{title:"Teilen:",copied:"Kopiert!",copyDetails:"Details kopieren"},blogPostCard:{readMore:"Weiterlesen"},relatedServices:{title:"Verwandte Dienste"},relatedPosts:{title:"Verwandte Beitrge"},relatedPages:{title:"Andere Seiten"},app:{error:{title:"Anwendungsfehler",message:"Wichtige Daten konnten nicht geladen werden. Es besteht mglicherweise ein Problem mit der Verbindung zum Server."}},cafeCard:{owner:"Inhaber:",address:"Adresse:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",chooseThisCafe:"Dieses Caf whlen",viewDetails:"Details & Dienste anzeigen",startChat:"Chat starten",distanceUnit:"km"},profilePage:{backToSearch:"Zurck zur Suche",managedBy:"Verwaltet von:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",address:"Adresse:",description:"Beschreibung:",viewOnMap:"Auf Karte anzeigen",step1Title:"1. Bentigte Dokumente auswhlen",step1Subtitle:"Whlen Sie die Dokumente aus, die Sie bentigen. Sie knnen nach einem Dokument suchen und es der Liste hinzufgen oder direkt aus der Liste unten auswhlen.",searchPlaceholder:"Nach Dokument suchen...",searchLabel:"Suchen Sie nach einem Dokument, um es Ihrer Liste hinzuzufgen",noMatch:"Keine Dokumente entsprechen Ihrer Suche.",step2Title:"2. Anfrage senden",continueToForm:"Weiter zum Ausfllen des Formulars ({count})",similarCafes:"hnliche Cafs",cafeNotFoundTitle:"Caf nicht gefunden",cafeNotFoundMessage:"Entschuldigung, wir konnten die Seite nicht finden, nach der Sie suchen.",startChat:"Chat starten",chatWith:"Chatten mit {name}"},confirmationPage:{title:"Ihre Anfrage wurde erfolgreich gesendet!",subtitle:"Ihre Informationen wurden an das Caf gesendet. Bitte gehen Sie dorthin und geben Sie den folgenden Code an, um Ihre Dokumente zu erhalten.",orderCodeLabel:"Ihr Bestellcode lautet:",note:"Hinweis: Bewahren Sie diesen Code auf, Sie bentigen ihn, um Ihre Bestellung beim Cafbesitzer zu besttigen.",backToHome:"Zurck zur Startseite"},formPage:{title:"Formular ausfllen",submittingTo:"Sie senden eine Anfrage an",online:"Online",offline:"Offline",scanId:"ID scannen",scanIdTitle:"Personalausweis mit Kamera scannen",micPermissionErrorTitle:"Mikrofonzugriff verweigert",micPermissionErrorMessage:"Bitte aktivieren Sie den Mikrofonzugriff in Ihren Browsereinstellungen, um die Spracheingabefunktion zu nutzen. Sie knnen das Formular weiterhin manuell ausfllen.",stepCounter:"Schritt {current} von {total}",navigationHint:'Sie knnen "Weiter" oder "Zurck" sagen, um zwischen den Feldern zu navigieren.',answerPlaceholder:"Antworten Sie hier... z.B., {placeholder}",toggleMic:"Mikrofon umschalten",optionsHint:"Verfgbare Optionen (sagen Sie die Nummer zum Auswhlen):",previous:"Zurck",next:"Weiter",review:"berprfen",formCompleteTitle:"Formular vollstndig!",formCompleteMessage:"Bitte berprfen Sie die Daten sorgfltig vor der endgltigen bermittlung.",profilePicture:"Profilbild",backToEdit:"Zurck zum Bearbeiten",submitFinal:"Endgltige Anfrage senden",submitting:"Wird gesendet...",errorTitle:"Anfragefehler",errorMessage:"Es wurden keine Dokumente oder Dienste ausgewhlt. Bitte gehen Sie zurck und whlen Sie zuerst Dokumente aus.",backToSearch:"Zurck zur Suchseite",error:{noDocument:"Kein Dokument angegeben.",loadFailed:"Laden der Dokumentdaten fehlgeschlagen.",unexpected:"Ein unerwarteter Fehler ist aufgetreten.",notFound:"Dokument nicht gefunden",wordTemplateFailed:"Laden der Word-Vorlage fehlgeschlagen."},fillDataFor:"Daten ausfllen fr:",fillFieldsBelow:"Fllen Sie die folgenden Felder aus, um Ihr Dokument zu erstellen.",importantNote:"Wichtiger Hinweis",noteContent:"Schaltflchen zum Vorschauen, Herunterladen oder Ausfllen dieses Dokuments befinden sich unten auf dieser Seite.",selectOption:"-- Auswhlen --",createDocument:"Dokument erstellen"},adPage:{preparing:"Ihr Dokument wird vorbereitet...",autoDisplay:"Ihr Dokument wird automatisch angezeigt in:",downloadBlank:"Leere Kopie herunterladen",fillDownload:"Ausfllen/Herunterladen",downloadPdf:"Als PDF herunterladen",downloadWord:"Als Word herunterladen",adLabel:"Werbung:",optionsTitle:"Dokumentoptionen",stepFormatTitle:"Letzter Schritt: Download-Format whlen",stepFormatDesc:"Whlen Sie das Format, in dem Sie das Dokument herunterladen mchten.",preparingLink:"Link wird vorbereitet...",pleaseWait:"Bitte warten, Link ist in Krze bereit:",linkReady:"Link bereit!",downloadNow:"Jetzt herunterladen",goTo:"Gehe zu {name}",internalPage:"Interne Seite",hadithTitle:"Hadith",prayerReminderTitle:"Gebetserinnerung",hadithIntro:"Der Prophet (Friede sei mit ihm) sagte:",prayerHadithContent:'"Der Bund zwischen uns und ihnen ist das Gebet; wer es unterlsst, hat den Unglauben begangen."',prayerHadithSource:"berliefert von Ahmad, Abu Dawud, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Wer beharrlich um Vergebung bittet (Istighfar), dem schafft Allah einen Ausweg aus jeder Not, eine Erleichterung von jeder Sorge und versorgt ihn, von wo er es nicht erwartet."'},findPage:{hero:{title1:"Erledigen Sie Ihre Dokumente mit Leichtigkeit",subtitle1:"Finden Sie ein Internetcaf in Ihrer Nhe, senden Sie Ihre Anfrage aus der Ferne und holen Sie Ihre fertigen Dokumente ab.",title2:"Finden Sie ein Internetcaf in der Nhe",subtitle2:"Senden Sie Ihre Anfrage aus der Ferne und holen Sie Ihre fertigen Dokumente ab."},step1:{title:"1. Nach einem Dokument suchen",placeholder:"Geburtsurkunde, Lebenslauf...",voiceSearchTitle:"Sprachsuche"},selectedDocs:{title:"Ausgewhlte Dokumente",viewFile:"Datei anzeigen",removeTitle:"Entfernen",nextStepButton:"Weiter: Caf whlen ({count})",nextStepButtonDisabledTitle:"Bitte whlen Sie mindestens ein Dokument aus",emptyState:"Noch keine Dokumente ausgewhlt."},alert:{selectFillable:"Bitte whlen Sie mindestens ein ausfllbares Dokument aus."}},blogPost:{publishedOn:"Verffentlicht am:",by:"Von:",relatedArticles:"Andere Artikel, die Ihnen gefallen knnten",backToList:"Zurck zu allen Artikeln",relatedPostsSidebar:"Verwandte Beitrge",notFoundTitle:"404 - Beitrag nicht gefunden",notFoundMessage:"Entschuldigung, wir konnten den gesuchten Beitrag nicht finden.",backToBlog:"Zurck zum Blog"},searchForm:{searchByName:"Nach Namen suchen...",search:"Suchen"},servicesListPage:{title:"Dienstleistungsliste",fillableDocs:"Ausfllbare Dokumente",staticDocs:"Druckbare Dokumente (PDF)",siteServices:"Website-Dienste"},serviceDetailPage:{serviceNotFound:"Dienst nicht gefunden",backToList:"Zurck zur Dienstleistungsliste",preview:"Dokumentenvorschau",previousDesign:"Vorheriges Design",nextDesign:"Nchstes Design",loadingPreview:"Vorschau wird geladen...",noPreview:"Fr dieses Dokument ist keine Vorschau verfgbar.",openInNewWindow:"In neuem Fenster ffnen oder herunterladen",instructions:"Anweisungen fr dieses Design",voiceExample:"Wie man aufnimmt (Beispiel):",requiredInfo:"Erforderliche Informationen (gesprochen):",findCafeTitle:"Finden Sie ein Caf, das diesen Dienst anbietet",searchNearest:"Suche nach Cafs in meiner Nhe",locating:"Standortbestimmung...",resultsTitle:"Ergebnisse ({count})",allCafesTitle:"Internetcafs, die diesen Dienst anbieten ({count})",noResults:"Keine Cafs entsprechen Ihrer Suche fr alle erforderlichen Dienste."},login:{title:"Caf-Inhaber Login",emailLabel:"E-Mail",passwordLabel:"Passwort",forgotPassword:"Passwort vergessen?",loginButton:"Anmelden",loggingInButton:"Anmeldung...",noAccount:"Kein Konto?",createAccount:"Neues Konto erstellen",error:{fillAllFields:"Bitte fllen Sie alle Felder aus.",verifyEmail:"Bitte berprfen Sie Ihre E-Mail, um Ihr Konto zu aktivieren.",wrongCredentials:"Die E-Mail oder das Passwort ist falsch.",enterEmail:"Bitte geben Sie Ihre E-Mail-Adresse ein."},reset:{title:"Passwort zurcksetzen",emailLabel:"Registrierte E-Mail",sendButton:"Link zum Zurcksetzen senden",sendingButton:"Wird gesendet...",successMessage:"Ein Link zum Zurcksetzen des Passworts wurde gesendet. Bitte berprfen Sie Ihren Posteingang.",errorMessage:"E-Mail konnte nicht gesendet werden. Bitte versuchen Sie es erneut.",backToLogin:"Zurck zum Login"}},signup:{title:"Neues Konto erstellen",accountInfo:"Kontoinformationen",email:"E-Mail",password:"Passwort",passwordPlaceholder:"Mindestens 6 Zeichen",confirmPassword:"Passwort besttigen",cafeInfo:"Caf-Informationen",cafeName:"Geschftsname des Cafs",cafeNamePlaceholder:"z.B. Die gemtliche Ecke",ownerName:"Vollstndiger Name des Inhabers",ownerNamePlaceholder:"z.B. Max Mustermann",country:"Land",wilaya:"Staat/Provinz",daira:"Bezirk",commune:"Stadt/Gemeinde",state:"Staat / Provinz",city:"Stadt",street:"Adresse",loading:"Laden...",selectWilaya:"Staat auswhlen",selectDaira:"Bezirk auswhlen",selectCommune:"Stadt auswhlen",statePlaceholder:"z.B. Bayern, Berlin",cityPlaceholder:"z.B. Mnchen, Hamburg",streetPlaceholder:"z.B. Hauptstrae 123",createButton:"Konto & Caf erstellen",creatingButton:"Erstelle...",haveAccount:"Haben Sie bereits ein Konto?",loginHere:"Hier anmelden",errors:{allowedDomains:"Bitte verwenden Sie eine Gmail- oder Microsoft-E-Mail (Outlook, Hotmail, Live).",fillAllFields:"Bitte fllen Sie alle Felder aus.",passwordsMismatch:"Passwrter stimmen nicht berein.",passwordLength:"Das Passwort muss mindestens 6 Zeichen lang sein.",signupFailed:"Diese E-Mail wird bereits verwendet oder es ist ein Registrierungsfehler aufgetreten. Bitte versuchen Sie es erneut."},success:{title:"Konto erfolgreich erstellt!",message:"Wir haben einen Besttigungslink an Ihre E-Mail gesendet",instruction:"Bitte klicken Sie auf den Link, um Ihr Konto zu aktivieren, bevor Sie sich anmelden.",loginButton:"Zur Anmeldeseite gehen"}},formFields:{profilePicture:"Profilbild",fullName:"Vollstndiger Name",firstName:"Vorname",lastName:"Nachname",firstNameFr:"Vorname (Lat.)",lastNameFr:"Nachname (Lat.)",birthdaydate:"Geburtsdatum",birthdayplace:"Geburtsort",address:"Adresse",phone:"Telefonnummer",email:"E-Mail",jobTitle:"Berufsbezeichnung",nationalId:"Ausweisnummer",birthCertificateNumber:"Geburtsurkundennummer",socialSecurityNumber:"Sozialversicherungsnummer",nationality:"Nationalitt",maritalStatus:"Familienstand",maritalStatusOptions:{married:"Verheiratet",single:"Ledig",divorced:"Geschieden"},motherFirstName:"Vorname der Mutter",motherLastName:"Mdchenname der Mutter",motherDob:"Geburtsdatum der Mutter",motherPob:"Geburtsort der Mutter",fatherFirstName:"Vorname des Vaters",fatherLastName:"Nachname des Vaters",fatherDob:"Geburtsdatum des Vaters",fatherPob:"Geburtsort des Vaters",residenceWilaya:"Wohnstaat/Provinz",residenceDaira:"Wohnbezirk",residenceCommune:"Wohnort",residenceStreet:"Strae",birthWilaya:"Geburtsstaat",birthDaira:"Geburtsbezirk",birthCommune:"Geburtsort",bloodType:"Blutgruppe",gender:"Geschlecht",genderOptions:{male:"Mnnlich",female:"Weiblich"},height:"Gre (cm)",eyeColor:"Augenfarbe",distinguishingMarks:"Besondere Merkmale",employerName:"Arbeitgeber",employerAddress:"Arbeitgeberadresse",educationLevel:"Bildungsgrad",educationLevelOptions:{primary:"Grundschule",middle:"Mittelschule",high:"Gymnasium/Oberschule",university:"Universitt",postgraduate:"Postgraduiert"},universityName:"Universitt",graduationDate:"Abschlussdatum",fieldOfStudy:"Studienfach",higherInstituteName:"Institutsname",vocationalTrainingCenterName:"Ausbildungszentrum",schoolName:"Schulname",highSchoolName:"Name der Oberschule",middleSchoolName:"Name der Mittelschule",universityCity:"Universittsstadt",passportNumber:"Reisepassnummer",passportIssueDate:"Ausstellungsdatum",passportExpiryDate:"Ablaufdatum",passportIssuePlace:"Ausstellungsort",drivingLicenseNumber:"Fhrerscheinnummer",drivingLicenseCategory:"Fhrerscheinklasse",drivingLicenseIssueDate:"Ausstellungsdatum",numberOfChildren:"Anzahl der Kinder",numberOfSons:"Anzahl der Shne",numberOfDaughters:"Anzahl der Tchter",numberOfSiblings:"Anzahl der Geschwister",numberOfBrothers:"Anzahl der Brder",numberOfSisters:"Anzahl der Schwestern",spouseFullName:"Name des Ehepartners",spouseDob:"Geburtsdatum (Partner)",spouseJob:"Beruf des Partners",militaryStatus:"Militrstatus",ToTheGovernorOftheStateOf:"An den Gouverneur von",submissionDaira:"An den Bezirkschef von",ToTheMayorOf:"An den Brgermeister von",employerWilaya:"Arbeitsstaat",employerDaira:"Arbeitsbezirk",employerCommune:"Arbeitsort",criminalRecordNumber:"Fhrungszeugnis Nr.",criminalRecordIssueDate:"Ausstellungsdatum",criminalRecordIssuePlace:"Ausstellungsort",commercialRegistryNumber:"Handelsregisternummer",taxIdNumber:"Steuernummer",casnosNumber:"Versicherungsnummer",vehicleRegistrationCardNumber:"Zulassungsnummer",vehicleType:"Fahrzeugtyp",vehicleBrand:"Marke",vehicleModel:"Modell",vehicleFirstRegistrationDate:"Erstzulassung",bankName:"Bankname",bankAccountNumber:"Kontonummer",bankAgencyName:"Filiale",bankAgencyCode:"Filialcode",bankNameTo:"An Bank",bankWilayaTo:"An Bundesland",bankCountryTo:"An Land",bankStreetTo:"An Adresse",bankNameFrom:"Von Bank",bankWilayaFrom:"Von Bundesland",bankCountryFrom:"Von Land",bankStreetFrom:"Von Adresse",amountReceived:"Erhaltener Betrag",amountSent:"Gesendeter Betrag",employmentContractType:"Vertragsart",employmentStartDate:"Arbeitsbeginn",employeeIdNumber:"Mitarbeiter-ID",professionalGrade:"Berufsgrad",nationalIdIssueDate:"Ausweis-Ausstellungsdatum",nationalIdExpiryDate:"Ausweis-Ablaufdatum",drivingLicenseExpiryDate:"Fhrerschein-Ablaufdatum",familyBookNumber:"Familienbuchnummer",marriageDate:"Hochzeitsdatum",marriagePlace:"Hochzeitsort",rentalContractNumber:"Mietvertragsnummer",landlordName:"Vermietername",propertyAddress:"Objektadresse",attendingPhysicianName:"Arztname",disabilityType:"Art der Behinderung",disabilityPercentage:"Grad der Behinderung (%)",deceasedParentFullName:"Name des verstorbenen Elternteils",deceasedParentDod:"Sterbedatum",deceasedParentPod:"Sterbeort",deathCertificateNumber:"Sterbeurkundennummer",survivingParentFullName:"Name des hinterbliebenen Elternteils",survivingParentJobTitle:"Beruf",hospitalName:"Krankenhaus",motherFullName:"Vollstndiger Name der Mutter",motherAge:"Alter der Mutter",fatherFullName:"Vollstndiger Name des Vaters",fatherAge:"Alter des Vaters",spousePob:"Geburtsort des Partners",spouseAge:"Alter des Partners",sonName:"Name des Sohnes",sonPob:"Geburtsort des Sohnes",sonAge:"Alter des Sohnes",daughterName:"Name der Tochter",daughterPob:"Geburtsort der Tochter",daughterAge:"Alter der Tochter",paternalGrandfatherName:"Grovater (vterl.)",paternalGrandfatherPob:"Geburtsort",paternalGrandfatherAge:"Alter",paternalGrandmotherName:"Gromutter (vterl.)",paternalGrandmotherPob:"Geburtsort",paternalGrandmotherAge:"Alter",maternalGrandfatherName:"Grovater (mtterl.)",maternalGrandfatherPob:"Geburtsort",maternalGrandfatherAge:"Alter",maternalGrandmotherName:"Gromutter (mtterl.)",maternalGrandmotherPob:"Geburtsort",maternalGrandmotherAge:"Alter"}},aH={header:{search:"Buscar",login:"Acceso Propietario",dashboard:"Panel",logout:"Cerrar sesin",allCountries:"Todos los pases",allCountriesSearch:"Todos los pases (Bsqueda global)",selectCafeCountry:"Seleccionar pas del caf"},footer:{blog:"Blog",services:"Lista de servicios",rightsReserved:"Todos los derechos reservados."},blog:{title:"Blog de Gitut",subtitle:"Sigue nuestras ltimas noticias, actualizaciones y consejos tiles para propietarios de cafs y buscadores de servicios de documentos."},share:{title:"Compartir:",copied:"Copiado!",copyDetails:"Copiar detalles"},blogPostCard:{readMore:"Leer ms"},relatedServices:{title:"Servicios relacionados"},relatedPosts:{title:"Artculos relacionados"},relatedPages:{title:"Otras pginas"},app:{error:{title:"Error de aplicacin",message:"No se pudieron cargar los datos esenciales. Puede haber un problema de conexin con el servidor."}},cafeCard:{owner:"Propietario:",address:"Direccin:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",chooseThisCafe:"Elegir este caf",viewDetails:"Ver detalles y servicios",startChat:"Iniciar chat",distanceUnit:"km"},profilePage:{backToSearch:"Volver a la bsqueda",managedBy:"Gestionado por:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",address:"Direccin:",description:"Descripcin:",viewOnMap:"Ver en el mapa",step1Title:"1. Seleccionar documentos requeridos",step1Subtitle:"Seleccione los documentos que necesita. Puede buscar un documento y aadirlo a la lista, o elegir directamente de la lista a continuacin.",searchPlaceholder:"Buscar un documento para aadir...",searchLabel:"Busque un documento para aadir a su lista",noMatch:"Ningn documento coincide con su bsqueda.",step2Title:"2. Enviar su solicitud",continueToForm:"Continuar para llenar el formulario ({count})",similarCafes:"Cafs similares",cafeNotFoundTitle:"Caf no encontrado",cafeNotFoundMessage:"Lo sentimos, no pudimos encontrar la pgina que busca.",startChat:"Iniciar chat",chatWith:"Chatear con {name}"},confirmationPage:{title:"Su solicitud ha sido enviada con xito!",subtitle:"Su informacin ha sido enviada al caf. Por favor vaya all y proporcione el siguiente cdigo para recibir sus documentos.",orderCodeLabel:"Su cdigo de pedido es:",note:"Nota: Guarde este cdigo, lo necesitar para confirmar su pedido con el propietario del caf.",backToHome:"Volver a la pgina de inicio"},formPage:{title:"Llenar el formulario",submittingTo:"Est enviando una solicitud a:",online:"En lnea",offline:"Desconectado",scanId:"Escanear ID",scanIdTitle:"Escanear tarjeta de identidad con cmara",micPermissionErrorTitle:"Acceso al micrfono denegado",micPermissionErrorMessage:"Por favor habilite el acceso al micrfono en la configuracin de su navegador para usar la funcin de entrada de voz. Todava puede completar el formulario manualmente.",stepCounter:"Paso {current} de {total}",navigationHint:'Puede decir "Siguiente" o "Anterior" para navegar entre los campos.',answerPlaceholder:"Responda aqu... p.ej., {placeholder}",toggleMic:"Alternar micrfono",optionsHint:"Opciones disponibles (diga el nmero para seleccionar):",previous:"Anterior",next:"Siguiente",review:"Revisar",formCompleteTitle:"Formulario completo!",formCompleteMessage:"Por favor revise los datos cuidadosamente antes del envo final.",profilePicture:"Foto de perfil",backToEdit:"Volver a editar",submitFinal:"Enviar solicitud final",submitting:"Enviando...",errorTitle:"Error de solicitud",errorMessage:"No se seleccionaron documentos o servicios. Por favor regrese y seleccione documentos primero.",backToSearch:"Volver a la pgina de bsqueda",error:{noDocument:"Ningn documento especificado.",loadFailed:"Error al cargar datos del documento.",unexpected:"Ocurri un error inesperado.",notFound:"Documento no encontrado",wordTemplateFailed:"Error al cargar la plantilla de Word."},fillDataFor:"Llenar datos para:",fillFieldsBelow:"Complete los campos a continuacin para crear su documento.",importantNote:"Nota Importante",noteContent:"Los botones para previsualizar, descargar o llenar este documento estn en la parte inferior de esta pgina.",selectOption:"-- Seleccionar --",createDocument:"Crear documento"},adPage:{preparing:"Preparando su documento...",autoDisplay:"Su documento se mostrar automticamente en:",downloadBlank:"Descargar copia en blanco",fillDownload:"Rellenar/Descargar",downloadPdf:"Descargar como PDF",downloadWord:"Descargar como Word",adLabel:"Publicidad:",optionsTitle:"Opciones del documento",stepFormatTitle:"ltimo paso: Elija el formato de descarga",stepFormatDesc:"Elija el formato en el que desea descargar el documento.",preparingLink:"Preparando enlace...",pleaseWait:"Por favor espere, el enlace estar listo en:",linkReady:"Enlace listo!",downloadNow:"Descargar ahora",goTo:"Ir a {name}",internalPage:"Pgina interna",hadithTitle:"Hadiz",prayerReminderTitle:"Recordatorio de Oracin",hadithIntro:"El Profeta (la paz sea con l) dijo:",prayerHadithContent:'"El pacto entre nosotros y ellos es la oracin, as que quien la abandona ha descredo."',prayerHadithSource:"Narrado por Ahmad, Abu Dawud, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Quien se aferra a pedir perdn (Istighfar), Allah le abrir una salida de cada dificultad, un alivio de cada ansiedad y le proveer desde donde no lo espera."'},findPage:{hero:{title1:"Realice sus documentos con facilidad",subtitle1:"Encuentre un caf de internet cercano, enve su solicitud de forma remota y recoja sus documentos listos.",title2:"Encuentre un caf de internet cercano",subtitle2:"Enve su solicitud de forma remota y recoja sus documentos listos."},step1:{title:"1. Buscar un documento",placeholder:"Certificado de nacimiento, CV...",voiceSearchTitle:"Bsqueda por voz"},selectedDocs:{title:"Documentos seleccionados",viewFile:"Ver archivo",removeTitle:"Eliminar",nextStepButton:"Siguiente: Elegir caf ({count})",nextStepButtonDisabledTitle:"Por favor seleccione al menos un documento",emptyState:"An no se han seleccionado documentos."},alert:{selectFillable:"Por favor seleccione al menos un documento rellenable."}},blogPost:{publishedOn:"Publicado el:",by:"Por:",relatedArticles:"Otros artculos que le podran gustar",backToList:"Volver a todos los artculos",relatedPostsSidebar:"Artculos relacionados",notFoundTitle:"404 - Artculo no encontrado",notFoundMessage:"Lo sentimos, no pudimos encontrar el artculo que busca.",backToBlog:"Volver al blog"},searchForm:{searchByName:"Buscar por nombre...",search:"Buscar"},servicesListPage:{title:"Lista de servicios",fillableDocs:"Documentos rellenables",staticDocs:"Documentos imprimables (PDF)",siteServices:"Servicios del sitio web"},serviceDetailPage:{serviceNotFound:"Servicio no encontrado",backToList:"Volver a la lista de servicios",preview:"Vista previa del documento",previousDesign:"Diseo anterior",nextDesign:"Diseo siguiente",loadingPreview:"Cargando vista previa...",noPreview:"No hay vista previa disponible para este documento.",openInNewWindow:"Abrir en nueva ventana o descargar",instructions:"Instrucciones para este diseo",voiceExample:"Cmo grabar (Ejemplo):",requiredInfo:"Informacin requerida (hablada):",findCafeTitle:"Encuentre un caf que ofrezca este servicio",searchNearest:"Buscar cafs ms cercanos a m",locating:"Localizando...",resultsTitle:"Resultados ({count})",allCafesTitle:"Cafs de internet que ofrecen este servicio ({count})",noResults:"Ningn caf coincide con su bsqueda para todos los servicios requeridos."},login:{title:"Acceso Propietario de Caf",emailLabel:"Correo electrnico",passwordLabel:"Contrasea",forgotPassword:"Olvid su contrasea?",loginButton:"Iniciar sesin",loggingInButton:"Iniciando sesin...",noAccount:"No tiene una cuenta?",createAccount:"Crear una nueva cuenta",error:{fillAllFields:"Por favor complete todos los campos.",verifyEmail:"Por favor verifique su correo electrnico para activar su cuenta.",wrongCredentials:"El correo electrnico o la contrasea son incorrectos.",enterEmail:"Por favor ingrese su direccin de correo electrnico."},reset:{title:"Restablecer contrasea",emailLabel:"Correo electrnico registrado",sendButton:"Enviar enlace de restablecimiento",sendingButton:"Enviando...",successMessage:"Se ha enviado un enlace para restablecer la contrasea. Por favor revise su bandeja de entrada.",errorMessage:"Error al enviar el correo electrnico. Por favor intntelo de nuevo.",backToLogin:"Volver al inicio de sesin"}},signup:{title:"Crear una nueva cuenta",accountInfo:"Informacin de la cuenta",email:"Correo electrnico",password:"Contrasea",passwordPlaceholder:"Al menos 6 caracteres",confirmPassword:"Confirmar contrasea",cafeInfo:"Informacin del caf",cafeName:"Nombre comercial del caf",cafeNamePlaceholder:"p.ej., El Rincn Acogedor",ownerName:"Nombre completo del propietario",ownerNamePlaceholder:"p.ej., Juan Prez",country:"Pas",wilaya:"Estado/Provincia",daira:"Distrito",commune:"Ciudad/Municipio",state:"Estado / Province",city:"Ciudad",street:"Direccin",loading:"Cargando...",selectWilaya:"Seleccionar Estado",selectDaira:"Seleccionar Distrito",selectCommune:"Seleccionar Ciudad",statePlaceholder:"p.ej., Madrid, Buenos Aires",cityPlaceholder:"p.ej., Barcelona, Crdoba",streetPlaceholder:"p.ej., Calle Mayor 123",createButton:"Crear cuenta y caf",creatingButton:"Creando...",haveAccount:"Ya tiene una cuenta?",loginHere:"Inicie sesin aqu",errors:{allowedDomains:"Por favor use un correo de Gmail o Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Por favor complete todos los campos.",passwordsMismatch:"Las contraseas no coinciden.",passwordLength:"La contrasea debe tener al menos 6 caracteres.",signupFailed:"Este correo electrnico ya est en uso o ocurri un error de registro. Por favor intntelo de nuevo."},success:{title:"Cuenta creada con xito!",message:"Hemos enviado un enlace de verificacin a su correo electrnico",instruction:"Por favor haga clic en el enlace para activar su cuenta antes de iniciar sesin.",loginButton:"Ir a la pgina de inicio de sesin"}},formFields:{profilePicture:"Foto de perfil",fullName:"Nombre completo",firstName:"Nombre",lastName:"Apellido",firstNameFr:"Nombre (Lat.)",lastNameFr:"Apellido (Lat.)",birthdaydate:"Fecha de nacimiento",birthdayplace:"Lugar de nacimiento",address:"Direccin",phone:"Telfono",email:"Correo electrnico",jobTitle:"Profesin",nationalId:"Nmero de identificacin nacional",birthCertificateNumber:"Nmero de certificado de nacimiento",socialSecurityNumber:"Nmero de seguridad social",nationality:"Nacionalidad",maritalStatus:"Estado civil",maritalStatusOptions:{married:"Casado/a",single:"Soltero/a",divorced:"Divorciado/a"},motherFirstName:"Nombre de la madre",motherLastName:"Apellido de la madre",motherDob:"Fecha nac. madre",motherPob:"Lugar nac. madre",fatherFirstName:"Nombre del padre",fatherLastName:"Apellido del padre",fatherDob:"Fecha nac. padre",fatherPob:"Lugar nac. padre",residenceWilaya:"Estado/Provincia de residencia",residenceDaira:"Distrito de residencia",residenceCommune:"Ciudad de residencia",residenceStreet:"Calle de residencia",birthWilaya:"Estado de nacimiento",birthDaira:"Distrito de nacimiento",birthCommune:"Ciudad de nacimiento",bloodType:"Tipo de sangre",gender:"Gnero",genderOptions:{male:"Masculino",female:"Femenino"},height:"Altura (cm)",eyeColor:"Color de ojos",distinguishingMarks:"Marcas distintivas",employerName:"Nombre del empleador",employerAddress:"Direccin del empleador",educationLevel:"Nivel educativo",educationLevelOptions:{primary:"Primaria",middle:"Secundaria",high:"Bachillerato",university:"Universidad",postgraduate:"Posgrado"},universityName:"Nombre de la universidad",graduationDate:"Fecha de graduacin",fieldOfStudy:"Campo de estudio",higherInstituteName:"Nombre del instituto",vocationalTrainingCenterName:"Centro de formacin",schoolName:"Nombre de la escuela",highSchoolName:"Nombre del instituto",middleSchoolName:"Nombre de la secundaria",universityCity:"Ciudad universitaria",passportNumber:"Nmero de pasaporte",passportIssueDate:"Fecha de emisin pasaporte",passportExpiryDate:"Fecha de vencimiento pasaporte",passportIssuePlace:"Lugar de emisin pasaporte",drivingLicenseNumber:"Nmero de licencia de conducir",drivingLicenseCategory:"Categora de licencia",drivingLicenseIssueDate:"Fecha de emisin licencia",numberOfChildren:"Nmero de hijos",numberOfSons:"Nmero de hijos varones",numberOfDaughters:"Nmero de hijas",numberOfSiblings:"Nmero de hermanos",numberOfBrothers:"Nmero de hermanos varones",numberOfSisters:"Nmero de hermanas",spouseFullName:"Nombre completo del cnyuge",spouseDob:"Fecha nacimiento cnyuge",spouseJob:"Trabajo del cnyuge",militaryStatus:"Estado militar",ToTheGovernorOftheStateOf:"Al Gobernador de",submissionDaira:"Al Jefe de Distrito de",ToTheMayorOf:"Al Alcalde de",employerWilaya:"Estado del empleador",employerDaira:"Distrito del empleador",employerCommune:"Ciudad del empleador",criminalRecordNumber:"Nmero de antecedentes penales",criminalRecordIssueDate:"Fecha emisin antecedentes",criminalRecordIssuePlace:"Lugar emisin antecedentes",commercialRegistryNumber:"Nmero registro comercial",taxIdNumber:"NIF/RFC",casnosNumber:"Nmero de seguro",vehicleRegistrationCardNumber:"Nmero matrcula vehculo",vehicleType:"Tipo de vehculo",vehicleBrand:"Marca de vehculo",vehicleModel:"Modelo de vehculo",vehicleFirstRegistrationDate:"Fecha primera matriculacin",bankName:"Nombre del banco",bankAccountNumber:"Nmero de cuenta bancaria",bankAgencyName:"Nombre de agencia",bankAgencyCode:"Cdigo de agencia",bankNameTo:"Banco destinatario",bankWilayaTo:"Estado banco destinatario",bankCountryTo:"Pas destinatario",bankStreetTo:"Direccin banco dest.",bankNameFrom:"Banco remitente",bankWilayaFrom:"Estado banco remitente",bankCountryFrom:"Pas remitente",bankStreetFrom:"Direccin banco remitente",amountReceived:"Cantidad recibida",amountSent:"Cantidad enviada",employmentContractType:"Tipo de contrato",employmentStartDate:"Fecha inicio empleo",employeeIdNumber:"ID de empleado",professionalGrade:"Grado profesional",nationalIdIssueDate:"Fecha emisin ID",nationalIdExpiryDate:"Fecha vencimiento ID",drivingLicenseExpiryDate:"Vencimiento licencia",familyBookNumber:"Nmero libro de familia",marriageDate:"Fecha de matrimonio",marriagePlace:"Lugar de matrimonio",rentalContractNumber:"Nmero contrato alquiler",landlordName:"Nombre del arrendador",propertyAddress:"Direccin propiedad",attendingPhysicianName:"Nombre mdico",disabilityType:"Tipo de discapacidad",disabilityPercentage:"Porcentaje discapacidad",deceasedParentFullName:"Nombre padre fallecido",deceasedParentDod:"Fecha fallecimiento",deceasedParentPod:"Lugar fallecimiento",deathCertificateNumber:"Nmero certificado defuncin",survivingParentFullName:"Nombre padre sobreviviente",survivingParentJobTitle:"Trabajo padre sobreviviente",hospitalName:"Nombre hospital",motherFullName:"Nombre completo madre",motherAge:"Edad madre",fatherFullName:"Nombre completo padre",fatherAge:"Edad padre",spousePob:"Lugar nacimiento cnyuge",spouseAge:"Edad cnyuge",sonName:"Nombre hijo",sonPob:"Lugar nacimiento hijo",sonAge:"Edad hijo",daughterName:"Nombre hija",daughterPob:"Lugar nacimiento hija",daughterAge:"Edad hija",paternalGrandfatherName:"Abuelo paterno",paternalGrandfatherPob:"Lugar nacimiento",paternalGrandfatherAge:"Edad",paternalGrandmotherName:"Abuela paterna",paternalGrandmotherPob:"Lugar nacimiento",paternalGrandmotherAge:"Edad",maternalGrandfatherName:"Abuelo materno",maternalGrandfatherPob:"Lugar nacimiento",maternalGrandfatherAge:"Edad",maternalGrandmotherName:"Abuela materna",maternalGrandmotherPob:"Lugar nacimiento",maternalGrandmotherAge:"Edad"}},oH={header:{search:"Ara",login:"Kafe Sahibi Girii",dashboard:"Panel",logout:"k Yap",allCountries:"Tm lkeler",allCountriesSearch:"Tm lkeler (Kresel Arama)",selectCafeCountry:"Kafe lkesini Se"},footer:{blog:"Blog",services:"Hizmet Listesi",rightsReserved:"Tm haklar sakldr."},blog:{title:"Gitut Blog",subtitle:"Kafe sahipleri ve belge hizmeti arayanlar iin en son haberlerimizi, gncellemelerimizi ve yararl ipularmz takip edin."},share:{title:"Payla:",copied:"Kopyaland!",copyDetails:"Detaylar kopyala"},blogPostCard:{readMore:"Daha fazla oku"},relatedServices:{title:"lgili Hizmetler"},relatedPosts:{title:"lgili Yazlar"},relatedPages:{title:"Dier Sayfalar"},app:{error:{title:"Uygulama Hatas",message:"Temel veriler yklenemedi. Sunucuya balanrken bir sorun olabilir."}},cafeCard:{owner:"Sahibi:",address:"Adres:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",chooseThisCafe:"Bu Kafeyi Se",viewDetails:"Detaylar ve Hizmetleri Grntle",startChat:"Sohbet Balat",distanceUnit:"km"},profilePage:{backToSearch:"Aramaya Dn",managedBy:"Yneten:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",address:"Adres:",description:"Aklama:",viewOnMap:"Haritada Grntle",step1Title:"1. Gerekli Belgeleri Sein",step1Subtitle:"htiyacnz olan belgeleri sein. Bir belge arayp listeye ekleyebilir veya dorudan aadaki listeden seebilirsiniz.",searchPlaceholder:"Eklemek iin bir belge arayn...",searchLabel:"Listenize eklemek iin bir belge arayn",noMatch:"Aramanzla eleen belge yok.",step2Title:"2. steinizi Gnderin",continueToForm:"Formu Doldurmaya Devam Et ({count})",similarCafes:"Benzer Kafeler",cafeNotFoundTitle:"Kafe Bulunamad",cafeNotFoundMessage:"zgnz, aradnz sayfay bulamadk.",startChat:"Sohbet Balat",chatWith:"{name} ile sohbet et"},confirmationPage:{title:"steiniz Baaryla Gnderildi!",subtitle:"Bilgileriniz kafeye gnderildi. Ltfen oraya gidin ve belgelerinizi almak iin aadaki kodu salayn.",orderCodeLabel:"Sipari kodunuz:",note:"Not: Bu kodu saklayn, sipariinizi kafe sahibiyle onaylamak iin buna ihtiyacnz olacak.",backToHome:"Anasayfaya Dn"},formPage:{title:"Formu Doldur",submittingTo:"uraya bir istek gnderiyorsunuz:",online:"evrimii",offline:"evrimd",scanId:"Kimlii Tara",scanIdTitle:"Kamera ile kimlik kartn tara",micPermissionErrorTitle:"Mikrofon Eriimi Reddedildi",micPermissionErrorMessage:"Sesli giri zelliini kullanmak iin ltfen tarayc ayarlarnzda mikrofon eriimini etkinletirin. Formu yine de manuel olarak doldurabilirsiniz.",stepCounter:"Adm {current} / {total}",navigationHint:'Alanlar arasnda gezinmek iin "Sonraki" veya "nceki" diyebilirsiniz.',answerPlaceholder:"Buraya cevap verin... rn., {placeholder}",toggleMic:"Mikrofonu A/Kapat",optionsHint:"Mevcut seenekler (semek iin numaray syleyin):",previous:"nceki",next:"Sonraki",review:"ncele",formCompleteTitle:"Form Tamamland!",formCompleteMessage:"Ltfen son gnderimden nce verileri dikkatlice inceleyin.",profilePicture:"Profil Resmi",backToEdit:"Dzenlemeye Dn",submitFinal:"Son stei Gnder",submitting:"Gnderiliyor...",errorTitle:"stek Hatas",errorMessage:"Hibir belge veya hizmet seilmedi. Ltfen geri dnn ve nce belgeleri sein.",backToSearch:"Arama Sayfasna Dn",error:{noDocument:"Belge belirtilmedi.",loadFailed:"Belge verileri yklenemedi.",unexpected:"Beklenmeyen bir hata olutu.",notFound:"Belge Bulunamad",wordTemplateFailed:"Word ablonu yklenemedi."},fillDataFor:"Verileri Doldur:",fillFieldsBelow:"Belgenizi oluturmak iin aadaki alanlar doldurun.",importantNote:"nemli Not",noteContent:"Bu belgeyi nizleme, indirme veya doldurma dmeleri bu sayfann altndadr.",selectOption:"-- Se --",createDocument:"Belge Olutur"},adPage:{preparing:"Belgeniz hazrlanyor...",autoDisplay:"Belgeniz u sre iinde otomatik olarak grntlenecek:",downloadBlank:"Bo Kopyay ndir",fillDownload:"Doldur/ndir",downloadPdf:"PDF Olarak ndir",downloadWord:"Word Olarak ndir",adLabel:"Reklam:",optionsTitle:"Belge Seenekleri",stepFormatTitle:"Son Adm: ndirme Formatn Sein",stepFormatDesc:"Belgeyi indirmek istediiniz format sein.",preparingLink:"Balant hazrlanyor...",pleaseWait:"Ltfen bekleyin, balant hazr olacak:",linkReady:"Balant Hazr!",downloadNow:"imdi ndir",goTo:"{name} sayfasna git",internalPage:"Dahili Sayfa",hadithTitle:"Hadis",prayerReminderTitle:"Namaz Hatrlatmas",hadithIntro:"Peygamber (s.a.v.) yle buyurdu:",prayerHadithContent:'"Bizimle onlar arasndaki ahit namazdr, kim onu terk ederse kfir olmutur."',prayerHadithSource:"Ahmed, Ebu Davud, Nesai, Tirmizi tarafndan rivayet edilmitir",istighfarContent:'"Kim istifara devam ederse, Allah ona her darlktan bir k, her zntden bir kurtulu ihsan eder ve onu ummad yerden rzklandrr."'},findPage:{hero:{title1:"Belgelerinizi Kolayca Tamamlayn",subtitle1:"Yaknnzda bir internet kafe bulun, isteinizi uzaktan gnderin ve hazr belgelerinizi aln.",title2:"Yaknnzda bir internet kafe bulun",subtitle2:"steinizi uzaktan gnderin ve hazr belgelerinizi aln."},step1:{title:"1. Bir Belge Arayn",placeholder:"Doum belgesi, CV...",voiceSearchTitle:"Sesli Arama"},selectedDocs:{title:"Seilen Belgeler",viewFile:"Dosyay Grntle",removeTitle:"Kaldr",nextStepButton:"Sonraki: Kafe Se ({count})",nextStepButtonDisabledTitle:"Ltfen en az bir belge sein",emptyState:"Henz belge seilmedi."},alert:{selectFillable:"Ltfen en az bir doldurulabilir belge sein."}},blogPost:{publishedOn:"Yaynlanma tarihi:",by:"Yazan:",relatedArticles:"Beenebileceiniz dier makaleler",backToList:"Tm makalelere dn",relatedPostsSidebar:"lgili Yazlar",notFoundTitle:"404 - Yaz Bulunamad",notFoundMessage:"zgnz, aradnz yazy bulamadk.",backToBlog:"Bloga Dn"},searchForm:{searchByName:"sme gre ara...",search:"Ara"},servicesListPage:{title:"Hizmet Listesi",fillableDocs:"Doldurulabilir Belgeler",staticDocs:"Yazdrlabilir Belgeler (PDF)",siteServices:"Web Sitesi Hizmetleri"},serviceDetailPage:{serviceNotFound:"Hizmet Bulunamad",backToList:"Hizmet Listesine Dn",preview:"Belge nizleme",previousDesign:"nceki Tasarm",nextDesign:"Sonraki Tasarm",loadingPreview:"nizleme ykleniyor...",noPreview:"Bu belge iin nizleme mevcut deil.",openInNewWindow:"Yeni pencerede a veya indir",instructions:"Bu Tasarm in Talimatlar",voiceExample:"Nasl Kaydedilir (rnek):",requiredInfo:"Gerekli bilgiler (szl):",findCafeTitle:"Bu hizmeti salayan bir kafe bulun",searchNearest:"Bana en yakn kafeleri ara",locating:"Konum belirleniyor...",resultsTitle:"Sonular ({count})",allCafesTitle:"Bu hizmeti salayan internet kafeler ({count})",noResults:"Gerekli tm hizmetler iin aramanzla eleen kafe yok."},login:{title:"Kafe Sahibi Girii",emailLabel:"E-posta",passwordLabel:"ifre",forgotPassword:"ifrenizi mi unuttunuz?",loginButton:"Giri Yap",loggingInButton:"Giri yaplyor...",noAccount:"Hesabnz yok mu?",createAccount:"Yeni bir hesap olutur",error:{fillAllFields:"Ltfen tm alanlar doldurun.",verifyEmail:"Hesabnz etkinletirmek iin ltfen e-postanz kontrol edin.",wrongCredentials:"E-posta veya ifre yanl.",enterEmail:"Ltfen e-posta adresinizi girin."},reset:{title:"ifreyi Sfrla",emailLabel:"Kaytl E-posta",sendButton:"Sfrlama Balants Gnder",sendingButton:"Gnderiliyor...",successMessage:"Bir ifre sfrlama balants gnderildi. Ltfen gelen kutunuzu kontrol edin.",errorMessage:"E-posta gnderilemedi. Ltfen tekrar deneyin.",backToLogin:"Girie Dn"}},signup:{title:"Yeni Bir Hesap Olutur",accountInfo:"Hesap Bilgileri",email:"E-posta",password:"ifre",passwordPlaceholder:"En az 6 karakter",confirmPassword:"ifreyi Onayla",cafeInfo:"Kafe Bilgileri",cafeName:"Kafenin Ticari Ad",cafeNamePlaceholder:"rn., Rahat Ke",ownerName:"Sahibinin Tam Ad",ownerNamePlaceholder:"rn., Ahmet Ylmaz",country:"lke",wilaya:"Eyalet/l",daira:"le",commune:"ehir/Belediye",state:"Eyalet / l",city:"ehir",street:"Sokak Adresi",loading:"Ykleniyor...",selectWilaya:"l Sein",selectDaira:"le Sein",selectCommune:"ehir Sein",statePlaceholder:"rn., stanbul, Ankara",cityPlaceholder:"rn., Kadky, ankaya",streetPlaceholder:"rn., Cumhuriyet Cad. No: 123",createButton:"Hesap ve Kafe Olutur",creatingButton:"Oluturuluyor...",haveAccount:"Zaten bir hesabnz var m?",loginHere:"Buradan giri yapn",errors:{allowedDomains:"Ltfen bir Gmail veya Microsoft e-postas (Outlook, Hotmail, Live) kullann.",fillAllFields:"Ltfen tm alanlar doldurun.",passwordsMismatch:"ifreler elemiyor.",passwordLength:"ifre en az 6 karakter olmaldr.",signupFailed:"Bu e-posta zaten kullanmda veya bir kayt hatas olutu. Ltfen tekrar deneyin."},success:{title:"Hesap Baaryla Oluturuldu!",message:"E-postanza bir dorulama balants gnderdik",instruction:"Ltfen giri yapmadan nce hesabnz etkinletirmek iin balantya tklayn.",loginButton:"Giri Sayfasna Git"}},formFields:{profilePicture:"Profil Resmi",fullName:"Tam Ad",firstName:"Ad",lastName:"Soyad",firstNameFr:"Ad (Latince)",lastNameFr:"Soyad (Latince)",birthdaydate:"Doum Tarihi",birthdayplace:"Doum Yeri",address:"Adres",phone:"Telefon Numaras",email:"E-posta",jobTitle:"Meslek",nationalId:"Kimlik Numaras",birthCertificateNumber:"Doum Belgesi Numaras",socialSecurityNumber:"Sosyal Gvenlik Numaras",nationality:"Uyruk",maritalStatus:"Medeni Durum",maritalStatusOptions:{married:"Evli",single:"Bekar",divorced:"Boanm"},motherFirstName:"Anne Ad",motherLastName:"Anne Soyad",motherDob:"Anne Doum Tarihi",motherPob:"Anne Doum Yeri",fatherFirstName:"Baba Ad",fatherLastName:"Baba Soyad",fatherDob:"Baba Doum Tarihi",fatherPob:"Baba Doum Yeri",residenceWilaya:"kamet li",residenceDaira:"kamet lesi",residenceCommune:"kamet Semti",residenceStreet:"kamet Soka",birthWilaya:"Doum li",birthDaira:"Doum lesi",birthCommune:"Doum Semti",bloodType:"Kan Grubu",gender:"Cinsiyet",genderOptions:{male:"Erkek",female:"Kadn"},height:"Boy (cm)",eyeColor:"Gz Rengi",distinguishingMarks:"Ayrt Edici zellikler",employerName:"veren Ad",employerAddress:"veren Adresi",educationLevel:"Eitim Seviyesi",educationLevelOptions:{primary:"lkokul",middle:"Ortaokul",high:"Lise",university:"niversite",postgraduate:"Lisansst"},universityName:"niversite Ad",graduationDate:"Mezuniyet Tarihi",fieldOfStudy:"alma Alan",higherInstituteName:"Enstit Ad",vocationalTrainingCenterName:"Eitim Merkezi Ad",schoolName:"Okul Ad",highSchoolName:"Lise Ad",middleSchoolName:"Ortaokul Ad",universityCity:"niversite ehri",passportNumber:"Pasaport Numaras",passportIssueDate:"Pasaport Verili Tarihi",passportExpiryDate:"Pasaport Biti Tarihi",passportIssuePlace:"Pasaport Verili Yeri",drivingLicenseNumber:"Ehliyet Numaras",drivingLicenseCategory:"Ehliyet Snf",drivingLicenseIssueDate:"Ehliyet Verili Tarihi",numberOfChildren:"ocuk Says",numberOfSons:"Erkek ocuk Says",numberOfDaughters:"Kz ocuk Says",numberOfSiblings:"Karde Says",numberOfBrothers:"Erkek Karde Says",numberOfSisters:"Kz Karde Says",spouseFullName:"Ein Tam Ad",spouseDob:"Ein Doum Tarihi",spouseJob:"Ein Meslei",militaryStatus:"Askerlik Durumu",ToTheGovernorOftheStateOf:"Valiliine",submissionDaira:"Kaymakamlna",ToTheMayorOf:"Belediye Bakanlna",employerWilaya:"veren li",employerDaira:"veren lesi",employerCommune:"veren Semti",criminalRecordNumber:"Sabka Kayd No",criminalRecordIssueDate:"Verili Tarihi",criminalRecordIssuePlace:"Verili Yeri",commercialRegistryNumber:"Ticari Sicil No",taxIdNumber:"Vergi No",casnosNumber:"Sigorta No",vehicleRegistrationCardNumber:"Ara Tescil No",vehicleType:"Ara Tipi",vehicleBrand:"Ara Markas",vehicleModel:"Ara Modeli",vehicleFirstRegistrationDate:"lk Tescil Tarihi",bankName:"Banka Ad",bankAccountNumber:"Hesap Numaras",bankAgencyName:"ube Ad",bankAgencyCode:"ube Kodu",bankNameTo:"Alc Banka",bankWilayaTo:"Alc li",bankCountryTo:"Alc lke",bankStreetTo:"Alc Adresi",bankNameFrom:"Gnderen Banka",bankWilayaFrom:"Gnderen li",bankCountryFrom:"Gnderen lke",bankStreetFrom:"Gnderen Adresi",amountReceived:"Alnan Tutar",amountSent:"Gnderilen Tutar",employmentContractType:"Szleme Tipi",employmentStartDate:"e Balama Tarihi",employeeIdNumber:"Personel ID",professionalGrade:"Mesleki Derece",nationalIdIssueDate:"Kimlik Verili Tarihi",nationalIdExpiryDate:"Kimlik Biti Tarihi",drivingLicenseExpiryDate:"Ehliyet Biti Tarihi",familyBookNumber:"Aile Czdan No",marriageDate:"Evlilik Tarihi",marriagePlace:"Evlilik Yeri",rentalContractNumber:"Kira Szlemesi No",landlordName:"Ev Sahibi Ad",propertyAddress:"Mlk Adresi",attendingPhysicianName:"Doktor Ad",disabilityType:"Engel Tr",disabilityPercentage:"Engel Oran (%)",deceasedParentFullName:"Vefat Eden Ebeveyn Ad",deceasedParentDod:"Vefat Tarihi",deceasedParentPod:"Vefat Yeri",deathCertificateNumber:"lm Belgesi No",survivingParentFullName:"Hayattaki Ebeveyn Ad",survivingParentJobTitle:"Hayattaki Ebeveyn Meslei",hospitalName:"Hastane Ad",motherFullName:"Annenin Tam Ad",motherAge:"Annenin Ya",fatherFullName:"Babann Tam Ad",fatherAge:"Babann Ya",spousePob:"E Doum Yeri",spouseAge:"E Ya",sonName:"Oul Ad",sonPob:"Oul Doum Yeri",sonAge:"Oul Ya",daughterName:"Kz Ad",daughterPob:"Kz Doum Yeri",daughterAge:"Kz Ya",paternalGrandfatherName:"Baba Dede",paternalGrandfatherPob:"Doum Yeri",paternalGrandfatherAge:"Ya",paternalGrandmotherName:"Babaanne",paternalGrandmotherPob:"Doum Yeri",paternalGrandmotherAge:"Ya",maternalGrandfatherName:"Anne Dede",maternalGrandfatherPob:"Doum Yeri",maternalGrandfatherAge:"Ya",maternalGrandmotherName:"Anneanne",maternalGrandmotherPob:"Doum Yeri",maternalGrandmotherAge:"Ya"}},lH={header:{search:"",login:"",dashboard:"",logout:"",allCountries:"",allCountriesSearch:"",selectCafeCountry:""},footer:{blog:"",services:"",rightsReserved:""},blog:{title:"Gitut",subtitle:""},share:{title:":",copied:"",copyDetails:""},blogPostCard:{readMore:""},relatedServices:{title:""},relatedPosts:{title:""},relatedPages:{title:""},app:{error:{title:"",message:""}},cafeCard:{owner:":",address:":",checkingStatus:"...",online:"",offline:"",chooseThisCafe:"",viewDetails:"",startChat:"",distanceUnit:"km"},profilePage:{backToSearch:"",managedBy:":",checkingStatus:"...",online:"",offline:"",address:":",description:":",viewOnMap:"",step1Title:"1. ",step1Subtitle:"",searchPlaceholder:"...",searchLabel:"",noMatch:"",step2Title:"2. ",continueToForm:" ({count})",similarCafes:"",cafeNotFoundTitle:"",cafeNotFoundMessage:"",startChat:"",chatWith:"{name}"},confirmationPage:{title:"",subtitle:"",orderCodeLabel:":",note:"",backToHome:""},formPage:{title:"",submittingTo:":",online:"",offline:"",scanId:"ID",scanIdTitle:"",micPermissionErrorTitle:"",micPermissionErrorMessage:"",stepCounter:" {current} / {total}",navigationHint:"",answerPlaceholder:"... : {placeholder}",toggleMic:"",optionsHint:":",previous:"",next:"",review:"",formCompleteTitle:"",formCompleteMessage:"",profilePicture:"",backToEdit:"",submitFinal:"",submitting:"...",errorTitle:"",errorMessage:"",backToSearch:"",error:{noDocument:"",loadFailed:"",unexpected:"",notFound:"",wordTemplateFailed:"Word"},fillDataFor:":",fillFieldsBelow:"",importantNote:"",noteContent:"",selectOption:"--  --",createDocument:""},adPage:{preparing:"...",autoDisplay:":",downloadBlank:"",fillDownload:"/",downloadPdf:"PDF",downloadWord:"Word",adLabel:":",optionsTitle:"",stepFormatTitle:": ",stepFormatDesc:"",preparingLink:"...",pleaseWait:":",linkReady:"",downloadNow:"",goTo:"{name}",internalPage:"",hadithTitle:" ()",prayerReminderTitle:"",hadithIntro:":",prayerHadithContent:"",prayerHadithSource:"",istighfarContent:""},findPage:{hero:{title1:"",subtitle1:"",title2:"",subtitle2:""},step1:{title:"1. ",placeholder:"...",voiceSearchTitle:""},selectedDocs:{title:"",viewFile:"",removeTitle:"",nextStepButton:":  ({count})",nextStepButtonDisabledTitle:"1",emptyState:""},alert:{selectFillable:"1"}},blogPost:{publishedOn:":",by:":",relatedArticles:"",backToList:"",relatedPostsSidebar:"",notFoundTitle:"404 - ",notFoundMessage:"",backToBlog:""},searchForm:{searchByName:"...",search:""},servicesListPage:{title:"",fillableDocs:"",staticDocs:" (PDF)",siteServices:""},serviceDetailPage:{serviceNotFound:"",backToList:"",preview:"",previousDesign:"",nextDesign:"",loadingPreview:"...",noPreview:"",openInNewWindow:"",instructions:"",voiceExample:":",requiredInfo:":",findCafeTitle:"",searchNearest:"",locating:"...",resultsTitle:" ({count})",allCafesTitle:" ({count})",noResults:""},login:{title:"",emailLabel:"",passwordLabel:"",forgotPassword:"",loginButton:"",loggingInButton:"...",noAccount:"",createAccount:"",error:{fillAllFields:"",verifyEmail:"",wrongCredentials:"",enterEmail:""},reset:{title:"",emailLabel:"",sendButton:"",sendingButton:"...",successMessage:"",errorMessage:"",backToLogin:""}},signup:{title:"",accountInfo:"",email:"",password:"",passwordPlaceholder:"6",confirmPassword:"",cafeInfo:"",cafeName:"",cafeNamePlaceholder:": ",ownerName:"",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"",commune:"",state:" / ",city:"",street:"",loading:"...",selectWilaya:"",selectDaira:"",selectCommune:"",statePlaceholder:": ",cityPlaceholder:": ",streetPlaceholder:": 1-2-3 ",createButton:"",creatingButton:"...",haveAccount:"",loginHere:"",errors:{allowedDomains:"GmailMicrosoftOutlook, Hotmail, Live",fillAllFields:"",passwordsMismatch:"",passwordLength:"6",signupFailed:""},success:{title:"",message:"",instruction:"",loginButton:""}},formFields:{profilePicture:"",fullName:" ()",firstName:"",lastName:"",firstNameFr:" ()",lastNameFr:" ()",birthdaydate:"",birthdayplace:"",address:"",phone:"",email:"",jobTitle:"",nationalId:"",birthCertificateNumber:"",socialSecurityNumber:"",nationality:"",maritalStatus:"",maritalStatusOptions:{married:"",single:"",divorced:""},motherFirstName:"",motherLastName:" ()",motherDob:"",motherPob:"",fatherFirstName:"",fatherLastName:"",fatherDob:"",fatherPob:"",residenceWilaya:"",residenceDaira:"/",residenceCommune:"",residenceStreet:"/",birthWilaya:"",birthDaira:"",birthCommune:"",bloodType:"",gender:"",genderOptions:{male:"",female:""},height:" (cm)",eyeColor:"",distinguishingMarks:"",employerName:"",employerAddress:"",educationLevel:"",educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:""},universityName:"",graduationDate:"",fieldOfStudy:"",higherInstituteName:"",vocationalTrainingCenterName:"",schoolName:"",highSchoolName:"",middleSchoolName:"",universityCity:"",passportNumber:"",passportIssueDate:"",passportExpiryDate:"",passportIssuePlace:"",drivingLicenseNumber:"",drivingLicenseCategory:"",drivingLicenseIssueDate:"",numberOfChildren:"",numberOfSons:"",numberOfDaughters:"",numberOfSiblings:"",numberOfBrothers:"",numberOfSisters:"",spouseFullName:"",spouseDob:"",spouseJob:"",militaryStatus:"",ToTheGovernorOftheStateOf:"",submissionDaira:"",ToTheMayorOf:"",employerWilaya:"",employerDaira:"",employerCommune:"",criminalRecordNumber:"",criminalRecordIssuePlace:"",commercialRegistryNumber:"",taxIdNumber:"",casnosNumber:"",vehicleRegistrationCardNumber:"",vehicleType:"",vehicleBrand:"",vehicleModel:"",vehicleFirstRegistrationDate:"",bankName:"",bankAccountNumber:"",bankAgencyName:"",bankAgencyCode:"",bankNameTo:"",bankWilayaTo:"",bankCountryTo:"",bankStreetTo:"",bankNameFrom:"",bankWilayaFrom:"",bankCountryFrom:"",bankStreetFrom:"",amountReceived:"",amountSent:"",employmentContractType:"",employmentStartDate:"",employeeIdNumber:"ID",professionalGrade:"",nationalIdIssueDate:"",nationalIdExpiryDate:"",drivingLicenseExpiryDate:"",familyBookNumber:"",marriageDate:"",marriagePlace:"",rentalContractNumber:"",landlordName:"",propertyAddress:"",attendingPhysicianName:"",disabilityType:"",disabilityPercentage:"(%)",deceasedParentFullName:"",deceasedParentDod:"",deceasedParentPod:"",deathCertificateNumber:"",survivingParentFullName:"",survivingParentJobTitle:"",hospitalName:"",motherFullName:"",motherAge:"",fatherFullName:"",fatherAge:"",spousePob:"",spouseAge:"",sonName:"",sonPob:"",sonAge:"",daughterName:"",daughterPob:"",daughterAge:"",paternalGrandfatherName:"",paternalGrandfatherPob:"",paternalGrandfatherAge:"",paternalGrandmotherName:"",paternalGrandmotherPob:"",paternalGrandmotherAge:"",maternalGrandfatherName:"",maternalGrandfatherPob:"",maternalGrandfatherAge:"",maternalGrandmotherName:"",maternalGrandmotherPob:"",maternalGrandmotherAge:""}},cH={header:{search:"Cari",login:"Login Pemilik Kafe",dashboard:"Dasbor",logout:"Keluar",allCountries:"Semua Negara",allCountriesSearch:"Semua Negara (Pencarian Global)",selectCafeCountry:"Pilih Negara Kafe"},footer:{blog:"Blog",services:"Daftar Layanan",rightsReserved:"Hak cipta dilindungi undang-undang."},blog:{title:"Blog Gitut",subtitle:"Ikuti berita terbaru, pembaruan, dan tips bermanfaat kami untuk pemilik kafe dan pencari layanan dokumen."},share:{title:"Bagikan:",copied:"Disalin!",copyDetails:"Salin detail"},blogPostCard:{readMore:"Baca selengkapnya"},relatedServices:{title:"Layanan Terkait"},relatedPosts:{title:"Artikel Terkait"},relatedPages:{title:"Halaman Lain"},app:{error:{title:"Kesalahan Aplikasi",message:"Tidak dapat memuat data penting. Mungkin ada masalah koneksi ke server."}},cafeCard:{owner:"Pemilik:",address:"Alamat:",checkingStatus:"Memeriksa status...",online:"Online",offline:"Offline",chooseThisCafe:"Pilih Kafe Ini",viewDetails:"Lihat Detail & Layanan",startChat:"Mulai Obrolan",distanceUnit:"km"},profilePage:{backToSearch:"Kembali ke Pencarian",managedBy:"Dikelola oleh:",checkingStatus:"Memeriksa status...",online:"Online",offline:"Offline",address:"Alamat:",description:"Deskripsi:",viewOnMap:"Lihat di Peta",step1Title:"1. Pilih Dokumen yang Diperlukan",step1Subtitle:"Pilih dokumen yang Anda butuhkan. Anda dapat mencari dokumen dan menambahkannya ke daftar, atau memilih langsung dari daftar di bawah.",searchPlaceholder:"Cari dokumen untuk ditambahkan...",searchLabel:"Cari dokumen untuk ditambahkan ke daftar Anda",noMatch:"Tidak ada dokumen yang cocok dengan pencarian Anda.",step2Title:"2. Kirim Permintaan Anda",continueToForm:"Lanjutkan Mengisi Formulir ({count})",similarCafes:"Kafe Serupa",cafeNotFoundTitle:"Kafe Tidak Ditemukan",cafeNotFoundMessage:"Maaf, kami tidak dapat menemukan halaman yang Anda cari.",startChat:"Mulai Obrolan",chatWith:"Mengobrol dengan {name}"},confirmationPage:{title:"Permintaan Anda Berhasil Dikirim!",subtitle:"Informasi Anda telah dikirim ke kafe. Silakan pergi ke sana dan berikan kode berikut untuk menerima dokumen Anda.",orderCodeLabel:"Kode pesanan Anda adalah:",note:"Catatan: Simpan kode ini, Anda akan membutuhkannya untuk mengonfirmasi pesanan Anda dengan pemilik kafe.",backToHome:"Kembali ke Beranda"},formPage:{title:"Isi Formulir",submittingTo:"Anda mengirim permintaan ke:",online:"Online",offline:"Offline",scanId:"Pindai ID",scanIdTitle:"Pindai kartu identitas dengan kamera",micPermissionErrorTitle:"Akses Mikrofon Ditolak",micPermissionErrorMessage:"Harap aktifkan akses mikrofon di pengaturan browser Anda untuk menggunakan fitur input suara. Anda masih dapat mengisi formulir secara manual.",stepCounter:"Langkah {current} dari {total}",navigationHint:'Anda dapat mengatakan "Berikutnya" atau "Sebelumnya" untuk berpindah antar kolom.',answerPlaceholder:"Jawab di sini... cth., {placeholder}",toggleMic:"Beralih Mikrofon",optionsHint:"Pilihan tersedia (sebutkan nomor untuk memilih):",previous:"Sebelumnya",next:"Berikutnya",review:"Tinjau",formCompleteTitle:"Formulir Selesai!",formCompleteMessage:"Harap tinjau data dengan cermat sebelum pengiriman akhir.",profilePicture:"Foto Profil",backToEdit:"Kembali Mengedit",submitFinal:"Kirim Permintaan Akhir",submitting:"Mengirim...",errorTitle:"Kesalahan Permintaan",errorMessage:"Tidak ada dokumen atau layanan yang dipilih. Silakan kembali dan pilih dokumen terlebih dahulu.",backToSearch:"Kembali ke Halaman Pencarian",error:{noDocument:"Tidak ada dokumen yang ditentukan.",loadFailed:"Gagal memuat data dokumen.",unexpected:"Terjadi kesalahan tak terduga.",notFound:"Dokumen Tidak Ditemukan",wordTemplateFailed:"Gagal memuat templat Word."},fillDataFor:"Isi Data Untuk:",fillFieldsBelow:"Isi kolom di bawah ini untuk membuat dokumen Anda.",importantNote:"Catatan Penting",noteContent:"Tombol untuk pratinjau, unduh, atau isi dokumen ini ada di bagian bawah halaman ini.",selectOption:"-- Pilih --",createDocument:"Buat Dokumen"},adPage:{preparing:"Menyiapkan dokumen Anda...",autoDisplay:"Dokumen Anda akan ditampilkan secara otomatis dalam:",downloadBlank:"Unduh Salinan Kosong",fillDownload:"Isi/Unduh",downloadPdf:"Unduh sebagai PDF",downloadWord:"Unduh sebagai Word",adLabel:"Iklan:",optionsTitle:"Opsi Dokumen",stepFormatTitle:"Langkah Terakhir: Pilih Format Unduhan",stepFormatDesc:"Pilih format yang Anda inginkan untuk mengunduh dokumen.",preparingLink:"Menyiapkan tautan...",pleaseWait:"Harap tunggu, tautan akan siap dalam:",linkReady:"Tautan Siap!",downloadNow:"Unduh Sekarang",goTo:"Buka {name}",internalPage:"Halaman Internal",hadithTitle:"Hadits",prayerReminderTitle:"Pengingat Sholat",hadithIntro:"Nabi (damai besertanya) bersabda:",prayerHadithContent:'"Perjanjian antara kami dan mereka adalah sholat, jadi barangsiapa meninggalkannya maka dia telah kafir."',prayerHadithSource:"Diriwayatkan oleh Ahmad, Abu Dawood, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Barangsiapa yang senantiasa memohon ampun (Istighfar), Allah akan menjadikan jalan keluar baginya dari setiap kesulitan, kelapangan dari setiap kecemasan, dan memberinya rezeki dari arah yang tidak disangka-sangka."'},findPage:{hero:{title1:"Selesaikan Dokumen Anda dengan Mudah",subtitle1:"Temukan warnet terdekat, kirim permintaan Anda dari jarak jauh, dan ambil dokumen Anda yang sudah jadi.",title2:"Cari warnet di sekitar",subtitle2:"Kirim permintaan Anda dari jarak jauh dan ambil dokumen Anda yang sudah jadi."},step1:{title:"1. Cari Dokumen",placeholder:"Akta kelahiran, CV...",voiceSearchTitle:"Pencarian Suara"},selectedDocs:{title:"Dokumen Terpilih",viewFile:"Lihat File",removeTitle:"Hapus",nextStepButton:"Lanjut: Pilih Kafe ({count})",nextStepButtonDisabledTitle:"Harap pilih setidaknya satu dokumen",emptyState:"Belum ada dokumen yang dipilih."},alert:{selectFillable:"Harap pilih setidaknya satu dokumen yang dapat diisi."}},blogPost:{publishedOn:"Diterbitkan pada:",by:"Oleh:",relatedArticles:"Artikel lain yang mungkin Anda sukai",backToList:"Kembali ke semua artikel",relatedPostsSidebar:"Artikel Terkait",notFoundTitle:"404 - Artikel Tidak Ditemukan",notFoundMessage:"Maaf, kami tidak dapat menemukan artikel yang Anda cari.",backToBlog:"Kembali ke Blog"},searchForm:{searchByName:"Cari berdasarkan nama...",search:"Cari"},servicesListPage:{title:"Daftar Layanan",fillableDocs:"Dokumen Dapat Diisi",staticDocs:"Dokumen Dapat Dicetak (PDF)",siteServices:"Layanan Situs Web"},serviceDetailPage:{serviceNotFound:"Layanan Tidak Ditemukan",backToList:"Kembali ke Daftar Layanan",preview:"Pratinjau Dokumen",previousDesign:"Desain Sebelumnya",nextDesign:"Desain Berikutnya",loadingPreview:"Memuat pratinjau...",noPreview:"Tidak ada pratinjau tersedia untuk dokumen ini.",openInNewWindow:"Buka di jendela baru atau unduh",instructions:"Instruksi untuk Desain Ini",voiceExample:"Cara Merekam (Contoh):",requiredInfo:"Informasi yang diperlukan (diucapkan):",findCafeTitle:"Temukan kafe yang menyediakan layanan ini",searchNearest:"Cari kafe terdekat saya",locating:"Mencari lokasi...",resultsTitle:"Hasil ({count})",allCafesTitle:"Kafe internet yang menyediakan layanan ini ({count})",noResults:"Tidak ada kafe yang cocok dengan pencarian Anda untuk semua layanan yang diperlukan."},login:{title:"Login Pemilik Kafe",emailLabel:"Email",passwordLabel:"Kata Sandi",forgotPassword:"Lupa kata sandi?",loginButton:"Masuk",loggingInButton:"Sedang masuk...",noAccount:"Belum punya akun?",createAccount:"Buat akun baru",error:{fillAllFields:"Harap isi semua bidang.",verifyEmail:"Harap periksa email Anda untuk mengaktifkan akun.",wrongCredentials:"Email atau kata sandi salah.",enterEmail:"Harap masukkan alamat email Anda."},reset:{title:"Atur Ulang Kata Sandi",emailLabel:"Email Terdaftar",sendButton:"Kirim Tautan Atur Ulang",sendingButton:"Mengirim...",successMessage:"Tautan atur ulang kata sandi telah dikirim. Silakan periksa kotak masuk Anda.",errorMessage:"Gagal mengirim email. Silakan coba lagi.",backToLogin:"Kembali ke Login"}},signup:{title:"Buat Akun Baru",accountInfo:"Informasi Akun",email:"Email",password:"Kata Sandi",passwordPlaceholder:"Minimal 6 karakter",confirmPassword:"Konfirmasi Kata Sandi",cafeInfo:"Informasi Kafe",cafeName:"Nama Bisnis Kafe",cafeNamePlaceholder:"cth., Warung Nyaman",ownerName:"Nama Lengkap Pemilik",ownerNamePlaceholder:"cth., Budi Santoso",country:"Negara",wilaya:"Provinsi",daira:"Kabupaten/Kota",commune:"Kecamatan",state:"Provinsi",city:"Kota",street:"Alamat Jalan",loading:"Memuat...",selectWilaya:"Pilih Provinsi",selectDaira:"Pilih Kabupaten/Kota",selectCommune:"Pilih Kecamatan",statePlaceholder:"cth., Jawa Barat, Bali",cityPlaceholder:"cth., Bandung, Denpasar",streetPlaceholder:"cth., Jl. Merdeka No. 123",createButton:"Buat Akun & Kafe",creatingButton:"Membuat...",haveAccount:"Sudah punya akun?",loginHere:"Masuk di sini",errors:{allowedDomains:"Harap gunakan email Gmail atau Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Harap isi semua bidang.",passwordsMismatch:"Kata sandi tidak cocok.",passwordLength:"Kata sandi harus minimal 6 karakter.",signupFailed:"Email ini sudah digunakan atau terjadi kesalahan pendaftaran. Silakan coba lagi."},success:{title:"Akun Berhasil Dibuat!",message:"Kami telah mengirimkan tautan verifikasi ke email Anda",instruction:"Silakan klik tautan tersebut untuk mengaktifkan akun Anda sebelum masuk.",loginButton:"Ke Halaman Login"}},formFields:{profilePicture:"Foto Profil",fullName:"Nama Lengkap",firstName:"Nama Depan",lastName:"Nama Belakang",firstNameFr:"Nama Depan (Latin)",lastNameFr:"Nama Belakang (Latin)",birthdaydate:"Tanggal Lahir",birthdayplace:"Tempat Lahir",address:"Alamat",phone:"Nomor Telepon",email:"Email",jobTitle:"Pekerjaan",nationalId:"Nomor KTP",birthCertificateNumber:"Nomor Akta Kelahiran",socialSecurityNumber:"Nomor Jaminan Sosial",nationality:"Kewarganegaraan",maritalStatus:"Status Pernikahan",maritalStatusOptions:{married:"Menikah",single:"Lajang",divorced:"Cerai"},motherFirstName:"Nama Depan Ibu",motherLastName:"Nama Belakang Ibu",motherDob:"Tanggal Lahir Ibu",motherPob:"Tempat Lahir Ibu",fatherFirstName:"Nama Depan Ayah",fatherLastName:"Nama Belakang Ayah",fatherDob:"Tanggal Lahir Ayah",fatherPob:"Tempat Lahir Ayah",residenceWilaya:"Provinsi Tempat Tinggal",residenceDaira:"Kabupaten Tempat Tinggal",residenceCommune:"Kota Tempat Tinggal",residenceStreet:"Jalan Tempat Tinggal",birthWilaya:"Provinsi Kelahiran",birthDaira:"Kabupaten Kelahiran",birthCommune:"Kota Kelahiran",bloodType:"Golongan Darah",gender:"Jenis Kelamin",genderOptions:{male:"Laki-laki",female:"Perempuan"},height:"Tinggi (cm)",eyeColor:"Warna Mata",distinguishingMarks:"Tanda Khusus",employerName:"Nama Pemberi Kerja",employerAddress:"Alamat Pemberi Kerja",educationLevel:"Tingkat Pendidikan",educationLevelOptions:{primary:"SD",middle:"SMP",high:"SMA",university:"Universitas",postgraduate:"Pascasarjana"},universityName:"Nama Universitas",graduationDate:"Tanggal Lulus",fieldOfStudy:"Bidang Studi",higherInstituteName:"Nama Institut",vocationalTrainingCenterName:"Nama Pusat Pelatihan",schoolName:"Nama Sekolah",highSchoolName:"Nama SMA",middleSchoolName:"Nama SMP",universityCity:"Kota Universitas",passportNumber:"Nomor Paspor",passportIssueDate:"Tanggal Penerbitan Paspor",passportExpiryDate:"Tanggal Kedaluwarsa Paspor",passportIssuePlace:"Tempat Penerbitan Paspor",drivingLicenseNumber:"Nomor SIM",drivingLicenseCategory:"Kategori SIM",drivingLicenseIssueDate:"Tanggal Penerbitan SIM",numberOfChildren:"Jumlah Anak",numberOfSons:"Jumlah Putra",numberOfDaughters:"Jumlah Putri",numberOfSiblings:"Jumlah Saudara Kandung",numberOfBrothers:"Jumlah Saudara Laki-laki",numberOfSisters:"Jumlah Saudara Perempuan",spouseFullName:"Nama Lengkap Pasangan",spouseDob:"Tanggal Lahir Pasangan",spouseJob:"Pekerjaan Pasangan",militaryStatus:"Status Militer",ToTheGovernorOftheStateOf:"Kepada Gubernur",submissionDaira:"Kepada Kepala Distrik",ToTheMayorOf:"Kepada Walikota",employerWilaya:"Provinsi Pemberi Kerja",employerDaira:"Kabupaten Pemberi Kerja",employerCommune:"Kota Pemberi Kerja",criminalRecordNumber:"Nomor Catatan Kriminal",criminalRecordIssueDate:"Tanggal Penerbitan",criminalRecordIssuePlace:"Tempat Penerbitan",commercialRegistryNumber:"Nomor Registrasi Komersial",taxIdNumber:"NPWP",casnosNumber:"Nomor Asuransi",vehicleRegistrationCardNumber:"Nomor Registrasi Kendaraan",vehicleType:"Tipe Kendaraan",vehicleBrand:"Merek Kendaraan",vehicleModel:"Model Kendaraan",vehicleFirstRegistrationDate:"Tanggal Registrasi Pertama",bankName:"Nama Bank",bankAccountNumber:"Nomor Rekening",bankAgencyName:"Nama Cabang",bankAgencyCode:"Kode Cabang",bankNameTo:"Bank Penerima",bankWilayaTo:"Provinsi Bank Penerima",bankCountryTo:"Negara Penerima",bankStreetTo:"Alamat Bank Penerima",bankNameFrom:"Bank Pengirim",bankWilayaFrom:"Provinsi Bank Pengirim",bankCountryFrom:"Negara Pengirim",bankStreetFrom:"Alamat Bank Pengirim",amountReceived:"Jumlah Diterima",amountSent:"Jumlah Dikirim",employmentContractType:"Tipe Kontrak",employmentStartDate:"Tanggal Mulai",employeeIdNumber:"ID Karyawan",professionalGrade:"Tingkat Profesional",nationalIdIssueDate:"Tanggal Penerbitan KTP",nationalIdExpiryDate:"Tanggal Kedaluwarsa KTP",drivingLicenseExpiryDate:"Tanggal Kedaluwarsa SIM",familyBookNumber:"Nomor Kartu Keluarga",marriageDate:"Tanggal Pernikahan",marriagePlace:"Tempat Pernikahan",rentalContractNumber:"Nomor Kontrak Sewa",landlordName:"Nama Pemilik Sewa",propertyAddress:"Alamat Properti",attendingPhysicianName:"Nama Dokter",disabilityType:"Tipe Disabilitas",disabilityPercentage:"Persentase Disabilitas",deceasedParentFullName:"Nama Orang Tua Meninggal",deceasedParentDod:"Tanggal Meninggal",deceasedParentPod:"Tempat Meninggal",deathCertificateNumber:"Nomor Akta Kematian",survivingParentFullName:"Nama Orang Tua Hidup",survivingParentJobTitle:"Pekerjaan Orang Tua Hidup",hospitalName:"Nama Rumah Sakit",motherFullName:"Nama Lengkap Ibu",motherAge:"Usia Ibu",fatherFullName:"Nama Lengkap Ayah",fatherAge:"Usia Ayah",spousePob:"Tempat Lahir Pasangan",spouseAge:"Usia Pasangan",sonName:"Nama Putra",sonPob:"Tempat Lahir Putra",sonAge:"Usia Putra",daughterName:"Nama Putri",daughterPob:"Tempat Lahir Putri",daughterAge:"Usia Putri",paternalGrandfatherName:"Kakek dari Ayah",paternalGrandfatherPob:"Tempat Lahir",paternalGrandfatherAge:"Usia",paternalGrandmotherName:"Nenek dari Ayah",paternalGrandmotherPob:"Tempat Lahir",paternalGrandmotherAge:"Usia",maternalGrandfatherName:"Kakek dari Ibu",maternalGrandfatherPob:"Tempat Lahir",maternalGrandfatherAge:"Usia",maternalGrandmotherName:"Nenek dari Ibu",maternalGrandmotherPob:"Tempat Lahir",maternalGrandmotherAge:"Usia"}},uH={header:{search:"",login:"  ",dashboard:"",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:" "},blog:{title:"Gitut ",subtitle:"           ,       "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"               "}},cafeCard:{owner:":",address:":",checkingStatus:"      ...",online:"",offline:"",chooseThisCafe:"   ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"   ",managedBy:":",checkingStatus:"      ...",online:"",offline:"",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"                  ,          ",searchPlaceholder:"    ...",searchLabel:"       ",noMatch:"       ",step2Title:"2.   ",continueToForm:"      ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:" ,           ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"    !",subtitle:"                     ",orderCodeLabel:"   :",note:":     ,               ",backToHome:"   "},formPage:{title:" ",submittingTo:"    :",online:"",offline:"",scanId:"  ",scanIdTitle:"     ",micPermissionErrorTitle:"  ",micPermissionErrorMessage:"                          ",stepCounter:" {current} / {total}",navigationHint:'        ""  ""   ',answerPlaceholder:"  ...   , {placeholder}",toggleMic:"  ",optionsHint:"  (    ):",previous:"",next:"",review:" ",formCompleteTitle:"  !",formCompleteMessage:"         ",profilePicture:" ",backToEdit:"   ",submitFinal:"  ",submitting:"   ...",errorTitle:" ",errorMessage:"             ",backToSearch:"    ",error:{noDocument:"    ",loadFailed:"     ",unexpected:"   ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"   :",fillFieldsBelow:"         ",importantNote:" ",noteContent:"   ,            ",selectOption:"--  --",createDocument:" "},adPage:{preparing:"      ...",autoDisplay:"       :",downloadBlank:"   ",fillDownload:"/ ",downloadPdf:"PDF     ",downloadWord:"Word     ",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"         ",preparingLink:"     ...",pleaseWait:"  ,      :",linkReady:"  !",downloadNow:"  ",goTo:"{name}  ",internalPage:" ",hadithTitle:"",prayerReminderTitle:" ",hadithIntro:"  (  )  :",prayerHadithContent:'"       ,           "',prayerHadithSource:",  , -, - ( ),  ,  , -  ",istighfarContent:'"    ()    ,           ,      ,             "'},findPage:{hero:{title1:"    ",subtitle1:"     ,      ,      ",title2:"     ",subtitle2:"           "},step1:{title:"1.   ",placeholder:"  , ...",voiceSearchTitle:" "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:":   ({count})",nextStepButtonDisabledTitle:"      ",emptyState:"       "},alert:{selectFillable:"        "}},blogPost:{publishedOn:":",by:":",relatedArticles:"       ",backToList:"    ",relatedPostsSidebar:" ",notFoundTitle:"404 -   ",notFoundMessage:" ,           ",backToBlog:"   "},searchForm:{searchByName:"  ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"    (PDF)",siteServices:" "},serviceDetailPage:{serviceNotFound:"  ",backToList:"    ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"    ...",noPreview:"        ",openInNewWindow:"      ",instructions:"    ",voiceExample:"   ():",requiredInfo:"  ( ):",findCafeTitle:"      ",searchNearest:"   ",locating:"      ...",resultsTitle:" ({count})",allCafesTitle:"        ({count})",noResults:"              "},login:{title:"  ",emailLabel:"",passwordLabel:"",forgotPassword:"  ?",loginButton:"",loggingInButton:"   ...",noAccount:"  ?",createAccount:"  ",error:{fillAllFields:"   ",verifyEmail:"          ",wrongCredentials:"    ",enterEmail:"     "},reset:{title:"  ",emailLabel:" ",sendButton:"  ",sendingButton:"   ...",successMessage:"          ",errorMessage:"     :  ",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:"",password:"",passwordPlaceholder:"   6 ",confirmPassword:"   ",cafeInfo:" ",cafeName:"   ",cafeNamePlaceholder:":   ",ownerName:"   ",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"",commune:"/ ",state:" / ",city:"",street:"",loading:"   ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:": , ",cityPlaceholder:": ,  ",streetPlaceholder:": 123  ",createButton:"   ",creatingButton:"   ...",haveAccount:"       ?",loginHere:"  ",errors:{allowedDomains:"     (, , )   ",fillAllFields:"   ",passwordsMismatch:"   ",passwordLength:"    6    ",signupFailed:"             :  "},success:{title:"   !",message:"        ",instruction:"               ",loginButton:"   "}},formFields:{profilePicture:" ",fullName:" ",firstName:" ",lastName:"",firstNameFr:"  (/)",lastNameFr:" (/)",birthdaydate:" ",birthdayplace:" ",address:"",phone:" ",email:"",jobTitle:"  ",nationalId:"  ",birthCertificateNumber:"   ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",maritalStatusOptions:{married:"",single:"",divorced:""},motherFirstName:"   ",motherLastName:"  ",motherDob:"   ",motherPob:"   ",fatherFirstName:"   ",fatherLastName:"  ",fatherDob:"   ",fatherPob:"   ",residenceWilaya:" /",residenceDaira:" ",residenceCommune:" ",residenceStreet:" /",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",gender:"",genderOptions:{male:"",female:""},height:" ()",eyeColor:"  ",distinguishingMarks:" ",employerName:"  ",employerAddress:"  ",educationLevel:"  ",educationLevelOptions:{primary:"",middle:"",high:" ",university:"",postgraduate:""},universityName:"  ",graduationDate:"  ",fieldOfStudy:"  ",higherInstituteName:"   ",vocationalTrainingCenterName:"  ",schoolName:"  ",highSchoolName:"   ",middleSchoolName:"   ",universityCity:"  ",passportNumber:" ",passportIssueDate:"    ",passportExpiryDate:"  ",passportIssuePlace:"    ",drivingLicenseNumber:"  ",drivingLicenseCategory:" ",drivingLicenseIssueDate:"    ",numberOfChildren:"  ",numberOfSons:"  ",numberOfDaughters:"  ",numberOfSiblings:"-  ",numberOfBrothers:"  ",numberOfSisters:"  ",spouseFullName:"   ",spouseDob:"   ",spouseJob:"  ",militaryStatus:" ",ToTheGovernorOftheStateOf:" ",submissionDaira:"  ",ToTheMayorOf:" ",employerWilaya:" ",employerDaira:" ",employerCommune:" ",criminalRecordNumber:"  ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:" ",vehicleRegistrationCardNumber:"  ",vehicleType:"  ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"  ",bankName:"  ",bankAccountNumber:"  ",bankAgencyName:"   ",bankAgencyCode:" ",bankNameTo:" ",bankWilayaTo:"  ",bankCountryTo:" ",bankStreetTo:"  ",bankNameFrom:" ",bankWilayaFrom:"  ",bankCountryFrom:" ",bankStreetFrom:"  ",amountReceived:" ",amountSent:"  ",employmentContractType:"   ",employmentStartDate:"    ",employeeIdNumber:" ",professionalGrade:" ",nationalIdIssueDate:"    ",nationalIdExpiryDate:"  ",drivingLicenseExpiryDate:"  ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"   ",propertyAddress:"  ",attendingPhysicianName:"   ",disabilityType:"  ",disabilityPercentage:"  (%)",deceasedParentFullName:" -  ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"   ",survivingParentFullName:" -  ",survivingParentJobTitle:" -  ",hospitalName:"  ",motherFullName:"   ",motherAge:"  ",fatherFullName:"   ",fatherAge:"  ",spousePob:"   ",spouseAge:"  ",sonName:"  ",sonPob:"   ",sonAge:"  ",daughterName:"  ",daughterPob:"   ",daughterAge:"  ",paternalGrandfatherName:" (  )",paternalGrandfatherPob:" ",paternalGrandfatherAge:"",paternalGrandmotherName:" (  )",paternalGrandmotherPob:" ",paternalGrandmotherAge:"",maternalGrandfatherName:" (  )",maternalGrandfatherPob:" ",maternalGrandfatherAge:"",maternalGrandmotherName:" (  )",maternalGrandmotherPob:" ",maternalGrandmotherAge:""}},dH={header:{search:"",login:"",dashboard:"",logout:"",allCountries:"",allCountriesSearch:" ()",selectCafeCountry:""},footer:{blog:"",services:"",rightsReserved:""},blog:{title:" Gitut",subtitle:"  "},share:{title:":",copied:"!",copyDetails:""},blogPostCard:{readMore:""},relatedServices:{title:""},relatedPosts:{title:""},relatedPages:{title:""},app:{error:{title:"",message:" "}},cafeCard:{owner:":",address:":",checkingStatus:"...",online:"",offline:"",chooseThisCafe:"",viewDetails:"",startChat:"",distanceUnit:"."},profilePage:{backToSearch:"",managedBy:":",checkingStatus:"...",online:"",offline:"",address:":",description:":",viewOnMap:"",step1Title:"1. ",step1Subtitle:"  ",searchPlaceholder:"...",searchLabel:"",noMatch:"",step2Title:"2. ",continueToForm:" ({count})",similarCafes:"",cafeNotFoundTitle:"",cafeNotFoundMessage:" ",startChat:"",chatWith:" {name}"},confirmationPage:{title:"!",subtitle:" ",orderCodeLabel:":",note:":  ",backToHome:""},formPage:{title:"",submittingTo:"",online:"",offline:"",scanId:"",scanIdTitle:"",micPermissionErrorTitle:"",micPermissionErrorMessage:" ",stepCounter:" {current}  {total}",navigationHint:' ""  "" ',answerPlaceholder:"...  {placeholder}",toggleMic:"/ ",optionsHint:" ():",previous:"",next:"",review:"",formCompleteTitle:"!",formCompleteMessage:"",profilePicture:"",backToEdit:"",submitFinal:"",submitting:"...",errorTitle:"",errorMessage:" ",backToSearch:"",error:{noDocument:"",loadFailed:"",unexpected:"",notFound:"",wordTemplateFailed:" Word "},fillDataFor:":",fillFieldsBelow:"",importantNote:"",noteContent:"  ",selectOption:"--  --",createDocument:""},adPage:{preparing:"...",autoDisplay:":",downloadBlank:"",fillDownload:"/",downloadPdf:" PDF",downloadWord:" Word",adLabel:":",optionsTitle:"",stepFormatTitle:": ",stepFormatDesc:"",preparingLink:"...",pleaseWait:" :",linkReady:"!",downloadNow:"",goTo:" {name}",internalPage:""},login:{title:"",emailLabel:"",passwordLabel:"",forgotPassword:"?",loginButton:"",loggingInButton:"...",noAccount:"?",createAccount:"",error:{fillAllFields:"",verifyEmail:"",wrongCredentials:"",enterEmail:""},reset:{title:"",emailLabel:"",sendButton:"",sendingButton:"...",successMessage:" ",errorMessage:" ",backToLogin:""}},signup:{title:"",accountInfo:"",email:"",password:"",passwordPlaceholder:" 6 ",confirmPassword:"",cafeInfo:"",cafeName:"",cafeNamePlaceholder:" ",ownerName:"",ownerNamePlaceholder:"  ",country:"",wilaya:"/",daira:"/",commune:"/",state:"",city:"",street:"",loading:"...",selectWilaya:"",selectDaira:"",selectCommune:"",statePlaceholder:" , ",cityPlaceholder:" , ",streetPlaceholder:" 123 ",createButton:"",creatingButton:"...",haveAccount:"?",loginHere:"",errors:{allowedDomains:" Gmail  Microsoft (Outlook, Hotmail, Live)",fillAllFields:"",passwordsMismatch:"",passwordLength:" 6 ",signupFailed:" "},success:{title:"!",message:"",instruction:"",loginButton:""}}},hH={header:{search:"Tm kim",login:"Ch tim ng nhp",dashboard:"Bng iu khin",logout:"ng xut",allCountries:"Tt c cc nc",allCountriesSearch:"Tt c cc nc (Tm kim ton cu)",selectCafeCountry:"Chn quc gia qun"},footer:{blog:"Blog",services:"Danh sch dch v",rightsReserved:" ng k bn quyn."},blog:{title:"Blog Gitut",subtitle:"Theo di tin tc mi nht, cp nht v mo hu ch cho ch tim v ngi tm kim dch v ti liu."},share:{title:"Chia s:",copied:" sao chp!",copyDetails:"Sao chp chi tit"},blogPostCard:{readMore:"c thm"},relatedServices:{title:"Dch v lin quan"},relatedPosts:{title:"Bi vit lin quan"},relatedPages:{title:"Cc trang khc"},app:{error:{title:"Li ng dng",message:"Khng th ti d liu thit yu. C th c vn  kt ni vi my ch."}},cafeCard:{owner:"Ch s hu:",address:"a ch:",checkingStatus:"ang kim tra trng thi...",online:"Trc tuyn",offline:"Ngoi tuyn",chooseThisCafe:"Chn qun ny",viewDetails:"Xem chi tit & dch v",startChat:"Bt u tr chuyn",distanceUnit:"km"},profilePage:{backToSearch:"Quay li tm kim",managedBy:"Qun l bi:",checkingStatus:"ang kim tra trng thi...",online:"Trc tuyn",offline:"Ngoi tuyn",address:"a ch:",description:"M t:",viewOnMap:"Xem trn bn ",step1Title:"1. Chn ti liu cn thit",step1Subtitle:"Chn ti liu bn cn. Bn c th tm kim ti liu v thm vo danh sch, hoc chn trc tip t danh sch bn di.",searchPlaceholder:"Tm kim ti liu  thm...",searchLabel:"Tm kim ti liu  thm vo danh sch ca bn",noMatch:"Khng c ti liu no khp vi tm kim ca bn.",step2Title:"2. Gi yu cu ca bn",continueToForm:"Tip tc in biu mu ({count})",similarCafes:"Qun tng t",cafeNotFoundTitle:"Khng tm thy qun",cafeNotFoundMessage:"Xin li, chng ti khng th tm thy trang bn ang tm kim.",startChat:"Bt u tr chuyn",chatWith:"Tr chuyn vi {name}"},confirmationPage:{title:"Yu cu ca bn  c gi thnh cng!",subtitle:"Thng tin ca bn  c gi n qun. Vui lng n  v cung cp m sau  nhn ti liu ca bn.",orderCodeLabel:"M n hng ca bn l:",note:"Lu : Gi m ny, bn s cn n  xc nhn n hng vi ch qun.",backToHome:"Quay li trang ch"},formPage:{title:"in vo biu mu",submittingTo:"Bn ang gi yu cu n",online:"Trc tuyn",offline:"Ngoi tuyn",scanId:"Qut ID",scanIdTitle:"Qut th cn cc bng camera",micPermissionErrorTitle:"Quyn truy cp micr b t chi",micPermissionErrorMessage:"Vui lng bt quyn truy cp micr trong ci t trnh duyt  s dng tnh nng nhp liu bng ging ni. Bn vn c th in biu mu th cng.",stepCounter:"Bc {current} trn {total}",navigationHint:'Bn c th ni "Tip theo" hoc "Trc "  di chuyn gia cc trng.',answerPlaceholder:"Tr li ti y... v d: {placeholder}",toggleMic:"Bt/Tt Micr",optionsHint:"Cc ty chn c sn (ni s  chn):",previous:"Trc ",next:"Tip theo",review:"Xem li",formCompleteTitle:"Biu mu hon tt!",formCompleteMessage:"Vui lng xem li d liu cn thn trc khi gi ln cui.",profilePicture:"nh h s",backToEdit:"Quay li chnh sa",submitFinal:"Gi yu cu cui cng",submitting:"ang gi...",errorTitle:"Li yu cu",errorMessage:"Cha chn ti liu hoc dch v no. Vui lng quay li v chn ti liu trc.",backToSearch:"Quay li trang tm kim",error:{noDocument:"Khng c ti liu no c ch nh.",loadFailed:"Khng th ti d liu ti liu.",unexpected:" xy ra li khng mong mun.",notFound:"Khng tm thy ti liu",wordTemplateFailed:"Khng th ti mu Word."},fillDataFor:"in d liu cho:",fillFieldsBelow:"in vo cc trng bn di  to ti liu ca bn.",importantNote:"Lu  quan trng",noteContent:"Cc nt  xem trc, ti xung hoc in ti liu ny nm  cui trang ny.",selectOption:"-- Chn --",createDocument:"To ti liu"},adPage:{preparing:"ang chun b ti liu ca bn...",autoDisplay:"Ti liu ca bn s c hin th t ng trong:",downloadBlank:"Ti xung bn sao trng",fillDownload:"in/Ti xung",downloadPdf:"Ti xung di dng PDF",downloadWord:"Ti xung di dng Word",adLabel:"Qung co:",optionsTitle:"Ty chn ti liu",stepFormatTitle:"Bc cui: Chn nh dng ti xung",stepFormatDesc:"Chn nh dng bn mun ti xung ti liu.",preparingLink:"ang chun b lin kt...",pleaseWait:"Vui lng i, lin kt s sn sng trong:",linkReady:"Lin kt  sn sng!",downloadNow:"Ti xung ngay",goTo:"i n {name}",internalPage:"Trang ni b"},login:{title:"ng nhp Ch tim",emailLabel:"Email",passwordLabel:"Mt khu",forgotPassword:"Qun mt khu?",loginButton:"ng nhp",loggingInButton:"ang ng nhp...",noAccount:"Cha c ti khon?",createAccount:"To ti khon mi",error:{fillAllFields:"Vui lng in tt c cc trng.",verifyEmail:"Vui lng kim tra email  kch hot ti khon ca bn.",wrongCredentials:"Email hoc mt khu khng chnh xc.",enterEmail:"Vui lng nhp a ch email ca bn."},reset:{title:"t li mt khu",emailLabel:"Email  ng k",sendButton:"Gi lin kt t li",sendingButton:"ang gi...",successMessage:"Lin kt t li mt khu  c gi. Vui lng kim tra hp th n ca bn.",errorMessage:"Khng th gi email. Vui lng th li.",backToLogin:"Quay li ng nhp"}},signup:{title:"To ti khon mi",accountInfo:"Thng tin ti khon",email:"Email",password:"Mt khu",passwordPlaceholder:"t nht 6 k t",confirmPassword:"Xc nhn mt khu",cafeInfo:"Thng tin qun",cafeName:"Tn kinh doanh ca qun",cafeNamePlaceholder:"v d: Gc Th Gin",ownerName:"Tn y  ca ch s hu",ownerNamePlaceholder:"v d: Nguyn Vn A",country:"Quc gia",wilaya:"Tnh/Thnh ph",daira:"Qun/Huyn",commune:"Phng/X",state:"Tnh / Thnh ph",city:"Thnh ph",street:"a ch ng",loading:"ang ti...",selectWilaya:"Chn Tnh",selectDaira:"Chn Qun",selectCommune:"Chn Phng",statePlaceholder:"v d: H Ni, TP.HCM",cityPlaceholder:"v d: Hon Kim, Qun 1",streetPlaceholder:"v d: 123 ng L Li",createButton:"To ti khon & Qun",creatingButton:"ang to...",haveAccount:" c ti khon?",loginHere:"ng nhp ti y",errors:{allowedDomains:"Vui lng s dng email Gmail hoc Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Vui lng in tt c cc trng.",passwordsMismatch:"Mt khu khng khp.",passwordLength:"Mt khu phi c t nht 6 k t.",signupFailed:"Email ny  c s dng hoc xy ra li ng k. Vui lng th li."},success:{title:"To ti khon thnh cng!",message:"Chng ti  gi lin kt xc minh n email ca bn",instruction:"Vui lng nhp vo lin kt  kch hot ti khon trc khi ng nhp.",loginButton:"i n trang ng nhp"}}},fH={header:{search:"",login:"  ",dashboard:"",logout:"",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"    "},footer:{blog:"",services:" ",rightsReserved:"   ."},blog:{title:" Gitut",subtitle:"                ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"     .          ."}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:"",chooseThisCafe:"  ",viewDetails:"   ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:" :",checkingStatus:"   ...",online:"",offline:"",address:":",description:":",viewOnMap:"  ",step1Title:".      ",step1Subtitle:"      .                 .",searchPlaceholder:"   ...",searchLabel:"      ",noMatch:"      .",step2Title:".     ",continueToForm:"     ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"          .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"     !",subtitle:"      .              .",orderCodeLabel:"  :",note:":                 .",backToHome:"  "},formPage:{title:"  ",submittingTo:"     :",online:"",offline:"",scanId:"  ",scanIdTitle:"    ",micPermissionErrorTitle:"    ",micPermissionErrorMessage:"                .          .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""     .',answerPlaceholder:"  ...  {placeholder}",toggleMic:"  ",optionsHint:"  (    ):",previous:"",next:"",review:"",formCompleteTitle:"  !",formCompleteMessage:"          .",profilePicture:" ",backToEdit:"  ",submitFinal:"  ",submitting:"  ...",errorTitle:" ",errorMessage:"      .        .",backToSearch:"   ",error:{noDocument:"   .",loadFailed:"    .",unexpected:"     .",notFound:"  ",wordTemplateFailed:"  Word  ."},fillDataFor:"   :",fillFieldsBelow:"        .",importantNote:" ",noteContent:"             .",selectOption:"--   --",createDocument:" "},adPage:{preparing:"    ...",autoDisplay:"        :",downloadBlank:"  ",fillDownload:" /",downloadPdf:"   PDF",downloadWord:"   Word",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"          .",preparingLink:"   ...",pleaseWait:"      :",linkReady:"  !",downloadNow:" ",goTo:"  {name}",internalPage:" ",hadithTitle:"",prayerReminderTitle:" ",hadithIntro:" () :",prayerHadithContent:'"                ."',prayerHadithSource:"      ",istighfarContent:'"                           ."'},login:{title:"  ",emailLabel:"",passwordLabel:" ",forgotPassword:"    ",loginButton:"",loggingInButton:"  ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"     .",verifyEmail:"        .",wrongCredentials:"     .",enterEmail:"      ."},reset:{title:"  ",emailLabel:"  ",sendButton:"  ",sendingButton:"  ...",successMessage:"     .       .",errorMessage:"   .    .",backToLogin:"  "}},signup:{title:"  ",accountInfo:" ",email:"",password:" ",passwordPlaceholder:"  ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"/",commune:"/",state:"",city:"",street:" ",loading:"  ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:":  ",createButton:"   ",creatingButton:"  ...",haveAccount:"  ",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft (Outlook, Hotmail, Live)  .",fillAllFields:"     .",passwordsMismatch:"   .",passwordLength:"      .",signupFailed:"            .    ."},success:{title:"    !",message:"        ",instruction:"             .",loginButton:"   "}}},mH={header:{search:"Pesquisar",login:"Login do Proprietrio",dashboard:"Painel",logout:"Sair",allCountries:"Todos os Pases",allCountriesSearch:"Todos os Pases (Pesquisa Global)",selectCafeCountry:"Selecione o Pas do Caf"},footer:{blog:"Blog",services:"Lista de Servios",rightsReserved:"Todos os direitos reservados."},blog:{title:"Blog Gitut",subtitle:"Siga nossas ltimas notcias, atualizaes e dicas teis para proprietrios de cafs e buscadores de servios de documentos."},share:{title:"Compartilhar:",copied:"Copiado!",copyDetails:"Copiar detalhes"},blogPostCard:{readMore:"Ler mais"},relatedServices:{title:"Servios Relacionados"},relatedPosts:{title:"Posts Relacionados"},relatedPages:{title:"Outras Pginas"},app:{error:{title:"Erro de Aplicativo",message:"No foi possvel carregar dados essenciais. Pode haver um problema de conexo com o servidor."}},cafeCard:{owner:"Proprietrio:",address:"Endereo:",checkingStatus:"Verificando status...",online:"Online",offline:"Offline",chooseThisCafe:"Escolher este Caf",viewDetails:"Ver Detalhes e Servios",startChat:"Iniciar Chat",distanceUnit:"km"},profilePage:{backToSearch:"Voltar para Pesquisa",managedBy:"Gerenciado por:",checkingStatus:"Verificando status...",online:"Online",offline:"Offline",address:"Endereo:",description:"Descrio:",viewOnMap:"Ver no Mapa",step1Title:"1. Selecionar Documentos Necessrios",step1Subtitle:"Selecione os documentos que voc precisa. Voc pode pesquisar um documento e adicion-lo  lista, ou escolher diretamente da lista abaixo.",searchPlaceholder:"Pesquisar documento para adicionar...",searchLabel:"Pesquise um documento para adicionar  sua lista",noMatch:"Nenhum documento corresponde  sua pesquisa.",step2Title:"2. Enviar Sua Solicitao",continueToForm:"Continuar para Preencher Formulrio ({count})",similarCafes:"Cafs Semelhantes",cafeNotFoundTitle:"Caf No Encontrado",cafeNotFoundMessage:"Desculpe, no conseguimos encontrar a pgina que voc est procurando.",startChat:"Iniciar Chat",chatWith:"Conversar com {name}"},confirmationPage:{title:"Sua Solicitao Foi Enviada com Sucesso!",subtitle:"Suas informaes foram enviadas para o caf. Por favor, v at l e fornea o seguinte cdigo para receber seus documentos.",orderCodeLabel:"Seu cdigo de pedido :",note:"Nota: Guarde este cdigo, voc precisar dele para confirmar seu pedido com o proprietrio do caf.",backToHome:"Voltar para a Pgina Inicial"},formPage:{title:"Preencher o Formulrio",submittingTo:"Voc est enviando uma solicitao para",online:"Online",offline:"Offline",scanId:"Escanear ID",scanIdTitle:"Escanear carto de identidade com cmera",micPermissionErrorTitle:"Acesso ao Microfone Negado",micPermissionErrorMessage:"Por favor, ative o acesso ao microfone nas configuraes do seu navegador para usar o recurso de entrada de voz. Voc ainda pode preencher o formulrio manualmente.",stepCounter:"Passo {current} de {total}",navigationHint:'Voc pode dizer "Prximo" ou "Anterior" para navegar entre os campos.',answerPlaceholder:"Responda aqui... ex., {placeholder}",toggleMic:"Alternar Microfone",optionsHint:"Opes disponveis (diga o nmero para selecionar):",previous:"Anterior",next:"Prximo",review:"Revisar",formCompleteTitle:"Formulrio Completo!",formCompleteMessage:"Por favor, revise os dados cuidadosamente antes do envio final.",profilePicture:"Foto de Perfil",backToEdit:"Voltar para Editar",submitFinal:"Enviar Solicitao Final",submitting:"Enviando...",errorTitle:"Erro na Solicitao",errorMessage:"Nenhum documento ou servio foi selecionado. Por favor, volte e selecione documentos primeiro.",backToSearch:"Voltar para Pgina de Pesquisa",error:{noDocument:"Nenhum documento especificado.",loadFailed:"Falha ao carregar dados do documento.",unexpected:"Ocorreu um erro inesperado.",notFound:"Documento No Encontrado",wordTemplateFailed:"Falha ao carregar modelo do Word."},fillDataFor:"Preencher Dados Para:",fillFieldsBelow:"Preencha os campos abaixo para criar seu documento.",importantNote:"Nota Importante",noteContent:"Botes para visualizar, baixar ou preencher este documento esto na parte inferior desta pgina.",selectOption:"-- Selecionar --",createDocument:"Criar Documento"},adPage:{preparing:"Preparando seu documento...",autoDisplay:"Seu documento ser exibido automaticamente em:",downloadBlank:"Baixar Cpia em Branco",fillDownload:"Preencher/Baixar",downloadPdf:"Baixar como PDF",downloadWord:"Baixar como Word",adLabel:"Anncio:",optionsTitle:"Opes do Documento",stepFormatTitle:"ltimo Passo: Escolha o Formato de Download",stepFormatDesc:"Escolha o formato em que deseja baixar o documento.",preparingLink:"Preparando link...",pleaseWait:"Por favor aguarde, o link estar pronto em:",linkReady:"Link Pronto!",downloadNow:"Baixar Agora",goTo:"Ir para {name}",internalPage:"Pgina Interna"},login:{title:"Login do Proprietrio do Caf",emailLabel:"Email",passwordLabel:"Senha",forgotPassword:"Esqueceu a senha?",loginButton:"Entrar",loggingInButton:"Entrando...",noAccount:"No tem uma conta?",createAccount:"Criar uma nova conta",error:{fillAllFields:"Por favor, preencha todos os campos.",verifyEmail:"Por favor, verifique seu email para ativar sua conta.",wrongCredentials:"O email ou a senha esto incorretos.",enterEmail:"Por favor, insira seu endereo de email."},reset:{title:"Redefinir Senha",emailLabel:"Email Registrado",sendButton:"Enviar Link de Redefinio",sendingButton:"Enviando...",successMessage:"Um link de redefinio de senha foi enviado. Por favor, verifique sua caixa de entrada.",errorMessage:"Falha ao enviar email. Por favor, tente novamente.",backToLogin:"Voltar ao Login"}},signup:{title:"Criar uma Nova Conta",accountInfo:"Informaes da Conta",email:"Email",password:"Senha",passwordPlaceholder:"Pelo menos 6 caracteres",confirmPassword:"Confirmar Senha",cafeInfo:"Informaes do Caf",cafeName:"Nome Comercial do Caf",cafeNamePlaceholder:"ex., Cantinho Aconchegante",ownerName:"Nome Completo do Proprietrio",ownerNamePlaceholder:"ex., Joo Silva",country:"Pas",wilaya:"Estado/Provncia",daira:"Distrito/Regio",commune:"Municpio/Cidade",state:"Estado",city:"Cidade",street:"Endereo",loading:"Carregando...",selectWilaya:"Selecione o Estado",selectDaira:"Selecione o Distrito",selectCommune:"Selecione a Cidade",statePlaceholder:"ex., So Paulo, Rio de Janeiro",cityPlaceholder:"ex., Campinas, Niteri",streetPlaceholder:"ex., Av. Paulista 123",createButton:"Criar Conta e Caf",creatingButton:"Criando...",haveAccount:"J tem uma conta?",loginHere:"Entre aqui",errors:{allowedDomains:"Por favor, use um email Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Por favor, preencha todos os campos.",passwordsMismatch:"As senhas no coincidem.",passwordLength:"A senha deve ter pelo menos 6 caracteres.",signupFailed:"Este email j est em uso ou ocorreu um erro de registro. Por favor, tente novamente."},success:{title:"Conta Criada com Sucesso!",message:"Enviamos um link de verificao para o seu email",instruction:"Por favor, clique no link para ativar sua conta antes de fazer login.",loginButton:"Ir para a Pgina de Login"}}},pH={header:{search:"",login:"  ",dashboard:"",logout:"",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"   "},footer:{blog:"",services:" ",rightsReserved:" "},blog:{title:"Gitut ",subtitle:"         ,      "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"          "}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:"",chooseThisCafe:"   ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:":",checkingStatus:"   ...",online:"",offline:"",address:":",description:":",viewOnMap:" ",step1Title:".    ",step1Subtitle:"             ,        ",searchPlaceholder:"     ...",searchLabel:"        ",noMatch:"      ",step2Title:".   ",continueToForm:"    ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:",        ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"    !",subtitle:"                ",orderCodeLabel:"   :",note:":   ,          ",backToHome:"  "},formPage:{title:"  ",submittingTo:"  ",online:"",offline:"",scanId:" ",scanIdTitle:"     ",micPermissionErrorTitle:"  ",micPermissionErrorMessage:"                    ",stepCounter:" {total}  {current}",navigationHint:'     ""  ""  ',answerPlaceholder:"  ... , {placeholder}",toggleMic:"  ",optionsHint:"  (   ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"         ",profilePicture:" ",backToEdit:"  ",submitFinal:"   ",submitting:"  ...",errorTitle:" ",errorMessage:"               ",backToSearch:"   ",error:{noDocument:"    ",loadFailed:"     ",unexpected:"   ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"    :",fillFieldsBelow:"       ",importantNote:" ",noteContent:"  ,         ",selectOption:"--   --",createDocument:"  "},adPage:{preparing:"    ...",autoDisplay:"    :",downloadBlank:"   ",fillDownload:"/",downloadPdf:"PDF   ",downloadWord:"Word   ",adLabel:":",optionsTitle:" ",stepFormatTitle:" :    ",stepFormatDesc:"         ",preparingLink:"   ...",pleaseWait:"   ,   :",linkReady:" !",downloadNow:"  ",goTo:"{name}- ",internalPage:" "},login:{title:"  ",emailLabel:"",passwordLabel:"",forgotPassword:"  ?",loginButton:"",loggingInButton:" ...",noAccount:" ?",createAccount:"   ",error:{fillAllFields:"     ",verifyEmail:"         ",wrongCredentials:"   ",enterEmail:"     "},reset:{title:" ",emailLabel:" ",sendButton:"  ",sendingButton:" ...",successMessage:"           ",errorMessage:"        ",backToLogin:"  "}},signup:{title:"   ",accountInfo:" ",email:"",password:"",passwordPlaceholder:"  ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:",  ",ownerName:"  ",ownerNamePlaceholder:",  ",country:"",wilaya:"/",daira:"/",commune:"/",state:"",city:"",street:" ",loading:" ...",selectWilaya:"  ",selectDaira:"  ",selectCommune:"  ",statePlaceholder:", , ",cityPlaceholder:", , ",streetPlaceholder:",   ",createButton:"    ",creatingButton:" ...",haveAccount:"   ?",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft  (Outlook, Hotmail, Live)  ",fillAllFields:"     ",passwordsMismatch:"  ",passwordLength:"     ",signupFailed:"               "},success:{title:"   !",message:"      ",instruction:"           ",loginButton:"  "}}},gH={header:{search:" ",login:"   ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"    "},footer:{blog:"",services:"  ",rightsReserved:"   "},blog:{title:"Gitut ",subtitle:"                      "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:"  ",message:"              "}},cafeCard:{owner:":",address:":",checkingStatus:"     ...",online:" ",offline:" ",chooseThisCafe:"    ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"   ",managedBy:" :",checkingStatus:"     ...",online:" ",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.    ",step1Subtitle:"                             ",searchPlaceholder:"      ...",searchLabel:"         ",noMatch:"        ",step2Title:"2.   ",continueToForm:"      ({count})",similarCafes:"  ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"             ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"         !",subtitle:"                        ",orderCodeLabel:"    :",note:":                      ",backToHome:"    "},formPage:{title:"  ",submittingTo:"    ",online:" ",offline:" ",scanId:"   ",scanIdTitle:"     ",micPermissionErrorTitle:"       ",micPermissionErrorMessage:"                                ",stepCounter:" {current}  {total}",navigationHint:'        ""  ""   ',answerPlaceholder:"  ...  {placeholder}",toggleMic:"  ",optionsHint:"  (     ):",previous:"",next:"",review:" ",formCompleteTitle:" !",formCompleteMessage:"           ",profilePicture:" ",backToEdit:"   ",submitFinal:"   ",submitting:"    ...",errorTitle:"  ",errorMessage:"                ",backToSearch:"     ",error:{noDocument:"    ",loadFailed:"      ",unexpected:"     ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"   :",fillFieldsBelow:"           ",importantNote:" ",noteContent:"                ",selectOption:"--   --",createDocument:" "},adPage:{preparing:"       ...",autoDisplay:"        :",downloadBlank:"    ",fillDownload:" /  ",downloadPdf:"PDF      ",downloadWord:"Word      ",adLabel:":",optionsTitle:"  ",stepFormatTitle:" :      ",stepFormatDesc:"            ",preparingLink:"     ...",pleaseWait:"        :",linkReady:"  !",downloadNow:"   ",goTo:"{name}  ",internalPage:" "},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"   ",loginButton:" ",loggingInButton:"    ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"     ",verifyEmail:"             ",wrongCredentials:"      ",enterEmail:"       "},reset:{title:"    ",emailLabel:"  ",sendButton:"   ",sendingButton:"   ...",successMessage:"                 ",errorMessage:"         ",backToLogin:"    "}},signup:{title:"  ",accountInfo:"  ",email:" ",password:" ",passwordPlaceholder:"   6 ",confirmPassword:"    ",cafeInfo:"  ",cafeName:"   ",cafeNamePlaceholder:"   ",ownerName:"   ",ownerNamePlaceholder:"  ",country:"",wilaya:"/",daira:"",commune:"/",state:"",city:"",street:"  ",loading:"   ...",selectWilaya:"  ",selectDaira:"  ",selectCommune:"  ",statePlaceholder:"  ",cityPlaceholder:"  ",streetPlaceholder:" 123  ",createButton:"   ",creatingButton:"   ...",haveAccount:"   ",loginHere:"   ",errors:{allowedDomains:"  Gmail  Microsoft   (Outlook, Hotmail, Live)  ",fillAllFields:"     ",passwordsMismatch:"    ",passwordLength:"     6    ",signupFailed:"                   "},success:{title:"    !",message:"           ",instruction:"                 ",loginButton:"    "}}},yH=n=>{switch(n){case"us":case"ca":case"gb":case"ng":case"ph":case"za":case"tz":case"my":return"en";case"fr":case"cd":return"fr";case"de":return"de";case"es":case"mx":case"co":case"ar":return"es";case"tr":return"tr";case"jp":return"ja";case"id":return"id";case"in":return"hi";case"th":return"th";case"vn":return"vi";case"ir":return"fa";case"br":return"pt";case"pt":return"pt";case"bd":return"bn";case"pk":return"ur";default:return"ar"}},_H=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"tr",name:"Trke"},{code:"id",name:"Bahasa Indonesia"},{code:"hi",name:""},{code:"th",name:""},{code:"vi",name:"Ting Vit"},{code:"fa",name:""},{code:"bn",name:""},{code:"ur",name:""}],pi={ar:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"sa",name:"",flag:"",phoneCode:"+966"},{code:"ae",name:"",flag:"",phoneCode:"+971"},{code:"eg",name:"",flag:"",phoneCode:"+20"},{code:"ma",name:"",flag:"",phoneCode:"+212"},{code:"tn",name:"",flag:"",phoneCode:"+216"},{code:"iq",name:"",flag:"",phoneCode:"+964"},{code:"jo",name:"",flag:"",phoneCode:"+962"},{code:"kw",name:"",flag:"",phoneCode:"+965"},{code:"lb",name:"",flag:"",phoneCode:"+961"},{code:"ly",name:"",flag:"",phoneCode:"+218"},{code:"om",name:"",flag:"",phoneCode:"+968"},{code:"qa",name:"",flag:"",phoneCode:"+974"},{code:"sd",name:"",flag:"",phoneCode:"+249"},{code:"sy",name:"",flag:"",phoneCode:"+963"},{code:"ye",name:"",flag:"",phoneCode:"+967"},{code:"bh",name:"",flag:"",phoneCode:"+973"},{code:"km",name:" ",flag:"",phoneCode:"+269"},{code:"dj",name:"",flag:"",phoneCode:"+253"},{code:"mr",name:"",flag:"",phoneCode:"+222"},{code:"ps",name:"",flag:"",phoneCode:"+970"},{code:"so",name:"",flag:"",phoneCode:"+252"}],en:[{code:"dz",name:"Algeria",flag:"",phoneCode:"+213"},{code:"sa",name:"Saudi Arabia",flag:"",phoneCode:"+966"},{code:"ae",name:"UAE",flag:"",phoneCode:"+971"},{code:"eg",name:"Egypt",flag:"",phoneCode:"+20"},{code:"ma",name:"Morocco",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisia",flag:"",phoneCode:"+216"},{code:"iq",name:"Iraq",flag:"",phoneCode:"+964"},{code:"jo",name:"Jordan",flag:"",phoneCode:"+962"},{code:"kw",name:"Kuwait",flag:"",phoneCode:"+965"},{code:"lb",name:"Lebanon",flag:"",phoneCode:"+961"},{code:"ly",name:"Libya",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Sudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Syria",flag:"",phoneCode:"+963"},{code:"ye",name:"Yemen",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahrain",flag:"",phoneCode:"+973"},{code:"km",name:"Comoros",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritania",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestine",flag:"",phoneCode:"+970"},{code:"so",name:"Somalia",flag:"",phoneCode:"+252"},{code:"us",name:"United States",flag:"",phoneCode:"+1"},{code:"ca",name:"Canada",flag:"",phoneCode:"+1"},{code:"br",name:"Brazil",flag:"",phoneCode:"+55"},{code:"mx",name:"Mexico",flag:"",phoneCode:"+52"},{code:"co",name:"Colombia",flag:"",phoneCode:"+57"},{code:"ar",name:"Argentina",flag:"",phoneCode:"+54"},{code:"gb",name:"United Kingdom",flag:"",phoneCode:"+44"},{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"de",name:"Germany",flag:"",phoneCode:"+49"},{code:"es",name:"Spain",flag:"",phoneCode:"+34"},{code:"pt",name:"Portugal",flag:"",phoneCode:"+351"},{code:"tr",name:"Turkey",flag:"",phoneCode:"+90"},{code:"jp",name:"Japan",flag:"",phoneCode:"+81"},{code:"ph",name:"Philippines",flag:"",phoneCode:"+63"},{code:"my",name:"Malaysia",flag:"",phoneCode:"+60"},{code:"vn",name:"Vietnam",flag:"",phoneCode:"+84"},{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"},{code:"th",name:"Thailand",flag:"",phoneCode:"+66"},{code:"in",name:"India",flag:"",phoneCode:"+91"},{code:"ir",name:"Iran",flag:"",phoneCode:"+98"},{code:"bd",name:"Bangladesh",flag:"",phoneCode:"+880"},{code:"pk",name:"Pakistan",flag:"",phoneCode:"+92"},{code:"ng",name:"Nigeria",flag:"",phoneCode:"+234"},{code:"za",name:"South Africa",flag:"",phoneCode:"+27"},{code:"tz",name:"Tanzania",flag:"",phoneCode:"+255"},{code:"cd",name:"Congo (DRC)",flag:"",phoneCode:"+243"}],fr:[{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"cd",name:"Congo (DRC)",flag:"",phoneCode:"+243"}],de:[{code:"de",name:"Germany",flag:"",phoneCode:"+49"}],es:[{code:"es",name:"Spain",flag:"",phoneCode:"+34"},{code:"mx",name:"Mexico",flag:"",phoneCode:"+52"},{code:"co",name:"Colombia",flag:"",phoneCode:"+57"},{code:"ar",name:"Argentina",flag:"",phoneCode:"+54"}],tr:[{code:"tr",name:"Turkey",flag:"",phoneCode:"+90"}],ja:[{code:"jp",name:"Japan",flag:"",phoneCode:"+81"}],id:[{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"}],hi:[{code:"in",name:"India",flag:"",phoneCode:"+91"}],th:[{code:"th",name:"Thailand",flag:"",phoneCode:"+66"}],vi:[{code:"vn",name:"Vietnam",flag:"",phoneCode:"+84"}],fa:[{code:"ir",name:"Iran",flag:"",phoneCode:"+98"}],pt:[{code:"br",name:"Brazil",flag:"",phoneCode:"+55"},{code:"pt",name:"Portugal",flag:"",phoneCode:"+351"}],bn:[{code:"bd",name:"Bangladesh",flag:"",phoneCode:"+880"}],ur:[{code:"pk",name:"Pakistan",flag:"",phoneCode:"+92"}]},Kg={ar:nH,en:rH,fr:iH,de:sH,es:aH,tr:oH,ja:lH,id:cH,hi:uH,th:dH,vi:hH,fa:fH,pt:mH,bn:pH,ur:gH},V4=(n,e)=>e.split(".").reduce((t,r)=>t&&t[r],n),Iq=n=>e=>{const t=Kg[n],r=Kg.en;return V4(t,e)||V4(r,e)||e},Sq=[{code:"ar-SA",name:" ()"},{code:"ar-DZ",name:" ()"},{code:"ar-EG",name:" ()"},{code:"ar-AE",name:" ()"},{code:"ar-MA",name:" ()"},{code:"ar-TN",name:" ()"},{code:"ar-IQ",name:" ()"},{code:"ar-JO",name:" ()"},{code:"ar-KW",name:" ()"},{code:"ar-LB",name:" ()"},{code:"ar-QA",name:" ()"},{code:"ar-BH",name:" ()"},{code:"ar-OM",name:" ()"},{code:"en-US",name:"English (United States)"},{code:"en-GB",name:"English (United Kingdom)"},{code:"en-IN",name:"English (India)"},{code:"en-AU",name:"English (Australia)"},{code:"en-CA",name:"English (Canada)"},{code:"fr-FR",name:"Franais (France)"},{code:"fr-CA",name:"Franais (Canada)"},{code:"es-ES",name:"Espaol (Espaa)"},{code:"es-MX",name:"Espaol (Mxico)"},{code:"es-AR",name:"Espaol (Argentina)"},{code:"es-CO",name:"Espaol (Colombia)"},{code:"de-DE",name:"Deutsch (Deutschland)"},{code:"tr-TR",name:"Trke (Trkiye)"},{code:"ja-JP",name:" ()"},{code:"id-ID",name:"Bahasa Indonesia (Indonesia)"},{code:"hi-IN",name:" ()"},{code:"th-TH",name:" ()"},{code:"vi-VN",name:"Ting Vit (Vit Nam)"},{code:"fa-IR",name:" ()"},{code:"pt-BR",name:"Portugus (Brasil)"},{code:"pt-PT",name:"Portugus (Portugal)"},{code:"bn-BD",name:" ()"},{code:"ur-PK",name:" ()"}],vH=n=>{switch(n){case"dz":return"ar-DZ";case"sa":return"ar-SA";case"ae":return"ar-AE";case"eg":return"ar-EG";case"ma":return"ar-MA";case"tn":return"ar-TN";case"iq":return"ar-IQ";case"jo":return"ar-JO";case"kw":return"ar-KW";case"lb":return"ar-LB";case"qa":return"ar-QA";case"om":return"ar-OM";case"bh":return"ar-BH";case"sy":return"ar-SY";case"ye":return"ar-YE";case"ly":return"ar-LY";case"sd":return"ar-SD";case"us":return"en-US";case"gb":return"en-GB";case"ca":return"en-CA";case"au":return"en-AU";case"in":return"hi-IN";case"fr":return"fr-FR";case"de":return"de-DE";case"es":return"es-ES";case"mx":return"es-MX";case"co":return"es-CO";case"ar":return"es-AR";case"tr":return"tr-TR";case"jp":return"ja-JP";case"id":return"id-ID";case"th":return"th-TH";case"vn":return"vi-VN";case"ir":return"fa-IR";case"br":return"pt-BR";case"pt":return"pt-PT";case"bd":return"bn-BD";case"pk":return"ur-PK";default:return"ar-SA"}},Di="https://datas.gitut.com";async function ia(n,e,t){try{const r=await fetch(n);if(!r.ok){if(t!==void 0)return console.warn(`[Optional] Failed to fetch ${e} (Status: ${r.status}). Using default value.`),t;throw new Error(`Failed to fetch ${e} from ${n}. Status: ${r.status} ${r.statusText}`)}const i=await r.text();try{return JSON.parse(i)}catch{if(t!==void 0)return console.warn(`[Optional] Failed to parse JSON for ${e}. Using default value.`),t;const o=i.length>100?i.substring(0,100)+"...":i;throw new Error(`Failed to parse JSON for ${e} from ${n}. Content started with: "${o}"`)}}catch(r){if(t!==void 0)return console.warn(`Error fetching ${e}:`,r),t;throw r}}const Cq=async n=>{const t=`cafe_data_${n}`;try{const i=await Jr("cafeDocumentsData",t);if(i){const s=Date.now();if(s-i.timestamp<6048e5&&i.data&&i.data.length>0)return console.log(`Using cached cafe data for ${n} (Age: ${((s-i.timestamp)/36e5).toFixed(1)} hrs)`),i.data;console.log(`Cache expired for ${n}. Fetching fresh data.`)}}catch(i){console.warn("Failed to read from cache",i)}const r=`${Di}/data/json/cafe-data/${n}.json`;try{const i=await ia(r,`${n}.json`,[]),s={id:t,data:i,timestamp:Date.now()};return await rn("cafeDocumentsData",s),i}catch(i){console.error(`Failed to fetch/cache data for ${n}:`,i);const s=await Jr("cafeDocumentsData",t);return s&&s.data?(console.warn("Returning expired cache due to network error."),s.data):[]}},wH=async()=>{const n=`${Di}/data/json/all-services-public.json`,e=await ia(n,"all-services-public.json",[]);return!Array.isArray(e)&&e.mainData&&Array.isArray(e.mainData)?e.mainData:Array.isArray(e)?e:[]},Hr={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5,items:[]},ai:{apiKey:"",useAdminKey:!0}},bH=n=>n.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),TH="https://gitut.com/api/",EH="@@??YOUYOU@@??YOUYOU1936";function xH(){return new Promise((n,e)=>{if(Cn.currentUser)return n(Cn.currentUser);const t=Cn.onAuthStateChanged(r=>{t(),r?n(r):e(new Error("User not authenticated for API call."))})})}async function nt(n,e){try{const r=await(await xH()).getIdToken(),i=await fetch(TH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":EH},body:JSON.stringify({action:n,payload:e})});if(n==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let o;try{o=await i.json()}catch{o=null}throw new Error((o==null?void 0:o.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(t){throw console.error(`API Service Error (${n}):`,t),t}}const Pq=async n=>nt("uploadFilesToGitHub",n),kq=async(n,e,t)=>{const r=new FileReader,s=await new Promise((c,u)=>{r.onload=()=>{const h=r.result;c(h.split(",")[1])},r.onerror=u,r.readAsDataURL(n)});let o=`documents/${t}.pdf`;return e!=="global"&&(o=`documents/${e}/${t}.pdf`),await nt("uploadPdfToGitHub",{content:s,path:o,message:`feat: Upload static document ${t}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),`https://datas.gitut.com/${o}`},IH=async n=>{const t=await(i=>new Promise((s,o)=>{const c=new FileReader;c.readAsDataURL(i),c.onload=()=>s(c.result.split(",")[1]),c.onerror=u=>o(u)}))(n);return(await nt("uploadFile",{fileData:t,fileName:n.name,fileType:n.type})).url},j4=async n=>{var L;const e=`${Di}/data/json/${n}-cafes-public.json`,t=`${Di}/data/json/${n}-all-services-public.json`,r=`${Di}/data/json/site-settings-public.json`,i=`${Di}/data/json/site-seo.json`,s=`${Di}/data/json/${n}-pages-public.json`,[o,c,u,h,p]=await Promise.all([ia(t,`${n}-all-services-public.json`,[]),ia(e,`${n}-cafes-public.json`,[]),ia(r,"site-settings-public.json",{}),ia(i,"site-seo.json",{}),ia(s,`${n}-pages-public.json`,[])]);let y=o;!Array.isArray(y)&&y.mainData&&Array.isArray(y.mainData)?y=y.mainData:Array.isArray(y)||(console.warn("Services data is not an array and has no mainData wrapper. Defaulting to empty array."),y=[]);let _=[];const v=y.filter(z=>z.serviceType==="doc"),T=y.filter(z=>z.serviceType==="static-doc"),b=y.filter(z=>z.serviceType==="site"),I=((L=u.ads)==null?void 0:L.items)||[],S={...Hr,...u,seo:{...Hr.seo,...h},payment:{...Hr.payment,...u.payment||{}},pricing:{...Hr.pricing,...u.pricing||{}},social:{...Hr.social,...u.social||{}},ads:{...Hr.ads,...u.ads||{}},ai:{...Hr.ai,...u.ai||{}}},N=_.map(z=>({...z,createdAt:z.createdAt?On.firestore.Timestamp.fromDate(new Date(z.createdAt)):On.firestore.Timestamp.now(),publishedAt:z.publishedAt?On.firestore.Timestamp.fromDate(new Date(z.publishedAt)):void 0}));return{documents:v,staticDocuments:T,cafes:c,siteSettings:S,pages:p,blogPosts:N,sites:b,ads:I,services:y}},B4=async n=>{const e=`${Di}/data/json/${n}-locations.json`;return ia(e,`${n}-locations.json`,{wilayas:[],dairas:[],communes:[]})},P1=async()=>nt("getCollection",{collection:"cafes"}),Aq=async()=>nt("getCollection",{collection:"users"}),SH=async n=>nt("getDoc",{collection:"cafes",id:n}),CH=async n=>(await nt("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:n}],limit:1}))[0]||null,Rp=async n=>nt("getDoc",{collection:"users",id:n}),Nq=async()=>nt("getMonthlyRevenue",{}),PH=async(n,e)=>{const t=vH(e.countryCode),r={...e,speechToTextLanguage:t};return nt("createUserAndCafe",{uid:n.uid,email:n.email,emailVerified:n.emailVerified,cafeData:{...r,phone:e.phone}})},Rq=async(n,e)=>{await nt("updateDoc",{collection:"cafes",id:n,data:e})},Dq=async(n,e)=>nt("deductCredits",{userId:n.id,amount:e}),kH=async(n,e)=>nt("syncOfflineDeductions",{userId:n,deductions:e}),AH=async(n,e)=>{const t=qg.collection("jobs"),r=e?t.doc(e):t.doc(),i={...n,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},Fq=async(n,e)=>{await qg.collection("jobs").doc(n).update(e)},Lq=async n=>nt("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:n}],orderBy:"date"}),Oq=async()=>nt("getCollection",{collection:"payment_requests",orderBy:"date"}),Mq=async n=>nt("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:n}],orderBy:"date"}),Vq=async()=>nt("getCollection",{collection:"invoices",orderBy:"date"}),jq=async(n,e,t,r,i)=>nt("addPaymentRequest",{userId:n,amount:e,currency:t,method:r,proofOfPaymentUrl:i}),Bq=async n=>nt("approvePaymentRequest",{requestId:n.id}),z4=async()=>nt("getDataVersion",{}),zq=async()=>nt("incrementDataVersion",{}),Ef=async()=>nt("getDoc",{collection:"settings",id:"site"}),Uq=async n=>nt("updateDoc",{collection:"settings",id:"site",data:n}),U4=async()=>{const n=await nt("getDoc",{collection:"excel_commands",id:"main"});if(n&&typeof n.config=="string")try{return JSON.parse(n.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(n==null?void 0:n.config)||null},Wq=async n=>nt("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(n,null,2)}}),dd=n=>({getAll:()=>nt("getCollection",{collection:n}),get:e=>nt("getDoc",{collection:n,id:e}),create:async e=>await nt("createDoc",{collection:n,data:e}),update:async(e,t)=>{await nt("updateDoc",{collection:n,id:e,data:t})},delete:async e=>{await nt("deleteDoc",{collection:n,id:e})}}),k1={getAll:()=>nt("getCollection",{collection:"pages"}),create:async n=>{const e=await nt("createDoc",{collection:"pages",data:n});return await rn("pages",e),e},update:async(n,e)=>{await nt("updateDoc",{collection:"pages",id:n,data:e});const t=await Jr("pages",n);t&&await rn("pages",{...t,...e,id:n})},delete:async n=>{await nt("deleteDoc",{collection:"pages",id:n}),await Ql("pages",n)},toggleStatus:async(n,e)=>{const t={enabled:!e};await nt("updateDoc",{collection:"pages",id:n,data:t});const r=await Jr("pages",n);r&&await rn("pages",{...r,...t,id:n})}},oN={...dd("ads"),toggleStatus:async(n,e)=>{const t={enabled:!e};await nt("updateDoc",{collection:"ads",id:n,data:t});const r=await Jr("ads",n);r&&await rn("ads",{...r,...t,id:n})}},lN={...dd("blog"),create:async n=>{const e=await nt("createDoc",{collection:"blog",data:n});return await rn("blogPosts",e),e},update:async(n,e)=>{await nt("updateDoc",{collection:"blog",id:n,data:e});const t=await Jr("blogPosts",n);t&&await rn("blogPosts",{...t,...e,id:n})},delete:async n=>{await nt("deleteDoc",{collection:"blog",id:n}),await Ql("blogPosts",n)},toggleStatus:async(n,e)=>{const t={enabled:!e};await nt("updateDoc",{collection:"blog",id:n,data:t});const r=await Jr("blogPosts",n);r&&await rn("blogPosts",{...r,...t,id:n})}},W4=dd("codes"),Qg=dd("sites"),i_={getAll:()=>nt("getCollection",{collection:"staticDocuments"}),create:async n=>{const e=await nt("createDoc",{collection:"staticDocuments",data:n});return await rn("staticDocuments",e),e},update:async(n,e)=>{await nt("updateDoc",{collection:"staticDocuments",id:n,data:e});const t=await Jr("staticDocuments",n);t&&await rn("staticDocuments",{...t,...e,id:n})},delete:async n=>{await nt("deleteDoc",{collection:"staticDocuments",id:n}),await Ql("staticDocuments",n)}},H4={getAll:()=>nt("getCollection",{collection:"voice_prompts"}),create:async n=>{const e=await IH(n),t=await nt("createDoc",{collection:"voice_prompts",data:{name:n.name,url:e,createdAt:new Date().toISOString()}});return await rn("voice_prompts",t),t},delete:async(n,e)=>{await nt("deleteFile",{fileUrl:e}),await nt("deleteDoc",{collection:"voice_prompts",id:n}),await Ql("voice_prompts",n)}},Hq={getAll:async()=>{const n=await nt("getClients",{});return await $n("clients",n),n},create:async n=>{const e=await nt("createClient",{clientData:n});return await rn("clients",e),e},update:async(n,e)=>{await nt("updateClient",{id:n,updates:e});const t=await Jr("clients",n);t&&await rn("clients",{...t,...e,id:n})},delete:async n=>{await nt("deleteClient",{id:n}),await Ql("clients",n)}},$4={...dd("documents"),create:async n=>{const{id:e,...t}=n,r=await nt("createDocWithId",{collection:"documents",id:e,data:t});return await rn("documents",r),await rn("fullDocuments",r),r}},so=()=>nt("getCollection",{collection:"documents"}),cN=dd("baseTemplates"),G4=n=>n?n.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",$q=async n=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${n.prompt}</title><style>${n.sharedStyles}</style></head><body>${n.previewHtml}</body></html>`,t=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${n.prompt}</title><style>${n.sharedStyles}</style></head><body>${n.templateHtml}</body></html>`,r={name:n.prompt,description:n.description,tags:n.tags,requiredFields:n.requiredFields,complexFields:n.complexFields,slug:bH(n.prompt),previewTemplateHtml:G4(e),finalTemplateHtml:G4(t),previewTemplateUrl:"",finalTemplateUrl:""};if(n.docToEdit)await $4.update(n.docToEdit.id,r);else{const i=n.fileNameBase,s={...r,id:i,groupId:i};await $4.create(s)}},q4=async()=>{const n=await nt("getDoc",{collection:"document_commands",id:"main"});if(n&&typeof n.config=="string")try{return JSON.parse(n.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(n==null?void 0:n.config)||null},Gq=async n=>nt("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(n,null,2)}}),qq=n=>{const e=/\[([a-zA-Z0-9_]+)\]/g,t=[...n.matchAll(e)];return[...new Set(t.map(i=>i[1]))]},K4=async(n,e,t=!1)=>{var i;let r;switch(n){case"cafes":return r=await P1(),r.filter(s=>s.isProfilePublished&&(!e||e==="global"||s.countryCode===e)).map(({id:s,numericId:o,name:c,owner:u,countryCode:h,address:p,description:y,imageUrl:_,coverImageUrl:v,googleMapsUrl:T,phone:b,socials:I,services:S})=>({id:s,numericId:o,name:c,owner:u,countryCode:h,address:p,description:y,imageUrl:_,coverImageUrl:v,googleMapsUrl:T,phone:b,socials:I,services:S}));case"global-services":{const s=pi.en.map(p=>p.code);let o=[];const c=s.map(p=>ia(`${Di}/data/json/${p}-all-services-public.json`,`${p}-services`,[]).catch(()=>(console.warn(`Could not fetch services for country: ${p}, skipping.`),[])));return(await Promise.all(c)).forEach(p=>{Array.isArray(p)&&(o=o.concat(p))}),Array.from(new Map(o.map(p=>[p.id,p])).values())}case"cafe-documents":return(await so()).filter(u=>e==="global"?!u.countryCode||u.countryCode==="global":u.countryCode===e).map(u=>{const h=u.description?u.description.replace(/<[^>]+>/g,""):"",p=h.split(/\s+/),y=p.length>6?p.slice(0,6).join(" ")+"......":h;return{id:u.id,name:u.name,description:y,requiredFields:u.requiredFields,fieldCustomizations:u.fieldCustomizations,questions:u.questions,finalTemplateHtml:u.finalTemplateHtml,countryCode:u.countryCode,groupId:u.groupId,slug:u.slug}});case"cafe-sites":return(await Qg.getAll()).filter(c=>e==="global"?!c.countryCode||c.countryCode==="global":c.countryCode===e);case"services":{let[s,o,c]=await Promise.all([so(),i_.getAll(),Qg.getAll()]);const u=[];return{mainData:[...s.map(y=>({...y,serviceType:"doc"})),...o.map(y=>({...y,serviceType:"static-doc"})),...c.map(y=>({...y,serviceType:"site"}))].filter(y=>e==="global"?!y.countryCode||y.countryCode==="global":y.countryCode===e).map(y=>{if(y.serviceType==="doc"){const{id:_,name:v,description:T,countryCode:b,slug:I,tags:S,previewTemplateHtml:N,finalTemplateHtml:L,requiredFields:z}=y,Y=(L||"").replace(/\[.*?\]/g,"........"),F={id:_,name:v,description:T,previewTemplateHtml:Y,finalTemplateHtml:L,requiredFields:z||[]};let R=`data/json/documents/${I||_}.json`;b&&b!=="global"&&(R=`data/json/documents/${b}/${I||_}.json`),u.push({path:R,data:F});const{previewTemplateHtml:O,finalTemplateHtml:B,requiredFields:W,complexFields:D,spokenFields:M,visitorExamplePrompt:C,cafeExamplePrompt:te,previewTemplateUrl:xe,finalTemplateUrl:ee,cafeId:Z,fieldCustomizations:K,questions:ie,...j}=y;return j}else if(y.serviceType==="static-doc"){const{id:_,name:v,description:T,countryCode:b,fileUrl:I,slug:S,tags:N,serviceType:L}=y;return{id:_,name:v,description:T,countryCode:b,fileUrl:I,slug:S,tags:N,serviceType:L}}else if(y.serviceType==="site"){const{id:_,name:v,url:T,type:b,description:I,countryCode:S,tags:N,slug:L,serviceType:z,templateFields:$,jsonTemplate:Y}=y;return{id:_,name:v,url:T,type:b,description:I,countryCode:S,tags:N,slug:L,serviceType:z}}return y}),extraFiles:u}}case"blog":{let s=await lN.getAll();const o=_=>{if(!_)return;if(_ instanceof On.firestore.Timestamp)return _.toDate().toISOString();if(typeof _=="object"&&_!==null&&typeof _.seconds=="number")return new Date(_.seconds*1e3).toISOString();const v=new Date(_);return isNaN(v.getTime())?String(_):v.toISOString()},c=s.filter(_=>_.enabled).map(_=>({..._,createdAt:o(_.createdAt),publishedAt:o(_.publishedAt)})),u=new Set;c.forEach(_=>{(_.tags?_.tags.split(",").map(T=>T.trim().toLowerCase()).filter(Boolean):[]).forEach(T=>u.add(T))});const h=new Map;Array.from(u).forEach((_,v)=>{h.set(_,v+1)});const y={"tags-map-public.json":[Object.fromEntries(h)]};for(const _ of c){const v=_.tags?_.tags.split(",").map(b=>b.trim().toLowerCase()).filter(Boolean):[];if(v.length===0)continue;const T=Object.keys(_.content||{});for(const b of T){const{countryCode:I,...S}=_,N={...S,content:_.content[b]};for(const L of v){const z=h.get(L);if(z===void 0)continue;const $=`${b}-${z}-blog-posts-public.json`;y[$]||(y[$]=[]),y[$].push(N)}}}return y}case"pages":return(await k1.getAll()).filter(o=>o.enabled);case"settings":{const s=await Ef();if(!s)return{};const c=(await oN.getAll()).filter(v=>v.enabled),h=(await k1.getAll()).filter(v=>v.enabled).map(v=>({title:v.title,slug:v.slug,lang:v.lang||"ar"})),{payment:p,ai:y,..._}=s;return{..._,ads:{pdfInterstitialTimer:((i=_.ads)==null?void 0:i.pdfInterstitialTimer)||5,items:c},footerPages:h}}case"seo":{const s=await Ef();return(s==null?void 0:s.seo)||Hr.seo}case"documents":return r=await so(),r;case"documents-json":{const s=await so();let o=s;return e&&e!=="global"?o=s.filter(u=>u.countryCode===e):e==="global"&&(o=s.filter(u=>!u.countryCode||u.countryCode==="global")),o.map(u=>{const h=`${u.slug||u.id}.json`;let p=`data/json/documents/${h}`;u.countryCode&&u.countryCode!=="global"&&(p=`data/json/documents/${u.countryCode}/${h}`);const _=(u.finalTemplateHtml||"").replace(/\[.*?\]/g,"........"),v={...u,previewTemplateHtml:_};return{path:p,content:JSON.stringify(v,null,2)}})}case"templates-paginated":{let s=await so();const o=h=>{const{description:p,...y}=h;return y},c=20,u=Math.ceil(s.length/c);if(t){const h=[];for(let p=0;p<u;p++){const y=s.slice(p*c,(p+1)*c);h.push({fileName:`templates-part-${p+1}.json`,data:y.map(o)})}return h}for(let h=0;h<u;h++){const y=s.slice(h*c,(h+1)*c).map(o),_=new Blob([JSON.stringify(y)],{type:"application/json"}),v=URL.createObjectURL(_),T=document.createElement("a");T.href=v,T.download=`templates-part-${h+1}-of-${u}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(v),await new Promise(b=>setTimeout(b,300))}return{downloadInitiated:!0,chunks:u}}}};async function Kq(n){const{saveAs:e}=await yt(async()=>{const{saveAs:p}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:p}},[]),t=new tH,r=t.folder("json"),i=t.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:n,fileName:`${n}-cafes-public.json`},{dataType:"services",countryCode:n,fileName:`${n}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:n,fileName:`${n}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"seo",countryCode:"global",fileName:"site-seo.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const p of s){const y=await K4(p.dataType,p.countryCode);r.file(p.fileName,JSON.stringify(y))}const o=await K4("templates-paginated","global",!0);if(Array.isArray(o))for(const p of o)r.file(p.fileName,JSON.stringify(p.data));const u=(await i_.getAll()).filter(p=>!p.countryCode||p.countryCode===n);for(const p of u){const y=p.fileUrl.split("/").pop();if(y)try{const _=await fetch(`${Di}/data/pdf/${y}`);if(_.ok){const v=await _.blob();i.file(y,v)}else console.warn(`Could not fetch static PDF: ${Di}/data/pdf/${y}. Status: ${_.status}`)}catch(_){console.error(`Error fetching static PDF: ${Di}/data/pdf/${y}`,_)}}const h=await t.generateAsync({type:"blob"});e(h,`${n}-public-data.zip`)}const uN=A.createContext(void 0),NH=({children:n})=>{const[e,t]=A.useState(null),[r,i]=A.useState(!0),s=A.useCallback(async v=>{const T=await JW();if(T.length!==0)try{console.log(`Syncing ${T.length} offline transactions...`),await kH(v,T),await XW(),console.log("Sync successful.");const b=await Rp(v);if(b&&Cn.currentUser){const I={...b,emailVerified:Cn.currentUser.emailVerified};t(I),await rn("userProfile",{...I,id:"currentUser"})}}catch(b){console.error("Failed to sync pending transactions. They will be retried later.",b)}},[]),o=A.useCallback(async()=>{const v=Cn.currentUser;if(v)try{const T=await Rp(v.uid);if(T){const b={...T,emailVerified:v.emailVerified};t(b),await rn("userProfile",{...b,id:"currentUser"})}}catch(T){console.error("Failed to refetch user profile:",T)}},[]);A.useEffect(()=>{const v=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",v),()=>window.removeEventListener("online",v)},[e,s]),A.useEffect(()=>{i(!0);const v=Cn.onAuthStateChanged(async T=>{if(T&&T.email==="mgkrol99@gmail.com"){e&&t(null),i(!1);return}if(T)try{const I=await Rp(T.uid);if(I){const S={...I,emailVerified:T.emailVerified},N=qg.collection("users").doc(T.uid);!(await N.get()).exists&&I.cafeId&&T.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await N.set({cafeId:I.cafeId,email:T.email})),t(S),await rn("userProfile",{...S,id:"currentUser"}),navigator.onLine&&await s(T.uid)}else console.error(`Inconsistent state: User ${T.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Cn.signOut()}catch(I){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",I);const S=await Jr("userProfile","currentUser");S&&S.id===T.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),t(S)):(console.error(`No valid profile found for ${T.uid} online or locally. Forcing logout.`),await Cn.signOut())}finally{i(!1)}else t(null),await Ql("userProfile","currentUser"),i(!1)});return()=>v()},[s]);const c=async v=>{if(e){const T={...e,credits:{...e.credits,amount:v}};t(T),await rn("userProfile",{...T,id:"currentUser"})}},u=async(v,T)=>{try{const I=(await Cn.signInWithEmailAndPassword(v,T)).user;if(!I)throw new Error("No Firebase user returned after sign-in.");const S=await Rp(I.uid);if(!S)throw await Cn.signOut(),new Error("User profile not found in database.");const N={...S,emailVerified:I.emailVerified};return t(N),await rn("userProfile",{...N,id:"currentUser"}),N}catch(b){throw console.error("Firebase login error:",b),b}},h=async(v,T,b)=>{try{const I=await Cn.createUserWithEmailAndPassword(v,T);if(I.user){await I.user.sendEmailVerification();const S=await PH(I.user,b);return S&&S.cafeId?await qg.collection("users").doc(I.user.uid).set({cafeId:S.cafeId,email:I.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Cn.signOut(),!0}return!1}catch(I){throw console.error("Signup error:",I),I}},p=async()=>{await Cn.signOut(),t(null),await Ql("userProfile","currentUser")},y=async v=>{await Cn.sendPasswordResetEmail(v)},_=async()=>{if(Cn.currentUser)await Cn.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return m.jsx(uN.Provider,{value:{user:e,loading:r,login:u,signup:h,logout:p,sendPasswordReset:y,resendVerificationEmail:_,updateUserCredits:c,refetchUser:o},children:n})},Ca=()=>{const n=A.useContext(uN);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},Vh={},eg={},A1=new Set,RH=()=>{A1.forEach(n=>n())},DH=async n=>{if(!eg[n]){eg[n]="fetching";try{const e=await fetch(`https://datas.gitut.com/data/json/translate/${n}.json?t=${Date.now()}`);if(e.ok){const t=await e.json();Vh[n]=t}else Vh[n]={}}catch(e){console.warn(`Failed to fetch remote translations for ${n}`,e),Vh[n]={}}finally{eg[n]="done",RH()}}},h0=(n,e)=>{if(n)return e.split(".").reduce((t,r)=>t&&t[r],n)},jn=()=>{const n=An(),e=A.useMemo(()=>{const u=n.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return u?u[1]:null},[n.pathname]),t=e||"dz",r=A.useMemo(()=>yH(t),[t]),i=r==="ar"?"rtl":"ltr",[s,o]=A.useState(0);A.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=i},[r,i]),A.useEffect(()=>{eg[t]||DH(t);const u=()=>o(h=>h+1);return A1.add(u),()=>{A1.delete(u)}},[t]);const c=A.useCallback((u,h)=>{let p;if(Vh[t]&&(p=h0(Vh[t],u)),!p){const y=Kg[r];p=h0(y,u)}if(!p){const y=Kg.en;p=h0(y,u)}return p||(p=u),h&&Object.keys(h).forEach(y=>{p=p.replace(new RegExp(`\\{${y}\\}`,"g"),String(h[y]))}),p},[r,t,s]);return{language:r,t:c,dir:i,countryCode:e}},FH=()=>{const{user:n,logout:e}=Ca(),t=hs(),{t:r,countryCode:i,language:s}=jn(),[o,c]=A.useState("G"),[u,h]=A.useState(!1),[p,y]=A.useState(!1),[_,v]=A.useState(!1),T=A.useRef(null),b=i?`/${i}/`:"/",I=A.useMemo(()=>pi[s]||pi.en,[s]),S=A.useMemo(()=>{const F=new Set;return Object.values(pi).forEach(R=>R.forEach(O=>F.add(O.code))),Array.from(F)},[]),N=A.useMemo(()=>S.map(F=>I.find(R=>R.code===F)||pi.en.find(R=>R.code===F)||{name:F.toUpperCase(),code:F,phoneCode:"",flag:""}).sort((F,R)=>F.name.localeCompare(R.name,s)),[S,I,s]),L=A.useMemo(()=>i?N.find(F=>F.code===i):null,[i,N]);A.useEffect(()=>{let F,R;const O=setInterval(()=>{h(!0),R=setTimeout(()=>{c(B=>B==="G"?"@":"G")},250),F=setTimeout(()=>{h(!1)},500)},2500);return()=>{clearInterval(O),clearTimeout(F),clearTimeout(R)}},[]),A.useEffect(()=>{const F=R=>{T.current&&!T.current.contains(R.target)&&y(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const z=()=>{e(),t("/")},$=F=>{y(!1),t(F==="global"?"/":`/${F}/`)},Y=F=>{i||(F.preventDefault(),v(!0))};return m.jsxs(m.Fragment,{children:[m.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:m.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(Ot,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),m.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[m.jsx("span",{className:`char-flipper ${u?"swapping":""}`,children:o}),"itut"]})]}),m.jsxs("div",{className:"relative",ref:T,children:[m.jsxs("button",{onClick:()=>y(!p),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[L?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-xl",children:L.flag}),m.jsx("span",{className:"font-semibold text-gray-800",children:L.name})]}):m.jsxs(m.Fragment,{children:[m.jsx(_h,{className:"text-gray-600"}),m.jsx("span",{className:"font-semibold text-gray-800",children:r("header.allCountries")})]}),m.jsx(yS,{className:"text-gray-500 text-xs"})]}),p&&m.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:m.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[m.jsx("li",{children:m.jsxs("button",{onClick:()=>$("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[m.jsx(_h,{className:"text-gray-600"}),m.jsx("span",{children:r("header.allCountriesSearch")})]})}),N.map(F=>m.jsx("li",{children:m.jsxs("button",{onClick:()=>$(F.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[m.jsx("span",{className:"text-xl",children:F.flag}),m.jsx("span",{children:F.name})]})},F.code))]})})]})]}),m.jsx("nav",{className:"flex items-center gap-6",children:n?m.jsxs(m.Fragment,{children:[m.jsx(Ot,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),m.jsx("button",{onClick:z,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ot,{to:b,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),m.jsx(Ot,{to:`/${i||"dz"}/login/`,onClick:Y,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),_&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>v(!1),children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:F=>F.stopPropagation(),children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:r("header.selectCafeCountry")}),m.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:N.map(F=>m.jsx("li",{children:m.jsxs(Ot,{to:`/${F.code}/login/`,onClick:()=>v(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"text-2xl",children:F.flag}),m.jsx("span",{className:"font-semibold",children:F.name})]})},F.code))})]})})]})},dN=A.createContext(void 0),LH=({children:n})=>{const[e,t]=A.useState(null),r=(s,o)=>{const c="mgkrol99@gmail.com";return s===c&&o==="@Youyou1936@"?(t({id:"admin-user",email:c,role:"admin"}),!0):!1},i=()=>{t(null)};return m.jsx(dN.Provider,{value:{admin:e,login:r,logout:i},children:n})},pb=()=>{const n=A.useContext(dN);if(n===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return n},hN=A.createContext(void 0),OH=({children:n})=>{const{user:e,loading:t}=Ca(),{admin:r}=pb(),i=An(),s=i.pathname.startsWith("/admin"),o=i.pathname.includes("/app"),[c,u]=A.useState([]),[h,p]=A.useState([]),[y,_]=A.useState([]),[v,T]=A.useState([]),[b,I]=A.useState([]),[S,N]=A.useState(null),[L,z]=A.useState([]),[$,Y]=A.useState([]),[F,R]=A.useState([]),[O,B]=A.useState([]),[W,D]=A.useState([]),[M,C]=A.useState([]),[te,xe]=A.useState([]),[ee,Z]=A.useState([]),[K,ie]=A.useState([]),[j,H]=A.useState([]),[Te,re]=A.useState(null),[fe,de]=A.useState(null),[ke,ue]=A.useState(!0),[Ce,Le]=A.useState(!0),[Ae,ot]=A.useState(!1),[lt,P]=A.useState(null),me=ae=>ae?ae.map(ye=>{if(!ye)return ye;const Ie=Pe=>{if(!Pe)return;if(Pe instanceof On.firestore.Timestamp)return Pe;if(typeof Pe=="object"&&Pe!==null&&typeof Pe.seconds=="number"&&typeof Pe.nanoseconds=="number")return new On.firestore.Timestamp(Pe.seconds,Pe.nanoseconds);const We=new Date(Pe);if(!isNaN(We.getTime()))return On.firestore.Timestamp.fromDate(We)};return{...ye,createdAt:Ie(ye.createdAt)||On.firestore.Timestamp.now(),publishedAt:Ie(ye.publishedAt)}}):[],ge=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[ae,ye,Ie,Pe,We,Ze,ut,It,ft,Pt,_n,Gt]=await Promise.all([Hn("cafes"),Hn("fullDocuments"),Hn("staticDocuments"),Hn("sites"),Hn("baseTemplates"),Jr("siteSettings","main"),Hn("codes"),Hn("pages"),Hn("blogPosts"),Hn("ads"),Hn("voice_prompts"),Jr("offlineMetadata","syncStatus")]);if(ye.length>0||ae.length>0)return p(ye),u(ye),_(Ie),B(Pe),T(ae),H(We),N(Ze),Z(ut),z(It),Y(me(ft)),R(Pt),ie(_n),console.log("Successfully loaded admin dashboard data from IndexedDB."),(Gt==null?void 0:Gt.version)||0}catch(ae){console.error("Could not load admin dashboard data from IndexedDB:",ae)}return 0},Q=A.useCallback(async ae=>{const[ye,Ie,Pe,We,Ze,ut,It,ft,Pt,_n,Gt,bi,ti]=await Promise.all([P1(),so(),i_.getAll(),Ef(),k1.getAll(),lN.getAll(),oN.getAll(),Qg.getAll(),W4.getAll(),H4.getAll(),cN.getAll(),U4(),q4()]),lr=await fetch("https://datas.gitut.com/data/json/site-seo.json"),En=lr.ok?await lr.json():{},st=me(ut);u(Ie),p(Ie),_(Pe),T(ye),Z(Pt),ie(_n),H(Gt),re(bi),de(ti);const bt={...Hr,...We||{},seo:{...(We==null?void 0:We.seo)||{},...En},payment:{...Hr.payment,...(We==null?void 0:We.payment)||{}},pricing:{...Hr.pricing,...(We==null?void 0:We.pricing)||{}},social:{...Hr.social,...(We==null?void 0:We.social)||{}},ads:{...Hr.ads,...(We==null?void 0:We.ads)||{}},ai:{...Hr.ai,...(We==null?void 0:We.ai)||{}}};N(bt),z(Ze),Y(st),R(It),B(ft);const cr=[...Ie.map(Nn=>({...Nn,serviceType:"doc"})),...Pe.map(Nn=>({...Nn,serviceType:"static-doc"})),...ft.map(Nn=>({...Nn,serviceType:"site"}))];I(cr),await Promise.all([$n("cafes",ye),$n("fullDocuments",Ie),$n("staticDocuments",Pe),$n("sites",ft),$n("baseTemplates",Gt),$n("codes",Pt),$n("pages",Ze),$n("blogPosts",st),$n("ads",It),$n("voice_prompts",_n),rn("siteSettings",{...bt,id:"main"}),rn("offlineMetadata",{id:"syncStatus",version:ae})])},[]),G=A.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");ue(!0);try{const{version:ae}=await z4();await Q(ae)}finally{ue(!1)}},[r,Q]),J=A.useCallback(async()=>{try{console.log("Refetching all cafes...");const ae=await P1();T(ae),await $n("cafes",ae),console.log("Cafes refetched and cache updated.")}catch(ae){console.error("Failed to refetch cafes:",ae)}},[]);A.useEffect(()=>{const ae=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Ie,Pe,We,Ze,ut,It,ft]=await Promise.all([Hn("cafes"),Hn("fullDocuments"),Hn("staticDocuments"),Hn("sites"),Hn("baseTemplates"),Jr("siteSettings","main"),Hn("codes")]);if(Pe.length>0)return T(Ie),p(Pe),_(We),B(Ze),H(ut),N(It),Z(ft),u(Pe),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Ie){console.error("Could not load user dashboard data from IndexedDB:",Ie)}return!1};(async()=>{if(!t){if(s&&!r){ue(!1),Le(!1);return}if(ue(!0),P(null),s&&r){const Ie=await ge();ue(!1);try{const{version:Pe}=await z4();Pe>Ie?(console.log(`New data version available. Local: ${Ie}, Remote: ${Pe}. Syncing...`),await Q(Pe),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Pe){const We=Pe instanceof Error?Pe.message:String(Pe);console.error("Could not check for remote data updates. Running on cached data.",Pe),Ie===0&&(We.includes("no such table: data_versions")?P("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):P(We))}}else if(!s){o&&e&&await ae()&&ue(!1);try{const Ie=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Pe=Ie?Ie[1]:null,We=e?W4.getAll():Promise.resolve([]),Ze=e?H4.getAll():Promise.resolve([]),ut=e?U4():Promise.resolve(null),It=e?q4():Promise.resolve(null),ft=e?Ef():Promise.resolve(null),Pt=e!=null&&e.cafeId?SH(e.cafeId):Promise.resolve(null);if(Pe){const lr=j4(Pe),En=B4(Pe),[st,bt,cr,Nn,Pa,Dr,ka,Fr]=await Promise.all([lr,En,We,Ze,ut,It,ft,Pt]);let ms=Array.isArray(st.cafes)?st.cafes:[];if(Fr){const Ws=ms.findIndex(ni=>ni.id===Fr.id);Ws>-1?ms[Ws]=Fr:ms.push(Fr)}u(Array.isArray(st.documents)?st.documents:[]),_(Array.isArray(st.staticDocuments)?st.staticDocuments:[]),T(ms);const an=ka?{...st.siteSettings,...ka,ads:st.siteSettings.ads}:st.siteSettings;N(an),z(Array.isArray(st.pages)?st.pages:[]),Y(Array.isArray(st.blogPosts)?st.blogPosts:[]),R(Array.isArray(st.ads)?st.ads:[]),B(Array.isArray(st.sites)?st.sites:[]),I(Array.isArray(st.services)?st.services:[]),D(Array.isArray(bt==null?void 0:bt.wilayas)?bt.wilayas:[]),C(Array.isArray(bt==null?void 0:bt.dairas)?bt.dairas:[]),xe(Array.isArray(bt==null?void 0:bt.communes)?bt.communes:[]),Le(!1)}else{Le(!0);const[lr,En,st]=await Promise.all([wH(),j4("dz"),B4("dz")]),bt=Array.isArray(lr)?lr:[];I(bt),T([]);const cr=bt.filter(Dr=>Dr.serviceType==="doc"),Nn=bt.filter(Dr=>Dr.serviceType==="static-doc"),Pa=bt.filter(Dr=>Dr.serviceType==="site");u(cr),_(Nn),B(Pa),N(En.siteSettings),z(Array.isArray(En.pages)?En.pages:[]),Y(Array.isArray(En.blogPosts)?En.blogPosts:[]),R(Array.isArray(En.ads)?En.ads:[]),D(Array.isArray(st==null?void 0:st.wilayas)?st.wilayas:[]),C(Array.isArray(st==null?void 0:st.dairas)?st.dairas:[]),xe(Array.isArray(st==null?void 0:st.communes)?st.communes:[]),Le(!1)}const[_n,Gt,bi,ti]=await Promise.all([We,Ze,ut,It]);Z(Array.isArray(_n)?_n:[]),e&&Array.isArray(_n)&&await $n("codes",_n),ie(Array.isArray(Gt)?Gt:[]),re(bi),de(ti)}catch(Ie){console.error("Failed to load application data:",Ie),P(Ie instanceof Error?Ie.message:"An unknown error occurred.")}finally{ue(!1)}}}})()},[i.pathname,s,o,e,r,t,Q]);const we=A.useCallback(async()=>{if(h.length===0){ot(!0);try{const ae=await Hn("fullDocuments");if(ae.length>0)p(ae);else{const ye=await so(),Ie=Array.isArray(ye)?ye:[];p(Ie),await $n("fullDocuments",Ie)}}catch(ae){console.error("Failed to load full documents:",ae)}finally{ot(!1)}}},[h.length]),Se=A.useCallback(ae=>{const ye=me([ae])[0];Y(Ie=>[ye,...Ie].sort((Pe,We)=>{const Ze=(Pe.publishedAt||Pe.createdAt).toDate();return(We.publishedAt||We.createdAt).toDate().getTime()-Ze.getTime()}))},[]),q=A.useCallback((ae,ye)=>{Y(Ie=>Ie.map(Pe=>Pe.id===ae?me([{...Pe,...ye}])[0]:Pe))},[]),pe=A.useCallback(ae=>{Y(ye=>ye.filter(Ie=>Ie.id!==ae))},[]),Ee={documents:c,fullDocuments:h,staticDocuments:y,cafes:v,services:b,siteSettings:S,pages:L,blogPosts:$,ads:F,sites:O,wilayas:W,dairas:M,communes:te,codes:ee,voicePrompts:K,baseTemplates:j,excelCommands:Te,documentCommands:fe,loading:ke,locationsLoading:Ce,loadingFullDocuments:Ae,error:lt,loadFullDocuments:we,refetchAdminData:G,refetchCafes:J,addBlogPost:Se,updateBlogPost:q,deleteBlogPost:pe};return m.jsx(hN.Provider,{value:Ee,children:n})},Er=()=>{const n=A.useContext(hN);if(n===void 0)throw new Error("useData must be used within a DataProvider");return n},f0=({type:n,url:e})=>{const t={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(n){case"facebook":return m.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:m.jsx(W1,{...t})});case"twitter":return m.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:m.jsx(gS,{...t})});case"instagram":return m.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:m.jsx(pS,{...t})});default:return null}},MH=()=>{const{siteSettings:n,blogPosts:e,loading:t}=Er(),{t:r,language:i}=jn(),o=An().pathname.match(/^\/([a-z]{2})(?:\/|$)/),c=o?o[1]:"dz",u=A.useMemo(()=>e.some(b=>b.enabled&&b.content&&b.content[i]),[e,i]),h=A.useMemo(()=>{const b=i==="ar"?"/blog/":`/blog/${i}/`,I=_H.find(N=>N.code===i),S=i==="ar"?r("footer.blog"):`Blog (${(I==null?void 0:I.name)||i.toUpperCase()})`;return{path:b,linkText:S}},[i,r]);if(t||!n)return m.jsx("footer",{className:"bg-white border-t mt-auto",children:m.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const p=n.social&&n.social[c]||n.social&&n.social.default||{facebook:"",twitter:"",instagram:""},y=n.seo&&n.seo[c]||n.seo&&n.seo.default||{siteName:"Gitut"},_=p.facebook||p.twitter||p.instagram,T=(n.footerPages||[]).filter(b=>b.lang===i||!b.lang&&i==="ar");return m.jsx("footer",{className:"bg-white border-t mt-auto",children:m.jsx("div",{className:"container mx-auto px-4 py-8",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(T.length>0||u)&&m.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[u&&m.jsx("a",{href:`https://gitut.com${h.path}`,className:"hover:text-green-600 hover:underline",children:h.linkText}),m.jsx("a",{href:`https://gitut.com/${c}/services/`,className:"hover:text-green-600 hover:underline",children:r("footer.services")}),T.map(b=>m.jsx("a",{href:`https://gitut.com/${c}/page/${b.slug}/`,className:"hover:text-green-600 hover:underline",children:b.title},b.slug))]}),_&&m.jsxs("div",{className:"flex justify-center gap-6",children:[p.facebook&&m.jsx(f0,{type:"facebook",url:p.facebook}),p.twitter&&m.jsx(f0,{type:"twitter",url:p.twitter}),p.instagram&&m.jsx(f0,{type:"instagram",url:p.instagram})]}),m.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",y.siteName,". ",r("footer.rightsReserved")]})]})})})},pr=(n,e,t=!0)=>{const r=t?`meta[property='${n}']`:`meta[name='${n}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(t?"property":"name",n),document.head.appendChild(i)),i.setAttribute("content",e)},VH=()=>{const{siteSettings:n,loading:e}=Er(),{countryCode:t,language:r}=jn(),i=An(),s=i.pathname.startsWith("/admin"),o=/^\/[a-z]{2}\/app/.test(i.pathname),c="G-2BKKWGCXWX";return A.useEffect(()=>{if(document.getElementById("adsense-script"))return;const u=document.createElement("script");u.id="adsense-script",u.async=!0,u.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5971652204144737",u.crossOrigin="anonymous",document.head.appendChild(u)},[]),A.useEffect(()=>{if(e||!c||document.getElementById("gtag-script")||s||o)return;const u=document.createElement("script");u.id="gtag-script",u.src=`https://www.googletagmanager.com/gtag/js?id=${c}`,u.async=!0,document.head.appendChild(u),window.dataLayer=window.dataLayer||[];function h(...p){window.dataLayer.push(arguments)}window.gtag=h,h("js",new Date),h("config",c)},[e,c,s,o]),A.useEffect(()=>{!e&&c&&typeof window.gtag=="function"&&!s&&!o&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,c,s,o]),A.useEffect(()=>{var b,I;if(e||!n)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(S=>S.remove());const u=((b=n.seo)==null?void 0:b[t])||((I=n.seo)==null?void 0:I.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},h="https://blogger.googleusercontent.com/img/a/AVvXsEjIwicMdgBHGgVbeX1gPl9n9PhWFzZvLJ5hiGy923-34GGSM59Q5EwGmpmUibE3dexwLH6tk_Y_3QYLIUZC2YA9L3xhY4XVNVW1HCi1UoZhNv-RYbnOjtxMIXo014Yg4Eqv9bCQ5d6z4j4NnKoE7fpQvW7Dla3Y5QFk0N0I28kNCfnDBGWXq0Rx5VC7f58=s16000",p=i.pathname.match(/\/profile\/(\d+)/),y=i.pathname.match(/\/site\/([^/]+)/),_=i.pathname.match(/\/doc\/([^/]+)/),v=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!p&&!y&&!_&&!v){const S=`${u.siteName} ${u.titleSeparator} ${u.tagline}`,N=u.metaDescription;let L="en_US";switch(r){case"ar":L="ar_AR";break;case"fr":L="fr_FR";break;case"de":L="de_DE";break;case"es":L="es_ES";break;case"tr":L="tr_TR";break;case"ja":L="ja_JP";break}document.title=S,pr("description",N,!1),pr("og:title",S),pr("og:description",N),pr("og:site_name",u.siteName),pr("og:url",window.location.href),pr("og:image",h),pr("og:image:secure_url",h),pr("og:image:width","1200"),pr("og:image:height","630"),pr("og:type","website"),pr("og:locale",L),pr("twitter:card","summary_large_image",!1),pr("twitter:url",window.location.href,!1),pr("twitter:title",S,!1),pr("twitter:description",N,!1),pr("twitter:image",h,!1)}let T=document.querySelector("link[rel*='icon']");T||(T=document.createElement("link"),T.rel="icon",document.head.appendChild(T)),T.href="https://blogger.googleusercontent.com/img/a/AVvXsEjkGCrmp8eAGwzm3xT-8tifWeZwI6pwDti7gvpVxpW7aIMFfrxutIq8MaQVwWSonlisheakMWk_thkwsaiHUTGbGLsCkyIsER605MilN4jS184MEpAE_XOIl-L6qyNyVp9DKFv5mpOh8miC5A70cZeriTb45X94VYrmW1QhspDSXtSo2MJMuDECpGPTYpI"},[i.pathname,n,t,e,s,o,r]),null},Q4="1.0",jH="document-templates-v1",fN=A.createContext(void 0),BH=({children:n})=>{const[e,t]=A.useState(!0),[r,i]=A.useState(!1),[s,o]=A.useState(""),[c,u]=A.useState(null);A.useEffect(()=>{(async()=>{try{const y=await Jr("offlineMetadata","syncStatus");y&&y.version===Q4?t(!0):t(!1)}catch(y){console.error("Could not check offline status, assuming not ready.",y),t(!1)}})()},[]);const h=A.useCallback(async()=>{i(!0),u(null),o(" ...");try{o("   ...");const[p,y,_,v,T]=await Promise.all([so(),i_.getAll(),Qg.getAll(),cN.getAll(),Ef()]);o("     ..."),await Promise.all([$n("fullDocuments",p),$n("staticDocuments",y),$n("sites",_),$n("baseTemplates",v),rn("siteSettings",{...T,id:"main"})]),o("   ...");const b=p.map(S=>S.finalTemplateUrl).filter(S=>!!S);await(await caches.open(jH)).addAll(b),o("  ..."),await rn("offlineMetadata",{id:"syncStatus",version:Q4,lastUpdated:new Date().toISOString()}),t(!0)}catch(p){console.error("Offline sync failed:",p);let y="     .";p instanceof Error&&(p.message.includes("404")?y="    ( 404).      .        .":p.message.toLowerCase().includes("failed to fetch")?y="  .     .":y=p.message),u(y)}finally{i(!1),o("")}},[]);return m.jsx(fN.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:c,startSync:h},children:n})},Qq=()=>{const n=A.useContext(fN);if(n===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return n},N1=new URL("/api/gun",window.location.origin);N1.protocol=N1.protocol==="https:"?"wss:":"ws:";const mN=N1.toString();console.log(`[Gun.js] Attempting to connect to peer: ${mN}`);const zH=[mN];let pN=null;typeof window<"u"&&window.Gun&&(pN=window.Gun({peers:zH}));const cn=pN,UH=1e4,lh=35e3,gN=A.createContext(void 0),Dp=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,WH=({children:n})=>{const{user:e}=Ca(),{admin:t}=pb(),{cafes:r}=Er(),[i,s]=A.useState(null),[o,c]=A.useState(!1),[u,h]=A.useState(new Set),p=A.useRef(new Map);A.useEffect(()=>{let b=localStorage.getItem("gitut_visitor_id");b||(b=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",b)),s(b)},[]),A.useEffect(()=>{if(!cn)return;const b=()=>{const S=Date.now();t?cn.get("presence").get("admin").put(S):e!=null&&e.cafeId&&cn.get("presence").get("cafes").get(e.cafeId).put(S)};b();const I=setInterval(b,UH);return()=>clearInterval(I)},[e==null?void 0:e.cafeId,t]),A.useEffect(()=>{if(cn){if(e!=null&&e.cafeId){const b=cn.get("presence").get("admin");let I=0;const S=L=>{I=typeof L=="number"?L:0,c(Date.now()-I<lh)};b.on(S);const N=setInterval(()=>{c(Date.now()-I<lh)},5e3);return()=>{b.off(),clearInterval(N)}}if(t){const b=cn.get("presence").get("cafes");b.map().on((S,N)=>{typeof S=="number"&&p.current.set(N,S)});const I=setInterval(()=>{const S=Date.now(),N=new Set;p.current.forEach((L,z)=>{S-L<lh&&N.add(z)}),h(N)},5e3);return()=>{b.off(),clearInterval(I)}}}},[e==null?void 0:e.cafeId,t]);const y=b=>{const[I,S]=A.useState(null);return A.useEffect(()=>{if(!b||!cn){S(null);return}const N=cn.get("presence").get("cafes").get(b);let L=0;const z=Y=>{const F=typeof Y=="number"?Y:typeof Y=="string"?parseInt(Y,10):0;F>0&&(L=F,S(Date.now()-L<lh))};N.on(z);const $=setInterval(()=>{L>0&&S(Date.now()-L<lh)},5e3);return()=>{N.off(),clearInterval($)}},[b]),{isOnline:I}},_=b=>{const[I,S]=A.useState([]),N=A.useRef(new Set);A.useEffect(()=>{if(!b||!cn)return;N.current.clear(),S([]);const z=cn.get("chats").get(b),$=(Y,F)=>{Y&&typeof Y=="object"&&Y.text&&!N.current.has(F)&&(N.current.add(F),S(R=>R.some(O=>O.id===F)?R:[...R,{id:F,...Y}].sort((O,B)=>O.timestamp-B.timestamp)))};return z.map().on($),()=>z.off()},[b]);const L=A.useCallback(z=>{if(!b||!i||!cn)return;const $={text:z,senderId:i,senderName:"Visitor",timestamp:Date.now()};cn.get("chats").get(b).get(Dp()).put($)},[b,i]);return{messages:I,sendMessage:L}},v=()=>{const[b,I]=A.useState({unread:!1,messages:[]}),[S,N]=A.useState(new Map),L=e==null?void 0:e.cafeId,z=A.useMemo(()=>r.find(B=>B.id===L),[r,L]);A.useEffect(()=>{if(!L||!cn)return;const B=cn.get("chats").get(`support-${L}`);B.map().on((D,M)=>{if(D&&D.text){const C={id:M,...D};I(te=>te.messages.some(ee=>ee.id===M)?te:{messages:[...te.messages,C].sort((ee,Z)=>ee.timestamp-Z.timestamp),lastMessage:C,unread:C.senderId!==L&&!te.messages.some(ee=>ee.id===M)})}});const W=cn.get("chats").get(L);return W.map().on((D,M)=>{if(D&&D.text){const C={id:M,...D},te=C.senderId;if(te===L)return;N(xe=>{const ee=new Map(xe),Z=ee.get(te)||{messages:[]};if(Z.messages.some(ie=>ie.id===M))return xe;const K=[...Z.messages,C].sort((ie,j)=>ie.timestamp-j.timestamp);return ee.set(te,{messages:K,lastMessage:C,unread:!Z.messages.some(ie=>ie.id===M)}),ee})}}),()=>{B.off(),W.off()}},[L]);const $=A.useCallback(B=>{if(!L)return;const W={text:B,senderId:L,senderName:(z==null?void 0:z.name)||"Cafe",timestamp:Date.now()};cn.get("chats").get(`support-${L}`).get(Dp()).put(W)},[L,z]),Y=A.useCallback((B,W)=>{if(!L)return;const D={text:W,senderId:L,senderName:(z==null?void 0:z.name)||"Cafe",timestamp:Date.now()};cn.get("chats").get(L).get(Dp()).put(D)},[L,z]),F=A.useCallback(()=>I(B=>({...B,unread:!1})),[]),R=A.useCallback(B=>{N(W=>{const D=W.get(B);if(!D)return W;const M=new Map(W);return M.set(B,{...D,unread:!1}),M})},[]),O=(b.unread?1:0)+Array.from(S.values()).filter(B=>B.unread).length;return{adminConversation:b,visitorConversations:S,sendMessageToAdmin:$,sendMessageToVisitor:Y,markAdminAsRead:F,markVisitorAsRead:R,totalUnreadCount:O,isAdminOnline:o}},T=()=>{const[b,I]=A.useState(new Map),[S,N]=A.useState(null),[L,z]=A.useState([]);A.useEffect(()=>{!t||!cn||r.forEach(R=>{const O=`support-${R.id}`;cn.get("chats").get(O).map().on((B,W)=>{if(B&&B.text){const D={id:W,...B};I(M=>{const C=new Map(M),te=C.get(R.id);return(!te||D.timestamp>te.lastMessage.timestamp)&&C.set(R.id,{lastMessage:D,unread:D.senderId!=="admin"&&(!te||D.timestamp>te.lastMessage.timestamp),cafeName:R.name}),C}),S===R.id&&z(M=>M.some(C=>C.id===W)?M:[...M,D].sort((C,te)=>C.timestamp-te.timestamp))}})})},[t,r,S]);const $=R=>{N(R),z([]);const O=`support-${R}`;cn.get("chats").get(O).map().once((B,W)=>{B&&B.text&&z(D=>D.some(M=>M.id===W)?D:[...D,{id:W,...B}].sort((M,C)=>M.timestamp-C.timestamp))}),I(B=>{const W=new Map(B),D=W.get(R);return D&&W.set(R,{...D,unread:!1}),W})},Y=R=>{if(!S)return;const O={text:R,senderId:"admin",senderName:"",timestamp:Date.now()};cn.get("chats").get(`support-${S}`).get(Dp()).put(O)},F=Array.from(b.values()).filter(R=>R.unread).length;return{conversations:b,messages:L,currentConversationId:S,selectConversation:$,sendMessage:Y,unreadConversationsCount:F,onlineCafeIds:u}};return m.jsx(gN.Provider,{value:{visitorId:i,usePresence:y,useVisitorChat:_,useCafeChatManager:v,useAdminChatManager:T},children:n})},gb=()=>{const n=A.useContext(gN);if(n===void 0)throw new Error("useRealtime must be used within a RealtimeProvider");return n},Fp=n=>n?n.replace(/[]/g,"").replace(//g,""):"",Y4=()=>{const{services:n,loading:e}=Er(),t=hs(),{countryCode:r}=zi(),{t:i,language:s}=jn(),o=!r,[c,u]=A.useState(!1),h=A.useMemo(()=>[{title:o?"Gitut:    ":i("findPage.hero.title1"),subtitle:o?"        .":i("findPage.hero.subtitle1")},{title:o?"    ":i("findPage.hero.title2"),subtitle:o?"         .":i("findPage.hero.subtitle2")}],[i,o]),[p,y]=A.useState(0),_=A.useMemo(()=>pi[s]||pi.ar,[s]),v=A.useMemo(()=>o?n:n.filter(Z=>!Z.countryCode||Z.countryCode===r),[n,r,o]);A.useEffect(()=>{if(e)return;const Z=setInterval(()=>{y(K=>(K+1)%h.length)},7e3);return()=>clearInterval(Z)},[h.length,e]);const[T,b]=A.useState(""),[I,S]=A.useState([]),[N,L]=A.useState(!1),[z,$]=A.useState([]),[Y,F]=A.useState(!1),R=A.useRef(null),O=window.SpeechRecognition||window.webkitSpeechRecognition,B=!!O;A.useEffect(()=>{if(o)if(T.trim()){const Z=Fp(T.toLowerCase()),K=v.filter(ie=>Fp(ie.name.toLowerCase()).includes(Z)).map(ie=>({...ie,type:"service"}));S(K)}else S([]);else if(T.trim()){const Z=Fp(T.toLowerCase()),K=v.filter(ie=>Fp(ie.name.toLowerCase()).includes(Z)).map(ie=>({...ie,type:"service"}));S(K)}else S([])},[T,v,o]),A.useEffect(()=>{if(!B||o)return;const Z=new O;Z.continuous=!1,Z.interimResults=!1;let K="ar-SA";switch(s){case"en":K="en-US";break;case"fr":K="fr-FR";break;case"de":K="de-DE";break;case"es":K="es-ES";break;case"tr":K="tr-TR";break;case"ja":K="ja-JP";break}return Z.lang=K,Z.onresult=ie=>b(ie.results[0][0].transcript),Z.onerror=ie=>{console.error("Speech recognition error",ie.error)},Z.onend=()=>F(!1),R.current=Z,()=>{var ie;return(ie=R.current)==null?void 0:ie.abort()}},[B,s,o]);const W=()=>{var Z,K;if(!B){alert("Your browser does not support voice search.");return}Y?(Z=R.current)==null||Z.stop():((K=R.current)==null||K.start(),F(!0))},D=Z=>{b(""),z.find(K=>K.id===Z.id&&K.serviceType===Z.serviceType)||$(K=>[...K,Z])},M=(Z,K)=>{$(ie=>ie.filter(j=>!(j.id===Z&&j.serviceType===K)))},C=Z=>{Z.preventDefault();const K=z.filter(j=>j.serviceType==="doc"||j.serviceType==="site");if(K.length===0){o?u(!0):alert(i("findPage.alert.selectFillable"));return}const ie=K.map(j=>j.id);t(`/${r||"dz"}/find-cafe`,{state:{documentIds:ie}})},te=()=>{if(z.length!==1)return;const Z=z[0],K=Z.slug||Z.id,ie=!Z.countryCode||Z.countryCode==="global",j=ie?"/go-to-site/internal-form":`/${r||"dz"}/go-to-site/internal-form`,H=ie?`/public-form/${K}`:`/${r||"dz"}/public-form/${K}`;t(j,{state:{targetUrl:H,siteName:` : ${Z.name}`}})},xe=Z=>{u(!1),t(`/${Z}/`)},ee=z.filter(Z=>Z.serviceType==="doc"||Z.serviceType==="site").length;return m.jsxs("div",{className:"space-y-8",children:[m.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:e?m.jsx("div",{className:"flex justify-center",children:m.jsx(Xr,{className:"animate-spin text-green-600 text-2xl"})}):m.jsxs("div",{className:"fade-in-text",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:h[p].title}),m.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:h[p].subtitle})]},p+(o?"g":"l"))}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:o?"      ":i("findPage.step1.title")}),m.jsx("form",{onSubmit:C,children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:o?m.jsx(_h,{className:"h-5 w-5"}):m.jsx(sg,{className:"h-5 w-5"})}),m.jsx("input",{type:"text",placeholder:o?"      ...":i("findPage.step1.placeholder"),value:T,onChange:Z=>b(Z.target.value),onFocus:()=>{o&&!T?u(!0):L(!0)},onBlur:()=>setTimeout(()=>L(!1),200),className:"p-4 pr-12 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg shadow-inner"}),B&&!o&&m.jsx("button",{type:"button",onClick:W,title:i("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${Y?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:m.jsx(TS,{className:"h-5 w-5"})}),o&&m.jsx("button",{type:"button",onClick:()=>u(!0),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 p-3 hover:text-green-600 transition-colors",title:" ",children:m.jsx(yS,{className:"h-4 w-4"})}),N&&I.length>0&&m.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-2xl z-50 max-h-80 overflow-y-auto divide-y",children:I.map((Z,K)=>m.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center transition-colors",onMouseDown:()=>D(Z),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(NR,{className:"text-green-600"}),m.jsx("span",{className:"text-gray-700",children:Z.name})]}),m.jsx(BE,{className:"text-gray-300 text-xs"})]},`s-${Z.id}-${K}`))})]})})]}),m.jsx("section",{children:z.length>0?m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[m.jsxs("h3",{className:"text-xl font-semibold",children:[i("findPage.selectedDocs.title")," (",z.length,"):"]}),m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:z.map(Z=>{const K="description"in Z?Z.description:"url"in Z?Z.url:"",ie=Z.serviceType==="static-doc"?m.jsx(Xg,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):Z.serviceType==="site"?m.jsx(_h,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return m.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[ie,m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-md font-bold text-gray-900",children:Z.name}),m.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:K}})]})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[Z.serviceType==="static-doc"&&m.jsx("a",{href:`/${r||"dz"}/view/${Z.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:i("findPage.selectedDocs.viewFile")}),m.jsx("button",{onClick:()=>M(Z.id,Z.serviceType),title:i("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:m.jsx(ag,{})})]})]},`${Z.serviceType}-${Z.id}`)})}),m.jsxs("form",{onSubmit:C,className:"text-center pt-4 flex flex-col sm:flex-row justify-center gap-4",children:[z.length===1&&m.jsxs("button",{type:"button",onClick:te,className:"flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx(sg,{}),m.jsx("span",{children:":   (1)"})]}),m.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:ee===0,title:ee===0?i("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[m.jsx("span",{children:i("findPage.selectedDocs.nextStepButton",{count:ee})}),m.jsx(BE,{})]})]})]}):m.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:m.jsx("p",{className:"text-gray-600 text-lg",children:o?"       ":i("findPage.selectedDocs.emptyState")})})}),c&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4 animate-fadeIn",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform transition-all scale-100",children:[m.jsxs("div",{className:"bg-green-600 p-6 text-white flex justify-between items-center",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(_h,{}),m.jsx("span",{children:"  "})]}),m.jsx("button",{onClick:()=>u(!1),className:"hover:rotate-90 transition-transform p-2",children:m.jsx(ag,{size:20})})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"relative mb-6",children:[m.jsx(y0,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"  ...",className:"w-full p-3 pr-10 border rounded-lg focus:ring-2 focus:ring-green-500 outline-none",onChange:Z=>{}})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[50vh] overflow-y-auto pr-1",children:_.map(Z=>m.jsxs("button",{onClick:()=>xe(Z.code),className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-green-50 border border-transparent hover:border-green-200 transition-all text-right group",children:[m.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:Z.flag}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-bold text-gray-800",children:Z.name}),m.jsx("span",{className:"text-xs text-gray-400",children:Z.code.toUpperCase()})]})]},Z.code))})]}),m.jsx("div",{className:"bg-gray-50 p-4 text-center text-xs text-gray-500",children:"       "})]})})]})},bo=({placement:n})=>{const{ads:e}=Er(),t=A.useMemo(()=>e.find(r=>r.placement===n&&r.enabled),[n,e]);return t?n==="DASHBOARD_TOP"?m.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-auto object-cover"}),m.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:t.title}),m.jsx("p",{className:"text-white text-opacity-90 mt-1",children:t.content})]})]})}):n==="PROFILE_SIDEBAR"?m.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-auto object-cover"}),m.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[m.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:t.title}),m.jsx("p",{className:"text-sm text-white/90",children:t.content})]})]})}):n==="PDF_INTERSTITIAL"?m.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 my-4",children:m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-center items-center p-6 text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.title}),m.jsx("p",{className:"text-white text-lg",children:t.content}),m.jsx("span",{className:"mt-4 px-4 py-2 bg-green-600 text-white text-sm font-bold rounded hover:bg-green-700 transition-colors",children:" "})]})]})}):null:null},HH="https://pub-f25b4129424647319985a15a082e6685.r2.dev",fi=n=>n?n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:`${HH}/${n.startsWith("/")?n.substring(1):n}`:"";async function Yq(n,e,t){const i=await(await fetch(n)).blob();return new File([i],e,{type:t})}const $H=({title:n,messages:e,onSendMessage:t,currentUserId:r,isOnline:i,isLoading:s,onClose:o})=>{const[c,u]=A.useState(""),h=A.useRef(null),p=()=>{var _;(_=h.current)==null||_.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{p()},[e]);const y=_=>{_.preventDefault(),c.trim()&&(t(c.trim()),u(""))};return m.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[m.jsx("style",{children:`
                .chat-scrollbar::-webkit-scrollbar {
                    width: 8px;
                }
                .chat-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .chat-scrollbar::-webkit-scrollbar-thumb {
                    background-color: rgba(156, 163, 175, 0.5);
                    border-radius: 20px;
                    border: 2px solid transparent;
                    background-clip: content-box;
                }
                .chat-scrollbar::-webkit-scrollbar-thumb:hover {
                    background-color: rgba(107, 114, 128, 0.8);
                }
            `}),m.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg z-10",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-800",children:n}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),m.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),o&&m.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),m.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100 chat-scrollbar",children:[s?m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx(Xr,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("p",{className:"text-gray-500",children:"   ."})}):m.jsx("div",{className:"space-y-4",children:e.map(_=>{const v=_.senderId===r;return m.jsx("div",{className:`flex items-end gap-2 ${v?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${v?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!v&&m.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:_.senderName}),m.jsx("p",{className:"text-sm break-words",children:_.text}),m.jsx("p",{className:`text-xs mt-1 text-right ${v?"text-green-100":"text-gray-400"}`,children:new Date(_.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},_.id)})}),m.jsx("div",{ref:h})]}),m.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg z-10",children:m.jsxs("form",{onSubmit:y,className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",value:c,onChange:_=>u(_.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),m.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!c.trim(),children:m.jsx(ES,{})})]})})]})},yN=({url:n,title:e,description:t})=>{const{t:r}=jn(),[i,s]=A.useState(!1),[o,c]=A.useState(!1),u=A.useMemo(()=>{let b=n;const I=b.indexOf("?"),S=b.indexOf("#");let N=b,L="";if(I!==-1||S!==-1){const z=Math.min(I===-1?1/0:I,S===-1?1/0:S);N=b.substring(0,z),L=b.substring(z)}return N.endsWith(".html")&&(N=N.slice(0,-5)),N+L},[n]),h=encodeURIComponent(u),p=encodeURIComponent(e),y=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${h}&title=${p}`,icon:m.jsx(ER,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${h}&description=${p}`,icon:m.jsx(xR,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${h}&title=${p}`,icon:m.jsx(IR,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${h}&quote=${p}`,icon:m.jsx(W1,{}),color:"bg-blue-600 hover:bg-blue-700"}],_=()=>{navigator.clipboard.writeText(u).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},v=b=>{navigator.clipboard.writeText(b).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)})},T=()=>{const b=(t||"").replace(/<[^>]*>/g,""),I=b.substring(0,155)+(b.length>155?"...":""),S=`${e}

${I}

${u}`,N=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${I}</p></div>
      <a href="${u}">${u}</a>
    `;try{if(typeof ClipboardItem>"u"){v(S);return}const L=new Blob([N],{type:"text/html"}),z=new Blob([S],{type:"text/plain"}),$=new ClipboardItem({"text/html":L,"text/plain":z});navigator.clipboard.write([$]).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}).catch(Y=>{console.error("Async clipboard write failed, falling back to plain text: ",Y),v(S)})}catch(L){console.error("Failed to use Clipboard API, falling back to writeText: ",L),v(S)}};return m.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[y.map(b=>m.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${b.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${b.color}`,children:la.cloneElement(b.icon,{size:24})},b.name)),m.jsx("button",{onClick:_,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:i?m.jsx(zE,{size:22}):m.jsx(RR,{size:22})}),m.jsx("button",{onClick:T,"aria-label":r("share.copyDetails"),title:r("share.copyDetails"),className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:o?m.jsx(zE,{size:22}):m.jsx(AR,{size:22})})]})},gr=(n,e,t=!0)=>{const r=t?`meta[property='${n}']`:`meta[name='${n}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(t?"property":"name",n),document.head.appendChild(i)),i.setAttribute("content",e)},Lp=n=>n?n.replace(/[]/g,"").replace(//g,""):"",GH=n=>{const e=new Map;n.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const t=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),t.push(r[0]);return t},qH=()=>{var j,H,Te;const{countryCode:n,numericId:e}=zi(),t=An(),{documents:r,cafes:i,siteSettings:s,loading:o}=Er(),{user:c}=Ca(),{language:u}=jn(),[h,p]=A.useState(void 0),[y,_]=A.useState(!0),[v,T]=A.useState(()=>{var re;return!!((re=t.state)!=null&&re.openChat)}),{usePresence:b,useVisitorChat:I,visitorId:S}=gb(),{isOnline:N}=b(h==null?void 0:h.id),{messages:L,sendMessage:z}=I(h==null?void 0:h.id),[$,Y]=A.useState([]),[F,R]=A.useState(""),[O,B]=A.useState(!1);A.useEffect(()=>{var re,fe;if(h&&s){const de=((re=s.seo)==null?void 0:re[n||"dz"])||((fe=s.seo)==null?void 0:fe.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},ke=h.address.commune&&h.address.wilaya?` ${h.address.wilaya}  ${h.address.commune}`:"",ue=`${h.name} ${ke} ${de.titleSeparator} ${de.siteName}`,Ce=h.description?h.description.substring(0,155)+(h.description.length>155?"...":""):de.metaDescription,Le=fi(h.coverImageUrl)||"https://datas.gitut.com/data/image/gitut-og-main.png";let Ae="en_US";switch(u){case"ar":Ae="ar_AR";break;case"fr":Ae="fr_FR";break;case"de":Ae="de_DE";break;case"es":Ae="es_ES";break;case"tr":Ae="tr_TR";break;case"ja":Ae="ja_JP";break}document.title=ue,gr("description",Ce,!1),gr("og:title",ue),gr("og:description",Ce),gr("og:image",Le),gr("og:image:secure_url",Le),gr("og:image:width","1200"),gr("og:image:height","630"),gr("og:url",window.location.href),gr("og:type","profile"),gr("og:site_name",de.siteName),gr("og:locale",Ae),gr("twitter:card","summary_large_image",!1),gr("twitter:url",window.location.href,!1),gr("twitter:title",ue,!1),gr("twitter:description",Ce,!1),gr("twitter:image",Le,!1)}},[h,s,n,u]),A.useEffect(()=>{(async()=>{if(!e){_(!1);return}if(o)return;_(!0);const fe=parseInt(e,10),de=i.find(ke=>ke.numericId===fe);if(de)p(de),_(!1);else try{const ke=await CH(fe);p(ke||void 0)}catch(ke){console.error("Failed to fetch cafe by numericId:",ke),p(void 0)}finally{_(!1)}})()},[e,i,o]);const W=A.useMemo(()=>{if(!h)return[];const re=[],fe=new Set([h.id]),de=i.filter(ue=>ue.id!==h.id&&ue.isProfilePublished);return de.filter(ue=>ue.address.commune===h.address.commune&&ue.address.wilaya===h.address.wilaya).forEach(ue=>{re.length<5&&!fe.has(ue.id)&&(re.push(ue),fe.add(ue.id))}),re.length<5&&h.address.daira&&de.filter(Ce=>Ce.address.daira===h.address.daira&&Ce.address.wilaya===h.address.wilaya).forEach(Ce=>{re.length<5&&!fe.has(Ce.id)&&(re.push(Ce),fe.add(Ce.id))}),re.length<5&&de.filter(Ce=>Ce.address.wilaya===h.address.wilaya).forEach(Ce=>{re.length<5&&!fe.has(Ce.id)&&(re.push(Ce),fe.add(Ce.id))}),re},[h,i]),D=A.useMemo(()=>GH(r),[r]),M=A.useMemo(()=>h?D.filter(re=>h.services.includes(re.groupId)):[],[h,D]),C=A.useMemo(()=>{if(!F)return M;const re=Lp(F.toLowerCase());return M.filter(fe=>Lp(fe.name.toLowerCase()).includes(re))},[M,F]),te=A.useMemo(()=>{if(!F||!O)return[];const re=Lp(F.toLowerCase());return M.filter(fe=>Lp(fe.name.toLowerCase()).includes(re))},[M,F,O]),xe=re=>{Y(fe=>fe.includes(re)?fe.filter(de=>de!==re):[...fe,re])},ee=re=>{xe(re),R("")},Z=A.useMemo(()=>{if(!(h!=null&&h.address))return"";const{address:re}=h;return h.countryCode==="dz"?`${re.street||""}, ${re.commune||""}, ${re.daira||""}, ${re.wilaya||""}`.replace(/^,|,$/g,"").trim():`${re.street||""}, ${re.city||""}, ${re.state||""}`.replace(/^,|,$/g,"").trim()},[h]);if(y)return m.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:m.jsx(Xr,{className:"animate-spin text-4xl text-green-600"})});if(!h)return m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),m.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),m.jsx(Ot,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const K="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",ie="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[m.jsx("img",{src:fi(h.coverImageUrl)||ie,alt:`${h.name} cover`,className:"w-full h-48 object-cover",onError:re=>{re.currentTarget.src=ie}}),m.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[m.jsxs("main",{className:"md:col-span-3 space-y-8",children:[m.jsx(Ot,{to:`/${n}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[m.jsx("div",{className:"md:col-span-1",children:m.jsx("img",{src:fi(h.imageUrl)||K,alt:h.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:re=>{re.currentTarget.src=K}})}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:h.name}),m.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",h.owner]}),m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${N===null?"bg-gray-300 animate-pulse":N?"bg-green-500":"bg-gray-400"}`}),m.jsx("span",{className:"text-sm text-gray-600",children:N===null?" ...":N?" ":" "})]}),m.jsxs("div",{className:"space-y-3 text-gray-700",children:[m.jsxs("p",{children:[m.jsx("strong",{className:"font-semibold",children:":"})," ",Z]}),m.jsxs("p",{children:[m.jsx("strong",{className:"font-semibold",children:":"})," ",h.description]}),h.phone&&m.jsxs("p",{className:"flex items-center gap-2",children:[m.jsx(LR,{className:"text-gray-500"})," ",m.jsx("strong",{children:h.phone})]})]}),m.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[h.googleMapsUrl&&m.jsxs("a",{href:h.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[m.jsx(DR,{})," ",m.jsx("span",{children:"  "})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[((j=h.socials)==null?void 0:j.facebook)&&m.jsx("a",{href:h.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:m.jsx(W1,{size:24})}),((H=h.socials)==null?void 0:H.instagram)&&m.jsx("a",{href:h.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:m.jsx(pS,{size:24})}),((Te=h.socials)==null?void 0:Te.twitter)&&m.jsx("a",{href:h.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:m.jsx(gS,{size:24})})]})]})]})]}),m.jsxs("div",{className:"border-t pt-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),m.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),m.jsxs("div",{className:"relative mb-4",children:[m.jsx("input",{type:"text",placeholder:"   ...",value:F,onChange:re=>R(re.target.value),onFocus:()=>B(!0),onBlur:()=>setTimeout(()=>B(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),te.length>0&&m.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:te.map(re=>m.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${$.includes(re.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:fe=>{fe.preventDefault(),ee(re.id)},children:[m.jsx("span",{children:re.name}),$.includes(re.id)&&m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},re.id))})]}),m.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:C.length>0?C.map(re=>m.jsxs("button",{type:"button",onClick:()=>xe(re.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${$.includes(re.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":$.includes(re.id),children:[m.jsx("h3",{className:"font-bold text-lg text-gray-800",children:re.name}),m.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:re.description}})]},re.id)):m.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:m.jsx("p",{className:"text-gray-600",children:"    ."})})}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),m.jsxs(Ot,{to:$.length>0?`/${n}/form`:"#",state:{cafeId:h.id,selectedDocIds:$},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${$.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":$.length===0,onClick:re=>$.length===0&&re.preventDefault(),children:["   (",$.length,")"]})]})]}),m.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[m.jsx(bo,{placement:"PROFILE_SIDEBAR"}),W.length>0&&m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[m.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),m.jsx("div",{className:"space-y-3",children:W.map(re=>m.jsxs(Ot,{to:`/${re.countryCode}/profile/${re.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[m.jsx("p",{className:"font-semibold text-gray-900",children:re.name}),m.jsx("p",{className:"text-sm text-gray-500",children:re.address.commune})]},re.id))})]})]})]})]}),m.jsx(yN,{url:window.location.href,title:h.name,description:h.description}),h&&!v&&m.jsx("button",{onClick:()=>T(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:m.jsx(wS,{size:24})}),v&&h&&S&&m.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:m.jsx($H,{title:`  ${h.name}`,messages:L,onSendMessage:z,currentUserId:S,isOnline:N,onClose:()=>T(!1)})})]})},pu={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},iu={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},KH=({onClose:n,onCapture:e})=>{const t=A.useRef(null),r=A.useRef(null),i=A.useRef(null),[s,o]=A.useState(null),[c,u]=A.useState(null),h=async()=>{u(null),o(null);try{const v=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=v,t.current&&(t.current.srcObject=v)}catch(v){console.error("Error accessing camera:",v),v instanceof DOMException&&(v.name==="NotAllowedError"||v.name==="PermissionDeniedError")?u("    .      ."):u("    .          .")}};A.useEffect(()=>(h(),()=>{i.current&&i.current.getTracks().forEach(v=>v.stop())}),[]);const p=()=>{if(t.current&&r.current){const v=t.current,T=r.current;T.width=v.videoWidth,T.height=v.videoHeight;const b=T.getContext("2d");b==null||b.drawImage(v,0,0,T.width,T.height);const I=T.toDataURL("image/jpeg");o(I),i.current&&(i.current.getTracks().forEach(S=>S.stop()),i.current=null)}},y=()=>{h()},_=()=>{s&&(e(s),n())};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),m.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[c?m.jsxs("div",{className:"p-4 text-center text-white",children:[m.jsx("p",{className:"font-semibold text-red-400",children:"  "}),m.jsx("p",{className:"text-sm mt-2",children:c})]}):s?m.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):m.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),m.jsx("canvas",{ref:r,className:"hidden"})]}),m.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",onClick:y,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),m.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):m.jsx("button",{type:"button",onClick:p,disabled:!!c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),m.jsx("button",{type:"button",onClick:n,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},_N=({value:n,onChange:e})=>{const t=A.useRef(null),[r,i]=A.useState(!1),s=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){const p=new FileReader;p.onloadend=()=>{e(p.result)},p.readAsDataURL(u)}},o=()=>{e("")};return m.jsxs("div",{className:"w-full",children:[m.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:n?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover"}),m.jsx("button",{type:"button",onClick:o,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:m.jsx(IS,{})})]}):m.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),m.jsxs("div",{className:"mt-2 flex gap-2",children:[m.jsxs("button",{type:"button",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[m.jsx(MR,{}),m.jsx("span",{children:" "})]}),m.jsx("input",{type:"file",ref:t,onChange:s,accept:"image/*",className:"hidden"}),m.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(H1,{}),m.jsx("span",{children:" "})]})]}),r&&m.jsx(KH,{onClose:()=>i(!1),onCapture:e})]})},vN="https://gitut.com/api/",wN="@@??YOUYOU@@??YOUYOU1936",bN="Could not initialize Firebase Admin SDK";function TN(){return new Promise((n,e)=>{if(Cn.currentUser)return n(Cn.currentUser);const t=Cn.onAuthStateChanged(r=>{t(),r?n(r):e(new Error("User not authenticated."))})})}async function ac(n,e){var t;try{const i=await(await TN()).getIdToken(),s=await fetch(vN,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":wN},body:JSON.stringify({action:n,payload:e})});if((t=s.headers.get("Content-Type"))!=null&&t.includes("application/json")){const c=await s.json();if(!s.ok)throw new Error(c.error||`Request failed with status ${s.status}`);return c}const o=await s.text();if(!s.ok)throw new Error(o||`Request failed with status ${s.status}`);return{text:o}}catch(r){throw console.error(`Gemini Service Error (${n}):`,r),r instanceof Error&&r.message.includes(bN)?new Error("    .      ."):r}}async function*EN(n){const e="generateContentStream",t={modelRequest:n},i=await(await TN()).getIdToken(),s=await fetch(vN,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":wN},body:JSON.stringify({action:e,payload:t})});if(!s.ok||!s.body){const h=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw h.includes(bN)?new Error("    .      ."):new Error(h)}const o=s.body.getReader(),c=new TextDecoder;for(;;){const{done:u,value:h}=await o.read();if(u)break;yield c.decode(h,{stream:!0})}}async function*Jq(n,e){const t=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${n}
    \`\`\`
    `,r=EN({model:"gemini-2.5-flash",contents:t});for await(const i of r)yield i}const Xq=async n=>ac("extractJsonFromHtml",{html:n}),Zq=async n=>ac("generateContent",{modelRequest:n}),eK=async n=>ac("generateImages",{prompt:n}),QH=async(n,e,t,r)=>{const i=await ac("extractDataFromImage",{base64ImageData:n,mimeType:e,schema:t,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},tK=async(n,e,t,r)=>{const i=await ac("extractStructuredData",{transcript:n,formFields:e,schema:t,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},nK=async(n,e,t)=>ac("processSpreadsheet",{prompt:n,selectedData:e,selectionContext:t}),rK=async n=>ac("convertPdfToHtml",{pdfBase64:n}),YH=({onClose:n,onScanSuccess:e})=>{const t=A.useRef(null),r=A.useRef(null),i=A.useRef(null),[s,o]=A.useState("initializing"),[c,u]=A.useState("  ..."),[h,p]=A.useState(null),y=A.useCallback(async()=>{try{const v=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=v,t.current&&(t.current.srcObject=v,o("ready"),u(" .        ."))}catch(v){console.error("Error accessing camera:",v),p("    .    ."),o("error")}},[]);A.useEffect(()=>(y(),()=>{var v;(v=i.current)==null||v.getTracks().forEach(T=>T.stop())}),[y]);const _=async()=>{var v;if(!(s!=="ready"||!t.current||!r.current)){o("scanning"),u("    ..."),p(null);try{const T=t.current,b=r.current;b.width=T.videoWidth,b.height=T.videoHeight;const I=b.getContext("2d");I==null||I.drawImage(T,0,0,b.width,b.height);const S=b.toDataURL("image/jpeg",.9),[N,L]=S.split(","),z=((v=N.match(/:(.*?);/))==null?void 0:v[1])||"image/jpeg",F=await QH(L,z,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(F&&(F.firstName||F.lastName)){const O={fullName:`${F.firstName||""} ${F.lastName||""}`.trim(),firstName:F.firstName||"",lastName:F.lastName||"",firstNameFr:F.firstNameFr||"",lastNameFr:F.lastNameFr||"",birthdaydate:F.birthdaydate||"",birthdayplace:F.birthdayplace||"",nationalId:F.nationalId||"",bloodType:F.bloodType||""};e(O)}else u("     .     ."),o("ready")}catch(T){console.error("Scanning error with Gemini:",T);const b=T instanceof Error?T.message:"An unknown error occurred.";p(`   : ${b}`),o("ready")}}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[m.jsx("button",{onClick:n,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:m.jsx(ag,{size:20})}),m.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),m.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[m.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),m.jsx("canvas",{ref:r,className:"hidden"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),m.jsx("div",{className:"mt-4 text-center",children:h?m.jsx("p",{className:"text-red-500 font-semibold",children:h}):m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Xr,{className:"animate-spin"})," ",c]}):c}),m.jsxs("button",{onClick:_,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[m.jsx(H1,{}),m.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},Op={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},JH=n=>{const e=n.trim().toLowerCase(),t=e.match(/(?:||)\s+([^\s]+)/);if(t&&t[1]){const i=t[1];if(Op[i])return Op[i]}const r=e.split(/\s+/);for(const i of r)if(Op[i])return Op[i];return null},ch=n=>n?n.map(e=>typeof e=="string"?{value:e,label:e}:e):[],XH=()=>{var Se;const n=An(),e=hs(),{countryCode:t}=zi(),{documents:r,sites:i,cafes:s,loading:o,codes:c}=Er(),{cafeId:u,selectedDocIds:h}=n.state||{cafeId:null,selectedDocIds:[]},{usePresence:p}=gb(),{isOnline:y}=p(u),{t:_,language:v}=jn(),[T,b]=A.useState(),[I,S]=A.useState({}),[N,L]=A.useState(0),[z,$]=A.useState(""),[Y,F]=A.useState(!1),[R,O]=A.useState(!1),[B,W]=A.useState("filling"),[D,M]=A.useState(!1),[C,te]=A.useState(!1),[xe,ee]=A.useState([]),[Z,K]=A.useState(!1),ie=A.useRef(new Set),j=A.useRef(null),H=A.useRef(!1);A.useEffect(()=>{u&&s.length>0&&b(s.find(q=>q.id===u))},[u,s]),A.useEffect(()=>{const q=async()=>{if(!h||h.length===0)return;const pe=h.filter(ae=>!xe.find(ye=>ye.id===ae)&&!ie.current.has(ae));if(pe.length===0)return;K(!0),pe.forEach(ae=>ie.current.add(ae));const Ee=[];await Promise.all(pe.map(async ae=>{const ye=r.find(Ie=>Ie.id===ae);if(ye&&ye.requiredFields&&ye.requiredFields.length>0){Ee.push(ye);return}if(ye){const Ie=ye.slug||ye.id,Pe=ye.countryCode||"global";let We=`https://datas.gitut.com/data/json/documents/${Ie}.json`;Pe!=="global"&&(We=`https://datas.gitut.com/data/json/documents/${Pe}/${Ie}.json`);try{const Ze=await fetch(We);if(Ze.ok){const ut=await Ze.json();Ee.push({...ut,id:ye.id})}}catch(Ze){console.error(`Error fetching doc details for ${ae}`,Ze)}}})),Ee.length>0&&ee(ae=>{const ye=[...ae];let Ie=!1;return Ee.forEach(Pe=>{ye.find(We=>We.id===Pe.id)||(ye.push(Pe),Ie=!0)}),Ie?ye:ae}),K(!1)};!o&&r.length>0&&q()},[h,r,o,xe]);const Te=q=>{S(pe=>({...pe,...q})),te(!1)},re=A.useMemo(()=>xe.filter(q=>h==null?void 0:h.includes(q.id)),[xe,h]),fe=A.useMemo(()=>i.filter(q=>q.type==="template"&&(h==null?void 0:h.includes(q.id))),[i,h]),de=A.useMemo(()=>!h||h.length===0?!1:re.length>0||fe.length>0,[h,re,fe]),ke=A.useMemo(()=>{const q=new Set;return re.forEach(pe=>{Object.values(pe.fieldCustomizations||{}).forEach(Ee=>{Ee.type==="select"&&Ee.options&&ch(Ee.options).forEach(ae=>{ae.mappedValues&&Object.keys(ae.mappedValues).forEach(ye=>q.add(ye))})})}),q},[re]),ue=A.useMemo(()=>{const q=[],pe=new Set;return re.forEach(Ee=>{Ee.fieldCustomizations&&Object.keys(Ee.fieldCustomizations).forEach(ae=>{var ye;if(ae!=="profilePicture"&&!pe.has(ae)&&!ke.has(ae)){let Pe=Ee.fieldCustomizations[ae].customQuestion||((ye=Ee.questions)==null?void 0:ye[ae])||iu[ae]||ae;q.push({id:ae,label:Pe}),pe.add(ae)}})}),re.forEach(Ee=>{var ye;((((ye=Ee.spokenFields)==null?void 0:ye.length)>0?Ee.spokenFields:Ee.requiredFields)||[]).forEach(Ie=>{var Pe;if(Ie!=="profilePicture"&&Ie!=="DateToday"&&!pe.has(Ie)&&!ke.has(Ie)){const We=Object.prototype.hasOwnProperty.call(iu,Ie);let Ze=((Pe=Ee.questions)==null?void 0:Pe[Ie])||(We?iu[Ie]:Ie);q.push({id:Ie,label:Ze}),pe.add(Ie)}})}),fe.forEach(Ee=>{var ye;(((ye=Ee.jsonTemplate)==null?void 0:ye.fields)||[]).forEach(Ie=>{if(Ie!=null&&Ie.fieldId){const Pe=Ie.fieldId;!pe.has(Pe)&&!ke.has(Pe)&&(q.push({id:Pe,label:Ie.label}),pe.add(Pe))}})}),q},[re,fe,ke]),Ce=A.useMemo(()=>{const q=new Set;return re.forEach(pe=>(pe.requiredFields||[]).forEach(Ee=>q.add(Ee))),q.has("profilePicture")},[re]),Le=N===ue.length-1,Ae=A.useMemo(()=>{var Ze,ut,It;const q=(Ze=ue[N])==null?void 0:Ze.id;if(!q)return null;const Ee=Object.prototype.hasOwnProperty.call(pu,q)?pu[q]:null;let ae=null;for(const ft of re)if((ut=ft.fieldCustomizations)!=null&&ut[q]){ae=ft.fieldCustomizations[q];break}const ye=((It=ue[N])==null?void 0:It.label)||q,Ie=(ae==null?void 0:ae.type)||(Ee==null?void 0:Ee.type)||"text",Pe=(ae==null?void 0:ae.placeholder)||(Ee?_(Ee.placeholder||""):q);let We;return ae!=null&&ae.options?We=ch(ae.options):Ee!=null&&Ee.options&&(We=Ee.options.map(ft=>({value:ft.value,label:_(ft.label)}))),{id:q,question:ye,type:Ie,placeholder:Pe,options:We,customization:ae}},[N,ue,re,_]),ot=A.useMemo(()=>{if(!Ae||!Ae.options)return null;const q=I[Ae.id];return Ae.options.find(pe=>pe.value===q)},[Ae,I]),lt=A.useMemo(()=>{if(!ot||!ot.subField)return null;const q=ot.subField;return{id:`${Ae.id}_sub`,question:q.customQuestion||q.placeholder||"Please specify",type:q.type,placeholder:q.placeholder||"",options:ch(q.options)}},[ot,Ae]),P=A.useCallback(()=>{Le?W("finished"):L(q=>q+1)},[Le]),me=A.useCallback(()=>{N>0&&L(q=>q-1)},[N]),ge=A.useRef({handleNext:P,handlePrevious:me,setFormData:S,currentField:Ae});A.useEffect(()=>{ge.current={handleNext:P,handlePrevious:me,setFormData:S,currentField:Ae}},[P,me,Ae]),A.useEffect(()=>{H.current=R},[R]),A.useEffect(()=>{const q=window.SpeechRecognition||window.webkitSpeechRecognition;if(!q)return;const pe=new q;pe.continuous=!0,pe.interimResults=!1;let Ee="ar-SA";switch(v){case"en":Ee="en-US";break;case"fr":Ee="fr-FR";break}pe.lang=Ee,pe.onstart=()=>{O(!0),M(!1)},pe.onend=()=>{if(H.current)try{pe.start()}catch{H.current=!1,O(!1)}else O(!1)},pe.onresult=ae=>{let ye="";for(let Pt=ae.resultIndex;Pt<ae.results.length;++Pt)ae.results[Pt].isFinal&&(ye+=ae.results[Pt][0].transcript.trim());if(!ye)return;const{handleNext:Ie,handlePrevious:Pe,setFormData:We,currentField:Ze}=ge.current,ut=JH(ye);if(Ze!=null&&Ze.options&&ut!==null){const Pt=ut-1;if(Pt>=0&&Pt<Ze.options.length){const _n=Ze.options[Pt];G(Ze.id,_n),Ie();return}}const It=["",""," "," ","next","suivant"],ft=["","",""," "," "," ","previous","prcdent"];It.some(Pt=>ye.toLowerCase().includes(Pt))?Ie():ft.some(Pt=>ye.toLowerCase().includes(Pt))?Pe():Ze&&We(Pt=>({...Pt,[Ze.id]:(Pt[Ze.id]||"")+ye+" "}))},pe.onerror=ae=>{(ae.error==="not-allowed"||ae.error==="permission-denied")&&M(!0),H.current=!1,O(!1)},j.current=pe,H.current=!0;try{j.current.start()}catch{H.current=!1,O(!1)}return()=>{j.current&&(H.current=!1,j.current.onend=null,j.current.stop())}},[v]),A.useEffect(()=>{var q;if(j.current){const pe=j.current,Ee=H.current;Ee&&(H.current=!1,pe.stop());let ae=((q=Ae==null?void 0:Ae.customization)==null?void 0:q.speechLang)||(T==null?void 0:T.speechToTextLanguage)||"ar-SA";pe.lang=ae,Ee&&setTimeout(()=>{H.current=!0;try{pe.start()}catch{H.current=!1,O(!1)}},250)}},[N,ue,T,Ae]);const Q=()=>{var q,pe;R?(H.current=!1,(q=j.current)==null||q.stop()):(H.current=!0,(pe=j.current)==null||pe.start())},G=(q,pe)=>{S(Ee=>{const ae={...Ee,[q]:pe.value};return pe.mappedValues&&Object.assign(ae,pe.mappedValues),ae})},J=q=>{var ae;const{name:pe,value:Ee}=q.target;if(q.target.tagName==="SELECT"){const ye=(ae=Ae==null?void 0:Ae.options)==null?void 0:ae.find(Ie=>Ie.value===Ee);if(ye){G(pe,ye);return}}S(ye=>({...ye,[pe]:Ee}))},we=async()=>{if(Ce&&!z){alert("     .");return}F(!0);const q={...I};re.forEach(Ee=>{Ee.fieldCustomizations&&Object.entries(Ee.fieldCustomizations).forEach(([ae,ye])=>{if(ye.type==="select"&&ye.options){const Ie=I[ae];if(Ie){const We=ch(ye.options).find(Ze=>Ze.value===Ie);if(We&&We.outputTemplate){let Ze=We.outputTemplate;const ut=`${ae}_sub`,It=I[ut]||"";Ze=Ze.replace("{subValue}",It),Ze=Ze.replace("{self}",We.label),q[ae]=Ze}}}})});const pe={...q,profilePicture:z};try{if(y===!0&&cn){const Ee=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ae={cafeId:u,documentIds:JSON.stringify(h),visitorData:JSON.stringify(pe),createdAt:Date.now(),status:"Pending"};cn.get("jobs").get(u).get(Ee).put(ae),e(`/${t}/confirmation/${Ee}`)}else{const ae=await AH({cafeId:u,documentIds:h,visitorData:pe});e(`/${t}/confirmation/${ae.id}`)}}catch(Ee){console.error("Error submitting job:",Ee),alert("    .    .")}finally{F(!1)}};return o||Z?m.jsx("div",{className:"text-center py-20",children:m.jsx(Xr,{className:"animate-spin text-4xl text-green-600"})}):!u||!de?m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),m.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),m.jsx(Ot,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):m.jsxs("div",{className:"max-w-3xl mx-auto",children:[C&&m.jsx(YH,{onClose:()=>te(!1),onScanSuccess:Te}),m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),m.jsxs("p",{className:"text-gray-600",children:["    ",m.jsx("strong",{className:"font-semibold",children:T==null?void 0:T.name}),".",m.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${y===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y===null?"...":y===!0?"":" "})]})]}),m.jsxs("button",{type:"button",onClick:()=>te(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[m.jsx(H1,{}),m.jsx("span",{children:" "})]})]}),D&&m.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[m.jsxs("p",{className:"font-bold flex items-center gap-2",children:[m.jsx(bS,{}),"     "]}),m.jsx("p",{children:"           .    ."})]}),B==="filling"&&Ae&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",N+1,"  ",ue.length]}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Ae.question}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),m.jsxs("div",{className:"relative",children:[Ae.type==="select"&&Ae.options?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("select",{name:Ae.id,value:I[Ae.id]||"",onChange:J,className:"w-full h-16 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[m.jsxs("option",{value:"",children:["-- ",Ae.placeholder," --"]}),(Se=Ae.options)==null?void 0:Se.map(q=>m.jsx("option",{value:q.value,children:q.label},q.value))]},Ae.id),lt&&m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 animate-fadeIn",children:[m.jsx("label",{className:"block text-sm font-bold text-blue-800 mb-2",children:lt.question}),lt.type==="select"&&lt.options?m.jsxs("select",{name:lt.id,value:I[lt.id]||"",onChange:J,className:"w-full p-2 border rounded-md",children:[m.jsxs("option",{value:"",children:["-- ",lt.placeholder||""," --"]}),lt.options.map(q=>m.jsx("option",{value:q.value,children:q.label},q.value))]}):m.jsx("input",{type:lt.type,name:lt.id,value:I[lt.id]||"",onChange:J,placeholder:lt.placeholder,className:"w-full p-2 border rounded-md"})]})]}):m.jsx("textarea",{name:Ae.id,value:I[Ae.id]||"",onChange:J,placeholder:` ... : ${Ae.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Ae.id),m.jsx("button",{type:"button",onClick:Q,title:"/ ",disabled:D,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,style:{zIndex:10},children:R?m.jsx(OR,{}):m.jsx(TS,{})})]}),Ae.options&&m.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[m.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),m.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Ae.options.map((q,pe)=>m.jsxs("li",{children:[m.jsxs("strong",{className:"font-mono",children:[pe+1,"."]})," ",q.label]},q.value))})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("button",{onClick:me,disabled:N===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[m.jsx(vS,{})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[m.jsx("span",{children:Le?"":""})," ",m.jsx(_S,{})]})]})]}),B==="finished"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[m.jsx(kR,{className:"text-green-500"}),"  !"]}),m.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(I).map(([q,pe])=>{if(!pe||q.endsWith("_sub")||ke.has(q))return null;const Ee=Object.prototype.hasOwnProperty.call(pu,q);let ae=q;if(Ee&&iu[q])ae=iu[q];else for(const Ie of re){if(Ie.questions&&Ie.questions[q]){ae=Ie.questions[q];break}if(Ie.fieldCustomizations&&Ie.fieldCustomizations[q]&&Ie.fieldCustomizations[q].customQuestion){ae=Ie.fieldCustomizations[q].customQuestion;break}}let ye=pe;return re.forEach(Ie=>{var We;const Pe=(We=Ie.fieldCustomizations)==null?void 0:We[q];if((Pe==null?void 0:Pe.type)==="select"&&Pe.options){const ut=ch(Pe.options).find(It=>It.value===pe);if(ut&&ut.outputTemplate){const It=I[`${q}_sub`]||"";ye=ut.outputTemplate.replace("{subValue}",It).replace("{self}",ut.label)}else ut&&(ye=ut.label)}}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[ae,":"]}),m.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:ye})]},q)})}),Ce&&m.jsxs("div",{className:"pt-4 mt-4 border-t",children:[m.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),m.jsx("div",{className:"flex justify-center",children:m.jsx(_N,{value:z,onChange:$})})]}),m.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[m.jsx("button",{onClick:()=>{L(0),W("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),m.jsxs("button",{onClick:we,disabled:Y||Ce&&!z,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[Y?m.jsx(Xr,{className:"animate-spin"}):m.jsx(ES,{}),m.jsx("span",{children:Y?" ...":"  "})]})]})]})]})]})},ZH='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',e$=`data:image/svg+xml;base64,${btoa(ZH)}`,t$=async(n,e)=>{try{const t=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${n}`,r=EN({model:"gemini-2.5-flash",contents:t});let i="";for await(const s of r)i+=s;return i}catch(t){throw console.error("Translation via service failed:",t),new Error("Failed to translate document content.")}},xN=async(n,e,t,r)=>{var i;try{let s;for(let v=n.length-1;v>=0;v--){const T=n[v];if(T.id===e||T.slug===e||T.name===e){s=T;break}}let o="";if(r.templateType==="final"){if(s!=null&&s.finalTemplateHtml)o=s.finalTemplateHtml;else if(s!=null&&s.finalTemplateUrl){const v=await fetch(fi(s.finalTemplateUrl));if(!v.ok)throw new Error(`Could not fetch final template from ${fi(s.finalTemplateUrl)}`);o=await v.text()}}else if(s!=null&&s.previewTemplateHtml)o=s.previewTemplateHtml;else if(s!=null&&s.previewTemplateUrl){const v=await fetch(fi(s.previewTemplateUrl));if(!v.ok)throw new Error(`Could not fetch preview template from ${fi(s.previewTemplateUrl)}`);o=await v.text()}o||(console.error(`Template type '${r.templateType}' for document '${(s==null?void 0:s.name)||e}' not found.`),o=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title></title>
                    <style>body { font-family: sans-serif; padding: 2rem; text-align: center; }</style>
                </head>
                <body>
                    <h1>   </h1>
                    <p>       .</p>
                </body></html>
            `),r.targetLang!=="ar"&&!o.includes("<h1>")&&(o=await t$(o,r.targetLang));const c=new Date,u=String(c.getDate()).padStart(2,"0"),h=String(c.getMonth()+1).padStart(2,"0"),p=c.getFullYear(),y=`${u}/${h}/${p}`;if(o=o.replace(/\[DateToday\]/g,y),o.includes("[profilePicture]")){const T=`<img src="${t.profilePicture?fi(t.profilePicture):e$}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 4px; object-fit: cover; border: 1px solid #ccc; display:block; margin: 0 auto;">`;o=o.replace(/\[profilePicture\]/g,T)}if(Object.keys(t).forEach(v=>{if(v!=="profilePicture"){const T=new RegExp(`\\[${v}\\]`,"g");o=o.replace(T,t[v]||"")}}),Object.keys(pu).forEach(v=>{const T=v;if(!t.hasOwnProperty(T)){const b=new RegExp(`\\[${T}\\]`,"g");o=o.replace(b,"")}}),o=o.replace(/\[[^\]]+\]/g,""),r.action==="download"){const v=document.createElement("iframe");v.style.width="794px",v.style.height="1123px",v.style.position="absolute",v.style.left="-9999px",v.style.top="0",v.style.border="none",document.body.appendChild(v);const T=v.contentDocument||((i=v.contentWindow)==null?void 0:i.document);if(!T)throw new Error("Could not access iframe document");const b='<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Merriweather:wght@400;700&family=Noto+Serif+JP:wght@400;700&family=Noto+Serif+TR:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">';o.includes("<head>")?o=o.replace("<head>",`<head>${b}`):o=`<html><head>${b}</head>`+o,T.open(),T.write(o),T.close(),await new Promise(I=>{const S=v.contentWindow;if(!S){setTimeout(I,1e3);return}const N=()=>{setTimeout(I,500)};S.document.fonts&&S.document.fonts.ready?S.document.fonts.ready.then(N).catch(()=>{console.warn("Font loading promise failed, continuing anyway."),N()}):setTimeout(N,2e3)}),await html2canvas(T.body,{scale:2,useCORS:!0,logging:!1,windowWidth:794,windowHeight:1123,allowTaint:!1}).then(I=>{const S=I.toDataURL("image/png"),{jsPDF:N}=jspdf,L=new N({orientation:"portrait",unit:"pt",format:"a4"}),z=L.internal.pageSize.getWidth(),$=L.internal.pageSize.getHeight(),Y=I.width,F=I.height,R=Y/F,O=z/$;let B,W;R>O?(B=z,W=z/R):(W=$,B=$*R),L.addImage(S,"PNG",0,0,B,W);const D=`${(s==null?void 0:s.slug)||e}.pdf`;L.save(D)}),document.body.removeChild(v);return}const _=window.open("","_blank");_?(_.document.write(o),_.document.close(),_.onload=function(){_.focus(),r.action==="print"&&_.print()}):alert("     .")}catch(s){throw console.error("Error generating document:",s),alert(`    : ${s.message}.`),s}},IN=({initialHtml:n,docName:e,onClose:t})=>{const[r,i]=A.useState(n),s=A.useRef(null),{t:o}=jn();A.useEffect(()=>{const y=s.current;if(y){const _=y.contentDocument;_&&(_.open(),_.write(r),_.close(),_.body.contentEditable="true",_.body.style.margin="0",_.body.style.padding="0",_.querySelectorAll("a").forEach(v=>{v.onclick=T=>T.preventDefault()}))}},[r]);const c=(y,_)=>{var T;const v=(T=s.current)==null?void 0:T.contentDocument;v&&v.execCommand(y,!1,_)},u=y=>{var T;const _=(T=s.current)==null?void 0:T.contentDocument;if(!_)return;const v=_.getSelection();if(v&&v.rangeCount>0){const b=v.getRangeAt(0).commonAncestorContainer,I=b.nodeType===3?b.parentElement:b;if(I){const S=window.getComputedStyle(I).fontSize,N=parseInt(S)+y;c("fontSize","7");const L=_.getElementsByTagName("font");for(let z=0;z<L.length;z++)L[z].size==="7"&&(L[z].removeAttribute("size"),L[z].style.fontSize=N+"px")}}},h=async()=>{const y=s.current;if(!(!y||!y.contentDocument))try{const _=await html2canvas(y.contentDocument.body,{scale:2,useCORS:!0}),v=_.toDataURL("image/png"),{jsPDF:T}=jspdf,b=new T({orientation:"portrait",unit:"pt",format:"a4"}),I=b.internal.pageSize.getWidth(),S=_.width,N=_.height,L=S/N,z=I/L;b.addImage(v,"PNG",0,0,I,z),b.save(`${e}.pdf`)}catch(_){console.error("PDF Export failed:",_),alert("  PDF")}},p=async()=>{const y=s.current;if(!(!y||!y.contentDocument))try{const v=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"></head><body>${y.contentDocument.body.innerHTML}</body></html>`,T=await R1(v);D1.saveAs(T,`${e}.docx`)}catch(_){console.error("DOCX Export failed:",_),alert("  Word")}};return m.jsxs("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-95 z-[200] flex flex-col overflow-hidden",children:[m.jsxs("header",{className:"bg-white border-b p-4 flex justify-between items-center shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-red-600 transition-colors",children:m.jsx(ag,{size:24})}),m.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[o("documentStudioPage.table.edit"),": ",e]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors font-bold shadow-md",children:[m.jsx(Xg,{})," ",m.jsx("span",{children:o("adPage.downloadPdf")})]}),m.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-bold shadow-md",children:[m.jsx(G1,{})," ",m.jsx("span",{children:o("adPage.downloadWord")})]})]})]}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsxs("aside",{className:"w-72 bg-white border-l shadow-inner p-6 space-y-8 overflow-y-auto",children:[m.jsxs("section",{children:[m.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2",children:o("documentStudioPage.editor.textFormatting")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:o("documentStudioPage.editor.fontSize")}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>u(2),className:"flex-1 flex items-center justify-center p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors border shadow-sm",children:m.jsx(xS,{})}),m.jsx("button",{onClick:()=>u(-2),className:"flex-1 flex items-center justify-center p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors border shadow-sm",children:m.jsx(FR,{})})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:o("documentStudioPage.editor.color")}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:["#000000","#FF0000","#0000FF","#008000","#FFA500","#800080","#A52A2A","#808080"].map(y=>m.jsx("button",{onClick:()=>c("foreColor",y),className:"w-full aspect-square rounded-full border border-gray-200 shadow-sm hover:scale-110 transition-transform",style:{backgroundColor:y},"aria-label":`Color ${y}`},y))})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>c("bold"),className:"flex-1 p-2 bg-gray-100 rounded-md hover:bg-gray-200 border shadow-sm font-bold",children:"B"}),m.jsx("button",{onClick:()=>c("italic"),className:"flex-1 p-2 bg-gray-100 rounded-md hover:bg-gray-200 border shadow-sm italic",children:"I"}),m.jsx("button",{onClick:()=>c("underline"),className:"flex-1 p-2 bg-gray-100 rounded-md hover:bg-gray-200 border shadow-sm underline",children:"U"})]})]})]}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2",children:o("documentStudioPage.editor.alignment")}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>c("justifyRight"),className:"flex-1 flex items-center justify-center p-2 bg-gray-100 rounded-md hover:bg-gray-200 border shadow-sm",children:m.jsx(PR,{})}),m.jsx("button",{onClick:()=>c("justifyCenter"),className:"flex-1 flex items-center justify-center p-2 bg-gray-100 rounded-md hover:bg-gray-200 border shadow-sm",children:m.jsx(SR,{})}),m.jsx("button",{onClick:()=>c("justifyLeft"),className:"flex-1 flex items-center justify-center p-2 bg-gray-100 rounded-md hover:bg-gray-200 border shadow-sm",children:m.jsx(CR,{})})]})]})]}),m.jsx("main",{className:"flex-1 bg-gray-800 p-10 overflow-auto flex justify-center",children:m.jsx("div",{className:"bg-white shadow-2xl origin-top",style:{width:"210mm",minHeight:"297mm",padding:"20mm"},children:m.jsx("iframe",{ref:s,title:"Editor Canvas",className:"w-full h-full border-none",style:{minHeight:"1000px"}})})})]})]})},Xc=n=>n?n.map(e=>typeof e=="string"?{value:e,label:e}:e):[],J4=()=>{const{countryCode:n,docId:e}=zi(),{siteSettings:t,documents:r,fullDocuments:i,loading:s}=Er(),{t:o}=jn(),[c,u]=A.useState(null),[h,p]=A.useState(!0),[y,_]=A.useState(null),[v,T]=A.useState("form"),[b,I]=A.useState({}),[S,N]=A.useState({}),[L,z]=A.useState(null),[$,Y]=A.useState((t==null?void 0:t.ads.pdfInterstitialTimer)??5),[F,R]=A.useState(!1),[O,B]=A.useState(!1),[W,D]=A.useState(""),M=n?`/${n}`:"/";A.useEffect(()=>{if(!e){_(o("formPage.error.noDocument")||"   ."),p(!1);return}(async()=>{c&&(c.id===e||c.slug===e)||(p(!0),_(null));try{const ue=r.find(P=>P.id===e||P.slug===e)||i.find(P=>P.id===e||P.slug===e),Ce=(ue==null?void 0:ue.slug)||e,Le=(ue==null?void 0:ue.countryCode)||n;let Ae=`https://datas.gitut.com/data/json/documents/${Ce}.json`;Le&&Le!=="global"&&(Ae=`https://datas.gitut.com/data/json/documents/${Le}/${Ce}.json`);const ot=await fetch(Ae);if(!ot.ok)throw new Error(`${o("formPage.error.loadFailed")||"   "}. ${ot.status}`);const lt=await ot.json();if(u(lt),lt.complexFields){const P={};lt.complexFields.forEach(me=>{P[me.id]=[{}]}),N(P)}}catch(ue){console.error("Failed to fetch document data:",ue),_(ue instanceof Error?ue.message:o("formPage.error.unexpected")||"   .")}finally{p(!1)}})()},[e,r,i,o,n]);const C=A.useMemo(()=>{const de=new Set;return c!=null&&c.fieldCustomizations&&Object.values(c.fieldCustomizations).forEach(ke=>{ke.type==="select"&&ke.options&&Xc(ke.options).forEach(ue=>{ue.mappedValues&&Object.keys(ue.mappedValues).forEach(Ce=>de.add(Ce))})}),de},[c]),te=A.useMemo(()=>{if(!c)return[];const de=new Set,ke=[];return c.fieldCustomizations&&Object.keys(c.fieldCustomizations).forEach(ue=>{C.has(ue)||(ke.push(ue),de.add(ue))}),(c.requiredFields||[]).forEach(ue=>{ue==="DateToday"||de.has(ue)||c.complexFields&&c.complexFields.some(Ce=>Ce.templatePlaceholder.includes(ue))||C.has(ue)||(ke.push(ue),de.add(ue))}),ke},[c,C]),xe=de=>{N(ke=>({...ke,[de]:[...ke[de]||[],{}]}))},ee=(de,ke)=>{N(ue=>({...ue,[de]:(ue[de]||[]).filter((Ce,Le)=>Le!==ke)}))},Z=(de,ke,ue,Ce)=>{N(Le=>{const Ae=[...Le[de]||[]];return Ae[ke]={...Ae[ke],[ue]:Ce},{...Le,[de]:Ae}})},K=()=>{if(!c)return"";const de={...b};c.fieldCustomizations&&Object.entries(c.fieldCustomizations).forEach(([Le,Ae])=>{if(Ae.type==="select"&&Ae.options){const ot=b[Le];if(ot){const P=Xc(Ae.options).find(me=>me.value===ot);if(P&&P.outputTemplate){let me=P.outputTemplate;const ge=`${Le}_sub`,Q=b[ge]||"";me=me.replace("{subValue}",Q),me=me.replace("{self}",P.label),de[Le]=me}}}}),c.complexFields&&c.complexFields.forEach(Le=>{const Ae=S[Le.id]||[];if(Ae.length>0){let ot='<table style="width:100%; border-collapse: collapse; margin: 20px 0; font-size: 12pt;"><thead><tr>';Le.itemFields.forEach(P=>{ot+=`<th style="border:1px solid #000; padding: 8px; background: #f0f0f0; text-align: center;">${P.label}</th>`}),ot+="</tr></thead><tbody>",Ae.forEach(P=>{ot+="<tr>",Le.itemFields.forEach(me=>{ot+=`<td style="border:1px solid #000; padding: 8px; text-align: center;">${P[me.id]||""}</td>`}),ot+="</tr>"}),ot+="</tbody></table>";const lt=Le.templatePlaceholder.replace(/[\[\]]/g,"");de[lt]=ot}else{const ot=Le.templatePlaceholder.replace(/[\[\]]/g,"");de[ot]=""}});let ke=c.finalTemplateHtml||"";const Ce=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});return ke=ke.replace(/\[DateToday\]/g,Ce),Object.keys(de).forEach(Le=>{const Ae=new RegExp(`\\[${Le}\\]`,"g");ke=ke.replace(Ae,de[Le]||"")}),ke=ke.replace(/\[[^\]]+\]/g,""),ke},ie=async de=>{if(!c||!de)return;const ke=K(),ue=[c];if(de==="word"){try{const Ce=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${c.name}</title></head><body>${ke}</body></html>`,Le=await R1(Ce,{orientation:"portrait",margins:{top:720,right:720,bottom:720,left:720}});Le&&D1.saveAs(Le,`${c.slug||"document"}.docx`)}catch(Ce){console.error("Error generating DOCX:",Ce)}return}if(de==="pdf"){const Ce={...b};c.fieldCustomizations&&Object.entries(c.fieldCustomizations).forEach(([Le,Ae])=>{if(Ae.type==="select"&&Ae.options){const ot=b[Le];if(ot){const P=Xc(Ae.options).find(me=>me.value===ot);if(P&&P.outputTemplate){const me=b[`${Le}_sub`]||"";Ce[Le]=P.outputTemplate.replace("{subValue}",me).replace("{self}",P.label)}}}}),await xN(ue,c.id,Ce,{action:"download",targetLang:"ar",templateType:"final"})}};A.useEffect(()=>{if(v==="ad"&&$>0){const de=setTimeout(()=>Y(ke=>ke-1),1e3);return()=>clearTimeout(de)}},[v,$]);const j=(de,ke)=>{if(c&&c.fieldCustomizations&&c.fieldCustomizations[de]){const ue=c.fieldCustomizations[de];if(ue.type==="select"&&ue.options){const Le=Xc(ue.options).find(Ae=>Ae.value===ke);if(Le&&Le.mappedValues){I(Ae=>({...Ae,[de]:ke,...Le.mappedValues}));return}}}I(ue=>({...ue,[de]:ke}))},H=de=>{de.preventDefault(),T("select_format")},Te=de=>{z(de),B(!1),Y((t==null?void 0:t.ads.pdfInterstitialTimer)??5),T("ad")},re=()=>{const de=K();D(de),B(!0),Y((t==null?void 0:t.ads.pdfInterstitialTimer)??5),T("ad")},fe=A.useMemo(()=>n?pi.ar.some(de=>de.code===n):!1,[n]);return h?m.jsx("div",{className:"flex justify-center items-center p-10",children:m.jsx(Xr,{className:"animate-spin text-4xl text-green-600"})}):y||!c?m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:y||o("formPage.error.notFound")||"    "}),m.jsx(Ot,{to:M,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:o("confirmationPage.backToHome")||"   "})]}):F?m.jsx(IN,{initialHtml:W,docName:c.name,onClose:()=>R(!1)}):v==="select_format"?m.jsx("div",{className:"max-w-xl mx-auto text-center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:o("adPage.stepFormatTitle")}),m.jsx("p",{className:"text-gray-600",children:o("adPage.stepFormatDesc")}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[m.jsxs("button",{onClick:()=>Te("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[m.jsx(Xg,{size:40}),m.jsx("span",{children:o("adPage.downloadPdf")})]}),m.jsxs("button",{onClick:()=>Te("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[m.jsx(G1,{size:40}),m.jsx("span",{children:o("adPage.downloadWord")})]})]})]})}):v==="ad"?m.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:[fe&&m.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-green-50 border border-green-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:m.jsxs("div",{className:"text-green-800 font-amiri leading-loose",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:o("adPage.hadithTitle")||" "}),m.jsx("p",{className:"text-xl font-medium",children:o("adPage.istighfarContent")||'"                  "'})]})}),m.jsx("div",{className:"max-w-3xl w-full text-center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:O?o("documentStudioPage.aiCreator.generating"):o("adPage.preparingLink")||" ..."}),$>0?m.jsxs("div",{className:"py-8",children:[m.jsx("p",{className:"text-gray-600 mb-4",children:o("adPage.pleaseWait")||"     :"}),m.jsxs("div",{className:"inline-block relative",children:[m.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[m.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),m.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:351.86,strokeDashoffset:351.86-351.86*$/((t==null?void 0:t.ads.pdfInterstitialTimer)??5),className:"text-green-600 transition-all duration-1000 ease-linear"})]}),m.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:m.jsx("span",{className:"text-4xl font-bold text-green-600 font-mono",children:$})})]})]}):m.jsxs("div",{className:"my-6 animate-fadeIn",children:[m.jsx("p",{className:"text-green-700 font-semibold mb-4",children:o("adPage.linkReady")||" !"}),m.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:O?m.jsxs("button",{onClick:()=>R(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-blue-700 transition-colors shadow-lg transform hover:scale-105",children:[m.jsx("span",{children:o("documentStudioPage.aiCreator.editStudio")}),m.jsx(ig,{})]}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>ie(L),className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:[m.jsx("span",{children:o("adPage.downloadNow")||" "}),m.jsx($1,{})]}),m.jsxs("button",{onClick:re,className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-blue-700 transition-colors shadow-lg transform hover:scale-105",children:[m.jsx("span",{children:o("documentStudioPage.table.edit")}),m.jsx(ig,{})]})]})})]}),m.jsxs("div",{className:"pt-6 border-t",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:o("adPage.adLabel")}),m.jsx(bo,{placement:"PDF_INTERSTITIAL"})]})]})}),fe&&m.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-blue-50 border border-blue-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:m.jsxs("div",{className:"text-blue-900 font-amiri leading-loose",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:o("adPage.prayerReminderTitle")||" "}),m.jsx("p",{className:"text-lg mb-2",children:o("adPage.hadithIntro")||"      :"}),m.jsx("p",{className:"text-xl font-bold mb-4",children:o("adPage.prayerHadithContent")||'"        "'}),m.jsx("p",{className:"text-xs text-blue-700",children:o("adPage.prayerHadithSource")||"     "})]})})]}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[m.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:m.jsx(bo,{placement:"PUBLIC_FORM_RIGHT"})}),m.jsx("main",{className:"lg:col-span-3",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[o("formPage.fillDataFor")||" :"," ",c.name]}),m.jsx("p",{className:"text-gray-600",children:o("formPage.fillFieldsBelow")||"      ."})]}),m.jsxs("form",{onSubmit:H,className:"space-y-4",children:[te.map(de=>{var me,ge,Q,G,J,we,Se;const ke=de,ue=pu[ke];let Ce=((me=c.questions)==null?void 0:me[ke])||((Q=(ge=c.fieldCustomizations)==null?void 0:ge[ke])==null?void 0:Q.customQuestion);!Ce&&ue&&(Ce=o(ue.label),Ce===ue.label&&(Ce=iu[ke]||ue.label)),Ce||(Ce=de);const Le=((J=(G=c.fieldCustomizations)==null?void 0:G[de])==null?void 0:J.type)||(ue==null?void 0:ue.type)||"text";let Ae;(Se=(we=c.fieldCustomizations)==null?void 0:we[de])!=null&&Se.options?Ae=Xc(c.fieldCustomizations[de].options):ue!=null&&ue.options&&(Ae=ue.options.map(q=>({value:q.value,label:o(q.label)})));const ot=b[de],lt=Ae==null?void 0:Ae.find(q=>q.value===ot),P=lt==null?void 0:lt.subField;return m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:de,className:"block text-sm font-medium text-gray-700 mb-1",children:Ce}),Le==="file"||ke==="profilePicture"?m.jsx(_N,{value:b[de]||"",onChange:q=>j(de,q)}):Le==="select"&&Ae?m.jsxs("select",{id:de,name:de,value:b[de]||"",onChange:q=>j(q.target.name,q.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[m.jsx("option",{value:"",children:o("formPage.selectOption")||"--  --"}),Ae.map(q=>m.jsx("option",{value:q.value,children:q.label},q.value))]}):Le==="textarea"?m.jsx("textarea",{id:de,name:de,value:b[de]||"",onChange:q=>j(q.target.name,q.target.value),placeholder:ue?o(ue.placeholder):"",className:"w-full p-2 border rounded-md",rows:3,required:!0}):m.jsx("input",{type:Le,id:de,name:de,value:b[de]||"",onChange:q=>j(q.target.name,q.target.value),placeholder:ue?o(ue.placeholder):"",className:"w-full p-2 border rounded-md",required:!0})]}),P&&m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 animate-fadeIn ml-4 border-r-4 border-r-blue-400",children:[m.jsx("label",{htmlFor:`${de}_sub`,className:"block text-sm font-bold text-blue-800 mb-1",children:P.customQuestion||P.placeholder||" :"}),P.type==="select"&&P.options?m.jsxs("select",{id:`${de}_sub`,name:`${de}_sub`,value:b[`${de}_sub`]||"",onChange:q=>j(q.target.name,q.target.value),className:"block w-full px-3 py-2 bg-white border border-blue-300 rounded-md shadow-sm",required:!0,children:[m.jsx("option",{value:"",children:"--  --"}),Xc(P.options).map(q=>m.jsx("option",{value:q.value,children:q.label},q.value))]}):m.jsx("input",{type:P.type||"text",id:`${de}_sub`,name:`${de}_sub`,value:b[`${de}_sub`]||"",onChange:q=>j(q.target.name,q.target.value),placeholder:P.placeholder||"",className:"block w-full px-3 py-2 bg-white border border-blue-300 rounded-md shadow-sm",required:!0})]})]},de)}),c.complexFields&&c.complexFields.map(de=>m.jsxs("div",{className:"border-2 border-blue-100 p-4 rounded-lg bg-blue-50 mt-6",children:[m.jsx("label",{className:"block font-bold text-gray-800 mb-3 border-b border-blue-200 pb-2",children:de.label}),m.jsx("div",{className:"space-y-3",children:(S[de.id]||[]).map((ke,ue)=>m.jsxs("div",{className:"bg-white p-3 rounded shadow-sm border relative",children:[m.jsx("button",{type:"button",onClick:()=>ee(de.id,ue),className:"absolute top-2 left-2 text-red-400 hover:text-red-600",title:"  ",children:m.jsx(IS,{size:12})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:de.itemFields.map(Ce=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:Ce.label}),Ce.type==="select"&&Ce.options?m.jsxs("select",{value:ke[Ce.id]||"",onChange:Le=>Z(de.id,ue,Ce.id,Le.target.value),className:"w-full p-1 border rounded text-sm",children:[m.jsx("option",{value:"",children:"--  --"}),Ce.options.map(Le=>m.jsx("option",{value:Le.value,children:Le.label},Le.value))]}):m.jsx("input",{type:Ce.type||"text",value:ke[Ce.id]||"",onChange:Le=>Z(de.id,ue,Ce.id,Le.target.value),className:"w-full p-1 border rounded text-sm"})]},Ce.id))})]},ue))}),m.jsxs("button",{type:"button",onClick:()=>xe(de.id),className:"mt-3 text-sm flex items-center gap-1 text-blue-600 font-semibold hover:text-blue-800",children:[m.jsx(xS,{})," ",de.addItemButtonLabel||"  "]})]},de.id)),m.jsx("div",{className:"pt-4",children:m.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[m.jsx(sg,{}),m.jsx("span",{children:o("formPage.createDocument")||" "})]})})]})]})}),m.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:m.jsx(bo,{placement:"PUBLIC_FORM_LEFT"})})]})},n$=()=>{const{countryCode:n,jobId:e}=zi(),{t}=jn();return m.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[m.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("confirmationPage.title")}),m.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:t("confirmationPage.subtitle")}),m.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[m.jsx("p",{className:"text-gray-600 mb-1",children:t("confirmationPage.orderCodeLabel")}),m.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),m.jsx("p",{className:"text-sm text-gray-500 mb-8",children:t("confirmationPage.note")}),m.jsx(Ot,{to:`/${n}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:t("confirmationPage.backToHome")})]})})},r$=()=>{const{t:n,countryCode:e}=jn(),[t,r]=A.useState(""),[i,s]=A.useState(""),[o,c]=A.useState(""),[u,h]=A.useState(!1),p=hs(),{login:y,logout:_,sendPasswordReset:v}=Ca(),[T,b]=A.useState(!1),[I,S]=A.useState(""),[N,L]=A.useState(""),[z,$]=A.useState(""),Y=async R=>{if(R.preventDefault(),c(""),!t||!i){c(n("login.error.fillAllFields"));return}h(!0);try{const O=await y(t,i);O.emailVerified?p(`/${O.countryCode}/app`):(c(n("login.error.verifyEmail")),await _(),h(!1))}catch{c(n("login.error.wrongCredentials")),h(!1)}},F=async R=>{if(R.preventDefault(),L(""),$(""),!I){$(n("login.error.enterEmail"));return}h(!0);try{await v(I),L(n("login.reset.successMessage"))}catch(O){$(O.message||n("login.reset.errorMessage"))}h(!1)};return m.jsx("div",{className:"max-w-md mx-auto mt-10",children:m.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:T?m.jsxs(m.Fragment,{children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:n("login.reset.title")}),N&&m.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:N}),z&&m.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:z}),m.jsxs("form",{onSubmit:F,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:n("login.reset.emailLabel")}),m.jsx("input",{type:"email",id:"reset-email",value:I,onChange:R=>S(R.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:n(u?"login.reset.sendingButton":"login.reset.sendButton")})]}),m.jsx("p",{className:"text-center text-gray-600 mt-6",children:m.jsxs("button",{onClick:()=>b(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",n("login.reset.backToLogin")]})})]}):m.jsxs(m.Fragment,{children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:n("login.title")}),o&&m.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:o}),m.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:n("login.emailLabel")}),m.jsx("input",{type:"email",id:"email",value:t,onChange:R=>r(R.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:n("login.passwordLabel")}),m.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:n("login.forgotPassword")})]}),m.jsx("input",{type:"password",id:"password",value:i,onChange:R=>s(R.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:n(u?"login.loggingInButton":"login.loginButton")})]}),m.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[n("login.noAccount")," ",m.jsx(Ot,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:n("login.createAccount")})]})]})})})},i$=["gmail.com","outlook.com","hotmail.com","live.com"],s$=()=>{const{wilayas:n,dairas:e,communes:t,locationsLoading:r}=Er(),{t:i,countryCode:s,language:o}=jn(),c=hs(),u=An(),h=pi[o],p=pi.en.map(J=>({code:J.code,name:J.name,flag:J.flag,phoneCode:J.phoneCode})).sort((J,we)=>J.name.localeCompare(we.name)),y=u.state||{},[_,v]=A.useState(y.email||""),[T,b]=A.useState(y.password||""),[I,S]=A.useState(y.confirmPassword||""),[N,L]=A.useState(y.cafeName||""),[z,$]=A.useState(y.ownerName||""),[Y,F]=A.useState(y.street||""),[R,O]=A.useState(()=>h.find(J=>J.code===s)||h[0]),[B,W]=A.useState(y.selectedWilaya||""),[D,M]=A.useState(y.selectedDaira||""),[C,te]=A.useState(y.selectedCommune||""),[xe,ee]=A.useState(y.genericState||""),[Z,K]=A.useState(y.genericCity||""),[ie,j]=A.useState(y.phone||""),[H,Te]=A.useState(R.phoneCode),[re,fe]=A.useState([]),[de,ke]=A.useState([]),[ue,Ce]=A.useState(""),[Le,Ae]=A.useState(!1),[ot,lt]=A.useState(!1),{signup:P}=Ca();A.useEffect(()=>{if(!u.state){const J=h.find(we=>we.code===s)||h[0];O(J),Te(J.phoneCode)}},[s,h,u.state]);const me=J=>{const we=J.target.value,Se=h.find(pe=>pe.code===we);Se&&Te(Se.phoneCode);const q={email:_,password:T,confirmPassword:I,cafeName:N,ownerName:z,street:Y,selectedWilaya:B,selectedDaira:D,selectedCommune:C,genericState:xe,genericCity:Z,phone:ie};c(`/${we}/signup`,{replace:!0,state:q})},ge=J=>{const we=J.target.value;W(we),M(""),te(""),we?(fe(e.filter(Se=>Se.wilaya_code===we)),ke([])):(fe([]),ke([]))},Q=J=>{const we=J.target.value;M(we),te(""),ke(we&&B?t.filter(Se=>Se.daira_name===we&&Se.wilaya_code===B):[])},G=async J=>{var We;J.preventDefault(),Ce("");const we=_.split("@")[1];if(!i$.includes(we)){Ce(i("signup.errors.allowedDomains"));return}const Se=n.length>0;if(!_||!T||!I||!N||!z||!Y||!(Se&&B&&D&&C)&&!(!Se&&xe&&Z)){Ce(i("signup.errors.fillAllFields"));return}if(T!==I){Ce(i("signup.errors.passwordsMismatch"));return}if(T.length<6){Ce(i("signup.errors.passwordLength"));return}Ae(!0);let Ee;Se?Ee={wilaya:((We=n.find(ut=>ut.code===B))==null?void 0:We.name)||"",wilaya_code:B,daira:D,commune:C,street:Y}:Ee={state:xe,city:Z,street:Y};const ye=R.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"};let Ie="";ie&&(Ie=`${H} ${ie}`);const Pe={name:N,owner:z,countryCode:R.code,countryPhoneCode:R.phoneCode,address:Ee,initialCredits:ye,phone:Ie};try{await P(_,T,Pe)?lt(!0):Ce(i("signup.errors.signupFailed"))}catch(Ze){Ze.code==="auth/email-already-in-use"?Ce("    .        ."):Ce(i("signup.errors.signupFailed"))}finally{Ae(!1)}};return ot?m.jsx("div",{className:"max-w-lg mx-auto mt-10",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[m.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),m.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",m.jsx("strong",{className:"font-semibold",children:_}),".",i("signup.success.instruction")]}),m.jsx(Ot,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):m.jsx("div",{className:"max-w-lg mx-auto mt-10",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),ue&&m.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:ue}),m.jsxs("form",{onSubmit:G,className:"space-y-6",children:[m.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[m.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),m.jsx("input",{type:"email",id:"email-signup",value:_,onChange:J=>v(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),m.jsx("input",{type:"password",id:"password-signup",value:T,onChange:J=>b(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),m.jsx("input",{type:"password",id:"confirm-password",value:I,onChange:J=>S(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),m.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[m.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),m.jsx("input",{type:"text",id:"cafeName",value:N,onChange:J=>L(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),m.jsx("input",{type:"text",id:"ownerName",value:z,onChange:J=>$(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),m.jsx("select",{id:"country",value:R.code,onChange:me,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:h.map(J=>m.jsx("option",{value:J.code,children:J.name},J.code))})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:[i("formFields.phone")||"  / "," ()"]}),m.jsxs("div",{className:"flex",dir:"ltr",children:[m.jsx("select",{value:H,onChange:J=>Te(J.target.value),className:"block w-28 px-2 py-2 border border-gray-300 rounded-l-md shadow-sm bg-gray-50 focus:outline-none focus:ring-green-500 focus:border-green-500 text-sm border-r-0",children:p.map(J=>m.jsxs("option",{value:J.phoneCode,children:[J.flag," ",J.phoneCode]},J.code))}),m.jsx("input",{type:"tel",id:"phone",value:ie,onChange:J=>j(J.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-r-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"551234567"})]})]}),n.length>0?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),m.jsxs("select",{id:"wilaya",value:B,onChange:ge,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[m.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),n.map(J=>m.jsx("option",{value:J.code,children:J.name},J.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),m.jsxs("select",{id:"daira",value:D,onChange:Q,required:!0,disabled:!B,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[m.jsx("option",{value:"",children:i("signup.selectDaira")}),re.map(J=>m.jsx("option",{value:J.name,children:J.name},J.id))]})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),m.jsxs("select",{id:"commune",value:C,onChange:J=>te(J.target.value),required:!0,disabled:!D,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[m.jsx("option",{value:"",children:i("signup.selectCommune")}),de.map(J=>m.jsx("option",{value:J.name,children:J.name},J.id))]})]})]}):m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),m.jsx("input",{type:"text",id:"genericState",value:xe,onChange:J=>ee(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),m.jsx("input",{type:"text",id:"genericCity",value:Z,onChange:J=>K(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),m.jsx("input",{type:"text",id:"street",value:Y,onChange:J=>F(J.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),m.jsx("button",{type:"submit",disabled:Le||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Le?"signup.creatingButton":"signup.createButton")})]}),m.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",m.jsx(Ot,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},yr=(n,e,t=!0)=>{const r=t?`meta[property='${n}']`:`meta[name='${n}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(t?"property":"name",n),document.head.appendChild(i)),i.setAttribute("content",e)},a$=()=>{const{countryCode:n}=zi(),{siteSettings:e}=Er(),{language:t,t:r}=jn(),i=window.staticPageData||null,[s,o]=A.useState([]);return A.useEffect(()=>{(async()=>{if(!(!n||!i))try{const u=await fetch(`https://datas.gitut.com/data/json/${n}-pages-public.json`);if(!u.ok)return;const p=(await u.json()).filter(y=>y.enabled&&y.id!==i.id&&(y.lang===t||!y.lang&&t==="ar"));o(p)}catch(u){console.error("Error fetching related pages list:",u)}})()},[n,t,i]),A.useEffect(()=>{var c,u;if(i&&e){const h=((c=e.seo)==null?void 0:c[n||"dz"])||((u=e.seo)==null?void 0:u.default);if(h){const p=`${i.title} ${h.titleSeparator} ${h.siteName}`,y=i.content.replace(/<[^>]*>/g,"").substring(0,160)+(i.content.length>160?"...":""),_="https://datas.gitut.com/data/image/gitut-og-main.png",v=t==="ar"?"ar_AR":t==="fr"?"fr_FR":"en_US";document.title=p,yr("description",y,!1),yr("og:title",p),yr("og:description",y),yr("og:image",_),yr("og:image:secure_url",_),yr("og:image:width","1200"),yr("og:image:height","630"),yr("og:url",window.location.href),yr("og:type","article"),yr("og:site_name",h.siteName),yr("og:locale",v),yr("twitter:card","summary_large_image",!1),yr("twitter:url",window.location.href,!1),yr("twitter:title",p,!1),yr("twitter:description",y,!1),yr("twitter:image",_,!1)}}},[i,e,n,t]),i?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[m.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[m.jsx("header",{className:"mb-8 border-b pb-6",children:m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:i.title})}),m.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:i.content}})]}),s.length>0&&m.jsx("aside",{className:"md:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[m.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:r("relatedPages.title")}),m.jsx("div",{className:"space-y-3",children:s.map(c=>m.jsx(Ot,{to:`/${n}/page/${c.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:m.jsx("p",{className:"font-semibold text-gray-900",children:c.title})},c.id))})]})})]}),m.jsx(yN,{url:window.location.href,title:i.title,description:i.content})]}):m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),m.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),m.jsx(Ot,{to:`/${n||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},o$=({onSearch:n})=>{const{wilayas:e,dairas:t,communes:r,locationsLoading:i}=Er(),{t:s}=jn(),[o,c]=A.useState(""),[u,h]=A.useState(""),[p,y]=A.useState(""),[_,v]=A.useState(""),[T,b]=A.useState([]),[I,S]=A.useState([]),N=Y=>{const F=Y.target.value;c(F),h(""),y(""),F?(b(t.filter(R=>R.wilaya_code===F)),S([])):(b([]),S([]))},L=Y=>{const F=Y.target.value;h(F),y(""),S(F&&o?r.filter(R=>R.daira_name===F&&R.wilaya_code===o):[])},z=Y=>{y(Y.target.value)},$=Y=>{var R;Y.preventDefault();const F=((R=e.find(O=>O.code===o))==null?void 0:R.name)||"";n({wilaya:F,daira:u,commune:p,name:_})};return m.jsxs("form",{onSubmit:$,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("select",{value:o,onChange:N,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[m.jsx("option",{value:"",children:s(i?"signup.loading":"signup.selectWilaya")}),e.map(Y=>m.jsx("option",{value:Y.code,children:Y.name},Y.id))]}),m.jsxs("select",{value:u,onChange:L,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!o||T.length===0,"aria-label":"Select Daira",children:[m.jsx("option",{value:"",children:s("signup.selectDaira")}),T.map(Y=>m.jsx("option",{value:Y.name,children:Y.name},Y.id))]}),m.jsxs("select",{value:p,onChange:z,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!u||I.length===0,"aria-label":"Select Commune",children:[m.jsx("option",{value:"",children:s("signup.selectCommune")}),I.map(Y=>m.jsx("option",{value:Y.name,children:Y.name},Y.id))]}),m.jsx("input",{type:"text",placeholder:s("searchForm.searchByName"),value:_,onChange:Y=>v(Y.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),m.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:s("searchForm.search")})]})};function l$(n,e){function t(p){return p*Math.PI/180}const r=6371,i=t(e.latitude-n.latitude),s=t(e.longitude-n.longitude),o=t(n.latitude),c=t(n.latitude),u=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(o)*Math.cos(c),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return r*h}const c$=()=>{const{countryCode:n,type:e,id:t}=zi(),{documents:r,staticDocuments:i,sites:s,cafes:o,loading:c}=Er(),[u,h]=A.useState(null),[p,y]=A.useState([]),[_,v]=A.useState(!1),[T,b]=A.useState(!1),[I,S]=A.useState(!1),[N,L]=A.useState(""),[z,$]=A.useState(!1),[Y,F]=A.useState([]),[R,O]=A.useState(0),B=A.useMemo(()=>{if(!u)return"";let ee="";if("description"in u&&u.description?ee=u.description:"url"in u&&(ee=`<p>${u.url}</p>`),!ee)return"<p>     .</p>";const Z=`<div class="my-6 p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-md" role="alert">
            <p class="font-bold"> </p>
            <p>         <strong>  </strong>.</p>
        </div>`,K=ee.indexOf("</p>");return K!==-1?ee.slice(0,K+4)+Z+ee.slice(K+4):Z+ee},[u]);A.useEffect(()=>{h(null),L(""),(()=>{let Z=null;if(e==="doc"&&t){const K=r.find(ie=>ie.id===t||ie.slug===t);if(K){Z={...K,type:"doc"};const j=r.filter(Te=>Te.groupId===K.groupId).sort((Te,re)=>Te.name.localeCompare(re.name,"ar"));F(j);const H=j.findIndex(Te=>Te.id===K.id);O(H>=0?H:0)}}else if(e==="site"&&t){const K=s.find(ie=>ie.id===t||ie.slug===t);K&&(Z={...K,type:"site"},F([]))}else if(e==="static-doc"&&t){const K=i.find(ie=>ie.id===t||ie.slug===t);K&&(Z={...K,type:"static-doc"},F([]))}Z&&Z.countryCode&&Z.countryCode!==n?h(null):h(Z)})()},[e,t,r,s,i,n]),A.useEffect(()=>{const ee=async()=>{if(Y.length>0&&R<Y.length){const K=Y[R].previewTemplateUrl;if(!K){L(""),$(!1);return}$(!0);try{const ie=await fetch(K);ie.ok?L(await ie.text()):L("")}catch(ie){console.error("Error fetching preview:",ie),L("")}finally{$(!1)}}};(u==null?void 0:u.type)==="doc"&&Y.length>0&&ee()},[Y,R,u]);const W=()=>{O(ee=>(ee+1)%Y.length)},D=()=>{O(ee=>(ee-1+Y.length)%Y.length)},M=ee=>{if(!u)return;let K=o;const ie=ee.name.trim().toLowerCase();ee.wilaya&&(K=K.filter(j=>j.address.wilaya===ee.wilaya)),ee.daira&&(K=K.filter(j=>j.address.daira===ee.daira)),ee.commune&&(K=K.filter(j=>j.address.commune===ee.commune)),ie&&(K=K.filter(j=>j.name.toLowerCase().includes(ie))),y(K),S(!0),v(!1)},C=ee=>{const Z=ee.target.checked;if(v(Z),Z){if(!navigator.geolocation){alert("     ."),v(!1);return}b(!0),S(!1),navigator.geolocation.getCurrentPosition(K=>{const ie={latitude:K.coords.latitude,longitude:K.coords.longitude},H=o.filter(Te=>Te.address.latitude&&Te.address.longitude).map(Te=>({...Te,distance:l$(ie,Te.address)})).sort((Te,re)=>Te.distance-re.distance);y(H),b(!1),S(!0)},K=>{console.error("Geolocation error:",K),alert(`    : ${K.message}`),b(!1),v(!1)})}else y([]),S(!1)},te=A.useMemo(()=>{if((u==null?void 0:u.type)==="doc"&&Y.length>0){const ee=Y[R];return ee?{...ee,type:"doc"}:null}else if((u==null?void 0:u.type)==="static-doc")return{...u,type:"static-doc"};return u},[u,Y,R]),xe=A.useMemo(()=>{if((te==null?void 0:te.type)!=="doc")return[];const ee=te;return(ee.spokenFields&&ee.spokenFields.length>0?ee.spokenFields:ee.requiredFields).filter(K=>K!=="profilePicture").map(K=>pu[K]).filter(K=>!!K)},[te]);return te?m.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:te.name}),m.jsx("div",{className:"text-lg text-gray-600 prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:B}})]}),u.type==="doc"&&m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),m.jsxs("div",{className:"relative",children:[Y.length>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:D,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:m.jsx(vS,{className:"h-6 w-6"})}),m.jsx("button",{onClick:W,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:m.jsx(_S,{className:"h-6 w-6"})}),m.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[R+1," / ",Y.length]})]}),z?m.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:m.jsx("p",{className:"text-gray-500",children:"  ..."})}):N?m.jsx("iframe",{srcDoc:N,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):m.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:m.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),u.type==="static-doc"&&"fileUrl"in u&&m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),m.jsx("iframe",{src:u.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),m.jsx("div",{className:"mt-4 text-center",children:m.jsx("a",{href:u.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),te.type==="doc"&&m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),te.visitorExamplePrompt&&m.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[m.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),m.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',te.visitorExamplePrompt,'"']})]}),xe.length>0&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),m.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:xe.map(ee=>m.jsx("li",{children:ee.label},ee.id))})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!_&&m.jsx(o$,{onSearch:M}),m.jsx("div",{className:"mt-4",children:m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:_,onChange:C,disabled:T,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"font-semibold text-gray-700",children:T?"...  ":"    "})]})})]}),I&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h2",{className:"text-2xl font-bold",children:[" (",p.length,")"]}),p.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(ee=>m.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[m.jsx("img",{src:ee.imageUrl,alt:ee.name,className:"w-full h-48 object-cover"}),m.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:ee.name}),m.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[ee.address.commune,", ",ee.address.wilaya]}),ee.distance!==void 0&&m.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",ee.distance.toFixed(1)," "]}),m.jsx("div",{className:"flex-grow"}),m.jsx(Ot,{to:`/${n}/profile/${ee.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},ee.id))}):m.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:m.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),m.jsx(Ot,{to:`/${n}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})},u$=()=>{const{countryCode:n,docId:e}=zi(),t=hs(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:o,loading:c}=Er(),{t:u}=jn(),[h,p]=A.useState(null),[y,_]=A.useState(!0);A.useEffect(()=>{(async()=>{if(!e)return;if(r.some(xe=>xe.id===e||xe.slug===e)){_(!1);return}_(!0);try{const xe=i.find(j=>j.id===e||j.slug===e)||s.find(j=>j.id===e||j.slug===e),ee=(xe==null?void 0:xe.slug)||e,Z=(xe==null?void 0:xe.countryCode)||n;let K=`https://datas.gitut.com/data/json/documents/${ee}.json`;Z&&Z!=="global"&&(K=`https://datas.gitut.com/data/json/documents/${Z}/${ee}.json`);const ie=await fetch(K);if(ie.ok){const j=await ie.json();p(j)}else console.warn(`Failed to fetch document JSON from ${K}: ${ie.status}`)}catch(xe){console.error("Error fetching document details:",xe)}finally{_(!1)}})()},[e,r,i,s,n]);const v=A.useMemo(()=>{const C=decodeURIComponent(e||"");if(h)return{...h,serviceType:"doc"};const te=r.find(Z=>Z.id===C||Z.slug===C);if(te)return{...te,serviceType:"static-doc"};const xe=s.find(Z=>Z.id===C||Z.slug===C);if(xe)return{...xe,serviceType:"doc"};const ee=i.find(Z=>Z.id===C||Z.slug===C);return ee?{...ee,serviceType:"doc"}:null},[r,i,s,e,h]),T=(o==null?void 0:o.ads.pdfInterstitialTimer)??5,[b,I]=A.useState(T),[S,N]=A.useState(!1),L=A.useRef(null),[z,$]=A.useState(!1),[Y,F]=A.useState({active:!1,format:null}),[R,O]=A.useState(!1),B=A.useMemo(()=>v?v.serviceType==="static-doc"&&v.fileUrl?fi(v.fileUrl):v.serviceType==="doc"&&"previewTemplateUrl"in v&&v.previewTemplateUrl?fi(v.previewTemplateUrl):"#":"#",[v]);A.useEffect(()=>{!c&&!y&&v&&I(T)},[c,y,v,T]),A.useEffect(()=>{const C=te=>{L.current&&!L.current.contains(te.target)&&$(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const W=async C=>{if(!(R||!v||v.serviceType!=="doc"||!C)){O(!0);try{const te=h||v,xe=[te];if(C==="pdf")await xN(xe,v.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(C==="word"){let ee="previewTemplateHtml"in te?te.previewTemplateHtml:"";if(!ee&&"previewTemplateUrl"in te&&te.previewTemplateUrl){const Z=await fetch(fi(te.previewTemplateUrl));Z.ok&&(ee=await Z.text())}if(!ee)throw new Error("Could not load Word template content.");try{const Z=`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>${v.name}</title></head><body>${ee}</body></html>`,K=await R1(Z,{orientation:"portrait",margins:{top:720,right:720,bottom:720,left:720}});if(K)D1.saveAs(K,`${v.slug||"document"}.docx`);else throw new Error("Failed to generate DOCX blob.")}catch(Z){console.error("Error generating DOCX:",Z),alert("   Word.    .")}}}catch(te){console.error("Failed to download document:",te),alert("   .")}finally{O(!1),F({active:!1,format:null})}}};A.useEffect(()=>{if(!(c||y||!v)){if(Y.active)if(b>0){const C=setTimeout(()=>I(te=>te-1),1e3);return()=>clearTimeout(C)}else W(Y.format);else if(!S)if(b>0){const C=setTimeout(()=>I(te=>te-1),1e3);return()=>clearTimeout(C)}else N(!0)}},[b,c,y,v,S,Y]);const D=C=>{$(!1),F({active:!0,format:C}),I(T)},M=()=>{if(!v)return;const C=!v.countryCode||v.countryCode==="global",te=C?"/go-to-site/internal-form":`/${n}/go-to-site/internal-form`,xe=C?`/public-form/${v.slug||v.id}`:`/${n}/public-form/${v.slug||v.id}`;t(te,{state:{targetUrl:xe,siteName:` : ${v.name}`}})};if(c||y)return m.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[m.jsx(Xr,{className:"animate-spin text-4xl text-green-600 mb-4"}),m.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!v)return m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),m.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),m.jsx(Ot,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(S){const C=()=>v.serviceType==="doc"&&"previewTemplateHtml"in v&&v.previewTemplateHtml?m.jsx("iframe",{srcDoc:v.previewTemplateHtml,title:v.name,className:"w-full h-full border-0"}):B!=="#"?m.jsx("iframe",{src:B,title:v.name,className:"w-full h-full border-0"}):m.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:m.jsx("p",{className:"text-gray-600 text-lg",children:u("serviceDetailPage.noPreview")})});return m.jsxs(m.Fragment,{children:[Y.active&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:u("adPage.preparing")}),m.jsx("p",{className:"text-gray-600",children:u("adPage.autoDisplay")}),m.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:R?m.jsx(Xr,{className:"animate-spin"}):b}),m.jsxs("div",{className:"pt-6 border-t",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:u("adPage.adLabel")}),m.jsx(bo,{placement:"PDF_INTERSTITIAL"})]})]})}),m.jsxs("div",{className:"flex h-[85vh] gap-4",children:[m.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[m.jsxs("div",{className:"flex-grow space-y-4",children:[m.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:u("adPage.optionsTitle")}),v.serviceType==="doc"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[m.jsx(sg,{}),m.jsx("span",{children:u("adPage.fillDownload")})]}),m.jsxs("div",{ref:L,className:"relative",children:[m.jsxs("button",{onClick:()=>$(te=>!te),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx($1,{}),m.jsx("span",{children:u("adPage.downloadBlank")})]}),z&&m.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:m.jsxs("ul",{className:"py-1",children:[m.jsx("li",{children:m.jsxs("button",{onClick:()=>D("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[m.jsx(Xg,{className:"text-red-500"}),m.jsx("span",{children:u("adPage.downloadPdf")})]})}),m.jsx("li",{children:m.jsxs("button",{onClick:()=>D("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[m.jsx(G1,{className:"text-blue-500"}),m.jsx("span",{children:u("adPage.downloadWord")})]})})]})})]})]})]}),m.jsx("div",{className:"mt-6 pt-6 border-t",children:m.jsx(bo,{placement:"PROFILE_SIDEBAR"})})]}),m.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:C()})]})]})}return m.jsx("div",{className:"max-w-3xl mx-auto text-center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:u("adPage.preparing")}),m.jsx("p",{className:"text-gray-600",children:u("adPage.autoDisplay")}),m.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:b}),m.jsxs("div",{className:"pt-6 border-t",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:u("adPage.adLabel")}),m.jsx(bo,{placement:"PDF_INTERSTITIAL"})]})]})})},d$=({cafe:n,linkTo:e,linkState:t,isOnline:r})=>{const{t:i}=jn(),s="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",o=n.address.commune&&n.address.wilaya?`${n.address.commune}, ${n.address.wilaya}`:`${n.address.city||""}, ${n.address.state||""}`.replace(/^,|,$/g,"").trim(),c=`/${n.countryCode}/profile/${n.numericId}`;return m.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[m.jsx("img",{src:fi(n.imageUrl)||s,alt:n.name,className:"w-full h-48 object-cover",onError:u=>{u.currentTarget.src=s}}),m.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:n.name}),r!==void 0&&m.jsxs("div",{className:"flex items-center gap-2 mb-2 bg-gray-50 p-1 rounded-md w-fit pr-3",children:[m.jsx("span",{className:`w-3 h-3 rounded-full border border-white shadow-sm transition-colors duration-500 ${r===null?"bg-yellow-400 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),m.jsx("span",{className:"text-xs font-semibold text-gray-700",children:i(r===null?"cafeCard.checkingStatus":r?"cafeCard.online":"cafeCard.offline")})]}),m.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[m.jsx("span",{className:"font-semibold",children:i("cafeCard.owner")})," ",n.owner]}),m.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[m.jsx("span",{className:"font-semibold",children:i("cafeCard.address")})," ",o]}),n.distance!==void 0&&m.jsx("div",{className:"mb-4",children:m.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",n.distance.toFixed(1)," ",i("cafeCard.distanceUnit")]})}),m.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:n.description}),m.jsxs("div",{className:"mt-auto flex gap-2",children:[e?m.jsx(Ot,{to:e,state:t,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:i("cafeCard.chooseThisCafe")}):m.jsx(Ot,{to:c,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:i("cafeCard.viewDetails")}),m.jsx(Ot,{to:c,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:i("cafeCard.startChat"),children:m.jsx(wS,{})})]})]})]})},Ni=n=>n?n.replace(/[]/g,"").replace(//g,"").toLowerCase():"",h$=({cafe:n,linkTo:e,linkState:t})=>{const{usePresence:r}=gb(),{isOnline:i}=r(n.id);return m.jsx(d$,{cafe:n,linkTo:e,linkState:t,isOnline:i})},f$=()=>{const n=An(),e=hs(),{countryCode:t}=zi(),{documents:r,sites:i,communes:s,cafes:o}=Er(),{documentIds:c}=n.state||{documentIds:[]},[u,h]=A.useState(!1),[p,y]=A.useState([]),[_,v]=A.useState(!1),T=A.useMemo(()=>{const C=r.filter(xe=>c.includes(xe.id)).map(xe=>({...xe,serviceType:"doc"})),te=i.filter(xe=>c.includes(xe.id)).map(xe=>({...xe,serviceType:"site"}));return[...C,...te]},[c,r,i]),[b,I]=A.useState([]),[S,N]=A.useState(!1),[L,z]=A.useState(""),[$,Y]=A.useState([]),[F,R]=A.useState(!1);A.useEffect(()=>{t?(y(o),I(o),N(!0)):c.length>0&&h(!0)},[t,o,c]);const O=async C=>{h(!1),v(!0),N(!1),I([]);try{const te=await fetch(`https://datas.gitut.com/data/json/${C}-cafes-public.json`);if(!te.ok)throw new Error("Failed to load cafes for selected country.");const xe=await te.json();y(xe),I(xe),N(!0)}catch(te){console.error(te),alert("       ."),e("/")}finally{v(!1)}},B=A.useMemo(()=>c&&c.length>0?p:[],[c,p]);A.useEffect(()=>{if(!L.trim()){Y([]);return}const C=[],te=[],xe=new Set,ee=Ni(L);if(/^\d+$/.test(L)){const K=parseInt(L,10),ie=B.find(j=>j.numericId===K);ie&&C.push({type:"cafe",data:ie})}B.forEach(K=>{!C.some(ie=>ie.data.id===K.id)&&(Ni(K.name).includes(ee)||Ni(K.owner).includes(ee))&&C.push({type:"cafe",data:K})}),s.forEach(K=>{const ie=`${K.wilaya_name}, ${K.daira_name}, ${K.name}`;xe.has(ie)||(Ni(K.name).includes(ee)||Ni(K.daira_name).includes(ee)||Ni(K.wilaya_name).includes(ee))&&(te.push({type:"commune",data:K}),xe.add(ie))}),Y([...C,...te].slice(0,15))},[L,B,s]);const W=C=>{if(C.preventDefault(),R(!1),!L.trim()){I(B),N(!0);return}const te=Ni(L),ee=/^\d+$/.test(L.trim())?parseInt(L.trim(),10):null,Z=B.filter(K=>ee!==null&&K.numericId===ee||Ni(K.name).includes(te)||Ni(K.owner).includes(te)||K.address.wilaya&&Ni(K.address.wilaya).includes(te)||K.address.daira&&Ni(K.address.daira).includes(te)||K.address.commune&&Ni(K.address.commune).includes(te));I(Z),N(!0)},D=C=>{z(""),R(!1),N(!0);const te=C.type==="cafe"?C.data.countryCode:t||"dz";if(C.type==="cafe")e(`/${te}/form`,{state:{cafeId:C.data.id,selectedDocIds:c}});else if(C.type==="commune"){const xe=B.filter(ee=>ee.address.commune===C.data.name&&ee.address.daira===C.data.daira_name&&ee.address.wilaya===C.data.wilaya_name);I(xe)}},M=C=>{switch(C.type){case"cafe":return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-semibold",children:C.data.name}),m.jsxs("span",{className:"text-xs text-gray-500",children:[C.data.address.commune," -  /"]})]});case"commune":return`${C.data.wilaya_name}, ${C.data.daira_name}, ${C.data.name}`}};return c.length===0?m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),m.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),m.jsx(Ot,{to:`/${t||""}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):u?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"     "}),m.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:pi.ar.map(C=>m.jsx("li",{children:m.jsxs("button",{onClick:()=>O(C.code),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"text-2xl",children:C.flag}),m.jsx("span",{className:"font-semibold",children:C.name})]})},C.code))})]})}):_?m.jsx("div",{className:"flex justify-center items-center p-20",children:m.jsx(Xr,{className:"animate-spin text-4xl text-green-600"})}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[m.jsx(Ot,{to:`/${t||""}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),m.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),m.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:T.map(C=>C.name).join(" ")})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),m.jsxs("form",{onSubmit:W,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(y0,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),m.jsx("input",{type:"text",value:L,onChange:C=>z(C.target.value),onFocus:()=>R(!0),onBlur:()=>setTimeout(()=>R(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),F&&$.length>0&&m.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:$.map((C,te)=>m.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>D(C),children:M(C)},`${C.type}-${C.data.id}-${te}`))})]}),m.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:m.jsx(y0,{className:"h-6 w-6"})})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:S?` (${b.length})`:`      (${B.length})`}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(S?b:B).map(C=>m.jsx(h$,{cafe:C,linkTo:`/${C.countryCode}/form`,linkState:{cafeId:C.id,selectedDocIds:c}},C.id))}),S&&b.length===0&&m.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:m.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]})},X4=()=>{const{countryCode:n,siteId:e}=zi(),t=An(),r=hs(),[i]=uR(),{sites:s,staticDocuments:o,fullDocuments:c,siteSettings:u,loading:h}=Er(),{t:p}=jn(),[y,_]=A.useState(!1),[v,T]=A.useState(!1),[b,I]=A.useState(""),S=A.useMemo(()=>{var te;let W=i.get("redirect");const D=i.get("name");if(W)return n&&W.startsWith("/")&&!W.startsWith(`/${n}/`)&&(W=`/${n}${W}`),{name:D||p("adPage.internalPage"),url:W,isInternal:!0};if((te=t.state)!=null&&te.targetUrl)return{name:t.state.siteName||p("adPage.internalPage"),url:t.state.targetUrl,isInternal:!0};const M=Array.isArray(s)?s.find(xe=>xe.id===e||xe.slug===e):null;if(M)return{...M,isInternal:!1};const C=Array.isArray(o)?o.find(xe=>xe.id===e||xe.slug===e):null;if(C){const xe=C.slug||C.id;let ee="";return C.countryCode&&C.countryCode!=="global"?ee=`https://datas.gitut.com/documents/${C.countryCode}/${xe}.pdf`:ee=`https://datas.gitut.com/documents/${xe}.pdf`,{name:C.name,url:ee,isInternal:!1}}return null},[s,o,e,t.state,i,n,p]),N=A.useMemo(()=>e&&c.find(W=>W.id===e||W.slug===e)||null,[c,e]),L=A.useMemo(()=>n?pi.ar.some(W=>W.code===n):!1,[n]),z=(u==null?void 0:u.ads.pdfInterstitialTimer)??5,[$,Y]=A.useState(z),[F,R]=A.useState(null);A.useEffect(()=>{!h&&S&&S.url!==F&&(Y(z),R(S.url))},[h,S,z,F]),A.useEffect(()=>{if(F&&$>0){const W=setTimeout(()=>Y(D=>D-1),1e3);return()=>clearTimeout(W)}},[$,F,v]);const O=()=>{S!=null&&S.url&&(S.isInternal?r(S.url,{replace:!0}):window.location.href=S.url)},B=async()=>{var D;if(!N)return;let W=((D=t.state)==null?void 0:D.processedHtml)||"";if(!W&&N.finalTemplateHtml)W=N.finalTemplateHtml;else if(!W&&N.finalTemplateUrl)try{const M=await fetch(fi(N.finalTemplateUrl));M.ok&&(W=await M.text())}catch(M){console.error(M)}W?(I(W),Y(z),T(!0)):alert("      .")};return h?m.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[m.jsx(Xr,{className:"animate-spin text-4xl text-green-600 mb-4"}),m.jsx("p",{className:"text-gray-600",children:p("signup.loading")})]}):y?m.jsx(IN,{initialHtml:b,docName:(S==null?void 0:S.name)||"document",onClose:()=>_(!1)}):S?m.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:[L&&m.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-green-50 border border-green-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:m.jsxs("div",{className:"text-green-800 font-amiri leading-loose",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:p("adPage.hadithTitle")}),m.jsxs("p",{className:"text-xl font-medium",children:['"',p("adPage.istighfarContent"),'"']})]})}),m.jsx("div",{className:"max-w-3xl w-full text-center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:p(v?"documentStudioPage.aiCreator.generating":"adPage.preparingLink")}),$>0?m.jsxs("div",{className:"py-8",children:[m.jsx("p",{className:"text-gray-600 mb-4",children:p("adPage.pleaseWait")}),m.jsxs("div",{className:"inline-block relative",children:[m.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[m.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),m.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:351.86,strokeDashoffset:351.86-351.86*$/z,className:"text-green-600 transition-all duration-1000 ease-linear"})]}),m.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:m.jsx("span",{className:"text-4xl font-bold text-green-600 font-mono",children:$})})]})]}):m.jsxs("div",{className:"my-6 animate-fadeIn",children:[m.jsx("p",{className:"text-green-700 font-semibold mb-4",children:p("adPage.linkReady")}),m.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:v?m.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-blue-700 transition-colors shadow-lg transform hover:scale-105",children:[m.jsx("span",{children:p("documentStudioPage.aiCreator.editStudio")}),m.jsx(ig,{})]}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:O,className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:[m.jsx("span",{children:p("adPage.downloadNow")}),m.jsx($1,{})]}),N&&m.jsxs("button",{onClick:B,className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-blue-700 transition-colors shadow-lg transform hover:scale-105",children:[m.jsx("span",{children:p("documentStudioPage.table.edit")}),m.jsx(ig,{})]})]})})]}),m.jsxs("div",{className:"pt-6 border-t",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:p("adPage.adLabel")}),m.jsx(bo,{placement:"PDF_INTERSTITIAL"})]})]})}),L&&m.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-blue-50 border border-blue-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:m.jsxs("div",{className:"text-blue-900 font-amiri leading-loose",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:p("adPage.prayerReminderTitle")}),m.jsx("p",{className:"text-lg mb-2",children:p("adPage.hadithIntro")}),m.jsxs("p",{className:"text-xl font-bold mb-4",children:['"',p("adPage.prayerHadithContent"),'"']}),m.jsx("p",{className:"text-xs text-blue-700",children:p("adPage.prayerHadithSource")})]})})]}):m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:p("serviceDetailPage.serviceNotFound")}),m.jsx("p",{className:"text-gray-600 mb-6",children:p("profilePage.cafeNotFoundMessage")}),m.jsx(Ot,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:p("confirmationPage.backToHome")})]})},SN=()=>{const{t:n}=jn();return A.useEffect(()=>{const e="google-cse-script";if(!document.getElementById(e)){const t=document.createElement("script");t.id=e,t.src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff",t.async=!0,document.head.appendChild(t)}},[]),m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),m.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:n("notFound.title")}),m.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:n("notFound.message")}),m.jsx("div",{className:"my-8 max-w-md mx-auto",children:m.jsx("div",{className:"gcse-search"})}),m.jsx(Ot,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:n("notFound.button")})]})},m$=A.lazy(()=>yt(()=>import("./DashboardLayout-giOFNCaW.js"),[])),p$=A.lazy(()=>yt(()=>import("./DashboardHomePage-BPtStpin.js"),[])),g$=A.lazy(()=>yt(()=>import("./PendingJobsPage-CwmSbQTw.js"),[])),y$=A.lazy(()=>yt(()=>import("./GenerateDocumentPage-BisoFSGQ.js"),[])),_$=A.lazy(()=>yt(()=>import("./SettingsPage-p9rVOcvS.js"),[])),v$=A.lazy(()=>yt(()=>import("./MultiPersonJobPage-CaNe55FY.js"),[])),w$=A.lazy(()=>yt(()=>import("./BillingPage-DmX86okt.js"),[])),b$=A.lazy(()=>yt(()=>import("./FillSitePage-Bu6b1jDR.js"),__vite__mapDeps([0,1]))),T$=A.lazy(()=>yt(()=>import("./ClientsPage-DWA0w7G4.js"),__vite__mapDeps([2,1]))),E$=A.lazy(()=>yt(()=>import("./StaticDocViewerPage-CMBdf4Fa.js"),[])),x$=A.lazy(()=>yt(()=>import("./CafeChatPage-CdRwvtWn.js"),[])),I$=A.lazy(()=>yt(()=>import("./ExcelStudioPage-DaKEGR97.js"),[])),S$=A.lazy(()=>yt(()=>import("./DocumentStudioPage-YvNZn2Nh.js"),[])),C$=A.lazy(()=>yt(()=>import("./AdminLoginPage-BATO9VPK.js"),[])),P$=A.lazy(()=>yt(()=>import("./AdminDashboardLayout-DdRjAEL8.js"),[])),k$=A.lazy(()=>yt(()=>import("./AdminDashboardHomePage-BpoUw6xe.js"),[])),A$=A.lazy(()=>yt(()=>import("./AdminUsersPage-DA1VU5ct.js"),[])),N$=A.lazy(()=>yt(()=>import("./AdminBillingPage-Dd_Ax9tr.js"),[])),R$=A.lazy(()=>yt(()=>import("./AdminSettingsPage-BPVJYye3.js"),[])),D$=A.lazy(()=>yt(()=>import("./AdminSeoPage-fFqWyOAN.js"),[])),F$=A.lazy(()=>yt(()=>import("./AdminPagesPage-CbzXfqFd.js"),__vite__mapDeps([3,4,5]))),L$=A.lazy(()=>yt(()=>import("./AdminAdsPage-C0S-g8Jb.js"),[])),O$=A.lazy(()=>yt(()=>import("./AdminBlogPage-DK1hiDPi.js"),__vite__mapDeps([6,4,5]))),M$=A.lazy(()=>yt(()=>import("./AdminDataPage-C3xaOqwf.js"),__vite__mapDeps([7,8,9,10,11,5,12,13,14]))),V$=A.lazy(()=>yt(()=>import("./AdminSitesPage-4v4Q1CpN.js"),__vite__mapDeps([15,4]))),j$=A.lazy(()=>yt(()=>import("./AdminDocumentsPage-CwP5ozAn.js"),__vite__mapDeps([16,4,5]))),B$=A.lazy(()=>yt(()=>import("./AdminDocumentStudioPage-CMydIN1r.js"),[])),z$=A.lazy(()=>yt(()=>import("./AdminStaticDocsPage-B8ToITfO.js"),__vite__mapDeps([17,4]))),U$=A.lazy(()=>yt(()=>import("./AdminBaseTemplatesPage-Bwwz2WKh.js"),__vite__mapDeps([18,4]))),W$=A.lazy(()=>yt(()=>import("./AdminExcelCommandsPage-DB1MVdry.js"),[])),H$=A.lazy(()=>yt(()=>import("./AdminDocumentCommandsPage-DDfmUBWD.js"),[])),$$=A.lazy(()=>yt(()=>import("./AdminChatPage-B4soW7lr.js"),[])),G$=A.lazy(()=>yt(()=>import("./AdminJsonFilesPage-B94P_cx9.js"),__vite__mapDeps([8,9]))),q$=A.lazy(()=>yt(()=>import("./AdminSitemapsPage-B87Imd5q.js"),[])),K$=A.lazy(()=>yt(()=>import("./AdminStaticServicesPage-DT0SJgfI.js"),__vite__mapDeps([11,5,9]))),Q$=A.lazy(()=>yt(()=>import("./AdminStaticBlogPage-CoLLjF3L.js"),__vite__mapDeps([12,5,9]))),Y$=A.lazy(()=>yt(()=>import("./AdminStaticContentPage-fitrNIEK.js"),__vite__mapDeps([13,5,9]))),J$=A.lazy(()=>yt(()=>import("./AdminCodesPage-CLd04-Ce.js"),[])),X$=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[m.jsx(Xr,{className:"animate-spin text-4xl text-green-600 mb-4"}),m.jsx("p",{className:"text-gray-500 animate-pulse",children:"  ..."})]}),Z$=()=>{const{pathname:n}=An();return A.useEffect(()=>{window.scrollTo(0,0)},[n]),null},eG=()=>{const{user:n,loading:e}=Ca(),t=A.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:n?{user:{email:n.email},credits:n.credits}:null};window.postMessage(r,"*")},[n,e]);return A.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&t()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[t]),A.useEffect(()=>{t()},[t]),null},tG=()=>{const{countryCode:n}=zi(),e=A.useMemo(()=>pi.en.map(t=>t.code),[]);return n&&/^[a-z]{2}$/.test(n)&&e.includes(n)?m.jsx(D5,{}):m.jsx(SN,{})},nG=()=>{const{user:n,loading:e}=Ca(),{error:t}=Er(),{t:r}=jn(),i=An(),s=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),o=s?s[1]:null;if(t)return m.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"py-1",children:m.jsx(bS,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:r("app.error.title")}),m.jsx("p",{className:"text-sm",children:r("app.error.message")}),m.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:t}})]})]})})});if(e)return m.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:m.jsx(Xr,{className:"animate-spin text-4xl text-green-600"})});const c=i.pathname.startsWith("/admin");if(n&&n.countryCode&&o&&n.countryCode!==o&&!c){const _=i.pathname.replace(`/${o}`,`/${n.countryCode}`);return m.jsx(su,{to:_,replace:!0})}const u=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(i.pathname),h=/^\/admin\/app\/document-studio/.test(i.pathname),y=u||h?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return m.jsx("main",{className:y,children:m.jsx(A.Suspense,{fallback:m.jsx(X$,{}),children:m.jsxs(L5,{children:[m.jsx(et,{path:"/",element:m.jsx(Y4,{})}),m.jsx(et,{path:"/admin/login",element:m.jsx(C$,{})}),m.jsxs(et,{path:"/admin/app",element:m.jsx(rG,{children:m.jsx(P$,{})}),children:[m.jsx(et,{index:!0,element:m.jsx(k$,{})}),m.jsx(et,{path:"users",element:m.jsx(A$,{})}),m.jsx(et,{path:"billing",element:m.jsx(N$,{})}),m.jsx(et,{path:"settings",element:m.jsx(R$,{})}),m.jsx(et,{path:"seo",element:m.jsx(D$,{})}),m.jsx(et,{path:"pages",element:m.jsx(F$,{})}),m.jsx(et,{path:"ads",element:m.jsx(L$,{})}),m.jsx(et,{path:"blog",element:m.jsx(O$,{})}),m.jsx(et,{path:"data",element:m.jsx(M$,{})}),m.jsx(et,{path:"data/json",element:m.jsx(G$,{})}),m.jsx(et,{path:"data/sitemaps",element:m.jsx(q$,{})}),m.jsx(et,{path:"data/services",element:m.jsx(K$,{})}),m.jsx(et,{path:"data/blog",element:m.jsx(Q$,{})}),m.jsx(et,{path:"data/content",element:m.jsx(Y$,{})}),m.jsx(et,{path:"data/codes",element:m.jsx(J$,{})}),m.jsx(et,{path:"sites",element:m.jsx(V$,{})}),m.jsx(et,{path:"documents",element:m.jsx(j$,{})}),m.jsx(et,{path:"document-studio",element:m.jsx(B$,{})}),m.jsx(et,{path:"base-templates",element:m.jsx(U$,{})}),m.jsx(et,{path:"static-docs",element:m.jsx(z$,{})}),m.jsx(et,{path:"excel-commands",element:m.jsx(W$,{})}),m.jsx(et,{path:"document-commands",element:m.jsx(H$,{})}),m.jsx(et,{path:"chat",element:m.jsx($$,{})})]}),m.jsx(et,{path:"/public-form/:docId",element:m.jsx(J4,{})}),m.jsx(et,{path:"/go-to-site/:siteId",element:m.jsx(X4,{})}),m.jsx(et,{path:"/login",element:m.jsx(su,{to:"/dz/login",replace:!0})}),m.jsx(et,{path:"/signup",element:m.jsx(su,{to:"/dz/signup",replace:!0})}),m.jsx(et,{path:"/app/*",element:m.jsx(su,{to:"/",replace:!0})}),m.jsxs(et,{path:"/:countryCode",element:m.jsx(tG,{}),children:[m.jsx(et,{index:!0,element:m.jsx(Y4,{})}),m.jsx(et,{path:"profile/:numericId",element:m.jsx(qH,{})}),m.jsx(et,{path:"form",element:m.jsx(XH,{})}),m.jsx(et,{path:"public-form/:docId",element:m.jsx(J4,{})}),m.jsx(et,{path:"confirmation/:jobId",element:m.jsx(n$,{})}),m.jsx(et,{path:"page/:slug",element:m.jsx(a$,{})}),m.jsx(et,{path:"service/:type/:id",element:m.jsx(c$,{})}),m.jsx(et,{path:"view/:docId",element:m.jsx(u$,{})}),m.jsx(et,{path:"go-to-site/:siteId",element:m.jsx(X4,{})}),m.jsx(et,{path:"find-cafe",element:m.jsx(f$,{})}),m.jsx(et,{path:"login",element:m.jsx(r$,{})}),m.jsx(et,{path:"signup",element:m.jsx(s$,{})}),m.jsxs(et,{path:"app",element:m.jsx(iG,{children:m.jsx(BH,{children:m.jsx(m$,{})})}),children:[m.jsx(et,{index:!0,element:m.jsx(p$,{})}),m.jsx(et,{path:"pending-jobs",element:m.jsx(g$,{})}),m.jsx(et,{path:"generate",element:m.jsx(y$,{})}),m.jsx(et,{path:"excel-studio",element:m.jsx(I$,{})}),m.jsx(et,{path:"document-studio",element:m.jsx(S$,{})}),m.jsx(et,{path:"settings",element:m.jsx(_$,{})}),m.jsx(et,{path:"multi-person-job",element:m.jsx(v$,{})}),m.jsx(et,{path:"billing",element:m.jsx(w$,{})}),m.jsx(et,{path:"fill-site/:siteId",element:m.jsx(b$,{})}),m.jsx(et,{path:"clients",element:m.jsx(T$,{})}),m.jsx(et,{path:"view-pdf/:docId",element:m.jsx(E$,{})}),m.jsx(et,{path:"chat",element:m.jsx(x$,{})})]})]}),m.jsx(et,{path:"*",element:m.jsx(SN,{})})]})})})},rG=({children:n})=>{const{admin:e}=pb();return e?m.jsx(m.Fragment,{children:n}):m.jsx(su,{to:"/admin/login",replace:!0})},iG=({children:n})=>{const{user:e,loading:t}=Ca(),{countryCode:r}=zi();return t?m.jsx("div",{className:"flex justify-center items-center h-screen",children:m.jsx(Xr,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?m.jsx(su,{to:`/${r||"dz"}/login`,replace:!0}):m.jsx(m.Fragment,{children:n})},sG=()=>m.jsx(NH,{children:m.jsx(LH,{children:m.jsx(sR,{children:m.jsx(OH,{children:m.jsxs(WH,{children:[m.jsx(VH,{}),m.jsx(Z$,{}),m.jsx(eG,{}),m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[m.jsx(FH,{}),m.jsx(nG,{}),m.jsx(MH,{})]})]})})})})}),CN=document.getElementById("root");if(!CN)throw new Error("Could not find root element to mount to");const aG=B3.createRoot(CN);aG.render(m.jsx(la.StrictMode,{children:m.jsx(sG,{})}));export{xN as $,Cq as A,_h as B,Xg as C,bo as D,VG as E,IG as F,AG as G,NG as H,ZG as I,cq as J,SH as K,Ot as L,Hn as M,aR as N,D5 as O,qg as P,qG as Q,la as R,Ql as S,rn as T,aq as U,_G as V,zE as W,fi as X,Fq as Y,pu as Z,iu as _,Er as a,eK as a$,BE as a0,_N as a1,IS as a2,xS as a3,Dq as a4,OR as a5,l8 as a6,Ke as a7,zS as a8,uq as a9,ES as aA,GG as aB,$G as aC,tK as aD,zG as aE,OG as aF,sq as aG,yG as aH,iq as aI,$H as aJ,PG as aK,MR as aL,WG as aM,nq as aN,jG as aO,UG as aP,nK as aQ,cG as aR,_p as aS,ZW as aT,ig as aU,YG as aV,Jq as aW,Xq as aX,qq as aY,$q as aZ,tq as a_,Mo as aa,Y1 as ab,J1 as ac,kS as ad,Yt as ae,Ar as af,pa as ag,Zr as ah,yi as ai,wa as aj,Sq as ak,Rq as al,Yq as am,vS as an,_S as ao,oq as ap,MG as aq,HG as ar,dG as as,Mq as at,Lq as au,IH as av,jq as aw,FG as ax,Hq as ay,BG as az,gb as b,RR as b0,H1 as b1,Zq as b2,$4 as b3,rK as b4,pb as b5,Cn as b6,wS as b7,RG as b8,eq as b9,Qg as bA,LG as bB,SG as bC,fG as bD,QG as bE,wG as bF,KG as bG,i_ as bH,kq as bI,yS as bJ,cN as bK,uG as bL,L1 as bM,M3 as bN,F1 as bO,U4 as bP,Wq as bQ,q4 as bR,Gq as bS,tH as bT,Kq as bU,zq as bV,W4 as bW,lq as ba,Oq as bb,Aq as bc,Nq as bd,xG as be,Vq as bf,rq as bg,Bq as bh,Hr as bi,Uq as bj,pi as bk,yH as bl,Pq as bm,Iq as bn,bG as bo,vG as bp,k1 as bq,_H as br,oN as bs,K4 as bt,On as bu,lN as bv,CG as bw,JG as bx,EG as by,mG as bz,DG as c,G1 as d,bS as e,kR as f,Qq as g,ag as h,Xr as i,m as j,$1 as k,An as l,jn as m,pG as n,TG as o,hs as p,zi as q,A as r,gG as s,XG as t,Ca as u,y0 as v,TS as w,hG as x,NR as y,kG as z};
